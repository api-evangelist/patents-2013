---

title: Secured cryptographic communication system
abstract: According to an embodiment, a communication apparatus includes a finding unit; a negotiating unit; and a communicating unit. The finding unit is configured to, in response to a request from an application that makes use of key information, find out a key generating device that generates the key information. The negotiating unit is configured to perform a negotiation operation with respect to the key generating device to determine conditions for key information that is to be generated. The communicating unit is configured to receive, from the key generating device, the key information that is generated based on the conditions determined in the negotiation operation, and send the received key information to the application.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09049012&OS=09049012&RS=09049012
owner: Kabushiki Kaisha Toshiba
number: 09049012
owner_city: Tokyo
owner_country: JP
publication_date: 20130307
---
This application is based upon and claims the benefit of priority from Japanese Patent Application No. 2012 176209 filed on Aug. 8 2012 the entire contents of which are incorporated herein by reference.

An embodiment described herein relates generally to a communication apparatus a communication method a COMPUTER READABLE MEDIUM and a communication system.

Regarding quantum cryptographic communication a research project called SECOQC which stands for Secure Communication based on Quantum Cryptography is known. In SECOQC a function is proposed for performing key exchange on the basis of random numbers that are generated by means of quantum key distribution QKD and that are dispersedly stored in a plurality of nodes as well as a technology is proposed for a protocol named Q3P which stands for Quantum Point to Point .

The QKD technique is one of the techniques for achieving sophistication in the next generation communication security and the security of the QKD service itself is an important factor. Thus for example QKD is a breakthrough technology that can provide an absolutely secure communication environment.

However the new type of communication technology such as QKD has a different technological principle than the communication networks or the communication services that already exist and are in use. Hence it becomes necessary to design a new system compatible to the new communication technology and it is not easy to apply that new system to the existing communication networks or the existing communication systems. In this way if a new system that is designed for secure communication is to be applied to an existing communication network then the differences in the technological principles and the configurations requires making alterations in existing terminals.

According to an embodiment a communication apparatus includes a finding unit a negotiating unit and a communicating unit. The finding unit is configured to in response to a request from an application that makes use of key information find out a key generating device that generates the key information. The negotiating unit is configured to perform a negotiation operation with respect to the key generating device to determine conditions for key information that is to be generated. The communicating unit is configured to receive from the key generating device the key information that is generated based on the conditions determined in the negotiation operation and send the received key information to the application.

An exemplary embodiment of a communication apparatus will be described in detail below with reference to the accompanying drawings.

With the advancement of technology and computers evolution is occurring in the encryption methods implemented in cryptographic communication and the methods for generating keys that are used in encryption. In that regard it is often the case that in many of the current systems the applications are updated in entirety.

Moreover as far as performing cryptographic communication is concerned a study is underway regarding a system for providing advanced cryptographic communication. In that a service system which particularly provides encryption keys key information is configured independent of cryptographic communication of data. is a diagram illustrating an exemplary network configuration of such a cryptographic communication system.

The cryptographic communication system illustrated in includes nodes to and includes the applications and . Each of the nodes to has the function of generating and sharing a random number with opposite nodes as well as has the function of performing cryptographic communication over a link by using a random number as an encryption key. The node and the node are connected to each other by a link that represents a cryptographic communication network while the node and the node are connected to each other by a link that represents a cryptographic communication network.

However in the cryptographic communication system illustrated in too the encryption keys provided by an encryption key generating service are dependent on the encryption method implemented by the applications. For that reason in order to achieve evolution into a new cryptographic system eventually the updating needs to be done including the applications. Also without making changes in the existing cryptographic communication it is difficult to allow the use of encryption keys which are provided by an encryption key generating service in the existing cryptographic communication. Thus advanced methods of using the encryption keys have not come into popular use thereby making it difficult to apply the development in the cryptographic technology to a system. The same is true of the case of using cryptographic communication for node authentication or user authentication.

In that regard in the embodiment a method is provided that makes it possible to apply an encryption key generating service to an existing system and that makes it possible to use updated encryption keys in the cryptographic communication performed by applications. With that the development in the cryptographic communication technology can be promptly applied to the cryptographic communication and to the existing applications that perform cryptographic communication. As a result it is possible to achieve definite enhancement in the security of communication.

The applications to are interconnected via a network which corresponds to cryptographic communication links that make use of the application key illustrated in . The nodes and are connected to a network that constitutes an encryption key generating service. The network corresponds to the links and illustrated in .

When there is no need to distinguish between the nodes and they are sometimes simply referred to as nodes . Similarly when there is no need to distinguish between the applications to they are sometimes simply referred to as applications . Moreover when there is no need to distinguish between the additional modules to they are sometimes simply referred to as additional modules .

The number of nodes is not limited to two and the number of applications as well the number of additional modules is not limited to four. As described later the configuration can be such that the application and the additional module are disposed in an integrated manner in the same communication apparatus. Alternatively the configuration can be such that the application and the additional module are disposed independent of each other in the same communication apparatus. Still alternatively the configuration can be such that the additional module can be disposed in a device communication apparatus that is physically different from the device in which the application is disposed. Moreover the device communication apparatus in which the application and the additional module are disposed can either be installed in an integrated manner with the node or be installed as a terminal independent of the node . In the following explanation the communication apparatus that includes the application is sometimes simply referred to as the application .

In the embodiment as illustrated in modules the additional modules are provided to be added to the existing applications that perform cryptographic communication. Each additional module has the functions of finding out an encryption key generating service performing secure communication with the encryption key generating service and negotiating with the encryption key generating service about keys.

With such a configuration with no or minimal modifications thereto the existing application becomes able to receive the encryption key generating service via the additional module . For example if the additional module as well as the encryption key generating service has the functions mentioned above then even in a service such as the existing application that performs cryptographic communication it becomes easier to adopt updated and powerful encryption keys provided by an advanced encryption key generating service or to adopt an updated and powerful cryptographic communication method.

The finding unit finds out in response to a request from the application which uses encryption keys the node that generates key information encryption keys .

For example prior to performing cryptographic communication the application starts a key exchange protocol for the purpose of generating an encryption key that is to be used during the cryptographic communication. In such a case in which the application makes use of a specific key exchange protocol at the time of starting cryptographic communication the additional module detects the activation of the key exchange protocol i.e. detects a request for generating an encryption key and starts using the encryption key generating service.

When the activation of the key exchange protocol is detected the finding unit of the additional module firstly searches for the encryption key generating service. For example the finding unit establishes connection with a network that uses the dynamic host configuration protocol DHCP and searches for a server the node that provides the encryption key generating service using the DHCP. More particularly at the time of obtaining an IP address which is used in the network via the DHCP the finding unit obtains server information of the encryption key generating service as part of the information of a service server provided in the network. With that the finding unit can find out the server the node that generates the encryption key generating service.

The method of finding out the encryption key generating service the node implemented by the finding unit is not limited to the method mentioned above. Alternatively for example the finding unit sends broadcast packets for the purpose of searching for the encryption key generating service and the encryption key generating service the node responds to the broadcast packets. With that the encryption key generating service is found. In this type of configuration for example the responding unit of the node is used. For example when the broadcast packets sent by the finding unit are received the responding unit sends a response to the additional module indicating that the corresponding node provides the encryption key generating service.

The additional module obtains an encryption key by making use of the encryption key generating service that has been found. At that time the additional module needs to perform secure communication with the encryption key generating service and obtain a reliable encryption key.

In that regard the verifying unit verifies the validity of the encryption key generating service that has been found. Then with the node that the verification is successful the verifying unit establishes secure communication. For example in the case of using the encryption key generating service on the global Internet the additional module and the encryption key generating service the node are registered in advance with a reliable certificate authority. Then the verifying unit uses a public key and performs two way authentication with the encryption key generating service i.e. with the verifying unit of the node . Similarly the verifying unit also performs two way authentication with the verifying unit .

Thus the verifying unit confirms the validity of the encryption key generating service using two way authentication as well as performs if necessary encryption key settings for the purpose of keeping further communication with the encryption key generating service confidential. In the case of using a commonplace service such as the cloud service it is desirable to take such a measure.

In contrast in the case when the encryption key generating service is provided on the premise of a closed and limited environment it is possible to implement a simpler method. For example by confirming that direct communication is possible at the Ethernet registered trademark level the verifying unit can determine that the encryption key generating service the node is present in a reliable physical network to which the application is connected. In the case when the application and the encryption key generating service the node are installed at a physically secure location equipped with an intrusion prevention mechanism it is possible to implement a verification method that makes use of the intrusion prevention mechanism. For example the verifying unit verifies the validity of the node by confirming whether or not the intrusion prevention mechanism is properly functioning. For example after the previous cryptographic communication session is over if it can be confirmed that nobody has intruded into the location having the intrusion prevention mechanism or that no person without authority has entered the room the verifying unit determines that the encryption key generating service the node is reliable.

Moreover concurrently with the authentication operation the verifying unit can also perform the operation of confirming the presence or absence of the security function supported by the encryption key generating service the node which is the other side of communication or the security function supported by the application . For example the verifying unit notifies the application as well as the node about what type of encryption protocol can be used for the traffic between the application and the encryption key generating service the node . In case no encryption protocol is available that can ensure the requested security the verifying unit can consider it as authentication failure.

Meanwhile the security function to be confirmed is not limited to the function mentioned above. For example it is also possible to confirm the presence or absence of the security function the data encryption function supported by the operating system OS of the encryption key generating service which is the other side of communication or the OS of the application. In case the other side of communication is such that the encryption technique data encryption function that can ensure the requested security is not available the verifying unit can consider it as authentication failure.

Such a confirmation operation of confirming the presence of absence of the security function at the other side of communication need not be performed only concurrently with the authentication operation. For example the confirmation operation can be performed concurrently with for example the operation performed by the finding unit for finding out the service.

In this way once the confirmation of a reliable encryption key generating service the node as well as the confirmation of a reliable communication method with the encryption key generating service is complete the additional module obtains an encryption key from the encryption key generating service. To enable that the negotiating unit performs a negotiation operation with respect to the node to determine encryption key conditions that are to be generated. Similarly the negotiating unit of the node performs the negotiation operation with respect to the negotiating unit of the additional module .

In the negotiation operation the negotiating unit notifies the encryption key generating service notifies the negotiating unit of the node about the necessary encryption key conditions. Then the generating unit of the node generates an encryption key that satisfies the encryption key conditions determined in the negotiation operation and provides that encryption key to the additional module .

The encryption key conditions are the conditions that affect the generation of encryption keys. For example as the encryption key conditions it is possible to use the length of a random number that is used as an encryption key as an example throughput such as 1 Mbps indicating the bit length of the random number usable per unit time the address IP address of the other side of cryptographic communication and the encryption method.

The encryption method can be specified using the supported encryption and or the authentication algorithm and using the information about the key length of the encryption key used by that algorithm. For example the encryption method can be notified as AES 128 CBC AES 256 CBC or DES EDE3 . In the case of an encryption method in which the encryption keys are periodically exchanged the updating frequency of encryption keys for example updating interval 60 minutes can also be specified as one of the encryption key conditions.

Meanwhile the method of describing the encryption key conditions is determined in advance. Furthermore the manner of mutually exchanging the encryption key conditions is also determined in advance. For example when the encryption key conditions are provided from the additional module a response is given about whether or not the encryption key generating service the node is available. If the encryption key generating service the node is not available the negotiating unit can implement the method of resending a query to the encryption key generating service the node . In that case it becomes possible to simplify the protocol design or the function design. However in this method there is a possibility that the additional module takes time to find out the encryption key conditions that can be generated in the encryption key generating service.

In that regard instead of sending back the notification about the service not being available the encryption key generating service the node can be configured to send back the encryption key conditions that the node can generate. In that case although the encryption key generating service the node needs to have a function of expanding the encryption key conditions it becomes increasingly likely that a conclusion about encryption key negotiation is reached in a short amount of time.

Meanwhile at the time of starting the negotiation operation the encryption key generating service the node can be configured to present the maximal encryption key condition that can be generated to the additional module . With that the additional module becomes able to propose easy and appropriate encryption key conditions to the application for receiving the encryption key generating service. In this case although there may arise a need to equip the additional module with the function of performing advanced condition adjustment such as setting the encryption key conditions from among the proposed encryption key conditions according to the specification of the application it becomes increasingly likely that a conclusion about encryption key negotiation is reached in a short amount of time. In this way by providing a function or a protocol for negotiating the encryption key conditions it becomes possible for the additional module and the encryption key generating service the node to negotiate about the required encryption key.

The communicating unit establishes connection with a key generating device that the verification is successful. Moreover the communicating unit performs communication with external devices such as the application and the other node . For example from the node the communicating unit receives the encryption key that is generated by the generating unit based on the encryption key conditions which are determined according to the negotiation operation and sends the application key to the application .

Meanwhile the constituent elements of the additional module as well as the node can be implemented by running computer programs in a processing unit such as a central processing unit CPU that is can be implemented using software or can be implemented using hardware such as an integrated circuit IC or can be implemented using a combination of software and hardware.

By providing such functions even in the existing application or an existing service that performs cryptographic communication it becomes easier to adopt updated and powerful encryption keys provided by an advanced encryption key generating service or to adopt an updated and powerful cryptographic communication method.

Explained below with reference to is a communication operation performed in the communication system that is configured in the manner described above according to the embodiment. is a sequence diagram illustrating an example of the communication operation according to the embodiment.

The application starts the preparation for performing cryptographic communication Step S . For example the application starts the key exchange protocol that is to be used in cryptographic communication.

The finding unit of the additional module detects the start of the preparation for performing cryptographic communication and sends a service search message Step S . Herein the service search message is for example is a broadcast packet as mentioned above. In it is illustrated that the service search message is sent to the node . However in practice the broadcast packets are sent also to other devices.

The responding unit of the node receives the service search message and sends a response i.e. sends a service search result response Step S .

If no response is received then for example the finding unit notifies the application of the fact that no response is received. When the response is received the verifying unit of the additional module performs two way authentication with the verifying unit of the node . That is the verifying unit sends data for two way authentication to the node that has been found Step S . Then the verifying unit of the node sends data for two way authentication to the additional module that is the data source Step S .

If the two way authentication fails in verifying the validity of the node then for example the verifying unit notifies the application about the fact that authentication has failed. When the validity is verified the negotiating unit of the additional module performs the negotiation operation with respect to the negotiating unit of the node . For example the negotiating unit sends service conditions and key conditions to the negotiating unit of the node Step S . The service conditions point to the conditions other than the encryption key conditions that are required while using a key generating service. For example the service conditions include the other side of communication the network to be used and the communication speed.

The negotiating unit of the node receives the service conditions and the key conditions and sends service data that satisfies the service conditions and sends key data that satisfies the key conditions to the additional module Step S . The service data points to for example the data indicating specific settings for satisfying the service conditions. For example the service data includes the address of the other side of communication the data representing the network to be used and the value of communication speed. The key data points to for example the data that contains the encryption key which is generated according to the encryption key conditions that have been determined.

The communicating unit of the additional module sends the service data and the key data to the application Step S . With that the application becomes able to make use of the encryption key that satisfies the key conditions and start the cryptographic communication that satisfies the service conditions. That is the application starts the cryptographic communication using the received encryption key Step S . Moreover the additional module starts generating the encryption keys which are to be used in cryptographic communication with the node Step S .

At the time of ending the cryptographic communication the application notifies the additional module about ending the cryptographic communication Step S . Then the additional module issues a request to the node for ending the encryption key generating service Step S . Upon receiving the request to end the encryption key generating service the node stops providing the encryption key generating service to the additional module and notifies the additional module about the same Step S . Then the additional module notifies the application about the end in the encryption key generating service Step S . That marks the end of the communication operation.

The additional module is provided for example by the encryption key generating service side. With that it becomes possible to effectively implement the various functions described above.

The additional module can be provided in various forms. For example the configuration can be such that the functions of the additional module are included in a device that is independent of the device in which the application runs. For example the configuration can be such that a device including the functions of the additional module is inserted in the middle of a cable that connects the device in which the application runs to a communication network.

In this case with little or no change and effect in the device in which the application runs a wider application range can be achieved for using the encryption key generating service. However on the other hand it becomes necessary to develop an independent device on the side of providing the encryption key generating service and it becomes necessary for the user to purchase that device. Hence such a configuration may find it difficult to become popular.

The relay unit relays data that is communicated between the application and the node . The traffic monitoring unit monitors the traffic of the data being relayed and determines the necessary timing for starting the encryption key generating service. For example in the case when the data being relayed represents the start of operations of the key exchange protocol the traffic monitoring unit determines that it is necessary to start the encryption key generating service. Then the traffic monitoring unit issues a request to the finding unit of the additional module for finding out the encryption key generating service.

Meanwhile instead of having the additional module as a device independent of the application the additional module can be designed and developed as a driver for managing a connection module of the communication network and as a module software library running on an OS. However in that case the environment of the device in which the application is running affects the design of the additional module . On the other hand the method of implementation or the reduction in cost becomes easier.

If it becomes possible to provide the additional module as a library the development and the popularization of the additional module becomes easier. In this case too the environment of the device in which the application is running affects the additional module and each application needs to be altered so as to be able to use the library. However if the application substitutes for the existing function of performing key exchange and is made alterable by means of modifying an application programming interface API with the aim of using the library then the alteration can be performed more easily.

When the additional module is configured as a library the application needs to perform library calling library API calling for calling the library of the additional module . For that it becomes necessary to alter the application .

Even in the case when the additional module is configured as a driver the application may need to perform a system call for calling the driver the additional module . However for example there is also a possibility that based on the system call information for the application the necessary encryption key generating service can be executed in the additional module without the application having to explicitly perform a system call . Hence in the case when the additional module is configured as a driver a smaller amount of alternations in the application may serve the purpose as compared to the case when the additional module is configured as a library.

In this way in the communication apparatus according to the embodiment a new encryption key generating service can be used in an existing application that performs cryptographic communication. Moreover the cryptographic communication performed by an existing application can be improved in terms of security without difficulty.

Explained below with reference to is a hardware configuration of the communication apparatus according to the embodiment. is an explanatory diagram for explaining a hardware configuration of the communication apparatus according to the embodiment.

The communication apparatus according to the embodiment includes a control device such as a CPU memory devices such as a read only memory ROM and a random access memory RAM a communication I F that performs communication by establishing a connection with a network and a bus that interconnects the other constituent elements.

The computer programs for example the additional module configured as a driver or a library that are executed in the communication apparatus according to the embodiment are stored in advance in the ROM .

Alternatively the computer programs that are executed in the communication apparatus according to the embodiment can be recorded in the form of installable or executable files in a computer readable recording medium such as a compact disk read only memory CD ROM a flexible disk FD a compact disk readable CD R or a digital versatile disk DVD .

Still alternatively the computer programs that are executed in the communication apparatus according to the embodiment can be saved as downloadable files on a computer connected to the Internet or can be made available for distribution through a network such as the Internet.

Meanwhile the computer programs that are executed in the communication apparatus according to the embodiment contain a module for each of the abovementioned constituent elements to be implemented in a computer. In practice for example the CPU reads the computer programs from a computer readable memory medium and runs them such that the computer programs are loaded in a main memory device. As a result the module for each of the abovementioned constituent elements is generated in the computer.

While certain embodiments have been described these embodiments have been presented by way of example only and are not intended to limit the scope of the inventions. Indeed the novel embodiment described herein may be embodied in a variety of other forms furthermore various omissions substitutions and changes in the form of the embodiment described herein may be made without departing from the spirit of the inventions. The accompanying claims and their equivalents are intended to cover such forms or modifications as would fall within the scope and spirit of the inventions.

