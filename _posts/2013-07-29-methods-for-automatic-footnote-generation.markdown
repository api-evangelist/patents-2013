---

title: Methods for automatic footnote generation
abstract: A method includes accessing a document and generating a ranking score for each of a plurality of passages from external documents. The ranking score is based at least on a degree of semantic similarity of each passage with respect to a portion of the document. The method also includes modifying the document to include a footnote link for the portion of the document, the footnote link including a link to the external document having the highest ranked passage therein, if the ranking score of the highest ranked passage with respect to the portion of the document exceeds a threshold value. The document is not modified to include the footnote link for the portion of the document if the ranking score of the highest ranked passage with respect to the portion of the document does not exceed a threshold value.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09514113&OS=09514113&RS=09514113
owner: GOOGLE INC.
number: 09514113
owner_city: Mountain View
owner_country: US
publication_date: 20130729
---
The disclosure herein relates generally to modifying documents to include links to external information.

When reading a non fiction document a reader may often wonder about the reliability of statements made by an author. In formal writing authors typically include footnotes that identify primary sources such as research papers or books that provide support for statements of fact.

In many documents that are available via the internet authors make statements of fact without identifying a source of reliable information that supports the statement. These documents include for example encyclopedia pages blogs news articles advocacy group web pages and responses on answer forums. Thus readers are not provided with a convenient source of information with which to verify the statements made in the document.

One aspect of the disclosed embodiments is a method that includes accessing at one or more computing devices a document. The method also includes generating using the one or more computing devices a ranking score for each of a plurality of passages from external documents. The ranking score is based at least on a degree of semantic similarity of each passage with respect to a portion of the document. The method also includes modifying using the one or more computing devices the document to include a footnote link for the portion of the document the footnote link including a link to the external document having the highest ranked passage therein if the ranking score of the highest ranked passage with respect to the portion of the document exceeds a threshold value. The document is not modified to include the footnote link for the portion of the document if the ranking score of the highest ranked passage with respect to the portion of the document does not exceed a threshold value.

Another aspect of the disclosed embodiments is a non transitory storage medium including program instructions executable by one or more processors that when executed cause the one or more processors to perform operations. The operations include accessing at one or more computing devices a document generating using the one or more computing devices a ranking score for each of a plurality of passages from external documents wherein the ranking score is based at least on a degree of semantic similarity of each passage with respect to a portion of the document and modifying using the one or more computing devices the document to include a footnote link for the portion of the document the footnote link including a link to the external document having the highest ranked passage therein if the ranking score of the highest ranked passage with respect to the portion of the document exceeds a threshold value wherein the document is not modified to include the footnote link for the portion of the document if the ranking score of the highest ranked passage with respect to the portion of the document does not exceed a threshold value.

Another aspect of the disclosed embodiments is an apparatus that includes one or more processors and one or more memory devices for storing program instructions used by the one or more processors. The program instructions when executed by the one or more processors cause the one or more processors to access at one or more computing devices a document generate using the one or more computing devices a ranking score for each of a plurality of passages from external documents wherein the ranking score is based at least on a degree of semantic similarity of each passage with respect to a portion of the document and modify using the one or more computing devices the document to include a footnote link for the portion of the document the footnote link including a link to the external document having the highest ranked passage therein if the ranking score of the highest ranked passage with respect to the portion of the document exceeds a threshold value wherein the document is not modified to include the footnote link for the portion of the document if the ranking score of the highest ranked passage with respect to the portion of the document does not exceed a threshold value.

In order to verify statements of fact made in an online document a reader might navigate to a search engine formulate a search query and then browse the results generated by the search engine. This solution is not ideal because formulating a query at the right level of specificity is difficult and the user may need to try multiple queries. In addition finding relevant passages in the results returned by the search engine can be time consuming. The systems and methods described herein are directed to automatic footnote generation in online documents. Using the systems and methods described herein some of the statements made in online documents are automatically annotated with links to relevant external documents that include passages that support or dispute the statement. In the systems and methods herein statements in the document are compared to passages from external documents to determine a degree of semantic similarity between each statement and the passages from external documents. The statements can be annotated by adding links to one or more of the passages. In some implementations a determination is made for each statement as to whether or not it should be annotated. In some implementations ranking is applied to the passages from the external documents to determine which of the external documents should be referenced in a footnote link. The ranking applied to the passages can be based on for example semantic similarity authoritativeness and or recency of the passages.

The systems services servers and other computing devices described herein are in communication via a network . The network can be one or more communications networks of any suitable type in any combination including wireless networks wired networks local area networks wide area networks cellular data networks and the internet.

The annotation system provides an annotation service to the user system . In some implementations all of the operations described herein with respect to automatically generating footnotes and annotating an online document are performed at the annotation system . In other implementations some of the operations described herein are performed at the annotation system and the other operations are performed at the user system .

Each server computer can include memory such as a random access memory device RAM . Any other suitable type of storage device can be used as the memory . The memory can include code and data that can be accessed by the CPU using a bus . The memory can further include one or more application programs and an operating system . The application programs can include software components in the form of computer executable program instructions that cause the CPU to perform the operations and methods described herein.

A storage device can be optionally provided in the form of any suitable computer readable medium such as a hard disc drive a memory device a flash drive or an optical drive. One or more input devices such as a keyboard a mouse or a gesture sensitive input device receive user inputs and can output signals or data indicative of the user inputs to the CPU . One or more output devices can be provided such as a display device . The display device such as liquid crystal display LCD or a cathode ray tube CRT allows output to be presented to a user for example in response to receiving a video signal.

Although depicts the CPU and the memory of each server computer as being integrated into a single unit other configurations can be utilized. The operations of the CPU can be distributed across multiple machines each machine having one or more of processors which can be coupled directly or across a local area or other network. The memory can be distributed across multiple machines such as network based memory or memory in multiple machines. Although depicted here as a single bus the bus of each server computer can be composed of multiple buses. Further the storage device can be directly coupled to the other components of the respective server computer or can be accessed via a network and can comprise a single integrated unit such as a memory card or multiple units such as multiple memory cards. The one or more server computers can thus be implemented in a wide variety of configurations.

The identifying and ranking operation is performed with respect to a subject document . The subject document can be any type of document. As an example the subject document can be a webpage that is encoded in hypertext markup language HTML . The subject document can be accessed for example by the one or more server computers of the annotation system . As one example the one or more server computers of the annotation system can access the subject document by receiving the subject document from the user system . As another example the one or more server computers of the annotation system can access the subject document by receiving the subject document from an external server computer via the network which can be the internet. As another example the one or more server computers of the annotation system can access the subject document by receiving the subject document from a storage device that is associated with the one or more server computers .

The subject document can be divided into a plurality of document portions each of which are subjected to the identifying and ranking operation . In one example the document portions are sentences. In this example the subject document can be divided into the document portions by parsing the text contained within the subject document identifying individual document portions based on delimiters such as punctuation and then storing the delimited portions of the subject document as the document portions .

Each document portion is received as an input at a matching component . As an example the matching component can be implemented in the form of software that is executed by the one or more server computers of the annotation system . The matching component is operable to access a repository of external documents and identify a plurality of passages from the external documents that are relevant to the document portion . The matching component identifies the passages from the external documents based on relevance or similarity of the passages with respect to the document portion . In particular the matching component can implement a search function that is based on any of a variety of well known search algorithms to identify the passages . As an example the passages can be identified using a subset of words from the document portion as an input for a search function or by using an entirety of the document portion as an input for the search function.

In one implementation the matching component implements a semantic search algorithm that identifies the passages based on semantic similarity between the document portion and the passages . By way of example the matching component can incorporate or utilize a search engine that indexes the external documents and assesses their relevance relative to the document portion . For each of the external documents that the matching component identifies as being relevant the portions thereof that are relevant such as by way of semantic similarity to the document portion are extracted as the passages . By way of example the passages can be one or more sentences or paragraphs from the external documents . In examples where the document portions are sentences semantic similarity can be assessed by comparing the entirety of the document portion i.e. the entirety of the sentence to the passages .

The document portion and the passages are provided as inputs to a ranking component . The ranking component generates a ranking score for each of the passages . The ranking score for each passage is based at least in part on semantic similarity of the document portion and the respective one of the passages . For example the ranking component can assess semantic similarity by parsing each of the document portion and the passages to identify concepts conveyed in each apply a numerical relatedness score to pairs of the concepts where each pair includes a concept from the document portion and a concept from one of the passages and subsequently generating a semantic relatedness score based on the scores assigned to concept pairs. Other algorithms can be utilized to determine semantic relatedness. The ranking scores are based at least in part on the semantic relatedness score. In addition the rankings can be based on an authoritativeness rating for the external document from which each passage was extracted and or an author related with the external documents . As an example the authoritativeness rating can be calculated using an algorithm similar to the PageRank algorithm as described in The Anatomy of a Large Scale Hypertextual Web Search Engine by Sergey Brin and Lawrence Page Computer Networks and ISDN Systems 33 107 17 1998. The ranking score can be further based on a recency score such as one based on the time elapsed since of creation or modification of the respective one of the external documents from which the passage was extracted. In one example the ranking score can be computed as a weighted average of the semantic similarity score the authoritativeness score and the recency score.

In the document modification operation the subject document and the ranking scores are provided as inputs to a modification component . For each document portion of the subject document the modification component makes a determination as to whether to annotate the respective document portion of the subject document by insertion of a footnote link for the document portion .

In one implementation the modification component modifies each document portion of the subject document to include a footnote link to the highest ranked passage from the external documents based on the rankings .

In another implementation the modification component accesses the ranking score for the highest ranked passage from the external documents . The modification component compares the ranking score for the highest ranked one of the passages to a threshold value. If the ranking score exceeds the threshold value the subject document is modified to include a footnote link for the document portion . For example in an HTML document a hyperlink can be inserted within or adjacent to the document portion where the hyperlink references a URL corresponding to the external document in which the passage can be found. As another example the footnote link can include a pop up interface element that is displayed within the context of the document and shows the passage while giving the user the option to navigate to the external document in which the passage can be found. For example in an HTML document this can be done by modifying the HTML document and including code portions therein that cause display of the interactive pop up element such as JavaScript code. The foregoing implementations are given as examples and it should be understood that other types of footnote links can be implemented. If the ranking score for the highest ranked one of the passages does not exceed the threshold value the subject document is not modified to include the footnote link for the document portion .

In some implementations the document modification operation is performed at the one or more server computers of the annotation service . In such an implementation a copy of a subject document is made at the annotation service . A subject document is modified at the annotation service and a modified document is transmitted from the annotation service to the user system .

In other implementations the document modification operation is performed at the user system . As an example the document modification operation can be implemented by software that is executed at the user system such as by way of a plug in for a web browser software program. In one implementation the subject document can be received at the user system the rankings are received by a transmission of the ranking scores from the one or more server computers of the annotation service and the modification component is executed at the user system with respect to a copy of the subject document that is present at the user system to produce the modified document at the user system . In another implementation the subject document can be received at the user system the rankings are utilized by the one or more server computers of the annotation service to generate information describing one or more document modifications and the information describing the one or more document modification operations is transmitted to the user system . The information describing the one or more document modification operations when executed by the modification component at the user system causes the user system to annotate the subject document to produce the modified document .

At operation a subject document is received. As an example the subject document can be received at the one or more server computers of the annotation service .

At operation document portions are extracted from the subject document. As an example the document portions can be extracted from the subject document by operations such as text parsing. In some implementations the document portions are sentences that can be extracted by analysis of the text contained within the subject document including delimiters such as punctuation.

At operation external documents are matched to the document portion. As previously explained external documents can be matched to the document portion based on relevance such as a degree of semantic similarity between the external documents and the document portion. By way of example the matching component can match the external documents to the document portion to identify relevant passages from the external documents as previously described.

At operation the passages from the documents identified at operation are ranked. As an example a ranking component can rank the passages based on multiple factors including at least a degree of semantic similarity between the document portion and the passages as previously described with respect to the ranking component . As previously discussed the output of operation can be the ranking scores for the passages .

At operation a determination is made as to whether a threshold is satisfied by the rankings for the passages as ranked in operation . For example the ranking scores that were generated by the ranking component can be compared to a threshold as discussed in connection with the modification component . If the threshold is satisfied the process continues to operation where the document is modified to include a footnote link. This can be performed in the manner discussed in connection with the modification component for example by inserting the footnote link into a copy of the subject document to generate the modified document .

Subsequent to modification of the document at operation or if the threshold was not satisfied at operation the process continues to operation . At operation a determination is made as to whether more document portions are contained within the subject document with respect to which the automated annotation process has not yet been performed. If more document portions exist for analysis the process returns to operation . If all of the document portions have been analyzed the process ends.

The foregoing description describes only some exemplary implementations of the described techniques. Other implementations are available. For example the particular naming of the components capitalization of terms the attributes data structures or any other programming or structural aspect is not mandatory or significant and the mechanisms that implement the invention or its features may have different names formats or protocols. Further the system may be implemented via a combination of hardware and software as described or entirely in hardware elements. Also the particular division of functionality between the various system components described herein is merely exemplary and not mandatory functions performed by a single system component may instead be performed by multiple components and functions performed by multiple components may instead performed by a single component.

The words example or exemplary are used herein to mean serving as an example instance or illustration. Any aspect or design described herein as example or exemplary is not necessarily to be construed as preferred or advantageous over other aspects or designs. Rather use of the words example or exemplary is intended to present concepts in a concrete fashion. As used in this application the term or is intended to mean an inclusive or rather than an exclusive or . That is unless specified otherwise or clear from context X includes A or B is intended to mean any of the natural inclusive permutations. That is if X includes A X includes B or X includes both A and B then X includes A or B is satisfied under any of the foregoing instances. In addition the articles a and an as used in this application and the appended claims should generally be construed to mean one or more unless specified otherwise or clear from context to be directed to a singular form. Moreover use of the term an embodiment or one embodiment or an implementation or one implementation throughout is not intended to mean the same embodiment or implementation unless described as such.

The implementations of the computer devices e.g. clients and servers described herein can be realized in hardware software or any combination thereof. The hardware can include for example computers intellectual property IP cores application specific integrated circuits ASICs programmable logic arrays optical processors programmable logic controllers microcode microcontrollers servers microprocessors digital signal processors or any other suitable circuit. In the claims the term processor should be understood as encompassing any of the foregoing hardware either singly or in combination. The terms signal and data are used interchangeably. Further portions of each of the clients and each of the servers described herein do not necessarily have to be implemented in the same manner.

Operations that are described as being performed by a single processor computer or device can be distributed across a number of different processors computers or devices. Similarly operations that are described as being performed by different processors computers or devices can in some cases be performed by a single processor computer or device.

Although features may be described above or claimed as acting in certain combinations one or more features of a combination can in some cases be excised from the combination and the combination may be directed to a sub combination or variation of a sub combination.

The systems described herein such as client computers and server computers can be implemented using general purpose computers processors with a computer program that when executed carries out any of the respective methods algorithms and or instructions described herein. In addition or alternatively for example special purpose computers processors can be utilized which can contain specialized hardware for carrying out any of the methods algorithms or instructions described herein.

Some portions of above description include disclosure presented in terms of algorithms and symbolic representations of operations on information. These algorithmic descriptions and representations are the means used by those skilled in the data processing arts to most effectively convey the substance of their work to others skilled in the art. These operations while described functionally or logically are understood to be implemented by computer programs. Furthermore it has also proven convenient at times to refer to these arrangements of operations as modules or by functional names without loss of generality. It should be noted that the process steps and instructions of implementations of this disclosure could be embodied in software firmware or hardware and when embodied in software could be downloaded to reside on and be operated from different platforms used by real time network operating systems.

Unless specifically stated otherwise as apparent from the above discussion it is appreciated that throughout the description discussions utilizing terms such as processing or computing or calculating or determining or displaying or the like refer to the action and processes of a computer system or similar electronic computing device that manipulates and transforms data represented as physical electronic quantities within the computer system memories or registers or other such information storage transmission or display devices.

At least one implementation of this disclosure relates to an apparatus for performing the operations herein. This apparatus may be specially constructed for the required purposes or it may comprise a general purpose computer selectively activated or reconfigured by a computer program stored on a computer readable storage medium that can be accessed by the computer.

All or a portion of the embodiments of the disclosure can take the form of a computer program product accessible from for example a non transitory computer usable or computer readable medium. The computer program when executed can carry out any of the respective techniques algorithms and or instructions described herein. A non transitory computer usable or computer readable medium can be any device that can for example tangibly contain store communicate or transport the program for use by or in connection with any processor. The non transitory medium can be for example any type of disk including floppy disks optical disks CD ROMs magnetic optical disks read only memories ROMs random access memories RAMs EPROMs EEPROMs magnetic or optical cards application specific integrated circuits ASICs or any type of media suitable for tangibly containing storing communicating or transporting electronic instructions.

It is to be understood that the disclosure is not to be limited to the disclosed embodiments but on the contrary is intended to cover various modifications and equivalent arrangements included within the spirit and scope of the appended claims.

