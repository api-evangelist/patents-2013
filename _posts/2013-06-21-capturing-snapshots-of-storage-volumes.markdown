---

title: Capturing snapshots of storage volumes
abstract: A method and apparatus for capturing a snapshot of storage volumes of a data capture group are disclosed. In the method and apparatus, a request to create a data capture group may be received and processed. The data capture group may have one or more storage volumes. Upon defining the data capture group, a snapshot of the storage volumes of the data capture group may be taken.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09417815&OS=09417815&RS=09417815
owner: Amazon Technologies, Inc.
number: 09417815
owner_city: Seattle
owner_country: US
publication_date: 20130621
---
The use of network computing and storage has proliferated in recent years. The resources for network computing and storage are often provided by computing resource providers who leverage large scale networks of computers servers and storage drives to enable clients including content providers online merchants and the like to host and execute a variety of applications and web services. The content providers and online merchants who traditionally used on site servers and storage equipment to host their websites and store and stream content to their customers often forego on site hosting and storage and turned to using the resources of the computing resource providers. The usage of network computing allows content providers and online merchants among others to efficiently and adaptively satisfy their computing needs whereby the computing and storage resources used by the content providers and online merchants are added or removed from a large pool provided by a computing resource provider as need and depending on their needs.

Further it is often important for the clients of a computing resource provider to be able to capture their data that is stored in a large scale network and used by a variety of servers and hosts. For example an organization may retain data for the purpose of being able to revert a system to a previous state. In addition modern computer systems often utilize multiple storage volumes. Different volumes may be used for different types of data and or to provide redundancy.

In the following description various embodiments will be described. For purposes of explanation specific configurations and details are set forth in order to provide a thorough understanding of the embodiments. However it will also be apparent to one skilled in the art that the embodiments may be practiced without the specific details. Furthermore well known features may be omitted or simplified in order not to obscure the embodiment being described.

Techniques described and suggested herein relate to creating a data capture group having one or more storage volumes and capturing the one or more storage volumes of the data capture group. In an embodiment a user may receive a request from a user to create a data capture group. The request may include descriptive information associated with the data capture group. A management service receives the request to create a data capture group and causes a command for creating an entry for the data capture group to be issued. In some embodiments and after creating the data capture group the management service may receive a request to capture a snapshot of the storage volumes of the data capture group where a snapshot or a capture of the data capture group is a representation of a data set stored by the volume s in the data capture group at a moment in time. Upon receiving the request to capture a snapshot of the storage volumes the management service may cause a command for capturing the data of the storage volumes to be issued. Upon issuing the command for capturing the data of the storage volumes the data of the storage volumes may be captured and stored in a destination storage service. In one embodiment the snapshot data of the storage volumes of the data capture group may be stored as one or more homogeneous bodies or as one or more data objects in a storage service. The location of where the one or more homogeneous bodies or one or more data objects are stored may be indicated in the descriptive information or in the request for capturing the data capture group. In another embodiment the snapshot of each storage volume of the data capture group may be stored in a uniquely addressable location of the storage service.

The descriptive information of the data capture group may include an identity associated with a storage volume of the data capture group an identity associated with a host of the storage volume or an identity associated with a load balancer where the association between the load balancer and one or more storage volumes of a data capture group may be indirect though the hosts referenced by the load balancer. The descriptive information may also an indication of whether a unified snapshot or a transient snapshot is sought or an indication of whether a reference snapshot or a delta snapshot is sought. The descriptive information may also include an identity of a destination storage service in which the captured data may be stored a retention period the duration of which the snapshot data is to be retained in the storage service or a restoration location to which the snapshot data is to be stored when requested.

In another embodiment the management service may receive a request modify the data capture group. The request to modify the data capture group may originate from a user. The request to modify the data capture group may be directed to the addition or removal of storage volumes from the data capture group. The request to modify the data capture group may also be directed to modifying the descriptive information associated with the data capture group including the retention time the destination storage service and the like.

In an embodiment the management service may determine the identity of one or more storage volumes of the data capture group based on the descriptive information. In other words in some embodiments the descriptive information may not explicitly identify the volumes in an associated data capture group but the descriptive information is used to determine which set of volumes is in the data capture group where the set may dynamically change over time. In some examples the management service may identify the one or more storage volumes based on the identity or function of a host of the one or more storage volumes or the identity or function of a load balancer servicing a host of the one or more storage volumes. Generally the descriptive information may identify a characteristic of one or more volumes that is used to determine which volume s is are in the data capture group.

In another embodiment the management service may receive a request to restore the captured data. The request may for instance specify the captured data to be restored by an identifier associated with a data capture group. The request to restore the captured data may also include an indication of a location to which the captured data is to be restored. In yet another embodiment the location to which the captured data is to be restored may be specified in the descriptive information. The snapshot of the storage volumes of the data capture data may be restored as one or more homogeneous bodies or one or more data objects that individually or collectively represent the captured snapshot. Alternatively the snapshot of each storage volume of the data capture group may be restored to an individual or independent restoration location. The location s to which the snapshot is restored may be specified as part of the descriptive information or in the request to restore the data capture group.

In another embodiment the management service may receive a request to delete a captured snapshot. The request to delete the captured snapshot may include an identity associated with the captured snapshot. Upon receiving the request to delete the captured snapshot the management service may determine whether the snapshot that is requested to be deleted serves as the basis or a reference for a delta snapshot discussed below. The management service may further cause a command for deleting the captured snapshot from a storage service to be issued. The deleted snapshot may be that which is captured of one or more volumes of the data capture group or alternatively the deleted snapshot may be which is captured of all the volumes of the data capture group.

In network computing and storage network resources for data processing and data storage are available to users and subscribers for performing their computing needs. The network resources may be used for a variety of functions such as web related functions. For example the network computing resources may be used as computing platforms for running hosts such as email or web servers whereas the network storage resources may be used for storing data used by the hosts for example web content used by the web server or archived emails used by the email server or other general purpose data. Because the data processing and data storage resources are network based the user s computing and storage platform are decentralize and the user is provided with the flexibility to add additional processing and storage resource dynamically as needed by borrowing or renting resources from a provider of network computing and storage resources. Further the user is provided with the flexibility to remove existing resource as the user s demand for the resources declines.

Regardless of where data storage resources are located in a network or where the data is stored it is often important to capture a snapshot of the stored data and store the snapshot in a back up location. Capturing the data and storing a copy of the data may be performed for back up redundancy regulatory purposes and the like. The data snapshot is may be retained for a period of time for example a predefined period of time or indefinitely and may be accessed at a later time as need arises.

The network may of any type such as the Internet an intranet or an Internet service provider ISP network. The computing resource service provider comprises a plurality of hosts . . . singularly referred to hereinafter as host and collectively referred to hereinafter as hosts and a plurality of storage volumes . . . singularly referred to hereinafter as storage volume and collectively referred to hereinafter as storage volumes . Each storage volume may utilize the storage resources of one or more storage devices not shown such as hard disks with spinning magnetic media or solid state drives. Further the storage devices implementing a single storage volume may comprise multiple different types of storage devices e.g. hard disks with spinning magnetic media or solid state drives. The storage devices may be part of or connected to the same network or different networks and may have the same or different types of storage or the same or different manufacturers. A storage device may be dedicated to a particular storage volume or shared among one or more storage volumes .

As described herein the computing resource service provider enables the processing and storage of data by providing computing and storage resource to the user . The host may be a virtual computer system that uses computational resource provided by the computing resource service provider . The host may be associated with one or more storage volumes and a storage volume may be associated with one or more hosts . For example host is associated with three storage volumes and storage volume is associated with two hosts .

Further one or more of the hosts and one or more of the storage volumes may be utilized by the user . In the example illustrated in the user utilizes two hosts and five storage volumes to utilize the services of the computing resource service provider . The five storage volumes of the user may be captured and stored in a storage service for back up or any other purpose. The data of the captured storage volumes may be retained in the storage service for a period of time or indefinitely and may be later restored to the storage volumes or to another storage space.

To enable capturing data from storage volumes the user may define or specify the storage volumes to be captured and other metadata or descriptive information associated with the capturing of the storage volumes and may initiate the capturing of the storage volumes by issuing an application programming interface API function call to the computing resource service provider . Initiation of the capturing may also occur pursuant to an automated process such as a process of the customer or computing resource service provider that issues API function calls according to one or more triggers such as the passage of a specified amount of time a number of write operations an amount of new data written among others. The computing resource service provider may cause the storage volumes that are specified by the user to be captured and to be stored in the storage service . The storage volumes may be captured regardless of whether they use the storage resources of one storage device or plurality of storage devices as described herein.

In an embodiment the host provides computational resources on which applications may run. The host may use dedicated hardware such as a central processing unit CPU a random access memory RAM buses a memory controller and the like to enable the execution of applications. Alternatively the host may utilize a virtual computing platform whereby applications that are executed on the virtual computing platform and decoupled from an underlying hardware using virtualization. In a virtual computing environment hardware used for computing may be distributed over a network instead of being localized. Virtualization allows hardware components that are distributed over a network to be consolidated and used to provide computing platforms for multiple hosts . A computing resource service provider may construct a network of hardware components that are situated in multiple locations. Further the computing resource service provider may utilize a virtualization layer that allows each host to run on a shared pool of computational resources. As a result of virtualization the distributed computational resources upon which the host is run appear as a unified computing system.

Each host may be used to provide computational resources for a particular service or application of the user . For example a first host may be a web server for the user and may deliver web content to the user s customers whereas a second host may be an application host and may provide web content to customers utilizing mobile devices to access the network .

As described herein a host may store data in one or more storage volumes . For example the first host stores data in storage volumes and the second host stores data in storage volumes . The storage volumes may be remote e.g. across a network from the hosts and communication between a host and a storage volume may utilize one or more appropriate protocols such as an Internet Small Computer System Interface iSCSI . Storage volumes may also be added or disassociated from a host dynamically or as needed by the host and as provisioned by the computing resource service provider . The storage volumes may utilize the storage resources of storage devices that are part of or connected to the same network or different networks.

In addition each storage volume may be associated with a volume identity ID which may be a logical identity or the storage volume may be identified based on the host that uses the storage volume or the function performed by the host that uses the storage volume . For example storage volumes may be identified as being the storage volumes used by the first host or as being the storage volumes used by the web server when the first host is a web server. The flexibility in identifying the storage volumes of the user allows for ease of identification of the storage volumes for which the user seeks to capture a snapshot. Identifiers may also be unique in a set of storage volumes such as all storage volumes provided as a service and or all storage volumes associated with the customer. Uniquely identifying the storage volumes independently of their physical location in a network allows for capturing data relevant to the user regardless of the host that uses the storage volumes .

In addition to providing virtual computing resources for the hosts the computing resource service provider may also include an on demand storage service and an archival storage service where a snapshot of the data of captured storage volumes may be stored as described with reference to .

The virtual computing service provides a virtual computing platform on which hosts such as hosts described with reference to may execute applications. The block data storage service of the computing resource service provider is a storage service that may include various storage volumes and may be distributed across multiple networks. The block data storage service provides users and hosts with the capability to store data on a network.

The on demand storage service and the archival storage service of the computing resource service provider are further types of storage services provided by the computing resource service provider . The on demand storage service and the archival storage service may be used to store snapshots of data on the block data storage service . The on demand storage service and the archival storage service may differ in access time reliability and cost. For example data stored in the on demand storage service may be more readily available to the user than the archival storage service and may have a lower retrieval or access time than data stored in the archival storage service . However due to the desirable features of the on demand storage service the on demand storage service may have a higher cost per storage unit than the archival storage service or a higher cost per read or write than the archival storage service .

Other virtual computing service may also be part of the computing resource service provider which may provide additional computation resources for the users .

In order to facilitate capturing storage volumes that are used by multiple hosts and that are disposed across one or more networks the block data storage service may include a management service that is responsible for receiving and processing requests for capturing or snapshotting storage volumes and for causing the execution of capturing snapshots of storage volumes and storing the snapshots in a storage service. Further the block data storage service may include metadata storage for storing descriptive information about the storage volumes to be captured as described with reference to .

The block data storage service also includes a service interface . The service interface enables the block data storage service to communicate and to be connected with the virtual computing service such as the virtual computing service described with reference to upon which hosts may be executed. Like the user the functions of the service may be executed on a virtual machine.

The block data storage service includes a management service metadata storage and a block device network substrate . The block device network substrate is the underlying hardware of the storage volumes and the block device network substrate may comprise one or more magnetic storage disks solid state storage drives and the like. The block device network substrate may be partitioned into one or more storage volumes for use by the user or the user s hosts.

Data that is snapshot from storage volumes of the block device network substrate may be stored in an on demand storage service an archival storage service or a customer storage service . In the example of the computing resource storage service includes an on demand storage service and an archival storage service and accordingly communication between the block data storage service and the on demand storage service and the archival storage service is performed via the service interface . The customer storage service resides at the customer and may be on premise and accordingly connectivity between the block data storage service and the customer storage service is performed via the customer interface .

The user may have one or more hosts and one or more storage volumes that utilize the resources of the computing resource service provider. The management service facilitates capturing a snapshot of storage volumes independently of the physical storage location of the storage volumes and also across one or more hosts that utilize the storage volumes. In contrast to other systems where the host is used to manage capturing a snapshot of the storage volumes and where only the storage volumes that are used by the host may be snapshot the management service enables capturing a snapshot of multiple storage volumes that are used by one or more hosts and that reside on one or more storage devices.

The user may define a data capture group for capturing a snapshot of storage volumes. The data capture group specifies one or more volumes that are relevant to the user or that the user seeks to capture. The user may send descriptive information associated with the data capture group to the management service of the block data storage service . The descriptive information may specify the storage volumes to be captured. The storage volumes may be specified using a volume ID of the storage volumes an identity of a host using the storage volumes to be captured or the services performed by the host using the storage volumes e.g. a web server or an application host . In some embodiments and as described herein the storage volumes may also be identified by using an identity or a function associated with a load balancer that services the hosts of the storage volumes.

The descriptive information may also specify the destination storage service in which the captured or snapshot storage volumes are to be stored for example the on demand storage service the archival storage service or an on premise customer storage service . The descriptive information may also include the duration or length of time the data is to remain in the destination storage service. After the expiration of the duration or length of time the data is to remain in the destination storage service the data will be erased from storage service.

In addition the descriptive information may also include an identity or an address associated of which the snapshot data is to be restored when requested. In some embodiments the descriptive information may include a periodicity of snapshot capturing or a rate of snapshot capturing. The rate of snapshot capturing may define the number of snapshots per period of time the user seeks to be captured for example one snapshot per day or two snapshots per hour. The periodicity specifies a period of time the maximum of which should not expire before snapshot capturing for example thirty minutes. If the descriptive information does not include a periodicity or rate then a snapshot of the data may be captured upon request.

The descriptive information may also include an indication as to whether the desired snapshot is a delta snapshot or a reference snapshot. A delta snapshot requires a reference snapshot in order for the delta snapshot to be constructed. The delta snapshot represents a difference in data between the snapshot and another data set for example a previously captured reference snapshot or both a previously captured delta snapshot and a reference snapshot. A reference snapshot may be a complete set of captured data and does not requires other captured data in order to be recovered. A reference and delta snapshot are analogous to a Moving Picture Experts Group MPEG encoded I frame and P frame respectively.

The descriptive information may also include an indication of whether a unified snapshot or a transient is sought. A unified snapshot is a snapshot that is initiated while a storage volume is in a non transient state which may be while input and output operations are ceased to the storage volume. When input and output operations to the storage volumes are ceased input and output operations are also ceased to the storage devices whose resource are used by the storage volumes. A transient snapshot however may be initiated while data is read from or written to the storage volume. As recognized by those skilled in the art upon retrieval a transient snapshot may require processing before being used. For example before usage the transient snapshot may be verified to ensure data consistency or requisite checks may be performed on the transient snapshot to ensure that the data may be used.

The user may send a request to create or define a data capture group to the management service . The request includes the descriptive information indicating the storage volumes to be captured. The management service receives and processes the request to define the data capture group and stores the descriptive information associated by the request in the metadata storage . The management service may create an identity or a name for the data capture group and may use the name to associate the descriptive information with the data capture group defined by the user . In an embodiment the user defines the identity or name of the data capture group and sends the identity or name to the management service . The name may be sent together with or as part of the request to create or define the data capture group e.g. using the API function call used to create or define the data capture group or in a separate message or API function call. The management service may use the name provided by the user to associate the descriptive information of the data capture group in the metadata storage .

After creating of the data capture group the management service may receive requests for capturing storage volumes of the data capture group. The management service uses the descriptive information held in the metadata storage for identifying the storage volumes to be snapshot and for managing the storage of the snapshot in a storage service and the potential retrieval of the snapshot from the storage service and placement of the retrieved snapshot.

The metadata storage of the block data storage service is advantageous in that it holds descriptive information associated with data capture groups regardless of the location in a network of the storage volumes defined by the descriptive information or the hosts using the storage volumes. The usage of the management service and the metadata storage is in contrast to other systems where due to the absence of these entities the creation data capture groups and the capturing and storage of storage volumes defined by the data capture groups is not feasible.

Upon receiving a request to capture the storage volumes the management service causes the storage volumes to be captured for example by calling an API function or sending a message to the one or more hosts associated with the storage volumes requesting that a snapshot of the storage volumes be captured. Further the management service may send a message or cause a function call to be sent to the block device storage substrate requesting that a snapshot of the storage volumes be captured and to the management service or a storage service.

As described herein the management service may identify the storage volumes to be captured using the request or the descriptive information held in the metadata storage . Before causing the data of the storage volumes to be captured the management service may prepare the storage volumes for snapshotting by ceasing input and output operations or read and write operations to the storage volumes. To cease read and write operations to the storage volumes the management service may instruct the hosts using the storage volumes to suspend the operations. However as described herein instead of capturing the storage volumes in a steady state ceasing the read and write operations may be forgone and a snapshot of one or more storage volumes in a transient state may be captured.

Upon receiving the request to create the data capture group the management service identifies the purpose of the request and retrieves the descriptive information from the request. The management service instructs the metadata storage to create an entry for the data capture group. The entry may include a portion of or all of the descriptive information as formatted or processed by the management service . The entry for the data capture group may also include additional information other than that which is included in the descriptive information.

After the request is received and processed the management service sends a notification to the user indicating that the data capture group has been defined. The notification may be routed by the block data storage service to the user via the customer interface. The user then receives the notification indicating the data capture group has been defined . The user may receive the notification as a message or alert on the portal used to send the request to create the data capture group. In an embodiment where the descriptive information did not include a name associated with the data capture group the notification may also include an identity or a name for the data capture group.

In another embodiment the descriptive information provided by the user for defining the data capture group may include identifying information for a storage volume other than a volume ID. For example storage volumes may be defined by the name or functionality of their associated host for example the user s web server application server or both. Instead of including in the descriptive information the volume IDs of the storage volumes associated with either server the descriptive information may instead specify the host utilizing the storage volumes. Accordingly the descriptive information may specify the storage volumes as the volumes of the application server or the volumes of the web server.

To identify the storage volume IDs the management service may query the service . The management service may provide the service with the identity of the host associated with the storage volumes and may receive in return the volume ID of the storage volumes. Further in the event that the descriptive information identified the host by the functionality the host provides to the user the management service may query the service to identify the volumes IDs associated with the host that provide the particular function to the user . For example the management service may request the identification of the storage volumes used by the email server or the application server of the user . Similarly the management service may query the service to identify the volume ID used by the hosts of a particular load balancer. Alternatively based on the descriptive information the management service may query the block device network substrate a host or the user in order to identify the storage volumes that are requested to be captured.

Upon defining the data capture group the data of the storage volumes may be captured as described with reference to . shows a flow diagram of an example method for capturing a unified snapshot of a data capture group. In the example method for capturing a unified snapshot of a data capture group a management service such as described herein with reference to receives a request to capture a snapshot of a data capture group whereby the request identifies the data capture group. The request may be received from a user . The request may identify the data capture group by a data capture group name storage volume IDs host identity or functionality or load balancer identity or functionality. The management service then identifies the storage volumes to be captured based on the request and proceeds to capture a snapshot of the storage volumes. To ensure that a unified snapshot is taken the management service causes input and output operations to the storage volumes to be suspended to paused . The management service may instruct one or more hosts of a particular volume to suspend input and output operations to the storage volume. After the input and output operations are paused the management service initiates capturing the snapshot . The management service detects that snapshot capturing is complete for example after waiting for a period of time and notifies the user that snapshot capturing is complete .

After snapshot capturing is completed the snapshot is sent to a storage service where a copy of the snapshot will be held for future retrieval. The management service may instruct the storage service to retain the captured snapshot for a duration of time. The management service may receive the captured snapshot from the storage volumes and send the captured snapshot to the storage service or alternatively the management service may instruct the storage volumes to send the captured snapshot to the storage service directly. The captured snapshot may be stored as one or more homogeneous bodies or as one or more data objects that individually or collectively represent the captured snapshot. The management service may indicate to the storage service the location or locations of where the one or more homogeneous bodies or one or more data objects are to be stored. As another example the storage service may independently determine the storage locations. Alternatively the snapshot of each storage volume of the data capture group may be individually or in an independent location.

As described herein a snapshot may be captured while input and output operations are suspended also referred to herein as a unified snapshot or a consistent snapshot . Alternatively the snapshot may be captured regardless of whether input and output operations are performed to the storage volumes. When a consistent snapshot is taken the management service may identify the one or more hosts that read and write data to the storage volumes and instruct the one or more hosts to cease input and output operations while the pertinent data is captured.

In an embodiment the one or more hosts may each use a command queue in which instructions that are slated for execution by the one or more hosts are prioritized. Prioritizing the instructions in the command queue ensures that the commands are sequentially executed by a host. Due to the sequential execution of instructions input and output operations may be suspended by placing an instruction for capturing a storage volume ahead of read and write instructions in the command queue. The placement of the instruction for capturing a storage volume may thus ensure that data capturing is initiated before any input or output operations. It is noted that in some embodiments the command queue may be implemented as a scheduler.

If the management service determines that a positive determination is sough the host is put in a state to take a unified snapshot . As described herein the host is put in a state to take a unified snapshot by suspending input and output operation to a storage volume. The management service then initiated snapshot capturing and determines whether snapshot capturing is completed before the expiration of a time limit . To determine whether snapshot capturing is completed before the expiration of a time limit the management service may start a timer and determine whether a captured snapshot is received prior to the expiration of the timer.

If snapshot capturing is completed before the expiration of the time limit the management service causes input and output operations to the storage volumes to be resumed and the snapshot is sent to a storage service . If snapshot capturing is not completed before the expiration of the time limit the management service performs a subsequent initiation of snapshot capturing .

If however the management service determines that a unified snapshot is not sought the management service initiates snapshot capturing without putting the host in a state to take a unified snapshot. The management service then determines whether snapshot capturing is completed before the expiration of a time limit . If snapshot capturing is completed before the expiration of the time limit then the snapshot is sent to a storage service . If however snapshot capturing is not completed before the expiration of the time limit the method reverts to a subsequent initiation of snapshot capturing .

In addition to or instead of determining whether snapshot capturing is completed before the expiration of a time limit the management service or as may be contemplated in other embodiments another entity of the block data storage service may determine whether a captured snapshot is erroneous. If a captured snapshot is determined to be erroneous snapshot capturing may be reinitiated as described with reference to . A snapshot may be deemed erroneous if for example the snapshot fails an error detection scheme such as a hash function or a redundancy check.

A user may add or remove storage volumes to a host dynamically as the needs of the user change. For example in intervals of heavy web traffic storage volumes may be added to a host functioning as a web server. The addition or removal of storage volumes used by a host may necessitate modifying a data capture group accordingly. In addition to modifying the storage volumes of the data capture group the user may request the management service to modify the retention period of a snapshot the destination storage service of the snapshot and the like. To modify an existing data capture group the user sends a request for modifying the data capture group to the management service as described with reference to .

The management service modifies the descriptive information associated with the data capture group in the metadata storage in accordance with the request . If needed the management service may also identify the storage volumes that are requested to be modified. The management service then sends a notification to the user indicating that the data capture group has been modified .

After the modification of the data capture group subsequent requests to capture a snapshot will be based on the modified data capture group. To revert to a previously defined data capture group the user may request further modification to the data capture group.

After a snapshot is stored the user may seek to restore the snapshot. For instance the snapshot may serve as a backup copy of the user s data and the user may seek to restore the snapshot due to data failure or the snapshot may have been taken for a regulatory purpose and the user may seek to restore the snapshot for user access. The user may send a request to the management service to restore the snapshot whereby the user may specify the location to which the data is to be restored in the request or the location may be specified in the descriptive information associated with the data capture group. The snapshot of the storage volumes of the data capture data may be restored as one or more homogeneous bodies or one or more data objects that individually or collectively represent the captured snapshot. Alternatively the snapshot of each storage volume of the data capture group may be restored to an individual or independent restoration location. The location s to which the snapshot is restored may be specified as part of the descriptive information or in the request to restore the data capture group.

The management service determines whether the retention period associated with the snapshot has expired . If it is determined that the retention period has expired the management service notifies the user that the request cannot be processed . The notification may include a code indicating that the request cannot be processed due to the expiration of the retention period.

If on the other hand it is determined that the retention period has not expired then the management service identifies the storage service where data is held and the data is provided for use for example by restoring the data from the storage service to a storage location specified by the user. Then a notification is sent to the user indicating that the data is ready for use . It is noted that the location to which the data is restored may be identified by the user in the request to restore the snapshot or may be a part of the descriptive information of the data capture group.

The user may request the management service to delete a captured snapshot. Using a portal of the computing resource service provider executed on a computer a human operator may for example request deleting captured snapshot by identifying the snapshot and causing a command to be sent to the management service. The management service may identify the storage service storing the snapshot and may in turn cause a second command to be executed requesting the management service to delete the snapshot. The management service may identify the snapshot to be deleted. Further before sending the command the management service may verify the lack of any delta snapshots that are captured as dependent on the snapshot sought to be deleted. After the verification is completed the management service may request deletion of the captured snapshot. If a delta snapshot if found to depend upon the snapshot sought to be deleted the management service may notify the user or request user confirmation of the request for deletion. Upon receipt of the confirmation the management service may delete the snapshot.

In an embodiment the user may request the management service to provide the user with status information associated with the data capture group. Using a portal of the computing resource service provider executed on a computer a human operator may for example request receiving status information associated with the data capture group by identifying the data capture group and causing a command such as an API call to be sent to the management service. The user may receive the descriptive information associated with the data capture group as status information. Further the user may also receive a log detailing the captured snapshot of the data capture group. The portal may cause the status information to be displayed on the computer as a result of the request to provide the user with the status information.

The illustrative environment includes at least one application server and a data store . It should be understood that there can be several application servers layers or other elements processes or components which may be chained or otherwise configured which can interact to perform tasks such as obtaining data from an appropriate data store. Servers as used herein may be implemented in various ways such as hardware devices or virtual computer systems. In some contexts servers may refer to a programming module being executed on a computer system. As used herein the term data store refers to any device or combination of devices capable of storing accessing and retrieving data which may include any combination and number of data servers databases data storage devices and data storage media in any standard distributed or clustered environment. The application server can include any appropriate hardware and software for integrating with the data store as needed to execute aspects of one or more applications for the client device handling some even a majority of the data access and business logic for an application. The application server may provide access control services in cooperation with the data store and is able to generate content such as text graphics audio and or video to be transferred to the user which may be served to the user by the web server in the form of HyperText Markup Language HTML Extensible Markup Language XML or another appropriate structured language in this example. The handling of all requests and responses as well as the delivery of content between the client device and the application server can be handled by the web server. It should be understood that the web and application servers are not required and are merely example components as structured code discussed herein can be executed on any appropriate device or host machine as discussed elsewhere herein. Further operations described herein as being performed by a single device may unless otherwise clear from context be performed collectively by multiple devices which may form a distributed system.

The data store can include several separate data tables databases or other data storage mechanisms and media for storing data relating to a particular aspect of the present disclosure. For example the data store illustrated may include mechanisms for storing production data and user information which can be used to serve content for the production side. The data store also is shown to include a mechanism for storing log data which can be used for reporting analysis or other such purposes. It should be understood that there can be many other aspects that may need to be stored in the data store such as for page image information and to access right information which can be stored in any of the above listed mechanisms as appropriate or in additional mechanisms in the data store . The data store is operable through logic associated therewith to receive instructions from the application server and obtain update or otherwise process data in response thereto. In one example a user through a device operated by the user might submit a search request for a certain type of item. In this case the data store might access the user information to verify the identity of the user and can access the catalog detail information to obtain information about items of that type. The information then can be returned to the user such as in a results listing on a web page that the user is able to view via a browser on the user device . Information for a particular item of interest can be viewed in a dedicated page or window of the browser. It should be noted however that embodiments of the present disclosure are not necessarily limited to the context of web pages but may be more generally applicable to processing requests in general where the requests are not necessarily requests for content.

Each server typically will include an operating system that provides executable program instructions for the general administration and operation of that server and typically will include a computer readable storage medium e.g. a hard disk random access memory read only memory etc. storing instructions that when executed by a processor of the server allow the server to perform its intended functions. Suitable implementations for the operating system and general functionality of the servers are known or commercially available and are readily implemented by persons having ordinary skill in the art particularly in light of the disclosure herein.

The environment in one embodiment is a distributed computing environment utilizing several computer systems and components that are interconnected via communication links using one or more computer networks or direct connections. However it will be appreciated by those of ordinary skill in the art that such a system could operate equally well in a system having fewer or a greater number of components than are illustrated in . Thus the depiction of the system in should be taken as being illustrative in nature and not limiting to the scope of the disclosure.

The various embodiments further can be implemented in a wide variety of operating environments which in some cases can include one or more user computers computing devices or processing devices which can be used to operate any of a number of applications. User or client devices can include any of a number of general purpose personal computers such as desktop laptop or tablet computers running a standard operating system as well as cellular wireless and handheld devices running mobile software and capable of supporting a number of networking and messaging protocols. Such a system also can include a number of workstations running any of a variety of commercially available operating systems and other known applications for purposes such as development and database management. These devices also can include other electronic devices such as dummy terminals thin clients gaming systems and other devices capable of communicating via a network.

Various embodiments of the present disclosure utilize at least one network that would be familiar to those skilled in the art for supporting communications using any of a variety of commercially available protocols such as Transmission Control Protocol Internet Protocol TCP IP protocols operating in various layers of the Open System Interconnection OSI model File Transfer Protocol FTP Universal Plug and Play UpnP Network File System NFS Common Internet File System CIFS and AppleTalk. The network can be for example a local area network a wide area network a virtual private network the Internet an intranet an extranet a public switched telephone network an infrared network a wireless network and any combination thereof.

In embodiments utilizing a web server the web server can run any of a variety of server or mid tier applications including Hypertext Transfer Protocol HTTP servers FTP servers Common Gateway Interface CGI servers data servers Java servers and business application servers. The server s also may be capable of executing programs or scripts in response requests from user devices such as by executing one or more web applications that may be implemented as one or more scripts or programs written in any programming language such as Java C C or C or any scripting language such as Perl Python or TCL as well as combinations thereof. The server s may also include database servers including without limitation those commercially available from Oracle Microsoft Sybase and IBM .

The environment can include a variety of data stores and other memory and storage media as discussed above. These can reside in a variety of locations such as on a storage medium local to and or resident in one or more of the computers or remote from any or all of the computers across the network. In a particular set of embodiments the information may reside in a storage area network SAN familiar to those skilled in the art. Similarly any necessary files for performing the functions attributed to the computers servers or other network devices may be stored locally and or remotely as appropriate. Where a system includes computerized devices each such device can include hardware elements that may be electrically coupled via a bus the elements including for example at least one central processing unit CPU or processor at least one input device e.g. a mouse keyboard controller touch screen or keypad and at least one output device e.g. a display device printer or speaker . Such a system may also include one or more storage devices such as disk drives optical storage devices and solid state storage devices such as random access memory RAM or read only memory ROM as well as removable media devices memory cards flash cards etc.

Such devices also can include a computer readable storage media reader a communications device e.g. a modem a network card wireless or wired an infrared communication device etc. and working memory as described above. The computer readable storage media reader can be connected with or configured to receive a computer readable storage medium representing remote local fixed and or removable storage devices as well as storage media for temporarily and or more permanently containing storing transmitting and retrieving computer readable information. The system and various devices also typically will include a number of software applications modules services or other elements located within at least one working memory device including an operating system and application programs such as a client application or web browser. It should be appreciated that alternate embodiments may have numerous variations from that described above. For example customized hardware might also be used and or particular elements might be implemented in hardware software including portable software such as applets or both. Further connection to other computing devices such as network input output devices may be employed.

Storage media and computer readable media for containing code or portions of code can include any appropriate media known or used in the art including storage media and communication media such as but not limited to volatile and non volatile removable and non removable media implemented in any method or technology for storage and or transmission of information such as computer readable instructions data structures program modules or other data including RAM ROM Electrically Erasable Programmable Read Only Memory EEPROM flash memory or other memory technology Compact Disc Read Only Memory CD ROM digital versatile disk DVD or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by the system device. Based on the disclosure and teachings provided herein a person of ordinary skill in the art will appreciate other ways and or methods to implement the various embodiments.

The specification and drawings are accordingly to be regarded in an illustrative rather than a restrictive sense. It will however be evident that various modifications and changes may be made thereunto without departing from the broader spirit and scope of the invention as set forth in the claims.

Other variations are within the spirit of the present disclosure. Thus while the disclosed techniques are susceptible to various modifications and alternative constructions certain illustrated embodiments thereof are shown in the drawings and have been described above in detail. It should be understood however that there is no intention to limit the invention to the specific form or forms disclosed but on the contrary the intention is to cover all modifications alternative constructions and equivalents falling within the spirit and scope of the invention as defined in the appended claims.

The use of the terms a and an and the and similar referents in the context of describing the disclosed embodiments especially in the context of the following claims are to be construed to cover both the singular and the plural unless otherwise indicated herein or clearly contradicted by context. The terms comprising having including and containing are to be construed as open ended terms i.e. meaning including but not limited to unless otherwise noted. The term connected when unmodified and referring to physical connections is to be construed as partly or wholly contained within attached to or joined together even if there is something intervening. Recitation of ranges of values herein are merely intended to serve as a shorthand method of referring individually to each separate value falling within the range unless otherwise indicated herein and each separate value is incorporated into the specification as if it were individually recited herein. The use of the term set e.g. a set of items or subset unless otherwise noted or contradicted by context is to be construed as a nonempty collection comprising one or more members. Further unless otherwise noted or contradicted by context the term subset of a corresponding set does not necessarily denote a proper subset of the corresponding set but the subset and the corresponding set may be equal.

Conjunctive language such as phrases of the form at least one of A B and C or at least one of A B and C unless specifically stated otherwise or otherwise clearly contradicted by context is otherwise understood with the context as used in general to present that an item term etc. may be either A or B or C or any nonempty subset of the set of A and B and C. For instance in the illustrative example of a set having three members used in the above conjunctive phrase at least one of A B and C and at least one of A B and C refers to any of the following sets A B C A B A C B C A B C. Thus such conjunctive language is not generally intended to imply that certain embodiments require at least one of A at least one of B and at least one of C to each be present.

Operations of processes described herein can be performed in any suitable order unless otherwise indicated herein or otherwise clearly contradicted by context. Processes described herein or variations and or combinations thereof may be performed under the control of one or more computer systems configured with executable instructions and may be implemented as code e.g. executable instructions one or more computer programs or one or more applications executing collectively on one or more processors by hardware or combinations thereof. The code may be stored on a computer readable storage medium for example in the form of a computer program comprising a plurality of instructions executable by one or more processors. The computer readable storage medium may be non transitory.

The use of any and all examples or exemplary language e.g. such as provided herein is intended merely to better illuminate embodiments of the invention and does not pose a limitation on the scope of the invention unless otherwise claimed. No language in the specification should be construed as indicating any non claimed element as essential to the practice of the invention.

Preferred embodiments of this disclosure are described herein including the best mode known to the inventors for carrying out the invention. Variations of those preferred embodiments may become apparent to those of ordinary skill in the art upon reading the foregoing description. The inventors expect skilled artisans to employ such variations as appropriate and the inventors intend for embodiments of the present disclosure to be practiced otherwise than as specifically described herein. Accordingly the scope of the present disclosure includes all modifications and equivalents of the subject matter recited in the claims appended hereto as permitted by applicable law. Moreover any combination of the above described elements in all possible variations thereof is encompassed by the scope of the present disclosure unless otherwise indicated herein or otherwise clearly contradicted by context.

All references including publications patent applications and patents cited herein are hereby incorporated by reference to the same extent as if each reference were individually and specifically indicated to be incorporated by reference and were set forth in its entirety herein.

