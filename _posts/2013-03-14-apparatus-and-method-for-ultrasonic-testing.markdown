---

title: Apparatus and method for ultrasonic testing
abstract: An apparatus and a method for ultrasonic testing obtains high-resolution and high-S/N ratio testing results by driving a number of piezoelectric elements using fewer pulsers and receivers in comparison with the number of elements composing an array transducer. A sensor information setter sets a plurality of piezoelectric element groups used for transmission and a plurality of piezoelectric element groups used for reception among the plurality of piezoelectric elements composing an ultrasonic array transducer. A computer transmits an ultrasonic wave from the element cluster set for transmission, and stores an ultrasonic wave received by the element cluster set for reception. The procedure is repeated including different element cluster sets for transmission and reception to obtain first receive signals. The first receive signals are summed to obtain a second receive signal; and the second receive signal is displayed with reference to the sensor center position on a display unit.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08924164&OS=08924164&RS=08924164
owner: Mitsubishi Hitachi Power Systems, Ltd.
number: 08924164
owner_city: Kanagawa
owner_country: JP
publication_date: 20130314
---
The present invention relates to an apparatus and a method for ultrasonic testing which is one of non destructive testing methods. More particularly the present invention is related to an apparatus and a method for ultrasonic testing by using an array ultrasonic sensor.

Conventional ultrasonic testing methods targeting various kinds of structural materials utilize an ultrasonic sensor composed of a single element for transmission and reception of an ultrasonic wave. The ultrasonic sensor receives an ultrasonic signal reflected by a defect or the like inside an object under test to detect a defect based on the propagation time of the ultrasonic signal and the position of the ultrasonic sensor.

Specifically conventional methods comprises the steps of appropriately selecting an angle and vibration mode longitudinal wave transversal wave etc. of an ultrasonic wave to be applied to the object under test moving the ultrasonic sensor to obtain a position at which a sufficiently strong reflected wave echo can be obtained from a defect and identifying the size of the defect based on a difference between reception times of reflected waves from the bottom surface far side boundary surface and the top face near side boundary surface of the object under test multiplied by the sonic velocity of the material of the object under test.

These methods are commonly used for ordinary defect inspections because of their simple operating principle and relatively simple instrumentation. However since it is necessary to measure a reflected ultrasonic wave and evaluate the existence and position of a defect only from reception time of the reflected wave high accuracy testing requires experienced inspector and is time consuming.

In recent years new ultrasonic testing methods have been developed. As represented by the phased array method these new techniques image the inside of an object under test with high accuracy refer to for example Nonpatent Document 1 .

The phased array method utilizes a so called ultrasonic array transducer composed of an array of several tens of piezoelectric elements and operates on a principle that wave fronts of ultrasonic waves transmitted from the piezoelectric elements mutually interfere to form one combined wave front in the course of propagation. Therefore controlling the timing of ultrasonic wave transmission from each piezoelectric element with a time delay on a time shift basis makes it possible to control the ultrasonic beam angle and allow the ultrasonic wave to focus.

When receiving reflected ultrasonic waves summing up these waves received by the piezoelectric elements on a time shift basis makes it possible to control the receive beam angle of one combined ultrasonic wave as well as receive ultrasonic waves at one focal position in a similar way to transmission.

Generally known processes for the phased array method include the linear scanning process which linearly feeds piezoelectric elements and the sectorial scanning process which changes ultrasonic wave transmit and receive directions in a fan like form. Both processes can apply ultrasonic waves at high speed without moving the ultrasonic sensor and control the beam angle and focal depth position of the ultrasonic wave without replacing the ultrasonic sensor. Therefore it can be said that both techniques enable high speed and high accuracy testing.

Of the above mentioned conventional techniques the phased array method has the advantage of controlling the beam angle and focal position of the combined ultrasonic wave by using a plurality of piezoelectric elements and allowing high speed and high accuracy testing.

On the other hand the focal depth is determined by an aperture of the array transducer nearly equals the size of a piezoelectric element composing the array transducer multiplied by the number of elements . Therefore testing an object having a long propagation path therein or a thick plate requires a large sized array transducer an array transducer composed of a number of elements having a focal depth suitable for its size.

For example suppose a case where a steel material with a sonic velocity of longitudinal ultrasonic wave of 6000 m s and a wavelength of 3 mm is tested by using an array transducer with a frequency of 2 MHz. Generally with an ultrasonic transducer having an aperture size of A mm the ultrasonic wave is strong in the vicinity of the near sound field limit distance NF represented by the formula 1 below. Therefore an ultrasonic transducer having a larger aperture is required to test a thicker material. When using an array transducer normally having a constant frequency and a constant interval between piezoelectric elements it is necessary to use a multi element array transducer having increased number of piezoelectric elements for testing.

An ultrasonic testing apparatus employing a multi element array transducer needs to have pulser receiver and wiring circuits corresponding to the total number of elements in order to drive the multi element array transducer. Accordingly there has been a problem that a remarkable increase in size and complexity in internal structure and wiring causes degradation in portability installability and maintainability.

In order to solve this problem an imaging method using a small number of pulsers and receivers corresponding to the number of some elements of the ultrasonic array transducer for example the synthetic aperture method is used Nonpatent Document 2 .

With the synthetic aperture method a single ultrasonic transducer having a small sensor aperture transmits an ultrasonic wave so that it widely spreads out into an object under test and the same or different ultrasonic transducer receives a reflected ultrasonic wave signal echo from the inside of the object.

The operating principle of the synthetic aperture method is that since the propagation path of ultrasonic wave is known a defect serving as a sound source of a received reflected ultrasonic wave exists on a circular arc having the position of a piezoelectric element which transmitted and received an ultrasonic wave as a center and the propagation distance of the reflected ultrasonic wave as a radius. When different piezoelectric elements are used for transmission and reception a defect exists on an ellipse arc having each of the piezoelectric element for transmission and the piezoelectric element for reception as a focal position. 

Based on this operating principle the ultrasonic sensor transmits and receives ultrasonic waves while sequentially changing the position of an active ultrasonic transducer for transmission and reception. At each transducer position a receive signal is spread out in a circular arc form or in an ellipse arc form through computer operations. Then intersections of these circular arcs focus at one position where a defect exists a true reflection source position thus allowing the defect position to be located and imaged.

Yoshikazu Yokono Global Trend of Phased Array Ultrasonic Testing Its Practical Application and Standardization The Japanese Society for Non destructive Inspection Vol. 56 No. 10 2007.

Michimasa Kondo Yoshimasa Ohashi and Akio Jitsumori Digital Signal Processing Series Vol. 12 Digital Signal Processing in Measurement and Sensors pp. 143 186 May 20 1993 SHOKODO CO. LTD.

A conventional method for testing a defect of an object under test such as a structural material transmits an ultrasonic wave by using a single ultrasonic sensor and receives echoes reflected by a defect or the like inside the object under test by using a single ultrasonic sensor to detect a defect based on the propagation time of the ultrasonic wave and the position of the ultrasonic sensor. The conventional method also moves the ultrasonic sensor to obtain a position where a reflected echo from a defect is obtained and identifies the size of the defect based on a difference between reception times of reflected echoes from the bottom and surface multiplied by the sonic velocity of the material of the object under test. This method is commonly used for ordinary defect inspections because of its simple operating principle and relatively simple instrumentation. However since it is necessary to measure reflected ultrasonic echoes and evaluate existence and position of a defect from the reception time of the reflected echoes high accuracy testing requires experienced inspector and is time consuming.

In recent years new ultrasonic testing methods have been developed. As represented by well known phased array method and synthetic aperture focusing method these new techniques image the inside of an object under test with high accuracy. The phased array method utilizes an array of a plurality of piezoelectric elements and operates on a principle that wave fronts of ultrasonic signals transmitted from the piezoelectric elements mutually interfere to form one combined wave front in the course of propagation. Therefore controlling the timing of ultrasonic wave transmission from each piezoelectric element with a time delay on a time shift basis makes it possible to control the ultrasonic beam angle and allow ultrasonic wave to focus. When receiving reflected ultrasonic waves summing up these waves received by the piezoelectric elements on a time shift basis on the time axis makes it possible to receive ultrasonic waves at one focal position in a similar way to transmission. The phased array method makes it possible to apply ultrasonic waves at high speed without moving the ultrasonic sensor and control the beam angle and focus depth position of the ultrasonic wave without replacing the ultrasonic sensor. Therefore it can be said that the phased array method enables high speed and high accuracy testing. Generally known processes for the phased array method include the linear scanning process which linearly feeds piezoelectric elements and the sectorial scanning process which changes ultrasonic wave transmit and receive directions in a fan like form.

On the other hand the synthetic aperture method transmits an ultrasonic wave so that it widely spreads out into an object under test and receives a reflected ultrasonic signal from the inside of the object. The operating principle of the synthetic aperture method is that a defect serving as a sound source of the received reflected ultrasonic wave exists on a circular arc having the position of a piezoelectric element which transmitted and received an ultrasonic wave as a center and the propagation distance of the reflected ultrasonic wave as a radius. Based on this operating principle the ultrasonic sensor transmits and receives ultrasonic waves while sequentially changing the position of a piezoelectric element. At each vibrator position a received waveform is spread out in a circular arc form through computer operations. Then intersections of these circular arcs focus at one position where a defect exists an ultrasonic wave reflection source thus allowing the defect position to be located and imaged. Actually the synthetic aperture method performs high resolution imaging through computer operations using the position of the ultrasonic sensor and the ultrasonic waveform signal at that position. Details of computer operations are discussed in Nonpatent Document 2.

In recent years new sensors such as a matrix array transducer and a ring array transducer have been developed. The matrix array transducer is composed of an array of piezoelectric elements arranged in a matrix pattern inside an array ultrasonic sensor and the ring array transducer is composed of an array of coaxially arranged piezoelectric elements including arrangements in the circumferential direction . Further apparatuses that can transmit and receive ultrasonic waves by using a number of piezoelectric elements have come into practical use. Thus the inside of an object under test directly under the ultrasonic sensor can be three dimensionally imaged without moving the ultrasonic sensor. With a known method for three dimensionally imaging the inside of an object under test a two dimensional array ultrasonic sensor transmits an ultrasonic wave sequentially from each element and then receives a reflected ultrasonic wave with all elements and at the same time three dimensional aperture synthetic processing is performed so as to superimpose received echoes refer to for example Patent Document 1 .

Michimasa Kondo Yoshimasa Ohashi and Akio Jitsumori Digital Signal Processing Series Vol. 12 Digital Signal Processing in Measurement and Sensors pp. 143 186 May 20 1993 SHOKODO CO. LTD.

In recent years new ultrasonic testing methods targeting various kinds of structural materials have been developed. As represented by the phased array method these new techniques image and test the inside of an object under test with high accuracy in a short time refer to for example Nonpatent Document 3 .

The phased array method utilizes an array of a plurality of piezoelectric elements also referred to as ultrasonic array transducer and operates on a principle that wave fronts of ultrasonic waves transmitted from the piezoelectric elements mutually interfere to form one combined wave front in the course of propagation. Therefore controlling the timing of ultrasonic wave transmission from each piezoelectric element with a time delay on a time shift basis makes it possible to control the ultrasonic beam angle and allow the ultrasonic wave to focus.

When receiving reflected ultrasonic waves summing up these waves received by the piezoelectric elements on a time shift basis in accordance with the delay time makes it possible to control the receive beam angle of one combined ultrasonic wave as well as receive ultrasonic waves at one focal position in a similar way to transmission.

Generally known processes for the phased array method using a one dimensional array transducer having linearly arranged piezoelectric elements include the linear scanning process which scans in ultrasonic wave transmit and receive directions together and the sectorial scanning process which changes ultrasonic wave transmit and receive directions in a fan like form centering on an incident point. Further the use of a two dimensional array transducer having piezoelectric elements arranged in a lattice pattern makes it possible to three dimensionally focus on a desired spatial position allowing selection of a scanning process which best suits the shape of the object under test. In particular the three dimensional scanning technique makes it possible to apply ultrasonic waves at high speed without moving the sensor and control the beam angle and focal depth position of the ultrasonic wave allowing high speed and high accuracy testing.

At present in order to locate a spatial position of a reflection source from reflected ultrasonic wave signals a method for presuming a spatial position from a plurality of two dimensional images of reflection strength distributions at different cutting positions is commonly used hereinafter this method is referred to as two dimensional phased array method . For example since the linear and sectorial scanning processes can obtain a plurality of two dimensional images corresponding to a scanning range and interval the direction in which a reflected wave appears can be located by sequentially changing the images on the display screen.

Recently a new three dimensional display method hereinafter referred to as three dimensional ultrasonic testing method has been reported. This method performs interpolation processing to reflected ultrasonic wave signals from a plurality of directions to create three dimensional lattice like data and then performs volume rendering and surface rendering techniques to the created data. Although there are more than one method for creating three dimensional lattice like data for example the synthetic aperture method and phased array method a method based on the phased array method is particularly referred to as three dimensional phased array method refer to for example Nonpatent Document 2 . As three dimensional lattice like data a data structure composed of a plurality of three dimensionally arranged cubic elements referred to as voxels is most widely used because of ease of handling. This structure is also referred to as structural lattice. Although a lattice having irregular spatial lattice arrangements may be used in addition to voxels such a lattice is slightly more difficult to display than a voxel. This kind of lattice is referred to as non structural lattice as represented by a six face lattice a four face lattice a triangular pyramidal prism lattice and a quadrangular pyramidal pyramid lattice. Further there is another method for displaying data as three dimensional point groups without conversion to lattice like data. Since these pieces of data are saved in computer memory as three dimensional testing data they can be checked from any desired direction by an inspector after measurement.

In recent years flaw size measurement sizing using the phased array method has attracted attention in industrial fields. Particularly in the field of nuclear power the phased array method has been specified as a method for sizing a fatigue crack of carbon steel and stainless steel and a crack height of a stress corrosion crack SCC of stainless steel by technical guidance JEAC 4207 2004 of the Japan Electric Association which serves as an evaluation criterion for the soundness of domestic light water nuclear reactors. At present this guidance is taken over to technical regulation JEAG4207 2008 of the Japan Electric Association. The scope of the phased array method has been expanded not only as a method for sizing crack height but also as a method for checking the existence of a crack refer to for example Nonpatent Document 4 .

When measuring a flaw height crack height the two dimensional phased array method utilizes sectorial scanned or linear scanned images including echoes at ends of a flaw. In this case measurement must be performed according to defined measurement and analysis procedures and it is recommended to validate the procedures by using a test piece having a flaw. These procedures are prescribed as flaw height measurement method based on the tip echo technique by NDIS 2418 standard of the Japanese Society for Non destructive Inspection refer to for example Nonpatent Document 5 .

However with the two dimensional phased array method echoes corresponding to upper and lower ends of a crack hereinafter referred respectively to upper and lower end echoes need to be included in the same screen. Therefore it is necessary to finely adjust the sensor position and the ultrasonic beam angle depending on the orientation of a flaw. This method is time consuming and requires experience to a certain extent. If the shape of the flaw is included in the same plane it is preferable to find and measure an image in which upper and lower end echoes are clearly displayed in this way. However if the shape of the flaw is complicated with many branches such as scc the shape of the flaw is not necessarily included in the same plane. In this case two or more images are needed to measure the flaw height accuracy with the two dimensional phased array method.

In this case the use of the three dimensional ultrasonic testing method is very effective. Although there are not many cases reported a sizing method based on the three dimensional ultrasonic testing method has been devised. A method discussed in Nonpatent Document 6 displays measurement data points obtained by a plurality of tests on a screen as point groups. With a desired cross section displayed for example when two points corresponding to upper and lower end echoes are specified by using a mouse or keyboard of a computer the distance between the two points is output. With the two dimensional phased array method it is necessary to find a screen in which upper and lower end echoes are simultaneously included at the time of data storage. With the three dimensional ultrasonic testing method on the other hand it is only necessary to perform a series of data storage for a predetermined testing range and then find a target cross section. The latter method makes testing procedures very efficient and is advantageous.

Yoshikazu Yokono Global Trend of Phased Array Ultrasonic Testing Its Practical Application and Standardization The Japanese Society for Non destructive Inspection Vol. 56 No. 10 2007 

Atsushi Baba Satoshi Kitazawa Naoyuki Kono Yuji Adachi Mitsuru Odakura and Osamu Kikuchi Development of Three dimensional Ultrasonic Testing System 3D Focus UT JAPAN SOCIETY OF MAINTENOLOGY 5th Academic Lecture Collection of Summaries 155 2008 

Potts A. McNab A. Reilly D. Toft M. Presentation and analysis enhancements of the NDT Workbench a software package for ultrasonic NDT data REVIEW OF PROGRESS IN QUANTITATIVE NONDESTRUCTIVE EVALUATION Volume 19. AIP Conference Proceedings Volume 509 pp. 741 748 2000 .

However the synthetic aperture method described in the first background art has a problem that it is difficult to obtain a receive signal having a sufficient S N ratio. Since this method uses a single ultrasonic transducer having a small sensor aperture applying it to a case with a long propagation distance of ultrasonic wave disperses or attenuates the ultrasonic wave signal resulting in a decrease in signal intensity.

A first object of the present invention is to provide an apparatus and a method for ultrasonic testing which make it possible to obtain high resolution and high S N ratio testing results through imaging by driving a number of piezoelectric elements the apparatus and method comprising less number of pulsers and receivers in comparison with the number of elements composing an array transducer.

With the second background art it is necessary to store a data processing table focal law delay time corresponding to the number of coordinate positions of three dimensional testing data in order to obtain focused three dimensional testing data over the entire three dimensional space. Since the number of coordinate positions is physically limited there is a trade off relation between the size of a target region and the spatial resolution of three dimensional imaging. Therefore in order to three dimensionally image a wide testing range with high resolution it is necessary to divide the testing range into a plurality of test regions and repeat a sequence comprising reading a data processing table reconfiguring the table and measurement.

Although the second background art provides favorable accuracy and sensitivity in imaging directly under a two dimensional array ultrasonic sensor there has been a problem that both accuracy and sensitivity fall in imaging at a position not directly under the ultrasonic sensor. Therefore for a wide testing range testing needs to be performed separately in a plurality of steps to cover the entire testing range.

With the second background art the two dimensional array ultrasonic sensor is composed of small sized piezoelectric elements each providing weak ultrasonic transmission energy and the sensor transmits an ultrasonic wave with one element during transmission. Therefore the spatial energy of the ultrasonic wave is weak. Also during reception since the receive energy per element is weak the sensor is susceptible to noise including electrical noise. This causes a problem that with a thick object and a high attenuation material the echo intensity of the ultrasonic wave decreases to degrade the S N ratio of the received echo.

A second object of the present invention is to provide an apparatus and a method for ultrasonic imaging which enable collective three dimensional imaging over a wide testing range based on high resolution and high S N ratio three dimensional testing data and allow images to be handled as one piece of three dimensional testing data by using a two dimensional array ultrasonic sensor. The present embodiment only utilizes one set of data processing table focal law and is also applicable to thick objects and high attenuation materials.

Further with the defect sizing method based on conventional three dimensional ultrasonic testing methods described in the third background art it is difficult and time consuming to a certain extent to find and specify a cross section including upper and lower end echoes on the screen. Further in order to grasp which cross section is currently being observed it is necessary to constantly monitor the three dimensional display screen and the cross section screen for comparison. Further in order to perform a plurality of measurements in combination with echoes at different positions it is necessary to find a plurality of cross sections corresponding to each combination. This causes a problem of complicated procedures.

A third object of the present invention is to provide an apparatus and a method for ultrasonic testing which enable three dimensional measurement of the distance between echoes in a simple way in sizing a defect such as a crack.

In order to attain the above mentioned first object the present invention provides an ultrasonic testing apparatus for testing the inside of an object under test by transmitting an ultrasonic wave to the object under test and receiving reflected waves echoes from the surface or inside thereof by using an ultrasonic array transducer composed of a plurality of one or two dimensionally arranged piezoelectric elements. The ultrasonic testing apparatus includes a sensor information setting unit configured to set a plurality of element groups element clusters to be used for transmission and reception out of a plurality of piezoelectric elements composing the ultrasonic array transducer a transmission selection unit configured to select an element cluster for transmission out of the set plurality of element clusters a reception selection unit configured to select an element cluster for reception out of the set plurality of element clusters a delay time control unit configured to give a delay time to each of the piezoelectric elements for transmission and or piezoelectric elements for reception with reference to a sensor center position serving as a reference for the delay time a computer configured to obtain a second receive signal by performing the steps of transmitting an ultrasonic wave from the element cluster set for transmission storing an ultrasonic wave received by the element cluster set for reception as a first receive signal repeating a procedure for changing the element cluster set for transmission and the element cluster set for reception and storing another first receive signal and summing up the plurality of first receive signals obtained by repeating the same procedure and a display unit configured to display the second receive signal with reference to the sensor center position.

The above mentioned configuration makes it possible to obtain high resolution and high S N ratio testing results through imaging by driving a number of piezoelectric elements the ultrasonic testing apparatus comprising less number of pulsers and receivers in comparison with the number of elements composing the array transducer.

In order to attain the above mentioned first object the present invention provides an ultrasonic testing method for testing the inside of an object under test and receiving reflected waves echoes from the surface or inside thereof by using an ultrasonic array transducer composed of a plurality of one or two dimensionally arranged piezoelectric elements. The ultrasonic testing method comprises the steps of setting a plurality of element groups element clusters to be used for transmission and reception out of a plurality of piezoelectric elements composing the ultrasonic array transducer selecting an element cluster for transmission out of the set plurality of element clusters and selecting an element cluster for reception out of the set plurality of element clusters giving a delay time to each of the piezoelectric elements for transmission and or the piezoelectric elements for reception with reference to a sensor center position serving as a reference for the delay time transmitting an ultrasonic wave from the element cluster set for transmission and storing an ultrasonic wave received by the element cluster set for reception as a first receive signal repeating a procedure for changing the element cluster set for transmission and the element cluster set for reception and storing another first receive signal summing up the plurality of first receive signals obtained by repeating the same procedure to obtain a second receive signal and displaying the second receive signal with reference to the sensor center position.

The above mentioned method makes it possible to obtain high resolution and high S N ratio testing results through imaging by driving a number of piezoelectric elements the ultrasonic testing apparatus comprising less number of pulsers and receivers in comparison with the number of elements composing the array transducer.

In order to attain the above mentioned second object the present invention provides a method for three dimensional ultrasonic imaging comprising the steps of transmitting an ultrasonic wave from a two dimensional array ultrasonic sensor to focus at a desired depth three dimensionally scanning the inside of an object under test while varying the ultrasonic beam angle and storing waveform data converting the obtained waveform data to three dimensional testing data storing the three dimensional testing data by sequentially changing the set position of the array ultrasonic sensor and combining the three dimensional testing data obtained at each testing position while making a shift by the displacement of the array ultrasonic sensor to attain three dimensional imaging.

The above mentioned method enables collective three dimensional imaging over a wide testing range based on high resolution and high S N ratio three dimensional testing data and allows images to be handled as one piece of three dimensional testing data by using a two dimensional array ultrasonic sensor. The present embodiment only utilizes one set of data processing table focal law and is also applicable to thick objects and high attenuation materials.

In order to attain the above mentioned second object the present invention provides an apparatus comprising a two dimensional array ultrasonic sensor composed of a plurality of piezoelectric elements pulsers configured to transmit a transmit signal to each piezoelectric element of the array ultrasonic sensor receivers configured to receive a receive signal a delay control unit configured to perform time control for the transmit and receive signals by varying a delay time for each piezoelectric element a data storage unit configured to store ultrasonic waveforms transmitted and received by the array ultrasonic sensor a sensor moving unit configured to move the array ultrasonic sensor and a scanning control unit configured to control the sensor moving unit a displacement detection unit configured to measure the displacement of the array ultrasonic sensor a computer configured to convert the stored waveform data to three dimensional testing data and combine the plurality of pieces of three dimensional testing data while making a shift by the displacement of the array ultrasonic sensor measured by the displacement detection unit and a display unit configured to display the combined testing data.

The above mentioned configuration enables collective three dimensional imaging over a wide testing range based on high resolution and high S N ratio three dimensional testing data and allows images to be handled as one piece of three dimensional testing data by using a two dimensional array ultrasonic sensor. The present embodiment only utilizes one set of data processing table focal law and is also applicable to thick objects and high attenuation materials.

Further in order to attain the above mentioned third object the present invention provides an apparatus comprising an ultrasonic sensor composed of a plurality of piezoelectric elements pulsers configured to supply a transmit signal to each piezoelectric element of the ultrasonic sensor receivers configured to input a receive signal from each piezoelectric element of the ultrasonic sensor data storage unit configured to store ultrasonic waveforms received by the ultrasonic sensor a computer for image processing configured to generate three dimensional testing data from the waveforms stored in the data storage unit and a three dimensional display unit configured to display the three dimensional testing data generated by the computer wherein the computer outputs the distance between two points specified on the three dimensional display unit.

The above mentioned configuration enables three dimensional measurement of the distance between echoes in a simple way in sizing a defect such as a crack.

In order to attain the above mentioned third object the present invention provides a three dimensional ultrasonic testing method for testing the inside of an object under test by transmitting an ultrasonic wave to the object under test and receiving reflected waves therefrom by using an ultrasonic sensor composed of a plurality of piezoelectric elements wherein the distance between two echoes caused by reflected ultrasonic wave signals is measured based on the distance between two points specified on the three dimensional display unit.

The above mentioned method enables three dimensional measurement of the distance between echoes in a simple way in sizing a defect such as a crack.

Configuration and operation of an ultrasonic testing apparatus according to a first embodiment of the present invention will be described below with reference to .

First of all the configuration of the ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

The ultrasonic testing apparatus according to the present embodiment includes an ultrasonic array transducer which transmits ultrasonic waves to an object under test a transmitter receiver and a display unit which displays testing images. The present embodiment tests a reflection source such as a defect and a crack in the inside or on the surface of the object under test by imaging.

The ultrasonic array transducer is basically composed of a plurality of one or two dimensionally arranged piezoelectric elements each being able to transmit and receive an ultrasonic wave. The ultrasonic array transducer is disposed on a testing surface of the object under test through a coupling medium such as water glycerin or other liquids or a shoe made of a synthetic resin such as acrylics . The ultrasonic array transducer transmits an ultrasonic wave by using a drive signal supplied from the transmitter receiver propagates the ultrasonic wave in the object under test detects a reflected wave echo and sends a receive signal to the transmitter receiver .

The array transducer of is composed of N piezoelectric elements N Na Nb Nc Nd and connected to the transmitter receiver through connectors and cables. Suppose that numbers Na Nb Nc and Nd are all the same for example 64 and therefore N is 256. However the numbers Na Nb Nc and Nd may not necessarily be the same.

With the present embodiment N piezoelectric elements are grouped into four different groups of piezoelectric elements i.e. an element cluster A composed of piezoelectric element to Na an element cluster B composed of element to Nb an element cluster C composed of element to Nc and an element cluster D composed of element to Nd. The ultrasonic array transducer transmits and receives ultrasonic waves on an element cluster basis.

The transmitter receiver transmits and receives ultrasonic waves by using the ultrasonic array transducer . The transmitter receiver includes a transmission selector circuit A a reception selector circuit B a pulser C a receiver D a delay time controller E a sensor information setter F a computer G data storage H and an image processor M. The sensor information setter F determines an element group the element cluster A to be used for transmission and based on the determination the transmission selector circuit A electrically connects the element cluster A and the pulser C. Then the pulser C supplies a drive signal to the ultrasonic array transducer and the element cluster A for transmission in the ultrasonic array transducer transmits the ultrasonic wave . When the ultrasonic wave transmitted to the inside of the object under test is reflected for example by the reflection source a reflected ultrasonic wave echo is generated. Then in a similar way to transmission the sensor information setter F determines an element cluster the element cluster D to be used for reception and the reception selector circuit B electrically connects the element cluster D and the receiver D. The receiver D processes a receive signal.

Therefore when the ultrasonic array transducer is composed of 256 piezoelectric elements and each of the four element clusters is composed of 64 piezoelectric elements for example the transmitter receiver requires pulser receiver and wiring circuits accommodating 64 piezoelectric elements. With the present embodiment however the near sound field limit distance NF can be deeper than that in a case where each element cluster is composed of 64 piezoelectric elements that is the NF can be equivalent to that in a case where each element cluster is composed of 256 piezoelectric elements as described in detail below.

The computer G controls the transmission selector circuit A the reception selector circuit B the pulser C the receiver D the delay time controller E the data storage H and the image processor M to perform required operations as well as combines signals stored in the data storage H to perform imaging.

The sensor information setter F groups N piezoelectric elements composing the ultrasonic array transducer into a plurality of piezoelectric element groups element clusters . Then the sensor information setter F sets a sensor center position A to be used as a reference for delay time and display and calculates a delay time to be given to the array transducer by using the computer G or stores precalculated data. Based on this delay time the delay time controller E gives a delay pattern to the array transducer . When the sensor information setter F sets element clusters it may be possible that the computer G sets the center position of the set piezoelectric element groups as the sensor center position A.

The transmission selector circuit A and the reception selector circuit B respectively selects an element cluster used for transmission and an element cluster used for reception. For example when the ultrasonic array transducer is composed of N piezoelectric elements and four element clusters A to D the ultrasonic array transducer repeats the following operations 1 transmission by the element cluster A and reception by the element cluster A 2 transmission by the element cluster A and reception by the element cluster B . . . based on a pattern determined by the sensor information setter F. For example when the array transducer is grouped into four element clusters A to D as shown in four different element clusters are available for both transmission and reception. Therefore a combination of element clusters for transmission and reception is selected from a total of 16 4 4 different combinations.

Signals received by piezoelectric elements of an element cluster for reception are subjected to A D conversion given a delay time based on a delay time pattern and combined into summed up to one receive signal first receive signal . Therefore for example when there are four different element clusters for transmission and four different element clusters for reception i.e. 16 4 4 different combinations of element clusters are available a total of 16 first receive signals is stored in the data storage H.

The computer A combines sums up the first receive signals stored in the data storage H to derive a second receive signal. This second receive signal is displayed on the display unit as an ultrasonic image. In this case the sensor center position A which is a reference for delay time is also used as a reference position for image display.

Operations of the ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

Hereinafter a first receive signal obtained by transmission by the i th element cluster and reception by the j th element cluster is referred to as ij.

First of all a focal position set by the ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

The following description will be made on the premise that in order to test the object under test the sensor information setter F sets a focal position F as a position at which ultrasonic beams are focused namely focal point .

Of N piezoelectric elements composing the ultrasonic array transducer Na piezoelectric elements constitute the element cluster A. Further the sensor information setter F sets a point C as a sensor center position. For example a delay time for the i th element of the element cluster A is obtained with the following procedures 

A round trip propagation time T between the sensor center position C and the focal position F is obtained by dividing two times a line CF by the ultrasonic velocity in the object under test. Similarly a round trip propagation time T between a piezoelectric element I and the focal point F is obtained by dividing two times a line IF by the sonic velocity therein.

In order to allow the ultrasonic wave to focus at the focal point F it is necessary that ultrasonic beams from the piezoelectric elements reach the focal point F at the same time and be in phase thereat. Further since the reference position for a final ultrasonic image is set to the point C the distance of ultrasonic propagation needs to coincide with the line CF when the focal point F is measured by the ultrasonic array transducer . As mentioned above it is preferable to apply delay processing to each element so that the propagation time from each element to the focal point coincide with the propagation time from the sensor center position to the focal point.

Propagation time and delay time in the ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

 Formula 2 2 where T IF T FI is the propagation time for the paths IF and FI and T CF T FC is the propagation time for the paths CF and FC.

When delay processing by the difference T I between T CF T FC and T IF T FI is applied to the propagation time the propagation time for the element I T I T IF T FI coincides with the propagation time for the sensor center position T CF T FC .

A delay time pattern for the ultrasonic array transducer can be obtained by applying such delay processing to all the piezoelectric elements.

Thus after giving a delay time T I to each piezoelectric element a first receive signal for each element is stored one by one.

A receive signal obtained by the combination of a plurality of element clusters in the ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

When there are four element clusters first receive signals ij are sequentially stored while selecting one of 16 combinations of transmission and reception as shown in .

Finally as shown by formula 3 all the first receive signals ij are combined summed up to derive a second receive signal F for the focal point F.

Image display in the ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

In actual testing since a plurality of focal positions are two or three dimensionally scanned a plurality of second receive signals F are combined for each focal position as shown in . The second receive signal F can be represented as a graph when the vertical axis is assigned amplitude and the horizontal axis is assigned time. Hereinafter a value of a second receive signal Fi set at an i th focal point Fi at a time t is represented by Fi t .

In order to constitute a two or three dimensional image from the second receive signal F a pixel value for a pixel is obtained and then pixel values between second receive signals are interpolated as shown in .

An exemplary method for calculating a pixel value will be described below with reference to and formula 4 .

The first receive signals ij are combined summed up to derive a second receive signal for the focal point F F . Since each pixel is sandwiched by two receive signals Fi t and Fi 1 t corresponding to a certain focus point Fi and Fi 1 respectively as shown in a pixel value can be obtained by using the second receive signals . Specifically as shown in a distance L between a reference position C and a certain pixel P m n is divided by the sonic velocity V in an object under test to obtain a propagation time L V. Then signals Fi and Fi 1 corresponding to time as well as a point Fi corresponding to the distance L from the reference position C through a respective focal point Fi are obtained. A weight W i is obtained from the ratio of the length of a line FiFi 1 defined by the point Fi and a point Fi 1 to the length of a line PFi 1 defined by a pixel point P m n and the point Fi 1 Formula 4 .

The weight W i is multiplied by and then subjected to weighted averaging to obtain P m n . The testing process repeats this processing for each pixel to obtain two or three dimensional pixel values. Then testing results are displayed for example as monochrome or color images according to the size of the pixel values. Resultant images are displayed for example as a sectional view B in the direction of plate thickness of and a graph C illustrating a relation between time and amplitude.

The ultrasonic testing method in the ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

Detailed processing of the ultrasonic testing method according to the present embodiment in is roughly divided into three blocks.

The ultrasonic array transducer composed of N piezoelectric elements is disposed on the object under test . A first block steps S to S relates to initial setup for the ultrasonic array transducer . In Step S initial setup the testing process sets the ultrasonic velocity of the object under test the number of piezoelectric elements N and arrangements and interval of piezoelectric elements composing the array transducer .

In the case of an array transducer composed of one dimensionally arranged piezoelectric elements the position of piezoelectric elements distributed in the array transducer can be grasped by setting an interval and arrangements of N piezoelectric elements as shown in .

In the case of an array transducer composed of two dimensionally arranged piezoelectric elements the position of piezoelectric elements distributed in the array transducer can be grasped by setting intervals and and arrangements of N piezoelectric elements N P columns Q rows as shown in .

The testing process sets a delay time and a sensor center position to be used as a reference for image display to these N piezoelectric elements step S of . Generally as shown in the testing process sets a center an intersection of center lines A and B of or an intersection of center lines A and B of of piezoelectric elements as a sensor center position C.

Then as described with reference to the testing process calculates a delay time pattern for each element of the array transducer with respect to a single or a plurality of focal points F step S .

The testing process sets an element or element group element cluster to be used for transmission and reception when storing a first receive signal step S . For example as shown in suppose a case where N piezoelectric elements are grouped into four different element groups A to D . For example with the one dimensionally arranged array transducer of composed of N 256 elements element to are grouped as the cluster A element to are grouped as the cluster B element to are grouped as the cluster C and element to are grouped as the cluster D. With a two dimensionally arranged array transducer of composed of N 256 elements N P columns Q rows P Q 16 column to P 1 8 and row to Q 1 8 are grouped as the cluster A column to P 1 8 and row to Q 9 16 are grouped as the cluster B column to P 9 16 and row to Q 1 8 are grouped as the cluster C and column to P 9 16 and row to Q 9 16 are grouped as the cluster D.

The testing process stores the first receive signal for the focal point F used for delay time setup. First of all the testing process sets a delay time at a certain focal point F i step S . Then the testing process sets an element cluster for transmission and an element cluster for reception. For example when there are four different element clusters A to D the testing process sets the cluster A for transmission and the cluster A for reception step S . Then the testing process stores a receive signal by using the element cluster for transmission and the element cluster for reception step S and changes the element clusters for transmission and reception step S . The testing process repeats steps S to S for each element cluster and stores the first receive signal for a certain focal position F step S . For example when there are four element clusters the testing process stores 16 4 4 first receive signals ij as shown in . When there is a plurality of focal points the testing process repeats steps S to S for each focal point to store first receive signals corresponding to the number of focal points.

First of all the testing process combines sums up first receive signals based on formula 3 to derive a second receive signal step S . Then the testing process sets a range a pixel for image display step S . Then as mentioned above with reference to and formula 4 the testing process calculates a pixel value for a pixel P through interpolation based on second receive signals corresponding to the number of focal points step S . The testing process maps a pixel value corresponding to the pixel P step S and displays it on the image display unit step S .

Then an effective range of a focal beam obtained by the ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

When there is one element cluster the effective focused beam is obtained at a depth less than 50 mm even if the element cluster is 16 mm wide.

According to the present embodiment having four element clusters when the aperture of one element cluster is 16 mm wide sensor width the substantial sensor aperture becomes 64 mm wide by combining a plurality of receive signals. Therefore an ultrasonic beam is sufficiently effective at a depth of 300 mm or more.

As mentioned above the present embodiment combines the pulser and receiver circuit configuration suitable for element clusters for first receive signals with signal combination processing for second receive signals. This enables imaging by driving a number of piezoelectric elements while maintaining the apparatus compact as well as use the focal beam with a large substantial sensor aperture thus obtaining testing images with high resolution and high S N ratio.

Configuration and operation of an ultrasonic testing apparatus according to a second embodiment of the present invention will be described below with reference to . The configuration of the ultrasonic testing apparatus according to the present embodiment is the same as that shown in .

First of all a sensor center position setup in the ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

With the present embodiment although processing flow is the same as that of the first embodiment the sensor center position setup step S of the flow chart in is extended.

Although all the piezoelectric elements composing an ultrasonic array transducer are grouped into a plurality of element clusters in the first embodiment shows a case where a part of piezoelectric elements composing the array transducer are partially used for element cluster setup. With an array transducer composed of two dimensionally arranged N P Q piezoelectric elements for example only column to P and row to Q are used for testing and an intersection of two center lines A and B for a region of P Q piezoelectric elements is set as a sensor center position C . In this case it can be considered that the region of P Q piezoelectric elements serves as a virtual array transducer. This also applies to a one dimensional array although an exemplary two dimensionally array is shown in .

Further as shown in a virtual array transducer may be set to the outside of a real ultrasonic array transducer. In this case a portion shown as a region serves as a virtual array transducer and an intersection of two center lines A and B is set as a sensor center position C .

If flexibility is given to a setup of sensor center position a reference for delay time and image display in this way desired piezoelectric elements can be used to constitute a virtual array transducer depending on the thickness of an object under test. Specifically when imaging a shallow thin region of the object under test the number of piezoelectric elements is decreased. When imaging a deep thick region of the object under test the number of piezoelectric elements is increased. This makes it possible for example to maintain a constant resolution of images in the depth direction.

Another exemplary sensor center position setup in the ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

An image over a wider range can be obtained by setting a virtual array transducer to the outside of a real array transducer. An image over a wide range will be schematically described below with reference to .

When the array transducer performs imaging at the sensor center position A thereof according to the first embodiment images can be obtained within a range of a fan A but pixel values cannot be obtained in regions A and B. When the virtual array transducer is set in the region the sensor center position can be set to a point allowing images to be obtained within a range of a fan B. Thus imaging can be performed over a wider range. For example suppose a case where an array transducer is disposed on the outer circumference of a bent pipe. If the sensor cannot be brought any closer to the bent portion on the pipe setting a virtual array transducer as shown in makes it possible to test portions closer to the bent portion. This effect of obtaining images over a wider range is also applicable to a case where the elements of the array transducer are partially used as a virtual array transducer as shown in .

As mentioned above according to the present embodiment setting a virtual array transducer as well as a relevant sensor center position makes it possible to adjust resolution in the depth direction allowing imaging over a wider range.

Configuration and operation of an ultrasonic testing apparatus according to a third embodiment of the present invention will be described below with reference to . The configuration of the ultrasonic testing apparatus according to the present embodiment is the same as that shown in .

When the same element cluster is used both for transmission and reception a transmission signal drifting into the same element or the same element cluster causes signals A and B of which serve as noise forming a dead zone in the vicinity of the array transducer. When different elements or element clusters are used for transmission and reception signals A and B of accompanying transmission can be reduced resulting in a reduced dead zone.

On the other hand when the element cluster combinations of are used the sensitivity can be increased allowing deeper portions to be tested.

Therefore for example deep portions are initially tested by using the element cluster combinations of and if a detected defect a crack or the like extends to a shallower portion the element cluster combinations are changed to those of to enable shallower portions to be subsequently tested.

According to the present embodiment selecting a combination of different element clusters for transmission and or reception each element cluster being composed of a single or a plurality of elements makes it possible to separate element s element clusters for transmission from element s element clusters for reception thus reducing noise signals such as a transmitting pulse an echo in a shoe etc. accompanying ultrasonic transmission.

Configuration and operation of a three dimensional ultrasonic imaging apparatus according to a fourth embodiment of the present invention will be described below with reference to .

First of all the configuration of the three dimensional ultrasonic imaging apparatus according to the present embodiment will be described below with reference to .

The three dimensional ultrasonic imaging apparatus according to the present embodiment includes a two dimensional array ultrasonic sensor X configured to transmit an ultrasonic wave to an object under test a transmitter receiver X a display unit X configured to display a receive signal and three dimensional testing data a scanning unit controller X configured to feed the two dimensional array ultrasonic sensor X a displacement detector X configured to detect a displacement of the ultrasonic sensor X and a sensor scanning unit configured to feed the two dimensional array ultrasonic sensor X.

The array ultrasonic sensor X is composed of piezoelectric elements X each transmitting an ultrasonic wave as shown in . The array ultrasonic sensor X is set on a testing surface of an object under test transmits an ultrasonic wave X by a drive signal supplied from the transmitter receiver X propagates the ultrasonic wave X in the object under test measures a reflected echo therefrom and supplies a receive signal to the transmitter receiver .

The transmitter receiver X includes a computer XA a delay time controller XB a pulser XC a receiver XD and data storage XE. The pulser XC supplies a drive signal to an array transducer X and the receiver XD processes the receive signal received from the array ultrasonic sensor X. The computer XA controls the delay time controller XB the pulser XC the receiver XD and the data storage XE to perform necessary operations.

The delay time controller XB controls the timing of drive signal output from the pulser XC as well as the timing of receive signal input to the receiver XD to attain operations of the two dimensional array ultrasonic sensor employing the phased array method. The two dimensional array ultrasonic sensor X employing the phased array method controls a focal depth of the ultrasonic wave X and at the same time three dimensionally controls its beam angle X in the object under test during transmission and reception of the ultrasonic wave X.

The data storage XE processes the receive signal supplied from the receiver XD and then supplies it to the computer XA. The computer XA processes the stored testing data and then displays the data on the display unit .

Processing in the computer XA and operation of the display unit X will be described in detail later. The computer XA combines waveforms obtained by the piezoelectric elements in relation to a delay time converts a waveform for each beam angle of each ultrasonic wave to three dimensional testing data and displays three dimensional testing data XB on the display unit X.

Further the computer XA combines sums up or averages a plurality of pieces of three dimensional testing data XB obtained at each position according to operations of the scanning unit controller X and the displacement detector X to be mentioned later and displays the combined three dimensional testing data as a three dimensional processing image XC on the display unit X. The display unit X displays three dimensional testing data as mentioned above and is provided with a function to display a receive waveform XA corresponding to a position at a desired ultrasonic beam angle X F in testing data.

A position controller of the scanning unit controller X receives a movement signal including moving speed and displacement from the computer XA and drives a sensor moving unit X based on this signal to move the set position of the two dimensional array ultrasonic sensor X. The sensor moving unit X is connected to the displacement detector X to measure an actual displacement of the array ultrasonic sensor X. illustrates a case where the array ultrasonic sensor X moves a testing start position XA a set position of the array ultrasonic sensor X at the start of testing to a testing end position XC a set position of the array ultrasonic sensor X at the end of testing .

A measured displacement is sent to the computer XA and then used to process testing data. A displacement at each testing position of the ultrasonic sensor X is measured by the displacement detector X and the displacement is used in the computer XA to make a shift in the three dimensional testing data during data combination summation or averaging details will be described later .

Since the ultrasonic imaging apparatus according to the present embodiment can also perform conventional testing operations based on a two dimensional array ultrasonic sensor it is necessary to switch between this operation mode and an operation mode for the above mentioned three dimensional testing data combination summation or averaging processing. The conventional operation mode does not perform the combination processing. In the conventional operation mode as the two dimensional array ultrasonic sensor moves testing data for the same defect is obtained at each testing position. A maximum value of the obtained testing data is displayed as testing data. With the ultrasonic imaging apparatus according to the present embodiment therefore the display unit X is provided with a processing switching unit as means for selecting processing in the computer XA. This processing switching unit selects software processing and therefore is provided as a switch or button XL in the display unit X. The processing switching unit XL switches between the conventional testing mode and the summation averaging processing mode.

Operation of the two dimensional array ultrasonic sensor used for the three dimensional ultrasonic imaging apparatus according to the present embodiment will be described below with reference to .

As mentioned above the array ultrasonic sensor X is composed of a plurality of piezoelectric elements X. When each of the piezoelectric elements X is vibrated due to piezoelectric effect by an electric signal X received from the transmitter receiver X the array ultrasonic sensor X transmits an ultrasonic wave X. The electric signal X supplied to each piezoelectric element drives it in relation to a time delay given from the delay time controller. Wave fronts of the ultrasonic waves transmitted by the piezoelectric elements mutually interfere to form one combined wave front in the course of propagation. The ultrasonic sensor X can focus the ultrasonic waves at a desired depth position as well as control a beam angle X of the focused ultrasonic wave.

With the present embodiment the focal depth is set in consideration of plate thickness of the object under test. This makes it possible to reduce ultrasonic diffusing attenuation which can be a problem when the synthetic aperture method is applied thus enabling testing with high S N ratio even with a long propagation distance of the ultrasonic wave. Further an ultrasonic beam angle range used for testing is set as a solid angle range within which the ultrasonic wave can be transmitted and received with high sensitivity. A step of the ultrasonic beam angle is set in consideration of a tolerance of the number of delay times that can be set by the delay time controller XB.

Operation of three dimensional ultrasonic scanning volume scan by the two dimensional array in the three dimensional ultrasonic imaging apparatus according to the present embodiment will be described below with reference to

The two dimensional array ultrasonic sensor X while maintaining a constant distance between a reference point direct under the center thereof and a focal point transmits and receives ultrasonic waves so as to focus them within the ultrasonic beam angle range used for testing.

Processing of three dimensional testing data in the three dimensional ultrasonic imaging apparatus according to the present embodiment will be described below with reference to .

Three dimensional testing data shown in is processed by the computer A. schematically illustrates detailed processing of the three dimensional testing data in the computer XA.

For convenience illustrates only testing data on a desired y axis cross section in the xyz coordinate system. The computer XA shown in performs the steps of combining waveforms obtained by the piezoelectric elements X in relation to a delay time performing appropriate interpolation processing of waveforms for each beam angle of each ultrasonic wave to convert the waveforms to three dimensional testing data having voxel format a voxel means a three dimensionally arranged cubic element and processing the three dimensional testing data. However the three dimensional testing data used here represents RF waveforms.

If the array ultrasonic sensor X is horizontally displaced by a displacement X from a position of three dimensional testing data obtained at the testing start position XA a positional shift occurs if the storage range of the three dimensional testing data remains same. Measurement values by the displacement detector X are used to correct the positional shift. The three dimensional testing data is subjected to a deviation in the X axis direction and therefore summation is performed after shifting by the deviation as shown by formula 5 where X denotes the displacement of the sensor. G denotes a voxel address value of three dimensional processing data and gm denotes a voxel address value of the m th three dimensional testing data. The following formula 5 shows the voxel address value at the time of summation.

In order to schematically illustrate detailed processing the example of sums up three different sets of three dimensional testing data and to obtain the three dimensional processing data .

First three dimensional testing data 1 A denotes three dimensional testing data obtained at the testing start position XA. Similarly i th three dimensional testing data i B and m th three dimensional testing data m C are obtained at testing positions XB and XC respectively. A total of m sets of three dimensional testing data is obtained.

With the present embodiment the two dimensional array ultrasonic sensor X is disposed in parallel with the bottom surface that is an axial direction of a parallel flat plate or pipe. With these pieces of three dimensional testing data a reflected echo XI from the bottom surface is obtained directly under the set position of the two dimensional array ultrasonic sensor. If a defect originates from the bottom side a defect corner echo XK and a defect tip echo XJ are observed.

When summation or averaging of these pieces of three dimensional testing data is performed while making a shift by the number of voxels corresponding to the displacement of the array ultrasonic sensor as shown in three dimensional processing data is obtained. At the defect tip echo XK and the defect corner echo XJ only the signal of the defect X selectively remains by the superposition of wave fronts of ultrasonic waves transmitted from various angles. This process is based on the same principle as the synthetic aperture method. The three dimensional processing data is displayed on the display unit X and used to check a defect position and evaluate a defect depth.

Three dimensional ultrasonic imaging in the three dimensional ultrasonic imaging apparatus according to the present embodiment will be described below with reference to .

Referring to the testing process performs the steps of setting a testing range and a focal depth and an ultrasonic beam angle range of the two dimensional array ultrasonic sensor in the transmitter receiver X and starting testing step S setting the ultrasonic sensor X on an object under test step S performing three dimensional ultrasonic scanning volume scan swinging the ultrasonic beam angle step S storing a waveform obtained at each ultrasonic beam angle in the transmitter receiver X and converting the obtained waveforms to three dimensional testing data in the computer XA step S and displaying the data on the display unit X as three dimensional testing data. If testing is not completed for the entire testing range the testing process moves the two dimensional array ultrasonic sensor by the scanning unit X step S and repeats m times three dimensional ultrasonic scanning and conversion to three dimensional testing data until testing is completed for the entire testing range step S .

When testing is completed for the entire testing range from the testing start position XA to the testing end position XC the testing process performs the steps of summing up or averaging the stored three dimensional testing data while making a shift by the displacement of the ultrasonic sensor X in the computer XA step S displaying on the display unit X the thus obtained summed up or averaged three dimensional processing data processing data step S and terminating testing step S .

The testing process performs the steps of setting a testing range and a focal depth and an ultrasonic beam angle range of the two dimensional array ultrasonic sensor in the transmitter receiver X and starting testing step S setting the ultrasonic sensor X on an object under test step S performing three dimensional ultrasonic scanning volume scan swinging the ultrasonic beam angle step S and storing a waveform obtained at each ultrasonic beam angle and converting the obtained waveforms to three dimensional testing data in the computer XA step S .

When there are two or more sets of three dimensional testing data the testing process sums up or averages the stored three dimensional testing data while making a shift by the displacement of the ultrasonic sensor X in the computer XA step S and then displays data on the display unit X. If testing is not completed for the entire testing range the testing process moves the array ultrasonic sensor by the scanning unit X step S and repeats m times three dimensional ultrasonic scanning volume scan and conversion to three dimensional testing data until testing is completed for the entire testing range step S .

When testing is completed for the entire testing range from the testing start position XA to the testing end position XC the testing process terminates testing step S .

As mentioned above three dimensional ultrasonic imaging according to the present embodiment comprises the steps of three dimensionally scanning the inside of an object under test while varying the beam angle of the ultrasonic wave transmitted from the two dimensional array ultrasonic sensor sequentially moving the set position of the two dimensional array ultrasonic sensor or changing the transmission reception position of ultrasonic waves and summing up or averaging three dimensional testing data obtained at each testing position while making a shift by the displacement of the two dimensional array ultrasonic sensor or by the transmission reception position to attain three dimensional imaging. Since three dimensional processing data can be configured by superimposing ultrasonic waves transmitted from various angles the effect of ultrasonic focus can be obtained without preparing a number of data processing tables focal law delay time . The present embodiment allows high resolution three dimensional processing data to be obtained at almost all positions thus attaining high accuracy non destructive testing.

Further the present embodiment restricts ultrasonic diffusing attenuation which has been a problem of the synthetic aperture method. Specifically when an object under test is scanned by converging ultrasonic waves from the array ultrasonic sensor ultrasonic diffusing attenuation can be restricted even with a thick object under test or a long ultrasonic propagation distance. Accordingly the S N ratio of three dimensional testing data can be improved. Similarly the process of summation or averaging of three dimensional testing data can reduce electrical noise and other random noise. This process also improves the S N ratio of three dimensional testing data. The present embodiment enables collective three dimensional imaging over a wide testing range based on high resolution and high S N ratio three dimensional testing data and allows images to be handled as one piece of three dimensional testing data by using a two dimensional array ultrasonic sensor. The present embodiment only utilizes one set of data processing table focal law and is also applicable to thick objects and high attenuation materials.

Configuration and operation of a three dimensional ultrasonic imaging apparatus according to a fifth embodiment of the present invention will be described below with reference to . The three dimensional ultrasonic imaging apparatus according to the present embodiment is the same as that shown in .

The present embodiment shown in differs from the fourth embodiment of in that the present embodiment feeds the two dimensional array ultrasonic sensor also in the y axis direction i.e. in a posterior direction of the paper and therefore is used for a wider testing range. Two dimensional scanning methods employing a mechanical scanning unit include zigzag scanning and comb scanning. With comb scanning the array is fed in one axial direction returned to home position moved in another axial direction by a scanning pitch and fed again in the one axial direction.

First three dimensional testing data 1 1 A denotes three dimensional testing data obtained at the testing start position XA. Similarly i j th three dimensional testing data i j B and m n th three dimensional testing data m n C are obtained at testing positions XB and XC respectively. A total of m n sets of three dimensional testing data is obtained.

With these pieces of three dimensional testing data a reflected echo XI from the bottom surface is obtained directly under the set position of the two dimensional array ultrasonic sensor. If a defect originates from the bottom side a defect corner echo XK and a defect tip echo XJ are observed.

When summation or averaging of these pieces of three dimensional testing data is performed while making a shift by the number of voxels corresponding to the displacement and direction of the array ultrasonic sensor three dimensional processing data is obtained. At the defect tip echo XK and the defect corner echo XJ only the signal of the defect X selectively remains by the superposition of wave fronts of ultrasonic waves three dimensionally transmitted from various angles. This process is based on the same principle as the synthetic aperture method. The three dimensional processing data is displayed on the display unit X and used to check a defect position and evaluate a defect depth.

Detailed processing of three dimensional ultrasonic imaging will be described below with reference to .

The testing process performs the steps of setting a testing range and a focal depth and an ultrasonic beam angle range of the two dimensional array ultrasonic sensor in the transmitter receiver X and starting testing step SX setting the ultrasonic sensor X on an object under test step SX performing three dimensional ultrasonic scanning volume scan swinging the ultrasonic beam angle step SX storing a waveform obtained at each ultrasonic beam angle in the transmitter receiver X and converting the obtained waveforms to three dimensional testing data in the computer XA step SX and displaying the data on the display unit X as three dimensional testing data.

If testing is not completed for the entire testing range the testing process moves the array ultrasonic sensor by the scanning unit X step SX and repeats m n times three dimensional ultrasonic scanning and conversion to three dimensional testing data until testing is completed for the entire testing range step SX .

When testing is completed for the entire testing range from the testing start position XA to the testing end position XC the testing process sums up or averages the stored three dimensional testing data while making a shift by the displacement of the ultrasonic sensor X in the computer XA step SX .

The testing process displays on the display unit X the thus obtained summed up or averaged three dimensional processing data processing data step SX and terminates testing step SX .

As mentioned above three dimensional ultrasonic imaging according to the present embodiment also comprises the steps of three dimensionally scanning the inside of an object under test while varying the beam angle of the ultrasonic wave transmitted from the two dimensional array ultrasonic sensor sequentially moving the set position of the two dimensional array ultrasonic sensor or changing the transmission reception position of ultrasonic waves and summing up or averaging three dimensional testing data obtained at each testing position while making a shift by the displacement of the two dimensional array ultrasonic sensor or by the transmission reception position to attain three dimensional imaging. Since three dimensional processing data can be configured by superimposing ultrasonic waves transmitted from various angles the effect of ultrasonic focus can be obtained without preparing a number of data processing tables focal law delay time . The present embodiment allows high resolution three dimensional processing data to be obtained at almost all positions thus attaining high accuracy non destructive testing.

Further the present embodiment restricts ultrasonic diffusing attenuation which has been a problem of the synthetic aperture method. Specifically when an object under test is scanned by converging ultrasonic waves from the array ultrasonic sensor ultrasonic diffusing attenuation can be restricted even with a thick object under test or a long ultrasonic propagation distance. Accordingly the S N ratio of three dimensional testing data can be improved. Similarly the process of summation or averaging of three dimensional testing data can reduce electrical noise and other random noise. This process also improves the S N ratio of three dimensional testing data. The present embodiment enables collective three dimensional imaging over a wide testing range based on high resolution and high S N ratio three dimensional testing data and allows images to be handled as one piece of three dimensional testing data by using a two dimensional array ultrasonic sensor. The present embodiment only utilizes one set of data processing table focal law and is also applicable to thick objects and high attenuation materials.

Configuration and operation of a three dimensional ultrasonic imaging apparatus according to a sixth embodiment of the present invention will be described below with reference to . The three dimensional ultrasonic imaging apparatus according to the present embodiment is the same as that shown in .

The present embodiment shown in applies an object under test having a curved surface like a circumference of a pipe or having a complicated shape while the fourth embodiment of and the fifth embodiment of apply an object under test having a planar shape.

Referring to with an object under test X having a curved shape first three dimensional testing data 1 XA denotes three dimensional testing data measured at the testing start position XA. Similarly i th three dimensional testing data i XB and m th three dimensional testing data m XC are measured at testing positions XB and XC respectively. When three dimensional ultrasonic scanning volume scan is performed at each position a total of m sets of three dimensional testing data X is obtained. The present embodiment assumes an object under test having a curved shape such as a pipe. Therefore since the surface on which the array ultrasonic sensor X is disposed is almost in parallel with the bottom surface an echo XI from the bottom surface is obtained directly under the set position of the array ultrasonic sensor X. If a defect originates from the bottom side a defect corner echo XA and a defect tip echo XB are observed corresponding to respective defect position X.

The testing process sums up or averages these pieces of three dimensional testing data while making a shift by the number of pixels corresponding to the displacement of the two dimensional array ultrasonic sensor. The present embodiment differs from the first and second embodiments in that the object under test has a curved surface and therefore that the effect of inclination by this shape needs to be corrected when processing three dimensional testing data. The present embodiment therefore is provided with premeasured data regarding the surface shape of the object under test or with a function to measure the inclination of the two dimensional array ultrasonic sensor in the displacement detection unit to correct the inclination at the time of summation or averaging of three dimensional testing data. Specifically the computer shifts three dimensional testing data by the displacement of the center position of the array ultrasonic sensor from the testing start position rotates the data by the rotation angle from the testing start position and performs summation or averaging to obtain three dimensional testing data X.

The computer corrects the inclination of each voxel to adjust mutual positions of voxels through appropriate supplementary processing as preprocessing and then performs summation or averaging . With the three dimensional testing data X at a defect corner echo XA and a defect tip echo XB only the signal at a real defect position selectively remains by the superposition of wave fronts of ultrasonic waves three dimensionally transmitted from various angles. The three dimensional testing data X is used to check a defect position and evaluate a defect depth. Even for a complicated surface shape three dimensional processing data can be created by performing the above mentioned processing.

Detailed processing of three dimensional ultrasonic imaging will be described below with reference to .

The testing process performs the steps of setting a testing range and a focal depth and an ultrasonic beam angle range of the two dimensional array ultrasonic sensor and starting testing step S setting the two dimensional ultrasonic sensor to an object under test S performing three dimensional ultrasonic scanning volume scan S storing a waveform obtained at each ultrasonic beam angle and converting the obtained waveforms to three dimensional testing data in the computer step S .

If testing is not completed for the entire testing range the testing process moves the two dimensional array ultrasonic sensor along the surface of the object under test by the scanning unit step S and repeats m times three dimensional ultrasonic scanning and conversion to three dimensional testing data until testing is completed for the entire testing range step S .

When testing is completed for entire testing range the testing process performs the steps of shifting each piece of three dimensional testing data stored in the computer by the displacement of the two dimensional array ultrasonic sensor from the testing start position then rotating the data by the inclination angle from the testing start position and then performing summation or averaging step S displaying the result on the display unit step S and terminating testing step S .

As mentioned above three dimensional ultrasonic imaging according to the present embodiment also comprises the steps of three dimensionally scanning the inside of an object under test while varying the beam angle of the ultrasonic wave transmitted from the two dimensional array ultrasonic sensor sequentially moving the set position of the two dimensional array ultrasonic sensor or changing the transmission reception position of ultrasonic waves and summing up or averaging three dimensional testing data obtained at each testing position while making a shift by the displacement of the two dimensional array ultrasonic sensor or by the transmission reception position to attain three dimensional imaging. Since three dimensional processing data can be configured by superimposing ultrasonic waves transmitted from various angles the effect of ultrasonic focus can be obtained without preparing a number of data processing tables focal law delay time . The present embodiment allows high resolution three dimensional processing data to be obtained at almost all positions thus attaining high accuracy non destructive testing.

Further the present embodiment restricts ultrasonic diffusing attenuation which has been a problem of the synthetic aperture method. Specifically when an object under test is scanned by converging ultrasonic waves from the array ultrasonic sensor ultrasonic diffusing attenuation can be restricted even with a thick object under test or a long ultrasonic propagation distance. Accordingly the S N ratio of three dimensional testing data can be improved. Similarly the process of summation or averaging of three dimensional testing data can reduce electrical noise and other random noise. This process also improves the S N ratio of three dimensional testing data. The present embodiment enables collective three dimensional imaging over a wide testing range based on high resolution and high S N ratio three dimensional testing data and allows images to be handled as one piece of three dimensional testing data by using a two dimensional array ultrasonic sensor. The present embodiment only utilizes one set of data processing table focal law and is also applicable to thick objects and high attenuation materials.

Configuration and operation of a three dimensional ultrasonic testing apparatus according to a seventh embodiment of the present invention will be described below with reference to .

First of all the configuration of the three dimensional ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

The three dimensional ultrasonic testing apparatus according to the present embodiment is composed of an array ultrasonic sensor configured to transmit an ultrasonic wave to an object under test a transmitter receiver Z and a display unit Z configured to display receive signals and testing images.

The array ultrasonic sensor Z is basically composed of a plurality of piezoelectric elements Z each being able to transmit and receive an ultrasonic wave as shown in . The array ultrasonic sensor Z is disposed on a testing surface of the object under test . The array ultrasonic sensor Z transmits an ultrasonic beam Z with a drive signal supplied from the transmitter receiver Z propagates the ultrasonic beam Z in the object under test detects a reflected wave generated by the object under test and feeds a receive signal to the transmitter receiver Z as needed.

The transmitter receiver Z includes a computer ZA a delay time controller ZB a pulser ZC a receiver ZD and data storage ZE to transmit and receive an ultrasonic wave by using the array ultrasonic sensor Z. In the transmitter receiver Z the pulser ZC supplies a drive signal to the array ultrasonic sensor Z and the receiver ZD processes a receive signal received from the array ultrasonic sensor Z.

The computer ZA basically includes a central processing unit CPU ZA a random access memory RAM ZA a read only memory ROM ZA and an external memory ZA. The ROM ZA contains a program for controlling the CPU ZA written thereto. The CPU ZA according to the program performs operations while reading necessary external data from the data storage ZE and exchanging data with the RAM ZA and the external memory ZA and outputs processed data to the data storage ZE.

The CPU ZA controls the delay time controller ZB the pulser ZC and the receiver ZD to perform necessary operations. The delay time controller ZB controls both the timing of drive signal output from the pulser ZC and the timing of receive signal input to the receiver ZD to attain operations of the array ultrasonic sensor Z employing the phased array method.

The array ultrasonic sensor Z employing the phased array method controls a focal depth Z and a beam angle Z of the ultrasonic beam Z which are formed by combining ultrasonic waves transmitted from each piezoelectric element of the array ultrasonic sensor Z in relation to a delay time and receives a reflected ultrasonic wave. The receiver ZD supplies a receive signal to the data storage ZE. The data storage ZE processes the supplied receive signal stores it as storage data and at the same time feeds it to the computer ZA. The computer ZA performs the steps of combining waveforms obtained by the piezoelectric elements in relation to a delay time performing appropriate interpolation processing of waveforms for each beam angle of each ultrasonic wave to create two dimensional testing data in units of a two dimensional square lattice as represented by the pixel format as well as three dimensional testing data in units of a three dimensional cubic lattice as represented by the voxel format imaging these pieces of data and displaying them on the display unit Z.

The display unit Z includes a two dimensional display screen ZB for displaying two dimensional testing data a three dimensional display screen ZC for displaying three dimensional testing data and a waveform display screen ZA for displaying a waveform signal of each piezoelectric element. illustrates one display unit Z. However the waveform display screen ZA the two dimensional display screen ZB and the three dimensional display screen ZC may be displayed separately by a plurality of display units.

Exemplary display of the three dimensional display screen C in the three dimensional ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

The three dimensional display screen CZ on the display unit Z displays three dimensional testing data Z as shown in . The three dimensional display screen CZ can display the data in a desired display size from a desired viewpoint by an input from a mouse ZF or a keyboard ZG connected to the computer ZA. In this case an inspector can numerically input a scale of enlargement for changing the display size from the keyboard ZG. Although the display color and transparency are given in units of a voxel lattice they can be changed in relation to reflection intensity input from the mouse ZF and the keyboard ZG. Since a plurality of display color patterns are provided an inspector can select one according to his or her application.

These three dimensional drawing algorithms have been attained for example in libraries as represented by OpenGL a registered trademark and DirectX a registered trademark which are industry wide standard graphics application programming interfaces Graphics APIs . If necessary information such as the shape viewpoint and display position of an object to be displayed is given by using these Graphics APIs in a program a three dimensional shape can be easily drawn with a desired viewpoint colors transparency and size at a desired position on the display unit.

The three dimensional display screen ZC displays three dimensional shape data Z representing the shape of an object under test together with the three dimensional testing data Z thereof. The three dimensional shape data Z is read from the outside of the computer ZA. In particular if CAD data of the object under test exists this data can be read and displayed. The format of CAD data allows it to be input and output by commercial CAD software. For example the STL an abbreviation of Stereo Lithography or Standard Triangulated Language format is used which can be read and output by many CAD software products. The STL format is a representation of a surface of an object with a set of a number of triangles. A planar normal vector and coordinate values of three apexes of these triangles are stored in a STL file. Drawing a plurality of straight lines and triangles makes it easier to display three dimensional shape data Z from an STL format file by using Graphics API. Three dimensional shape data can be displayed only with outlines as shown in opaquely with outer surfaces filled or half transparently. These display modes can be easily attained by changing the transparency value given to drawing functions implemented in Graphics API when drawing triangles. Even if the three dimensional shape data Z overlaps with the three dimensional testing data Z these display modes make the data legible for an inspector. Further the three dimensional shape data Z can be shown or hidden as required.

Although not shown a plurality of pieces of three dimensional shape data Z can be simultaneously displayed on the three dimensional display screen ZC.

A selected three dimensional shape data Z can be displayed from a desired viewpoint at a desired position and in a desired size independently from the three dimensional testing data Z by an input from the mouse ZF or the keyboard ZG connected to the computer ZA.

The following describes sizing of a crack present inside an object under test from testing images obtained by the phased array method by using three dimensional ultrasonic testing according to the present embodiment with reference to .

First of all a three dimensional scanning method in the three dimensional ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

Although metal is mainly assumed as the plate Z this example is applicable to diverse materials such as resin. The crack Z branches off and has ends ZA ZB and ZC. is a bird s eye view of the crack Z is a top view thereof and are side views thereof. Although this example assumes that the crack Z is like a SCC stress corrosion crack which branches off the crack does not necessarily branch off.

As shown in the array ultrasonic sensor Z is disposed on a testing surface Z preferable to test the crack Z through an appropriate couplant an ultrasonic propagation medium . The array ultrasonic sensor Z may be either for transverse wave generation or longitudinal wave generation and an appropriate wedge is disposed between the array ultrasonic sensor Z and the testing surface Z. For example an ultrasonic sensor for longitudinal wave generation is disposed with a wedge to transmit a transverse wave to the plate Z.

Although a three dimensional scanning process can be set in any desired way with a delay time pattern controlled by the delay time controller ZB the following describes a scanning process with which a two dimensional sectorial plane is rotated by 180 degrees hereinafter referred to as sectorial rotation scanning process .

The sectorial rotation scanning process rotates a two dimensional sectorial plane used in the conventional sectorial scanning process around the center axis of the sectorial in appropriate angular steps only by changing the delay time. The sectorial rotation scanning process makes it possible to three dimensionally scan the inside of an object under test without moving the array ultrasonic sensor Z.

An exemplary two dimensional display screen of a testing result obtained by the three dimensional scanning process in the three dimensional ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

Each sectorial plane of the sectorial group Z shown in can be displayed in the two dimensional display screen ZB in any desired way by specifying a sectorial plane. illustrates an exemplary two dimensional display screen ZB displaying a sectorial plane Z at a cross sectional position Z shown in . Dotted lines Z denote lines projected onto the sectorial plane Z of the crack Z and are shown to make it easier to understand the present embodiment.

Since the sectorial plane Z includes an incidence point Z the originating portion ZD of the crack Z and an end portion ZA thereof as shown in an echo ZD caused by the reflection at the originating portion ZD and an echo ZA caused by the reflection at the end portion ZA are shown. Echoes caused by the reflection at other end portions are not shown. A bottom surface echo ZE caused by the reflection on the bottom surface of the plate Z directly below the incidence point Z is shown. Profile lines Z shown in are profile lines of the plate Z. These lines are calculated from CAD data of the plate Z read from the outside and displayed on the two dimensional display screen ZB together with a testing result.

An exemplary three dimensional display screen of a testing result obtained by the three dimensional scanning process in the three dimensional ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

Since the storage data used here is composed of a plurality of sectorial planes including the end portions ZA ZB and ZC and the originating portion ZD of the crack Z shown in or a plurality of sectorial planes passing through the vicinity thereof. Therefore the three dimensional display screen CZ displays echoes ZA ZB ZC and ZD caused by ultrasonic waves reflected by the end portions ZA ZB and ZC and the originating portion ZD respectively. Similarly to the screen CZ also displays a bottom surface echo ZE. The screen CZ further displays the CAD data Z of the array ultrasonic sensor Z and the CAD data Z of the plate Z read from the outside together with a testing result.

The two dimensional phased array method must locate a plurality of echo positions while checking each individual sectorial image as shown in . On the other hand the three dimensional phased array method can check a plurality of echoes at one time from the three dimensional images as shown in thus allowing testing procedures to be performed efficiently and quickly.

Another three dimensional scanning process in the three dimensional ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

The sectorial swing scanning process rotates a sectorial plane used in the conventional sectorial scanning process in the direction perpendicular thereto centering on the ultrasonic incidence point in appropriate angular steps based on a delay time setup. The sectorial swing scanning process also makes it possible to three dimensionally scan the inside of an object under test without moving the array ultrasonic sensor .

A method for sizing a crack by using three dimensional testing data obtained by the three dimensional scanning process in the three dimensional ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

First of all in step S of the operator specifies a first cubic region containing a echo caused by the reflection at the crack originating portion D on the three dimensional display screen.

A method for selecting a point on the three dimensional display screen in the three dimensional ultrasonic testing apparatus according to the present embodiment will be described below with reference to .

The following describes a process for measuring the distance from the originating portion ZD of the crack Z to the end portion ZA thereof at which the crack Z progresses most. A crack distance measurement mode is activated by clicking a button on the three dimensional display screen ZC with a mouse ZF.

In step S of the operator specifies a first cubic region Z containing an echo DZ caused by the reflection at the originating portion ZD on the three dimensional display screen ZC.

In step S of the inspector specifies a point Z on the three dimensional display screen displayed in a certain viewing direction with the mouse ZF as shown in . In this case the position at which the point Z is specified is set in the vicinity of an echo to be selected that is an echo ZD shown in .

Similarly in step S the inspector specifies a point Z as a second point with the mouse ZF. In this case the second point is specified so that a square Z having the first and second points as opposing corners contains the echo ZD.

When positions of the two points is specified in step S the computer ZA determines the cubic region Z composed of the square Z. However in this stage since a spatial position cannot be determined in the direction perpendicular to the viewing direction it is set at most anterior or posterior position of the three dimensional testing data or at an intermediate position thereof.

In step S the inspector changes the viewing direction with the mouse ZF. In a state shown in three dimensional shape data Z is shown so that the x z plane comes to the front. This data can be viewed from the right hand side face. Specifically the operator can change the viewing direction so that the y z plane comes to the front by dragging a vertical edge of the three dimensional shape data Z with the mouse ZF to rotate the data by 90 degrees around the z axis of the display coordinate system. In this case instead of the three dimensional shape data Z the operator can drag three dimensional testing data ZA or ZE to rotate the data by 90 degrees around the z axis of the display coordinate system. It is also possible to display a push button set to rotate the data by 90 degrees around the z axis on the three dimensional display screen ZC beforehand and click this push button with the mouse to change the viewing direction.

In this state in step S the computer ZA checks again whether or not the cubic region Z contains the echo ZD. The operator can move the cubic region Z in parallel with the mouse ZF independently of the three dimensional testing data.

In determination in step S if the cubic region Z does not contain the echo ZD the operator moves the cubic region Z with the mouse ZF so that the echo ZD is contained in the cubic region Z step S .

In step S again the operator changes the viewing direction of the three dimensional display to repeat the same check. Normally when the operator repeats this operation once or twice the echo ZD becomes to be contained in the cubic region Z. The first cubic region Z is specified with the above operations.

Although a three dimensional region to be specified is a cube it may be a rectangular parallelepiped a sphere or other three dimensional region other than a cube.

In step S the computer ZA selects a voxel having a maximum value out of voxels included in first cubic region Z. In step S the computer ZA displays a voxel Z on the three dimensional display screen ZC in color that allows it to be recognized thereon as shown in .

In step S the inspector checks whether or not a point is displayed at a desired position and if not repeats steps S to again.

If a point is displayed at a desired position in step S the computer ZA determines this point as a first voxel position.

In steps S to S the inspector and the computer ZA specify a second cubic region Z including an echo ZA caused by the reflection at the originating portion ZA on the three dimensional display screen ZC. A method for specifying the second cubic region Z and a method for determining the second voxel position are the same as the method for specifying the first cubic region Z and the method for determining the first voxel position respectively.

In step S the computer ZA calculates the distance between the first and second voxel positions from coordinates values of the two voxel positions.

In step S the computer ZA displays a linear three dimensional scale connecting between the first and second voxel positions on the three dimensional display screen in color that allows it to be recognized thereon.

Specifically as shown in the computer ZA displays a linear three dimensional scale Z connecting between the first and second voxel positions on the three dimensional display screen ZC in color that allows it to be recognized thereon. In this case a distance L between the two points is also displayed on the display unit Z in the vicinity of the three dimensional scale. For example the distance between the two points is displayed as 3 mm in the figure. 

The inspector can move both end points ZA and ZD of the three dimensional scale Z in parallel in the direction perpendicular to the viewing direction displayed up to a desired position by dragging with the mouse ZF the two points. Thus the setup position of the three dimensional scale Z can be fine adjusted. The three dimensional scale Z is also applicable to measurement of distance between other portions by largely moving the point ZA or ZD. When the point ZA or ZD is moved the straight line connecting the two points changes and the numerical value at the display unit Z displaying the distance between two points also changes accordingly.

Not only a point corresponding to an echo but also an ultrasonic incidence point or any point defined in CAD data Z and Z can be used as a point for defining the three dimensional scale Z. Therefore it is also possible to measure distance between two points other than ones defined in voxel data.

As mentioned above three dimensional drawing processing for this purpose can be easily attained for example by utilizing libraries offered by OpenGL and DirectX typical Graphics APIs in a program.

As mentioned above by operating the three dimensional scale Z on the three dimensional display screen ZC the inspector can perform sizing on the crack Z as well as measure distance between various positions without displaying a cross section of the three dimensional testing data. Thus measurement procedures can be performed easily and efficiently.

The following describes display of positional information with reference to a non crack position in the three dimensional ultrasonic testing apparatus according to the present embodiment referring to .

In the example shown in both end points ZA and ZD of a crack are specified as two points specified on the three dimensional display unit and the three dimensional scale Z is displayed with reference to these points. One of the two points specified on the three dimensional display unit can be specified as a non crack point.

As a first example positional information with reference to an ultrasonic incidence point may be given as one of the two points specified on the three dimensional display unit. A case in which the point ZA is specified will be described below.

In this example an ultrasonic incidence point Z is specified as one of the two points specified on the three dimensional display unit. Although the ultrasonic incidence point Z can be specified using cube display as described in a push button named Ultrasonic incidence point is displayed on the three dimensional display screen ZC and this push button is then clicked with the mouse to specify the ultrasonic incidence point Z.

When two points are specified a distance Lfrom the testing surface Z shown in is calculated and displayed at an appropriate position at an end of the three dimensional display screen ZC. It is needless to say that the distance Lmay be displayed on another screen. This can be easily attained by calculating a distance between a plane defined in the CAD data Z of the plate Z read from the outside and the point ZA.

Further when viewed from the direction perpendicular to the testing surface Z a distance Lformed by projecting a straight line connecting the ultrasonic incidence point Z and the point ZA onto the testing surface Z is calculated. This distance can also be calculated based on planar geometric information defined in the CAD data Z of the plate Z and coordinate values of the point ZA and the ultrasonic incidence point Z.

An elevation angle and an azimuthal angle of the point ZA in a coordinate system having the ultrasonic incidence point Z as an origin are calculated and displayed on the three dimensional display screen ZC. Generally this coordinates system is such that the normal direction chain line of the testing surface Z is set as the z axis. Although the x and y axes may be set in any desired way in relation to an object under test they must be set with reference to an edge or a lateral face of the object under test or other characteristic shape.

Similarly a distance an elevation angle and an azimuthal angle can be obtained for the other end point ZD of the three dimensional scale Z.

As a second example positional information with reference to an end point of the three dimensional scale Z may be given as one of the two points specified on the three dimensional display unit. A case in which an end point Z of the three dimensional scale Z is specified will be described below.

As one of the two points specified on the three dimensional display unit the end point Z of the CAD data Z is specified. Although the end point Z can be specified using cube display as described in a push button named End point is displayed on the three dimensional display screen ZC and this push button is clicked with the mouse. Then when the vicinity of a desired end point is specified in the AD data Z shown in by using cube display it is also possible to easily specify the end point Z.

When two points are specified distances Land Lfrom the end point Z shown in are calculated and displayed at an appropriate position at an end of the three dimensional display screen ZC. It is needless to say that the distances Land Lmay be displayed on another screen. This can be easily attained by calculating a distance between a plane defined in the CAD data Z of the plate Z read from the outside and the point ZD.

An azimuthal angle of the point ZD in a coordinate system having the end point Z as an origin is calculated and displayed on the three dimensional display screen ZC. The elevation angle in this case is 0 degree.

Further after the inspector specifies any one end point of the three dimensional scale for example the point ZA the inspector specifies the end point by using a button on the three dimensional display screen ZC. Then a sectorial plane having the shortest distance to the point ZA for example the plane Z out of a plurality of sectorial planes composing measurement data is automatically displayed on the two dimensional display screen ZB.

Another configuration of a three dimensional ultrasonic testing apparatus used for the present embodiment of the present invention will be described below with reference to .

Although the three dimensional ultrasonic testing apparatus shown in obtains three dimensional testing data by using the phased array method the present invention is also applicable to three dimensional testing data obtained by using a method other than the phased array method for example the synthetic aperture method.

The three dimensional ultrasonic testing apparatus according to the present embodiment includes an array ultrasonic sensor configured to transmit an ultrasonic wave to an object under test a transmitter receiver Z and a display unit Z configured to display a receive signal and a testing image.

The array ultrasonic sensor Z is basically composed of a plurality of piezoelectric elements Z each being able to transmit and receive an ultrasonic wave as shown in . The array ultrasonic sensor Z is disposed on a testing surface of the object under test . The array ultrasonic sensor Z transmits an ultrasonic beam ZB with a drive signal supplied from the transmitter receiver Z propagates the ultrasonic beam ZB in the object under test detects a reflected wave appearing thereon and feeds a receive signal to the transmitter receiver Z.

The respective piezoelectric elements Z of the array ultrasonic sensor Z are sequentially driven at a necessary timing by a drive signal supplied from a drive signal controller ZB through a pulser ZC. The plurality of piezoelectric elements Z two dimensionally receive a reflected wave of the ultrasonic wave generated therefrom. A receive signal is fed to a receiver ZD of the transmitter receiver Z. Specifically the respective piezoelectric elements Z of the array ultrasonic sensor Z receive reflected waves whose number is equal to the total number of the piezoelectric elements Z.

The signal fed to the receiver ZD is sequentially stored in data storage ZE as storage data. Based on the storage data the computer ZA performs three dimensional imaging of waveforms obtained by the piezoelectric elements Z by using the synthetic aperture method and displays imaging results on the display unit Z.

The computer ZA basically includes a CPU ZA a RAM ZA a ROM ZA and an external memory ZA. The ROM ZA has a program for controlling the CPU ZA written thereto. The CPU ZA according to the program performs operations while reading necessary external data from the data storage ZE and exchanging data with the RAM ZA and outputs processed data to the data storage ZE as required.

A method for displaying and processing three dimensional testing data Z generated by the synthetic aperture method by the computer ZA together with three dimensional shape data Z and a method for sizing a crack inside an object under test from a testing image are the same as those described in the above mentioned first embodiment. Therefore descriptions of these methods are omitted here.

As mentioned above by operating the three dimensional scale on the three dimensional display screen the inspector can size the crack as well as measure a distance between various positions without interruptively displaying the three dimensional testing data. Thus measurement procedures can be performed easily and efficiently.

