---

title: Reference-voltage-less pseudo-differential input circuitry
abstract: System, methods and apparatus are described that facilitate data communications using a single-ended communication link. A method for data communications includes decoupling a direct current component from an alternating current component of a single-ended input signal, biasing the alternating current component with a predetermined bias voltage to obtain a realigned signal, and providing a digital output representative of the input signal by comparing the realigned signal with the predetermined bias voltage. The realigned signal can be compared with the predetermined bias voltage using hysteresis comparison to provide an output signal that switches between logic states compatible with a logic circuit.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09300297&OS=09300297&RS=09300297
owner: QUALCOMM Incorporated
number: 09300297
owner_city: San Diego
owner_country: US
publication_date: 20131105
---
The present disclosure relates generally to high speed data communications interfaces and more particularly to single ended high speed data communication links.

Manufacturers of mobile devices such as cellular phones may deploy various electronic components in one or more integrated circuit IC devices and or on one or more circuit boards. The electronic components may include processing devices storage devices communications transceivers display drivers and the like. In one example a processing device may be provided on a printed circuit board PCB and may communicate with one or more memory devices on the same PCB and or on a different PCB. The processor may communicate with the memory devices using a high speed communication link that supports unidirectional and bidirectional channels for data and control signals.

In a multi wire interface the maximum speed of the communication link and the ability of a receiver to capture data may be limited by the maximum time variation related to transitions of signals transmitted on the communication link. In a multi wire interface transitions on different wires may exhibit different variations of signal transition times which can cause the outputs of receivers in a receiving device to change at different times with respect to a data or symbol boundary. Large transition time differences in multi wire signals can limit the throughput on the communication link by significantly restricting the period of the transmission clock.

Embodiments disclosed herein provide systems methods and apparatus that can provide improved performance over single ended communication links. According to one or more aspects disclosed herein time variations related to transitions of signals transmitted on the communication link may be reduced.

In an aspect of the disclosure a method for data communications includes decoupling a direct current DC component of an input signal received from a single ended data link from an alternating current AC component of the input signal biasing the AC component with a predetermined bias voltage to obtain a realigned signal and providing a digital output representative of the input signal by comparing the realigned signal with the bias voltage. Accordingly decoupling the DC component from the AC component in the input signal received at a receiver from a transmitter may include or cause decoupling of the receiver from a reference voltage used by a transmitter that provides the input signal.

In an aspect of the disclosure the realigned signal is compared with the bias voltage using hysteresis comparison that switches the digital output between logic states compatible with a logic circuit that receives the digital output. In one example the digital output may switch between logic states that are compatible with complementary metal oxide semiconductor CMOS logic levels.

In an aspect of the disclosure the DC component is decoupled from the AC component using a capacitor. Biasing the AC component may include resistively coupling an output of the capacitor to the bias voltage. The capacitor may have a capacitance selected to cause the realigned signal to return to the bias voltage level between transitions. In one example the bias voltage may be a system ground. In another example the bias voltage may be a center voltage between two power supply rails. The output of the capacitor may be resistively coupled to the bias voltage using a resistor having a value and otherwise configured to cause the realigned signal to return to the bias voltage between transitions. The AC component may emphasize transitions in the input signal. Biasing the AC component may include centering the AC component on a voltage level coincident with the optimal input common mode level of the receiving circuitry.

In an aspect of the disclosure the input signal is received from a transmission line. The transmission line may include one or more of a trace on a printed circuit board package substrate silicon or alternative material interposer metallization on an integrated circuit and a wire.

In an aspect of the disclosure an apparatus for data communications includes means for decoupling a DC component of an input signal received from a single ended data link from an AC component of the input signal means for biasing the AC component with a bias voltage to obtain a realigned signal and means for providing a digital output representative of the input signal. The means for providing a digital output may be configured to generate the digital output by comparing the realigned signal with the bias voltage.

In an aspect of the disclosure a digital device for data communications may include a receiving circuit coupled to a single ended transmission line a decoupling circuit that is configured to decouple a DC component of an input signal received over the transmission line from an AC component of the input signal a biasing circuit adapted to bias the AC component with a bias voltage to obtain a realigned signal and comparison logic configured to generate a digital output representative of the input signal by comparing the realigned signal with the bias voltage.

Various aspects are now described with reference to the drawings. In the following description for purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of one or more aspects. It may be evident however that such aspect s may be practiced without these specific details.

As used in this application the terms component module system and the like are intended to include a computer related entity such as but not limited to hardware firmware a combination of hardware and software software or software in execution. For example a component may be but is not limited to being a process running on a processor a processor an object an executable a thread of execution a program and or a computer. By way of illustration both an application running on a computing device and the computing device can be a component. One or more components can reside within a process and or thread of execution and a component may be localized on one computer and or distributed between two or more computers. In addition these components can execute from various computer readable media having various data structures stored thereon. The components may communicate by way of local and or remote processes such as in accordance with a signal having one or more data packets such as data from one component interacting with another component in a local system distributed system and or across a network such as the Internet with other systems by way of the signal.

Moreover the term or is intended to mean an inclusive or rather than an exclusive or. That is unless specified otherwise or clear from the context the phrase X employs A or B is intended to mean any of the natural inclusive permutations. That is the phrase X employs A or B is satisfied by any of the following instances X employs A X employs B or X employs both A and B. In addition the articles a and an as used in this application and the appended claims should generally be construed to mean one or more unless specified otherwise or clear from the context to be directed to a singular form.

Certain aspects of the invention may be applicable to communication links deployed between electronic devices that may include subcomponents of an apparatus such as a telephone a mobile computing device an appliance automobile electronics avionics systems etc. depicts an apparatus that may employ a communication link between IC devices. In one example the apparatus may comprise a wireless communication device that communicates through a radio frequency RF transceiver with a radio access network RAN a core access network the Internet and or another network. Apparatus may include a communications transceiver operably coupled to a processing circuit . The processing circuit may comprise one or more IC devices such as an application specific IC ASIC . The ASIC may include one or more processing devices logic circuits and so on. The processing circuit may include and or be coupled to processor readable storage such as a memory device that may maintain instructions and data that may be executed by the processing circuit . The processing circuit may be controlled by one or more of an operating system and an application programming interface API layer that supports and enables execution of software modules residing in storage media such as the memory device of the wireless device. The memory device may include read only memory ROM or random access memory RAM electrically erasable programmable ROM EEPROM flash cards or any memory device that can be used in processing systems and computing platforms. The processing circuit may include or have access to a local database that can maintain operational parameters and other information used to configure and operate the apparatus . The local database may be implemented using one or more of a database module flash memory magnetic media EEPROM optical media tape soft or hard disk or the like. The processing circuit may also be operably coupled to external devices such as an antenna display operator controls such as a button and a keypad among other components.

Each of n receivers may be configured to receive a signal from a wire of the communication link . Each of the receivers may determine the logic state of a received input signal as the difference between the input signal and a reference voltage defined at the receiving device or circuit . In one example each input signal may be compared to a reference voltage that has a voltage level that is nominally mid way between two voltage levels employed by the receiving circuits.

Data carried or encoded in the input signals may be extracted and or sampled between transitions on the signal wires of the communication link . In one example a trigger signal may be extracted from the communication link to indicate trigger points where the input signals are expected to be stable. The trigger signal may include a sample clock a sampling edge a data strobe or another control signal. In one example the receivers may provide output signals that can be provided to one or more devices such as a memory device . In another example the output signals may be provided to one or more of a processing circuit see a transceiver and or other devices or circuits. In the depicted example the output signals drive certain inputs of the memory device and the receivers may be configured to produce output signals that switch between the logic levels used by the memory device . In some instances the output signals may be further conditioned between the receivers and the memory device .

Data capture at the receiving device may be degraded by prolonged rise and fall times of the data signals on the signal wires poor input sensitivity caused by insufficient voltage separation between reference voltage and voltage levels observed on one or more of the signal wires . Data capture at the receiving device may also be degraded by offsets between the reference voltage at the receiver and a reference voltage used by a transmitter. The presence of uncorrelated noise between the receiver reference signal and the input data signals may also affect data capture. Insufficient separation between switching levels of the data signals and the reference voltage may prevent a receiver from resolving a distinct signal level.

Offsets between reference voltages may be caused by the configuration of connected devices with respect to power supplies circuit design and differences in process technology used to manufacture devices. In one example transmitter and receiver circuits may define their respective reference voltages with respect to power rails which may be at different levels or which can be offset due to resistive coupling in power distribution within an apparatus or device . In another example different reference voltages may result from differences in circuit configuration whereby a transmitter circuit constructed from N type metal oxide semiconductor NMOS transistors transmits a signal to a receiver circuit constructed from P type metal oxide semiconductor PMOS transistors and vice versa. In the latter example transmitter and receiver references may be derived from different rail voltages that are afflicted by different levels of noise and other fluctuations. In some examples the transmitting and receiving circuits may be formed using different IC technologies i.e. distinct silicon dopants one end constructed from silicon on insulator SOI or silicon germanium etc. . In some examples the transmitting and receiving circuits may be formed on substrates from distinct integrated circuit technology nodes having different physical geometry limitations and corresponding applied voltage constraints. These constraints may necessitate that a transmitted signal be level shifted to maintain compatibility with receiving circuits.

Variability may be observed in the sample window due to the effects of process voltage and temperature PVT on the nominal reference voltage . Accordingly the reference voltage may vary between a maximum threshold voltage V and a minimum threshold voltage V . In another example variability in the sample window may arise from differences between rise times and fall times of transitions and in the input signal received on the signal wires and or in the output of one or more of the receivers . The variability in signal rise times and in detection circuits may be at least partially attributable to manufacturing process tolerances variations and stability of voltage and current sources and operating temperature. In some instances variability in the sample window for one of the input signals may be affected by the timing of the other input signals . Typically multiple parameters affect the sample window leading to variable time tolerances and that narrow the effective sample window .

The sample window may be viewed as the time period when the signal is stable and data can be reliably sampled. The sample window accounts for uncertainty arising from signal rise and fall times variations in threshold voltage levels i.e. between V and V and differences between transmitter and receiver operating voltages and conditions. In some instances sampling is performed within a sampling window that is common to a plurality of signals . For example in a memory system each line of address signals and or data signals is typically sampled within a common sampling window .

Noise and offsets on the voltage reference including uncorrelated differences between transmitter and receiver reference voltage levels may require tuning of the reference voltage its tolerances and or the operation of the receivers in order to reduce narrowing of the sample window and to maximize switching speeds. Variability in the size of the sample window and jitter may be caused in part by the electrical characteristics of the wires carrying the input signals 

The vertical edges of the box mark the minimum and maximum transition times for the signal. In the example timing diagram falling and rising edges are subject to the same variability with the fastest transitions and reaching their respective worst case sensing voltages and respectively at the time corresponding to the leftmost vertical edge of the box and the slowest edges and reaching their respective worst case sensing voltages and at the time corresponding to the rightmost vertical edge of the box . In some instances it can be expected that rising edges and falling edges transition at different rates.

Data capture capabilities may be degraded by poor input sensitivity which can occur when the receiver requires relatively large separation in voltage between reference voltages and data levels in order to resolve a distinct signal level. Data capture may also be degraded by offsets and noise in reference voltages where the noise or offset may be uncorrelated between one or more reference voltages and the data signal.

A signal Tx Signal transmitted through a transmission line or channel by the transmitter may be received at an input . The transmission line may include one or more of a trace on a printed circuit board package substrate silicon or alternative material interposer metallization on an IC a wire a cable or other communication link. In some channel topologies the transmission line may be terminated by an impedance which is typically resistive in nature when included. In some channel topologies the terminating impedance is not required and or is not desirable.

The transmission line may be capacitively coupled to the input of the receiver circuit . In one example a capacitor blocks the DC component of the signal received at the input leaving the common mode level of the input signal undefined. A biasing e.g. pull up or pull down resistor may align the remaining AC components received at the input with a bias voltage which may be the DC receiver reference voltage . The resulting reference aligned AC components may be centered on the receiver reference voltage and the receiver circuit can be configured to detect positive and negative voltage deviations at the input in relation to the receiver reference voltage . The contribution of differences between the receiver reference voltage and the DC component of the input signal are therefore eliminated or substantially reduced such that these differences may become irrelevant to the operation of the receiver circuit .

The receiver circuit may be constructed using any desired semiconductor technology. Receiver transistors and may be implemented as NMOS PMOS and or CMOS transistors. The output of the receiver circuit may be configured to switch between the logic levels employed in a host semiconductor device. Simple logic circuits may be configured to produce a non return to zero NRZ version of the output signal .

The third graph illustrates the use of hysteresis threshold voltage levels and that may be used to produce NRZ signals from the edge emphasized signal illustrated in the second graph . According to certain aspects disclosed herein the output of the receiver circuit may be restored to NRZ signal format using hysteresis comparison techniques that are well known in the art. The hysteresis comparison may be performed by logic operating at the voltage levels of the device hosting the receiver circuit . For example the NRZ signals may be produced using logic circuits switching between logic levels that are compatible with CMOS devices. In one example hysteresis may be introduced by latching the output signal in a device that uses different threshold voltages and for positive and negative transitions. In one example conditioning logic may include an output latch not shown that may switch in response to positive and negative edges of the signal at input crossing the different threshold voltages and . Accordingly a first output state is set only when the signal transitions above the first threshold voltage level and the second state is set only when the signal transitions below the second threshold voltage level with transitions through the nominal reference voltage having no effect on the output.

According to certain aspects disclosed herein the receiver circuit can eliminate the need for reference voltage training although input offset calibration may be performed to improve performance of the receiver circuit . The elimination of training circuits can reduce die circuit area and link calibration and or re training time. Uncorrelated reference voltage noise may be eliminated and link performance may be optimized as a result. Moreover the input levels may be optimized around a desired reference voltage level in order to optimize receiver circuit performance.

At step the IC device may bias the AC component with a bias voltage to obtain a realigned signal. In one example the bias voltage may be a reference voltage used by a receiver circuit see . The AC component may be biased by resistively coupling an output of the capacitor to the reference voltage . The capacitor may have a capacitance value that is selected to cause the realigned signal to return to a predetermined voltage between transitions. The output of the capacitor may be resistively coupled to the reference voltage using a resistor . The resistor may have a resistance value selected to cause the realigned signal to return to a predetermined voltage between transitions. The AC component may emphasize transitions in the input signal. The AC component may be biased by centering the AC component on a voltage coincident with the optimal input common mode level of the receiving circuit .

At step the IC device may provide a digital output representative of the input signal by comparing the realigned signal with the bias voltage. The bias voltage may be a reference voltage generated by the receiver . The digital output may switch between desired or specified logic states. The realigned signal may be compared with the bias voltage using hysteresis comparison that switches the digital output between logic states compatible with a logic circuit that receives and or responds to the digital output. The logic states may be compatible with logic levels associated with CMOS NMOS PMOS and or other digital technologies.

In an aspect of the disclosure the single ended data link includes a transmission line . The transmission line may include one or more of a trace on a printed circuit board package substrate silicon or alternative material interposer metallization on an integrated circuit and a wire.

The processor is responsible for general processing including the execution of software stored on the computer readable storage medium . The software when executed by the processor causes the processing circuit to perform or configure various functions described supra for any particular apparatus. The computer readable storage medium may also be used for storing data that is manipulated by the processing circuit when executing software including data decoded from signals transmitted over the connectors . The device further includes at least one of the modules and . The modules and may include some combination of software modules running in the processing circuit and hardware circuits or modules.

In one configuration the device may be configured for communications over a single ended transmission line including the wires . The device may include a module and or circuit that is configured to receive an input signal from the single ended transmission line a module and or circuit for decoupling a DC component of the input signal from an AC component of the input signal a module and or circuit for biasing the AC component with a predetermined bias voltage to obtain a realigned signal and a module and or circuit for providing a digital output representative of the input signal. The module and or circuit may include or cooperate with a conditioning circuit or logic see also conditioner of to provide a digital output compatible with a logic circuit that is responsive to information in the input signal. The conditioning circuit or logic may include comparison logic squaring logic e.g. using hysteresis comparison level switching and other conditioning logic and circuits.

The aforementioned means may be implemented for example using some combination of elements of the receiver circuit and coupling capacitor which may be incorporated in the receiving circuit .

It is understood that the specific order or hierarchy of steps in the processes disclosed is an illustration of exemplary approaches. Based upon design preferences it is understood that the specific order or hierarchy of steps in the processes may be rearranged. The accompanying method claims present elements of the various steps in a sample order and are not meant to be limited to the specific order or hierarchy presented.

The previous description is provided to enable any person skilled in the art to practice the various aspects described herein. Various modifications to these aspects will be readily apparent to those skilled in the art and the generic principles defined herein may be applied to other aspects. Thus the claims are not intended to be limited to the aspects shown herein but is to be accorded the full scope consistent with the language claims wherein reference to an element in the singular is not intended to mean one and only one unless specifically so stated but rather one or more. Unless specifically stated otherwise the term some refers to one or more. All structural and functional equivalents to the elements of the various aspects described throughout this disclosure that are known or later come to be known to those of ordinary skill in the art are expressly incorporated herein by reference and are intended to be encompassed by the claims. Moreover nothing disclosed herein is intended to be dedicated to the public regardless of whether such disclosure is explicitly recited in the claims. No claim element is to be construed as a means plus function unless the element is expressly recited using the phrase means for. 

