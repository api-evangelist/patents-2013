---

title: Dynamic consent engine
abstract: A system may be configured to request, from a user device, consent for an application server to output one or more messages to the user device. When requesting the consent, the system may output a consent message associated with the application server. The system may receive, from the user device, an indication of consent, the indication being sent by the user device based on the consent message; and enforce, by the consent gateway device, the consent indicated by the user device. When enforcing the consent, the system may allow or disallow application traffic, from the application server, based on the indication of consent. The application traffic may be associated with the user device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09137327&OS=09137327&RS=09137327
owner: Verizon Patent and Licensing Inc.
number: 09137327
owner_city: Basking Ridge
owner_country: US
publication_date: 20130521
---
Users of user devices such as cellular telephones and tablets often choose to use services such as services that send messages to the user devices provide location based information and services access receive and or collect data from the user devices etc. These services may obtain consent from a user by for example sending a message e.g. a short message service SMS message to the user device and receiving a message back from the user e.g. an Allow message or a Deny message .

In some situations a user s service provider or network provider e.g. a wireless provider that provides wireless service to the user device may not be involved in the consent process. Thus situations may occur where a service or application may access collect or receive user device information even without a user s consent either intentionally or unintentionally which may result in additional service charges to the user loss of the user s privacy or other harm.

The following detailed description refers to the accompanying drawings. The same reference numbers in different drawings may identify the same or similar elements.

Techniques described herein may allow for applications to obtain consent e.g. consent to send messages provide location based information and services access receive and or collect information etc. from users using customized consent parameters. These customized consent parameters may include for example custom consent messages that are provided by the applications custom options relating to user replies to the consent messages and or custom actions to take based on the replies.

Message sent by user device may be a message associated with a service provided by the application server or may be a request to enroll in the service. For instance assume that the service provided by the application server is a taxi service where a user can request a taxi from the user s present location to a desired destination. The application server may obtain information regarding the user s present location from user device and or from another source e.g. from a cellular network associated with the user device in order to identify taxis near the user s location and or to calculate service information such as distance travel times and or other types of information.

As further shown in user device may receive message which may be a confirmation or request for consent from the user Free message Please confirm you signed up for the 7777 Local Taxi Service by Mr. Yellow Cab. Reply Y to allow a 1 time location request or reply R to reject . Message may be a custom consent request message provided by the application server. For instance different application servers or services may provide different consent request messages than the one shown in or a service provider or a network provider may define a default consent message for use by application servers that operate on the provider s platform.

After receiving message user device may send message Y which may indicate consent from a user of user device for a one time location request to be performed on behalf of the user by the application server. The application server may based on receiving the consent indicated by message perform the location request and may determine that a taxi is available near the user s location. User device may receive message from the application server A taxi is available in your area for immediate pickup and will cost approximately 75. Please reply Y if you would like to be picked up .

By providing for custom consent messages and options some implementations may provide for an enhanced user experience. For example consent messages may provide more relevant options than default consent messages and may result in fewer messages being sent to or from user devices. Custom consent messages may also afford the ability to provide clear disclosure to users. Additionally custom consent messages afford the ability to provide an improved user experience by only requesting minimal information from the user only when required. Additionally custom consent messages may provide the opportunity to add advertising and or branding which may provide for enhanced revenue generation or monetization. Furthermore as described herein a service provider or a network provider controlled consent system may ensure that application servers do not maliciously or accidentally access collect or receive user information or send messages to user devices without user consent.

Message sent by user device may be a message associated with a service provided by the application server or may be a request to enroll in the service. For instance assume that the service provided by the application server is a taxi service where a user can request a taxi from the user s present location to a desired destination. The application server may obtain information regarding the user s present location from user device and or from another source e.g. from a cellular network associated with the user device in order to identify taxis near the user s location.

As further shown in user device may receive message which may be a confirmation or request for consent from the user Free message Please confirm you signed up for a program named 7777 Local Taxi Service. Reply A to allow 24 hrs reply W to allow always reply D to reject. . Message may be a default consent request message provided by a network provider associated with user device . The options provided in this default consent message may not be particularly relevant to the service being provided e.g. it may not be useful or desirable to allow 24 hour access to a service when a user merely wishes to find a taxi . In contrast in the example shown in custom consent message may provide more relevant options than default consent message .

After receiving message user device may send message A which may indicate consent from a user of user device for 24 hour access for location requests to be performed on behalf of the application server. User device may receive message Free message You have confirmed 24 hr access to the program named 7777 Local Taxi Service. To stop location access at any time reply D . Message may indicate that the user s consent has been received. After receiving message user device may further receive message which may be provided by the application server based on the application server performing a request for the user s location.

User device may include any computation and communication device such as a wireless mobile communication device that is capable of communicating with network . For example user device may include a radiotelephone a personal communications system PCS terminal e.g. a device that combines a wireless radiotelephone with data processing and data communications capabilities a personal digital assistant PDA e.g. that can include a radiotelephone a pager Internet intranet access etc. a smart phone a laptop computer a tablet computer a wearable computer a camera a personal gaming system or another type of mobile computation and communication device. User device may send and or receive traffic to and or from application server via consent gateway network and or one or more other devices.

Application server may include one or more computation and communication devices that provide one or more services to for example user device . Application server may also receive information regarding user device from user device network and or another source. The service s provided by application server may include for instance a service whereby user device receives messages e.g. short message service SMS messages multimedia service MMS messages e mails tweets and or another type of message sent by or on behalf of application server .

Consent gateway may include one or more computation and communication devices that perform functions relating to obtaining and or enforcing user consent for services provided by application server . As described below consent gateway may store information identifying application server . The identifying information may include for example a mobile directory number MDN associated with application server a short code e.g. a telephone number that includes fewer digits than a full telephone number such as four digits three digits etc. an Internet protocol IP address or another alphanumeric identifier. Consent gateway may receive messages from user device which are destined for application server e.g. one or more network devices in network may forward such messages to consent gateway . Additionally or alternatively consent gateway may receive messages from application server which are destined for user device e.g. one or more network devices in network may forward such messages to consent gateway . Consent gateway may in some implementations enforce the consent provided or denied by a user of user device by monitoring messages sent by application server and causing the messages to not be forwarded to user device when application server is not authorized e.g. does not have consent to send the messages to user device .

Consent gateway may be associated with an application programming interface API which may allow for the defining and implementation of custom consent parameters such as custom consent messages custom consent options and actions to take upon selection of the options . In some implementations consent gateway may be implemented by or on behalf of a provider of network . The provider of network may in some implementations require that application server use the API associated with consent gateway when transmitting consent messages to user devices associated with network .

Application development console may include one or more computation and communication devices via which a user e.g. a developer associated with an application that uses consent messages may generate an application e.g. may develop programming code that defines the application . When generating the application the user may define custom consent parameters associated with the application such as custom consent messages custom consent options and actions to take upon selection of the options . For instance the user may define the custom consent parameters according to the API associated with consent gateway . Application development console may output the application to application server and or may output the custom consent parameters to application server consent gateway and or to consent parameter approval console .

Consent parameter approval console may include one or more computation and communication devices via which a user e.g. an administrator associated with consent gateway and or network may review approve and or disapprove custom consent parameters e.g. parameters defined at application development console . For example the user may disapprove a custom consent message that is too lengthy or offensive. Consent parameter approval console may in some implementations notify application development console of custom consent parameters that were disapproved and may output approved custom consent parameters to application server and or to consent gateway .

Consent archive may include one or more computation and communication devices which may receive information regarding consent provided by users. In some implementations when consent gateway determines that consent for an application has been granted or denied consent gateway may provide an indication to consent archive regarding the consent or denial. Consent archive may store history information regarding consent that has been granted or denied by users for a particular period of time e.g. one year seven years ten years or any other period of time that may be configured by an administrator associated with consent archive . The consent history information may include in some implementations information regarding specific consent messages that have been sent to users e.g. applications and or application providers associated with consent messages brands and or advertising that has been presented to users via consent messages etc. . In some implementations a user may be provided with an option to view and or remove history information associated with the user.

Consent history retrieval server may include one or more computation and communication devices which may allow for retrieval of information stored by consent archive . For example consent history retrieval server may provide a user interface via which users e.g. a network provider a service provider an application provider a legal department a customer service department a marketing department a product manager and or another user may access information stored in consent archive . In some implementations consent history retrieval server may authenticate users that are attempting to access consent archive e.g. via username and password and or via other authentication techniques .

Network may include one or more wired and or wireless networks. For example network may include a packet data network PDN such as an IP based PDN. Network may include for example a wide area network such as the Internet a public or private wireless network sometimes referred to as a WiFi network and or one or more other networks. Devices and or other devices may communicate with each other via network and or via one or more other networks.

In some implementations network may include an evolved packet system EPS that includes a LTE network and or an evolved packet core EPC network that operate based on a third generation partnership project 3GPP wireless communication standard. The LTE network may be or may include a radio access network RAN that includes one or more base stations some or all of which may take the form of an evolved node B eNB via which user device may communicate with the EPC network. The EPC network may include one or more serving gateways SGWs mobility management entities MMEs and or packet data network gateways PGWs and may enable user device to communicate with network and or an IP multimedia subsystem IMS core network. The IMS core network may include home a subscriber server authentication authorization and accounting server HSS AAA server and may manage authentication session initiation account information a user profile etc. associated with user device .

As shown application development console may output candidate custom consent parameters to consent parameter approval console . As discussed above application development console may receive these custom consent parameters from for example a user such as a developer of an application. Consent parameter approval console may output approved custom consent parameters to consent gateway e.g. custom consent parameters that have been approved by an administrator .

As described below consent gateway may use these custom consent parameters to obtain consent from user device for a service provided by application server . For example consent gateway may output consent messages e.g. custom consent messages defined by the custom consent parameters to user device and may receive a response from user device indicating whether user device has consented to the service. Consent gateway may in some implementations output consent notifications to application server e.g. notifications of whether application server has been granted consent by user device .

Consent gateway may also receive application traffic from application server and determine based on an indication of consent received from user device how to process the traffic. This application traffic may include for example messages to be sent to user device requests to other devices for information regarding user device e.g. a request for an identity of a user associated with user device a request for information regarding the physical location of user device etc. or other traffic.

Consent gateway may in some implementations output information regarding consent that was received or denied to consent archive . As mentioned above consent history retrieval server may serve as an interface to access information stored in consent archive . Based on authenticated requests consent archive may output some or all of the information stored in consent archive to a requesting device via consent history retrieval server .

As shown data structure may include information identifying applications application ID custom consent messages and consent options and actions. As mentioned above in some implementations data structure may include additional or different information. For example in some implementations data structure may include information regarding companies or brands associated with applications and or other parties.

The application ID may include information identifying an application and or a particular application server . The application ID may include a MDN a short code an IP address and or another type of identifier associated with a particular application or application server .

The information regarding custom consent messages may include text of consent messages to be sent to user device when consent gateway detects that consent should be obtained from user device . In some scenarios the custom consent messages may be different consent messages than are normally provided by consent gateway e.g. default messages that are defined by consent gateway . As shown some applications may be associated with a default consent message. Such a situation may occur when a custom consent message submitted by a developer is not approved when the developer has not specified a custom consent message and or when the developer has specified that the default consent message should be used.

The information regarding the consent options and actions may define responses to the custom consent message which may be received from user device and actions to take based on these responses. For example referring to row the consent options may include Y N All others and No answer for 15 minutes. These options may refer to for example possible text in SMS messages received from user device after the custom consent message is sent to user device e.g. if the SMS message includes the letter Y or if the entirety of the SMS message is the letter Y etc. then consent gateway may determine that the Y option has been selected by user device .

As further illustrated data structure may also include information regarding actions to take based on determining that a particular consent option has been selected. For example referring to row the selection of the option Y may indicate that a one time location request for user device has been approved and that the selection of the option N may indicate that a one time location request for user device has not been approved. Based on these options consent gateway may determine whether to approve a subsequent request by application server for a request for information identifying the location of user device .

Row further illustrates that for all other options e.g. if user device responds with a message other than the letters Y or N the consent message should be re sent once. This may allow for a situation in which a user has accidentally replied ambiguously e.g. unintentionally sent a SMS message with the letter M instead of N . If another ambiguous message is received then consent gateway may determine that consent has not been granted by user device . Still further row illustrates that if a response has not been received for 15 minutes then consent gateway should determine that the consent request has been denied.

As shown in row consent options may be dynamic in that actions taken may vary based on consent options selected by user device . For example row illustrates a consent option of non zero integer with an option to allow traffic associated with the service for a quantity of hours specified by the non zero integer.

As shown in row an application may be associated with a set of default consent options and actions. These default options and actions may be for example default options and actions specified by consent gateway .

Process may include receiving information identifying an application or application server block . For example consent gateway may receive information regarding a MDN a short code and or another type of identifier of an application or a particular application server . Consent gateway may in some implementations receive the identifying information from network application server and or another source. As described below consent gateway may use this information when identifying traffic to and or from application server .

Process may also include receiving information regarding custom consent messages options and actions block . For example consent gateway may receive information regarding custom consent parameters e.g. consent messages options and actions from for instance application development console and or from consent parameter approval console . Alternatively in some implementations consent parameter approval console may receive at block the custom consent parameters from for example application development console .

Process may further include determining whether the custom consent messages options and actions have been approved block . For instance consent gateway or in some implementations consent parameter approval console may receive an indication of whether the custom consent parameters have been approved e.g. by an administrator via consent parameter approval console .

If the consent messages options and actions have not been approved block NO then process may include outputting a rejection notification block . For example consent gateway or in some implementations consent parameter approval console may output a notification to for example application development console indicating that the custom consent parameters have not been approved. This may occur when for example a custom consent message is not associated with proper options actions e.g. a consent message that specifies that a user should reply Y to grant consent but the associated option for Y indicates that consent has not been granted . Other situations in which custom consent parameters may not be approved may occur when a custom consent message is too long contains profanity contains misspelled words contains improper grammar and or other instances in which an administrator wishes to forgo approving custom consent parameters.

If on the other hand the consent messages options and actions have been approved block YES then process may include storing information regarding the consent messages options and actions block . For example consent gateway may store the custom consent parameters using for example data structure or a similar data structure. Additionally or alternatively consent gateway may output the custom consent parameters to application server and or to another device.

Process may include receiving application traffic for a user device block . For example consent gateway may receive traffic from application server e.g. via network . The received traffic may be destined for a particular user device . For example the traffic may include a message such as an SMS message a MMS message or another type of message which includes an MDN and or another type of identifier that indicates that the intended recipient is user device .

Process may also include determining whether the application is authorized for the user device block . For example consent gateway may determine whether user device has previously granted consent to application server . If the application is authorized block YES then process may include allowing and or forwarding the application traffic to the user device block . For example consent gateway may allowing and or forward the traffic received at block to user device . In some implementations consent gateway may output a notification to one or more other devices e.g. one or more devices in network indicating that the traffic should be allowed and or forwarded to user device .

If on the other hand the application is not authorized block NO then process may include determining whether the application was previously denied for the user device block . In this scenario the application traffic may be treated as being associated with an enrollment request that is a request to enroll in a service provided by application server . Alternatively the application traffic may be traffic sent by application server to user device after a user has indicated interest in the service provided by application server e.g. by signing up for the service via a web interface but not via the same communication technique via which the traffic was received at block but before consent gateway has determined that consent has been granted by user device .

If the application has previously been denied for the user device block NO and block YES then process may include forgoing allowing and or forwarding the application traffic to the user device block . For example consent gateway may forgo allowing and or forwarding the traffic received at block to user device . In some implementations consent gateway may output a notification to one or more other devices e.g. one or more devices in network indicating that the traffic should not be allowed and or forwarded to user device .

If on the other hand the application has not been previously denied for the user device block NO and block NO then process may include requesting consent for the application from the user device block . An example of requesting consent is described below with respect to process shown in . Based on receiving a grant or denial of the consent requested at block consent gateway may determine whether to allow and or forward the application traffic to user device e.g. as similarly described with respect to block or to forgo allowing and or forwarding the application traffic to user device e.g. as similarly described with respect to block .

While process is described in the context of traffic sent by application server and to user device process may also be similarly applied to requests made by application server to devices other than user device . For example consent gateway may receive at block a request for information regarding a geographical location of user device . Consent gateway may determine at block that the application is authorized for the user device. Based on determining that the application is authorized for the user device block YES consent gateway may forward the request to network and or to another device and or may indicate to network that the application is authorized to receive location information for user device . As another example assume that consent gateway determines that the application has been previously denied for the user device block NO and block YES . In this situation consent gateway may forgo forwarding the request for the location of user device to network and or may otherwise forgo providing information regarding the location of user device to application server .

Process may include determining that an enrollment request has been received for an application from a user device block . For example consent gateway may receive traffic from a particular application server destined for a particular user device and may determine that user device has not previously granted consent for application server to send traffic to user device . In some implementations consent gateway may receive a notification from user device and or from another device that user device has enrolled in a service provided by application server . For instance a user associated with user device may have signed up via a web browser interface to receive text message alerts from application server . Application server or another device may in this situation notify consent gateway that user device has enrolled in the service offered by application server . Based on the enrollment request received at block consent gateway may determine that consent is required from user device before application server is authorized to send application traffic to user device . In some implementations the enrollment request may include identifying information for application server e.g. an MDN a short code and or another identifier .

Process may also include identifying a custom consent message associated with the application block . For example consent gateway may identify the custom consent message based on information stored in data structure or a similar data structure.

Process may further include forwarding the custom consent message to the user device block . For example consent gateway may forward or cause to be forwarded the custom consent message identified at block to user device . As mentioned above the custom consent message may be forwarded to user device via a SMS message a MMS message an e mail message and or another type of message.

Process may additionally include receiving a response to the consent message from the user device block . For instance consent gateway may receive a message from user device and or may receive an indication that a message has been received from user device . This message may be destined for application server e.g. may include an MDN a short code and or another identifier associated with application server and thusly intercepted by consent gateway . That is while the response message may indicate that the intended recipient is application server one or more devices of network and or another device may forward the message to consent gateway .

Process may also include identifying options and actions associated with the application block . For example consent gateway may identify options and actions associated with the application stored in data structure .

Process may further include determining the consent e.g. the level of consent associated with the application and the user device based on the options and actions associated with the application and also based on the consent message response block . For example referring to the example information shown row of data structure in assume that the response message received at block includes the letter Y. In this scenario consent gateway may determine that the consent level is an approval for a one time location request. As another example and again referring to the example information shown row of data structure in assume that the response message received at block includes the letter N. In this scenario consent gateway may determine that the consent level is a denial.

Process may additionally include storing information associating the application and the user device with the determined level of consent block . For example consent gateway may store or output information indicating the level of consent determined at block that has been granted to application server by user device . Consent gateway may use this stored information when receiving application traffic from application server for user device e.g. when determining whether an application is authorized for a user device at block of process .

Based on receiving the enrollment request consent gateway may output a consent request message to user device . This consent request message may in some implementations be a custom consent message e.g. a custom consent message defined by a developer or another user associated with application server .

As further shown in user device may output a consent grant message to consent gateway indicating that user device has granted consent to application server e.g. consent for application server to output traffic to user device and or consent for application server to access information associated with user device . In some implementations this consent grant message may indicate an extent of consent granted as well e.g. duration of time a quantity of messages that may be sent by application server to user device an amount of data that may be sent by application server to user device an amount and or type of information that may be requested by application server etc. .

Based on receiving the consent grant message consent gateway may output a notification to application server indicating that consent has been granted to application server by user device . Based on this consent notification application server may become aware that user device has granted consent to application server . Application server may begin to output application traffic to user device and or may make requests for information regarding user device from one or more other devices . Furthermore based on identifying that user device has granted consent to application server consent gateway may forward application related traffic such as information outputted by user device which may be provided based on requests from application server from user device to application server .

As shown in consent gateway may receive application related traffic from application server e.g. a message destined for user device a request for information regarding user device etc. . As mentioned above consent gateway may determine that user device has not previously granted or denied consent to application server .

Based on determining that user device has not previously granted or denied consent to application server consent gateway may output a consent request message to user device . This consent request message may in some implementations be a custom consent message e.g. a custom consent message defined by a developer associated with application server .

As further shown in user device may output a consent grant message to consent gateway indicating that user device has granted consent to application server e.g. consent for application server to output traffic to user device and or consent for application server to access information associated with user device . In some implementations this consent grant message may indicate an extent of consent granted as well e.g. duration of time a quantity of messages that may be sent by application server to user device an amount of data that may be sent by application server to user device an amount and or type of information that may be requested by application server etc. .

Based on receiving the consent grant message consent gateway may output a notification to application server indicating that consent has been granted to application server by user device . Based on this consent notification application server may become aware that user device has granted consent to application server . Application server may begin to output application traffic to user device and or may make requests for information regarding user device from one or more other devices . Furthermore based on identifying that user device has granted consent to application server consent gateway may forward application related traffic such as information outputted by user device which may be provided based on requests from application server from user device to application server .

Bus may include one or more communication paths that permit communication among the components of device . Processor may include a processor microprocessor or processing logic that may interpret and execute instructions. Memory may include any type of dynamic storage device that may store information and instructions for execution by processor and or any type of non volatile storage device that may store information for use by processor .

Input component may include a mechanism that permits an operator to input information to device such as a keyboard a keypad a button a switch a microphone a camera a sensor e.g. a motion sensor a biometric device etc. Output component may include a mechanism that outputs information to the operator such as a display a speaker one or more light emitting diodes LEDs etc.

Communication interface may include any transceiver like mechanism that enables device to communicate with other devices and or systems. For example communication interface may include an Ethernet interface an optical interface a coaxial interface or the like. Communication interface may include a wireless communication device such as an infrared IR receiver a Bluetooth radio an LTE radio a WiFi radio e.g. an 802.11x radio or the like. The wireless communication device may be coupled to an external device such as a remote control a wireless keyboard a mobile telephone etc. In some embodiments device may include more than one communication interface . For instance device may include an optical interface and an Ethernet interface.

Device may perform certain operations relating to one or more processes described above. Device may perform these operations in response to processor executing software instructions stored in a computer readable medium such as memory . A computer readable medium may be defined as a non transitory memory device. A memory device may include space within a single physical memory device or spread across multiple physical memory devices. The software instructions may be read into memory from another computer readable medium or from another device. The software instructions stored in memory may cause processor to perform processes described herein. Alternatively hardwired circuitry may be used in place of or in combination with software instructions to implement processes described herein. Thus implementations described herein are not limited to any specific combination of hardware circuitry and software.

The foregoing description of implementations provides illustration and description but is not intended to be exhaustive or to limit the possible implementations to the precise form disclosed. Modifications and variations are possible in light of the above disclosure or may be acquired from practice of the implementations. For example while series of blocks have been described with regard to the order of the blocks may be modified in other implementations. Further non dependent blocks may be performed in parallel. As another example while example signal flows have been described with regard to the order of the signals may be modified in some implementations certain signals may be sent in parallel and or additional signals may be sent to and or from one or more of the described devices.

The actual software code or specialized control hardware used to implement an embodiment is not limiting of the embodiment. Thus the operation and behavior of the embodiment has been described without reference to the specific software code it being understood that software and control hardware may be designed based on the description herein.

Even though particular combinations of features are recited in the claims and or disclosed in the specification these combinations are not intended to limit the disclosure of the possible implementations. In fact many of these features may be combined in ways not specifically recited in the claims and or disclosed in the specification. Although each dependent claim listed below may directly depend on only one other claim the disclosure of the possible implementations includes each dependent claim in combination with every other claim in the claim set.

No element act or instruction used in the present application should be construed as critical or essential unless explicitly described as such. Also as used herein the article a is intended to include one or more items and may be used interchangeably with the phrase one or more. Where only one item is intended the term one or similar language is used. Further the phrase based on is intended to mean based at least in part on unless explicitly stated otherwise.

