---

title: Method for implementing quality alarms in an energy management system
abstract: Methods for creating high quality alarms raise EMS operator awareness to abnormal conditions in monitored assets across multiple sites in a single EMS software platform. An embodiment includes steps for accessing an alarm designer software tool that contains a library of alarm definitions and the ability to create new alarm definitions, clone and edit existing alarm definitions, lock alarm definitions and delete alarm definitions. Applicable data is defined using channel attributes identifying which channel or channels associated with the multiple monitored sites are to be evaluated for alarming conditions. The alarm frequency, trigger conditions, pending open duration, close conditions, and pending close duration are also defined. Alarms can trigger upon one or more channels' behavior over periods of time and conditional relationships between multiple channels. Close conditions for an alarm can be, but are not required to be, the resolution of the trigger conditions.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09116519&OS=09116519&RS=09116519
owner: GridPoint, Inc.
number: 09116519
owner_city: Arlington
owner_country: US
publication_date: 20130315
---
The invention relates generally to systems and methods for creating and implementing alarms in an energy management system. More specifically the invention relates to how alarms are defined their lifecycle and parameters to a method for evaluating the efficacy of alarm definitions before implementation and to enabling and managing alarms at scale for multi site operators.

An energy management system EMS typically monitors and in some cases controls multiple endpoints such as HVAC units lighting panels natural gas consumption refrigeration temperature monitors and other power consuming or monitoring devices located throughout one or more zones of a building or buildings. The monitored data is transmitted to a central control and monitoring system that can be local to the building or buildings being monitored or can be remote to the building or buildings being monitored. The data is typically presented to a user overseeing the operation of one or more of the buildings via a computer monitor coupled to a data storage area either locally or at a remote location via a server controlled by a third party provider. The operator can identify certain alarm conditions such as an abnormally high temperature in a refrigeration system a door left open lights left on when the building is unoccupied or an unusually high HVAC system cycle time. An operator can then take immediate actions to mitigate problems associated with such alarm conditions.

As can be appreciated a large amount and wide variety of data can be generated by the various monitoring systems especially when monitoring a large number of facilities. To alleviate the information burden on the operator and to make the data more actionable intelligent alarm conditions e.g. more sophisticated that static threshold should be created which when met automatically raise an alarm and send an alert or notification to the operator so the operator can take appropriate and timely action. In addition if possible alarms should be defined using common attributes for monitoring points and enabled at the company level so they are inherited by future sites that are commissioned in the EMS eliminating the administrative burden of configuring alarms at each site for multi site operations.

However even inherited alarms with intelligent trigger conditions when enabled for even a small number of sites can create an overwhelming number of operator notifications in a system that monitors multiple buildings especially if the alarms do not have the proper lifecycle. Alarms that do not have pending or buffer periods or that have close conditions that are simply a reverse of trigger conditions can result in noisy repeat alarms or alarms that do not reset appropriately stuck alarms . Moreover when initially creating a new alarm it is difficult to predict ahead of time exactly how the alarm will behave. Care must be taken to avoid too many false or repeat alarms when releasing a new alarm into an EMS.

To prevent overly noisy alarms while preserving alarm sensitivity intelligent alarm definition parameters and a multi stage alarm lifecycle is needed. What is further needed is an alarm creation tool that allows a user or operator to test new alarms thoroughly and robustly before releasing them into a live EMS. Also needed are tools to effectively enable and manage alarm troubleshooting across multiple sites with the ability to easily drill into each alarm instance for a particular operation or piece of equipment.

Various embodiments of the invention solve the above mentioned problems by providing an energy management system with alarms that have trigger conditions not simply thresholds and close conditions not necessarily a simple reverse of trigger condition and a lifecycle based on defined parameters for pending open and close durations that ensure alarm conditions persist for specified lengths of time before raising or closing an alarm.

To ensure that the alarm will work before it goes live the operator can run any alarm definition against legacy monitoring data to observe how it reacts and use the results from this test to adjust alarm parameters accordingly. Once alarm definitions are fine tuned the definitions are locked and can serve as templates or a menu of alarm constructs. Template alarm definitions can be cloned and variations of the same alarm construct can be created so the appropriate alarm is created for each group of like buildings or equipment for a specific EMS operator. When alarms are enabled across a group of sites they can be enabled at the company level or sub company level e.g. region state utility or other defined grouping . This prevents the need to configure an alarm every time new sites are added to the company these sites can automatically inherit the alarm and eases the burden on EMS operators who manage multiple alarms across hundreds or thousands of sites.

Once enabled triggered alarms can prompt email notifications or be viewed in a consolidated dashboard view that highlights alarms by type for selected sites and time ranges. The ability to drill into individual triggered alarm instances and see the applicable data may be many monitoring points related to an alarm helps the operator effectively manage and troubleshoot alarm conditions.

Some figures illustrate diagrams of the functional blocks of various embodiments. The functional blocks are not necessarily indicative of the division between hardware circuitry. Thus for example one or more of the functional blocks e.g. processors or memories may be implemented in a single piece of hardware e.g. a general purpose signal processor or a block or random access memory hard disk or the like . Similarly the programs may be standalone programs may be incorporated as subroutines in an operating system may be functions in an installed software package and may reside in collocated or remotely located servers. It should be understood that the various embodiments are not limited to the arrangements and instrumentalities shown in the drawings.

The present invention may be understood more readily by reference to the following detailed description of preferred embodiments of the invention as well as to the examples included therein. Embodiments of the invention provide systems and methods for the creation editing testing and activation of alarms in an EMS.

Each physical site has installed in it monitoring and control hardware that is part of the energy management system and separate from the utility installed electric meter. The monitoring equipment measures near real time for example every 1 or 15 min main load power demand and voltage and also monitors data from other devices that measure temperature humidity CO2 and other metrics. Data originating from a device is considered a data channel. Further channels may be logically grouped into other channels for example all HVAC units at a building site or all temperature settings of a group of buildings within a region. Preferably the monitoring equipment sends the channel data to the energy management system software to be stored and processed. Preferably this incoming data should include or have associated with it commonly defined channel attributes also sometimes referred to as metadata such as data type measurement type unit of measure and the like so that each time series data channel can be leveraged in alarm definitions. Using the attributes alarms can be set up to trigger when the specific data channels match defined trigger conditions and close when defined close conditions are met. In an embodiment the operator is notified of such events typically through either the EMS or via other notification mechanisms.

The operator can access the energy management system software remotely using a third party provider or do so directly in cases where the software is installed at the user operated control center. The operator can respond to alarms by causing control signals to be sent to the energy management system to affect energy usage at one or more of its sites and can receive monitoring data describing usage at one or more of its sites. The control equipment responds to commands from the energy management system software to regulate selected sub loads as needed. Using the energy management software the user can also control sub loads according to specific schedules at each site to optimize energy usage and minimize energy costs by enabling either directly by an operator indirectly by a third party energy management provider or automatically by any number of load control algorithms reacting to energy event alerts raised by the energy management system.

One or more power monitors are coupled to the site controller either via wired or wireless connection. The power monitor includes hardware and firmware to provide sampling functionality including multiple analog to digital converters for multi channel fast waveform sampling of inputs such as current and voltage. The power monitor includes wired or wireless communication interfaces current and voltage monitoring interfaces memory CPU and may also include a power supply. The current and voltage monitoring interfaces connect between the power circuits being monitored and the A D converter. Each channel may be connected to a separate power circuit to monitor the flow of current through the circuit. The connection is typically made with a current transformer at both a supply i.e. hot line and a return i.e. neutral line of the power circuit which provides a waveform signal that is representative of the current flow at the connection point. The power monitor can receive power voltage and current measurements from the main line as well as measurements from any of a number of devices or groups of devices as illustrated in and described herein. Controller can also receive data directly from other sensors .

Once an alarm is activated the alarm definition is applied against live time series data as shown in step and checked in step to determine whether the alarm has been triggered. In an embodiment the alarm definition is applied periodically based on the frequency of the alarm e.g. every 15 minutes every hour or daily contained in the alarm definition. All potential alarm instances are found based on the alarm definition and the premises selection i.e. which data channels are to be evaluated against the alarm. The premises selection is often just all premises associated with EMS operator s company which means the potential instances evaluated for an alarm can grow over time as new sites are added to the EMS alarm definition is inherited by newly added sites . However more limited groupings of premises may be selected. A potential alarm instance means a set of applicable data at a site that may trigger an alarm instance if the alarm trigger conditions are met. As shown in step once an instance triggers or closes the details of the triggered alarm instance are reported as shown in step and can be viewable in the EMS step and if notifications are enabled for the alarm notifications such as emails text messages or the like may be sent directly to the operator as shown in step . The notifications contain information about the alarm and a hyperlink to the correct EMS dashboard for obtaining further details.

In an embodiment the Alarm Name must be unique and if a user attempts to name an alarm with a name that already exists they will receive an error message.

The Alarm Frequency determines how often the system will evaluate the time series data and look for alarm trigger close conditions. Select options include Every 15 minutes Hourly or Daily with the default value being every 15 minutes. However other alarm frequencies can be chosen as long as the sub metering hardware is capable of producing data at that frequency. This field is related to the pending periods described below in that the pending periods must be multiples of the frequency. For example if an alarm will be evaluated hourly it cannot have a pending period of 15 min. It must be 1 hour 2 hours etc.

The Applicable Data field is used to find the channel or channels on which the alarm will trigger. There is a basic syntax a user must use to define a valid applicable data definition. Not all components of the syntax expression are required in order to define a channel. Rather the invention can operate using a single component such as a descriptor of Channel Name a channel s Measurement Type a channel s Data Category or a channel s Unit of Measure.

For example the single channel applicable data definition for a static Refrigeration temp alarm on cooler refrigeration channels may might be as follows 

In the above example wildcard characters can be used to find channel names like or not like specified strings and Cooler is the alias given to the channel.

The Applicable Data portion of an alarm definition relies on one or more of the following important attributes existing for all channels in the database that will be evaluated for alarming conditions the channel name e.g. Cooler channel category e.g. Refrigeration channel measure type e.g. Asset Temperature and channel unit e.g. Degrees F. . This channel metadata is used as a very effective qualifier to identify only the desired channel channels that form the applicable data for the evaluation of the alarm. As mentioned above only one of the attributes associated with a channel is required in order to define applicable data which serves as the foundation of alarm definitions that can be enabled at scale across all current and future sites that may have matching channel attributes.

Channels in the database may also form logical systems when they all describe data for a particular asset and such systems are also attributes of channels in the database . For example a single HVAC unit may have dozens of related data channels such as the unit s heat and cool runtimes the power demand or load the zone temperature for the zone it s heating cooling the duct temperature that describes the temperature of the unit s supply air etc. When an applicable data definition includes more than one channel and these channels can be grouped by systems potential alarm instances are created and evaluated for trigger conditions not just by site but also by system. For example it is possible to create a simple two channel alarm with applicable data as follows that looks for both the cool runtime and load on an HVAC unit 

When potential alarm instances are created for an alarm definition with the above mentioned applicable data a site that has three HVAC systems will have three potential alarm instances created grouped by HVAC unit.

The Trigger Conditions are the conditions the applicable data must meet to trigger an alarm instance. This field uses numeric values the alias or aliases given to the channels in the Applicable Data definition and basic operators including but not limited to plus divided by minus multiplied by percentage equals greater than or equal to does not equal to and or to clearly state what the channel or channels must do in order to trigger an alarm. For example the Trigger Condition Cooler45 could be used to find coolers with abnormally high or low temperatures in a single alarm. Or for a multi channel alarm like the HVAC example above the Trigger Condition might be something like

to find HVAC units that have been calling for cooling for 15 minutes but are drawing no load. Additionally trigger conditions can consider a channel or channels behavior over periods of time as well as conditional relationships between multiple channels. For example an alarm can be defined to find channels that exceed the average daily usage for that channel or another channel by a specified percentage. Likewise an alarm can be defined to trigger if Channel A minus Channel B is greater than X times Channel C.

The Pending Open Duration parameter is where the alarm creator specifies the time the trigger conditions must continue before an alarm officially opens and becomes an alarm instance. Valid Pending Open Durations must be equal to or greater than the alarm frequency. In addition the Pending Open Duration must be a multiple of the frequency of the alarm. For example you cannot have a pending period of 45 minutes for an alarm with 1 hour frequency only for one with a 15 min frequency. For a daily alarm the pending open duration must be 24 hours or 48 hours etc.

The Close Condition parameter specifies the conditions the applicable data must meet to close a triggered alarm instance. In most cases this is the resolution of the Trigger Condition but it may be defined differently. For example a CO2 concentration alarm may have a Trigger Condition of CO2 1000 parts per million but a Close Condition of CO2

The Pending Close Duration parameter specifies the time the close conditions must continue before an alarm officially closes. The same rules that apply to Pending Open apply to Pending Close.

The bottom of shows the Save and Validate button. This button triggers validation to ensure the alarm parameters entered do not have any errors that proper syntax is used and that the above mentioned rules for each parameter are adhered to . Only validated alarms can be tested locked or activated in the EMS. is an illustration of the alarm site tree and test date selection for the creation of an alarm test results file. Once a valid definition has been saved this area of the alarm designer tool is used to create test files against actual historical data for sites. Upon selecting sites and a date range for the test the user clicks a Generate Test Result button to trigger the creation of a report for analysis of what would have happened had this alarm been in place at the selected sites for the selected historical date range. The report can be displayed in a user interface or saved as a data file and later displayed using spreadsheet software.

Displaying the various outputs of an alarm provides a quantitative view of the efficacy of the alarm and allows a user to adjust certain parameters to adjust alarm open and close sensitivity as well as the aggregate amount of data generated by the alarm. The alarm can be edited and reevaluated until the alarm is optimized to meet the needs of the energy consumer. After the alarm can be published for use by applying it against one or more direct or virtual data channels.

In this example at time the trigger conditions are met resulting in a pending open alarm. At time the trigger conditions continued for the pending open duration resulting in an open alarm which is sent to the operator. At time the close conditions are met resulting in a pending close alarm. At time the trigger conditions are met again preventing the alarm from closing. At time the close conditions are met resulting in a pending close alarm. At time the pending close duration is met and the alarm closes. As can be appreciated had the open and close period been absent the alarm would have triggered and closed twice resulting in a noisy or repeat alarm.

At time the trigger conditions are met resulting in a pending open alarm. At time the close conditions are met which results in no alarm instance and avoided noisy alarm . At time the trigger conditions reoccur resulting in a pending open alarm. At time the pending open duration is met resulting in an open alarm. At time the close conditions are met resulting in a pending close alarm. At time the pending close duration is met resulting in a closed alarm. As can be appreciated had the open and close durations been absent the alarm would have triggered and closed twice resulting in a noisy alarm.

As a result the pending open duration prevents the alarm from being opened until there is sufficient history of the trigger condition to warrant an alarm and non persistent anomalies will not cause overly frequent alarms. Conversely the pending close duration prevents the alarm from closing prematurely due to a momentary close condition. The open period and close period can reduce alarms whether operating alone or in conjunction.

Email notifications or other types of notifications can be configured to be sent upon open and or close of an alarm so that operators can be notified without the need to be logged into the EMS software portal. Depending on the notification settings the message may be different for different alarm types and may include a graphical image not shown . Also included in the email notification is a link directly to the EMS where the operator can drill into the detail described in .

The present invention is described above with reference to block diagrams and operational illustrations of methods and devices for creating alarms in an energy management system. It is understood that each block of the block diagrams or operational illustrations and combinations of blocks in the block diagrams or operational illustrations may be implemented by means of analog or digital hardware and computer program instructions. These computer program instructions may be stored on computer readable media and provided to a processor of a general purpose computer special purpose computer ASIC or other programmable data processing apparatus such that the instructions which execute via the processor of the computer or other programmable data processing apparatus implements the functions acts specified in the block diagrams or operational block or blocks. In some alternate implementations the functions acts noted in the blocks may occur out of the order noted in the operational illustrations. For example two blocks shown in succession may in fact be executed substantially concurrently or the blocks may sometimes be executed in the reverse order depending upon the functionality acts involved.

At least some aspects disclosed can be embodied at least in part in software. That is the techniques may be carried out in a special purpose or general purpose computer system or other data processing system in response to its processor such as a microprocessor executing sequences of instructions contained in a memory such as ROM volatile RAM non volatile memory cache or a remote storage device.

Routines executed to implement the embodiments may be implemented as part of an operating system firmware ROM middleware service delivery platform SDK Software Development Kit component web services or other specific application component program object module or sequence of instructions referred to as computer programs. Invocation interfaces to these routines can be exposed to a software development community as an API Application Programming Interface . The computer programs typically comprise one or more instructions set at various times in various memory and storage devices in a computer and that when read and executed by one or more processors in a computer cause the computer to perform operations necessary to execute elements involving the various aspects.

A machine readable medium can be used to store software and data which when executed by a data processing system causes the system to perform various methods. The executable software and data may be stored in various places including for example ROM volatile RAM non volatile memory and or cache. Portions of this software and or data may be stored in any one of these storage devices. Further the data and instructions can be obtained from centralized servers or peer to peer networks. Different portions of the data and instructions can be obtained from different centralized servers and or peer to peer networks at different times and in different communication sessions or in a same communication session. The data and instructions can be obtained in entirety prior to the execution of the applications. Alternatively portions of the data and instructions can be obtained dynamically just in time when needed for execution. Thus it is not required that the data and instructions be on a machine readable medium in entirety at a particular instance of time.

Examples of computer readable media include but are not limited to recordable and non recordable type media such as volatile and non volatile memory devices read only memory ROM random access memory RAM flash memory devices floppy and other removable disks magnetic disk storage media optical storage media e.g. Compact Disk Read Only Memory CD ROMS Digital Versatile Disks DVDs etc. among others.

In general a machine readable medium includes any mechanism that provides e.g. stores information in a form accessible by a machine e.g. a computer network device personal digital assistant manufacturing tool any device with a set of one or more processors etc. .

In various embodiments hardwired circuitry may be used in combination with software instructions to implement the techniques. Thus the techniques are neither limited to any specific combination of hardware circuitry and software nor to any particular source for the instructions executed by the data processing system.

Although the present invention has been described in considerable detail with reference to certain preferred versions thereof other versions are possible. Therefore the spirit and scope of the appended claims should not be limited to the description of the preferred versions contained herein. The reader s attention is directed to all papers and documents which are filed concurrently with this specification and which are open to public inspection with this specification and the contents of all such papers and documents are incorporated herein by reference.

All the features disclosed in this specification including any accompanying claims abstract and drawings may be replaced by alternative features serving the same equivalent or similar purpose unless expressly stated otherwise. Thus unless expressly stated otherwise each feature disclosed is one example only of a generic series of equivalent or similar features.

Any element in a claim that does not explicitly state means for performing a specified function or step for performing a specific function is not to be interpreted as a means or step clause as specified in 35 U.S.C 112 sixth paragraph. In particular the use of step of in the claims herein is not intended to invoke the provisions of 35 U.S.C 112 sixth paragraph.

