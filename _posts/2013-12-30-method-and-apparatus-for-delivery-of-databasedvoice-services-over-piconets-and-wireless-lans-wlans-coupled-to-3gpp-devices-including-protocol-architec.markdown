---

title: Method and apparatus for delivery of data-based/voice services over piconets and wireless LANs (WLANs) coupled to 3GPP devices including protocol architecture and information elements relating to short message service (SMS) over WLANs
abstract: Method and apparatus delivering voice/data services within a piconet operating over a limited range or over a WLAN communicating with 3GPP devices by reformatting data into IP format before delivering to the WLAN. The service is short message service (SMS). Upon receipt of an SMS message, relevant routing information is retrieved. A PDGW address for the SMS message is identified and is sent to the PDGW address which identifies the WLAN user equipment (UE) for receiving the SMS and reformats the SMS message into IP format (text or encapsulation) for delivery to the UE. A protocol architecture is provided for SMS delivery over WLANs, in particular, for UMTS/CDMA based SMS over WLAN through two alternative mechanisms, i.e., SMS tunneling and SMS proxy, for protocols for the delivery of SMS across the WLAN. The invention enhances standard 802.11 in the context of UMTS and CDMA 2000; as well as other scenarios.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09332415&OS=09332415&RS=09332415
owner: InterDigital Technology Corporation
number: 09332415
owner_city: Wilmington
owner_country: US
publication_date: 20131230
---
This application is a continuation of U.S. patent application Ser. No. 10 837 124 filed Apr. 30 2004 which claims the benefit of U.S. Provisional Application Nos. 60 466 911 filed May 1 2003 60 469 670 filed May 12 2003 60 478 075 filed Jun. 12 2003 60 491 054 filed Jul. 30 2003 and 60 498 171 filed Aug. 27 2003 the contents of which are hereby incorporated by reference herein.

The present invention relates generally to the delivery of data based services over wireless local area networks WLANs . More particularly the present invention relates to methods and devices for delivering packet switched circuit switched IMS paging SMS and or other services over WLANs that are coupled to one or more 3GPP devices and further to protocol architecture for a universal mobile telecommunications system UMTS and code division multiple access 2000 CDMA 2000 SMS support over WLANs and further to provide personal text and voice messaging such as IMS and PTT technology restricted to a small group of users operating in a small geographic location without support of a network.

Although the meanings of the following acronyms are well understood by skilled artisans the following list is deemed to assist in a better understanding of the invention 

At the present time the wireless industry is rapidly moving from voice to data services from a verbal to a visual universe of applications. Users are demanding new features such as the ability to send and receive emails surf the World Wide Web WWW and send images all from their wireless handheld terminals. The focus is on developing services including advanced forms of messaging mobile entertainment and location based applications that are available whenever and wherever they are needed.

One currently popular data service is known as short message service hereinafter referred to as SMS. SMS has enjoyed ever increasing popularity in many areas of the world and this popularity is only expected to grow.

Short message services SMS are supported over existing wireless communication systems including 2G GSM systems i.e. circuit switch CS technology and 2.5G GPRS systems i.e. packet switch PS technology . The support of SMS is also provided over the most recent technologies i.e. 3G UMTS and CDMA2000 . However the introduction of WLAN interworking with UMTS CDMA2000 or 3GPP 3GPP2 systems has created a new environment that is not defined in terms of standard procedures and protocol architecture. Currently there is no support for SMS over Interworked WLAN systems. The overall architecture and procedures for UMTS CDMA2000 based SMS are currently in the early development stage and there are no standards or defined provisions for this purpose at this time. There is need for new protocol architecture for SMS over WLANs in particular for a protocol for SMS services over WLAN interworked with UMTS CDMA2000 systems.

The increased demand for mobile data communications raises some key interoperability challenges. Existing wireless networks have evolved during a time when voice not data communications were of paramount importance. Early cellular network infrastructures included a radio access network coupled to a plurality of mobile switching centers MSCs which in turn were coupled to the Public Switched Telephone Network PSTN . These devices operated in the circuit switched domain so as to implement voice communications. Unfortunately the circuit switched domain is highly inefficient when used to convey data communications which led to the development of various alternate network topologies.

In GSM and GPRS architectures the radio access network is coupled to one or more serving GPRS switching nodes SGSNs which in turn are coupled to one or more gateway GPRS switching nodes GGSNs . The GGSNs are each coupled to an IP Internet Protocol network which is either public or private. In this manner the SGSNs and GGSNs implement packet based switching to provide for efficient transfer of data between the radio access network and the IP network. Such data can include for example subscriber originating short messages subscriber terminating short messages IMS paging data or other types of packet data.

If a mobile subscriber wishes to access the Internet or a private Intranet from a wireless handheld terminal it is possible to do so via the radio access network using a data communications pathway that includes one or more SGSNs GGSNs and an IP network. However for many system applications it would be desirable to access the IP network via another path such as a wireless local area network WLAN to avoid adverse impacts on the ability of the radio access network to carry conventional voice communications.

WLAN technology is enjoying increased usage in homes offices and indoor public areas. Meanwhile mobile service providers are exploring opportunities to extend their service portfolios by providing WLAN hot spot access. By way of illustration travelers waiting in airport lounges can access the Internet over a laptop computer that is equipped with a WLAN card. This enables end users to access their home office from virtually any location without any noticeable change in network performance. To support such services in commercial enterprise and home networking environments WLAN research and development is proceeding at a brisk pace. Rapid deployments of IEEE 802.11b 802.11a and 802.11g are in progress with a large number of companies involved in the design and manufacture of components based on the IEEE 802.11 Standards. These deployments are expected to increase as consumer interest increases.

Even though a WLAN provides a complementary service to GSM and other radio access network operators interoperability standards have yet to be developed. As a result subscribers do not have seamless coverage of all data services when switching between a radio access network and a WLAN. For example in the context of a 3GPP equipped network subscribers are not able to receive SMS when they are accessing a WLAN. The ability to properly deliver other types of packet switched or circuit switched data including IMS paging data may also be compromised when a WLAN is utilized in conjunction with 3GPP equipment.

A C interface operates between an HLR home location register and SMS GMSC SMS IWMSC . Each call originating outside of the GSM such as an MS terminating a call sent from the PSTN has to go through a gateway to obtain the routing information required to complete the call. A protocol known as MAP C is used over the C interface for this purpose. Also the MSC optionally forwards billing information to HLR after call clearing.

A Gd interface operating between SMS GMSC SMS IWMSC and SGSN uses the MAP G protocol to transfer subscriber information during a location update procedure.

An E interface operating between SMS GMSC SMS IWMSC and MSC VLR mobile service switching center visitor location register interconnects two MSCs and is used to exchange data related to handover between an anchor MSC and a relaying MSC using the MAP E protocol.

A D interface is provided between MSC VLR and HLR . This interface uses the MAP D protocol to exchange information related to the location of the MS and or the management of the subscriber. A Gs interface is used between MSC VLR and SGSN . The Gs interface interconnects two VLRs of different MS Cs using the MAP G protocol to transfer subscriber information during a location update procedure. An Iu interface is employed between MSC VLR and a UTRAN UMTS terrestrial radio access network . Messages exchanged over the Iu interface are relayed transparently through a BSS base station system . Finally an A interface operates between MSC VLR and BSS . The A interface manages the allocation of suitable radio resources to the MSs and also implements functions related to mobility and security management.

Terminal equipment such as TE and TE may be coupled to mobile terminals such as MT and MT respectively. Illustratively communications between the TEs and the MTs takes place over an R interface. In turn MT communicates with UTRAN over a Uu interface and MT communicates with BSS over a Um interface. Uu refers to an over the air interface for exchanging information between a UMTS equipped MT and a UMTS equipped radio access network. Similarly Um refers to an over the air interface between an MS and a BSS. The Um and Uu interfaces both use link access protocol Dm channel LAPDm a modified version of the ISDN link access protocol D channel LAPD for signaling.

UTRAN is coupled to SGSN using an Iu interface which as previously mentioned acts as a transparent relay for conveying messages between MSC VLR and an MS via BSS . A Gb interface is employed between BSS and SGSN . The Gb interface is ultimately used to interconnect two VLRs of different MSCs using the MAP G protocol to transfer subscriber information during location update procedures in this case via the BSS which has established communication with the MS. Subscriber information is also transferred during location update procedures using Gs Gr Gn Gi and Gc interfaces. The Gs interface links MSC VLR with SGSN the Gr interface connects SGSN with HLR the Gc interface links HLR with a GGSN the Gn interface links SGSN with GGSN and the Gi interface links GGSN with a PDN packet data network coupled to TE .

SGSN is coupled to an equipment identity register EIR over a Gf interface. Basically EIR is a database which stores data related to mobile equipment. Whereas subscriber data is handled by HLR and MSC VLR the EIR stores relevant mobile equipment related data that may be employed for example to track down stolen mobile equipment or to monitor malfunctioning mobile equipment. SGSN is also coupled to charging gateway function CGF over a Ga interface and CGF in turn is coupled to a billing system . SGSN may illustratively be coupled to an additional SGSNs such as SGSN through a Gn interface described previously. The SGSN is coupled to GGSN by interface Gn and to GGSN by interface GP. A CAMEL GSM SCF Customized Application for Mobile network Enhanced Logic GSM Service Control Function is coupled to SGSN by a Ge interface.

With respect to handling the Short Message Service SMS the overall requirements of the various elements of MSC VLR SMS GMSC SMS IWMSC and SGSN provide message routing and intermediate buffering as set forth below.

When receiving a short message TPDU transfer protocol data unit from the SM SC the SMS GMSC of SMS GMSC SMS IWMSC receives the short message TPDU and inspects the TPDU parameters. If the TPDU parameters are incorrect the SMS GMSC returns the appropriate error information to the SM SC in the form of a failure report. If errors are not found in the parameters HLR is interrogated and retrieves routing information or possible error information. In the case of error information HLR returns a failure report to the SC.

If no errors are indicated by HLR then the short message TPDU is transferred to the MSC or SGSN using the routing information obtained from HLR . In cases where two addresses SGSN and MSC are received from the HLR the SMS GMSC may choose via which nodes SGSN or MSC the SMS is sent. SMS delivery via the SGSN is normally more radio resource efficient than SMS delivery via the MSC.

If one address SGSN or MSC is received from HLR at the time the report associated with the short message is received from the MSC or SGSN the SMS GMSC performs the following operational sequence 

When receiving a short message TPDU from SMS GMSC SMS IWMSC Forward Short Message the MSC performs the following operations 1 receive the short message TPDU and 2 retrieve information from the VLR location area address and when appropriate error information .

If errors are indicated by the VLR the MSC returns the appropriate error information to the SMS GMSC in a failure report. If no errors are indicated by the VLR the MSC transfers the short message to the MS.

When receiving a confirmation that the message is received by the MS the MSC relays the delivery confirmation to the SMS GMSC in a delivery report. When receiving a failure report of the short message transfer to the MS the MSC returns the appropriate error information to the SMS GMSC in a failure report. When receiving a notification from the MS that it has memory available to receive one or more short messages the MSC relays the notification to the VLR.

If errors are indicated by the VLR returning the appropriate error information to the MS in a failure report.

When there is an ongoing MT SMS transfer to the MS or other busy condition for the MT SMS the MSC has the option to store the TPDU in a queue for a short time which must be shorter than the supervision timer defined in 3GPP TS 29.002 15 . The maximum time that a message may be queued is related to the permitted delay for the MSC to respond to the SMS GMSC. When the MS becomes available for MT SMS transfer the stored TPDUs are delivered to the MS on a first in first out basis. If a message is not successfully transferred to the MS within the permitted time the MSC returns an appropriate error to the SMS GMSC.

When receiving a short message TPDU from SMS GMSC SMS IWMSC Forward Short Message SGSN receives the short message TPDU and if errors are detected the SGSN returns the appropriate error information to the SMS GMSC in a failure report.

When receiving a confirmation that the message is received by the MS the SGSN relays the delivery confirmation to the SMS GMSC in a delivery report. When receiving a failure report of the short message transfer to the MS the SGSN returns the appropriate error information to the SMS GMSC in a failure report. When receiving a notification from the MS that it has memory available to receive one or more short messages if errors are detected by the SGSN it returns the appropriate error information to the MS in a failure report. If no errors are detected by SGSN it notifies the HLR of memory available in the MS via the SGSN.

When there is an ongoing MT SMS transfer to the MS or other busy condition for MT SMS the SGSN has the option to store the TPDU in a queue for a short time which must be shorter than the supervision timer defined in 3GPP TS 29.002 15 . The maximum time that a message may be queued is related to the permitted delay for the SGSN to respond to the SMS GMSC. When the MS becomes available for MT SMS transfer the stored TPDUs are delivered to the MS on a first in first out basis. If a message is not successfully transferred to the MS within the permitted time the SGSN returns an appropriate error to the SMS GMSC.

When receiving a short message TPDU from the MS the MSC receives the short message TPDU retrieves information from the VLR as well as the MSISDN of the MS and when appropriate error information. The retrieval of information from the VLR is followed by the VLR investigating the mobile station not reachable flag MNRF to be used in the alerting procedure. If errors are indicated by the VLR the MSC returns the appropriate error information to the MS in a failure report. If no errors are indicated by the VLR the MSC inspects the RP DA parameter.

If parameters are incorrect the MSC returns the appropriate error information to the MS in a failure report. If no parameter errors are found the MSC transfers the short message TPDU to the SMS IWMSC of SMS GMSC SMS IWMSC . Note that the functionality of the SMS IWMSC may be implemented by the MSC.

When receiving the report of the short message from the SMS IWMSC the MSC is responsible for relaying the report to the MS.

When receiving a short message TPDU from the MSC or SGSN the SMS IWMSC receives the short message TPDU establishes where necessary a link with the addressed SC and transfers the short message TPDU to the SC if the address is valid.

If a report associated with the short message is not received from the SC before a timer expires or if the SC address is invalid the SMS IWMSC relays the report to the MSC or SGSN. If a report is associated with the short message is not received from the SC before a timer expires or if the SC address is invalid the SMS IWMSC returns the appropriate error information to the MSC or SGSN in a failure report. The value of the timer is dependent on the protocol between the SC and the SMS IWMSC.

When receiving a short message TPDU from the MS SGSN receives the short message TPDU and inspects the RP DA parameter. If parameters are incorrect the SGSN transfers the short message TPDU to the SMS IWMSC. When receiving the report of the short message from the SMS IWMSC the SGSN relays the report the MS.

When receiving an alert from the HLR the SMS IWMSC of SMS GMSC SMS IWMSC inspects the switching center SC address generates an RP Alert SC and transfers the RP Alert SC to the SC. If the SC address is not valid then no further action is taken.

Standard 3GPP TS 29.002 15 defines operations required for the provision of the Short Message Service SMS . The operations defined in clause set forth the requirements that the SMS imposes upon network functionality. Annex C indicates the flow of primitives and parameters during the short message transfer between the SC and the MS. Both the mobile terminated MT and the mobile originated MO cases are covered.

Refer now to which is a data structure diagram setting forth an illustrative related art SMS delivery mechanism over a GPRS and GSM equipped network. The entities involved in SMS delivery include Short Message Service Center SM SC SMS GMSC SMS IWMSC HLR MSC SGSN VLR and MS . SM SC SMS GMSC SMS IWMSC and HLR are identical to the corresponding entities shown in whereas the SGSN portion of MSC SGSN is analogous to SGSN of HLR is analogous to HLR of and VLR is analogous to the VLR portion of MSC VLR .

Although shows SM SC connected to a single MSC SGSN and illustratively involves a single public land mobile network PLMN as a practical matter SM SC may be connected to several PLMNs and also to several MSC SGSN s. SM SC is addressed from mobile equipment such as TE or MT by an E.164 number. This number uniquely identifies SM SC to a particular PLMN.

Pursuant to the data flow diagram of the short message delivery process begins when an SMS message is conveyed from SM SC to SMS GMSC SMS IWMSC S . In response to receipt of the SMS SMS GMSC SMS IWMSC requests retrieval of routing information from HLR S and optionally sends an acknowledgement or not acknowledged message ACK NAK back to SM SC S . HLR responds by sending an MSC SGSN address to SMS GMSC SMS IWMSC S . In the case of an error SMS GMSC SMS IWMSC sends an error message back to SM SC S .

Now that SMS GMSC SMS IWMSC knows the address of the appropriate MSC SGSN as identified by HLR the SMS GMSC SMS IWMSC sends the SMS to that MSC SGSN S . MSC SGSN attempts to locate the appropriate destination MS for the SMS with help from VLR S and then forwards the SMS message to that MS S . MS then sends an acknowledgment or not acknowledged message ACK NAK back to MSC SGSN S . MSC SGSN sends the ACK NAK message to SMS GMSC SMS IWMSC S which in turn relays the ACK NAK message back to SM SC S . In the case of an error an error message is sent from MSC SGSN to SMS GMSC SMS IWMSC S and thence from SMS GMSC SMS IWMSC to SM SC S .

SGSN responds to the page by sending a paging request to BSS S . The paging request is a BSS GPRS protocol BSSGP request to the BSS serving the MS that includes some or all of the following parameters IMSI temporary logical link identifier TLLI VLR temporary mobile subscriber identity TMSI Area Channel Needed and or quality of service QoS . The Area parameter is derived from either the MS s MM context in SGSN or if no such information is available from the Location Information received from MSC VLR . Area indicates a single cell for a READY state MS or a routing area for a STANDBY state MS. VLR TMSI and Channel Needed are included if received from the MSC. If Channel Needed was not received from the MSC then a default Channel Needed parameter indicating circuit based paging is included by SGSN . QoS indicates the priority of this Paging Request relative to other Paging Request messages buffered in BSS . If the location area where the MS was last known to be located has an associated null routing area then the SGSN sends an additional BSSGP Paging Request message to each BSS serving the null routing area.

BSS translates the incoming BSSGP Paging Request message into one Radio Paging Request message per cell. If a dedicated radio resource is assigned to the MS in a cell then BSS transmits one Paging Request VLR TMSI or IMSI Channel Needed message on this radio resource S without stopping possible outgoing data transfers for the MS. Otherwise BSS pages the MS with one paging request VLR TMSI or IMSI Channel Needed message on the appropriate paging channel in each addressed cell.

Responsive to BSS forwarding the paging request to MS MS sends a set asynchronous balanced mode SABM message to BSS S . BSS responds to the SABM message by sending a signaling connection control part SCOP connection request to MSC VLR S . In cases where MS is both IMSI and GPRS attached in a PLMN that operates in mode I the MSC VLR executes paging for circuit switched services via SGSN . Upon receipt of a Paging Request message for a circuit switched service MS may elect to respond to this request and pursuant to such an election the MS will follow standard well known CS procedures for paging response random access immediate assignment as specified in GSM 04.08 13 . When received at BSS the Paging Response message is sent to the MSC which then stops the paging response timer.

Refer now to a data structure diagram of a prior art CS GSM paging procedure over a GPRS and GSM equipped network using the Iu protocol is shown. The entities involved in Iu mode CS paging include MS RNS 3G SGSN and MSC VLR . The paging procedure commences when MSC VLR sends a page to 3G SGSN S . The page may include some or all of the following parameters sent by the MSC VLR IMSI VLR TMSI Channel Needed Priority and or Location Information. If VLR TMSI is not included the IMSI is used instead of the TMSI as a paging address at the radio interface. If Location Information is not included 3G SGSN pages MS in all cells served by MSC VLR and 3G SGSN unless 3G SGSN has reliable information about the location of MS .

3G SGSN responds to the page by sending a radio access network application part RANAP paging message to each radio network subsystem RNS S . The RANAP paging message includes some or all of the following parameters IMSI TMSI Area and core network CN Domain Indicator. RNS requires the IMSI parameter in order to calculate the MS paging group and to identify the paged MS . The TMSI parameter is included if it is received from MSC VLR . The Area parameter indicates the area in which MS is paged and it is derived either from the MS s MM context in 3G SGSN or if no such information is available from the Location Information received from MSC VLR . CN Domain Indicator indicates which domain CS or PS initiated the paging message and in the present scenario it must be set to CS by 3G SGSN .

Upon receipt of a Paging Request message for a circuit switched CS service S MS responds to this request and returns a paging response S in the form of a radio resource control RRC Initial Direct Transfer message refer to GSM 04.18 and 3GPP 25.331 for more details . The CN Domain Indicator is set to CS in the Initial Direct Transfer message. When received at RNS the Paging Response message is sent in an RANAP Initial UE message to MSC VLR S which then stops the paging response timer.

Referring first to the procedure of a packet data protocol protocol data unit PDP PDU is received at GGSN S . GGSN sends routing information for GPRS to HLR S . HLR sends an acknowledgment message back to GGSN . GGSN then sends a PDU notification request to SGSN S . SGSN responds to the PDU notification request by sending a PDU notification response back to GGSN A . SGSN then requests packet data protocol PDP context activation from MS S . MS and GGSN then engage in a PDP context activation procedure S .

With respect to the procedure of when SGSN in this case a 3G SGSN receives a downlink packet Request PDP Context Activation MT SMS User Data for an MS in packet mobility management IDLE PMM IDLE state S SGSN sends a paging request SA to the MS using RNC S . The paging request triggers the service request procedure in MS S . The overall service request procedure operates as follows. First SGSN receives a downlink PDP PDU for MS when the MS is in PMM IDLE state. Next SGSN sends a paging message to RNC . RNC pages MS by sending a paging message to the MS. MS establishes an RRC connection into the RNC if none exists for CS traffic S SA .

The service request procedure continues when MS sends a Service Request message S to SGSN . A Service Request message includes one or more of the following parameters P TMSI routing area identification RAI cipher key sequence number CKSN and Service Type. The Service Type parameter specifies the paging response PR . The Service Request is carried over a radio link in an RRC Direct Transfer message and over the Iu interface in the RANAP Initial MS message. At this point SGSN may perform an authentication procedure. SGSN is able to ascertain whether the downlink packet requires radio access bearer RAB establishment i.e. downlink PDU or does not i.e. Request PDP Context Activation or MT SMS . SGSN then performs the security mode procedure S .

If resources for the PDP contexts are reestablished SGSN sends an RAB Assignment Request SA to RNC . The RAB Assignment Request includes one or more of the following parameters RAB ID s tunnel endpoint identifiers TEIDs QoS Profile s and SGSN IP Address es . RNC sends a Radio Bearer Setup message SB including one or more RAB ID s to MS . MS responds to the Radio Bearer Setup message by returning a Radio Bearer Setup Complete message to RNC SC . RNC sends an RAB Assignment Response message to SGSN SD in order to indicate that GPRS tunneling protocol GTP tunnels are established on the Iu interface and also to indicate that radio access bearers are established between RNC and MS . The RAB Assignment response includes one or more of the following parameters RAB ID s TEID s and RNC IP Address es .

If RNC returns a RAB Assignment Response message with a cause indicating that the requested QoS profile s cannot be provided for example the maximum requested bit rate is not available then SGSN may send a new RAB Assignment Request message specifying a different QoS profile or profiles. The number of re attempts if any as well as the manner in which the new QoS profile s are determined are implementation dependent. For each RAB reestablished with a modified QoS profile SGSN reinitiates a PDP Context Modification procedure to inform MS and GGSN of the new negotiated QoS profile for the corresponding PDP context S . SGSN then transmits the downlink packet S .

Although teach the ability to deliver SMS and IMS paging over a cellular network there is a lack of systems and methods for delivering data based services such as SMS and IMS paging over a WLAN.

The present invention is characterized by method and apparatus for delivering data based services over a WLAN coupled to one or more 3GPP devices by encapsulating data in IP format before delivery to the WLAN. In a first embodiment of the invention direct SMS delivery with optional WAG the data based service is SMS and particularly UMTS CDMA based SMS. Upon receipt of an SMS message routing information pertaining to the message is retrieved. A PDGW address for the SMS message is identified. The SMS message is then sent to this identified PDGW address. The PDGW identifies the WLAN UE to which the SMS is to be delivered and reformats the SMS message into IP format text or encapsulation so that the message is ready for delivery to the identified WLAN UE.

A second embodiment of the invention may be referred to as direct SMS delivery with mandatory WAG . Upon receipt of an SMS message routing information pertaining to the message is retrieved. A WAG address for the SMS message is identified. The SMS message is then sent to this identified WAG address. The WAG identifies the WLAN User Equipment for which the SMS message is to be delivered and the WAG reformats the SMS message into IP format text or encapsulation so that the message is ready for delivery to the identified WLAN UE.

A third embodiment of the invention is known as notification based SMS delivery with optional WAG . Upon receipt of an SMS message at an SMS GMSC SMS IWMSC routing information pertaining to the message is retrieved. A PDG address for the SMS message is identified. The SMS message is then sent to this identified PDG address. The PDG identifies the WLAN User Equipment to which the SMS message is to be delivered and notifies the User Equipment of the existence of an incoming SMS message. The PDG reformats the SMS message into IP format text or encapsulation so that the message is ready for delivery. The PDG then sends an SMS message notification to the WLAN. Upon receipt of the SMS message notification the WLAN sends an acknowledgment message ACK to the PDG. The PDG responds to the acknowledgment message by sending the SMS message to the WLAN. The WLAN then transmits the SMS message to the previously identified User Equipment. Upon receipt of the SMS message the User Equipment sends an SMS receipt message to the WLAN.

When the WLAN receives the SMS receipt message from the User Equipment the WLAN generates a delivery report and sends the delivery report to the PDG. The PDG examines the delivery report to ascertain whether or not the SMS message was successfully delivered to the User Equipment. If so the PDG sends an acknowledgment message ACK to the SMS GMSC SMS IWMSC and if not the PDG sends a no acknowledgment message NAK to the SMS GMSC SMS IWMSC. Upon receipt of the ACK or NAK message the SMS GMSC SMS IWMSC generates a delivery report and sends the delivery report to the SM SC.

A fourth embodiment of the invention is referred to as notification based SMS delivery with mandatory WAG . Upon receipt of an SMS message at an SMS GMSC SMS IWMSC routing information pertaining to the message is retrieved. A WAG address for the SMS message is identified. The SMS message is then sent to this identified WAG address. The WAG identifies the WLAN User Equipment for which the SMS message is to be delivered and notifies the User Equipment of the existence of an incoming SMS message. The WAG reformats the SMS message into IP format text or encapsulation so that the message is ready for delivery. The WAG then sends an SMS message notification to the WLAN. Upon receipt of the SMS message notification the WLAN sends an acknowledgment message ACK to the WAG. The WAG responds to the acknowledgment message by sending the SMS message to the WLAN. The WLAN then transmits the SMS message to the previously identified User Equipment. Upon receipt of the SMS message the User Equipment sends an SMS receipt message to the WLAN. When the WLAN receives the SMS receipt message from the User Equipment the WLAN generates a delivery report and sends the delivery report to the WAG. The WAG relays the delivery report to the SMS GMSC SMS IWMSC and the SMS GMSC SMS sends the delivery report to the SM SC.

A fifth embodiment of the invention is termed WLAN originated SMS delivery with optional WAG . A WLAN receives an incoming encapsulated SMS message from User Equipment UE and forwards the encapsulated SMS message to a PDG. The SMS message is encapsulated in IP format. The PDG decapsulates and reformats the SMS message from IP format into a standard SMS format. The standard format SMS message is then sent to an SMS IWMSC. The SMS IWMSC examines the SMS message and forwards the message to an SM SC. In response to receipt of the SMS message the SM SC sends a delivery report to the SMS IWMSC. The SMS IWMSC sends the delivery report to the PDG and the PDG relays the delivery report to the WLAN. Finally the WLAN sends the delivery report back to the User Equipment which previously sent the encapsulated SMS message to the WLAN.

A sixth embodiment of the invention is termed WLAN originated SMS delivery with mandatory WAG . A WLAN receives an incoming encapsulated SMS message from User Equipment UE and forwards the encapsulated SMS message to a WAG. The SMS message is encapsulated in IP format. The WAG decapsulates and reformats the SMS message from IP format into a standard SMS format. The standard format SMS message is then sent to an SMS IWMSC. The SMS IWMSC examines the SMS message and forwards the message to an SM SC. In response to receipt of the SMS message the SM SC sends a delivery report to the SMS IWMSC. The SMS IWMSC sends the delivery report to the WAG and the WAG relays the delivery report to the WLAN. Finally the WLAN sends the delivery report back to the User Equipment which previously sent the encapsulated SMS message to the WLAN.

A seventh embodiment of the invention provides for the notification of CS circuit switched calls over a WLAN. A WLAN is coupled to User Equipment and also to a PDGW. Communications between WLAN User Equipment and PDGW are over standard IP based links. Upon receipt of an incoming CS call an MSC retrieves mobile routing information and sends this routing information to an HLR. In response to this routing information the HLR sends a PDGW address back to the MSC. The MSC then sends a Page message to the PDGW address returned by the HLR. The Page message may but need not include a Mobile IP address. Upon receipt of the Page message the PDGW locates the WLAN UE and notifies the WLAN by sending the WLAN a Page Notification message. The WLAN alerts the User Equipment as to the existence of an incoming CS call. If the call is to be accepted at the User Equipment the User Equipment sends an acceptance message back to the WLAN. In turn the WLAN sends an acknowledgment ACK message to the PDGW. The PDGW responds to the ACK message by sending a Page Response message back to the MSC. The MSC stops the paging response timer and proceeds with delivery of the CS call over a GSM radio interface.

An eighth embodiment of the invention provides for the notification of GPRS 3G based services over a WLAN. A WLAN is coupled to User Equipment and also to a PDGW. Communications between WLAN User Equipment and PDGW are over standard IP based links. Upon receipt of an incoming PDP PDU a GGSN retrieves mobile routing information and sends this routing information to an HLR. In response to this routing information the HLR sends a PDGW address back to the GGSN. The GGSN then sends a PDU Notification message to the PDGW address returned by the HLR. The PDU Notification message may but need not include a Mobile IP address. Upon receipt of the PDU Notification message the PDGW locates the WLAN UE and notifies the WLAN by sending the WLAN a PDU Notification message. The WLAN alerts the User Equipment as to the existence of incoming data packets from a GPRS 3G data based service. If the service is to be accepted at the User Equipment the User Equipment sends an acceptance message back to the WLAN. In turn the WLAN sends an ACK message to the PDGW. The PDGW responds to the ACK message by sending a PDU Notification Response message back to the GGSN. Optionally the GGSN then repeats all or a portion of the aforementioned procedure over a GPRS 3G network.

A ninth embodiment of the invention provides for the notification of IMS based services over a WLAN. A WLAN is coupled to User Equipment and also to a PDGW. Communications between WLAN User Equipment and PDGW are over standard IP based links. Upon receipt of an incoming SIP call a CSCF retrieves mobile routing information and sends this routing information to an HLR. In response to this routing information the HLR sends a PDGW address back to the CSCF. The CSCF then sends an SIP Notify message to the PDGW address returned by the HLR. The SIP Notify message may but need not include a Mobile IP address. Upon receipt of the SIP Notify message the PDGW locates the WLAN UE and notifies the WLAN by sending the WLAN an SIP Notify message. The WLAN alerts the User Equipment as to the existence of an incoming SIP call. If the SIP call is to be accepted at the User Equipment the User Equipment sends an acceptance message back to the WLAN. In turn the WLAN sends an ACK message to the PDGW. The PDGW responds to the ACK message by sending an acknowledgment message back to the CSCF. Optionally the CSCF then repeats all or a portion of the aforementioned procedure over a 3G network.

A tenth embodiment of the invention provides for the termination of IMS based services over a WLAN. A WLAN is coupled to a UE and also to a PDGW. Communications between WLAN UE and PDGW are over standard IP based links. Upon receipt of an incoming SIP call a CSCF retrieves mobile routing information and sends this routing information to an HLR. In response to this routing information the HLR sends a PDGW address back to the CSCF. The CSCF then sends a SIP Invite message to the PDGW address returned by the HLR. Upon receipt of the SIP Invite message the PDGW locates the WLAN UE and notifies the WLAN by sending the WLAN a SIP Invite message. The WLAN alerts the UE as to the existence of an incoming SIP call. If the SIP call is to be accepted at the UE the UE sends an acceptance message back to the WLAN. In turn the WLAN sends a SIP 200 OK message to the PDGW. The PDGW responds to the SIP 200 OK message by sending a SIP 200 OK message back to the CS CF. Optionally the CSCF then sends the SIP 200 OK message over a 3G network.

Eleventh and twelfth embodiments provide two distinct alternative mechanisms i.e. SMS tunneling and SMS proxy for protocols for the delivery of SMS across the WLAN. As described the invention is applicable to enhance the I.E.E.E. standard 802.11 in the context of UMTS and CDMA 2000 nevertheless the invention is applicable in other scenarios as well.

A thirteenth embodiment of the present invention comprises providing text and voice messaging to a few mobile terminals operating in a small geographic location utilizing an adhoc network principal having a simple call control protocol at the application level and which provides very minimal impact on existing systems and hardware since no infrastructure support is needed and while taking advantage of existing technology and requiring only a software based solution for fast and easy implementation. Existing technology may for example be based on Bluetooth BT radio and a platform which supports UMTS and preferably meets 3G requirements and supports dual mode GSM GPRS and WCDMA in accordance with 3GPP standards.

First WLAN access network accesses a 3GPP visited network via a WLAN access gateway and or optionally via a 3GPP AAA proxy server . Communications between first WLAN access network and WLAN access gateway uses a Wn interface denoting the tunneling of data through intermediate networks. The link between first WLAN access network and optional 3GPP AAA proxy server uses a Wr Wb interface wherein Wr signifies wireless LAN authentication information flow to 3GPP and Wb refers to wireless LAN charging functions. First WLAN access gateway is also coupled to a PDGW which in turn accesses a PDN over a Wi interface denoting access to a packet data network. Optional 3GPP AAA proxy server is coupled to an optional Control Gateway Call Control Function shown as C Gw CCF over a Wf interface denoting a charging gateway function.

Second WLAN access network accesses PDGW of 3GPP home network . PDGW is linked to WLAN access gateway of 3GPP visited network over a Wn interface which as described herein before signifies the tunneling of data through intermediate networks. PDGW is linked to PDN over the above described Wi interface wherein PDN could but need not denote the same network as PDN . PDGW is linked to a 3GPP AAA proxy server over a Wm interface. In turn 3GPP AAA proxy server is linked to 3GPP AAA proxy server of 3GPP visited network over a Wr Wb interface described above. 3GPP AAA proxy server is also linked to online certificate status OCS home subscriber server HSS HLR and C Gw CCF . The link between OCS and 3GPP AAA proxy server operates over a Wo interface which implements online charging whereas the link between HLR and 3GPP AAA proxy server uses a D Gr interface previously described in conjunction with and the link between HSS and 3GPP AAA proxy server utilizes a Wx interface for implementing authentication procedures.

A D interface operates between MSC VLR and HLR . This interface uses the MAP D protocol to exchange information related to the location of the MS and or the management of the subscriber. A Gs interface is used between MSC VLR and SGSN . The Gs interface interconnects two VLRs of different MS Cs using the MAP G protocol to transfer subscriber information during a location update procedure. An Iu interface is employed between MSC VLR and a UMTS terrestrial radio access network UTRAN . Messages exchanged over the Iu interface are relayed transparently through a base station system BSS such as BSS . An A interface operates between MSC VLR and BSS . The A interface manages the allocation of suitable radio resources to the MS s and also implements functions related to mobility and security management.

Terminal equipment such as TE and TE may be coupled to mobile terminals such as MT and MT respectively. Illustratively communications between the TEs and the MTs takes place over an R interface. In turn MT communicates with UTRAN over a Uu interface and MT communicates with BSS over a Um interface. Uu refers to an over the air interface for exchanging information between a UMTS equipped MT and a UMTS equipped radio access network. Similarly Um refers to an over the air interface between an MT and a BSS. The Um and Uu interfaces both use LAPDm a modified version of the ISDN LAPD for signaling.

UTRAN is coupled to SGSN using an Iu interface which as previously mentioned acts as a transparent relay for conveying messages between MSC VLR and an MS via BSS . A Gb interface is employed between BSS and SGSN . The Gb interface interconnects two VLRs of different MSC s using the MAP G protocol to transfer subscriber information during location update procedures in this case via the BSS which has established communication with the MS. Subscriber information is also transferred during location update procedures using Gs Gr Gn Gi and Gc interfaces. The Gs interface links MSC VLR with SGSN the Gr interface connects SGSN with HLR the Gc interface links HLR with a gateway GPRS support node GGSN the Gn interface links SGSN with GGSN and the Gi interface links GGSN with PDN coupled to TE .

SMS GMSC SMS IWMSC is coupled to a PDGW over a Wd connection. PDGW also communicates with PDN over a Wi connection and with a WLAN over a Wn connection. WLAN is coupled to one or more user devices designated as WLAN UE .

Refer now to which sets forth a novel architectural approach for the termination of SMS messages using a direct delivery mechanism and a mandatory WAG in an interworking WLAN and GPRS GSM system. is substantially identical to with the exception that an additional element WAG has been added to the configuration of . SMS GMSC SMS IWMSC is coupled to a WAG over a Wd connection. WAG also communicates with a PDGW and with WLAN over a Wn connection. WLAN is coupled to one or more user devices designated as WLAN UE . PDGW communicates with PDN over a Wi connection.

Upon receipt of the SMS message or a portion thereof at the identified WLAN UE an ACK NAK message is sent from the WLAN UE to the WLAN S and the ACK NAK message is then relayed from the WLAN UE to the PDG S from the PDG to the SMS GMSC SMS IWMSC S and thence from the SMS GMSC SMS IWMSC to the SM SC S .

In the SMS message notification is sent from the PDGW to WLAN S and is then sent from WLAN to UE S . The actual SMS message is then sent from PDGW to WLAN S and then from WLAN to UE S after receipt of the ACK message from UE S and S . Upon receipt of the SMS message WLAN UE sends an SMS receipt message to WLAN S . WLAN generates a delivery report and sends the delivery report to PDGW S . PDGW examines the delivery report to ascertain whether or not the SMS message was successfully delivered to the WLAN UE . If so PDGW sends an ACK to the SMS GMSC SMS IWMSC and if not the PDG sends a no acknowledgment message NAK to the SMS GMSC SMS IWMSC S . Upon receipt of the ACK message or NAK message the SMS GMSC SMS IWMSC generates a delivery report and sends the delivery report to the SM SC S .

WLAN access network accesses a 3GPP visited network via an optional border gateway BG and or via an optional 3GPP AAA proxy server . Communications between WLAN access network and BG uses a Wn interface. The link between WLAN access network and optional 3GPP AAA proxy server uses a Wr Wb interface. BG is coupled to PDGW which in turn accesses a PDN over a Wi interface. Optional 3GPP AAA proxy server is coupled to an optional C Gw CCF over a Wf interface denoting a charging gateway function.

BG accesses PDGW of 3GPP home network over a Wn interface which as described above signifies the tunneling of data through intermediate networks. PDGW is linked to PDN over the above described Wi interface. PDN could but need not denote the same network as PDN . A 3GPP AAA proxy server is linked to 3GPP AAA proxy server of 3GPP visited network over the Wr Wb interface described above. 3GPP AAA proxy server is also linked to OCS HSS HLR and C Gw CCF . The link between OCS and 3GPP AAA proxy server operates over a Wo interface which implements online charging whereas the link between HLR and 3GPP AAA proxy server uses a D Gr interface and the link between HSS and 3GPP AAA proxy server utilizes a Wx interface for implementing authentication procedures.

A D interface operates between MSC VLR and HLR . This interface uses the MAP D protocol to exchange information related to the location of the MS and or the management of the subscriber. A Gs interface is used between MSC VLR and SGSN . The Gs interface interconnects two VLRs of different MSCs using the MAP G protocol to transfer subscriber information during a location update procedure. An Iu interface is employed between MSC VLR and a UTRAN UMTS terrestrial radio access network . Messages exchanged over the Iu interface are relayed transparently through a BSS . Finally an A interface operates between MSC VLR and BSS . The A interface manages the allocation of suitable radio resources to the MS s and also implements functions related to mobility and security management.

Terminal equipment such as TE and TE are shown coupled to mobile terminals such as MT and MT respectively. Communication between the TEs and the MTs takes place over an R interface. In turn MT communicates with UTRAN over a Uu interface and MT communicates with BSS over a Um interface. Uu is an over the air interface for exchanging information between a UMTS equipped MT and a UMTS equipped radio access network. Um is an over the air interface between an MS and a BSS. The Um and Uu interfaces both use LAPDm a modified version of the ISDN LAPD for signaling.

UTRAN is coupled to SGSN using an Iu interface which as previously mentioned acts as a transparent relay for conveying messages between MSC VLR and an MS via BSS . A Gb interface is employed between BSS and SGSN . The Gb interface is ultimately used to interconnect two VLRs of different MSC s using the MAP G protocol to transfer subscriber information during location update procedures in this case via the BSS which has established communication with the MS. Subscriber information is also transferred during location update procedures using Gs Gr Gn Gi and Gc interfaces. The Gs interface links MSC VLR with SGSN the Gr interface connects SGSN with HLR the Gc interface links HLR with a GGSN gateway GPRS support node the Gn interface links SGSN with GGSN and the Gi interface links GGSN with a PDN packet data network coupled to TE terminal equipment .

SMS GMSC SMS IWMSC is coupled to a PDGW over a Wd connection. PDGW communicates with PDN over a Wi connection and with WLAN over a Wn connection and with a GGSN and with MSC VLR . WLAN is coupled to one or more UEs such as WLAN UE .

The following description sets forth the eleventh and twelfth embodiments of the present invention for SMS Protocol Architecture for WLAN. show the protocols interfaces employed in the implementation of the eleventh and twelfth embodiments. The protocol layers that are used to support SMS in the present invention include SM AL application layer TL transfer layer RL relay layer and LL link layer protocol layers. SS7 protocol is the transport mechanism between SMS GMSC IWMSC and PDG WAG as in GPRS and GSM. The interface between PDG WAG WLAN is comprised of IP based interface tunnels.

Two mechanisms proposed herein to carry the SMS across the WLAN according to the present invention include 

wherein SMS PDU is extracted from SS7 message then Encapsulated AS IS by WAG PDG into an IP data frame and sent to the SMS Client in the WLAN for normal processing extraction and actions .

wherein at the WAG PDG the SMS proxy extracted and processed SS7 message extracts the SMS data along with other usable elements such as the SMS Originating Address and Message Length . These information elements IE are then re formatted in a text or any other format and then encapsulated in an IP frame and sent to the UE for display.

Making reference to the following is to be noted. illustrates the eleventh embodiment which is the preferred method and relates to protocol showing IP tunnelling from the UE to the WAG PDG.

The same protocol SM RL and short message center SMC will be used on top of IP. The SM protocol information is exchanged over the IP connection.

As illustrated in the mobile services switching center MSC reinforces the previous information processing shown in . also shows that the protocol entity receives the message extracts the information finds routing information and then encapsulates the message in an IP PDU to transport over the IP tunnel.

As illustrated in the MSC reinforces the information processing in . shows that the protocol entity receives the message extracts the information finds routing information and then encapsulates it in a TCAP message to be transported over the SS7 network.

For the SMS message originating MO case SM AL encapsulates SMS data in PDU. It goes down the protocol stack and is finally encapsulated in the IP packet and sent to the network.

With reference to in the case of SMS PROXY details about information processing in WAG PDG for the mobile originated SMS are shown. The data is supplied by a conversion layer to SM AL. The user provides the DA destination address and the SM data. The information flows down AL TL and RL. SM RL generates the originating MSISDN and uses the TCAP service to send the data to SMS IWMSC.

As was described briefly hereinabove the objective of the thirteenth embodiment is to provide a short range personal messaging network using existing hardware such as for example Bluetooth BT radio and a UMTS platform which may for example utilize the Ericsson U100 platform. The thirteenth embodiment provides a software entity at the application level which is simple inexpensive takes maximum advantage of existing capabilities and entities and further avoids either using or adding functionality at the network side and furthermore avoids dependency on network support.

The thirteenth embodiment enables a group of mobile terminals limited in number and functioning within a small geographical area to be capable of exchanging text messages or voice messages such as push to talk PTT .

In the arrangement shown in the hierarchical mode shows mobile terminal communicating with mobile terminals and no further communications being provided in this mode although it should be understood that either one of the mobile terminals or may operate in a manner similar to mobile terminal . Typically a piconet provides support for upwards of eight 8 mobile terminals. It is also possible to use the present embodiment in a scatternet which comprises a small network of two or more piconets.

The embodiment of the present invention follows the basic philosophy of an adhoc network which is similar to instant messenger and PTT technology but operates in a very small area having a maximum radius of 100 meters for example and which avoids any dependency on a base station or network server i.e. is a non peer network entity. The thirteenth embodiment enables point to multipoint communication within a small closed user group eliminates central control by way of a base station and to the contrary is managed locally enabling users to join or leave dynamically i.e. an initiator terminal can selectively invite terminals to the group or a terminal can be selectively denied access to the group.

In one preferred form of the thirteenth embodiment a technology of choice is Bluetooth BT radio supported by a UMTS platform such as the Ericsson U 100 platform and has a maximum range of 100 meters which range is dependent upon the power class of the mobile terminals. The thirteenth embodiment in addition to supporting point to multipoint communications is capable of operating in a master slave and a client server mode the master slave s mode being an operation where all the communications are synchronous between master and slave s and wherein the client server mode is asynchronous wherein the server may offer the service which the client may asynchronously accept or alternatively wherein the client asynchronously seeks a service which the server may provide. The thirteenth embodiment further has the facility to provide connectable and discoverable services wherein connectable devices listen and respond to pages and wherein discoverable devices listen and respond to service inquiries.

An overview of the protocol employed in this embodiment will now be described in connection with . Making reference to the example herein is one in which mobile terminals A through D are provided for example within a piconet and are maintained on and in a listening mode as shown at A. It is assumed that mobile terminal A desires to start a conversation or a push to talk PTT . Discoverable devices listen to and respond to service inquiries.

Assuming that mobile terminal A elects to initiate the conversation for push to talk this mobile terminal scans for any service provider. A then becomes the master and takes control.

Assuming that mobile terminal B desires to send data the steps performed by mobile terminal B are shown in wherein the mobile terminal at step S scans the mobile terminals in its prestored group receives responses from the mobile terminals at step S and at step S determines which mobile terminal has the token i.e. determines which terminal has its all bits of its token register set to binary one and at step S requests the token from terminal A. Terminal A shown in at step S receives the request for the token and at step S relinquishes the token by resetting its token register to all zeroes breaks all links with the members of its group at step S and at step S assumes the client mode. Mobile terminal B at step S receives the reply from mobile terminal A that the token is relinquished sets its token register to all ones at step S sets up links with terminals in its group at step S and at step S multicasts data to mobile terminals A C and D as shown in . It should be noted that the mobile terminals that B desires to communicate with need not be the same as the group selected by terminal A the example herein being chosen for the sake of simplicity.

Assuming that mobile terminal C is desirous of sending either a text message or a PTT this mobile terminal requests a token in the manner similar to that described above with regard to terminal B and assuming that terminal B relinquishes control terminal C sets its token register to all ones becomes the master and takes control in a similar manner to the example given for mobile terminals A and B.

Recapulating the protocol for sending is token based requiring that a mobile terminal have a valid token before transmitting the token being passed from terminal to terminal. The master terminal multicasts to slaves in a time synchronized fashion while a server multicasts to a client in an asynchronous fashion. Acquisition of a token switches the role of the terminal from slave to master. All terminals can function as clients and they can be paged i.e. they are connectable but not discoverable.

The protocols for the thirteenth embodiment are provided at the application level and are adapted for managing a user group managing links managing the token switching from server to client and vice versa.

As shown in the software entity which is a personal messaging network PMN client is an enterprise content management ECM component which is interfaced through an Ericsson interface description language EIDL .

The platform incorporates hardware HW for network access services data communication services multimedia interface services application platform services and operation and related services respectively shown at A through A the software supporting these services being shown respectively at B through B. The middleware services include the platform application programming interface ATI as well as the open archives open application framework OAF which is integrated into the middleware services and functions to manage all interfaces of the platform with the underlying services. For example the user interface UI which is shown as being JAVA based and which enables a user to operate the mobile terminal to turn on turn off input data select from among stored menus etc. may when the platform takes the form of a cell phone have a conventional telephone keypad together with other operating buttons to provide on off scan mode selection and other typical functions. Alternatively the manual interface may be a keyboard type input shown for example at in or the manual input may be a touch screen type or the like. The user interface is managed by the OAF . The user interface UI need not be Java based and may employ any other suitable programming language.

The personal messaging network PMN capability is preferably embodied in three software modules which define the PMN client capability the individual modules respectively being a link manager a device manager and a profile manager module and respectively. The divisions of the functions provided preferably dictate independent modules which however are associated with one another. More specifically the link manager module sets up all the connections which include location of and communication with the service provider such as a BT service provider and establishing connections with those mobile terminals within the link which has been previously identified and stored within the contact list of the mobile terminal seeking to set up communications with one or more mobile terminals within the link . The module then calls module

The device manager module manages the handling of the token previously described in connection with and controls all other interactions between the device and the selected mobile terminals within the link.

The profile manager module contains a profile of the device which includes any advertising or other capabilities of the individual platform of the mobile terminal . The modules through interface with the OAF through a functional interface via the Ericsson interface description language EIDL stubs of the open platform ATI OPA which standardizes the modules through to the OPA and vice versa.

As shown in Bluetooth BT services are interfaced with the OAF protocols in modules through and OAF . Graphics user interface GUI services are linked with the protocol modules provided at through and OAF

Recapitulating the software entity i.e. the PMN client is provided as an extended component management services ECM component which is interfaced through the EIDL stubs and is similar to the common object request broker architecture CORBA in order to provide interoperability between objects built in different programming languages running on different physical machines and perhaps on different networks CORBA specifying in interface definition language an API that allows client server interaction with the object request broker ORB .

The PMN client registers for events and can be either a supplier or consumer can be dynamically linked and the components thereof can dynamically register for services. The advantage of the embodiment shown for example in is the capability of linking a small group of mobile terminals within a small geographic area without any network support.

The foregoing is an explanation of the inventive methods and architectures for the delivery of voice and or data based services over 3GPP interworked LANs with specific reference to the PGDW and the optionally and functionally connected situations of WAGs in each of various illustrated scenarios. The invention is applicable to UMTS and CDMA 2000 environments but it is not limited to these environments and is envisaged to be applicable to other scenarios as well. While this invention has been particularly shown and described with reference to preferred embodiments it will be understood by those skilled in the art that various changes in form and details may be made therein without departing from the spirit and scope of the invention as described heretofore.

