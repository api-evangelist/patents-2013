---

title: Matching a system calculation scale to a physical object scale
abstract: A method, apparatus, system, article of manufacture, and computer readable storage medium provide the ability to scale a diagram. An image is selected and utilized as a background image. Full geometry is obtained and is displayed with the background image. The full geometry is a first geometry and remaining second geometry. The first geometry is selected and a reference length for the selected first geometry is specified. The remaining second geometry is in the diagram is scaled based on the specified reference length.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09092909&OS=09092909&RS=09092909
owner: Autodesk, Inc.
number: 09092909
owner_city: San Rafael
owner_country: US
publication_date: 20130131
---
This application claims the benefit under 35 U.S.C. Section 119 e of the following commonly assigned U.S. provisional patent application s which is are incorporated by reference herein 

Provisional Application Ser. No. 61 592 972 filed on Jan. 31 2012 by Michal Hrcka and Lance Wilson Grow and David Obergries entitled Matching a System Calculation Scale to a Physical Object Scale .

This application is related to the following co pending and commonly assigned patent applications which applications are incorporated by reference herein 

U.S. patent application Ser. No. 13 755 882 entitled GRAPH BASED DEGREE OF FREEDOM COUNTER FOR TWO DIMENSIONAL DRAWINGS filed on the same date herewith by Michal Hrcka and Lance Wilson Grow which application claims priority to Provisional Application Ser. No. 61 592 960 filed on Jan. 31 2012 by Michal Hrcka and Lance Wilson Grow entitled Graph Based Degree of Freedom Counter for Two Dimensional Drawings and

U.S. patent application Ser. No. 13 755 833 filed on the same date herewith entitled CREATING A SYSTEM EQUILIBRIUM VIA UNKNOWN FORCE S by Lance Wilson Grow Zdenek Slavik and Jirka Stejskal which application claims priority to U.S. Provisional Patent Application Ser. No. 61 592 977 filed on Jan. 31 2012 entitled CREATING A SYSTEM EQUILIBRIUM VIA UNKNOWN FORCE S by Lance Grow Zdenek Slavik and Jirka Stejskal.

The present invention relates generally to mechanical and civil engineering and in particular to a method apparatus and article of manufacture for easily scaling a drawing based on a real world image.

Engineers often design solutions that are integrated with an existing system design. To perform the integration the engineer often must re create an existing system in a computer aided design CAD application. Once in electronic form extensive precise measurements of the real world system must be made for all of the various parts of the existing real world system in order to properly scale the CAD design. Such a recreation and scaling is cumbersome and fails to take advantage of features available in modern day portable computing devices e.g. tablet devices mobile phones etc. . To better understand these problems a description of two different exemplary scenarios may be useful.

In the first scenario an engineer needs to run a conceptual simulation for the rough sizing of a custom crane built on an existing tug boat. To run the simulation in the prior art the engineer would need to get drawings of the tug boat gather reference imagery and measurements and often still have to visit the boat s actual location to take notes and verify the size and position of key points on the deck of the boat. To start roughing out the crane design the engineer would then have to re create the boat layout in a CAD system. An engineer will typically only know a few key functional constraints on the design at this point beyond the mounting details on the boat itself. The engineer might also know the operational length required for the boom and the cranes working loads. Once the engineer has drawn the layout of the boat in the CAD system the next step is to start sketching in elements of the crane design to rough out sizing. This is primarily done using free body diagrams statics to see how long the crane arm can be under the working load without capsizing the boat. There are several other questions the engineer will also answer at this stage of the concept using static simulations. This design stage often requires multiple visits to a customer s location to share details and iterate on the design to meet the customer s needs.

In a second scenario an engineer wants to analyze an existing mechanism as a potential solution for a new design. It is very typical for an engineer to take advantage of existing well proven mechanisms to solve new problems. In this regard the engineer may know of a similar mechanism used in a different application that could be a potential solution for the new current problem. Alternatively the engineer may have seen a mechanism detailed in a text book or mechanical engineering design book that the engineer desires to replicate and analyze. To replicate an existing design mechanism in the prior art requires an engineer to effectively re draw the system from scratch using CAD tools. Thereafter a calculator pencil and paper may be used to run a static analysis. If the engineer desires to modify the geometry all of the calculations must be manually re run. Such a manual recreation and re run is not a very efficient process.

In view of the above what is needed is an easy and efficient mechanism technique for utilizing an existing design solution that does not require that an engineer perform numerous manual measurements and calculations.

One or more embodiments of the invention overcome the problems of the prior art by leveraging the native hardware on any camera enabled mobile device. An image of an item to be designed is captured or obtained e.g. using a camera or obtained from a gallery created by such a camera or received in the device and used as a background image for a free body diagram. One object in the photograph is measured and used as a reference scaling line and the remaining elements in the free body diagram are then automatically scaled based on this reference.

In the following description reference is made to the accompanying drawings which form a part hereof and which is shown by way of illustration several embodiments of the present invention. It is understood that other embodiments may be utilized and structural changes may be made without departing from the scope of the present invention.

In one or more embodiments computer may be coupled to or may comprise a portable or media viewing listening device e.g. an MP3 player iPod Nook portable digital video player cellular device personal digital assistant etc. .

In addition computer may be coupled to or may be integrated with an image capture device e.g. a camera ultrasound radar x ray charge coupled device CCD complimentary metal oxide semiconductor CMOS device or any device that is capable of capturing or generating an image of a real world object . For example many modern mobile phones and tablet devices may have a built in camera e.g. lens and other capabilities that enables the user to snap a picture photograph.

In one embodiment the computer operates by the general purpose processor A performing instructions defined by the computer program under control of an operating system . The computer program and or the operating system may be stored in the memory and may interface with the user and or other devices to accept input and commands and based on such input and commands and the instructions defined by the computer program and operating system to provide output and results.

Output results may be presented on the display or provided to another device for presentation or further processing or action. In one embodiment the display comprises a liquid crystal display LCD having a plurality of separately addressable liquid crystals. Alternatively the display may comprise a light emitting diode LED display having clusters of red green and blue diodes driven together to form full color pixels. Each liquid crystal or pixel of the display changes to an opaque or translucent state to form a part of the image on the display in response to the data or information generated by the processor from the application of the instructions of the computer program and or operating system to the input and commands. The image may be provided through a graphical user interface GUI module . Although the GUI module is depicted as a separate module the instructions performing the GUI functions can be resident or distributed in the operating system the computer program or implemented with special purpose memory and processors.

In one or more embodiments the display is integrated with into the computer and comprises a multi touch device having a touch sensing surface e.g. track pod or touch screen with the ability to recognize the presence of two or more points of contact with the surface. Further as described above such multi touch devices may also include a camera or the ability to capture an image of a desired object scene. Examples of multi touch devices include mobile devices e.g. iPhone Nexus S Droid devices etc. tablet computers e.g. iPad HP Touchpad portable handheld game music video player console devices e.g. iPod Touch MP3 players Nintendo 3DS PlayStation Portable etc. touch tables and walls e.g. where an image is projected through acrylic and or glass and the image is then backlit with LEDs .

Some or all of the operations performed by the computer according to the computer program instructions may be implemented in a special purpose processor B. In this embodiment the some or all of the computer program instructions may be implemented via firmware instructions stored in a read only memory ROM a programmable read only memory PROM or flash memory within the special purpose processor B or in memory . The special purpose processor B may also be hardwired through circuit design to perform some or all of the operations to implement the present invention. Further the special purpose processor B may be a hybrid processor which includes dedicated circuitry for performing a subset of functions and other circuits for performing more general functions such as responding to computer program instructions. In one embodiment the special purpose processor is an application specific integrated circuit ASIC .

The computer may also implement a compiler which allows an application program written in a programming language such as COBOL Pascal C FORTRAN or other language to be translated into processor readable code. Alternatively the compiler may be an interpreter that executes instructions source code directly translates source code into an intermediate representation that is executed or that executes stored precompiled code. Such source code may be written in a variety of programming languages such as Java Perl Basic etc. After completion the application or computer program accesses and manipulates data accepted from I O devices and stored in the memory of the computer using the relationships and logic that was generated using the compiler .

The computer also optionally comprises an external communication device such as a modem satellite link Ethernet card or other device for accepting input from and providing output to other computers .

In one embodiment instructions implementing the operating system the computer program and the compiler are tangibly embodied in a non transient computer readable medium e.g. data storage device which could include one or more fixed or removable data storage devices such as a zip drive floppy disc drive hard drive CD ROM drive tape drive etc. Further the operating system and the computer program are comprised of computer program instructions which when accessed read and executed by the computer causes the computer to perform the steps necessary to implement and or use the present invention or to load the program of instructions into a memory thus creating a special purpose data structure causing the computer to operate as a specially programmed computer executing the method steps described herein. Computer program and or operating instructions may also be tangibly embodied in memory and or data communication devices thereby making a computer program product or article of manufacture according to the invention. As such the terms article of manufacture program storage device and computer program product as used herein are intended to encompass a computer program accessible from any computer readable device or media.

Of course those skilled in the art will recognize that any combination of the above components or any number of different components peripherals and other devices may be used with the computer .

A network such as the Internet connects clients to server computers . Network may utilize ethernet coaxial cable wireless communications radio frequency RF etc. to connect and provide the communication between clients and servers . Clients may execute a client application or web browser and communicate with server computers executing web servers . Such a web browser is typically a program such as MICROSOFT INTERNET EXPLORER MOZILLA FIREFOX OPERA APPLE SAFARI GOOGLE CHROME etc. Further the software executing on clients may be downloaded from server computer to client computers and installed as a plug in or ACTIVEX control of a web browser. Accordingly clients may utilize ACTIVEX components component object model COM or distributed COM DCOM components to provide a user interface on a display of client . The web server is typically a program such as MICROSOFT S INTERNENT INFORMATION SERVER .

Web server may host an Active Server Page ASP or Internet Server Application Programming Interface ISAPI application which may be executing scripts. The scripts invoke objects that execute business logic referred to as business objects . The business objects then manipulate data in database through a database management system DBMS . Alternatively database may be part of or connected directly to client instead of communicating obtaining the information from database across network . When a developer encapsulates the business functionality into objects the system may be referred to as a component object model COM system. Accordingly the scripts executing on web server and or application invoke COM objects that implement the business logic. Further server may utilize MICROSOFT S Transaction Server MTS to access required data stored in database via an interface such as ADO Active Data Objects OLE DB Object Linking and Embedding DataBase or ODBC Open DataBase Connectivity .

Generally these components all comprise logic and or data that is embodied in or retrievable from device medium signal or carrier e.g. a data storage device a data communications device a remote computer or device coupled to the computer via a network or via another data communications device etc. Moreover this logic and or data when read executed and or interpreted results in the steps necessary to implement and or use the present invention being performed.

Although the term user computer client computer and or server computer is referred to herein it is understood that such computers and may include thin client devices with limited or full processing capabilities portable devices such as cell phones notebook computers pocket computers multi touch devices and or any other device with suitable processing communication and input output capability.

Of course those skilled in the art will recognize that any combination of the above components or any number of different components peripherals and other devices may be used with computers and .

Embodiments of the invention are implemented as a software application on a client or server computer . Further as described above the client or server computer may comprise a thin client device or a portable device that has a multi touch based display and or image capture functionality capability.

Embodiments of the invention provide a unique experience for solving the prior art problems by leveraging the native hardware on any camera enabled mobile device. Using the methodology described herein a user may take a mobile device into the field take a snapshot of the item he she desires to design on e.g. the tugboat from the example described above or replicate e.g. a mechanism from a design book . Alternatively the user may merely select an existing image e.g. from a gallery of pictures the user or another user has taken and or received from a library of images that are of real world objects scenes or created in a modeling environment . The retrieved selected image is then used as a background image for a free body diagram i.e. created by the user . In this regard the level of transparency of the background image may also be adjusted in order to enable the user to accurately create a free body diagram that is integrated with the image in a two dimensional 2D or three dimensional 3D environment. Note that rather than an image an existing model or 3D image may also be utilized as the background image.

Thereafter the engineer physically measures one object that is in the photograph and embodiments of the invention scale the free body diagram and all of the resulting calculations using this single real scaled item in the scene. This allows the user to draw the free body and apply a global scale to the free body after it is created so that the scale matches the size of the objects in the photograph. Since most of the static calculations on a free body diagram are impacted by the length of the elements used in the diagram the automatic scaling helps to ensure the calculated results match the real world scenario.

In view of the above embodiments of the invention provide the ability for a user to capture an image with a device e.g. cellular phone multi touch device etc. and then use directly on such a device or transfer the image to a device capable of executing the software to perform the functionality described herein or use an existing image as demonstrated in the workflow below and scale the diagram and calculations to match the actual scale of the object the user took of the photo. Such a capability is critical as the scaled length of members can impact the calculation results. Accordingly embodiments of the invention provide a unique approach that allows a user to take any measured length from the real world that was captured in the image and use that as a reference length that scales the rest of the diagram to match. Described below are the steps and an example for using this capability.

At step an image is selected e.g. from a photo gallery on a thin client device or any type of computer . Such a gallery is displayed in . Note that as described above the gallery may consist of photographs the user has taken images the user has created and or images photographs that the user is retrieved obtained from another location e.g. an online gallery emailed from another user etc. . Step may also include utilize the selected image as a background image.

At step the user creates geometry on the background image if necessary. In this regard the user may draw reference lines symbols shapes etc. that may or may not be overlayed on the background image. illustrates a completed structure that has been drawn on top of the background image. Alternatively the geometry may already be created or may be part of the image that was selected. In this regard step may also include the obtaining of geometry also referred to as full geometry that is displayed with the background image. The full geometry consists of a first geometry and remaining second geometry.

Returning to the user can use any geometry e.g. the first geometry in the sketch as a reference line to scale the diagram. In this regard the user can simply enter the edit mode e.g. selecting arrow followed by picking and holding the cursor on the reference line at step selecting the geometry e.g. the first geometry to activate the edit context menu to bring up a circular context menu . The user can then select the Scale Diagram option from the context menu i.e. step .

In an exemplary case as illustrated in the user has imported selected a background image of a waterfall and river that flows between two ridges at step . As can be seen in the user has drawn i.e. at step a full structure i.e. a bridge with loads and supports.

The user notices that the length of the center element of structure is not correct as the user knows the physical height of the member that will be used. The user desires to utilize this element as the diagram scale reference geometry. Accordingly the user selects the element activates the edit context menu and selects the scale diagram option i.e. at steps and . Once the scale diagram option has been activated with respect to a particular reference geometry e.g. line the dialog window is presented to the user with the current length displaying within the text box of window . Such a dialog window allows the user to enter the new actual length of the line in the real world at step . Accordingly the user may enter 25 feet as the actual length of member . In this regard step enables the user to specify a reference length for the selected geometry.

Thereafter at step the entire diagram e.g. any remaining geometry is scaled to match that specified entered reference geometry length. illustrates the resulting structure once all of the components have been scaled based on the entry in . All of the updated scale values may be displayed if desired to the user via dimensions dimension labels displayed for each of the geometric components.

In another workflow the user can create a new reference line that can then be deleted from the diagram once the diagram is properly scaled. In such an example the user knows the distance across the gulley is 100 feet. Accordingly the user may draw a reference line on the diagram use that as the scale line and set its length to 100 feet as illustrated in . Thereafter the user can delete the reference line and the rest of the diagram will maintain the new scale factor moving forward.

In addition to the above at step the user may have the ability to utilize the invention in a 3D modeling application. For example if the user has two 2 buildings and was building a tunnel between them the user could add the dimension ask for models of the two buildings so that the link would be between two physical models and not merely a background image i.e. it would be an actual 3D model of the real world environment . Thus the user could select a 3D model rather than an image at step . Alternatively a 2D image could be selected but converted into a 3D model either automatically by the application or by the user. In yet another embodiment the background image is used as a single viewpoint of a 3D model and the user creates geometry at step in a 3D modeling environment using the background image as a base.

Further embodiments of the invention may have the ability to pull in satellite images as the background images based on GPS global positioning system . In other words a user with a GPS enabled device may be at a particular location e.g. of the gulley illustrated in . The user can simply utilize already existing satellite images of the gulley that are easily retrieved into the device based on the GPS data. The user can then zoom in as much as desired and specify an actual measurement by drawing on top of the satellite image. In this regard the user can zoom into a location adjacent to where he she is standing draw a reference line for a tree or rock enter the appropriate dimension scale the drawing appropriately and then zoom out to draw the remaining bridge components e.g. supports bars etc. . Note that the same concept with the zooming may be used in the other embodiments described above i.e. with images captured by the device itself .

It may be noted that step may be performed in a variety of ways. In one example the user input is received for a scale length of a first selected element A in a free body diagram FBD . Thereafter for each remaining element B in the FBD a ratio is determined and then used to adjust the scale size length of the element

To utilize the ratio to adjust the scale size of element B based on the input scale size length the following calculation may be performed 

Using such an equation the system simply calculates X based on the ratio and input scale size length. Such a computation is performed for every geometric element in the drawing.

This concludes the description of the preferred embodiment of the invention. The following describes some alternative embodiments for accomplishing the present invention. For example any type of computer such as a mainframe minicomputer or personal computer or computer configuration such as a timesharing mainframe local area network or standalone personal computer could be used with the present invention.

In summary embodiments of the invention provide the ability to take a picture and scale a free body diagram to the image picture. As a result the user is ensured of an accurate static calculation result for a desired particular scenario. Such a result further enables the engineer to build a diagram sketch without concern over size or scale until the engineer desires to run the calculations. The engineer can scale an entire diagram with one simple command and the calculations and sketch dimensions are automatically scaled i.e. without additional user input using this scale factor.

The foregoing description of the preferred embodiment of the invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed. Many modifications and variations are possible in light of the above teaching. It is intended that the scope of the invention be limited not by this detailed description but rather by the claims appended hereto.

