---

title: Delivery control for HTTP communications among multiple end user communication devices
abstract: An exemplary method is implemented by end-user communication devices for processing the receipt of an HTTP message wherein a received HTTP message comprises a digital packet having a header and a user data segment. The user data segment contains a user message and an acknowledgement command where the acknowledgement command conveys a request from an originating device to acknowledge receipt of the subject HTTP message. The received user message is prevented from being displayed on a screen of the first end-user communication device of content until input is entered authorizing a reply to the acknowledgement request. Upon receiving the authorization: a reply HTTP message with an acknowledgement is automatically generated by the first end-user communication device and transmitted to the originating device; the content of the message is displayed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08924495&OS=08924495&RS=08924495
owner: Loment, Inc.
number: 08924495
owner_city: Naperville
owner_country: US
publication_date: 20130226
---
This application is a continuation in part of U.S. application Ser. No. 13 526 688 filed Jun. 19 2012 entitled DELIVERY CONTROL FOR EMAIL COMMUNICATED AMONG MULTIPLE END USER COMMUNICATION DEVICES which is a continuation in part of U.S. application Ser. No. 13 199 307 filed Aug. 25 2011 entitled DELIVERY CONTROL FOR MESSAGES COMMUNICATED AMONG END USER COMMUNICATION DEVICES which is a continuation in part of U.S. application Ser. No. 13 134 591 filed Jun. 10 2011 entitled PRIORITY OF OUTBOUND MESSAGES COMMUNICATED AMONG END USER COMMUNICATION DEVICES which is a continuation in part of U.S. application Ser. No. 13 068 340 filed May 9 2011 entitled MANAGEMENT FOR INFORMATION COMMUNICATED AMONG END USER COMMUNICATION DEVICES which is a continuation in part of U.S. application Ser. No. 13 065 839 filed Mar. 31 2011 entitled UBIQUITOUS USER CONTROL FOR INFORMATION COMMUNICATED AMONG END USER COMMUNICATION DEVICES .

This invention relates to communications among end user communication devices and more specifically to control of access to information delivered by HTTP and confirmation to the originator of the receipt of the information by the recipient as processed by end user communication devices especially but not limited to wireless end user communication devices which may be made by different manufacturers and or have different operating systems.

Wireless communication devices are now prevalent throughout all developed countries of the world. Although cellular telephones are currently the most widespread other types of wireless communication devices include personal digital assistants laptop computers with Wi Fi and or telecommunication carrier communication support and various types of pads that provide visual displays that are larger than conventional cellular telephones but typically smaller than the displays of a laptop computer. Wireless voice communications between mobile devices utilizing different types of communication protocols e.g. analog TDMA CDMA VOIP etc. are supported by different telecommunication carriers which provide appropriate communication protocol interfaces gateways to facilitate voice communications between mobile units using different communication protocols.

Various types of transport layer communication protocols are supported by wireless communication devices. For example text messaging short messaging service SMS multimedia messaging service MMS email such as by simple mail transfer protocol SMTP and instant messaging utilizing hypertext transfer protocol HTTP are available. Each type service is supported by a transport layer communication protocol that is part of the telecommunication signaling structure associated with the transport of user communications and the communication of telecommunication infrastructure commands and signals.

The transfer of information by HTTP communications by users of wireless and non wireless communication devices is popular. For example HTTP messaging applications such as WhatsApp BBM Blackberry messenger Apple iMessage Google Talk ICQ AOL Chat Yahoo Messenger Microsoft Messenger and web services such as Facebook exist. However the originator of an HTTP communication does not know if the recipient addressee has actually viewed the content of the HTTP communication unless the recipient chooses to originate and send the originator a communication advising that the originator s information has been viewed read by the recipient. From the HTTP originator s perspective absent such a reply from the recipient addressee it should not be assumed that the recipient addressee did or did not view read the corresponding information of the HTTP communication. That is the recipient may have received and viewed read the HTTP originator s information but not sent a voluntary acknowledgement to the originator advising that the information had been viewed read or the HTTP originator s communication may not have reached the recipient for any of a number of reasons or the HTTP originator s communication may have been delivered to the recipient s device but the information contained in the communication was not viewed read by the recipient.

It is an object of this embodiment of the present invention to provide control of the addressee s ability to view the contents of information delivered by an HTTP communication based on authorization of a mandatory acknowledgement confirmation to the originator of receipt of the information.

In accord with an embodiment of the present invention an exemplary method is implemented by end user communication device for processing the receipt of an HTTP message wherein a received HTTP message comprises a digital packet having a header and a user data segment. The user data segment contains a user message and an acknowledgement command where the acknowledgement command conveys a request from an originating device to acknowledge receipt of the subject HTTP message. The received user message is prevented from being displayed on a screen of the first end user communication device of content until input is entered authorizing a reply to the acknowledgement request. Upon receiving the authorization a reply HTTP message with an acknowledgement is automatically generated by the first end user communication device and transmitted to the originating device corresponding to the subject HTTP message the content of the corresponding received user message is displayed on the screen of the first end user communication device and the first end user communication device stores a read message indicator having a value that represents that the reply HTTP message was authorized and the content of the received HTTP message enabled to be displayed.

Accounting for acknowledgement receipts from multiple addressees is managed by the originator s device. A technique using a self addressed HTTP message prevents a recipient who uses one device to initially read an HTTP message with an acknowledgement request from one HTTP account from having to again authorize an acknowledgement request when the same HTTP message is later read from the same HTTP account using a different device.

Other embodiments of the present invention include the end user communication devices that execute these methods.

An embodiment of the present invention also includes a computer program product comprising a computer usable tangible medium having a computer readable program code embodied therein where the computer readable program code is adapted to be executed to implement these methods.

Embodiments of the present invention further include all the steps elements and features recited in the claims.

Referring to wireless communication systems and support communications with a plurality of wireless mobile devices including exemplary wireless mobile devices units and respectively. In this illustrative example a first user employs wireless mobile devices A and B and device C for communications and a second user employs wireless mobile devices A and B and device C for communications. Devices A C and A C are capable of supporting messaging by email e.g. via SMTP and or HTTP communications. Communication devices C and C may be any type of non wireless user communication device e.g. laptop computer connected by wire to a network desktop computer etc. The communication system includes a home location register HLR that serves as an operations and administration center for registered wireless mobile devices and includes information of the current location of the respective mobile devices. A visitor location register VLR provides temporary registration and location services for wireless mobile devices located in a communication system that is not the home system for the mobile device. A short messaging service center SMSC functions as a server for the transmission and reception of SMS messages for wireless mobile devices supported by communication system . A multimedia service center MMSC provides a similar function to SMSC for the transmission and reception of multimedia information for wireless mobile devices supported by communication system . These nodes elements perform their known functions as part of the infrastructure that supports wireless mobile communications. A mobile switching center MSC provides switching for voice and data communications associated with the supported wireless mobile devices. A plurality of radio access nodes RANs and provide a wireless communications link between the system and the supported wireless mobile units. Each RAN is connected to the MSC wherein wireless messages received from a mobile unit by a RAN are transferred to MSC for further routing and messages to be delivered to a mobile unit are transferred from the MSC to a RAN where such messages are then wirelessly transmitted by the RAN to the destination mobile unit. The elements of communication system are the same as elements in communication system and provide the same functionality for the respective supported mobile units. Hence the elements of communication system need not be described in detail.

A communication network provides a communication link between the MSCs of systems and . Communications with an exemplary SMSC HTTP IMS server is also supported by network where HTTP means hypertext transfer protocol and IMS means Internet map server. A mobile services server is supported by server and facilitates enhanced capabilities for wireless mobile units in accordance with an embodiment of the present invention. For example wireless mobile units may access and download an application program from server that can be installed and operate on the wireless mobile unit to provide enhanced functionality and control of user data in accordance with an embodiment of the present invention. This will be described in greater detail below. Another end user communication device which may comprise a computer or other device and user devices C and C are connected to the communication network by other than a wireless communication link e.g. a wire internet link through an IP service provider.

Where device represents a wireless mobile unit a radio frequency receiver transmitter and an antenna are also present and used for wireless communications between the unit and supporting RANs. The I O module supports communications with supporting external peripherals e.g. USB communications with a peripheral. When device represents a wireless mobile unit the application program controlling the microprocessor is supported by an operating system and includes an enhanced services ES application program such as downloaded from server and installed in the wireless unit. In this case the user will be the person using the wireless mobile unit. The ES application program provides the wireless mobile unit with functions as explained below.

For non wireless user devices e.g. devices C and C the application program controlling the microprocessor is supported by an operating system and includes an enhanced services ES application program such as downloaded from server and installed in the device. The ES application program provides the non wireless device with the same enhanced services functions as explained below for wireless user devices. The enhanced services functions may be provided by a separate enhanced services application program or may be integrated within another program e.g. a client messaging application program a browser etc. As used herein reference to enhanced services application program and or enhanced services includes all such implementations. Of course the non wireless user devices would not utilize elements and which support wireless connectivity.

Where device represents the mobile services server where elements and are absent the I O module supports communications with supporting external nodes e.g. server or other nodes. In this case the application program controlling the microprocessor is supported by an operating system and includes a services support SS application program which supports the downloading upon a request from a wireless unit the ES application program from server to the requesting wireless mobile unit. In this case the user will be an administrator who maintains the operation of the server. The SS application supports the registration of wireless mobile units and may also support the storage of user data for use in backup and restore functions with the respective wireless mobile units.

Both types of packets include the following header information for SMS communications the service center address SCA the protocol data unit type PDU that itself includes a variety of different fields a protocol identifier PID that determines how the SMSC is to process the packet the digital coding scheme DCS identifying the coding scheme within the user data the user data length UDL that specifies the length of the user data. For packets to be delivered to a mobile the header also contains the originator address OA a service center time stamp SCTS identifying the time when the SMSC received the message. For packets originated from a mobile the header also contains a message reference MR that supplies a successive number that assists with reassembly of a user message that is sent using multiple packets due to its length a destination address DA a validity period VP which identifies a time from where the message is no longer valid in the SMSC. The user data portion contains a message of alphanumeric characters input by the user which is the information desired to be communication to another. As is known the number of characters that can be contained within one user data portion is limited in accordance with the data length limitation of 140 octets associated with signaling system seven SS 7 . Using 7 bit coding 160 characters can be contained in one user data portion. However if Unicode coding is utilized user data portion will accommodate fewer characters as two bytes per character are used.

For email or HTTP based messaging the header will contain addresses of the originator and the addressee as well as other known parameters that used in routing handling and processing of the message . For example a field within the header may contain a flag indicating that the originator has made a known type of acknowledgement request the type not requiring mandatory compliance by the addressee of receipt of the message by the addressee. The information content from the originator to be delivered to the addressee resides in the user data .

In the exemplary embodiment field of the data segment consists of four bytes which identify one of a plurality of message types in accordance with predetermined message types stored in the ES application program. In this example field contains the label P wherein the characters and form part of the label and the P identifies a specific type of message i.e. a Peanut message type. In this exemplary embodiment a Peanut message type identifies the message as being a person to person communication i.e. an SMS message. Different characters in place of the P in this field can be used to identify other message types where each message type is associated with different subject matter e.g. email represented by a W for Walnut email ES program HTTP messaging represented by a C for Cashew nut banking insurance coupons games health care etc. Field consists of one byte identifying the format or coding structure. In this example field may have valid values of 0 1 or 2 wherein 1 indicates a control message 0 indicates a normal user message utilizing 7 bit coding and 2 indicates a normal user message utilizing the Unicode format. Field consists of one byte having a value where this value identifies the priority of the associated message assigned by the message originator that is intended to alert the recipient of the intended priority e.g. urgency of acting on and or responding to the message. As will be explained this value may also control additional aspects e.g. encryption decryption. Field consists of one byte i.e. a command byte identifying the length of message parameter values and may have valid values of 0 128. The value of field specifies the number of sequential bytes that are part of a control portion of the data segment i.e. bytes before the user input data begins. Field consists of a number of bytes equal to the value in field e.g. 0 128 and contains name value pairs as will explained in the below examples. Field contains the user input information desired to be conveyed to another party. If the length of the user input information exceeds the number of bytes available in field of one data segment the user input information can be parsed and transmitted as multiple fragments sent in a series of SMS email or HTTP packets containing corresponding data segments with the parsed user information.

Example 2 of is a data segment similar to example 1 in that it contains a WIPEOUT command that will be interpreted by the ES application program on the recipient wireless mobile unit as a request to completely wipe out user data stored through the Peanut application operating under the ES application program. That is all messages contacts templates and other user data stored by the Peanut application will be deleted. These first and second examples are intended to be merely representative of a variety of commands that can be utilized e.g. ACTIVATE to activate a Peanut application CHANGEPIN to permit the changing of a personal invitation number or password to the value xxxx contained in the control message etc.

Example 3 of illustrates a different type of Peanut application data segment in which the 0 value in byte 4 indicates that the data segment is a normal message type. The 0 value in byte 6 indicates that no message parameter values are specified. The value 4 in byte 5 is used to convey the priority selected by the message originator in accord with . This message will be displayed on the screen of the recipient s communication device with a gray background that is the message of alphanumeric characters is displayed on a segment of the recipient s screen in which the background color of the segment is gray. The gray background color is intended to convey to the recipient that this is a normal communication and that a response is not expected by the originator. A predefined group of background colors with corresponding message priorities is made known to all end users so that the originator of a message can specify a corresponding message priority that will be conveyed in accordance with the present invention to the recipient. The display of different background colors for the alphanumeric characters of the message is intended as exemplary of a variety of visual indicia that could be displayed on the screen of the destination device to denote message priorities. For example the color of the alphanumeric characters themselves the color of a portion of the screen segment displaying a message the color of a separate field or distinctive symbol displayed adjacent the message text field type or style of the alphanumeric characters shading associated with the alphanumeric characters and or background or other visually distinctive appearances with corresponding priority definitions can be utilized to convey different priorities for a message. It is preferred that the priority indicia always be included when the corresponding message is displayed e.g. it will be displayed with saved messages messages restored from backup storage messages transferred to another user device messages as displayed on the originating device etc. Also a larger number of types of priorities can be used to convey finer distinctions of originator expectations e.g. orange color urgent confirm message receipt as soon as possible purple color normal message priority reply within X hours days etc. As among a group of users the group members are free to agree that the available suggested priority categories colors will have an understood meaning that differs from the standard suggested meaning The Peanut application on the receiving wireless mobile unit will interpret this data segment as carrying a message HELLO FM MIKE to be displayed to the user against a gray color background indicating a normal communication to which the originator does not expect a reply communication.

Example 4 of carries the same message to be conveyed to the user as in example 3. Again the 0 value in byte 4 indicates that the data segment is a normal message type. However the 4 value in byte 6 indicates that 4 bytes starting at byte location carry control information that precedes the user message. In this example bytes 7 10 contain E006 where the E in byte 7 i.e. a command identification character indicates that an expiration of the subject message is to be executed message is to be automatically deleted 0 in byte 8 indicates expiration in zero days 0 in byte 9 indicates expiration in zero hours and the 6 in byte 10 indicates expiration in six minutes. That is upon the receipt of this data segment by the Peanut application on the destination wireless mobile unit the subject message HELLO FM MIKE will be conveyed to the user but all instances of this message will be automatically deleted from recipient mobile unit on the expiration of six minutes. The value 4 in byte 5 indicates the message will be displayed with a gray background conveying a normal communication in which a reply communication by the recipient is not expected.

Example 5 shows an illustrative Peanut application data segment which is similar to example 4 in that the value in byte 6 is not zero indicating that a command in addition to the user messages contained in the data segment. In this example the 7 in byte 6 indicates that seven bytes starting with byte 7 are associated with command information and precede the beginning of the user data to be conveyed. The L in byte 7 will be interpreted as signifying that the subject data segment is a long message i.e. the subject user message has too many characters to be contained in only one data segment thereby requiring fragmentation of the user message into a plurality of message fragments that will be transmitted in a number of data segments. The four bytes bytes 8 11 collectively comprise a value used to identify each of the required data segments needed to complete the long message. In this example this value is 0001 . The next byte byte 12 represents the total number of data segments required to complete the long message. In this example byte 12 has a value of 2 indicating that two data segments are required to complete the single long message. Byte 13 represents the current fragment number of the subject data segment. In this example byte 13 has a value of 1 indicating that this is the first data segment fragment of the long message in the long message fragments identified as 0001 . The first character of the actual user message is in byte 14 with the remaining bytes in the subject data segment carrying further portions of a first message fragment. Example 6 shows the second and last message fragment that completes the long message identified by 0001 . Byte 13 of example 6 contains a value of 2 indicating that it is the second in a message fragment series. It is also the last of the message fragment series since byte 12 indicates that the long message is contained in two message fragments. Byte 14 in example 6 contains the first character of user data in this data segment but corresponds to the next character in the long user message that follows the last character of the user message contained in the preceding data segment represented by example 5. The value 3 in byte 5 in examples 5 and 6 causes the message characters to be displayed against a green screen background on the recipient s device which is intended to convey a normal communication in which a response is expected by the originator.

Example 7 illustrates a data segment that contains two commands. The value 12 in byte 6 indicates that 12 bytes starting with byte 7 are associated with commands. As explained in example 4 the values E005 in bytes 7 10 indicate a message expiration upon five minutes from the receipt by the Peanut application. The value 255 in byte 11 serves as a predetermined separation character used to separate commands. Similar to example 6 the L in byte 12 which is the first field character at the beginning of a command string identifies this data segment as a long message. The bytes 13 16 serve to identify the fragments in series of data segments. Byte 17 has a value of 2 indicating that there are a total of two fragments in the long message series and byte 18 with a value of 1 indicates that this is the first fragment in the series. The first portion of the actual user message follows beginning at byte 19.

Example 8 represents the second fragment of the long message where the first fragment was described in example 7. It will be noted that this data segment contains only a single command associated with the long message fragmentation. That is the time expiration contained as a first command in the first message fragment is not repeated. In accordance with an embodiment of the present invention a time expiration command communicated in a first message fragment will automatically be effective for all succeeding fragments of the same long message. Thus the entirety of the perceived long message will be subject to the time expiration. In this example the value 7 in byte 5 indicates a command string of seven characters in which L in byte 7 identifies this segment as a long message type 0002 in bytes 8 11 identifies the long message fragment series 2 in byte 12 indicates that the long message consists of two message segments and the 2 in byte 13 indicates that this is the second fragment in the series of the identified long message and since there are only two message fragments in this long message the 2 in byte 13 also indicates that this is the last received fragment in the series. The remaining portion of the user message begins with byte 14 and continues to the conclusion of the user message is contained in this message fragment. The value 1 in byte 5 in examples 7 and 8 will cause the message characters to be displayed on the recipient s screen segment against a red background which is intended by the originator to convey an emergency message requiring immediate attention.

When a message sent from an originator s device using a native message client is received and processed by the destination device using the Peanut ES application the message is displayed on the destination device s screen with a white background denoting that this message was received as a public unsecured communication. Previously received messages are stored by the respective ES applications and always displayed with the corresponding background color of its associated priority as determined by byte 5 of the respective message. Preferably messages being composed and stored by an ES application on an origination device are also displayed on the screen of the origination device by the ES application with the background color selected by the user for the priority of the respective message.

In the above examples of all of the characters in the various byte positions are shown in a clear text format. In order to preserve security during the transmission of such messages it is preferred that the majority of each message be sent in an encrypted format. For example all bytes after byte 3 will preferably be transmitted utilizing a form of encryption. Those skilled in the art will understand that the use of such encryption requires that the receiving wireless mobile device be capable of decrypting the received encrypted characters thus transforming each received message into a corresponding clear text format as illustrated in accordance with .

Examples 9 12 illustrate formats associated with message confirmation. The operational aspects and control associated with message delivery confirmation reply receipt request feature are described below with regard to FIGS. and . One aspect of originating a communication containing a delivery confirmation request is that the recipient s device is able to receive the message but the recipient is not able to open i.e. view the contents of the message until authorizing the transmission to the originator of a control message representing an acknowledgment of receipt by the recipient of the originator s associated message.

Example 9 of illustrates a Peanut application data segment of an SMS message illustrating a message to be sent from an originator s device wherein in accordance with an embodiment of the present invention confirmation of receipt of the associated message by the recipient is requested. The 0 value in byte 4 indicates that the data segment is a normal message type i.e. not only a control message. The value 2 in byte 5 indicates a corresponding message priority. The value 3 in byte 6 indicates that the next 3 bytes represent command information with the user message beginning with the following byte. The character U in byte 7 indicates that this is an unopened message. The value 1 of byte 8 indicates a request for acknowledgment of receipt of the message e.g. requiring the recipient to manually authorize a receipt message to be sent to the originator that is a condition precedent to the recipient being able to open view the associated originator s message. The value 1 in byte 9 provides a numerical reference preferably uniquely assigned to each message for which a return receipt is requested that aids in identification by the originator s device of the particular message to which a subsequently received acknowledgement message is associated. Although common integer values are shown in byte 9 for examples 9 12 to assist in understanding it may be preferable to generate a value that is unique to each message that achieves a higher degree of uniqueness at the expense of requiring a more complex process to generate the value. For example a hash algorithm based on sender information e.g. originator s address recipient information e.g. recipient s address date and time of the sending of the associated message may be utilized to generate a unique value utilized in byte 9 to identify each transmitted message. Utilizing such a process is advantageous in providing a higher degree of certainty in identifying the originating message upon receipt of an acknowledgment reply command especially where the original message contains many recipients such as may be the case for certain types of communications e.g. e mail etc. As will be explained in more detail with regard to examples 11 and 12 the same numerical reference received as part of an incoming message is utilized in a corresponding acknowledgment reply sent by the recipient to acknowledge receipt of the subject message. The user message MEET AT 9 begins in byte 10 and concludes with byte 18.

Example 10 represents another SMS message generated by the same originator s device as the message shown for example 9. The message of example 10 represents the transmission of the same message as shown in example 9 to a different recipient. Example 10 differs from example 9 in that the value of byte 9 in example 10 is 2 as opposed to 1 in example 9. As will be explained in more detail with regard to examples 11 and 12 the value of byte 9 aids the originator s device in associating the receipt of an acknowledgment communication with the corresponding message previously sent from the originator s device. Examples 9 and 10 illustrate that only delivery confirmation request commands are present. However as explained above with regard to example 7 other commands in addition to a delivery confirmation request can be included with a given text message.

Example 11 represents the format of an SMS message representing an acknowledgment message sent from the recipient s device to the originator s device of a received SMS message by the recipient for which delivery confirmation had been requested by the originator. The 1 value in byte 4 identifies this SMS Peanut message as being a control message that does not include any text based characters inserted by the originator to be displayed as a corresponding message on the screen of the recipient. The value 3 in byte 6 indicates that the next 3 bytes represent command information. The letter O in byte 7 represents an opened message. The value 127 in byte 8 represents a predetermined value that defines the control message as indicating an acknowledgment response message. The value 1 in byte 9 represents the same value that was contained in byte 9 of the associated originator s message to which the subject acknowledgment message is in response. In the illustrative example the acknowledgment reply message as shown in example 11 is a response from the recipient of the originator s message as shown in example 9. Thus the value 1 in byte 9 of example 11 is selected to match the same value 1 as in byte 9 of example 9. If the value in byte 9 of example 9 had been for example 21 a corresponding value 21 in byte 9 of example 11 would have been used.

Example 12 is similar to example 11 in that it represents a control message of an acknowledgment message. In this illustrative example it represents an acknowledgment message sent from the recipient of the message as shown in example 10. Thus the value 2 in byte 9 matches the value 2 in byte 9 of the origination message as shown in example 10.

A YES determination by step or a YES determination by step results in the user request being processed as indicated by step . Processing of the request may include parsing the received request to determine included commands and or user message components. Such processing is substantially the same as described later with regard to processing of received messages by end user device. In step the request is fulfilled. The fulfilling or action taken in response to the request will vary depending upon the nature of the request itself. The action taken may be applicable to the end user unit that originated the request or to a different unit. For example a BACKUP request will cause the uploading and storage of user data contained on the requesting unit to the services server. A RESTORE request will cause the stored user data previously obtained during a BACKUP request to be downloaded and installed on the requesting local unit from the services server. However other commands may initiate actions to be taken at a unit that is not the requesting unit. For example a DEACTIVATE request received by the services server from a first unit will cause another unit having an address specified in the request to be deactivated. Such a request requires user authentication to ensure that the user making the request is the registered owner of the device to which the deactivation request is directed. The process terminates at END .

Native communication program supports a plurality of files and or records e.g. inbox outbox archived data contacts etc. The native communication program refers to the communication program originally supplied by the manufacturer or service provider upon the initial acquisition of a wireless mobile unit by a user. The enhanced services communication program is an application program that is typically installed by the user such as by downloading it from the services server or otherwise installing it from an external source. The enhanced services communication program also supports a plurality of files and or records e.g. inbox outbox archived data contacts etc. In accordance with an embodiment of the present invention the user must obtain access to the enhanced services communication program in order to access its supported files and records. Access may be for example obtained by entering a user identification and corresponding password in response to user prompts displayed on the screen by the enhanced services communication program upon request to open this program. Interactions between the enhanced services communication program and the native communication program is supported by an application program interface API associated with the native communication program and or supported by the operating system itself.

In the illustrated example the digital communication interface transmits and receives digital communication strings with both the native communication program and the enhanced services communication program . Since communications originated from a wireless mobile unit utilizing the enhanced services communication program is encrypted the receipt of such an encrypted communication by a destination mobile device will be unintelligible as viewed from a native communication program of the destination mobile device. However the message may be viewed in clear text format by utilizing the enhanced services communication program on the destination mobile device. For example a received SMS text message that was transmitted from an enhanced services communication program on the origination mobile device will appear as a string of unintelligible characters when viewed by the native communication program of a recipient device except for the leading format indicator P . The same message will be displayed in a clear text format in the inbox of enhanced services communication program Peanut on the recipient device. Similarly an email or HTTP message handled by a corresponding enhanced services communication program would be shown in clear text but would be shown as unintelligible characters when viewed by a native or other communication program or by a device with the corresponding ES program installed that is not an addressee of the subject message.

The enhanced services communication program may include a plurality of modules or sub programs that support different types of enhanced services e.g. Peanut P for messaging Walnut W for email Hazelnut H for banking Brazilnut B for insurance Cashew nut C for HTTP messaging Pistachio PH for healthcare The Nest TN for coupons etc. In support of multiple types of ES the enhanced services communication program also contains a router module which determines the type of received communication based on the identifying format i.e. the X designation and routes the communication to the corresponding module for processing. This routing is independent of the transport layer communication protocol that was used to convey the incoming communication to the destination communication device.

For example an incoming SMS message from the user s automobile insurance agent may contain a notice of the date on which the term of the current insurance policy will be expiring and a reminder to pay the premium to keep the policy in effect. This SMS message will have been transmitted from a device using ES originated by the Brazilnut module B format since the subject matter of the communication deals with insurance. The router module in the recipient s communication device will recognize this ES format and route the corresponding communication to the Brazilnut module for processing. An ES email communication concerning insurance sent from an originator device using the Brazilnut module could have been used to convey the same message wherein the router module in the recipient s communication device would route the email communication with a B format to the Brazilnut module for processing.

Each ES module supports a unique ES format to identify itself and contains its own segregated set of user utilities i.e. inbox outbox etc. That is each ES module may require a separate user identification and password in order to access the corresponding user utilities and will have different encryption decryption requirements than other ES modules. As explained above encryption is used for ES communications except for the ES format identification. To properly decrypt a received communication into clear text the incoming communication must be processed by the ES module in the destination user s device that corresponds to the ES module used to originate the communication since each ES module uses a different form of encryption. For example an incoming Brazilnut communication received by the intended destination device and processed by its Brazilnut module will be decrypted into a clear text message. However an incoming Brazilnut communication received by the intended destination device if processed by an ES module other than the Brazilnut module would not be properly decrypted into a clear text message since the decryption process would not match the encryption process. Thus ES communications even if processed by the intended destination device will appear as a character string that is not intelligible if processed by the native communication program of the device or by an ES module of a different format. An ES communication if received or intercepted by an unintended destination device will appear as an unintelligible character string since the encryption decryption process is also unique to the originator recipient i.e. the encryption decryption key includes parameters associated with specific devices users. Hence the embodiment of the present invention provides identity management as well as subject matter organization and management.

A determination is made in step of whether all received messages are to be routed to both the native processing application and the ES application. A YES determination by step causes the received message to be transmitted for processing to both the native processing application and to the ES application . A NO determination by step indicating that the user has not selected that all incoming messages be processed by both applications results in step making a determination of whether the user has selected all incoming messages to be processed only by the ES application. A YES determination by step results and all incoming messages being processed by the ES application at step . A NO determination by step results in step making a determination if a valid ES format is present in the received message. For example a valid ES format can be determined to have been received in a message if the first 4 bytes consist of X where the X corresponds to one of the valid modules in the ES application. A NO determination by step results in the message being transferred to the native process application for handling as indicated at step . A YES determination by step indicating that a valid ES format is present in the received message results in the message being processed by an ES application at step . In step the ES module to be utilized to process the received message is determined based on the X as explained above. If a message is received by step for processing that does not contain a valid ES module identification the ES application will still process the message as a native message in a manner similar to the native process application. However the native processing provided by the ES application differs from the processing provided by the native application in that the ES application places the resulting message in an inbox of a predetermined default ES module e.g. the message is displayed to a user in the secure inbox of the Peanut application. An advantage of having the ES application process all of the received messages is that all of the supported ES features e.g. security backup retrieval restore etc. is made available for all received messages even messages that were originated from a user device with native processing. It also permits the user to easily transfer all of the saved messages stored on one handset to another handset even where the other handset is made by a different manufacturer and or utilizes a different operating system. Since all received messages are stored only in secure inboxes of the ES application all received messages are protected by the security provided by the ES application.

A NO determination by step or a NO determination by step results in step making a determination of whether user data is present in the subject received message. A NO determination by step indicating that no user data is present to be processed results in the conclusion of processing at END . A YES determination by step results in step processing the user data contained in the received message. Typically in the case of an SMS text message processing user data includes providing an alert to the user indicating that a message has been received displaying the received message on the screen of the user s wireless mobile unit along with visual indicia indicating the priority assigned by the originator and storing the received message as a file or record e.g. a record in the INBOX of the enhanced services application program. Assuming the message was transmitted as an encrypted format the message will be decrypted displayed on the screen with corresponding visual indicia and stored in the INBOX as a clear text message by the enhanced services application program. However the processing of the user data in accordance with step is subject to commands that may be included in the associated message. Thus prior to displaying the text message received from the originator on the recipient s screen the associated commands with the subject message are processed to determine if other events and or actions are required to be implemented before the display of the message. The processing that concludes at END .

For a received message e.g. an SMS email or HTTP message with delivery confirmation requested by the originator the received text message will not automatically be displayed on the screen of the user s communication device. Upon the recipient attempting to open a received text message having a confirmation request a query will be presented e.g. via a pop up screen asking whether the recipient authorizes confirmation of receipt to the originator. If the recipient authorizes the requested confirmation a corresponding message carrying the confirmation signal will be transmitted from the recipient s device to the originator s device and the recipient will be permitted to access view the contents of the associated received text message. For example the associated text message may be automatically displayed on the screen of the recipient s device following authorization of the transmission of the reply confirmation signal. Similarly if delivery confirmation was requested by the originator and the received message includes visual audible or other types of communications either as part of the message or as an attachment to the message this information will likewise not be accessible to the recipient until authorization of delivery confirmation is given by the recipient.

In accordance with a first embodiment the associated message will not be displayed to the recipient until the transmission of the reply confirmation message has been successfully completed. In a second embodiment the associated message will be displayed to the recipient following authorization approval even if the actual transmission of the reply confirmation message is yet to be completed. The second embodiment may be useful in allowing immediate access by the recipient to the contents of the associated message where the recipient s device at the time of attempted message access by the recipient and authorization approval does not have current communications with the supporting network and hence is unable to complete the transmission of a reply confirmation message at that time.

If the recipient declines to authorize the confirmation requested by the originator upon the initial receipt of the message the contents of the associated message will not be displayed on the screen of the recipient and the recipient will not be able to access view the contents of this message. However the received message along with associated command and control information is stored in memory in the recipient s device and upon each later attempt by the user to open view the subject message the user will be asked to authorize the requested confirmation. If upon a subsequent attempt to open the subject message the user recipient agrees to authorize the requested confirmation a corresponding confirmation message will then be transmitted to the originator and the recipient will be permitted to access view the contents of the associated message. Upon the acknowledgment confirmation message having been authorized and sent the enhanced services application on the recipient s device modifies the corresponding received message as stored in memory by changing the U meaning unread in the command portion of the received message to O meaning opened . On each user request to open a received message the enhanced services application checks the command portion of the associated message as stored in memory for a potential command e.g. a delivery confirmation command that has not been acknowledged a U status prior to displaying the user message. The display of the corresponding user message will be prevented if such a corresponding command is found. Thus by changing the status of a received message in memory of a recipient s device from Unread to Opened the enhanced services application will thereafter upon a request by the recipient to open the subject message display the subject user message without displaying a pop up window requesting the authorization to send a confirmation to the originator.

When the originator s device of the subject message receives an acknowledgement confirmation command message from a recipient s device this message will contain the recipient s address in addition to information indicating that a corresponding message stored in the originator s Outbox has been received opened e.g. see bytes 7 and 8 in example 11 of . The received acknowledgement confirmation command message is correlated with a corresponding sent message in the originator s Outbox via reference to the recipient s address and the numerical reference e.g. see byte 9 in example 9 of the outgoing text message and byte 9 in example 11 of the corresponding acknowledgement confirmation command message.

A NO determination by step or by step results in step making a further determination of whether user data is to be sent as part of the message being composed by the user. A YES determination by step indicating that user data is to be included results in step receiving the user input of the data to be included in the message and storing the user data beginning at the byte position following the last byte of the last command. User input data can be input utilizing a graphical user interface such as from menu selection or by accepting alphanumeric characters entered the user in a predetermined data entry field see . For each message the originating user can select a priority such as one of the exemplary priorities shown in that will be assigned to the message. Messages are transmitted with a default priority e.g. GRAY if the originating user does not set a different priority before the message is completed. This is explained in more detail with regard to . Following step or upon a NO determination by step indicating that no user data is to be included a determination is made in step of whether the completed message should be sent. A YES determination by step results in the composed message being transmitted from the utilized ES module to the destination unit by step . As part of the transmission process the transmitted message may be stored in the OUTBOX of the corresponding ES module in the originating unit. The process concludes at END . A NO determination by step indicating that the composed message is not to be transmitted results in the aborting of the transmission of the message at step and determination of processing at END .

In addition to displaying a background color indicative of the message priority the value of the priority byte may be utilized by the ES application for other purposes and functions. For example the type of encryption decryption utilized for a message may be determined based on the value of the priority byte e.g. values 1 4 may be interpreted by the ES application to utilize a default type of message encryption decryption with the corresponding background colors shown in while values 5 8 causes the ES application to utilize a different type of message encryption decryption with the display of the same background colors as for values 1 4 respectively.

Also the value of the priority byte can indicate a message security level e.g. the value 9 may cause a black background color to be displayed with the message and cause the ES application to utilize a higher level or different encryption decryption technique such as requiring a dynamic key exchange or a user entered encryption decryption key in order to encrypt extract the clear text message. For example when the originating party selects BLACK as a priority indication the originator is prompted to enter a password which is used as a custom encryption key to convert clear text message to cipher text that is transmitted to the destination party. On the receiving end an incoming message with a BLACK priority is received and stored in the cipher text mode. To convert the cipher text message with an associated BLACK priority to clear text the receiving party will be prompted to enter a password as part of a dynamic key exchange where the password entered by the receiving party must be the same password used by the originator or a decryption password associated with the encryption password utilized by the originator as part of a linked encryption decryption key. The described encryption decryption technique and the storage of the message as cipher text for priority value 9 BLACK priority messages differ from the priority values 1 4 and 5 8 in that the encryption decryption of messages associated with the other priorities is processed automatically in accordance with the ES application and the corresponding messages are displayed and stored in clear text format both at the originating and receiving devices. A received BLACK priority message is stored and displayed as cipher text and will not be displayed as clear text unless the user enters the required password key.

Message priorities as implemented by an embodiment of the present invention are ubiquitous. A message of a specified priority e.g. green is displayed with the same priority indicia to the recipient regardless of transport layer communication protocol used to transport the message i.e. whether the message was conveyed via SMS MMS email HTTP etc. Further message priority is uniform across all modules of the ES application so a red priority SMS message originated by a Peanut module a red priority SMS message originated by a Brazil Nut module and a red priority email message originated by a Walnut or Cashew module are displayed with the same priority indicia to the recipient even though the received message is processed by different modules of the ES application. The originating device using the ES application saves sent messages with the corresponding priorities and displays sent messages with the same priority indicia as presented to the recipient. Hence users can easily discern by the display of sent messages the priority that was associated with each.

In accordance with a preferred embodiment of the present invention the particular encryption utilized to encrypt the user data segment except for the first 4 bytes that identify the module of the enhanced services application to the used may be determined by the message priority selected. Different types of encryption may include different encryption decryption algorithms and or different encryption decryption keys or both. Additional information with regard to the selection of the encryption decryption utilized based on the priority value is provided with regard to . Upon the selection of the global default priority or a different priority for a particular message the priority for the subject message is stored either as a value or color. Upon the user initiating the transmission of the message the stored priority to be used for the message will be used as an index to identify a corresponding record see in a plurality of stored records where the corresponding record defines an associated color priority value and specification of the encryption decryption algorithm and or encryption decryption key to be utilized. The module of the enhanced services application prepares the message for transmission wherein the specified encryption decryption algorithm and or encryption decryption key is utilized to encode the user message and preferably all of the user data segment except for the first 4 bytes. Once the encryption has been performed the user data segment is assembled with a corresponding header and transmitted using the selected higher layer data transport format.

Processing a request for an acknowledgment receipt presents additional challenges for email and HTTP communications as compared to SMS messages. An SMS message is typically directed to a particular user device e.g. a telephone number associated with a particular telephone of the destination user. Even though the originator of an SMS message may include multiple addressees for a message the SMS messages are processed as if the originator had composed the same message and sent it individually to each of the addressees where each is normally associated with a particular device. In the case of an SMS message sent to multiple devices where the message includes a request for an acknowledgment receipt in accord with an embodiment of the present invention the acknowledgment receipt can be processed by each of the destination devices on a one to one basis between each destination device and the originating device.

However the processing of a request for an acknowledgment receipt of an email or HTTP communication in accord with an embodiment of the present invention is complicated by the fact that a web based email or HTTP account of a user e.g. Gmail Hotmail Yahoo etc. is accessible by the user via any communication device with Internet access. A user may have a plurality of communication devices each having an ES application program that are each used at different times to access his web based email or HTTP account. If the user receives an email or HTTP message using a first communication device that includes a request for an acknowledgment receipt in accordance with an embodiment of the present invention and the user agrees to provide the acknowledgment receipt to the originator it would be annoying if not confusing to the user to have to again agree to provide another acknowledgment receipt upon later attempting to read the same email or HTTP message from the same email HTTP account using a second communication device.

Such a situation would occur if the respective enhanced services application programs on each of the user devices operated independent of the status of messages as determined at the other user devices. For example after previously agreeing to the acknowledgment receipt request on the first communication device the enhanced services application program on the first device would store information indicating compliance with the acknowledgment receipt request and would not again prompt the user for an acknowledgment receipt authorization when the user at a later time attempts to read the corresponding web based email HTTP message on the same device.

However if the user at a later time utilized a second communication device with an installed enhanced services application program to read messages on the same email HTTP account upon attempting to read the message to which an acknowledgment receipt had been generated by the first communication device the second communication device not having access to information stored on the first communication device would again prompt the user for authorization to send an acknowledgment receipt before permitting the subject message content to be read on the second communication device.

One possible solution would be to utilize a capability if available of the web based email HTTP server to recognize and store information at the server indicative of the status of authorization requests. Regardless of the communication device used to access the user s messages from the same server once a message had authorization given to respond to an acknowledgment request this information could be stored at the server such as by a value associated with a flag in a predetermined field of the header of the associated message. Hence upon a later access by the user to the same account at the server using a different communication device the enhanced services application program on the user s device could read the flag value associated with a subject message e.g. flag value stored in the message header as sent from the server and based on the flag value could recognize that the acknowledgment request associated with the subject message had been previously complied with and would not again prompt the user for such an authorization upon the user s attempted reading of the subject message. Unfortunately not all email server application programs allow user control to set an appropriate flag that can be used to convey information concerning the status of acknowledgment requests for corresponding messages.

Another solution to this problem in accordance with an embodiment of the present invention is provided by the enhanced services application programs that reside in end user communication devices without requiring support as explained above from the email HTTP server. In general this technique causes the user device in which authorization is initially given to comply with an acknowledgment receipt associated with a first received message to automatically generate a first command message sent to the originator and a second command message sent to the addressee s same email HTTP account i.e. a message sent to oneself where the addressee address is the same as the recipient s address. The second command message contains a request for an acknowledgment receipt origination address and addressee address being the same i.e. the recipient s address and the same unique message reference identification number as contained in the received message that had requested the conformation receipt. This second command message will be received by all user devices that download read messages from the same email HTTP account. As will be explained in more detail below receipt of the second command message is processed by the enhanced services application program resident in the end user devices that are used to read messages from the subject email HTTP account. Receipt of the second command message causes the automatic updating of the status of an acknowledgment receipt request for the subject message thereby preventing a display of a user prompt for an authorization of an acknowledgment request upon reading of the subject message at the device that received the corresponding command message. Preferably the generation of this second command message and the processing of its receipt by the enhanced services application program of end user communication devices occurs as background processing by the enhanced services application program i.e. background processing meaning that such actions do not require any initiation or interaction by the user and are preferably performed without any intended display to the user that the processing is occurring.

A further issue exists with regard to how to convey to the originator of a message with multiple email HTTP addresses recipients which of the addressees have complied with an acknowledgment receipt request. In accordance with an embodiment of the present invention different symbols such as associated with a summary display of the transmitted message indicates to the originator the receipt status as among the multiple addressees. A first displayed symbol e.g. U for unread unopened associated with an outbox summary of the transmitted email HTTP on the originator s device indicates that none of the addressees have complied with the acknowledgment receipt request a second displayed symbol e.g. U indicates that at least one but not all of the addressees of the subject message have complied with the acknowledgment receipt request a third displayed symbol e.g. O for opened indicates that all addressees of the subject message have complied with the acknowledgment receipt request. Further a log is maintained for each addressee and is displayable to the originator indicating for each addressee if a reply to the acknowledgment receipt request has been received. This will be explained in more detail below.

A NO determination by step means that the command message is being received by the end user device of the message originator. For example the origination address in the command message will be that of an addressee of the subject message and the addressee address will be that of the originator. In step the message stored in the OUTBOX of the message originator s communication device will be located that has the same message number identifier as contained in the reply acknowledgment command message. In step the read opened status field for this summary message in the OUTBOX will be updated to display an appropriate symbol either U to indicate that some but not all of the addressees have replied to the acknowledgment request or O to indicate that all of the addressees have replied to the acknowledgment request. Also the log information stored in originator s communication device will be updated to indicate that the addressee from whom the command message was received has replied to the delivery confirmation request. This terminates processing at END .

With regard to the automatic generation of a self addressed second command reply message at step an alternative embodiment would include a prior step of determining whether the addressee utilizes other communication devices with the enhanced services application program to read messages from the subject account. If the addressee only uses one communication device on which the subject message was received to access messages from the subject account then the transmission of the self addressed second command reply message could be omitted since its purpose is to inform the enhanced services application program resident on other communication devices that the user has already read a subject message. For such an alternate embodiment information as to whether the user will employ other communication devices to read the same account can be stored in the device as a variable that will be checked prior to the execution step . Alternatively this information can be obtained from the user on a message by message basis such as by expanding the information sought by the pop up window . That is the pop up window could solicit from the user two different types of YES inputs one input being YES only this communication device is used to access messages from this account. the other input being YES other communication devices may be used to access messages from this account. Selection of the first input would cause the generation of the self addressed second command message to be omitted while selection of the other input would cause the generation transmission of the self addressed second command message. The benefit of querying the user and obtaining such information would be the potential elimination of the transmission of a second command message and its associated processing where the addressee only uses one communication device to access messages from the particular account.

The communication device in one example employs one or more computer readable signal bearing tangible media. The computer readable signal bearing tangible media store software firmware and or assembly language for performing one or more portions of one or more embodiments of the invention. The computer readable signal bearing tangible medium may contain stored data in the form of magnetic electrical optical biological and atomic information. For example the computer readable signal bearing tangible medium comprise floppy disks magnetic tapes CD ROMs DVD ROMs hard disk drives and electronic memory.

Although exemplary implementations of the invention have been depicted and described in detail herein it will be apparent to those skilled in the art that various modifications additions substitutions and the like can be made without departing from the spirit of the invention. The above illustrated examples of delivery confirmation and its attributes apply equally for other formats of communications. That is a delivery confirmation request utilized in these other formats will generate the same or substantially similar actions. For example a message using a user segment as described that is sent to a plurality of recipients with a delivery confirmation request will be processed by a corresponding enhanced services application at each recipient device as described above. Thus each message recipient must authorize the transmission of an acknowledgment to the originator as a condition precedent to the corresponding user message being displayed. Various types of techniques can be utilized to generate a unique message identifier. If desired a limited portion of a received message having a delivery confirmation request could be displayed to the recipient even though the recipient had not authorized the transmission of an acknowledgment e.g. a first few characters or words in the message could be displayed or an associated subject line could be displayed. With regard to the command structure of the illustrated messaging format different characters or symbols can be used to define corresponding actions events and different sequencing positions or numbers of bytes can be used to convey information. Although it was described that the transmission of the command message conveying a response to the delivery confirmation request be completed prior to access being provided to the addressee of the content of the subject message access to the addressee the content of the subject message could be provided in response to authorization of the acknowledgment reply command message even if the transmission of the command message had to be delayed such as when access to the supporting communication link was not available at the time of authorization. If HTTP communications are provided without the use of an HTTP account server to distribute messages to its account holders e.g. HTTP messages are transmitted between end to end devices then command messages indicating that a response to the delivery confirmation request has been sent to the originator from one recipient device can be sent directly from the one recipient device to the other devices of the recipient to prevent the genertion at the other recipient devices of a pop up window seeking delivery confirmation upon a user request to read the subject HTTP message previously read and acknowledged on the one recipient device.

