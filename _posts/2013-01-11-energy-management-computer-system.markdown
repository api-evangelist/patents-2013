---

title: Energy management computer system
abstract: The disclosure provides an energy management system that is based on a distributed architecture that includes networked energy management devices located at a plurality of sites and a collection of energy management program applications and modules implemented by a centralized energy management service unit. The energy management program applications and modules are responsible for facilitating customer access to the system, configuring energy management devices, and collecting, storing, and analyzing energy management data collected from the plurality of sites. The energy management system is adaptable to a wide variety of energy usage requirements and enables customers to configure energy management devices at customer sites using scheduling templates, to define and customize site groupings for device configuration and data analysis purposes, and to request and view various statistical views of collected energy usage data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09471946&OS=09471946&RS=09471946
owner: EnerAllies, Inc.
number: 09471946
owner_city: Sunnyvale
owner_country: US
publication_date: 20130111
---
This application claims the benefit under 35 U.S.C. 119 e of provisional application 61 631 824 filed Jan. 12 2012 provisional application 61 631 825 filed Jan. 12 2012 provisional application 61 631 829 filed Jan. 12 2012 and provisional application 61 631 831 filed Jan. 12 2012 the entire contents of which are hereby incorporated by reference for all purposes as if fully set forth herein.

The present disclosure generally relates to energy management computer programs computer systems and computer assisted solutions. The disclosure relates more specifically to a networked cloud based energy management computer system that provides for centralized management and control of multiple energy management devices located at a plurality of sites and analysis of energy usage data collected across site boundaries.

The approaches described in this section are approaches that could be pursued but not necessarily approaches that have been previously conceived or pursued. Therefore unless otherwise indicated it should not be assumed that any of the approaches described in this section qualify as prior art merely by virtue of their inclusion in this section.

Energy costs typically represent one of the largest ongoing expenses associated with a business enterprise s commercial leases. As a result business enterprises and other institutions are increasingly looking to some form of automated energy management solution in an attempt to monitor and reduce costs associated with energy usage at commercially operated sites.

For business enterprises such as small footprint retail and food service chains that may operate a large number of sites across a wide geographic area past energy management solutions have had serious shortcomings. For example according to industry studies only a small percentage of small footprint commercial sites are automated with a computer based energy management system. Instead the vast majority of commercial sites are equipped with outdated manual or programmable thermostats that typically require configuration and management by a local site manager or other employees. However a typical site manager is often saddled with a variety of other job responsibilities that leave few resources to properly configure and manage thermostats and other energy management devices for optimal energy usage. The financial implications of this mismanagement are potentially considerable particularly for enterprises that control hundreds or thousands of sites.

Of the commercial sites that have an energy management system these systems are typically implemented as costly custom designed solutions that target individual site locations and are often bundled with expensive professional services to maintain the systems. The prior energy management approaches have been a poor fit for business enterprises that manage a large number of small footprint sites by failing to provide a scalable energy management system that provides centralized control of an enterprise s energy management devices across multiple sites and that enables valuable analysis and insight into an enterprise s energy usage across site boundaries in order to optimize energy usage.

In the following description for the purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of the present invention. It will be apparent however that the present invention may be practiced without these specific details. In other instances well known structures and devices are shown in block diagram form in order to avoid unnecessarily obscuring the present invention.

In an embodiment a computer implemented method comprises receiving by an energy management service unit that is configured to be coupled to a plurality of energy management devices of a plurality of sites energy usage data of a particular site of the plurality of sites wherein the energy usage data includes information indicating one or more temperature setpoints of a particular energy management device of the particular site and for each of the one or more temperature setpoints one or more first values indicating one or more of an amount of time elapsed for the particular site to reach the each of the one or more temperature setpoints an amount of energy consumed by the particular energy management device to reach each of the one or more temperature setpoints and an amount of time the particular energy management device is activated to reach each of the one or more temperature setpoints generating based on the energy usage data one or more second values indicating one or more of an average amount of time elapsed to change the temperature of the particular site by one or more degrees an average amount of energy consumed by the particular energy management device to change the temperature of the particular site by one or more degrees and an average amount of time the particular energy management device is activated to change the temperature of the site by one or more degrees determining that one or more of the one or more second values exceeds a specified threshold value in response to determining that one or more of the one or more second values exceeds the specified threshold value generating a notification.

In an embodiment the notification includes one or more of an email message a Short Message Service SMS message an alert message displayed on a web portal.

In an embodiment the energy management device comprises a programmable thermostat including a Wi Fi subsystem and wherein the energy management device is configured to periodically send particular energy usage data to the energy management service unit.

In an embodiment the computer implemented method further comprises the energy usage data further including information indicating an amount of energy consumed to reach the one or more temperature setpoints generating based on the energy usage data a second value indicating an average amount of energy consumed to change the temperature of the particular site by one or more degrees determining that the second value exceeds a second specified threshold value in response to determining that the second value exceeds the second specified threshold value generating a second notification.

In another embodiment a computer implemented method comprises receiving by an energy management service unit that is configured to be coupled to a plurality of energy management devices of a plurality of sites energy usage data of a particular site of the plurality of sites wherein the energy usage data includes information indicating one or more temperature setpoints of a particular energy management device of the particular site and for each of the one or more temperature setpoints an amount of time elapsed for the particular site to reach the one or more temperature setpoints generating based on the energy usage data a value indicating an average amount of time elapsed to change the temperature of the particular site by one or more degrees receiving by the energy management service unit a second value indicating a temperature setpoint for the particular site and third value indicating a particular time of day associated with the temperature setpoint generating based on the first value an energy management device control template that defines one or more energy management device operating parameters wherein the operating parameters include a fourth value indicating a particular time of day to initiate operation of the energy management device sending to the particular energy management device the energy management device control template.

In another embodiment a computer implemented method comprises detecting by an energy management device of a particular site a first value of a temperature setpoint configured at the energy management device and a second value of an air temperature of an area outside of the particular site determining that a difference between the first value and the second value exceeds a specified threshold value in response to determining that the difference between the first value and the second value exceeds the specified threshold value configuring the temperature setpoint to a third value wherein a difference between the third value and the second value is not more than the specified threshold value.

In an embodiment the specified threshold value is specified in a scheduling template wherein the scheduling template defines one or more energy management device operating parameters to control operation of the energy management device.

In an embodiment scheduling template further specifies a maximum temperature setpoint value and a minimum temperature setpoint value.

Other embodiments provide other processes that implement the structures of the system recited above and provide a computer readable storage medium storing instructions which when executed cause performing the functions described herein.

One embodiment provides an energy management system based on a distributed computer based architecture that includes networked energy management devices located at a plurality of sites and a collection of energy management computer program applications and modules implemented by a centralized energy management service unit. In an embodiment the energy management program applications and modules are responsible for facilitating customer access to the system and collecting storing and analyzing energy management data collected from the devices at the plurality of sites. In an embodiment the energy management system is adaptable to a wide variety of energy usage requirements and enables customers accessing the system to configure energy management devices using scheduling templates to define and customize site groupings for device configuration and data analysis purposes and to request and view various statistical views of collected energy usage data.

In this context energy management devices are devices that are configured to control and or monitor one or more energy consuming commercial appliances such as for example heating ventilation and air conditioning HVAC units lighting units water pumps and refrigeration units. In various embodiments energy management devices may include any of programmable thermostats power outlet control devices lighting control devices refrigeration control devices motion detection devices sub metering devices water resource management devices waste management devices renewable energy management devices and any combination thereof. In an embodiment the energy management devices are configured to collect data relating to energy usage or other operating conditions associated with an appliance under the device s control and to send the data to a centralized energy management service unit.

In an embodiment one or more of the energy management devices may comprise a programmable wireless communications subsystem that enables the devices to communicate with the centralized energy management service unit over one or more wireless or wireline communications networks. In an embodiment the programmable wireless communications subsystem is implemented using the Wi Fi wireless communication standard. The use of the Wi Fi wireless standard in energy management devices provides numerous benefits such as for example enabling the devices to wirelessly connect to the Internet without a dedicated gateway device. These and other factors may significantly decrease the costs of system implementation.

In an embodiment a centralized energy management service unit is coupled to an internetwork or wide area network and is configured to provide a World Wide Web based management interface or portal that enables users to securely access and configure various aspects of the system. For example users may interact with the portal to configure site groupings define device scheduling templates and request various statistical views of collected energy usage data for display in one or more dashboard like interfaces. The energy management service unit is configured so that based on various user profiles the portal may securely control access to application programs and stored energy management data to various users within a customer company to third party users that may have a business relation with one or more customers and to users associated with different customers who may be competitors. In one embodiment the energy management service unit may include an application programming interface API that enables third party users to access controlled views of collected energy usage data.

In an embodiment site comprises one or more energy management devices wirelessly coupled to a wireless local network that has connectivity to the Internet . For example site includes three energy management devices A C. Each of energy management devices A C may represent a different type of energy management device or may represent the same type of energy management device as another device located in a different area of site . Each of the energy management devices A C may communicate over wireless local network using wireless connections such as for example using the Wi Fi communication standard. For example router may comprise a wireless access point that facilitates communication between any wireless energy management devices and the Internet . In some embodiments router may be the same router that is used for communication with other computer devices at the site such as point of sale terminals inventory computers or special purpose computers in other words embodiments of the systems and solutions described herein do not require a dedicated router but can use available bandwidth of a router that is already installed at the site for other purposes.

In an embodiment one or more wireless energy management devices at site may be configured to communicate directly with one or more other energy management devices. For example one or more of energy management devices A C may be configured to communicate directly with other devices using the Wi Fi Direct protocol or other similar peer to peer communication standard. While certain embodiments are described in connection with wireless communication wired communication or a combination may be used in other embodiments. Direct communication between devices may enable the addition of energy management devices at more locations within site resulting in more detailed energy usage data collection.

Similar to site site includes an energy management device . Energy management device is coupled to wireless local network that has connectivity to the Internet . Site may be located in a geographically remote location from site . For the purposes of illustrating a clear example shows only two sites and four energy management devices however practical embodiments may include any number of sites and any number of energy management devices located at each site.

Internet may comprise a plurality of public internetworks providing connectivity between sites and energy management device . In an embodiment Internet may comprise a private point to point connection of a site to the energy management service unit . For example a client computing device located at site could use the public Internet to connect to energy management service unit for system configuration and reporting purposes but a private point to point connection may be provided for the collection of data from energy management devices A C. For example a point to point connection could be implemented using an Internet Protocol Security IPsec network tunnel or other mechanism providing a secure connection over which collected data may be transmitted. In an embodiment the secure connection may be made compliant with the Payment Card Industry PCI security standards such that the collected data may be transmitted over the same network elements and through network firewalls used by various sites to securely transmit credit cardholder information.

Energy management service unit comprises an energy management platform and a collection of energy management applications and modules each of which is detailed in other sections below. In general the energy management applications and modules of energy management service unit are configured to perform energy management device data collection enable customers to access and manage the energy management system and provide analysis of collected energy management data.

In an embodiment energy management service unit is coupled to data repositories which stores collected energy management data externally collected data user information site groupings scheduling templates and other data elements utilized by energy management service unit as further described herein. Repositories broadly represent one or more data repositories and various divisions of data collected and stored by the system may be implemented in different embodiments.

Referring now to in an embodiment energy management device represents an example device that may be deployed at a particular site so that all devices at the site could be similarly structured in one embodiment. In an embodiment an energy management device may comprise an interface one or more sensors device storage and a Wi Fi subsystem . In an embodiment an energy management device may be mechanically electrically or communicatively coupled to one or more commercial appliances for the purposes of controlling the operation of the appliances and or collecting operating information associated with the appliances to send to energy management service unit . The particular approach for coupling controlling and collecting are not critical.

In an embodiment interface provides user access to various configuration settings and operating information associated with an energy management device directly at the device. For example interface may comprise various interface controls that enable a user to configure one or more settings associated with one or more associated commercial appliances . Interface may further comprise one or more displays that report operating information associated with commercial appliances . As an example a commercial appliance may be an HVAC unit and interface may provide interface controls that enable a user to configure desired temperature setpoints and that display current temperature conditions and setpoints. Touchscreens pushbuttons and similar devices may be used as the interface .

In an embodiment an energy management device may include one or more device sensors . Sensors may be configured to detect one or more external or internal conditions associated with the operation of an energy management device or an associated commercial appliance . For example a thermostat device may include one or more sensors configured to detect current temperature and or humidity conditions or other information associated with the performance of an associated HVAC system. As another example sensors in a lighting control device may be configured to detect and report current lighting settings in one or more associated lighting devices.

In an embodiment an energy management device comprises device storage . Device storage may store local device configuration settings scheduling templates and data collected by sensors . Device storage may provide a mechanism for persistent storage of configuration settings and other information in the event of a power failure or communications failure rendering energy management device unable to communicate with energy management service unit . For example in one embodiment device storage may comprise a flash memory storage chip or other form of persistent data storage.

In an embodiment an energy management device comprises a Wi Fi subsystem . Wi Fi subsystem may include programmable logic that is configured to override and or supplement firmware or other logic included in an energy management device . In an embodiment the logic in Wi Fi subsystem may be configured to enable customized control of various aspects of an energy management device to send and receive data from energy management service unit or perform other functions that are not natively provided by energy management device .

In an embodiment Wi Fi subsystem may comprise various components including a Wi Fi radio a processor subsystem and a computer memory subsystem. In one embodiment the Wi Fi subsystem may be incorporated directly into an energy management device or may be included as a separate plug in device. For example in one embodiment Wi Fi subsystem may be a device conforming to the Utility Smart Network Access Port USNAP standard.

In an embodiment Wi Fi subsystem is configured to communicate with energy management service unit over the Internet as described above. Communication between Wi Fi subsystem and energy management service unit may comprise sending energy usage data associated with a commercial appliance sending data detected by sensors and sending energy management device usage and configuration settings. Wi Fi subsystem may also be configured to receive scheduling templates and other device configuration data from energy management service unit as further described herein. For example assuming energy management device is a programmable thermostat Wi Fi subsystem may be configured to periodically send data to energy management service unit over the Internet including current temperature setpoints device programming and configuration settings and other data related to the operation of energy management device and or a commercial appliance .

In an embodiment a programmable thermostat may initially include firmware or other controllers that include logic to control interface and other operations of the thermostat. In an embodiment Wi Fi subsystem may include additional logic programmed to override and or supplement various aspects of the device firmware logic including restricting user access to particular interface controls and implementing other device configuration changes responsive to communication received from energy management service unit . In an embodiment Wi Fi subsystem may be configured to receive and cause installation of updated device firmware.

For example Wi Fi subsystem may include logic configured to send last gasp messages to energy management service unit in the event of an energy management device losing power. In another embodiment Wi Fi subsystem may include logic that enables a remote user to manage device calibration and detect calibration errors associated with energy management device .

In an embodiment energy management service unit comprises an energy management platform energy management applications and application programming interface API . In an embodiment the energy management platform comprises a portal data collection module and site groupings module each module described further in the sections below. The modules illustrated in are provided as examples and energy management service unit may comprise any number of additional modules including logging system administration and other modules or sub modules. In an embodiment energy management service unit may comprise additional application specific modules such as for example a module for hotel energy management a module for refrigeration systems or other appliance specific systems and a sub metering information module.

In an embodiment data collection module comprises program code and other logic configured to collect and store data from energy management devices and other external data sources. For example data collected from energy management devices may include energy usage data and energy management device operation and configuration data. Data collection module may also collect and store data from one or more external data sources including for example weather data customer data and utilities information. In an embodiment data collection module may store collected data in one or more databases accessible to other modules of energy management service unit .

In one embodiment data collection may be initiated by logic included in an energy management device as described above the logic configured to periodically or continuously send data collected by the device to data collection module . In this manner data collection module may receive the data sent from the energy management devices and store the data in a data repository. The data received by data collection module may be stored along with one or more identifiers that identify the particular device sending the data the site at which the sending device is located and a time the data is sent or received.

In another embodiment data collection may be initiated by data collection module by sending a collection request to an energy management device at desired time intervals. An energy management device may be configured an energy management device may be configured in response to receiving a collection request to collect and transmit the requested data to data collection module . Data collection preferences may be defined in an embodiment as part of a scheduling template or other device configuration data stored on an energy management device and or configured by a user using portal .

In an embodiment data collected from an energy management device may include any number of status parameters detected by the device. For example collected parameters may include inside and outside temperatures humidity HVAC mode HVAC status heating and cooling setpoints fan operation modes energy saving modes setpoint overrides setpoint holds heartbeats lighting information motion detection kilowatt usage thermowatt usage natural gas usage sub metering information and other device information.

In an embodiment data collection module may collect information from one or more external data sources . As an example external data sources may include a weather service that provides information such as current temperatures daily maximum and minimum temperatures precipitation weather forecasts and other weather related information. As another example external data sources may include data stored in a customer database such as for example utility billing information utility tariff rates including time of use rates demand response program information and associated pricing information and utility rebate program information. In another embodiment external data sources may include customer sales information or other customer site related information. In an embodiment information collected from external data sources may be used in conjunction with collected energy usage data to more accurately and advantageously program device templates for particular customers and to provide more detailed analyses of customer energy usage.

In an embodiment data collection module may collect profiling information associated with customers. The profiling information may be used to compare a specific company s site information against sites with a similar profile. For example data collection module may collect information related to a company type store site type geographical region climate zone utility pricing zone building size kilowatt thermowatt per hour pricing HVAC unit type refrigeration unit type other energy management device types etc.

In an embodiment data collection module and other energy management service unit modules may interface with energy management devices using an application programming interface services API that implements particular energy management device functions. With this approach energy management devices can be modified without affecting the modules at energy management service unit and likewise energy management service unit may be modified without affecting logic implemented at the energy management devices.

In an embodiment energy management platform comprises a graphical user interface and associated operating programs termed portal configured to generate and cause display of a management interface comprising one or more informational dashboards configuration pages and other interfaces that facilitate user interaction with the energy management system. In an embodiment portal may be accessed using a computer such as client machine . Client machine may be located on the same local network as an energy management device energy management service unit or on any other network communicable with Internet .

In an embodiment client generally includes any computing device capable of requesting services over a network and includes for example personal computers workstations laptop computers netbook computers smartphones and tablet computers. As an example client may comprise a browser that can access HTML documents generated by portal . In one embodiment a client may be integrated into an energy management device .

In one embodiment portal may generate displays that are customized for particular devices. For example in response to requests for similar information portal may generate one display in response to detecting that client is a smartphone and a second display in response to detecting that client is a personal computer. In an embodiment the generation of informational dashboards configuration pages and other displays may be customized for more effective display depending on various characteristics of the client device including for example screen size and resolution processing power presence of a touch user interface and connection bandwidth.

In one embodiment portal may control access to the energy management system based on user access credentials supplied by a user accessing portal . In an embodiment each authorized user may be associated with a user profile that identifies the user s access level within the system. In an embodiment a user s access level may include defining particular databases that the user may access and whether the user has permission to modify the data or read only access.

In an embodiment user profiles may be consistent with users role in a company organization or other associated with other employment positions. For example separate user profiles may be established for company executives regional managers site managers or other classes of users. In other embodiments other customized user profiles may be created for other purposes such as company wide and system wide administrators. As other examples user profiles may be established for users associated with system support HVAC installation and support HVAC manufacturers other users associated with retail or food services users associated with a utility company and other industry analysts. The association of users with particular user roles may be configured within a company by a corporate administrative user or by other designated system wide administrative users.

For example access levels may be configured such that a site manager may access information device configurations and analytics for the particular sites under the site manager s control but not for the entire company. As another example a regional manager may access information associated with a plurality sites that are associated with the manager s organizational responsibility. As yet another example a corporate executive may access aggregated information of many companies in a geographic area or industry to analyze industry benchmarks.

In an embodiment a user accessing portal may define and configure various aspects of the energy management system in accordance with the user s profile and corresponding access levels. For example a user may use portal to configure one or more data collection configurations scheduling templates site groupings statistical views and other elements as further described in other sections.

In an embodiment energy management service unit comprises a site groupings module responsible for implementing the creation and modification of site groupings. In this context a site grouping is stored data representing a logical grouping of one or more physical managed sites into a reusable collection that may be used for analysis controlling user access application of scheduling templates and other system wide purposes. In an embodiment a site grouping may include any combination of sites and or other defined site groupings. For example one or more site groupings may be created that group sites located in each of a number of geographic regions and a separate site grouping may be created that includes one or more of the geographic region site groupings. Each site may belong to one or more site groupings. In an embodiment site groupings may be configured by a user using portal and configuration may include the user creating new site groupings adding or removing one or more sites or other site groupings from an existing grouping or deleting an existing grouping.

In an embodiment site groupings may be created based on any number of characteristics including physical form organizational or hierarchical structures used in non energy management contexts geographical regions and associated users. For example a corporate executive may desire to set up site groupings for tracking energy management spending for particular sites within the executive s company grouped by various geographical regions and by regional managers that relate to sales accounting or other concepts. As another example a site manager may desire tracking a site grouping that includes only the sites for which the site manager is responsible. Groups may be associated with financial concepts such as sales regions territories or other accounting units geophysical entities or political units such as states provinces or countries types of trade channels demographic units or any other grouping useful in management. Other examples of site grouping types that may be desired include site groupings associated with particular climate regions particular utility regions building types store types e.g. retail or food service and HVAC manufacturers or models. For example various utilities may have different energy usage pricing rates and the effect of the different pricing rates may be tracked across a number of site groupings. Different states may have different tariff rates that are tracked and compared by state site groupings. As another example sites may be grouped based on climate types and may include sites that are located in disparate geographic regions but that share similar weather patterns.

In the examples various site groupings may be created that include sites and other site groupings relevant to a users configuration monitoring and or reporting needs.

In an embodiment for security and other reasons site groupings module may maintain stored persistent associations between stored user profiles and site groupings. In an embodiment associations between site groupings and user profiles may be configured by a user with sufficient access credentials using portal . In an embodiment users also may have varying levels of access to their assigned groupings. For example a particular user may be responsible for customer support of a particular region of the country. The user for example may then be associated with a site grouping that includes one or more sites from multiple companies but because the customer support user is not directly associated with the company read only access permission may be given to the energy usage data collected from the sites. This may prevent the customer support user from making unauthorized changes to configurations of scheduling templates and other settings associated with the sites in a grouping.

In an embodiment site groupings module may enable users with sufficient access to create system configurations for an entire site grouping. For example a user may associate customized scheduling templates and alarm and reporting configurations with a particular site grouping to which the user has access.

In an embodiment site groupings module may store one or more default site groupings such as a grouping that includes all sites within a company or automatic groupings by states or other characteristics. In an embodiment a user may create new site groupings modifying existing site groupings or remove existing site groupings using portal . For example a user creating a new site grouping may be presented with a listing of all sites that the user has access to and be able to select one or more of the sites to create a new site grouping. As another example a user may view all existing site groupings associated with the user and be able to select new sites to add to a grouping or to remove sites from a grouping. The creation and modification of site groupings may be accomplished using any number of user interface controls including dragging and dropping visual representations of sites into groups or creating site grouping lists.

Site groupings represent three different site groupings within Company A. Site grouping includes sites A B and may for example represent two sites for which a particular site manager is responsible. Alternatively site groupings may represent two different regions that are overseen by two different regional managers. As shown by site B a particular site may be included in any number of separate site groupings. For example site B may be under the joint responsibility of the regional manager responsible for site grouping and the regional manager responsible for site grouping . Site grouping illustrates a site grouping that includes two other site groupings namely site groupings . In an embodiment the system permits any arbitrary groupings of sites as fits customer requirements.

Site grouping illustrates a site grouping that includes sites associated with each of companies . For example site grouping may represent a grouping of sites that are located in a particular geographic region and that are under the responsibility of a third party company responsible for servicing appliances at the selected sites. In the example the third party service company may be associated with grouping and provided read only access to the information in order to assess the need for service.

Referring again to in an embodiment the energy management service unit comprises various energy management applications that interface with the energy management platform components in order to provide automated control of customer energy management devices analysis of collected data and behavioral learning algorithms that leverage the data analysis to tune the operation of the system.

In an embodiment energy management service unit comprises an automated control module that operates in conjunction with site groupings module to provide centralized configuration and control of a customer s energy management devices across any number of sites. In an embodiment the automated control module is configured to control energy management devices using one or more scheduling templates and to provide for the detection and reporting of various alarm conditions.

In one embodiment automated control module enables users to configure and deploy scheduling templates that control the operation of one or more energy management devices. In this context a scheduling template refers to a configuration file or other data representation that defines one or more energy management device operating parameters to control the operation of one or more energy management devices. Example parameters include device operation settings based on a time of day based on a yearly calendar or based on a calendar following weekday weekend and holiday schedules. For example a scheduling template for a thermostat device may define operating parameters that enable changing temperature cooling and heating setpoints control fan operation HVAC mode heating cooling auto and other modes energy saving modes setpoint holds and device operation schedules. As another example a scheduling template for a lighting control device may define schedules dictating when lights are to be powered on and off and associated lighting levels.

In an embodiment a user may create modify and cause scheduling templates to be deployed to energy management devices using portal . For example portal may include a scheduling template configuration interface that enables users to specify desired scheduling template parameters and cause the configured scheduling templates to be deployed to one or more energy management devices. In an embodiment a user may associate a particular scheduling template with an individual energy management device at a particular site with all devices at a site with sites in one or more site groupings or across all devices within entire company. In an embodiment a user may associate scheduling templates with areas within a particular site such as for example one scheduling template for energy management devices in a kitchen area and another scheduling template for energy management devices in a dining room area. In an embodiment logic in a Wi Fi subsystem is configured to receive scheduling templates sent from energy management service unit and cause the scheduling template parameters to be implemented by energy management device .

In an embodiment templates may also include feature templates. Feature templates may specify one or more particular device features that are available at a particular device at devices within one or more sites or at devices within one or more site groupings. In another embodiment templates may include alarm templates that specify one or more alarms that are supported by a particular device within one or more sites or within one or more site groupings.

In an embodiment automated control module may include monitoring logic that detects if a deployed scheduling template has been over ridden at a local device. For example a scheduling template with particular parameters may be deployed to an energy management device and those particular parameters may be subsequently overridden for example by a user using interface . Automated control module may detect that the deployed scheduling template parameters have been overridden based on received operating data sent by the device. In response to detecting that a scheduling template has been overridden locally at a device automated control module may cause the device to revert back to the scheduling template by sending an operating command to the device. In an embodiment automated control module may be configured to generate one or more system alarms and user notifications in response to detecting that a scheduling template is overridden locally at a device.

In an embodiment automated control module may comprise generic scheduling templates for various types of energy management devices for use as a starting point in configuring certain energy management device types. For example automated control module may store a generic scheduling template for each of a thermostat intelligent electrical outlet devices and a lighting control device. Automated control module may also comprise one or more default scheduling templates for different business types that may be selected by a user and deployed to one or more devices. For example a default scheduling template may be provided for retail chain stores another template for fast food chains.

In an embodiment automated control module comprises a faults and alarms subsystem. In an embodiment a fault condition may be detected by automated control module and alarm may be generated based in response to one or more conditions detected at an individual site based on collected data including for example a temperature setting not being met an energy management device failing to respond or other defined fault conditions. In an embodiment in response to automated control module detecting the occurrence of an fault condition one or more alarm and or notification messages may be generated and sent to designated users such as for example an email sent to a site manager SMS message to a technician or an visual alert displayed in portal to particular users.

In an embodiment analytics module mines the data collected by data collection module across site groupings and is configured to provide statistical views detailing patterns in the data also referred to herein as analytics. The statistical views generated by analytics module may be used to understand historical energy usage patterns and trends in order to improve energy management performance across a customer s sites.

In this context a statistical view comprises one or more data values generated from data collected and stored by data collection module and using one or more statistical methods. In an embodiment generated statistical views may be displayed to a user using portal using any number of visual data representations including tables spreadsheets charts graphs or any other data representations. Statistical views may be generated based on a specified viewing time period such as for example the last day the last week the last month or any other custom time range. Statistical views may also be generated based on a specified time scale such as for example hourly daily weekly or monthly time periods.

In an embodiment one or more default statistical views may be stored by analytics module and users may additionally specify one or more custom statistical views using portal . Statistical views specified by a particular user may be saved for later use by the user or for use by other users. In an embodiment statistical views may be made available to users in a downloadable format that a user may download and store locally such as for example spreadsheet files text documents or in other file formats.

Analytics module may generate statistical views of the collected data on a number of different levels including performance analyses of particular energy management devices particular sites site groupings an entire company and across companies and particular industries. Analyses performed by analytics module on each of these levels may include statistics based on kilowatt and or thermostat usage degree days heating and or cooling electrical dollars spent natural gas or heating oil dollars spent total dollars spent inside and or outside air temperatures occupancy rates HVAC modes and statuses fan modes override status and luminous rates. Statistical views may be generated based on various time granularities such as per hour per day per month etc.

In an embodiment analytics module may generate an energy management device automated controls efficiency measurement. An efficiency measurement provides a measurement of how a particular customer s energy management devices are managed by human behavior as compared to automated controls. For example in an embodiment an energy management device efficiency measurement may be measured as a percentage of how effectively energy management devices are being managed relative to fully automated controls where 100 automation of an energy management device would be measured as 100 efficiency. In an embodiment an energy management device efficiency measurement may be generated for a particular customer by performing degree day calculations over a specified time period using data for the customer s thermostats and simulated on the automated control system. In an embodiment an efficiency percentage may be derived based on the degree day values generated from the customer s thermostats and the automated control system simulation. In one embodiment the efficiency percentage formula is 1 automated control degree days customer degree days automated control degree days .

In one embodiment analytics module may generate statistical views of collected energy usage data based on site profile information such as for example the square footage of various sites outside temperatures the difference between inside and outside temperatures inside temperatures compared to kilowatt or thermowatt usage accumulated energy or cost savings per time frame and other site specific information. In an embodiment the site profile information may be used to generate statistical views that compare building efficiencies associated with various sites such as the average time required to reach certain temperatures or the heat dissipation rate of particular sites.

In another embodiment analytics module may generate statistical views of energy usage data by comparing energy usage data collected across sites or site groupings within a particular company. For example a statistical view may compare a particular site s kilowatt usage against the average of all company sites and or the best company site compare a particular site s average inside and outside temperatures against the average inside and outside temperatures of various sites within the company compare a site s dollars spent on electricity or utilities against the average and best practice dollars spent of various sites within the company or compare a site s utilities dollars budgeted against average and best practices of various sites within the company.

In another embodiment analytics module may be configured to generate statistical views that are independent of company boundaries. For example analytics module may generate statistical views that compare a particular company s daily kilowatt usage or any other similar metric against an average generated for similar company types for companies in similar geographic or climate regions or across all companies.

In an embodiment analytics module may generate one or more predictive statistical views based on trends derived from the collected data. For example a statistical view may be generated that calculates predictive savings based upon a calculated number of cooling and heating degree days in the past year. A heating or cooling day is a value based on the difference between the outside air temperature and a cooling or heating setpoint for a given day and may be used as an approximate measure of an HVAC unit s energy requirements. In the example this figure may be used to estimate increases or decreases in future energy bills based on recent trends in cooling and heating degree days.

In an embodiment analytics module may generate statistical views that incorporate other data sets such as data obtained from external data sources in order to provide analyses of energy usage as it relates to other event data. For example one or more statistical views may be defined that validate billing charges based on collected billing information generate billing reports and generate other trending and statistical billing statistics based on stored utility billing information. In another embodiment analytics module may generate statistical views that compare temperature information recorded for a particular site with the sales information at the site providing a customer with possible indications of the impact of weather related conditions including for example inside and outside temperatures rain fall humidity amount of sunlight and other detectable weather related conditions and resulting comfort levels at particular sites on purchasing habits and enable customers to adjust their energy usage configurations accordingly.

In another embodiment analytics module may modify various energy management device settings at a particular site for specified time intervals in order to determine optimal energy management device settings for generating sales. For example analytics module may periodically adjust the inside temperature setting at a particular site and also track purchasing habits at the site during the same time periods. Analytics module may detect that sales at the site increase as the inside temperature at the site approaches a particular temperature enabling the owner of the site to tune the temperature settings to those settings most conducive to generating sales based on the collected data. The relationship between inside temperature and purchasing habits is used as an example but in other embodiments any other detectable site conditions and desired behaviors may be used in the analysis.

In an embodiment analytics module may be configured to generate statistical views that represent data assets valuable to other entities that may not be energy management service customers. For example an installer of HVAC units may desire information about performance statistics relating to various HVAC installations at particular sites serviced by the installer. As another example the HVAC performance information may be valuable to various manufacturers of HVAC units for product development or advertisement purposes. Accordingly in an embodiment access to some statistical views may be provided to various non customer entities as an auxiliary data service.

In an embodiment third party users may access various system components via API . In an embodiment API may provide controlled third party access to various statistical views collected energy usage data device templates and other information. In this manner the data collected and stored in energy management service unit may be provided as a data asset to various third parties including industry analysts HVAC manufacturers utility providers and others.

In an embodiment energy management applications further comprise a behavioral learning module that includes set of algorithms that are based on learned behaviors. In this context learned behaviors refer to inferences about user and energy management device behavior drawn from the data collected by data collection module . Learned behaviors detected by behavioral learning module may be used assist users in further fine tuning the control of scheduling template configurations and to provide intelligent algorithms to control device operation. In an embodiment learned behaviors may be further analyzed to determine company wide and industry wide best practices that may be used as benchmarks for energy efficiency in other modules across the system.

In an embodiment one example behavioral learning algorithm that may be implemented by behavioral learning module is a floating base temperature algorithm for thermostat devices. Rather than operating strictly according to specified heating and cooling setpoints a floating base temperature algorithm allows the inside temperature setpoint set by a particular thermostat device to fluctuate or float based on the outside temperature and the humidity index at the site at which the device is located.

As an example implementation of a floating base temperature algorithm consider a thermostat device initially configured with a floating base temperature of 70 degrees and further configured to increase or decrease the inside temperature setpoint in response to corresponding increases and decreases in the outside temperature. Behavioral learning module may program a rule for example in an scheduling template implemented by a thermostat device that that causes the thermostat device to increase the inside temperature setting in response to detecting that the outside temperature at the site exceeds a 20 degree difference from the inside temperature setting with the thermostat device increasing the inside temperature setting one degree for every degree over the 20 degree difference. In an embodiment a second rule may be programmed in the scheduling template that allows the inside temperature setting to increase only up to a maximum adjusted setting for example up to five degrees. In this example if the outside temperature goes up to 93 degrees the inside temperature setting will float upwards to 73 degrees. The inside temperature setting may continue to increase until the inside temperature reaches the set maximum of 75 degrees in which case the second rule causes the thermostat device to hold at that temperature. In an embodiment behavioral learning module may implement floating base point algorithms based on fixed rules configured by a user for particular sites or based on learned optimization points based on intercompany and or industry wide comparable site analyses.

At block the energy management device determines that a difference between the first value and the second value exceeds a specified threshold value. For example the specified threshold value may be specified in a scheduling template wherein the scheduling template defines one or more energy management device operating parameters to control operation of the energy management device. In an embodiment the scheduling template may also specify a maximum temperature setpoint value and a minimum temperature setpoint value representing maximum and minimum temperature settings that the energy management device should not exceed.

At block in response to determining that the difference between the first value and the second value is more than the specified threshold value configuring the temperature setpoint to a third value where the difference between the third value and the second value is not more than the specified threshold. For example the third value may represent a temperature value that is within the floating temperature range based on the outside air temperature.

In another embodiment behavioral learning module may interface with portal to present to a user various representations of temperatures settings other than degree numbers. For example rather than presenting to a particular user using portal an option to configure the temperature setting of a thermostat device to particular degree values the user may be presented with a temperature scale that presents options that range from comfort at one end and energy cost savings at the other end. Behavioral learning module may then translate a user s selection along the presented scale into an actual temperature value based analyses performed about the cost to heat or cool a site to a particular temperature.

In another embodiment behavioral learning module may comprise an algorithm for pre conditioning particular sites based on user settings. A pre conditioning algorithm may include determining optimal device settings for pre heating or pre cooling a site to a desired temperature by a designated time. For example a user may be aware of a particular time of day that customers or employees typically arrive at a particular site and desire that the site be cooled to a particular temperature by that time each day. In an embodiment behavioral learning module may determine a time that an energy management device is to begin a cooling or heating operating based on historical data and determining an approximate time it takes to cool the site to the desired temperature. The determined time may be specified in a scheduling template sent to the thermostat device. In this manner computation of pre conditioning settings by behavioral learning module prevents excess energy usage by a cooling or heating schedule being set too soon. In other embodiments a pre conditioning algorithm may be based in known values such as a room size an outside temperature and intercompany and or industry wide metrics of sites with similar characteristics. In another embodiment information may be collected on different sizes and brands of commercial packaged HVAC systems that may be used to determine expected efficiency of heating and cooling for optimal pre conditioning energy usage. In another embodiment this information may be used to generate diagnostic information used to determine underperforming HVAC systems based on inappropriate sizing impending maintenance problems etc.

At block the energy management service unit receives a second value indicating a temperature setpoint for the particular site and a third value indicating a particular time of day associated with the temperature setpoint. For example the second value may represent a temperature that a user desires the particular site to reach and the third value may represent a designated time that the user desires the site to reach the specified temperature.

At block based on the first value an energy management device control template is generated that defines one or more energy management device operating parameters. The operating parameters include a fourth value indicating a particular time of day to initiate operation of the energy management device. For example the third value may represent an appropriate amount of time prior to the user designated time in order to ensure that the site reaches the specified temperature by the user designated time. In an embodiment the template comprises a stored set of name value pairs a stored structured data file a file expressed in XML or another structured markup language or another stored data representation from which parameter values can be obtained.

At block the energy management device control template is sent to the particular energy management device.

In another embodiment behavioral learning module is configured to implement various diagnostics and alarming algorithms based on analyzing statistical trending data. Behavioral learning module may evaluate collected data associated with particular energy management devices particular sites or with an entire company. For example in response to the detecting initiation of a particular temperature setting by a thermostat device at a particular site behavioral learning module may monitor the amount of time the HVAC system is activated and or amount of energy consumed required to heat or cool the site to the particular temperature setting. In an embodiment behavioral learning module may store this information and the information may be analyzed over time in order to evaluate the condition of an HVAC unit at the site. For example the information may be used to provide analytics measuring the amount of time required to raise or lower the temperature at a site per temperature degree the amount of time the HVAC system is in run mode to raise or lower the temperature at a site per temperature degree and the kilowatt hours consumed in order to raise or lower the temperature a site per temperature degree. As the performance of the HVAC unit degrades over time that degradation may be measured based on the time measurements and reported to the user. In other embodiments HVAC degradation may be analyzed based on measuring overall unit run time actual usage of thermowatt and or kilowatt hours or based upon inter company or industry wide metrics of companies or sites with similar characteristics. In an embodiment an alarm may be set to alert the user that the HVAC is underperforming by a specified percentage relative a base point performance level.

At block based on the energy usage data one or more second values are generated indicating one or more of an average amount of time elapsed the HVAC system is activated an average amount of energy consumed to change the temperature of the particular site by one or more degrees and an average amount of time the particular energy management device is activated to change the temperature of the particular site by one or more degrees.

At block it is determined that one or more of the one or more second values exceeds a specified threshold value. At block in response to determining that one or more of the one or more second values exceeds a specified threshold value a notification is generated. For example the alarm may be an alert sent to a user associated with the particular site at which the HVAC unit is located such as an email message a Short Message Service SMS message or an alert displayed on a web portal.

In another embodiment behavioral learning module comprises algorithms for projecting energy costs and energy cost savings. For example degree day measurements for a particular time period may be compared to energy consumption measurements for the same time period to derive a measurement of energy consumption per degree day. The energy consumption per degree day measurement may be compared with other time periods for example same month comparisons year over year or rolling 3 month comparisons year over year in order to determine a projected savings value.

In another embodiment degree day usage based upon forecasted weather conditions and energy consumption per degree day measurements may be used to predict future energy consumption costs for a specified time period. For example a predicted number of degree days for the specified time period may be generated based upon forecasted weather conditions. The predicted number of degree days may be multiplied by the energy consumption per degree day measurement and the cost per kilowatt hour to derive a predicted cost for energy during the specified time period.

In another embodiment alarms may be detected and reported by behavioral learning module based on the occurrence of particular short term trending events. For example behavioral learning module may detect that at a particular site the time period to reach a particular temperature setting is exceptionally long or that a particular site is unable to sustain a temperature because for example an environmental problem such as a window left open at the site or because the HVAC unit is broken. In other embodiments alarm conditions may include detecting that an HVAC unit is set in an off mode detecting that energy management device settings have been manually adjusted and detecting that a Wi Fi based energy management device is no longer communicating. In response to the detection of a specified alarm event behavioral learning module may be configured to generate a specified one or more user alerts.

In another embodiment behavioral learning module comprises algorithms for monitoring manual adjustments to energy management devices at a particular site. The monitoring of manual adjustments may be used to generate analytics that analyze behavior patterns of energy management device users. For example analytics may be generated that indicate days and times of day that manual adjustments are made to energy management devices indicate which particular thermostats are being adjusted and that indicate site occupancy patterns.

In another embodiment behavioral learning module comprises algorithms for implementing a demand response application. For example the demand response application may manage the shedding of load in response to a request by a utility or market price conditions. In an embodiment services such as lighting or HVAC may be reduced according to a preplanned load prioritization scheme during critical time frames.

Computer system may be coupled via bus to a display such as a cathode ray tube CRT for displaying information to a computer user. An input device including alphanumeric and other keys is coupled to bus for communicating information and command selections to processor . Another type of user input device is cursor control such as a mouse a trackball or cursor direction keys for communicating direction information and command selections to processor and for controlling cursor movement on display . This input device typically has two degrees of freedom in two axes a first axis e.g. x and a second axis e.g. y that allows the device to specify positions in a plane.

The invention is related to the use of computer system for implementing the techniques described herein. According to one embodiment of the invention those techniques are performed by computer system in response to processor executing one or more sequences of one or more instructions contained in main memory . Such instructions may be read into main memory from another machine readable medium such as storage device . Execution of the sequences of instructions contained in main memory causes processor to perform the process steps described herein. In alternative embodiments hard wired circuitry may be used in place of or in combination with software instructions to implement the invention. Thus embodiments of the invention are not limited to any specific combination of hardware circuitry and software.

The term machine readable medium as used herein refers to any medium that participates in providing data that causes a machine to operation in a specific fashion. In an embodiment implemented using computer system various machine readable media are involved for example in providing instructions to processor for execution. Such a medium may take many forms including but not limited to storage media and transmission media. Storage media includes both non volatile media and volatile media. Non volatile media includes for example optical or magnetic disks such as storage device . Volatile media includes dynamic memory such as main memory . Transmission media includes coaxial cables copper wire and fiber optics including the wires that comprise bus . Transmission media can also take the form of acoustic or light waves such as those generated during radio wave and infra red data communications. All such media must be tangible to enable the instructions carried by the media to be detected by a physical mechanism that reads the instructions into a machine.

Common forms of machine readable media include for example a floppy disk a flexible disk hard disk magnetic tape or any other magnetic medium a CD ROM any other optical medium punchcards papertape any other physical medium with patterns of holes a RAM a PROM and EPROM a FLASH EPROM any other memory chip or cartridge a carrier wave as described hereinafter or any other medium from which a computer can read.

Various forms of machine readable media may be involved in carrying one or more sequences of one or more instructions to processor for execution. For example the instructions may initially be carried on a magnetic disk of a remote computer. The remote computer can load the instructions into its dynamic memory and send the instructions over a telephone line using a modem. A modem local to computer system can receive the data on the telephone line and use an infra red transmitter to convert the data to an infra red signal. An infra red detector can receive the data carried in the infra red signal and appropriate circuitry can place the data on bus . Bus carries the data to main memory from which processor retrieves and executes the instructions. The instructions received by main memory may optionally be stored on storage device either before or after execution by processor .

Computer system also includes a communication interface coupled to bus . Communication interface provides a two way data communication coupling to a network link that is connected to a local network . For example communication interface may be an integrated services digital network ISDN card or a modem to provide a data communication connection to a corresponding type of telephone line. As another example communication interface may be a local area network LAN card to provide a data communication connection to a compatible LAN. Wireless links may also be implemented. In any such implementation communication interface sends and receives electrical electromagnetic or optical signals that carry digital data streams representing various types of information.

Network link typically provides data communication through one or more networks to other data devices. For example network link may provide a connection through local network to a host computer or to data equipment operated by an Internet Service Provider ISP . ISP in turn provides data communication services through the world wide packet data communication network now commonly referred to as the Internet . Local network and Internet both use electrical electromagnetic or optical signals that carry digital data streams. The signals through the various networks and the signals on network link and through communication interface which carry the digital data to and from computer system are exemplary forms of carrier waves transporting the information.

