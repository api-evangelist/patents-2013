---

title: Architecture for distributing transit data
abstract: Some embodiments provide a program that receives from several data providers route data and graphical representation of route data (e.g., transit systems, schedules, stops, etc.) for different localities. The program also stores this data on a set of servers for later retrieval and transmission to commute applications operating in different localities. The program further retrieves from external vendors location data of transit vehicles that traverse routes based on the route data and schedule data. The location data is for transmitting to commute applications.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09412275&OS=09412275&RS=09412275
owner: APPLE INC.
number: 09412275
owner_city: Cupertino
owner_country: US
publication_date: 20131115
---
This application claims the benefit of U.S. Provisional Patent Application 61 830 055 filed Jun. 1 2013. U.S. Provisional Patent Application 61 830 055 is incorporated herein by reference.

A countless number of cities and regions around the world have public and or private transit systems that provides passenger transport services between locations in the cities and regions and in some cases other cities and regions. Such transit systems use any number of different modes of transit such as buses shuttles trains metros subways airplanes helicopters boats etc.

The majority of the transit systems operate on set schedules that specify pickup and arrival times at stops along the different routes offered by the transit systems. Software developers today have created applications that allow users to view these schedules while the users are mobile and on the move. Many of the applications also provide a map that shows the paths traveled by the transit system s different routes along.

Some embodiments of the invention provide a novel commute application that has several features for viewing routes and schedules for the routes. In some embodiments the commute application provides a novel user interface that presents the routes and the schedules for the routes in an intuitive and fluid manner. For instance the commute application of some embodiments includes several user interface widgets for facilitating the presentation of different routes that are part of different transit systems in a way that different route alternatives can be easily viewed.

In some embodiments the commute application provides a dynamic focus table that dynamically presents schedules for trips along a particular route. For instance when a particular route is selected to view its details the dynamic focus table of some embodiments automatically presents the next upcoming trip along the particular route. In some embodiments the dynamic focus table displays the next upcoming trip information based on the current time of the device on which the commute application is executing and also the current location of the device. In other embodiments this table shows the next upcoming trip based on the current time of the device and not based on the current location of the device.

In some embodiments the dynamic focus table allows a user to quickly scroll through all the trips that are scheduled to travel along the particular route throughout the day or for a certain period of time. In some embodiments the commute application receives updates to the arrival and departure time of transit vehicles at each stop along a route from a set of servers operated by a transit operator or from one or more third parties that collect this information from the transit operator or from equipment that these parties install on the transit vehicles.

The commute application of some embodiments includes a location centric user interface widget that allows a user to browse all the trips along routes that stop at and or pass through a particular location irrespective of the time of the trips the mode of transit used for the trips and the destinations of the trips. For instance in some embodiments the commute application provides a user interface widget that allows a user to select a particular stop and view all the different trips along all the different routes that stop at and or pass through the particular stop. Alternatively or in conjunction the commute application of some embodiments allows the user to view all the different trips along all the different routes that stop at and or pass through the user s location or near the user s location.

The commute application of some embodiments displays different graphical representations of transit systems routes stops and or schedules for different localities. For instance in some embodiments the elements of graphical representations e.g. fonts icons symbols colors shapes etc. in each particular locality are defined differently based on the graphical representations of the transit data e.g. the route data stop data schedule data etc. that the transit system operator or operators use in that locality. This approach allows the commute application to customize the views e.g. map views list views etc. displayed in the commute application to match the graphical representation of the transit data in different localities which in turn causes the application to appear more realistic to the user of the application.

In some embodiments a set of servers receives the graphical representations of the transit systems routes stops and schedules for each locality e.g. each city state etc. from one or more transit system data providers e.g. train operators bus operators etc. of the locality and or third parties that work with these data providers. This set of servers then provides the received graphical representations to specify the route stop and schedule display for a particular locality to a device s commute application when the device is operating in that particular locality.

The preceding Summary is intended to serve as a brief introduction to some embodiments of the invention. It is not meant to be an introduction or overview of all inventive subject matter disclosed in this document. The Detailed Description that follows and the Drawings that are referred to in the Detailed Description will further describe the embodiments described in the Summary as well as other embodiments. Accordingly to understand all the embodiments described by this document a full review of the Summary Detailed Description and the Drawings is needed. Moreover the claimed subject matters are not to be limited by the illustrative details in the Summary Detailed Description and the Drawing but rather are to be defined by the appended claims because the claimed subject matters can be embodied in other specific forms without departing from the spirit of the subject matters.

In the following detailed description of the invention numerous details examples and embodiments of the invention are set forth and described. However it will be clear and apparent to one of ordinary skill in the art that the invention is not limited to the embodiments set forth and that the invention may be practiced without some of the specific details and examples discussed.

Some embodiments of the invention provide a novel commute application that has several features for viewing routes and schedules for the routes of one or more transit systems. In some embodiments the commute application provides a novel user interface that presents the routes and the schedules for the routes in an intuitive and fluid manner. For instance the commute application of some embodiments includes several user interface widgets for facilitating the presentation of different routes that are part of different transit systems in a way that different route alternatives can be easily viewed.

In some embodiments the commute application provides a dynamic focus table that dynamically presents schedules for trips along a particular route. For instance when a particular route is selected to view its details the dynamic focus table of some embodiments automatically presents the next upcoming trip along the particular route. In some embodiments the dynamic focus table allows a user to quickly scroll through all the trips that are scheduled to travel along the particular route throughout the day or in a certain period of time.

The commute application of some embodiments includes a location centric user interface widget that allows a user to browse all the trips along routes that stop at and or pass through a particular location irrespective of the time of the trips the mode of transit used for the trips and the destinations of the trips. For instance in some embodiments the commute application provides a user interface widget that allows a user to select a particular stop and view all the different trips along all the different routes that stop at and or pass through the particular stop. Alternatively or in conjunction the commute application of some embodiments allows the user to view all the different trips along all the different routes that stop at and or pass through the user s location or near the user s location.

In some embodiments a route is a defined set of geographical locations that includes a start location an end location and one or more locations in between the start and end locations. The geographical locations of a route are referred to in some embodiments as stops or stop locations. The route of some embodiments may include only a start location and an end location i.e. the route does not have any stop locations in between the start and end locations . Examples of geographical locations include intersections street addresses points of interest e.g. a subway station a restaurant a coffee shop etc. a set of geographical coordinates e.g. longitude and latitude coordinates and or any other type of information for specifying a geographical location.

The route of some embodiments is traveled along via a mode of transit e.g. a bus a shuttle a train a subway a taxi etc. . In some embodiments a route is part of a transit system that includes a network of routes that are all traveled along using the same mode of transit. One or more routes in the network of routes of a transit system of some embodiments are traveled along using several different modes of transit. Examples of such a route include a bus line of a bus system a subway line of a subway system a train line of a railway system etc.

This application frequently refers to a trip or trips along a route. In some embodiments a trip along a route is defined as travel in one direction along the route via a transit vehicle that starts at one of the stops of the route ends at another stop in the route and may include any number of stops between the start and end stops. In some instances a trip includes only a start stop and an end stop along the route.

The first stage illustrates the GUI displaying a page for viewing different routes. As shown the page of the GUI in the first stage includes display areas and . In some embodiments the display area is for providing status information. As shown the display area in this example is displaying icons indicating the strength of a signal e.g. cellular signal strength being received at a device on which the commute application is operating the strength of the battery powering the device and the current time which may be set manually by a user or automatically by the device.

In the first stage the display area is displaying a label Routes to indicate that the currently displayed page of the GUI is displaying different routes. Also in the first stage the display area is displaying several selectable user interface UI items . Each UI item is for transitioning to displaying a page of the GUI that shows details of a particular route. As illustrated each UI item includes a graphical indicator e.g. an icon that represents the particular route.

In addition the first stage of the GUI shows a user selecting one of the selectable UI items in order to view details of a route. In particular the user in this example is selecting the UI item by using a finger to tap on the UI item displayed on a touchscreen of a device on which the commute application is operating in order to view details of a route labeled Federal. When the commute application receives the selection of the UI item the commute application of some embodiments transitions to displaying a page that shows the details of the Federal route.

The second stage shows the GUI after the user selected the UI item to view the details of the Federal route. As shown the second stage of the GUI shows a page in which the display area is displaying the name of a route for which details are being displayed the Federal route in this example a UI control for displaying the schedules for different trips along the route and a selectable UI item for transitioning back to the page of the GUI displaying the different routes that is illustrated in the first stage .

The UI control includes a selectable UI item for displaying trip information for a trip that is scheduled to run before the trip for which trip information is currently being displayed in the display area . Additionally the UI control includes a selectable UI item for displaying trip information for a trip that is scheduled to run after the trip for which trip information is currently displayed in the display area .

At the second stage the display area is displaying a table that includes the stops along a route selected from the page illustrated in the first stage . The table also displays a schedule for a trip along the selected route. As shown in the second stage the display area is displaying the top portion of the table that shows along the left side in separate rows of the table the first several stops along the Federal route that starts at a stop named Victoria followed by stops named Lincoln 7 Federal at Hill Thurgood Foothill 1 Ocean and April at 7th. In addition the top portion of the table shows along the right side of the corresponding rows in the table several times of the schedule for the first several stops of the trip along the Federal route. As illustrated the trip is scheduled to start at the Thurgood stop at 7 00 AM and follows with stops at Foothill 1 at 7 22 AM Ocean at 7 41 AM and April at 7th at 8 19 AM.

As further described below the commute application of some embodiments displays the stops of the route and their corresponding schedule based on the current time of the device. In some of these embodiments the commute application also accounts for the location of the device on which the commute application is executing in determining what portion of a route to display. Also as illustrated in some of the stops e.g. Victoria Lincoln 7 and Federal at Hill in stage do not have corresponding scheduled time. These stops may not have corresponding scheduled time for different reasons in different embodiments. For instance the dynamic focus table of some embodiments does not provide scheduled time for a stop when the stop is not active the stop is already passed in a particular trip or the stop is not included in a trip that is currently being displayed in the dynamic focus table.

The second stage of the GUI shows the user performing a scroll operation on the table in order to view a different portion of the table. As shown in this example the user is performing the scroll operation by using a finger to touch a location in the display area displayed on the touchscreen and dragging the finger along the touchscreen in an upwards direction relative to the GUI in order to scroll the table upwards and view the bottom of the table. The second stage illustrates that the GUI in this example provides the user a single point in the commute application at which to view the stops at the start and end of a particular route and any stops in between the start and end stops. When the commute application of some embodiments receives the described gesture input for scrolling the table the commute application scrolls the table upwards with respect to the display area to display the bottom portion of the table.

The third stage illustrates the GUI after the user performed the scrolling operation on the table to view the bottom portion of the table. In the third stage the display area is displaying the bottom portion of the table which shows along the left side in separate rows of the table the last two stops named Wilshire at Bundy and Pico at 17th that follow the April at 7th stop along the Federal route. The bottom portion of the table also shows along the right side of the corresponding row in the table the time of the schedule for the last stop of the trip along the Federal route. As shown the trip is scheduled to end at the Pico at 17th stop at 9 29 AM.

Additionally the third stage of the GUI shows the user selecting one of the selectable UI items of the UI control to view a schedule for a different trip along the Federal route. Specifically the user in the third stage is selecting the UI item of the UI control by using a finger to tap the UI item displayed on the touchscreen in order to view a schedule for a different trip along the Federal route that is scheduled to run after the trip currently displayed in the third stage . When the commute application receives the selection of the UI item the commute application of some embodiments replaces the schedule of the current trip displayed in the table with a schedule for a different trip along the Federal route that is scheduled to run after the trip currently displayed in the third stage . In some embodiments upon receiving the selection of the UI item the commute application replaces the table currently displayed in the display area with a table that includes the same stops along the Federal route and a schedule for a different trip along the Federal route that is scheduled to run after the trip currently displayed in the third stage .

Next the fourth stage shows the GUI after the user selected the UI item to view a scheduled time for a different trip along the Federal route. As shown the fourth stage shows the display area is displaying the bottom portion of the table illustrated in the second and third stages and except the table in the fourth stage includes the schedule for a trip along the Federal route that is scheduled to run after the trip displayed in the third stage . In this example the bottom portion of the table shows along the left side in separate rows of the table the same stops along the Federal route that are illustrated in the third stage . The bottom portion of the table also shows along the right side of the corresponding rows in the table several times of the schedule for the last several stops of the trip along the Federal route. As shown the last several stops of the trip in this example is scheduled to stop at the Thurgood stop at 7 55 AM the Foothill 1 stop at 8 12 AM the Wilshire at Bundy stop at 9 33 AM and the Pico at 17th stop at 10 19 AM.

The fourth stage of the GUI also shows the user selecting the selectable UI item to view the different routes shown in the first stage . As shown the user in the fourth stage is selecting the UI item by using a finger to tap the UI item displayed on the touchscreen in order to return to the page illustrated in the first stage displaying different routes. Upon receiving the selection of the UI item the commute application of some embodiments transitions to displaying the page illustrated in the first stage .

The fifth stage illustrates the GUI after the user selected the UI item to view the page displaying the different routes illustrated in the first stage . For the example shown in the fifth stage the user is selecting the UI item by using a finger to tap on the UI item displayed on the touchscreen in order to view details of a route labeled Rodeo. When the commute application receives the selection of the UI item the commute application of some embodiments transitions to displaying a page that shows the details of the Rodeo route.

Finally the sixth stage shows the GUI after the user selected the UI item to view the details of the Rodeo route. As illustrated in the sixth stage the GUI is displaying a page in which the display area is displaying the name of a route for which details are being displayed the Rodeo route in this example as well as the UI control and the selectable UI item .

In addition the display area in the sixth stage is displaying a table that includes the stops along the Rodeo route and a schedule for a trip along the Rodeo route. Specifically the table shows along the left side in separate rows of the table the stops along the Rodeo route that starts at a stop named Lambert continues with stops named Maroon 3 Victoria Chester Creek Fleet at 2nd Clarke at Gable and ends at a stop named Whitefield. The table in the sixth stage also shows along the right side of the corresponding rows in the table times of the schedule for the stops of the trip along the Rodeo route. As illustrated the trip is scheduled to start at the Lambert stop at 7 03 AM follows with a stop at Fleet at 2nd at 7 33 AM and ends at the Clarke and Gable stop at 8 08 AM.

The first stage of the GUI is the same as that GUI illustrated in the first stage described above by reference to . That is the first stage shows a page of the GUI for viewing different routes. Specifically the display area is displaying icons indicating the strength of a signal being received at a device on which the commute application is operating the strength of the battery powering the device and the current time. Also in the first stage the display area is displaying the label Routes and the display area is displaying the selectable UI items 

Similar to the first stage of the first stage shows a user selecting the UI item by using a finger to tap on the UI item displayed on the touchscreen of the device on which the commute application is operating in order to view details of a route labeled Federal. Upon receiving the selection of the UI item the commute application of some embodiments transitions to a page displaying the details of the Federal route.

The second stage shows the GUI after the user selected the UI item to view the details of the Federal route. As shown the second stage of the GUI shows a page in which the display area is displaying the name of a route for which details are being displayed the Federal route in this example and the selectable UI item .

The display area in this example is for displaying a focus table that includes two columns and . The column is for displaying stops along a route selected from the page for displaying different routes illustrated in the first stage . The column is for displaying a schedule for a trip along the selected route. As illustrated the color by which column is represented in the focus table is different than the color of the other column . In some embodiments the difference in representation of columns of a focus table indicates that other user inputs e.g. scrolling up down etc. are available to receive more trips information along a certain route. As shown the display area is displaying the top portion of a focus table that includes the stops along the Federal route which the user selected in the first stage and a schedule for a trip along the Federal route. Specifically the top portion of the focus table is displaying in separate rows of the column shows the same first several stops along the Federal route that are illustrated in the second stage of . The top portion of the focus table is also displaying in corresponding rows of the column the times of the schedule for the first several stops of the same trip along the Federal route as the times illustrated in the second stage of .

The second stage of the GUI also shows the user performing a scroll operation on the focus table in order to view a different portion of the focus table. The user in this example is performing the scroll operation by using a finger to touch a location in the display area displayed on the touchscreen and dragging the finger along the touchscreen in an upwards direction relative to the GUI in order to scroll to the focus table upwards and view the bottom of the focus table. When the commute application of some embodiments receives the described gesture input for scrolling the focus table the commute application scrolls the focus table upwards with respect to the display area to display the bottom portion of the focus table.

The third stage illustrates the GUI after the user performed the scrolling operation on the focus table to view the bottom portion of the focus table. In the third stage the display area is displaying the bottom portion of the focus table which shows in separate rows of the column the last two stops of the same trip along the Federal Route illustrated in the third stage of . Additionally the bottom portion of the focus table shows in a corresponding row of the column the time of the schedule for the last stop of the same trip along the Federal route shown in the third stage of .

In addition the third stage of the GUI shows the user performing a scroll operation on the column of the focus table to view a schedule for a different trip along the Federal route. Specifically the user in the third stage is performing the scroll operation by using a finger to touch a location on the column of the focus table in the display area that is displayed on the touchscreen and dragging the finger along the touchscreen in a leftward direction relative to the GUI in order to scroll a schedule for a different trip into view in the column .

In some embodiments when the commute application receives the described gesture input for scrolling to the schedule for a different trip the commute application slides the schedule for the current trip displayed in the column out of view while sliding a schedule for a different trip along the Federal route into view. For this example the commute application slides the schedules into and out of view such that the schedule for the current trip displayed in the column appears to slide underneath the column while the schedule for the different trip along the Federal route appears to slide out from the right side of the column towards the left side of the column .

Next the fourth stage shows the GUI after the user performed the scrolling operation on the column to view a scheduled time for a different trip along the Federal route. In the fourth stage the display area is displaying the bottom portion of the focus table illustrated in the second and third stages and except the focus table in the fourth stage includes the schedule for a trip along the Federal route that is scheduled to run after the trip displayed in the third stage . In this example the bottom portion of the focus table in separate rows of the column the same stops along the Federal route that are illustrated in the third stage . Additionally the bottom portion of the focus table also shows in separate rows of the column several times of the schedule for the last several stops of the same trip along the Federal route illustrated in the fourth stage of .

The fourth stage of the GUI additionally shows the user selecting the selectable UI item to view the different routes shown in the first stage . As illustrated the user in the fourth stage is selecting the UI item by using a finger to tap the UI item displayed on the touchscreen in order to return to the page illustrated in the first stage displaying different routes. In some embodiments when the commute application receives the selection of the UI item the commute application transitions to displaying the page shown in the first stage .

The fifth stage illustrates the GUI after the user selected the UI item to view the page displaying the different routes illustrated in the first stage . In addition the fifth stage of the GUI illustrates the user selecting another one of the selectable UI items in order to view details of a different route. The user in this example is selecting the UI item by using a finger to tap on the UI item displayed on the touchscreen in order to view details of a route labeled Rodeo. In some embodiments upon receiving the selection of the UI item the commute application transitions to displaying a page that shows the details of the Rodeo route.

Finally the sixth stage shows the GUI after the user selected the UI item to view the details of the Rodeo route. As illustrated the GUI is displaying a page in which the display areas is displaying the name of a route for which details are being displayed the Rodeo route in this example and the selectable UI item .

The sixth stage also shows the display area displaying a focus table that includes the stops along the Rodeo route and a schedule for a trip along the Rodeo route. Specifically the focus table shows in separate rows of the column the same stops along the Rodeo route that are illustrated in the sixth stage of . Additionally the focus table in the sixth stage shows in corresponding rows of the column the times of the schedule for the stops of the same trip along the Rodeo route illustrated in the sixth stage of .

While illustrates an example of a focus table in which stops of a route and a schedule for a trip along the route are displayed in different columns the commute application of some embodiments provides a focus table in which stops of a route and a schedule for a trip along the route are displayed in different rows. In some such embodiments the schedules for different trips along the route are scrollable e.g. along a vertical direction through the row for displaying a schedule of a trip along the route.

The first stage illustrates the GUI displaying a page for creating a saved route. As shown in the first stage the page of the GUI includes the display areas and . The display area in this stage is displaying the same information that is displayed in the display area described above by reference to . The display area is displaying in the first stage a label Federal to indicate that the information currently displayed on page of the GUI is for the Federal route a selectable UI item for transitioning back to a page of the GUI displaying different routes e.g. the page of the GUI illustrated in the first stages of and a selectable UI item for storing a saved route.

In this example the display area is for displaying a table that includes stops of a route a movable UI control for selecting a stop in the route as a starting point stop of a saved route and a movable UI control not shown in the first stage for selecting a stop in the route as an ending point stop of the saved route. For this example the UI control is positioned at a default location at the top of the table and the UI control is positioned at a default location at the bottom of the table. In some embodiments the UI controls and are referred to as stop pickers.

Additionally the first stage of the GUI shows a user moving the UI control to select a starting point stop for a saved route. In particular the user in this example moves the UI control by using a finger to touch the UI control displayed on the touchscreen and dragging the finger along the touchscreen in a downward direction relative to the GUI to a stop in the table displayed on the touchscreen in order to select the stop as the starting point stop of the saved route. When the commute application of some embodiments receives the described gesture input to select a stop in the table the commute application moves the UI control downwards with respect to the display area and over the stop in the table.

The second stage illustrates the GUI after the user moved the UI control to select a stop in the Federal route. As shown the user in this example moved the UI control over the Federal at Hill stop in the table to select the stop as the starting point stop of the saved route.

The second stage of the GUI also shows the user performing a scroll operation on the table in order to view a different portion of the table. For this example the user is performing the scroll operation by using a finger to touch a location in the display area displayed on the touchscreen and dragging the finger along the touchscreen in an upwards direction relative to the GUI in order to scroll the table upwards and view the bottom of the table. In some embodiments upon receiving the described gesture input for scrolling the table the commute application scrolls the table upwards with respect to the display area to display the bottom portion of the table.

The third stage illustrates the GUI after the user performed the scrolling operation on the table to view the bottom portion of the table. As shown the display area is displaying the bottom portion of the table which shows in separate rows of the table the last several stops that follow the April at 7th stop along the Federal route. The last several stops in this example are named Wilshire at Bundy Pico at 17 Filmore at Jackson Ondulando Campus 30th at Church and Castro at 24th. In addition the third stage shows the display area displaying the UI control which is positioned at the bottom of the table.

The third stage of the GUI further illustrates the user moving the UI control to select an ending point stop for the saved route. For this example the user moves the UI control by using a finger to touch the UI control displayed on the touchscreen and dragging the finger along the touchscreen in an upward direction relative to the GUI to a stop in the table displayed on the touchscreen in order to select the stop as the ending point stop of the saved route. When the commute application receives the described gesture input to select a stop in the table the commute application of some embodiments moves the UI control upwards along the display area and over the stop in the table.

The fourth stage shows the user finished with moving the UI control to the Ondulando stop in order to select the ending point stop in Federal route. In this example the user moved the UI control over the Ondulando stop in the table to select the stop as the ending point stop of the saved route.

The fourth stage of the GUI also illustrates the user performing a scroll operation on the table in order to view a different portion of the table. For this example the user is performing the scroll operation by using a finger to touch a location in the display area displayed on the touchscreen and dragging the finger along the touchscreen in an upwards direction relative to the GUI in order to scroll the table upwards and view the bottom of the table. In some embodiments upon receiving the described gesture input for scrolling the table the commute application scrolls the table upwards with respect to the display area to display the bottom portion of the table.

Next the fifth stage shows the user selecting the selectable UI item to store the saved route according to the stops selected by the UI controls and . The user in this example is selecting the UI item by using a finger to tap the UI item displayed on the touchscreen in order store the saved route. Upon receiving the selection of the UI item the commute application of some embodiments stores e.g. in a storage on the device the saved route specifying the Federal at Hill stop in the Federal route as the starting point stop of the saved route and the Ondulando stop in the Federal route as the ending point stop of the saved route. After storing the saved route the commute application of some embodiments transitions to displaying a page that displays a list of saved routes.

Finally the sixth stage illustrates the GUI after the user selected the UI item to create the saved route and the commute application transitioned to a page displaying a list of saved routes. As illustrated the GUI is displaying a page in which the display area is displaying a label Saved Routes to indicate that the currently displayed page of the GUI is displaying the current saved routes created and stored by the commute application.

As shown the display area in the sixth stage is displaying information describing saved routes stored on the device. In this example the saved route stored in the fifth stage is the only saved route stored on the device. As shown the information describing the saved route includes an icon indicating the route from which the saved route was created the Federal route in this example the starting and ending point stops of the saved route and different countdown times for different trips along the saved route. In some embodiments as shown in this example the countdown times for the next three trips along the saved route are displayed. A countdown time in some embodiments indicates an amount of time until transit vehicles will arrive at the starting point stop of the saved route the Federal at Hill stop in this example based on the current time of the device. Specifically the countdown times for the saved route in this example indicate that transit vehicles will arrive at the Federal at Hill stop in 5 minutes 15 minutes and 22 minutes. In some embodiments the commute application constantly or at defined intervals updates the countdown times displayed in the display area . In some embodiments the commute application updates the countdown times based on the updates that the commute application receives on the arrival and departure time of transit vehicles at each stop along a route from a set of servers operated by a transit operator or from one or more third parties that collect this information from the transit operator or from equipment that these parties install on the transit vehicles.

A general view of a commute application of some embodiments and how the application provides different routes and schedules for trips along the different routes a focus table feature and a feature for saving a route were described above by reference to . Several more detailed embodiments of the invention are described below. Section I describes example features of a commute application of some embodiments. Next Section II describes Dynamic Focus Table feature provided by the commute application of some embodiments. Section III then describes details and examples of Favorites feature provided by the commute application in some embodiments. Section IV presents several other features provided by the commute application of some embodiments. Section V describes the server side features and how data is provided to a commute application of some embodiments. Section VI describes an electronic system with which some embodiments of the invention are implemented.

The first stage of the GUI illustrates a Favorites feature of the commute application. As shown the first stage shows a page of the GUI for displaying the current saved routes created and stored by the commute application. As shown the page of the GUI in the first stage includes display areas and . The display area in this stage is displaying the same information that is displayed in the display area described above by reference to . The display area is displaying in the first stage a label Favorites to indicate that the currently displayed page of the GUI is for the Favorites feature a selectable UI item for editing e.g. modifying deleting etc. saved routes displayed in the display area and a selectable UI item for transitioning to a page of the GUI for creating a saved route.

In this example the display area is for displaying information describing different saved routes stored on the device in different selectable rows. In this example the display area is displaying information describing one saved route in a selectable row that includes an icon indicating the route from which the saved route was created the starting and ending point stops of the saved route and different countdown times for different trips along the saved route. In some embodiments as shown in this example the countdown times for the next three trips along the saved route are displayed. Specifically the countdown times for the saved route in this example indicate that transit vehicles will arrive at the State stop in 5 minutes 9 minutes and 20 minutes. The commute application of some embodiments constantly or at defined intervals updates the countdown times displayed in the display area .

The selectable UI items are for navigating to a page of the GUI for a particular feature. In particular when a user is using a particular feature of the commute application the UI items allow the user to quickly access any of the other features. In this example the UI item is for navigating to a page for the Favorites feature the UI item is for navigating to a page for a Routes feature the UI item is for navigating to a page for an Advisories feature and the UI item is for navigating to a page for an Info feature. The Routes feature Advisories feature and Info feature will be describe below.

The first stage of the GUI also shows a user selecting the UI item to navigate to a page of the GUI for the Routes feature. In this example the user is selecting the UI item by using a finger to tap on the UI item displayed on the touchscreen of the device on which the commute application is operating in order to view the page for the Routes feature. When the commute application receives the selection of the UI item the commute application of some embodiments transitions to displaying a page for the Routes feature.

The second stage shows the GUI after the user selected the UI item to view the page for the Routes feature. As shown the second stage of the GUI is similar to the first stage of the GUI for viewing different routes as described above by reference to . Specifically the second stage shows the display area displaying icons indicating the strength of a signal the strength of the battery and the current time the display area displaying the label Routes to indicate that the currently displayed page of the GUI is displaying different routes and the display area displaying the selectable UI items . In addition the display area in the second stage is displaying the selectable UI items at the bottom of the display area .

The second stage of the GUI also illustrates the user selecting the UI item to navigate to a page of the GUI for the Advisories feature. The user for this example is selecting the UI item by using a finger to tap on the UI item displayed on the touchscreen in order to view the page for the Advisories feature. Upon receiving the selection of the UI item the commute application of some embodiments transitions to displaying a page for the Advisories feature.

The third stage illustrates the GUI after the user selected the UI item to view the page for the Advisories feature. In the third stage the display area is displaying the label Advisories to indicate that the currently displayed page of the GUI is displaying a list of notifications. The display area in the third stage is displaying a notification received on Mar. 27 2013 at 5 30 AM indicating that a transit vehicle for the trip DC0630 traveling along route B is running 10 minutes late. Additionally the display area is displaying the selectable UI items at the bottom of the display area .

The third stage of the GUI also shows the user selecting the UI item to navigate to a page of the GUI for the Info feature. The user in this example is selecting the UI item by using a finger to tap on the UI item displayed on the touchscreen in order to view the page for the Info feature. In some embodiments when the commute application receives the selection of the UI item the commute application transitions to displaying a page for the Info feature.

The fourth stage illustrates the GUI after the user selected the UI item to view the page for the Info feature. As shown in the fourth stage the display area is displaying the label Info to indicate that the currently displayed page of the GUI is displaying information related to the commute application as well as other information. The fourth stage also shows the display area displaying contact information advice for riders and information about how to get around. The display area is also displaying the selectable UI items at the bottom of the display area .

As described above the commute application of some embodiments provides several different features for viewing different routes portions of different routes and schedules for trips along the different routes. The following section will describe details examples and embodiments of a Routes feature provided by the commute application of some embodiments.

The first stage is similar to the first stage of except the first stage of includes the selectable UI items arranged at the bottom of the display area . As shown the UI item is highlighted to indicate that the currently displayed page of the GUI is for the Routes feature. In addition the first stage shows in this example a user selecting the UI item to view the details of the Federal route in the same manner as that described above by reference to the first stage of .

The second stage is similar to the second stage of . The second stage additionally shows that the dynamic focus table displayed in the display area includes a status circle adjacent to the left side of each stop in the dynamic focus table to graphically indicate the state or status of the stop. Also each status circle is connected to adjacent status circles with a line. In some embodiments each line connecting two status circles has two different appearances that represent two different states of the connection between the two stops that the line is connecting. The two different appearances of each line include in some embodiments 1 a colored e.g. filled line to indicate that the connection is active and 2 a grayed out circle e.g. a grayed out version of the colored line to indicate that the connection is inactive.

In some embodiments each status circle has three different appearances that represent three different states of the stop to which the status circle is associated. The three different appearances of each status circle include in some embodiments 1 an empty e.g. non filled circle to indicate that the stop is not included in a trip that is currently being displayed in the dynamic focus table 2 a colored e.g. filled circle to indicate that the stop is included in a trip that is currently being displayed in the dynamic focus table and that the stop is coming up and 3 a grayed out circle e.g. a grayed out version of the colored circle to indicate that the stop is included in a trip that is currently being displayed in the dynamic focus table and that the stop has been passed. As shown in the second stage the status circles for the Victoria Lincoln 7 and Federal at Hill stops are empty and the status circles for the Thurgood Foothill 1 Ocean and April at 7th stops are colored.

Additionally the second stage of the GUI also shows the user performing a scroll operation on the focus table in order to view a different portion of the focus table in the same manner as that described above by reference to the second stage of .

The third stage is similar to the third stage of but the third stage of illustrates that the dynamic focus table displayed in the display area includes status circles adjacent to the stops as explained above. As illustrated the status circles for the Wilshire at Bundy and Pico at 17th stops are empty. The third stage also shows the user performing a scroll operation on the column of the focus table to view a schedule for a different trip along the Federal route in the same fashion as that described above by reference to the third stage of .

As described above when the commute application of some embodiments receives the gesture input for scrolling to the schedule for a different trip the commute application slides the schedule for the current trip displayed in the column out of view while sliding a schedule for a different trip along the Federal route into view. In some embodiments the commute application also updates the status circles of each stop based on the schedule for the different trip along the Federal route that is sliding into view.

The fourth stage is similar to the fourth stage of . The fourth stage of also illustrates that the focus table displayed in the display area includes status circles adjacent to the stops. The commute application for this example updated the status circles of the stops along the Federal route to reflect the schedule for the trip displayed in the dynamic focus table. As shown the status circles for the Federal at Hill Ocean April at 7th and Pico at 17th stops are empty to indicate that these stops are not included in the trip currently being displayed in the dynamic focus table. The Thurgood Foothill 1 Wilshire at Bundy and Pico at 17th stops are colored to indicate that the stops are included in the trip currently being displayed in the dynamic focus table. The fourth stage additionally illustrates the user selecting the selectable UI item to view the different routes shown in the first stage in the same manner as that described above by reference to the fourth stage of .

The fifth stage is similar to the fifth stage of except the fifth stage of also shows the selectable UI items arranged at the bottom of the display area . In addition the fifth stage shows the user selecting the UI item in the same fashion as that described above by reference to the fifth stage of .

The sixth stage is similar to the sixth stage of but the sixth stage of shows that the focus table displayed in the display area includes status circles adjacent to the stops. As shown the status circles for the Maroon 3 Victoria Chester Creek and Whitefield stops are empty and the status circles for the Lambert Fleet at 2nd and Clarke and Gable stops are colored.

For this example the routes Bundy Emerson and Federal are arranged under a banner labeled Los Angeles to indicate that these routes belong to the Los Angeles area. The Rodeo route is arranged under a banner labeled Orange County to indicate that the Rodeo route belongs to the Orange County area. Lastly the routes 16th Avenue and Campus are arranged under a banner labeled Riverside to indicate that these routes belong to the Riverside area.

The first stage illustrates the GUI at the third stage of and a corresponding perspective view of the dynamic focus table in the GUI . As shown the dynamic focus table of some embodiments includes two components a stationary panel and a movable panel . The right side of the panel is transparent e.g. an open window allowing portions of the panel to be displayed through the right side of the panel . The left side of the panel is for displaying metadata regarding a trip e.g. statuses of stops in the route in the panel that is being displayed through the right side of the panel . As shown the left side of the panel in the first stage is displaying metadata regarding Trip 1 along the Federal route since the schedule for Trip 1 is being displayed through the right side of the panel . The metadata in this example includes the statuses of the status circles for the stops along the Federal route based on Trip 1. The movable panel includes schedules for different trips along a particular route. As shown in the first stage the movable panel includes schedules for Trip 1 and Trip 2 along the Federal route. The schedule of some embodiments includes times for each stop along a particular trip.

In some embodiments the commute application moves the panel according to input that the commute application receives e.g. the input described above by reference to the third stage of to view a schedule for a different trip. When the schedule in the panel displayed through the right side of the panel changes the commute application of some embodiments updates the left side of the panel to display the metadata regarding the schedule in the panel that is displayed through the right side of the panel .

The second stage illustrates the GUI at the fourth stage of and the corresponding perspective view of the dynamic focus table in the GUI . For this example commute application moved the panel towards the left so that the schedule for Trip 2 is displayed through the right side of the panel . In addition the commute application updated the left side of the panel to display metadata regarding Trip 2. As shown in the GUI in the second stage the status circles are updated based on the schedule for the trip being displayed in the dynamic focus table.

The above described illustrates a dynamic focus table where the panel remains still while the panel moves relative to the panel to display schedules for different trips along a particular route. In some embodiments the commute application instead moves the panel with respect to the panel while keeping the panel fixed in order to display different schedules in the panel through the right side of the panel .

As shown in the route storage is for storing metadata for different routes. Examples of such metadata include the names of stops along a route a geographical area to which the route belongs a graphical representation e.g. icons of the route as well as other information describing the route. As illustrated the route storage is storing metadata for Route 1 Route 2 Route 3 etc.

The schedule storage is for storing schedule data for different trips along the different routes stored in the route storage . The schedule data for a trip along a route in some embodiments includes a time for each of the stops on the trip along the route. As shown in the schedule storage in this example is storing schedule information for Schedule A Schedule B Schedule C Schedule D etc. for Route 1 Schedule A Schedule B Schedule C Schedule D etc. for Route 2 etc.

In some embodiments the schedule data for a trip along a route also includes status information for the status circles in the dynamic focus table. The commute application of some such embodiments uses the status information in the schedule data for a trip to update the metadata displayed in left side of the panel when the schedule for the trip in the panel is moved into view and displayed through the panel .

While describes the data for the dynamic focus table of some embodiments stored in two separate storages one of ordinary skill in the art will understand that the data may be stored differently in different embodiments. For instance in some embodiments the data fort the dynamic focus table is stored in a single physical storage while in other embodiments the routes and or the schedule storage is stored across several physical storages.

The first stage is the same as the first stage of . That is the first stage illustrates the GUI displaying a page for viewing different routes and a user selecting the UI item in order to view details of a route labeled Federal.

The second stage is similar to the second stage of except the dynamic focus table in the second stage is displaying the schedule for a different trip along the Federal route. For this example the schedule displayed in the dynamic focus table illustrated in the second stage is the schedule for a default trip along the Federal route that the commute application initially displays in the dynamic focus table. In some embodiments the default trip is defined as the first trip along a particular route scheduled for the current day. The default trip can be defined differently in different embodiments. As shown the schedule for the default trip along the Federal route in this example is scheduled to start at the Victoria stop at 7 00 AM and follows with stops at Federal at Hill at 7 01 AM Thurgood at 7 10 AM Foothill 1 at 7 22 AM Ocean at 7 41 AM and April at 7th at 8 19 AM. Accordingly the status circles illustrated in the second stage for the Lincoln 7 stop is empty and the status circles for the Victoria Federal at Hill Thurgood Foothill 1 Ocean and April at 7th stops are colored.

After displaying the schedule for the default trip in the dynamic focus table the commute application of some embodiments automatically shifts to displaying in the dynamic focus table the schedule for a trip that is scheduled to run next based on the current time of the device 10 25 AM in this example . As indicated by an arrow the second stage also shows the commute application beginning to slide the schedule for the default trip towards the left side of the column and out of view.

The third stage of the GUI illustrates the dynamic focus table in the middle of shifting to the schedule for the trip that is scheduled to run next as indicated by a pair of arrows. As shown a portion of a schedule is sliding out of view of the column and a portion of another schedule is sliding into view of the column .

The fourth stage of the GUI illustrates the dynamic focus table after the schedule for the trip that is scheduled to run next has shifted into view of the column . As illustrated the schedule for the trip along the Federal route is scheduled to start at the Victoria stop at 10 45 AM and follows with stops at Lincoln 7 at 11 02 AM Federal at Hill at 11 21 AM and Ocean at 12 01 PM. Accordingly the status circles illustrated in the fourth stage for the Thurgood Foothill 1 and April at 7th stops are empty and the status circles for the Victoria Lincoln 7 Federal at Hill and Ocean stops are colored.

The fifth stage of the GUI after the current time of the device has passed the time of a stop in the schedule for the trip displayed in the dynamic focus table. When the commute application of some embodiments detects that the current time of the device has passed a time in the schedule for a trip displayed in the dynamic focus table the commute application modifies the stop and the stop s status circle in the dynamic focus table to indicate that the stop has been passed and is no longer active. In this example the commute application detected that the current time of the device 10 46 AM in this example has passed the time scheduled for the Victoria stop 10 45 Am in this example and indicates that the stop has been passed and is no longer active by graying out the stop and the stop s status circle in the dynamic focus table.

While illustrates the dynamic focus table initially displaying the schedule for a default trip and then shifting to the schedule for a trip that is scheduled to run next based on the current time of the device the commute application of some embodiments does not display the schedule for the default trip and the shift to the schedule for the trip that is scheduled to run next based on the current time of the device. Rather in some such embodiments commute application transitions to displaying the dynamic focus table illustrated in the fourth stage when the commute application receives the selection of the UI item the first stage .

The first stage is the same as the first stage of . That is the first stage illustrates the GUI displaying a page for viewing different routes and a user selecting the UI item in order to view details of a route labeled Federal.

The second stage of the GUI illustrates the dynamic focus table showing the same stops and the schedule for the same trip illustrated in the second stage of . In some embodiments after the commute application displays the dynamic focus table the commute application determines the location of the device e.g. via global positioning system GPS location data Wi Fi based positioning system location data cellular tower data etc. and automatically moves the dynamic focus table with respect to the display area so that the stop in the current trip nearest to the location of the device shifts to the top of the display area . For this example the commute application has determined that the location of the device is nearest to the Thurgood stop and is starting to shift the dynamic focus table as indicated by the two arrows.

The third stage shows the GUI after the commute application finished shifting the stop in the current trip nearest to the location of the device to the top of the display area . As noted above the commute application in this example determined that the stop in the current trip nearest to the location of the device is the Thurgood stop. As shown the third stage shows the Thurgood stop positioned at the top of the display area .

While illustrates the dynamic focus table shifting to the top of the display area the stop in the current trip nearest to the location of the device the commute application of some embodiments instead shifts the first stop in the current trip to the top. Different embodiments of the commute application use additional and or different criteria to determine the stop in the current trip to automatically shift to the top.

The first stage is the same as the first stage of . That is the first stage illustrates the GUI displaying a page for viewing different routes and a user selecting the UI item in order to view details of a route labeled Federal.

The second stage is similar to the second stage of except the current time of the device for this example is 10 25 AM. The GUI illustrates the dynamic focus table showing the same stops along the Federal route and the schedule for the same trip along the Federal route. Additionally the commute application in this example has determined that the location of the device is nearest to the Thurgood stop and is starting to shift the dynamic focus table in order to display the stop in the current trip nearest to the location of the device at the top of the display area . The start of the shifting of the dynamic focus table is indicated in the second stage by two arrows.

The third stage shows the GUI after the commute application finished shifting the stop in the current trip nearest to the location of the device shifts to the top of the display area . As mentioned above in this example the commute application determined that the stop in the current trip nearest to the location of the device is the Thurgood stop. As illustrated in the third stage the Thurgood stop positioned at the top of the display area .

For this example the schedule displayed in the dynamic focus table is the schedule for a default trip along the Federal route that the commute application initially displays. After displaying the schedule for the default trip in the dynamic focus table and shifting the stop in the current trip nearest to the location of the device shifts to the top of the display area the commute application of some embodiments automatically shifts to displaying in the dynamic focus table the schedule for a trip that is scheduled to run next based on the current time of the device 10 25 AM in this example . As indicated by two arrows the third stage illustrates the commute application has started and is in the middle of shifting the dynamic focus table to the schedule for the trip that is scheduled to run next. As shown a portion of a schedule is sliding out of view of the column and a portion of another schedule is sliding into view of the column .

The fourth stage of the GUI illustrates the dynamic focus table after the schedule for the trip that is scheduled to run next has shifted into view of the column . As illustrated the schedule for the trip along the Federal route is scheduled to start at the Thurgood stop at 11 21 AM and follows with stops at April at 7th at 12 40 PM Pico at 17th at 12 59 PM and Plumber at 1 14 PM. Therefore the status circles illustrated in the fourth stage for the Foothill 1 Ocean and Wilshire at Bundy stops are empty and the status circles for the Thurgood April at 7th Pico at 17th and Plumber stops are colored.

While illustrates the commute application initially displaying in the dynamic focus table the schedule for a default trip shifting the stop in the default trip nearest to the location of the device to the top of the display area and then shifting to the schedule for a trip that is scheduled to run next based on the current time of the device the commute application of some embodiments performs these operations differently to achieve the results displayed in the dynamic focus table illustrated in the fourth stage . For instance the commute application of some embodiments identifies the schedule for a trip that is scheduled to run next based on the current time of the device and then concurrently shifts the stop in that trip nearest to the location of the device to the top of the display area while shifting to the schedule for that trip. In some embodiments the commute application shifts to the schedule for a trip that is scheduled to run next based on the current time of the device before shifting the stop in such a trip nearest to the location of the device to the top of the display area .

The above described show several features that function based on the location of a device on which the commute application is operating and the time of the device. One of ordinary skill in the art will understand that the commute application of some embodiments can have additional and or different location based features. For instance in some embodiments the commute application provides information related to a particular stop when the commute application determines that the location of the device on which the commute application is executing is near the particular stop.

The first stage of is similar to the first stage of except the current time of the device is 8 00 AM. As shown the first stage illustrates the GUI displaying a page for viewing different routes and a user selecting the UI item in order to view details of a route labeled Federal.

The second stage shows the GUI after the user selected the UI item to view the details of the Federal route. As shown the second stage of the GUI shows a page in which the display area is displaying the name of a route for which details are being displayed the Federal route in this example and the UI item .

At the second stage the dynamic focus table displayed in the display area includes the stops along the Federal route that starts at a stop named Thurgood followed by stops named Foothill 1 Ocean April at 7th Culver at Tree Fairview at 17th and Ashland. In this example a group of the stops Thurgood Foothill 1 Ocean and April at 7th are geographically located at or near the city labeled Santa Monica while a group of the stops Culver at Tree Fairview at 17th and Ashland are geographically located at or near the city labeled Culver City.

In this example the user is located near Thurgood stop in Santa Monica therefore the dynamic focus table is displaying a schedule for a trip along the Federal route that is scheduled to start at the Thurgood stop at 8 15 AM and follows with stops at Foothill 1 at 8 23 AM Ocean at 8 31 AM April at 7th at 8 43 AM Culver at Tree at 9 25 AM Fairview at 17th at 9 31 AM and Ashland at 9 38 AM. The longer interval between the April at 7th stop and the Culver at Tree stop compared to the shorter intervals between scheduled times at the Thurgood Foothill 1 Ocean and April at 7th stops and between scheduled times at the Culver at Tree Fairview at 17th and Ashland stops demonstrates that the group of the stops and the group of the stops are geographically far apart and located in different areas.

The third stage of the GUI shows the user selecting the selectable UI item to view the different routes shown in the first stage . As illustrated in this example the user is selecting the UI item by using a finger to tap the UI item displayed on the touchscreen in order to return to the page illustrated in the first stage displaying different routes. When the commute application receives the selection of the UI item the commute application of some embodiments transitions to displaying the page shown in the first stage .

The fourth stage illustrates the GUI after the user selected the UI item to view the page displaying the different routes illustrated in the first stage . As indicated in an amount of time lapses between the third and fourth stages and . Specifically the current time of the device displayed in the fourth stage indicates that seven hours and twenty five minutes has passed between the third and fourth stages and .

The fourth stage also shows the user selecting the UI item in the same fashion described above by reference to the first stage . When the commute application receives the selection of the UI item the commute application of some embodiments transitions to displaying a page that shows the details of the Federal route.

The fifth stage shows the GUI after the user selected the UI item to view the details of the Federal route. In some embodiments when the commute application receives a selection of a route from a page of the GUI displaying different routes for selection e.g. the stages and the commute application identifies the current time of the device. The commute application of some embodiments uses the current time of the device and or other heuristics to anticipate the context in which the user is using the commute application and display the order of a particular route accordingly.

For instance the commute application in this example uses the fact that the user selected the Federal route in the AM and in the same day selected the Federal route in the PM to determine that the user wishes to travel along the Federal route in the opposite direction. As shown in the fifth stage the dynamic focus table is displaying the stops along the Federal route in an order that is the reverse of the order of the stops illustrated in the second stage . Different embodiments of the commute application use additional and or different heuristics to determine the order in which to display stops in the dynamic focus table.

The first stage illustrates the GUI displaying a page for viewing different routes. As shown the display area is displaying a label Routes to indicate that the currently displayed page of the GUI is displaying different routes. Also in the first stage the display area is displaying several selectable user interface UI items . Each UI item is for transitioning to displaying a page of the GUI that shows details of a particular route. As illustrated each UI item includes a graphical indicator e.g. an icon that represents the particular route.

As shown the GUI displays the routes in the first stage in a similar manner to the routes displayed in the GUI described above by reference to . That is the routes displayed in the first stage are organized according to the geographical area to which the routes belong. In some embodiments the routes are organized according to the geographical area from which the routes start and or at which the routes end.

For this example the routes Bundy Emerson and Federal are arranged under a banner labeled Los Angeles to indicate that these routes belong to the Los Angeles area. The Mira Mesa route is arranged under a banner labeled San Diego to indicate that the Rodeo route belongs to the San Diego area. Lastly the routes State Street and Gold Avenue are arranged under a banner labeled Pasadena to indicate that these routes belong to the Pasadena area.

In addition the first stage of the GUI shows a user selecting the UI item by using a finger to tap on the UI item displayed on the touchscreen in order to view details of a route labeled Mira Mesa. When the commute application receives the selection of the UI item the commute application of some embodiments transitions to displaying a page that shows the details of the Mira Mesa route.

The second stage shows the GUI after the user selected the UI item to view the details of the Mira Mesa route. As shown the second stage of the GUI shows a page in which the display area is displaying the name of a route for which details are being displayed the Mira Mesa route in this example and the UI item .

At the second stage the dynamic focus table displayed in the display area includes the stops along the Mira Mesa route that starts at a stop named State at 20th followed by stops named Banker s Hill Pacific Beach Downtown at 1st 3 Trees Newton at Irving and Dust Bowl. In this example the dynamic focus table is also displaying a region separator for indicating that stops above the region separator are geographically located at or near a first geographic region San Diego in this example and stops below the region separator are geographically located at or near a second geographic region Orange County in this example .

In addition the dynamic focus table is displaying a schedule for a trip along the Federal route that is scheduled to start at the State at 20th stop at 8 15 AM and follows with stops at Banker s Hill at 8 22 AM Pacific Beach at 8 27 AM Downtown at 1st at 8 33 AM 3 Trees at 9 55 AM Newton at Irving at 10 03 AM and Dust Bowl at 10 13 AM. The longer interval between the Downtown at 1st stop and the 3 Trees stop compared to the shorter intervals between scheduled times at the State at 20th Banker s Hill Pacific Beach and Downtown at 1st stops and between scheduled times at the 3 Trees Newton at Irving and Dust Bowl stops show that the stops above the region separator and the stops below the region separator are geographically far apart and located in different areas.

The third stage of the GUI shows the user selecting the selectable UI item to view the different routes shown in the first stage . The user in this example is selecting the UI item by using a finger to tap the UI item displayed on the touchscreen in order to return to the page illustrated in the first stage displaying different routes. Upon receiving the selection of the UI item the commute application of some embodiments transitions to displaying the page illustrated in the first stage .

The fourth stage illustrates the GUI after the user selected the UI item to view the page displaying the different routes illustrated in the first stage . As indicated in an amount of time lapses between the third and fourth stages and . In particular the current time of the device displayed in the fourth stage indicates that nine hours has passed between the third and fourth stages and .

The fourth stage also shows the user selecting the UI item in the same manner described above by reference to the first stage . When the commute application receives the selection of the UI item the commute application of some embodiments transitions to displaying a page that shows the details of the Mira Mesa route.

The fifth stage shows the GUI after the user selected the UI item to view the details of the Mira Mesa route. As described above when the commute application of some embodiments receives a selection of a route from a page of the GUI displaying different routes for selection e.g. the stages and the commute application identifies the current time of the device. In some embodiments the commute application uses the current time of the device and or other heuristics to anticipate the context in which the user is using the commute application and display the order of a particular route accordingly.

For instance the commute application in this example is implemented for transit to and from work which is located in Orange County in this example. As such when the identified current time is before midday i.e. AM commute application of some embodiments displays routes according to a first order that ends in Orange County. When the identified current time is after midday i.e. PM commute application of some embodiments displays routes according to a second order starting in Orange County and finishing in San Diego i.e. the reverse of the first order.

As such the commute application for this example uses the fact that the user selected the Mira Mesa route in the AM in the first stage to display the order of the stops starting in San Diego and ending in Orange County. Similarly the commute application uses the fact that the user selected the Mira Mesa route in the PM in the fourth stage to display the order of the stops starting in Orange County and ending in San Diego. As illustrated in the fifth stage the dynamic focus table is displaying the stops along the Mira Mesa route ordered from San Diego to Orange County.

As explained above in some embodiments the commute application provides several different features. The following section will describe details examples and embodiments of Favorite features provided by the commute application in some embodiments.

The first stage illustrates the GUI displaying a page for creating a saved route. As illustrated the display areas is displaying a label Favorites to indicate that the currently displayed page of the GUI is for the Favorites feature. The display area is displaying the selectable UI items and a selectable UI item for navigating to a page of the GUI displaying different routes from which to create a saved route.

The first stage of the GUI also shows a user selecting the UI item to start creating a saved route. In this example the user is selecting the UI item by using a finger to tap on the UI item displayed on the touchscreen of the device on which the commute application is operating in order to initiate the creation of a route. When the commute application receives the selection of the UI item the commute application of some embodiments transitions to displaying a page for displaying different routes.

The second stage shows the GUI after the user selected the UI item to view the page for displaying different routes. As shown the second stage is similar to the first stage described above by reference to . Specifically the second stage shows the display area displaying the label Routes to indicate that the currently displayed page of the GUI is displaying different routes. The display area in the second stage is displaying selectable UI items as well as the selectable UI items at the bottom of the display area . Each UI item is for transitioning to displaying a page of the GUI for selecting stops for a saved route along a particular route. As illustrated each UI item includes a graphical indicator e.g. an icon that represents the particular route.

In addition the second stage of the GUI shows the user selecting the selectable UI item to create a saved route along a route labeled Rodeo. The user in this example is selecting the UI item by using a finger to tap on the UI item displayed on the touchscreen. Upon receiving the selection of the UI item the commute application of some embodiments transitions to displaying a page that shows the stops along the Rodeo route and stop pickers for selecting stops along the Rodeo for a saved route.

The third stage illustrates the GUI displaying a page for creating a saved route from the Rodeo route. As shown the display area in the third stage displays a label Rodeo to indicate that the information currently displayed on page of the GUI is for the Rodeo route a selectable UI item for transitioning back to the page of the GUI displaying different routes illustrated in the second stage and a selectable UI item for storing a saved route.

The display area in this example is for displaying a table that includes the stops along the Rodeo route a movable UI control for selecting a stop in the Rodeo route as a starting point stop of a saved route and a movable UI control not shown in the third stage for selecting a stop in the Rodeo route as an ending point stop of the saved route. For this example the UI control is positioned at a default location at the top of the table and the UI control is positioned at a default location at the bottom of the table not shown at this stage . The UI controls and of some embodiments are referred to as stop pickers.

In addition the third stage of the GUI shows the user moving the UI control to select a starting point stop in the Rodeo route for a saved route. In particular the user in this example moves the UI control by using a finger to touch the UI control displayed on the touchscreen and dragging the finger along the touchscreen in a downward direction relative to the GUI to a stop in the table in order to select the stop as the starting point stop of the saved route. When the commute application of some embodiments receives the described gesture input to select a stop in the table the commute application moves the UI control downwards with respect to the display area and over the stop in the table. In some embodiments the commute application also shifts the table with respect to the display area so that the UI control at the bottom of the table is displayed in the display area .

The fourth stage illustrates the GUI after the user moved the UI control to select a stop in the Rodeo route as the starting point stop of the saved route. As shown the user in this example moved the UI control over the Fleet at 2nd stop in the table to select that stop as the starting point stop of the saved route. In addition the fourth stage shows the GUI after the commute application shifted the table with respect to the display area so that the UI control at the bottom of the table is displayed in the display area .

The fourth stage of the GUI also illustrates the user moving the UI control to select an ending point stop in the Rodeo route for the saved route. For this example the user moves the UI control by using a finger to touch the UI control displayed on the touchscreen and dragging the finger along the touchscreen in an upward direction relative to the GUI to a stop in the table in order to select the stop as the ending point stop of the saved route. When the commute application receives the described gesture input to select a stop in the table the commute application of some embodiments moves the UI control upwards along the display area and over the stop in the table.

The fifth stage illustrates the GUI after the user moved the UI control to select a stop in the Rodeo route as the ending point stop of the saved route. As illustrated the user in this example moved the UI control over the Parks at Beacon stop in the table to select that stop as the ending point stop of the saved route. The fifth stage also shows the user selecting the UI item to store the saved route according to the stops selected by the UI controls and . In this example the user is selecting the UI item by using a finger to tap the UI item displayed on the touchscreen in order store the saved route. When the commute application receives the selection of the UI item the commute application of some embodiments stores e.g. in a storage of the device the saved route specifying the Fleet at 2nd stop in the Rodeo route as the starting point stop of the saved route and the Parks at Beacon stop in the Rodeo route as the ending point stop of the saved route. In some embodiments the commute application transitions to displaying a page that displays a list of saved routes after storing the saved route.

The sixth stage illustrates the GUI after the user selected the UI item to store the saved route and the commute application transitioned to a page displaying a list of saved routes. As shown the display area in the sixth stage is displaying a label Favorites to indicate that the currently displayed page of the GUI is for the Favorites feature the selectable UI item for editing e.g. modifying deleting etc. saved routes displayed in the display area and the selectable UI item for transitioning to a page of the GUI for creating a new saved route e.g. the page illustrated in the second stage .

As shown the display area in the sixth stage is displaying in different selectable rows information describing different saved routes stored on the device. In this example the saved route stored in the fifth stage is the only saved route stored on the device. As such the display area is displaying in a selectable row information describing that saved route. The information used to describe the saved route in the sixth stage is similar the information used to describe the saved route in the sixth stage described above by reference to . That is the information describing the saved route includes an icon indicating the route from which the saved route was created the Rodeo route in this example the starting and ending point stops of the saved route and different countdown times for different trips along the saved route. In some embodiments as shown in this example the countdown times for the next three trips along the saved route are displayed. As shown the countdown times for the saved route in this example indicate that transit vehicles will arrive at the Fleet at 2nd stop in 24 minutes 48 minutes and 1 hour. In some embodiments the commute application constantly or at defined intervals updates the countdown times displayed in the display area based on the current time of the device executing the commute application.

The first stage is similar to the sixth stage described above by reference to . That is the first stage illustrates the display area displaying the label Favorites the selectable UI item and the selectable UI item and the display area displaying in a selectable row information describing the saved route stored on the device at the fifth stage of . The first stage also illustrates a user selecting the selectable row displaying information regarding the saved route in order to view schedules for trips along the saved route.

The user in this example is selecting the row by using a finger to tap on the row displayed on the touchscreen in order to view schedules for trips along the saved route. In some embodiments when the commute application receives the selection of the row the commute application transitions to displaying a page for displaying schedules for trips along the saved route.

The second stage of the GUI illustrates the dynamic focus table showing the same stops for the Rodeo route illustrated in the third stage of as well as a schedule for a trip along the Rodeo route. In some embodiments after the commute application displays the dynamic focus table the commute application automatically moves the dynamic focus table with respect to the display area so that the starting point stop specified in the saved route selected in the first stage shifts to the top of the display area and then removes from the dynamic focus table the stops after the ending point stop specified in the saved route. For this example the commute application is starting to shift the dynamic focus table as indicated by the two arrows so that the Fleet at 2nd stop will be displayed at the top of the display area . Additionally the display area in the second stage is displaying a selectable UI item for transitioning back to the page of the GUI displaying the saved routes stored on the device illustrated in the first stage .

For this example the schedule displayed in the dynamic focus table is the schedule for a default trip along the Rodeo route that the commute application initially displays. After displaying the schedule for the default trip in the dynamic focus table shifting the starting point stop specified in the saved route to the top of the display area and removing from the dynamic focus table the stops after the ending point stop specified in the saved route the commute application of some embodiments automatically shifts to displaying in the dynamic focus table the schedule for a trip that is scheduled to run next based on the current time of the device 6 00 AM in this example . In some embodiments the commute application concurrently shifts the dynamic focus table so that the starting point stop specified in the saved route is displayed at the top of the display area removes from the dynamic focus table the stops after the ending point stop specified in the saved route and shifts to the schedule for the trip that is scheduled to run next. In some embodiments the commute application shifts to the schedule for the trip that is scheduled to run next before shifting the starting point stop to the top of the display area and removing from the dynamic focus table the stops after the ending point stop specified in the saved route.

The third stage shows the GUI after the commute application finished shifting the starting point stop specified in the saved route removing from the dynamic focus table the stops after the ending point stop specified in the saved route and shifts to the schedule for the trip that is scheduled to run next. As shown the dynamic focus table in the third stage shows a schedule for a trip that is scheduled to run next based on the current time of the device and for the stops in the saved route.

The first stage illustrates the GUI displaying a page for creating a saved route. As shown in the first stage the display area is displaying a label Bundy to indicate that the information currently displayed on page of the GUI is for the Bundy route a selectable UI item for transitioning back to a page of the GUI displaying different routes e.g. the page of the GUI illustrated in the second stage of and a selectable UI item for storing a saved route.

In this example the display area is displaying a table that includes stops of a route the movable UI control for selecting a stop in the route as a starting point stop of a saved route and the movable UI control for selecting a stop in the route as an ending point stop of the saved route. In addition the display area in this example is displaying a region separator for indicating that stops above the region separator are geographically located at or near a first geographic region and stops below the region separator are geographically located at or near a second geographic region. As shown the UI controls and in this example are positioned at default locations at the top and bottom of the table respectively.

In some embodiments the commute application allows a user to select a starting point stop or an ending point stop for a saved route by selecting a stop in the table. In particular when the commute application of some embodiments receives a selection of a stop in the table above the region separate the commute application identifies the selected stop as the starting point stop for the saved route and moves the UI control over the selected stop. Similarly when the commute application of some embodiments receives a selection of a stop in the table below the region separate the commute application identifies the selected stop as the ending point stop for the saved route and moves the UI control over the selected stop.

The first stage of the GUI also illustrates the user selecting a stop in the table above the region separate to select a starting point stop for a saved route. In particular the user in this example is selecting the State stop by using a finger to tap the State stop displayed on the touchscreen in order to select the State stop as the starting point stop for the saved route. Upon receiving the selection of the State stop the commute application of some embodiments identifies the State stop as the starting point stop for the saved route and moves the UI control over the selected stop.

The second stage illustrates the GUI after the user selected the State stop in the table and the commute application moved the UI control over the State stop in the table. As shown the UI control is now displayed over the State stop in the table.

As described above the commute application of some embodiments allows a user to select a stop for a saved route by selecting and moving a stop picker over the stop that the user wishes to select. In some embodiments the commute application provides a sliding glass emulation feature that generates an effect where any object or element that is overlaid by the stop picker appears like the object or element is underneath a sliding glass.

The third stage of the GUI illustrates an example of such a sliding glass emulation feature. As shown the user in the third stage is moving the UI control to select a different starting point stop for the saved route. For this example the user is moving the UI control by using a finger to touch the UI control displayed on the touchscreen and dragging the finger along the touchscreen in a downward direction relative to the GUI to select a different stop in the table as the starting point stop for the saved route. As shown the portion of the status circle and text for the Union Station stop over which the UI control is superimposed appears as if they are underneath a sliding glass.

The fourth stage shows the GUI after the user moved the UI control to select a different starting point stop for the saved route. As illustrated the user in this example moved the UI control over the Union Station stop in the table to select that stop as the starting point stop for the saved route. The fourth stage also shows the user moving the UI control to select an ending point stop for the saved route. The user in this example is moving the UI control by using a finger to touch the UI control displayed on the touchscreen and dragging the finger along the touchscreen in an upward direction relative to the GUI to select a stop in the table as an ending point stop for the saved route. As shown the portion of the status circle and text for the Wilshire at 3rd stop over which the UI control is superimposed appears as if they are underneath a sliding glass.

The fifth stage illustrates the GUI after the user moved the UI control to select an ending point stop for the saved route. For this example the user moved the UI control over the Wilshire at 3rd stop in the table to select that stop as the ending point stop for the saved route.

The first stage is similar to the sixth stage described above by reference to except the first stage illustrates the display area displaying in separate selectable rows and information describing the saved route stored on the device in this example. As shown the saved route shown in the selectable rows starts at State stop and ends at Wilshire at 3rd and the saved route shown in the selectable rows starts at Foothill 1 and ends at Ondulando.

As shown in the first stage the countdown times for the saved route shown in the selectable rows indicate that transit vehicles will arrive at the State stop in 5 minutes 9 minutes and 20 minutes. Also the countdown times for the saved route shown in the selectable rows indicate that transit vehicles will arrive at the Foothill 1 stop in 15 minutes 31 minutes and 1 hour.

The second stage illustrates the GUI after an amount of time has passed on the current time of the device with respect to the current time of the device illustrated in the first stage . As shown the current time on the device illustrated in the second stage is four minutes later than the current time on the device illustrated in the first stage . As noted above in some embodiments the commute application constantly or at defined intervals updates the countdown times displayed in the display area . For instance the commute application of some such embodiments constantly or at defined intervals monitors the current time of the device and updates the countdown times for the saved routes displayed in the display area .

As illustrated in the second stage the countdown times for the saved route shown in the selectable rows have been updated based on the current time of the device and now indicate that transit vehicles will arrive at the State stop in 1 minutes 5 minutes and 16 minutes. Also the countdown times for the saved route shown in the selectable rows are similarly updated and now indicate that transit vehicles will arrive at the Foothill 1 stop in 11 minutes 27 minutes and 56 minutes. In some embodiments the commute application updates the countdown times for the saved route based on both the location of the device and the location of the transit vehicle traversing the saved route. For instance the commute application of some embodiments receives updates to the arrival and departure time of transit vehicles at each stop along a route from a set of servers operated by a transit operator or from one or more third parties that collect this information from the transit operator or from equipment that these parties install on the transit vehicles.

The third stage illustrates the GUI after another amount of time has passed with respect to the current time of the device illustrated in the second stage . As shown the current time on the device illustrated in the third stage is two minutes later than the current time on the device illustrated in the second stage . Accordingly the countdown times illustrated in the third stage for the saved routes shown in the selectable rows and have been decreased by two minutes.

Instead of displaying a countdown time the commute application of some embodiments provides a warning indicator for a saved route that a transit vehicle is arriving soon when the countdown time for a trip passes a threshold amount of time e.g. 1 minute 2 minutes 5 minutes etc. . In this example the commute application uses a five minute threshold amount of time. Since the countdown time for the first trip along the saved route displayed in the selectable row has passed the threshold amount of time the third stage is displaying a Now Arriving warning indicator.

The third stage of the GUI also shows a user selecting the selectable row to display a detailed view for the saved route. In this example the user is selecting selectable row by using a finger to tap on selectable row displayed on the touchscreen of the device on which the commute application is operating in order to view the detailed view for the saved route. When the commute application receives the selection of selectable row the commute application of some embodiments transitions to displaying a page displaying a detailed view for the saved route.

The fourth stage shows the GUI after the user selected the selectable row to view the detailed view for the saved route. As shown the display area in the fourth stage shows a schedule view table that includes a list of all the trips along the saved route for the entire day and an adjustable header that is displayed over the schedule view table. The adjustable header includes selectable UI items and and a display area for displaying information regarding the saved route which includes countdown times for the next three scheduled trips along the saved route that the commute application of some embodiments updates constantly or at defined intervals. The UI item is for displaying a list view i.e. schedule view in the detailed view for a saved route shown in the fourth stage while the UI item is for displaying a map view in the detailed view for the saved route which is described below. The fourth stage also shows a selectable UI item for transitioning back to the page of the GUI displaying the saved routes stored on the device illustrated in the first second and third stages .

The first stage is similar to the fourth stage described above by reference to except the next three scheduled trips for the saved route are different. For each of the trips listed in the schedule view table when the commute application detects that the current time of the device passes the arrival time of the first stop of the trip i.e. the starting point stop the commute application grays out the trip in the schedule view table. As shown in the first stage the first trip is grayed out because the current time of the device 6 00 AM in this example has passed the arrival time 5 57 AM in this example of the first stop of the first trip along the saved route. In addition the commute application of some embodiments highlights the trip in the schedule view table that is schedule to run next. The second trip displayed in the schedule view table in the first stage which is the trip in the schedule view table that is schedule to run next is highlighted by bolding the start and end times of the stops in the trip.

The first stage of the GUI shows the user performing a scroll operation on the schedule view table in order to view a different portion of the schedule view table. As shown in this example the user is performing the scroll operation by using a finger to touch a location in the schedule view table displayed on the touchscreen and dragging the finger along the touchscreen in an upwards direction relative to the GUI in order to scroll to the schedule view table downwards and view the bottom of the schedule view table. When the commute application of some embodiments receives the described gesture input for scrolling the schedule view table the commute application scrolls the schedule view table upwards with respect to the display area to display the bottom portion of the schedule view table.

The second stage illustrates the GUI after the user performed the scrolling operation on the schedule view table to view the bottom portion of the schedule view table. In the second stage the display area is displaying the bottom portion of the schedule view table which shows trips along the saved route scheduled to run in the evening. In addition the commute application has updated the countdown times displayed in the display area based on the current time of the device.

The second stage of the GUI also shows the user performing a scroll operation on the schedule view table in order to view another portion of the schedule view table. The user in this example is performing the scroll operation by using a finger to touch a location in the schedule view table displayed on the touchscreen and dragging the finger along the touchscreen in a downwards direction relative to the GUI in order to scroll to the schedule view table upwards and view the top of the schedule view table. When the commute application of some embodiments receives the described gesture input for scrolling the schedule view table the commute application scrolls the schedule view table downwards with respect to the display area to display the top portion of the schedule view table.

The third stage illustrates the GUI after the user performed the scrolling operation on the schedule view table to view the top portion of the schedule view table. The trips in the schedule view table shown in the third stage is the same as the trips in the schedule view table shown in the first stage . As shown the countdown times displayed in the display area have been updated based on the current time of the device.

The fourth stage illustrates the GUI after more time has passed with respect to the current time of the device illustrated in the third stage . As shown the current time on the device illustrated in the fourth stage is six minutes later than the current time on the device illustrated in the third stage . The countdown times displayed in the display area have been updated accordingly based on the current time of the device.

As noted above when the commute application detects that the current time of the device passes the arrival time of the first stop of a trip the commute application grays out the trip in the schedule view table. The fourth stage shows that the second trip in the schedule view table is grayed out because the current time of the device 6 20 AM in this example has passed the arrival time 6 15 AM in this example of the first stop of the second trip along the saved route. In addition in some embodiments the commute application highlights the trip in the schedule view table that is schedule to run next. As shown the third trip displayed in the schedule view table in the fourth stage is now highlighted by bolding the start and end times of the stops in the trip.

The first stage is similar to the fourth stage described above by reference to except the first stage shows a user performing an adjustment to the header . The user in this example adjusts the header by using a finger to touch the header displayed on the touchscreen and dragging the finger along the touchscreen in a downward direction relative to the GUI to expand the header . By providing this type of direct manipulation of the header as opposed to indirect manipulation of the header such as inertia based manipulation or rubber banding based manipulation to adjust the header the user is able to specifically specify the amount of space that the header occupies in the display area . When the commute application of some embodiments receives the described gesture input to adjust the header the commute application moves the header and the schedule view table downwards relative to the GUI while expanding the top portion of the header .

The second stage shows the GUI after the user adjusted the header to expand the top portion of the header . As shown the header and the schedule view table are shifted downwards to make room for the expanded top portion of the header . While the second stage in this example shows a blank area in the expanded top portion of the header the commute application of some embodiments displays different information in expanded top portion of the header differently in different embodiments. For instance in some embodiments the commute application displays a map that illustrates scheduled trips along the saved route e.g. any of the illustrated maps below in .

The second stage additionally shows the user performing another adjustment to the header . For this example the user adjusts the header by using a finger to touch the header displayed on the touchscreen and dragging the finger along the touchscreen in an upwards direction relative to the GUI to contract the header . Upon receiving the described gesture input to adjust the header the commute application of some embodiments moves the header and the schedule view table upwards relative to the GUI while contracting the top portion of the header .

The third stage shows the GUI after the user adjusted the header to contract the top portion of the header . As shown the header and the schedule view table are shifted upwards to fill the extra room created due to the contraction of the top portion of the header . The third stage of the GUI also illustrates the user continuing to perform the adjustment to the header described above by reference to the second stage to continue to contract the top portion of the header . As explained above the user is able to specifically specify the amount of space that the header occupies in the display area through the type of direct manipulation of the header illustrated in the second and third stages and to adjust the header .

The fourth stage shows the GUI after the user has finished adjusting the header to contract the top portion of the header . The header and the schedule view table in the fourth stage are shifted upwards to fill the extra room created by the contraction of the top portion of the header . Specifically the fourth stage illustrates that only the UI elements and of the header are displayed in the display area .

The first stage is similar to the fourth stage described above by reference to except the first stage of shows the schedule view for the saved route illustrated in the row . In addition the first stage of the GUI illustrates a user selecting a schedule for a trip that is scheduled next to run along the saved route as indicated by the highlighting of the trip in the schedule view table. In particular the user in this example is selecting the schedule for the trip that is scheduled next to run along the saved route by using a finger to tap the trip in the schedule view table that is displayed on the touchscreen in order to view the schedule for the trip. When the commute application of some embodiments receives the selection of the trip in the schedule view table the commute application transitions to displaying a page that shows the stops along the saved route and the schedule for the selected trip.

The second stage shows the GUI after the user selected the trip in the schedule view table in order to view the schedule for the trip along the saved route. As illustrated the second stage of the GUI shows a page in which the display area is displaying the name of a route from which the saved route was created the Bundy route in this example a name of the trip along the saved route and a selectable UI item for transitioning back to the page of the GUI displaying the schedule view for the saved route illustrated in the first stage .

In the second stage the display area is displaying a dynamic focus table that includes the stops along the saved route and the schedule for the selected trip. As shown the dynamic focus table displays only the starting and ending point stops specified in the saved route and all the intermediate stops between the starting and ending point stops. As noted above the commute application of some embodiments displays in the dynamic focus table automatic operations being performed e.g. initially displaying the schedule for a default trip and then automatically shifting to displaying the schedule for a trip that is scheduled to run next and or automatically shifting to the top the first stop of the displayed schedule to achieve the desired results in the dynamic focus table. However the commute application in the examples illustrated in does not perform such automatic operations in order to display the selected trip in the dynamic focus table. Rather in some embodiments the commute application directly displays the dynamic focus table with the stops along the saved route and the schedule for the selected trip.

The third stage shows the user performing a scroll operation on the dynamic focus table in order to view a schedule for a trip that is scheduled to run along the saved route after the schedule for the trip displayed in the second stage . For this example the user is performing the scroll operation by using a finger to touch a location in the column of the dynamic focus table displayed on the touchscreen and dragging the finger along the touchscreen in a leftwards direction relative to the GUI in order to scroll a schedule for a different trip into view in the column .

In some embodiments when the commute application receives the described gesture input for scrolling to the schedule for a different trip the commute application slides the schedule for the current trip displayed in the column out of view while sliding a schedule for a different trip along the saved route into view. For this example the commute application slides the schedules into and out of view such that the schedule for the current trip displayed in the column appears to slide underneath the column while the schedule for the different trip along the saved route appears to slide out from the right side of the column towards the left side of the column .

The fourth stage shows the GUI after the user performed the scrolling operation to view a scheduled time for a different trip along the saved route. The GUI of the fourth stage additionally shows the user selecting the selectable UI item to transitioning back to the page of the GUI illustrated in the first stage . When the commute application of some embodiments receives the selection of the UI item the commute application transitions to displaying the page shown in the first stage .

The fifth stage illustrates the GUI after the user selected the UI item to view the schedule view for the saved route. The GUI of the fifth stage shows the user selecting a different trip in the schedule view table. The user in this example is selecting the different trip by using a finger to tap on the trip in the schedule view table that is displayed on the touchscreen in order to view the schedule for the trip. Upon receiving selection of the trip in the schedule view table the commute application of some embodiments transitions to displaying a page that shows the stops along the saved route and the schedule for the selected trip.

Finally the sixth stage shows the GUI after the user selected the trip in the schedule view table in order to view the schedule for a different trip along the saved route. The GUI illustrated in the sixth stage is similar to the GUI illustrated in the second stage except the dynamic focus table shown in the sixth stage is displaying the schedule for the trip selected in the fifth stage .

The first stage is similar to the fourth stage described above by reference to except the first stage of shows a user selecting the UI item to switch from displaying the schedule view for the saved route to displaying a map view for the saved route. In this example the user is selecting the UI item by using a finger to tap the UI item displayed on the touchscreen in order to display the map view for the saved route. When the commute application of some embodiments receives the selection of the UI item the commute application transitions to displaying a page that shows a map illustrating the stops in the saved route in the map and a schedule for a trip along the saved route.

The second stage shows the GUI after the user selected the UI item in order to view the map view for the saved route. As shown in the second stage the map view for the saved route includes a map for displaying the saved route along with a schedule banner and the adjustable header that are displayed over the map. As shown the map is displaying the stops in the saved route which are represented by flags that have icons representing the route from which the saved route was created on the flags the current location in the map of a transit vehicle represented by a dot encompassed by a circle used for traveling along the scheduled trip shown in the schedule banner and the current location of the device on which the commute application is operating. The current location of the device is represented by a circle with a white border.

The schedule banner in the second stage is displaying a schedule for a trip that is scheduled to run next along the saved route and selectable UI items and . The UI item is for displaying in the schedule banner a schedule for a trip that is scheduled to run before the schedule for the currently displayed trip and the UI item is for displaying in the schedule banner a schedule for a trip that is scheduled to run after the schedule for the currently displayed trip.

The third stage is similar to the fourth stage described above by reference to except the third stage of shows the schedule view for the saved route illustrated in the row . Similarly to the first stage the third stage of the GUI illustrates the user selecting the UI item to switch from displaying the schedule view for the saved route to displaying a map view for the saved route. The user for this example is selecting the UI item by using a finger to tap the UI item displayed on the touchscreen in order to display the map view for the saved route. When the commute application of some embodiments receives the selection of the UI item the commute application transitions to displaying a page that shows a map illustrating the stops in the saved route in the map and a schedule for a trip along the saved route.

The fourth stage shows the GUI after the user selected the UI item in the third stage to view the map view for the saved route. The fourth stage shows the map view for the saved route that includes a map for displaying the saved route along with the schedule banner and the adjustable header that are displayed over the map. The map in the fourth stage is displaying the stops in the saved route which are represented by flags that have icons representing the route from which the saved route was created on the flags the current location in the map of a transit vehicle represented by the dot used for traveling along the scheduled trip shown in the schedule banner and the current location of the device which is represented by the circle . The schedule banner in the fourth stage is displaying a schedule for a trip that is scheduled to run next along the saved route and selectable UI items and which are for displaying a schedule for a trip that is scheduled to run before the schedule for the currently displayed trip in the schedule banner and displaying a schedule for a trip that is scheduled to run after the schedule for the currently displayed trip in the schedule banner respectively.

In some embodiments the commute application receives the current location of the transit vehicle automatically from the transit system operator or third party vendors periodically in order to display the location on the map. Also in some embodiments the icons that represent the routes e.g. flags F and B in the illustrated example are graphical representations that the commute application uses to present the transit data e.g. routes trips stops etc. in a particular locality e.g. city state etc. in the same manner that the operator of the transit system presents those transit data in that particular locality.

The first stage is similar to the fourth stage described above by reference to except the first stage of additionally illustrates manually changing the trip displayed in the map view. Specifically the first stage shows a user selecting the UI item to display in the schedule banner a schedule for a trip that is scheduled to run after the schedule for the currently displayed trip. For this example the user is selecting the UI item by using a finger to tap the UI item displayed on the touchscreen in order to display the map view for the saved route. When the commute application of some embodiments receives the selection of the UI item the commute application displays in the schedule banner the next schedule for a trip that is scheduled to run after the schedule for the currently displayed trip.

The second stage shows the GUI after the user selected the UI item in order to display the next scheduled trip in the schedule banner which includes different stops along the trip for this example. As shown the schedule banner in the second stage is displaying a schedule for a trip that is scheduled to run after the schedule for the trip displayed in the first stage . Also the map is displaying different stops as well as a different number of trips compared to the stops for the scheduled trip illustrated in the first stage .

The third stage illustrates the GUI after an amount of time has passed on the current time of the device with respect to the current time of the device illustrated in the second stage . As shown the current time on the device illustrated in the third stage is twenty minutes later than the current time of the device illustrated in the second stage . Accordingly the countdown times displayed in the third stage have been updated based on the current time of the device and the current location of the transit vehicle used for traveling along the scheduled trip shown in the schedule banner has also been updated in the map.

In some embodiments when the commute application detects that that current time of the device passes the arrival time of the first stop of the trip displayed in the map view the commute application automatically transitions to displaying the next trip scheduled to run. The fourth stage of illustrates an example of such an automatic change of the trip displayed in the map view. In the fourth stage the current time of the device has passed the arrival time of the first stop of the trip shown in the third stage . When the commute application detects that the current time of the device has passed the arrival time of the first stop of the trip shown in the third stage the commute application of some embodiments automatically changes the trip displayed in the map view to the next scheduled trip with the first stop s arrival that the current time of the device has not passed. As shown in the fourth stage the map view of the saved route is displaying a scheduled trip with the first stop s arrival time that the current time of the device has not passed.

The first stage is similar to the first stage described above by reference to except the first stage of does not show a user selecting the UI item . The second stage shows the GUI after an amount of time has passed on the current time of the device with respect to the current time of the device illustrated in the first stage . As shown the current time on the device illustrated in the second stage is six minutes later than the current time on the device illustrated in the first stage . Since the current time of the device has not passed the arrival time of the first stop of the trip shown in the first stage the trip shown in the first stage is still displayed in the schedule banner . In addition the countdown times displayed in the first stage have been updated based on the current time of the device and the current location of the transit vehicle used for traveling along the scheduled trip shown in the schedule banner has also been updated in the map.

In some embodiments when the commute application detects that current time of the device passes the arrival time of the first stop of the trip displayed in the map view the commute application transitions to displaying the next trip scheduled to run in the schedule banner but does not update the map or the countdown times with the trip displayed in the schedule banner . The commute application of some embodiments only updates the map and countdown times in the map view with the next scheduled trip when the commute application initially enters the map view. This way the commute application prevents any large context changes in the map that would potentially confuse the user if the user was not looking at the map when the map is updated. In some embodiments the commute application still updates the map and the countdown times for the saved route that is displayed in the map view.

The third stage shows the GUI after an amount of time has passed on the current time of the device with respect to the current time of the device illustrated in the second stage . As shown the current time on the device illustrated in the third stage is nineteen minutes later than the current time on the device illustrated in the second stage . As the current time of the device has passed the arrival time of the first stop of the trip shown in the second stage the schedule banner in the third stage has been updated with the next scheduled trip with the first stop s arrival that the current time of the device has not passed. In some embodiments the commute application does not update the schedule banner and continues to display the trip in the schedule banner shown in the first and second stages and .

Additionally the commute application in this example does not update the map view with the countdown times of the next scheduled trip displayed in the schedule banner . Instead the commute application continues to display the countdown times for the trip displayed in the map view shown in the first and second stages and and updates the countdown times for that trip. Also the commute application does not update the map to display the scheduled trip displayed in the schedule banner . The commute application similarly updates the map for the trip displayed in the map in the first and second stages and .

The third stage of the GUI also illustrates the user selecting the UI item to return to the page of the GUI displaying the saved routes stored on the device e.g. the page illustrated in the first second and third stages of . In this example the user is selecting the UI item by using a finger to tap the UI item displayed on the touchscreen in order to displaying the saved routes stored on the device. When the commute application of some embodiments receives the selection of the UI item the commute application transitions to displaying a page that displays the saved routes stored on the device.

The fourth stage shows the GUI after the user selected the UI item in order to view a page that displays the saved routes stored on the device. As shown in the fourth stage information regarding the saved routes stores on the device is displayed. In this example the saved route illustrated in the stages is the only saved route stored on the device. The fourth stage also shows the user selecting the saved route to view the map view for the saved route. The user in this example is selecting the saved route by using a finger to tap the saved route displayed on the touchscreen in order to display the map view for the saved route. When the commute application of some embodiments receives the selection the saved route the commute application transitions to displaying the map view for the saved route.

The fifth stage shows the GUI after the user selected the saved route to view the map view for the saved route. As explained above in some embodiments the commute application only updates the map and countdown times in the map view with the next scheduled trip when the commute application initially enters the map view. In this example the commute application is entering the map view for the saved route. As such the map view in the fifth stage displays the countdown times of the next scheduled trip i.e. the trip displayed in the schedule banner in the third stage and displays the next scheduled trip in the map.

The first stage is similar to the first stage described above by reference to except the first stage of illustrates the map in the map view displaying additional information regarding the trip along the saved route. As shown the map in the first stage is displaying a banner above each of the flags that represent the stops in the trip along the saved route. Each banner indicates the arrival time of a transit vehicle used for the trip along the saved route.

Additionally the first stage of the GUI illustrates a user moving the header in a map view for the saved route. As shown the user in this example moves the header by using a finger to touch the header displayed on the touchscreen and dragging the finger along the touchscreen in an upwards direction relative to the GUI to directly manipulate the header out of view. The second stage shows the GUI after the user moved the header out of view. As shown moving the header out of view allows a larger portion of the map to be displayed.

The third stage illustrates the GUI after an amount of time has passed on the current time of the device with respect to the current time of the device illustrated in the second stage . As shown the current time on the device illustrated in the third stage is twelve minutes later than the current time on the device illustrated in the second stage . In addition the third stage shows that the current location of the transit vehicle is closer to the first stop in the trip.

As mentioned above when the commute application of some embodiments detects that the current time of the device passes the arrival time of the first stop of the trip displayed in the map view the commute application automatically transitions to displaying the next trip scheduled to run. The fourth stage of illustrates another example of such an automatic change of the trip displayed in the map view. The fourth stage shows that the current time of the device has passed the arrival time of the first stop of the trip shown in the third stage . When the commute application detects that the current time of the device has passed the arrival time of the first stop of the trip shown in the third stage the commute application of some embodiments automatically changes the trip displayed in the map to the next scheduled trip with the first stop s arrival time that the current time of the device has not passed. As shown in the fourth stage the map is displaying a scheduled trip with the first stop s arrival time that the current time of the device has not passed.

The first stage is similar to the first stage described above by reference to except the first stage of illustrates the map in the map view displaying additional information regarding a stop in the trip along the saved route. As shown the map in the first stage is displaying a banner above the Foothill 1 stop that shows the name of the stop and the arrival time of a transit vehicle used for the trip along the saved route. The banner also includes a selectable UI item for displaying different trips along different routes that stop at the Foothill 1 stop. In some embodiments the banner is displayed when the user selects in the map the flag that represents the Foothill 1 stop e.g. by tapping on the flag that represents the Foothill 1 stop in the map . In addition the first stage of the GUI illustrates a user selecting the UI item by using a finger to tap on the UI item displayed on the touchscreen in order to view different trips along different routes that stop at the Foothill 1 stop.

The second stage shows the GUI after the user selected the UI item . As shown the GUI in this example is displaying a list of trips along different routes that stop at the Foothill 1 stop. In this example the times displayed for each trip is the time at which the trip stops at the Foothill 1 stop. Also the T0771 trip displayed in the list is grayed out because the current time of the device is past the scheduled arrival time at the Foothill 1 stop in the T0771 trip. The second stage also shows the user selecting a trip R0411 that travels along the Federal route by using a finger to tap on the trip R0411 displayed on the touchscreen to view the schedule for the R0411 trip.

The third stage illustrates the GUI after the user selected the R0411 trip. As illustrated the GUI is displaying the dynamic focus table that includes the schedule of the stops in the R0411 trip which includes the Foothill 1 stop along the Federal route. The third stage also shows the user performing a scroll operation on the dynamic focus table in order to view the schedule for a different trip listed in the second stage . As shown in this example the user is performing the scroll operation by using a finger to touch a location in the dynamic focus table displayed on the touchscreen and dragging the finger along the touchscreen in a rightwards direction relative to the GUI in order to view the schedule for a trip along a route that is scheduled to stop at the Foothill 1 stop before the R0411 trip is scheduled to stop at the Foothill 1 stop.

The fourth stage illustrates the GUI after the user performed the scrolling operation on the dynamic focus table. In the fourth stage the dynamic focus table is displaying the schedule for the R0311 trip along the Federal route which is the trip that is scheduled to stop at the Foothill 1 stop before the R0411 trip is scheduled to stop at the Foothill 1 stop. In addition the Lincoln stop in the R0311 trip is grayed out because the current time of the device is past the scheduled arrival time at the Lincoln stop in the R0311 trip.

The fourth stage also shows the user selecting a selectable UI item for transitioning back to the page of the GUI illustrated in the second stager . For this example the user selects the UI item by using a finger to tap on the UI item displayed on the touchscreen in order to view different trips along different routes that stop at the Foothill 1 stop.

The fifth stage illustrates the GUI after the user selected the UI item . As shown the fifth stage is similar to the second stage except in the fifth stage the user is selecting the W0671 trip along the Rodeo route by using a finger to tap on the W0671 trip displayed on the touchscreen to view the schedule for the W0671 trip.

Finally the sixth stage shows the GUI after the user selected the W0671 trip. The GUI in the sixth stage is similar to the GUI illustrated in the third stage except that here the dynamic focus table is displaying the schedule of the stops in the W0671 trip which includes the Foothill 1 stop along the Rodeo route.

In some embodiments when the commute application receives a selection of a stop through which to pivot trips along routes that stop at the selected stop e.g. the examples described above and below by reference to the commute application accesses the route storage to identify routes that include the selected stop and accesses the schedule storage to identify the schedules for trips along the identified routes that stop at the selected stop.

Once the commute application of some embodiments identifies the schedules for trips that stop at the selected stop the commute application generates and or populates the panel of the dynamic focus table with the identified schedules as illustrated in . The commute application also populates and or generates the panel with the metadata of the route that is used for the schedule of the trip in the panel which is being displayed through the right side of the panel . In this example the Schedule A for a trip along Route 1 in the panel is displayed through the right side of the panel and thus the metadata for Route 1 is displayed on the left side of the panel .

The first and second stages and are the same as the first and second stages and described above by reference to . The third stage is similar to the third stage described above by reference to but the third stage of illustrates the user performing a scroll operation on the dynamic focus table in order to view the schedule for a different trip listed in the second stage . The user in this example is performing the scroll operation by using a finger to touch a location in the dynamic focus table displayed on the touchscreen and dragging the finger along the touchscreen in a leftwards direction relative to the GUI in order to view the schedule for a trip along a route that is scheduled to stop at the Foothill 1 stop after the R0411 trip is scheduled to stop at the Foothill 1 stop.

The fourth stage illustrates the GUI after the user performed the scrolling operation on the dynamic focus table. The fourth stage shows the dynamic focus table displaying the schedule for the WA001 trip along a route the Emerson route in this example that is different than the route illustrated in the third stage . As shown the WA001 trip is scheduled to stop at the Foothill 1 stop after the R0411 trip is scheduled to stop at the Foothill 1 stop.

The fifth stage shows the user performing a scroll operation on the dynamic focus table in order to view the schedule for a different trip listed in the second stage . For this example the user is performing the scroll operation by using a finger to touch a location in the dynamic focus table displayed on the touchscreen and dragging the finger along the touchscreen in a leftwards direction relative to the GUI in order to view the schedule for a trip along a route that is scheduled to stop at the Foothill 1 stop after the WA001 trip is scheduled to stop at the Foothill 1 stop.

The sixth stage illustrates the GUI after the user performed the scrolling operation on the dynamic focus table in the fifth stage . In the sixth stage the dynamic focus table is displaying the schedule for the R0501 trip along the Federal route which is the trip that is scheduled to stop at the Foothill 1 stop after the WA001 trip is scheduled to stop at the Foothill 1 stop.

The first stage is similar to the first stage described above by reference to except the first stage of does not include the schedule banner the header has been moved out of view and the map does not show the current location of the transit vehicle used for traveling along the trip displayed in the map view. The first stage also illustrates a user selecting a flag in the map that represents a stop in a trip along a saved route. For this example the user is selecting the flag by using a finger to tap on the flag displayed on the touchscreen in order to view different trips along different routes that stop at stop represented by the selected flag.

The second stage shows the GUI after the user selected the flag in the map. As shown the map in this example is displaying a banner above the selected flag that shows the arrival time at the Foothill 1 stop for a trip that is scheduled next to stop at the Foothill 1 stop. The second stage also shows an adjustable slider control displayed in the map. The adjustable slider control includes a slider a sliding region along which the slider moves and a banner that displays the time value indicated by the position of the slider in the sliding region . The positions along the sliding region from left to right represent increasing time values in a defined range of time e.g. 6 AM 8 PM . For this example the commute application displays a trip that is scheduled next to stop at the Foothill 1 stop and moved the slider along the sliding region to the time value of the arrival time at the Foothill 1 stop for the trip which is 6 15 AM.

The third stage illustrates the user starting to move the slider along the sliding region by using a finger to touch the slider displayed on the touchscreen and dragging the finger along the touchscreen in a rightwards direction relative to the GUI . In some embodiments the commute application displays in the map the next trip that is scheduled to stop at the Foothill 1 at the time indicated by the slider in the sliding region .

The fourth stage shows the GUI after the user adjusted the slider in the sliding region to a different time value. As shown the map in the fourth stage shows the stops for a different trip along a different route the Rodeo route in this example that is scheduled to stop at the Foothill 1 stop at 6 33 AM. The fourth stage also illustrates the user continuing to move the slider along the sliding region by continuing to drag the finger along the touchscreen in a rightwards direction relative to the GUI .

The fifth stage shows the GUI after the user adjusted the slider in the sliding region to another different time value. In the fifth stage the map is displaying the stops for another different trip along another different route the 16th Avenue route in this example that is scheduled to stop at the Foothill 1 stop at 7 11 AM. The different time values displayed by the commute application of some embodiments are predefined scheduled times that different transit vehicles of different routes are scheduled to stop at the selected stop on the map. In other words in some such embodiments the time values of the slider control do not change incrementally. Rather the application as the slider moves along the sliding region displays the next or previous depending on the direction of the movement scheduled stop of a trip that includes the selected stop.

In some other embodiments the time values for the slider control changes incrementally as the slider moves along the sliding region. In some such embodiments the trip with the closest scheduled stop to the value of the slider that includes the selected stop will be displayed on the map. Still in some other embodiments the time values of the slider control change irrespective of the schedule of the trips when the slider moves along the sliding region. In some such embodiments as the time value changes if there is a trip that has the slider s time value scheduled for the selected stop that trip will be displayed by the commute application. On the other hand if there is no trip scheduled to stop at the selected stop at the slider s time value no trip will be displayed on the map for that particular time.

The first stage is similar to the first stage described above by reference to except the first stage of includes the slider control and a selectable UI item for activating a filtering feature for the map view. In addition the first stage shows a user is selecting the UI item by using a finger to tap on the UI item displayed on the touchscreen to activate the filtering feature for the map view.

The second stage shows the GUI after the user selected the UI item . As illustrated the second stage illustrates a filtering control that includes several selectable UI items for selecting routes a selectable UI item for setting a filter based on the UI items that are selected and a selectable UI item for canceling the filtering feature. In this example the filter is for filtering trips along routes that stop at the Foothill 1 stop that is illustrated in the map of the second stage of . The second stage shows that the user has selected the UI item to specify the Federal route to be included in the filter. In addition the second stage illustrates the user selecting the UI item to specify the 16th Avenue route to be included in the filter by using a finger to tap on the UI item displayed on the touchscreen.

The third stage shows the GUI after the user selected the UI item . In addition the third stage illustrates the user selecting the UI item to set the filter which includes the Federal route and the 16th Avenue route. When the filter is set the commute application of some embodiments only displays trips along routes that stop at the Foothill 1 stop and that are included in the filter the Federal route and the 16th Avenue route in this example .

Next the fourth stage shows the GUI after the user selected the UI item to set the filter. As shown the map in fourth stage still shows the trip illustrated in the stages since the Federal route is included in the filter and the trip stops at the Foothill 1 stop. The fourth stage also illustrates the user starting to move the slider along the sliding region by using a finger to touch the slider displayed on the touchscreen and dragging the finger along the touchscreen in a rightwards direction relative to the GUI .

The fifth stage shows the GUI after the user adjusted the slider in the sliding region to a different time value. As illustrated the map in the fifth stage does not show a trip because for this example no trip along a route is scheduled to stop at the Foothill 1 stop at 6 33 AM. Additionally the fifth stage illustrates the user continuing to move the slider along the sliding region by continuing to drag the finger along the touchscreen in a rightwards direction relative to the GUI .

The sixth stage shows the GUI after the user adjusted the slider in the sliding region to another different time value. The sixth stage illustrates the map displaying the stops for a trip along the 16th Avenue route which is included in the filter in this example that is scheduled to stop at the Foothill 1 stop at 7 11 AM.

The first stage is similar to the first stage described above by reference to except the first stage of includes a selectable UI item for displaying stops in the map that are near the location of the device. As shown the map in the first stag is not showing a trip. The first stage also shows a user is selecting the UI item by using a finger to tap on the UI item displayed on the touchscreen to displaying stops in the map that are near the location of the device.

The second stage shows the GUI after the user selected the UI item . As shown the map in the second stage is displaying three stops that the commute application determined are close to the current location of the device which is represented by a dot in the map. Additionally the second stage illustrates the user starting to move the slider along the sliding region by using a finger to touch the slider displayed on the touchscreen and dragging the finger along the touchscreen in a rightwards direction relative to the GUI .

The third stage shows the GUI after the user adjusted the slider in the sliding region to a different time value. As shown the map in the third stage is displaying the stops for a trip along a route that is next scheduled to stop at one of the stops shown in the map in the second stage at or after 6 15 AM. The map also is displaying a banner over the stop that is close to the location of the device and is included in the trip indicating the arrival time at that near stop. In addition the third stage illustrates the user continuing to move the slider along the sliding region by continuing to drag the finger along the touchscreen in a rightwards direction relative to the GUI .

The fourth stage shows the GUI after the user adjusted the slider in the sliding region to another different time value. As illustrated the map in the third stage shows the stops for a trip along a route that is next scheduled to stop at another one of the stops shown in the map in the second stage at or after 9 25 AM. In the fourth stage the map is also displaying a banner over the stop that is close to the location of the device and is included in the trip indicating the arrival time at that near stop.

As described above illustrates a feature of the map view of some embodiments that allows a user to view different trips along different routes that stop at any stop that the commute application determines as being close to the location of the device. That is the feature allows the user to pivot through different trips along different routes that stop at one of the stops that are near the location of the device.

The first stage is similar to the first stage described above by reference to except the map in the first stage of shows tracks for a railway transit system. For this example the user in the first stage is selecting the UI item by using a finger to tap on the UI item displayed on the touchscreen to display stops in the map that are near the location of the device.

The second stage shows the GUI after the user selected the UI item . As shown the map in the second stage is displaying three stops that the commute application determined are close to the current location of the device which is represented by a dot in the map. For this example the three near stops are part of three different transit systems as indicated by different icons that represent the stops that each operates using different modes of transit. Additionally the second stage illustrates the user starting to move the slider along the sliding region by using a finger to touch the slider displayed on the touchscreen and dragging the finger along the touchscreen in a rightwards direction relative to the GUI .

The third stage shows the GUI after the user adjusted the slider in the sliding region to a different time value. As illustrated the map in the third stage is displaying the stops for a trip along a route that is next scheduled to stop at one of the stops shown in the map in the second stage at or after 6 15 AM. In this example the trip is along a route that is part of a bus transit system. The map also is displaying a banner over the stop that is close to the location of the device and is included in the trip indicating the arrival time at that near stop. In addition the third stage illustrates the user continuing to move the slider along the sliding region by continuing to drag the finger along the touchscreen in a rightwards direction relative to the GUI .

The fourth stage shows the GUI after the user adjusted the slider in the sliding region to another different time value. As illustrated the map in the fourth stage shows the stops for a trip along a route that is next scheduled to stop at another one of the stops shown in the map in the second stage at or after 7 05 AM. The trip in this example is along a route that is part of a subway transit system. In the fourth stage the map is also displaying a banner over the stop that is close to the location of the device and is included in the trip indicating the arrival time at that near stop. Additionally the fourth stage illustrates the user continuing to move the slider along the sliding region by continuing to drag the finger along the touchscreen in a rightwards direction relative to the GUI .

The fifth stage shows the GUI after the user adjusted the slider in the sliding region to another different time value. The map in the fifth stage is displaying the stops for a trip along a route that is next scheduled to stop at yet another one of the stops shown in the map in the second stage at or after 7 30 AM. For this example the trip is along a route that is part of a railway transit system. In the fourth stage the map is also displaying a banner over the stop that is close to the location of the device and is included in the trip indicating the arrival time at that near stop.

The above described illustrates a feature of the map view of some embodiments that allows a user to view different trips along different routes that stop at any stop that the commute application determines is close to the location of the device. That is the feature allows the user to pivot through different trips along different routes of different transit systems that stop at one of the stops that are near the location of the device.

The following will describe a feature of the map view of some embodiments that allows a user to view different trips along different routes that stop within a region in a map. In other words the feature allows the user to pivot through different trips along different routes that stop within the region in the map.

The first stage continues from the first stage described above by reference to . For this example the commute application transitions to the first stage when the commute application receives the selection of the flag in the map that represents the Foothill 1 stop. While the commute application in this example transitions to the first stage in response to the selection of a stop in the map the commute application of some embodiments provides additional and or other methods to transition to the first stage . For instance in some embodiments the commute application provides a selectable UI item in the display area at the first stage that when selected transitions to the first stage .

As shown the map in the first stage is displaying several selectable predefined regions indicated by dashed rectangles. Each of the predefined regions is for viewing different trips along different routes that stop within the predefined the region. The user in this example is selecting the predefined region by using a finger to tap on the predefined region displayed on the touchscreen.

The second stage illustrates the GUI after the user selected the predefined region . In response to the selection of the predefined region the commute application displayed the adjustable slider control panned the map so that the predefined region is at or near the center of the map and bolded the predefined region . In addition the commute application in this example identified trips along routes that have stops that stop within the predefined region . As shown in the second stage a trip that is scheduled to stop within the predefined region is displayed in the map and the slider is moved along the sliding region to the time value of the arrival time at the stop within the predefined region .

The third stage illustrates the user starting to move the slider along the sliding region by using a finger to touch the slider displayed on the touchscreen and dragging the finger along the touchscreen in a rightwards direction relative to the GUI . The commute application of some embodiments displays in the map any trips that are scheduled to stop within the predefined region at the time indicated by the slider in the sliding region .

The fourth stage shows the GUI after the user adjusted the slider in the sliding region to a different time value. As shown the map in the fourth stage shows two different trips along two different routes the Bundy route and the Campus route in this example . Each of the two trips includes a stop that is scheduled to stop within the predefined region at 6 45 AM. In addition the fourth stage illustrates the user continuing to move the slider along the sliding region by continuing to drag the finger along the touchscreen in a rightwards direction relative to the GUI .

The fifth stage illustrates the GUI after the user adjusted the slider in the sliding region to another different time value. In the fifth stage the map is displaying the stops for another trip along another route the 16th Avenue route in this example that is scheduled to stop within the predefined region at 7 11 AM.

The first stage is similar to the first stage described above by reference to except the first stage of illustrates a user specifying a region in the map by using a finger to touch a location on the touchscreen of the top left corner of the region and dragging the finger along the touchscreen in a down and right direction as indicated by an arrow.

The second stage illustrates the GUI after the user specified a region in the map. When the commute application of some embodiments receives a specified region in the map the commute application identifies trips along routes that stop within the specified region for display in the map view. For this example the user specified region covers a similar area of the map as the region shown in . As such the second stage shows the same trip that is scheduled next to stop within the region as the trip illustrated in the second stage of and the remaining stages are the same as the corresponding stages described above by reference to .

The first stage is similar to the first stage described above by reference to except the first stage of illustrates a user specifying a region in the map by using a finger to touch a location on the touchscreen of the top left corner of the region and dragging the finger along the touchscreen in a right and down direction as indicated by an arrow.

Upon receiving a specified region in the map the commute application of some embodiments identifies a predefined region closest to the specified region that touches and or overlaps the specified region. If a predefined region does not touch nor overlap the specified region in some embodiments commute application identifies a predefined region closest to the specified region that is within a threshold distance of the specified region.

The second stage illustrates the GUI after the user specified a region in the map and the commute application used the predefined region to identify trips along routes that have stops that stop within the predefined region for display in the map of the map view. The second stage shows the same trip that is scheduled next to stop within the predefined region as the trip illustrated in the second stage of . The remaining stages are the same as the corresponding stages described above by reference to .

Many of the examples and embodiments illustrated above show in a map the current location of the device on which the commute application is operating. However one of ordinary skill in the art will understand that the commute application of some embodiments actually does not display the current location of the device in the map and that the current location of the device is displayed in the map for the purposes of simplicity and explanation in these examples and embodiments.

As explained above in some embodiments the commute application provides several different features. The following section will describe details examples and embodiments of various other features provided by the commute application of some embodiments.

The GUI in the first stage is similar to the GUI in the first stage described above by reference to except the first stage of does not show a user selecting a trip in the scheduled view table. Rather the user in the first stage is selecting a power switch of the device by using a finger to depress the power switch in order to switch the device to a power saving mode.

The second stage shows the device after the user depressed the power switch . As indicated the second stage illustrates that the device is in a power saving mode. As such the device s display is turned off. In some embodiments while the device is in power saving mode the device s notification services provides notifications through a lock screen of the device . When the commute application of some such embodiments receives a notification for the Advisories feature the commute application sends the notification to the notification services of the device which in turn displays the notification through the lock screen of the device .

The third stage illustrates the device displaying a notification through the device s lock screen. As shown the notification is for the commute application and indicates that a route is running late. In some embodiments the device displays a notification by the commute application only when the advisory notification services is enabled on the device. Although in the illustrated example a notification in relation with a route running late is displayed one of ordinary skill in the art would realize that the device can display any other advisory notification e.g. a route is temporarily closed transit vehicle involved in an accident etc. when this service is enabled. In some embodiments the commute application receives advisory notifications from a set of servers when the set of servers are notified of the occurrence of certain events e.g. a transit vehicle involving in an accident etc. .

The first stage illustrates the GUI of the device which includes several selectable UI items for applications in the dock area and on a page of the GUI . One of the selectable UI items displayed on the page at the first stage is a selectable UI item for invoking the settings application. As illustrated a user is selecting the UI item by using a finger to tap the UI item displayed on the touchscreen in order to open the settings application.

The second stage shows the GUI of the device after the settings application has opened. As shown the page of the settings application includes a selectable UI item for displaying a notifications page of the settings application. The second stage also illustrates the user selecting the UI item by using a finger to tap the UI item displayed on the touchscreen to display the notifications page of the settings application

The third stage shows the GUI of the device displaying the notifications page of the settings application after the user selected the UI item . As shown the notifications page includes a selectable UI item for displaying a notifications page of the settings application for the commute application. Additionally the third stage shows the user selecting the UI item by using a finger to tap the UI item displayed on the touchscreen to display the notifications page of the settings application for the commute application.

The fourth stage shows the GUI of the device displaying the notifications page of the settings application for the commute application after the user selected the UI item . The notifications page for the commute application illustrated in the fourth stage includes a selectable UI item for enabling and disabling the commute application s notifications for the device s notification services. When the commute application s notifications are enabled for the device s notification services the commute application sends notifications that the commute application receives and or generates to the device s notification services for display on the device through the device s notification services. In addition the fourth stage shows the user selecting the UI item by using a finger to tap the UI item displayed on the touchscreen to enable the commute application s notifications for the device s notification services. The fifth stage illustrates the GUI of the device showing that the commute application s notifications are enabled for the device s notification services after the user selected the UI item . As described above enabling the commute application s notification services causes the device to display the advisory notifications upon occurrence of certain events.

The commute application of some embodiments displays different graphical representations of transit systems routes stops and or schedules for different localities. The elements of graphical representation e.g. fonts icons symbols colors shapes etc. in each particular locality are defined differently based on the graphical representations of the transit data e.g. the route data stop data schedule data etc. that the transit system operator or operators use in that locality. This approach allows the commute application to customize the views e.g. map views list views etc. displayed in the commute application to match the graphical representation of the transit data in different localities which in turn causes the application to appear more realistic to the user of the application.

The first stage illustrates the GUI of the device. As shown in the first stage a user is selecting the UI item by using a finger to tap the UI item displayed on the touchscreen in order to open the commute application. In some embodiments when the commute application is opened the commute application determines the locality in which the device is operating e.g. via global positioning system GPS location data Wi Fi based positioning system location data cellular tower data etc. and downloads route data for the locality if such data is not already stored on the device on which the commute application is operating.

The second stage shows a GUI of the commute application after the commute application determined that route data for the location in which the device is operating is not stored on the device. As shown the GUI is displaying a page indicating that data for local transit systems routes and stops are being downloaded to the device. In some embodiments the data for local routes and stops includes graphical representations e.g. icons for the different transit systems routes and or stops along the different routes.

The third stage illustrates the commute application after the commute application has finished downloading the data for the local routes and stops of the locality in which the device is operating. The third stage shows a page displaying the different routes and graphical representations e.g. icons of the routes for the locality in which the device is operating which is Boston in this example. As illustrated in this stage the list view that displays the list of different routes of a transit system in Boston has a particular symbol in a particular color shade for each route in the list.

For this example the fourth stage illustrates the GUI of the device which is operating at a locality different from the locality illustrated for stages . As shown the user in the fourth stage is selecting the UI item by using a finger to tap the UI item displayed on the touchscreen in order to open the settings application.

The fifth stage shows the GUI of the commute application after the commute application determined that route data for the location in which the device is operating is not stored on the device. As illustrated the GUI is displaying the same page shown in the second stage indicating that data for local routes and stops are being downloaded to the device.

The sixth stage illustrates the commute application after the commute application has finished downloading the data for the local routes and stops of the locality in which the device is operating. The page shown in sixth stage is displaying the different routes and graphical representations e.g. icons of the routes for the locality in which the device is operating which is New York in this example. As illustrated in this stage the graphical representations for displaying the routes of a transit system e.g. a bus line in New York is different than the graphical representation of the same or different transit system operating in Boston in stage 2. More specifically for the New York locality each route in the list view at stage is presented with a symbol that includes the first letter in the name of the route along with a background shape that follows the contour of the first letter. On the other hand for the Boston locality all the routes in the list view of stage are represented with a single shape e.g. a circle but in different colors shades .

In some embodiments the commute application shows different graphical representations of transit systems routes stops and or schedules for different localities. The elements of graphical representations e.g. fonts icons symbols colors shapes etc. in each particular locality in some embodiments are defined differently based on the graphical representations of the transit data e.g. the route data stop data schedule data etc. presented by the transit system operator in that locality. For instance in some embodiments a set of servers receives the graphical representations of transit systems routes stops and or schedules for each locality e.g. each city from one or more transit operators e.g. train operators bus operators etc. of the locality and or third parties that work with these transit operators. These servers or servers that communicatively couple to these servers then provide the received graphical representation to specify the route stop and or schedule display for a particular locality to a device s commute application when the device is operating in that particular locality.

This approach allows the commute application to customize the display of the transit data e.g. the route data stop data schedule data etc. in each locality to mirror the representations of this data in that locality. As stated above in this manner the commute application can use different symbols to display transit data in New York than the symbols it uses to display transit data in Boston and in each of these localities the application can use the symbols that are used by the transit operators in those localities to represent the transit data. The architecture for gathering different data for different localities will be further described below by reference to .

The first stage is the same as the first stage described above by reference to . The second stage is similar to the second stage described above by reference to except the second stage of does not show a user performing a scroll operation on the dynamic focus table. In some embodiments when a route is selected to view schedules for the route the commute application determines whether the schedule and route data stored at the device on which the commute application is operating need to be updated. The commute application of some embodiments determines this by accessing a set of servers and or services that provides schedule and route data and then comparing the schedule and route data stored at the device with the schedule and route data provided by the servers and or services. When the commute application determines that the schedule and route data stored at the device is not the same as the schedule and route data provided by the servers and or services the commute application downloads the schedule and route data from the servers and or services and uses this data to update the schedule and route data stored at the device.

The third stage shows the GUI of the commute application after the commute application determined that the commute application needs to update the schedule and route data stored at the device. As shown the GUI is displaying a page which includes a selectable UI item for exiting the page indicating that the commute application has updated the schedules and routes. In addition the third stage illustrates the user selecting the UI item by using a finger to tap the UI item displayed on the touchscreen in order to exit the page. Although in the illustrated example the GUI displays a separate page for notifying the user that the commute application has updated the schedules and routes the commute application s information in other embodiments is updated periodically without notifying the user.

The fourth stage illustrates the GUI after the user selected the UI item to exit the page shown in the third stage . The commute application of some embodiments returns to the page of the GUI that was displayed prior to updating the schedule and route data. As shown the commute application returned to the GUI illustrated in the second stage .

While illustrates an example of the commute application checking for a schedule and route data update when a route is selected to view the route s schedule the commute application of some embodiments checks for a schedule and route data update at additional and or different times. For example in some embodiments the commute application checks for a schedule and route data update when the commute application is opened.

As explained above the commute application of some embodiments provides users information about different routes as well as information about schedules for the different routes. To provide such information the commute application of some embodiments needs to access a set of servers and or services that provides the schedule and route data as well as definitions of different graphical representations in which the schedule and route data of a particular locality are presented. As noted above the schedule and route data of some embodiments are presented using different graphical representations e.g. icons symbols colors etc. for the different routes and or stops along the different routes in different localities. This approach allows the commute application to customize the views e.g. map views list views etc. displayed in the commute application to match the graphical representation of the transit data in different localities which in turn causes the application to appear more realistic to the user of the application.

In some embodiments a set of servers first generates the definitions of different graphical representations data of the transit systems e.g. the route data stop data schedule data etc. by receiving and processing the graphical representation data from a variety of vendors e.g. train operators bus operators third party providers etc. . The set of servers then places the processed data in data structures e.g. tiles that will be provided to a client device upon the client device s request. These data structures are then used by the commute application operating on the client device to render different graphical representations e.g. fonts icons symbols colors shapes etc. for different transit data. Several manners of server side generation of definitions of map areas or constructs to render and client side rendering of these definitions are further described in the U.S. patent application Ser. No. 13 632 040 entitled Virtual Camera for 3D Maps filed Sep. 30 2012 now U.S. Pat. No. 9 269 178. This application is incorporated herein by reference.

In addition illustrates route data storage schedule data storage and UI data storage . In some embodiments the route data storage is for storing data for different routes. For each route the route data storage stores the stops along the route the names of the stops the geographical location of the stops etc.

The schedule data storage of some embodiments stores information for different schedules for the different routes stored in the route data storage . In some embodiments information for a scheduled trip along a route includes the name of the route the stops along the route for the scheduled trip the arrival times at the stops along the route for the scheduled trip etc.

In some embodiments the UI data storage stores user interface data for the routes stored in the route data storage and the schedules stored in the schedule data storage . Examples of such user interface data include definitions of graphical representations e.g. fonts icons symbols colors shapes etc. of the transit systems routes stops and schedules for different views e.g. map view list view etc. displayed by the commute application of some embodiments. For example in some embodiments when two different transit bus operators in two different cities have two different styles for representing bus stops and or bus routes the commute application in some embodiments uses different styles to display the bus stops and or bus routes in the different cities e.g. uses each city s particular style to display that city s bus stops and or bus routes . In some embodiments the storages are implemented as one physical storage while in other embodiments the storages are implemented in separate physical storages. Still in some embodiments one or more of the storages are implemented across several physical storages.

As mentioned above by reference to the UI data storage stores different graphical representations of routes stops and or schedules for different localities. For instance in some embodiments the server set receives the graphical representations of routes stops and or schedules for each locality e.g. city state county etc. from one or more transit system data providers e.g. train operators bus operators third party providers etc. of the locality. This server set or servers that communicatively couple to this server set then provide the received graphical representation to specify the route stop and or schedule display for a particular locality to a device s commute application when the device is operating in that particular locality. This approach allows the commute application to render a customized display of the transit data e.g. the route data stop data schedule data etc. in each locality to mirror the representations of this data in that locality. In this manner the commute application can render different symbols to display transit data in New York than the symbols it uses to display transit data in Boston and in each of these localities the application can use the symbols that are used by the transit operators in those localities to represent the transit data.

The route manager handles route data that the route manager receives from the transit system data providers . The route manager receives route data from the transit system data providers through an application programming interface API that the server set provides to the transit system data providers . In some embodiments the API specifies a particular format in which to send data and the manner in which to send the data. In some embodiments the route manager processes the route data e.g. clean and or modify stop names route names etc. in order to transform the data to a defined format. The route manager then stores the route data in the route data storage .

When the route manager receives from a transit system data provider route data that is specified as an update to existing route data the route manager of some embodiments accesses the route data storage to identify the corresponding route data for which the received route data is an update. In some embodiments the route manager updates the corresponding route data stored in the route data storage with the received route data.

The schedule manager is responsible for managing schedule data received from the transit system data providers through the API . Upon receiving schedule data the schedule manager of some embodiments processes it e.g. clean and or modify stop names route names etc. in order to transform the data to a defined format. In some embodiments the schedule data references routes associated with the schedule data. The schedule manager in some embodiments interacts with the route manager or accesses the route data storage to identify the routes that are associated with the schedule data and to add the routes information to the schedule data. In some embodiments the schedule manager stores the schedule data in the schedule data storage .

In some embodiments the schedule data that the schedule manager receives from a transit system data provider is specified as an update to existing schedule data. The schedule manager in some such embodiments accesses the schedule data storage to identify the corresponding schedule data for which the received schedule data is an update. In some embodiments the schedule manager then updates the corresponding schedule data stored in the schedule data storage with the received schedule data.

In some embodiments the user interface manager manages UI data received from the transit system data providers through the API . The user interface manager of some embodiments processes the user interface data to transform the data to a defined format. In some embodiments the user interface data references routes and or schedules associated with the user interface data. The user interface manager in some embodiments interacts with the route manager and or the schedule manager or accesses the route data storage and or the schedule data storage to identify the routes and or schedules that are associated with the user interface data and to add the routes and or schedules information to the user interface data. The user interface manager then stores the user interface data in the UI data storage . Through the API the user interface manager of some embodiments receives different graphical representations of transit data for different localities and this allows the user interface storage to store different representations of transit data for different localities. As mentioned above and further described below these different representations are then used by schedule and route servers to specify different transit displays e.g. different displays of routes stops and or schedules for different localities.

Upon receiving from a transit system data provider UI data that is specified as an update to existing UI data the user interface manager of some embodiments accesses the UI data storage to identify the corresponding UI data for which the received UI data is an update. In some embodiments the user interface manager then updates the corresponding UI data stored in the UI data storage with the received UI data.

The commute application data server of some embodiments also provides updates for the schedule and route data. For this example the commute application data server provides data to the devices through a network not shown in such as a local area network LAN a wide area network WAN or an Intranet or a network of networks such as the Internet.

In some embodiments the servers and are each implemented by a different set of servers while in other embodiments the servers and are implemented by the same set of servers. As such when the servers and are implemented by different sets of servers the commute applications access two different points locations for the commute applications data.

In some embodiments the server is for hosting and providing dynamic data. In this example the server hosts and provides location data for transit vehicles. In some embodiments the location data that the server provides to the commute applications is used to display the location of transit vehicles on a map e.g. the map views described above by reference to .

The locations of transit vehicles are tracked in real time in some embodiments. The tracking information e.g. GPS location data for different transit vehicles is provided in some embodiments by any number of different vendors. The server of some embodiments retrieves and aggregates the tracking information from the vendors for the different transit vehicles. As illustrated in the server is storing location data from Vendor location data from Vendor location data from Vendor etc. This way the server is able to provide to the commute applications the location data for any of the different transit vehicles.

The server of some embodiments is for hosting and providing static and or slow changing data. As shown the server in this example hosts and provides schedule and route data. In some embodiments the server is implemented by the server set described above by reference to .

As explained above the commute application of some embodiments downloads different route data based on different localities. In some such embodiments the server hosts and provides the schedule and route data for the different localities. The schedule and route data for a particular locality in some embodiments includes UI data e.g. graphical representations of the routes such as icons for the particular locality which may differ from the UI data for another locality. As shown in the server is storing schedule and route data for locality 1 schedule and route data for locality 2 schedule and route data for locality 3 etc.

To provide different UI representations for different localities the server retrieves the different transit data representations e.g. different transit data definitions for different transit data constructs e.g. different routes stops schedules etc. from the UI data storage and then uses these representations to provide a definition of the transit data constructs for the commute application to render. In this manner the aggregation and distribution architectures illustrated in allow the commute application to display transit data differently in different localities. For instance as described above by reference to the commute application can render different style of icons to represent differently the transit stops in different cities. Each city s style of icons mimics in some embodiments how the transit operators in that city display an actual transit stop. Similarly the servers and the commute application for each locality display other transit data e.g. route depiction transit operator depiction etc. in a manner that mimics how the transit operators of that locality display such other transit data.

As shown the process starts by identifying at a set of external vendors for location data of a transit vehicle. In some embodiments one or more external vendors provide tracking information for the transit vehicle.

Once the external vendors have been identified the process retrieves at the location data for the transit vehicle based on the identified set of external vendors. In some embodiments some or all of the identified location data has been previously retrieved from the external vendors e.g. through periodic aggregation from external vendors and stored. The process in some such embodiments accesses e.g. a storage on the server the previously retrieved location data and retrieves location data for the transit vehicle. For any remaining portions of the location data the process retrieves the location data from some or all of the identified external vendors. In some embodiments the process retrieves the location data by retrieving all the location data for the transit vehicle from the identified set of external vendors.

Next the process processes at the retrieved data. In some embodiments the location data retrieved from the external vendors needs to be formatted according to a defined format that is usable by the commute application. The process in some such embodiments processes the location data into the defined format. In some embodiments the process performs other operations on the location data e.g. filtering cleaning modifying etc. in order to place the location data in a format useable by the commute application.

Finally the process provides at the processed location data to the requestor. Referring to as an example the process would provide the processed data to one of the devices that requested the location of the transit vehicle.

As shown the process begins by determining at the locality of the requestor. In some embodiments the requestor includes in its request data specifying the locality in which the requestor is operating. In other embodiments the process receives in the request metadata describing the location of the request. The process of some such embodiments determines a locality based on metadata. For instance in some embodiments the process accesses a lookup table that specifies a locality based on the location data in order to determine the locality of the requestor.

Next the process retrieves at schedule and route data for the determined locality. As described above by reference to some embodiments aggregate and store different schedule and route data for different localities. In some embodiments the process accesses such data to identify the schedule route and graphical representation data that correspond to the determined locality and retrieves the identified schedule route and graphical representation data.

Finally the process sends at the retrieved schedule and route data to the requestor. Referring to as an example the process would provide the schedule route and graphical representation data for the determined locality to one of the devices that requested the schedule and route data while operating in the determined locality. That is the process would send schedule and route data for locality 1 to device schedule and route data for locality 2 to device schedule and route data for locality 3 to device and schedule and route data for locality N to device . Each of these schedule and route data then will be presented to the user of the device based on the graphical representation of the locality in which the commute application operating on the device has requested this data.

Many of the above described features and applications are implemented as software processes that are specified as a set of instructions recorded on a computer readable storage medium also referred to as computer readable medium . When these instructions are executed by one or more computational or processing unit s e.g. one or more processors cores of processors or other processing units they cause the processing unit s to perform the actions indicated in the instructions. Examples of computer readable media include but are not limited to CD ROMs flash drives random access memory RAM chips hard drives erasable programmable read only memories EPROMs electrically erasable programmable read only memories EEPROMs etc. The computer readable media does not include carrier waves and electronic signals passing wirelessly or over wired connections.

In this specification the term software is meant to include firmware residing in read only memory or applications stored in magnetic storage which can be read into memory for processing by a processor. Also in some embodiments multiple software inventions can be implemented as sub parts of a larger program while remaining distinct software inventions. In some embodiments multiple software inventions can also be implemented as separate programs. Finally any combination of separate programs that together implement a software invention described here is within the scope of the invention. In some embodiments the software programs when installed to operate on one or more electronic systems define one or more specific machine implementations that execute and perform the operations of the software programs.

The commute application of some embodiments operate on mobile devices such as smart phones e.g. iPhones and tablets e.g. iPads . is an example of an architecture of such a mobile computing device. Examples of mobile computing devices include smartphones tablets laptops etc. As shown the mobile computing device includes one or more processing units a memory interface and a peripherals interface .

The peripherals interface is coupled to various sensors and subsystems including a camera subsystem a wireless communication subsystem s an audio subsystem an I O subsystem etc. The peripherals interface enables communication between the processing units and various peripherals. For example an orientation sensor e.g. a gyroscope and an acceleration sensor e.g. an accelerometer is coupled to the peripherals interface to facilitate orientation and acceleration functions.

The camera subsystem is coupled to one or more optical sensors e.g. a charged coupled device CCD optical sensor a complementary metal oxide semiconductor CMOS optical sensor etc. . The camera subsystem coupled with the optical sensors facilitates camera functions such as image and or video data capturing. The wireless communication subsystem serves to facilitate communication functions. In some embodiments the wireless communication subsystem includes radio frequency receivers and transmitters and optical receivers and transmitters not shown in . These receivers and transmitters of some embodiments are implemented to operate over one or more communication networks such as a GSM network a Wi Fi network a Bluetooth network etc. The audio subsystem is coupled to a speaker to output audio e.g. to output voice navigation instructions . Additionally the audio subsystem is coupled to a microphone to facilitate voice enabled functions such as voice recognition e.g. for searching digital recording etc.

The I O subsystem involves the transfer between input output peripheral devices such as a display a touchscreen etc. and the data bus of the processing units through the peripherals interface . The I O subsystem includes a touchscreen controller and other input controllers to facilitate the transfer between input output peripheral devices and the data bus of the processing units . As shown the touchscreen controller is coupled to a touchscreen . The touchscreen controller detects contact and movement on the touchscreen using any of multiple touch sensitivity technologies. The other input controllers are coupled to other input control devices such as one or more buttons. Some embodiments include a near touch sensitive screen and a corresponding controller that can detect near touch interactions instead of or in addition to touch interactions.

The memory interface is coupled to memory . In some embodiments the memory includes volatile memory e.g. high speed random access memory non volatile memory e.g. flash memory a combination of volatile and non volatile memory and or any other type of memory. As illustrated in the memory stores an operating system OS . The OS includes instructions for handling basic system services and for performing hardware dependent tasks.

The memory also includes communication instructions to facilitate communicating with one or more additional devices graphical user interface instructions to facilitate graphic user interface processing image processing instructions to facilitate image related processing and functions input processing instructions to facilitate input related e.g. touch input processes and functions audio processing instructions to facilitate audio related processes and functions and camera instructions to facilitate camera related processes and functions. The instructions described above are merely exemplary and the memory includes additional and or other instructions in some embodiments. For instance the memory for a smartphone may include phone instructions to facilitate phone related processes and functions. Additionally the memory may include instructions for a commute application as well as other applications. The above identified instructions need not be implemented as separate software programs or modules. Various functions of the mobile computing device can be implemented in hardware and or in software including in one or more signal processing and or application specific integrated circuits.

While the components illustrated in are shown as separate components one of ordinary skill in the art will recognize that two or more components may be integrated into one or more integrated circuits. In addition two or more components may be coupled together by one or more communication buses or signal lines. Also while many of the functions have been described as being performed by one component one of ordinary skill in the art will realize that the functions described with respect to may be split into two or more integrated circuits.

The bus collectively represents all system peripheral and chipset buses that communicatively connect the numerous internal devices of the electronic system . For instance the bus communicatively connects the processing unit s with the read only memory the GPU the system memory and the permanent storage device .

From these various memory units the processing unit s retrieves instructions to execute and data to process in order to execute the processes of the invention. The processing unit s may be a single processor or a multi core processor in different embodiments. Some instructions are passed to and executed by the GPU . The GPU can offload various computations or complement the image processing provided by the processing unit s .

The read only memory ROM stores static data and instructions that are needed by the processing unit s and other modules of the electronic system. The permanent storage device on the other hand is a read and write memory device. This device is a non volatile memory unit that stores instructions and data even when the electronic system is off. Some embodiments of the invention use a mass storage device such as a magnetic or optical disk and its corresponding disk drive integrated flash memory as the permanent storage device .

Other embodiments use a removable storage device such as a floppy disk flash memory device etc. and its corresponding drive as the permanent storage device. Like the permanent storage device the system memory is a read and write memory device. However unlike storage device the system memory is a volatile read and write memory such a random access memory. The system memory stores some of the instructions and data that the processor needs at runtime. In some embodiments the invention s processes are stored in the system memory the permanent storage device and or the read only memory . From these various memory units the processing unit s retrieves instructions to execute and data to process in order to execute the processes of some embodiments.

The bus also connects to the input and output devices and . The input devices enable the user to communicate information and select commands to the electronic system. The input devices include alphanumeric keyboards and pointing devices also called cursor control devices cameras e.g. webcams microphones or similar devices for receiving voice commands etc. The output devices display images generated by the electronic system or otherwise output data. The output devices include printers and display devices such as cathode ray tubes CRT or liquid crystal displays LCD as well as speakers or similar audio output devices. Some embodiments include devices such as a touchscreen that function as both input and output devices.

Finally as shown in bus also couples electronic system to a network through a network adapter not shown . In this manner the computer can be a part of a network of computers such as a local area network LAN a wide area network WAN or an Intranet or a network of networks such as the Internet. Any or all components of electronic system may be used in conjunction with the invention.

Some embodiments include electronic components such as microprocessors storage and memory that store computer program instructions in a machine readable or computer readable medium alternatively referred to as computer readable storage media machine readable media or machine readable storage media . Some examples of such computer readable media include RAM ROM read only compact discs CD ROM recordable compact discs CD R rewritable compact discs CD RW read only digital versatile discs e.g. DVD ROM dual layer DVD ROM a variety of recordable rewritable DVDs e.g. DVD RAM DVD RW DVD RW etc. flash memory e.g. SD cards mini SD cards micro SD cards etc. magnetic and or solid state hard drives read only and recordable Blu Ray discs ultra density optical discs any other optical or magnetic media and floppy disks. The computer readable media may store a computer program that is executable by at least one processing unit and includes sets of instructions for performing various operations. Examples of computer programs or computer code include machine code such as is produced by a compiler and files including higher level code that are executed by a computer an electronic component or a microprocessor using an interpreter.

While the above discussion primarily refers to microprocessor or multi core processors that execute software some embodiments are performed by one or more integrated circuits such as application specific integrated circuits ASICs or field programmable gate arrays FPGAs . In some embodiments such integrated circuits execute instructions that are stored on the circuit itself. In addition some embodiments execute software stored in programmable logic devices PLDs ROM or RAM devices.

As used in this specification and any claims of this application the terms computer server processor and memory all refer to electronic or other technological devices. These terms exclude people or groups of people. For the purposes of the specification the terms display or displaying means displaying on an electronic device. As used in this specification and any claims of this application the terms computer readable medium computer readable media and machine readable medium are entirely restricted to tangible physical objects that store information in a form that is readable by a computer. These terms exclude any wireless signals wired download signals and any other ephemeral signals.

While the invention has been described with reference to numerous specific details one of ordinary skill in the art will recognize that the invention can be embodied in other specific forms without departing from the spirit of the invention. In addition a number of the figures including conceptually illustrate processes. The specific operations of these processes may not be performed in the exact order shown and described. The specific operations may not be performed in one continuous series of operations and different specific operations may be performed in different embodiments. Furthermore the process could be implemented using several sub processes or as part of a larger macro process. Thus one of ordinary skill in the art would understand that the invention is not to be limited by the foregoing illustrative details but rather is to be defined by the appended claims.

While the invention has been described with reference to numerous specific details one of ordinary skill in the art will recognize that the invention can be embodied in other specific forms without departing from the spirit of the invention. For example the various affordances e.g. selectable UI items slider controls etc. illustrated in are examples of affordances that can be used in some embodiments. One of ordinary skill in the art will understand that any number of different affordances can be used in and . For instance illustrates the selectable UI item for displaying different trips along different routes that stop at a particular stop. In some embodiments the commute application provides a set of tools that allows a user to specify the particular stop for displaying different trips along different routes that stop at the particular stop. Thus one of ordinary skill in the art would understand that the invention is not to be limited by the foregoing illustrative details but rather is to be defined by the appended claims.

