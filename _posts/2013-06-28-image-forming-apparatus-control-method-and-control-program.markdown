---

title: Image forming apparatus, control method, and control program
abstract: An image forming apparatus having a display unit for displaying a program which can be executed in the apparatus so as to be identified is disclosed. The apparatus has: an input unit for inputting a program into the image forming apparatus; a display control unit for controlling a process for displaying select keys including a plurality of select keys to instruct a selection of a desired one of a plurality of programs stored in the image forming apparatus onto a display screen displayed on the display unit; and a discriminating unit for discriminating whether the select key to instruct a selection of the program inputted by the input unit can be further displayed onto the first display screen to display the select keys corresponding to the programs registered in the image forming apparatus in response to the input of the program from the input unit or not.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08744299&OS=08744299&RS=08744299
owner: Canon Kabushiki Kaisha
number: 08744299
owner_city: Tokyo
owner_country: JP
publication_date: 20130628
---
This application is a continuation application of U.S. patent application Ser No. 13 590 544 filed Aug. 21 2012 which is currently pending which is a continuation of 13 357 819 filed Jan. 25 2012 which issued as U.S. Pat. No. 8 275 282 on Sep. 25 2012 which is a continuation application of U.S. patent application Ser No. 12 874 671 filed Sep. 2 2010 which issued as U.S. Pat. No. 8 126 349 on Feb. 28 2012 which is a continuation application of U.S. patent application Ser. No. 11 103 593 filed Apr. 12 2005 which issued as U.S. Pat. No. 7 809 298 on Oct. 5 2010 which is a divisional application of U.S. patent application Ser. No. 10 435 078 filed on May 12 2003 which issued as U.S. Pat. No. 6 898 389 on May 24 2005.

This application also claims priority to Japanese Patent Application No. 2002 143081 filed May 17 2002 which is herein incorporate by reference in its entirety.

The invention relates to an image forming apparatus having functions of a printer a scanner a facsimile apparatus a copying apparatus and the like and their hybrid apparatus. The invention also relates to a control method and a control program for such an image forming apparatus.

Hitherto in a image forming apparatus and control for such an image forming apparatus it is a main stream that a system is constructed on an execution environment which is realized by a real time OS that is different from a general OS to be implemented in a PC personal computer is used for architecture.

As disclosed in JP A 2001 249814 there has been tried a method whereby another execution environment for the assembling system for example an execution environment such as Java registered trademark or the like is further constructed on the foregoing real time OS and an application module having high transplant performance for making simple control of a copying apparatus is downloaded from the outside and implemented although it is limitative.

There has also been tried a method whereby a design construction of an operation panel of a copying apparatus is changed by changing a program for controlling an operation display screen which is displayed onto a touch panel or the like of the copying apparatus. In the conventional image forming apparatus and control method for such an image forming apparatus a form such that a program which is executed in one of the execution environments occupies an operation unit is used in terms of a construction.

In an operation panel or a display panel provided for the image forming apparatus such as copying apparatus printer or the like an effective display area is not so wide due to problems of costs and an electric power consumption. Even if a display unit having a relatively large display area is used at the sacrifice of the costs or the like an amount of information to be displayed in the limited display area is increasing due to the realization of multifunctions of the recent image forming apparatus so that an amount of information which can be displayed is limited as compared with the amount of information to be displayed.

In an image forming apparatus to which an application can be downloaded and added for example there are the following problems such that buttons select keys to select a plurality of applications are displayed on one operation display screen the number of application select keys which can be added is fairly limited it is necessary to miniaturize the existing buttons for selecting the applications in association with the addition of the applications sufficient information to identify the applications cannot be displayed and the like.

Further in the conventional image forming apparatus and the control method for seen an image forming apparatus application modules on the first execution environment have been constructed in a manner such that they access a control module at the apparatus via the operation unit or provide some information via a network respectively so that there is a further problem of solving a problem such that the module which can use the operation unit is only the application module on the first execution environment or the application module on the second execution environment and an application which uses the operation unit cannot be formed on each execution environment.

The invention is made in consideration of at least one of the above problems. It is an object of the invention to provide a mechanism such that in a display unit of an image forming apparatus a function for displaying can be flexibly changed in accordance with a change in program in the image forming apparatus so as to utilize the limited display unit.

Another object of the invention is to provide a mechanism such that when a program is inputted into an image forming apparatus a display screen for selecting an application is automatically increased and the display screen is displayed so that it can be switched from an existing display screen.

Still another object of the invention is to provide a mechanism such that when a program in an image forming apparatus is deleted unnecessary display screens are automatically collected and a simple display screen which can be easily handled by by the user is provided.

According to one aspect of the present invention there is provided an image forming apparatus having a display unit for displaying a program which can be executed in the apparatus so that is can be identified comprising input means for inputting a program into the image forming apparatus display control means for controlling a process for displaying select keys including a plurality of select keys to instruct a selection of a desired one of a plurality of programs which are stored in the image forming apparatus onto a display screen which is displayed on the display unit and discriminating means for discriminating whether the select key to instruct a selection of the program inputted by the input means can be further displayed onto a first display screen to display the select keys corresponding to the programs which have already been registered in the image forming apparatus in response to the input of the program from the input means or not.

According to another aspect of the present invention there is provided an image forming apparatus having a display unit for displaying a program which can be executed in the apparatus so that it can be identified comprising deleting means for deleting the program from the image forming apparatus display control means for controlling a process for displaying select keys including a plurality of select keys to instruct a selection of a desired one of a plurality of programs which are stored in the image forming apparatus onto a display screen of the display unit and controlling a process for displaying as display screens in the display unit a first display screen to display a first select key which can instruct a selection of at least one of a plurality of programs stored in the image forming apparatus and a second display screen which can be shifted from the first display screen and includes a second select key which can instruct a selection of at least one of the plurality of programs and discriminating means for discriminating whether the first select key end the second select key can he displayed as one display screen onto the display screen in the display unit in response to the deletion of the program in the image forming apparatus by the deleting means or not.

Other features and advantages of the present invention will be apparent from the following description taken in conjunction with the accompanying drawings in which like reference characters designate the same or similar parts throughout thereof.

A preferred example of an embodiment of the invention will be described hereinbelow with reference to the drawings.

The reader unit reads an image of an original set in the image forming apparatus and outputs image data corresponding to the original image to the printer unit via the core unit . The printer unit records an image corresponding to the image data from the reader unit onto recording paper.

Each of computers and is shown as an example of the information processing apparatuses and is a personal computer or a workstation PC WS . Each of the computers and transmits PDL print data to the core unit via a network and the network processing unit . The PDL developing unit develops the received PDL print data into image data which can be recorded by the printer unit . An image corresponding to the image data is printed by the printer unit via the core unit .

Reference numeral denotes a facsimile FAX apparatus. For example the FAX apparatus transmits the original image read by the reader unit via a public line network modem communication unit and core unit or the FAX apparatus receives image data from the other computer via the public line network modem communication unit and core unit . The received image is printed by the printer unit printer engine unit .

As an example of storing means of the information processing apparatuses of the invention there are hard disks and in the computers and . Reference numerals and denote display apparatuses of the computers and for example LCD displays. Reference numerals and denote input devices such as keyboards of the computers and . The construction in is shown as an example and the system construction is not limited to it.

The image forming apparatus main body comprises a platen glass a scanner scanning mirror and a lens a CCD sensor image sensor unit a photosensitive drum a primary charger a preexposure lamp a cleaning device a transfer charger an exposure control unit a developing unit a transfer belt an upper cassette a lower cassette pickup rollers and paper feed rollers and a resist roller an adsorption charger a transfer belt roller prefixing chargers and a fixing unit a paper ejection roller a paper ejection flapper a reversal path a paper refeed tray a multiple flapper a conveyance path a paper feed roller a path an election roller and a reversal roller . The above construction will be described in detail. The reader unit in mentioned above corresponds to a block comprising the platen glass to the CCD sensor in . The printer unit on mentioned above corresponds to a block comprising the photosensitive drum to the reversal roller in .

First the reader unit will be described hereinbelow. The platen glass is an original mounting base plate. The scanner comprises an original illumination lamp a scanning mirror and the like. When the scanner is reciprocated and scanned in a predetermined direction by a motor not shown reflection light of the original is transmitted through the lens via the scanning mirrors to thereby forcing an linage onto the CCD sensor . The image is converted into an electric signal by the CCD sensor . The signal is A D converted and shading corrected by a scanner image processing unit not shown arranged near the CCD sensor . The resultant processed signal is stored as digital image data into a memory via a gate array of the core unit which will he explained hereinlater.

The printer unit will be subsequently explained in detail. The exposure control unit is constructed by a laser beam generator a polygon scanner and the like. The digital image data stored in the memory of the core unit is read out from the memory. The gate array of the core unit which will be explained hereinlater converts the digital image data into a video signal and sends it to the printer unit via an interface I F . A laser beam modulated on the basis of the video signal is irradiated onto the photosensitive drum . The primary charger the developing unit transfer charger cleaning device and preexposure lamp are arranged around the photosensitive drum . In an image forming unit around the photosensitive drum as a center the photosensitive drain is rotated in the direction shown by an arrow in the diagram by a motor not shown . After the photosensitive drum was charged to a desired electric potential by the primary charger the laser beam from the exposure control unit is irradiated onto the drum so that an electrostatic latent image is formed.

Transfer paper which has been picked up from the upper cassette or the lower cassette and fed by the pickup roller or is conveyed to the apparatus main body by the paper feed roller or . The paper is fed to the transfer belt by the resist roller . The visualized toner image is transferred onto the transfer paper by the transfer charger . The toner remaining on the surface of the photosensitive drum after the transfer is removed therefrom by the cleaning device so that the drum surface is cleaned. Residual charges on the drum surface are discharged by the preexposure lamp . The transfer paper after the transfer is separated from the transfer belt . The toner is charged again by the prefixing chargers and . Subsequently the paper is sent to the fixing unit fixed by pressure and heat and ejected to the outside of the main body by the paper ejection roller .

The adsorption charger allows the transfer paper sent from the resist roller to be adsorbed to the transfer belt . The transfer belt roller is used to rotate the transfer belt and at the same time allows the transfer paper to be adsorbed and charged onto the transfer belt in cooperation with the adsorption charger as a pair.

A deck in which for example 4000 sheets of transfer paper can be stacked is attached to the image forming apparatus main body . A lifter of the deck is elevated in accordance with a quantity of transfer paper stacked in the deck so that the transfer paper is always come into contact with a paper feed roller . A multi manual insertion tray in which for example 100 sheets of transfer paper can be stacked is attached to the image forming apparatus main body .

The paper ejection flapper switches a path on the duplex recording aide or the multiple recording side and a path on the paper ejection side. The transfer paper fed out from the paper ejection roller is switched to the path on the duplex recording side or the multiple recording side by the paper ejection flapper . The multiple flapper switches the path on the duplex recording side or the path on the multiple recording side. By inclining the multiple flapper to the left the transfer paper is directly guided to the conveyance path without passing through the reversal path . The paper feed roller feeds the transfer paper to the photosensitive drum side via the path .

The ejection roller is arranged near the paper ejection flapper and ejects the transfer paper switched to the ejection side by the paper election flapper to the outside of the apparatus. In the duplex recording duplex copy mode the paper ejection flapper is lifted upward the multiple flapper is inclined to the right and the recorded copied transfer paper is reversed by the reversal path . After that the multiple flapper is inclined to the left and the transfer paper is stacked onto the paper refeed tray in a upside down state via the conveyance path . In the multiple recording multiple copy mode the paper ejection flapper is lifted upward the multiple flapper is inclined to the left the recorded copied transfer paper is fed via the conveyance path and thereafter the transfer paper is stacked onto the paper refeed fray . The sheets of transfer paper stacked on the paper refeed tray are picked up one by one from the bottom and Guided to the resist roller of the main body by the paper feed roller along the path .

When the transfer paper is reversed and ejected from the main body the paper ejection flapper is lifted upward the multiple flapper is inclined to the right and the recorded copied transfer paper is conveyed to the conveyance path side. After a rear edge of the transfer paper passes the first feed roller the transfer paper is conveyed to the second feed roller side by the reversal roller . The transfer paper is turned over and ejected to the outside of the apparatus by the ejection roller . The transfer paper ejected to the outside of the apparatus is conveyed to a finisher .

The finisher is need to stack the transfer paper printed in the image forming apparatus . Reference numeral denotes a path to receive the transfer paper printed in the image forming apparatus . A roller in need to feed the transfer paper conveyed from the path onto a path or . To feed the paper to the path a paper ejection flapper is moved downward. To feed the paper to the path the paper ejection flapper is moved upward. When the transfer paper passes through the path it is ejected onto a bin by a roller . When the path is selected the transfer paper is ejected onto the bin as it is. For example if the copy is performed the transfer paper is elected onto a bin . If the PDL print is performed the transfer paper is ejected onto the bin . Thus convenience for the user is improved.

The above construction will be described in detail. The image data from the reader unit is transferred to the data processing unit via the I F . The data processing unit executes image processes such as rotating process zooming process or the like of an image. The image data transferred to the data processing unit is accumulated as digital image data into the memory via the CPU . The image data is transferred to the printer unit via the CPU data processing unit and I F in accordance with a control command which is generated from the operation unit as a preferred example of the display unit of the invention or the image data is transferred to the modem communication unit and the network processing unit via the I F unit . The operation unit is constructed by using for example a liquid crystal panel. The liquid crystal panel has a function of a touch pad. When the operator user touches this panel a key corresponding to a predetermined command or setting can be selected.

Code data indicative of the image inputted via the network processing unit is transferred to the CPU via the I F unit . If the CPU determines that the transferred code data is a PDL code the PDL code is transferred to the PDL developing unit via the I F unit and developed into image bit map data here. The image bit map data is accumulated into the memory via the I F unit and CPU . After that the data is transferred to the printer unit via the CPU data processing unit and I F unit and printed.

FAX image data from the modem communication unit is transferred to the data processing unit via the I F unit and CPU and thereafter it is transferred to the printer via the I F unit .

The CPU makes the control as mentioned above in accordance with a control program stored in the memory and the control command received from the operation unit via the I F unit . The memory is also used as a work area of the CPU . As mentioned above in the image forming apparatus processes in which functions such as reading of the original image print of the image transmission reception of the image storage of the image input output of the data to from the computer and the like are combined can be executed by the core unit of image input output control unit as a center. The interface unit I F unit as a preferred example of the input means of the invention can download various applications and control programs from a server or another image forming apparatus on as external network and store them into the memory . There is a detachable memory slot not shown as a preferred example of other input means. Programs can be also downloaded from a portable memory medium such as flexible disk IC card. DVD CD ROM or the like connected to the memory slot besides the network and stored into the memory .

Reference numeral denotes an example of a first execution environment of the invention to control the whole image forming apparatus. Generally the first execution environment is each module of a real time OS which can control various functions of a copying apparatus in a real time manner of a library group which can instruct the CPU to critically control various functions including optional devices and an extension card of the copying apparatus. The first execution environment is realized by a module group for providing interface commands to the application which operates at an upper level of them. Reference numeral denotes a controller control unit which operates on the first execution environment . It is assumed that the controller control unit is constructed by modules for controlling the reader unit printer unit modem communication unit PDL developing unit and the like.

Reference numeral denotes an application programming interface hereinafter referred to as an API . The application programming I F has a function for executing a process to access the controller control unit by this interface and a function for transmitting control commands to the hybrid apparatus or the like via the network processing unit and the network in response to a command train from the applications. Reference numeral denotes an application which operates on the first execution environment . The application can request the controller control unit to execute various processes by using the API . The application can also communicate with the computers information processing apparatuses and on the network via the network processing unit .

Reference numeral denotes a second execution environment which is optimum to execute a specific application. For example it is realized by a virtual machine or the like of Java registered trademark . Reference numeral denotes an API for allowing the application on the second execution environment of the invention to access the controller control on unit which operates on the real time OS as a first execution environment. In the embodiment the API has a function of a conversion module to call the API and a function for transmitting the control command to the image forming apparatus or the like via the network processing unit and the network .

Reference numeral denotes a framework module having a function for integratedly controlling the application on the second execution environment . Reference numeral denotes an application for managing other application on the second execution environment of the invention. The application management application executes download upload deletion and invalidation of applications and which will be explained hereinlater in cooperation with the framework module .

Reference numerals and denote the applications which operate on the second execution environment . The applications and request the controller control unit to execute various processes by using the API and can also communicate with the information processing apparatuses and on the network via the network processing unit .

Reference numeral denotes a resource management unit for managing resources which are used by the second execution environment of the invention. The resource management unit operates on the real time OS for realizing the first execution environment. When the virtual machine itself for realizing the second execution environment the API the framework module or all applications on the OS use the resources such as a memory and the like the resource management unit limits the resources so that the resources of a predetermined amount or more cannot be used.

First the API will be explained. The API is a see of interfaces an the real time OS respectively corresponding to a plurality of control commands for accessing the controller control unit which is controlled by the real time OS as a first execution environment. Each of the interfaces corresponding to the control commands has parameters to designate a target apparatus for executing the control command and the controller control unit in the same apparatus and further the controller control unit of the image forming apparatus connected by the network can be designated as targets of designation.

In the embodiment it is assumed that an Interface A corresponding to a control command A has been called. Although it is assumed here that the command and the interface can be called in a one to one correspondence relational manner it is also possible that a plurality of simple commands are combined and regarded as one new command and it is made to correspond to the interface A. A control application calls the interface A of the API . An identifier indicative of the image Forming apparatus serving as a processing target can be added to the interface A. The API interprets the identifier added to the interface A. If it is determined that the apparatus shown by the identifier is the image forming apparatus itself provided with the API the API executes the command A for the controller control unit and executes the corresponding process in . If it is determined that the control target of the command is other than the apparatus the image forming apparatus on the basis of the similar identification information the API transmits data in a packet format corresponding to the relevant command of the network via the network processing unit in . The network processing unit obtaining means of the image forming apparatus obtains the command from the data in the packet format and sends the data of the command A to a communication application in . The communication application recognizes the interface A corresponding to the command A and calls the interface A of the API for the controller control unit as a target in the apparatus in .

At this time the interface A called in and the interface A called in are the same. Since the target of the command exists in the apparatus the API executes the process corresponding to the command A for the controller control unit in . At this time the process corresponding to the command in and the process corresponding to the command in are the same.

Each interface included in the API is shown as a preferred example of commands in the second format of the invention. Each interface included in the API is shown as a preferred example of commands in the first format of the invention.

First the API will be described in detail. The API is a set of interfaces on the second execution environment and includes an interface which can call the interfaces which are provided by the API . Each of the interfaces corresponding to the commands of the API has parameters to designate a target apparatus for executing the control command in a manner similar to the API and the controller control unit in the same apparatus and further the controller control unit of the image forming apparatus connected by the network can be designated as targets of designation.

A case where the interface A which needs to be converted into the first execution environment and executed has bean called is considered here. First if the processing target in which the called interface A is activated exists in the apparatus the interface of the API is called. When the interface of the API is called the interface of the API which can be interpreted by the real time OS is activated and called. When it is called the interface of the API activates the process corresponding to the command A . The API executes the process corresponding to the command to the controller control unit . If the target of the command is out of the apparatus for example the image forming apparatus a packet on the network corresponding to the command is transmitted via the network processing unit . The network processing unit of the image forming apparatus receives the transmitted packet and sends the packet data corresponding to the command A to the communication application in . The communication application calls the interface A of the API for the controller control unit in the apparatus in . At this time the interface A called in and the interface A called in are the same.

In this manner the API as an interface group which does not depend on each of a difference regarding whether the function to be operated exists in the image forming apparatus or in another image forming apparatus a difference of the architecture of the apparatuses and a difference of the OSs can be provided. By utilizing the API merely by learning the system of the API of the execution environment various applications can be developed. Further since the mechanism such that the API can be called and utilized without an overhead is provided when the various functions of the image forming apparatus are controlled if the API as a resource which has already been developed exists it can be utilized.

Since the target of the command exists in the apparatus the API executes the process corresponding to the command A for the controller control unit in . At this time naturally the process corresponding to the command in and the process corresponding to the command in are the same. Naturally the processes in to and the processes in to are the same and the operation which is executed in the case of using the API and the operation which is executed in the case of using the API are the same.

Although the engine unit is controlled has been mentioned above if a video controller unit a DC controller unit and a network board are provided as well as various controllers for controlling the engine unit the control program which is executed in the first execution environment includes a control command for controlling a network board unit and storage contents of a memory in an HDD in the image forming apparatus.

As an application for calling the normal method process for example there is an application module for realizing a program in which a critical response is unnecessary for example a graphical user interface of an operation panel of a copying apparatus or a printer by software. As a case of calling the native method there is a case where the printer engine control program calls a process which controls the engine control unit engine unit of the copying apparatus the printer or the like and in which the critical response is necessary from the application via a native method interface of for example Java registered trademark .

A copy mode key is a key which is pressed in the case of executing the copying operation. When the copy mode key is pressed a display screen of a copy mode shown at in is displayed. When an extending function key is pressed the apparatus enters a mode for setting a duplex copy a multicopy movement a binding margin frame trimming or the like.

When an image mode key is pressed the apparatus enters a setting mode to execute a special process each as meshing shadowing trimming or masking to a copy image.

When a user mode key is pressed a mode memory can be registered and a default mode display screen can be set.

When an application zoom key is pressed the apparatus enters a mode for independently zooming an original image in the X and Y directions and a mode for a zoom program to calculate a zoom ratio on the basis of a size of original and a copy size. An M key an M key or an M key is pressed when the user calls a mode memory registered therein. An option key is pressed to set an optional function such as a film projector or the like in order to directly copy an image from a film.

A sorter key is pressed when the user sets a sorting function a non sorting function or a grouping function. An original mixture key is pressed when the user sets an original of the A4 size and an original of the A3 size or an original of the B5 size and an original of the B4 size together onto an original feeder. A direct copy key is pressed to set a copy magnification to 100 . A sheet select key is pressed to select a copy sheet. A reduce key or an enlarge key is pressed to execute a reducing or enlarging process of a regular size. Concentration keys and are used to adjust concentration upon copying. An original image is copied lightly each time the key is pressed and it is copied densely each time the key is pressed. A concentration indicator is provided to indicate a degree of copy concentration. When the concentration key is pressed a mark of the indicator is moved to the left and when the concentration key is pressed the mark is moved to the right. An AE key is pressed when the user wants to copy an original such as a newspaper whose texture is dense in an automatic concentration control mode.

A HiFi key is pressed when the user wants to copy an original such as a photograph original in which halftone concentration is dense. A character emphasis key is pressed when the user wants to emphasize characters when a character original is copied. A sending mode key is pressed when the user makes facsimile transmission or the like. A box mode key is pressed to operate data stored in a box. Each of the copy mode hey sending mode key and box mode key corresponds to the operation to select the application which is executed on the OS .

An extending mode key is a mode key of the invention and pressed to shift the display screen to a display screen for selecting and executing the application which is executed on the second execution environment of the invention. Although it is displayed in a manner similar to the case of selecting another mode key in the embodiment such a display screen can be also displayed so as to be more easily and visually recognized by modifying a size or a design of the key or the like.

A status line displays a message showing a status of the apparatus or print information. In the case of the diagram it indicates that the copying operation is being executed during copy . A history key is pressed to display history information of a printed job. For example information such as end time of a print job user name file name the number of print copies and the like is displayed.

When the copy mode display screen is displayed if the execution of the copying operation is instructed by a start key not shown or the like interfaces for performing the start of the process the setting of various parameters and the like to the API are sequentially called . Ordinarily since the copying operation is instructed into the apparatus in the API a command is sent to the controller control unit so that the copying operation is executed.

Reference numeral denotes a display screen corresponding to a present set item. Reference numeral denotes a list display for displaying a list of contents of the present set item and contents of set items. The present set item is displayed in an emphasis display form or the like so that it can be visually and easily recognized. In the embodiment such an emphasis display is realized by displaying the present set item by bold characters. However a method tor the emphasis display is not particularly limited to it but an arbitrary method can be used so long as the selected item can be easily identified. Reference numeral denotes present set contents of the number of copies and indicates present set contents of the sheet.

Reference numeral denotes present set contents of the Nup copy mode present set contents of the duplex copy mode present set contents of the sorting mode present set contents of the stapling mode and a button which is pressed when the user wants to return the set contents to the previous set contents. The display screen is displayed again so as to show the contents corresponding to the set items. In the embodiment it is also possible to construct the display screen in a manner such that if the corresponding item does not exist the button itself is not displayed. A button is pressed when the user wants to advance the set contents to the next set contents. The display screen is displayed again so as to show the contents corresponding to the set items. In a status line a message showing the status of the apparatus or the print information is displayed. In the case of the diagram it indicates that the copying operation is being executed during copy .

In App mode key or an App mode key is pressed to select the application corresponding thereto. An original mode key is a mode key according to the invention and is used to shift the display screen to the display screen to select and execute the application which is executed on the real time OS as an example of the first execution environment of the invention. Although it is displayed in a manner similar to the case of selecting another mode key in the embodiment such a display screen can be also displayed so as to be more easily and visually recognized by modifying the size or design of the key or the like. When the simple copy mode key is displayed if the execution of the copying operation is instructed by the start key not shown or the like interfaces for performing the start of the process the setting of various parameters and the like to the API are sequentially called . Ordinarily since the copying operation is instructed into the apparatus the corresponding interface in the API is called . The API send a command to the controller control unit in the apparatus so that the copying operation is executed.

Reference numeral denotes a present status of the application. In activate denotes that the application is being executed at present and stop denotes that the application is not executed. Reference numeral denotes a version of the application date time of the execution of the downloading process a storage destination of the downloaded application and a type of application. In the diagram general indicates the application which is ordinarily used and system indicates the application which is used for a special object.

Reference numeral denotes a UI that is whether something is displayed to the operation unit or not and yes denotes that it is displayed a version of the framework module necessary for executing the application and a version of the API necessary for executing the application. The information which is held as application information is not limited to the above mentioned information hot information or the like of the information processing apparatus on the downloading source side can be also stored.

Reference numeral denotes a list display for displaying a list of applications which have already been downloaded. In the embodiment a list of the applications of the application type shown in is generally displayed here Reference numeral denotes an item showing the name of the application and contents of the application name are displayed here and an item showing the present status of the application and contents of the status are displayed here.

Reference numeral denotes an item showing the version of the application and contents of the version are displayed here an item showing the date time when the application has been downloaded and contents of the date time are displayed here and a download button which is selected when a new application is downloaded. After it is selected the display screen is shifted to a download display screen which will be explained hereinlater. Reference numeral denotes an upload button. By selecting a desired application from the list of the applications and selecting the upload button the downloaded application is uploaded into a predetermined information processing apparatus. After it is selected the display screen is shifted to an upload display screen which will be explained hereinlater.

Reference numeral denotes a delete button which is selected to delete the application. By applications and selecting the delete button the application is deleted from the image forming apparatus . Reference numeral denotes an application activate button according to the invention. By instructing the framework module to activate a predetermined application the application in a stop state is activated.

Reference numeral denotes an application stop button according to the invention. By instructing the framework module to stop a predetermined application the application in an activating state is stopped.

Reference numeral denotes a mode key to select the application management application according to the invention.

Reference numeral denotes a simple copy mode key shown in FIG an App mode key and a states line to display a massage showing the status of the apparatus or toe print information. In the case of the diagram it indicates that the copying operation is being executed during copy . The contents which are displayed in the application list are not particularly limited to those shown in the embodiment. A display order and a display method are not particularly limited.

Reference numeral denotes an input field to designate the application to be downloaded. In the embodiment it is assumed that a predetermined application is downloaded from the information processing apparatus connected by the network . Reference numeral denotes a button to interrupt the process shown on the display screen and shift the present display screen to the display screen of . Reference numeral denotes a button to instruct the start of the downloading. By pressing the button processes shown in a flowchart which will be explained hereinlater are executed.

A method of designating the application to be downloaded is not particularly limited to the method shown in the embodiment. The apparatus can be also constructed in a manner such that the information processing apparatuses and and the like on the network are visually arranged the contents of the storing device or in each information processing apparatus are visually displayed and the target to be downloaded can be selected.

In step S a storage destination location to store the downloaded data is formed. The stored storage destination is stored into a predetermined area in the memory . In step S the data is downloaded. The predetermined data in the information processing apparatus is downloaded in the field formed in step S. The data to be downloaded can be compressed by some means or a plurality of files can be downloaded.

In step S a part of the downloaded data is analyzed and a version of the framework module in the information necessary for executing the downloaded application is discriminated. If OK in step S step S follows. If NG step S follows. In step S a part of the downloaded data is analyzed and a version of the API in the information necessary for executing the downloaded application is discriminated. If OK in step S step S follows. If NG step S follows.

In step S the downloaded data is registered as an application which can be operated into the application information in .

In step S the downloaded data is deleted from the memory because it is determined that the downloaded data is the application which cannot be operated.

Reference numeral denotes a button to interrupt the process shown on the display screen and shift the present display screen to the display screen of . Reference numeral denotes a button to instruct the start of the uploading. After the upload destination designated in the input field was confirmed all contents downloaded in downloading step S in are uploaded. A designating method of the information processing apparatus on the upload destination side is not particularly limited to the method shown in the embodiment. The apparatus can be also constructed in a manner such that the information processing apparatuses and and the like on the network are visually arranged the contents of the storing device or in each information processing apparatus are visually displayed and the upload destination can be selected.

In step S a memory obtaining request has been made via the OS or not is discriminated. If YES step S follows. If NO step S follows. In step S a size in which the sum of the memory obtaining requests made so far via the OS is added to a memory size requested this time has reached a predetermined available upper limit value or not is discriminated. If NO step S follows. If YES the processing routine is finished as an error statue.

In step S the memory size requested this time is added to the sum of the memory obtaining requests made so far via the OS and a requested memory area is allocated. In step S whether a memory release request has been made or not is discriminated. If YES step S follows. If NO step S follows. In step S the memory size corresponding to the number of times of the release request this time is subtracted from the sum of the memory obtaining requests made so far via the OS and the allocated memory area is released.

In step S whether a sled forming request has been made or not is discriminated. If YES step S follows. If NO step S follows. In step S whether the number in which the number of times of the sled forming process performed so far via the OS and the present request are added has reached a predetermined available upper limit value or not is discriminated. If NO step S follows. If YES the processing routine is finished as an error status.

In step S the present request is added to the sum of the number of times of the sled forming process performed so far via the OS and a sled is formed.

In step S a sled release request has been made or not is discriminated. If YES step S follows. If No step S follows. In step S the number of sleds corresponding to the present release request is subtracted from the number of sleds formed so far via the OS and the allocated sled is released. In step S other process is executed. Although only a memory use amount and the number of formed sleds have been mentioned in the embodiment the invention can he applied to a resource such as the number of sockets or the like which are used to communicate in the network processing unit .

As shown in the application list in the number of applications which can be downloaded or activated in the first embodiment of the invention can be set to be larger than the number at mode keys and shown in .

When a scan application is stopped or deleted on the operation display screen of the display screen is returned to the display screen of the mode keys of . That is since only up to four select keys including a shift hey are displayed on one display screen if the scan application is added and activated in the state shown in the operation display screen is as shown in and the extending mode key appears. By pressing the extending mode key the display screen is shifted to the display screen of . If another program is further added in the state shown in select keys further sequentially appear in an upper portion on the right neighboring side of the scan key and on the left side of the original key in and a display screen not shown similar to that of is displayed.

Although the embodiment has been mentioned only with respect to the case where the number of applications on the OS side is increased naturally even when the number of applications on the OS side is increased the invention can similarly cope with such a case by providing the original mode key original mode key and the like.

If it is determined in step S that there is no ID which is made to correspond to the display screen or the memory area is full and a new display screen cannot be prepared the error process is executed in step S. If it is determined in step S that the new display screen which is displayed by switching the present display screen can be added the control application forms display control information of the new display screen and registers it into the memory in step S. In step S the control application mutually calls the present display screen in step S and the new display screen and makes them correspond to each other so that they can be shifted. Further step S follows. In step S the display control information for example the display control information which displays into the memory so that the function select key for example the extending mode key to call the new display screen is newly displayed to the present display screen in step S. Further in step S the display control information is registered into the memory so that the function select key to instruct the selection of a new application is displayed onto the new display screen added in step S. In step S the present display screen in step S is function select key can be added and the new display screen added in step S is updated and registered as a present display screen. The processing routine is finished.

It is also possible to construct the apparatus in a manner such that by a plurality of management application implemented in the image forming apparatus the program the first application on the real time OS and the program the second application on the virtual machine execute a process such that each application module is downloaded from the outside of the image forming apparatus into the image forming apparatus or uploaded frosts the inside of the image forming apparatus to the outside of the image forming apparatus or it is deleted or invalidated.

There is also a case where the management application deletes the application which can be executed on the virtual machine. For example a display control program discriminating means display control means displays the select key including a plurality of select keys to instruct the selection of a desired one of a plurality of programs stored in the copying apparatus onto the display unit of the operation unit of the copying apparatus. In response to the deletion of the program in the copying apparatus whether the select key corresponding to the application to be deleted and the key corresponding to the application which subsequently remains in the image forming apparatus can be displayed as one display screen onto the display screen of the display unit or not is discriminated. For example in the state of when a delete button is pressed the scan application is deleted. At the same time it is prevented that the extending mode button is displayed on the display screen in . That is the display control program registers the display information which cannot call the display screen the second display screen in from the display screen the first display screen in into the memory.

In the API and controller control unit in if the exclusive execution of the control command of the image forming apparatus is enabled since the interfaces for controlling the image forming apparatus are called from both of the first and second execution environments via the API the application module in any of the execution environments and the control module of the image forming apparatus can sequentially use the functions of the image forming apparatus. Thus the image forming apparatus can he stably made operative.

Applications having equivalent ability can be developed and used in any of the execution environments. A part of the control programs in which importance is attached to the performance can be also developed and executed in the first execution environment. In this manner the user can select either the first execution environment or the second execution environment in accordance with a request of specification such as transplant performance respond speed or the like. Further since it is sufficient to merely add the identifiers to the interfaces and the hybrid apparatus discriminates them and allows a proper apparatus to automatically execute the command an affinity between the network environment and the communication environment can be realized.

By constructing the apparatus so that the application module can be downloaded uploaded deleted or invalidated from to an external interface of the image forming apparatus the operability of the image forming apparatus can be improved.

Further by constructing the apparatus in a manner such that when an application is added a version or the like is compared and if conditions do not coincide the application cannot be downloaded or the download fails the reliability of the image forming apparatus can be improved.

The processes shown in and the like in the embodiment are executed by each of the image forming apparatuses and in accordance with the programs which are installed from the outside. In such a case the invention can be applied to a case where information group including the programs is supplied by a memory medium such as CD ROM flash memory FD or the like from an external memory medium via the network or from an external computer.

Naturally the objects of the invention are accomplished by a method whereby a memory medium in which program codes of software to realize the functions of the embodiments mentioned above have been recorded is supplied to a system or an apparatus or such program codes are downloaded from an external server not shown and a control unit a CPU or an MPU of the system or the apparatus reads out and executes the program codes stored in the memory medium.

In such a case the program codes themselves read out from the memory medium realize the novel functions of the invention and the memory medium in which the program codes have been stored constructs the invention. As a memory medium for supplying the program codes for example a floppy disk a hard disk an optical disk a magnetooptic disk a DVD a CD ROM a magnetic tape a non volatile memory card a ROM an EEPROM or the like can be used.

Naturally the invention incorporates not only a case where the CPU executes the read out program codes so that the functions of the embodiments mentioned above are realized but also a case where an OS Operating System or the like which is operating on the image forming apparatus executes a part or all of actual processes on the basis of instructions of the program codes and the functions of the embodiments mentioned above are realized by those processes. Further naturally the invention incorporates a case where the program codes read out from the memory medium are written into a memory provided for a function expanding board inserted in the image forming apparatus or a function expanding unit connected to a computer and thereafter a CPU or the like provided for the function expanding board or the function expanding unit executes a part or all of actual processes on the basis of instructions of the program codes and the functions of the embodiments mentioned above are realized by those processes.

The invention is made in consideration of at least one of the foregoing problems. According to the invention in the display unit of the image can be flexibly changed in accordance with a change in program in the image forming apparatus so as to utilize the limited display unit.

according to another aspect of the invention when a program is inputted into the image forming apparatus the display screen to automatically select the application is added and displayed so that the existing display screen can be replaced with it.

According to further another aspect of the invention when the programs in the image forming apparatus are deleted the unnecessary display screens are automatically combined and the simple display screen which is easy for the user to use can be provided.

