---

title: Virtual keyboard based activation and dismissal
abstract: A virtual keyboard apparatus and method for forming the virtual keyboard apparatus are provided. The virtual keyboard apparatus may include a touch-sensitive display surface configured to detect a touch signal including at least a finger touch and a palm touch by a hand of a user, and a controller configured to generate a virtual keyboard having a layout determined based at least in part on a distance between the detected palm touch and the detected finger touch. The method for generating a virtual keyboard may include detecting with a touch-sensitive display surface a touch signal including at least a finger touch and a palm touch formed by a hand of a user, and generating a virtual keyboard having a layout based at least in part on a distance between the detected palm touch and the detected finger touch.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08619036&OS=08619036&RS=08619036
owner: Microsoft Corporation
number: 08619036
owner_city: Redmond
owner_country: US
publication_date: 20130121
---
This application is a continuation of U.S. patent application Ser. No. 12 050 171 filed Mar. 18 2008 entitled VIRTUAL KEYBOARD BASED ACTIVATION AND DISMISSAL the entire disclosure of which is herein incorporated by reference for all purposes.

Current virtual keyboards have layouts including key sizes and spacing which are not sufficiently adaptable to individual users. To overcome this issue some virtual keyboards allocate reference keys of the virtual keyboards for instance by detecting F and J key strokes of a standard QWERTY keyboard based on finger touches and the virtual keyboards then layout the remaining keys based on the positions of the reference keys. However one drawback of such an approach is that it may not accurately size a virtual keyboard when finger touches are close together. For example since finger touches may be grouped relatively close together for both users with long fingers and hands and users with short fingers and hands such an approach may result in a virtual keyboard that is not appropriately sized for a user s finger and hand length.

A virtual keyboard apparatus and method for forming the virtual keyboard apparatus are provided. The virtual keyboard apparatus may include a touch sensitive display surface configured to detect a touch signal including at least a finger touch and a palm touch of a hand of a user and a controller configured to generate a virtual keyboard having a layout determined based at least in part on a distance between the detected palm touch and the detected finger touch. The method for generating a virtual keyboard may include detecting with a touch sensitive display surface a touch signal including at least a finger touch and a palm touch by a hand of a user and generating a virtual keyboard having a layout based at least in part on a distance between the detected palm touch and the detected finger touch.

This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used to limit the scope of the claimed subject matter. Furthermore the claimed subject matter is not limited to implementations that solve any or all disadvantages noted in any part of this disclosure.

Referring now to specific details of the touch sensitive display surface the touch sensitive display surface may be a multi touch display surface capable of detecting a plurality of touches at a given time including position size and or shape of each of the plurality of touches. The touch sensitive display surface may be configured to transmit a touch signal to the controller and may further be configured to display a virtual keyboard generated by the controller in response to receiving a command from the controller to display the virtual keyboard .

Referring now to specific details of the controller the controller may be in the form of computer software configured to be executed on a computing device coupled to the touch sensitive display surface . In one example embodiment the controller may be an application programming interface API . The API may be a public API that is accessible both by an operating system of the virtual keyboard apparatus and by software of third party developers or the API may be a private API that is accessible only by the operating system of the virtual keyboard apparatus. Alternatively the controller may be implanted as a computer program that is not part of an API or may also be other suitable API s not listed herein.

In some embodiments the controller may include a gesture recognition module . The gesture recognition module may be configured to receive the touch signal from touch sensitive display surface and further process the touch signal to determine whether the touch signal includes a home row gesture . The controller may further include a keyboard generation module configured to generate the virtual keyboard based on detecting the home row gesture in the touch signal received.

Referring now to specific details of the gesture recognition module the gesture recognition module may be configured to determine whether a home row gesture is included in a detected touch signal . For example the gesture recognition module may determine a home row gesture is included based at least in part on whether a touch signal includes a predetermined collection of one or more palm touches and one or more finger touches forming the home row gesture .

In some embodiments the predetermined collection of one or more palm touches and one or more finger touches forming a home row gesture may include at least a palm touch and a finger touch formed by a hand of a user. Thumb touches may also be used to detect the home row gesture . The gesture recognition module may be configured to determine based on touch position size shape and or relative positions in particular relative to the palm touch the type of touch that is detected. As examples the gesture recognition module may be configured to determine whether a touch is formed by a right hand or a left hand of a user whether a touch is a palm touch or a digit touch whether a digit touch is a finger touch or a thumb touch and or whether a finger touch is a index finger touch a middle finger touch a ring finger touch or a pinky finger touch.

In one example a home row gesture may include a palm touch and two finger touches of a hand of a user. In yet another example a home row gesture may include a palm touch and three finger touches of a hand of a user. In still another example the home row gesture may include a palm touch and four finger touches of a hand of user of a user. In yet another example the home row gesture may include a palm touch and a finger touch of each hand of a user. In yet another example the home row gesture may include a palm touch and two finger touches of each hand of a user. In yet another example the home row gesture may include a palm touch and three finger touches of each hand of a user. In yet another example the home row gesture may include a palm touch and all four finger touches of each hand of a user. Other touch combinations are within the scope of this disclosure.

The finger touches included for forming the home row gesture may be any finger touches of a user or alternatively may be selected from a selected group of finger touches of a user in other examples. For example the finger touch es may be selected from index finger touch es middle finger touch es and ring finger touch es of a user since the positions of these finger touches are relatively constant in relation to each other and to a palm touch formed by the same hand. In one specific example the home row gesture may include a palm touch and a finger touch selected from any one of the index finger touch middle finger touch and ring finger touch of a hand of the user. In another specific example the home row gesture may include a palm touch index finger touch middle finger touch and ring finger touch of each hand of a user. In yet another example the home row gesture may include a palm touch thumb touch index finger touch middle finger touch ring finger touch and pinky finger touch of each hand of a user.

Furthermore the gesture recognition module may be further configured to determine whether the home row gesture is included in the detected touch signal based further on whether the collection of one or more palm touches and one or more finger touches forming the home row gesture have persisted for at least a predetermined amount of time set for forming the home row gesture . The predetermined period of time for forming the home row gesture may be for example between 1 and 5 seconds or longer or shorter as desired and may be set by software default or adjusted by the user.

Referring now to specific details of the keyboard generation module . The keyboard generation module may be configured to determine the layout of the virtual keyboard based on at least in part on a distance of a palm to finger line formed between a detected palm touch and a detected finger touch of a hand of a user forming the home row gesture .

In some examples the detected home row gesture may include a finger touch and a palm touch of a first hand and a finger touch and a palm touch of an opposing hand the keyboard generation module may be configured to determine the layout of the virtual keyboard further based on a distance of a palm to finger line between the detected palm touch and the detected finger touch of the opposing hand of the user.

In some examples the detected home row gesture may include a palm touch a first finger touch and a second finger touch formed by a hand of a user. The first finger touch and the second finger touch may in some examples be selected from the group consisting of index finger touch middle finger touch and ring finger touch of the hand of the user. The keyboard generation module may measure an angle A formed between a palm to finger line and a finger to finger line wherein the palm to finger line connects the detected finger touch and the detected palm touch and wherein the finger to finger line connects respective finger touches detected by the touch sensitive display surface and generate the virtual keyboard with the layout that is further based on the measured angle.

The keyboard generation module may be further configured to measure a distance of the finger to finger line and generate the virtual keyboard with the layout that is further based on the distance of the finger to finger line .

The keyboard generation module may be configured to determine a curvature of the virtual keyboard based on line s fitted over two or more detected finger touches of a user.

The keyboard generation module may be configured to generate a split virtual keyboard with a left hand section and a right hand section. The keyboard generation module may be configured to separately determine a layout of the each of the sections.

The keyboard generation module may be configured to generate a command that causes the virtual keyboard to be positioned over the detected finger touches for example and as shown in with a home row of the virtual keyboard e.g. ASDFGHJKL laid over the detected finger touches . The keyboard generation module may cause the virtual keyboard to be displayed on the touch sensitive display surface .

Referring now back to the gesture recognition module the gesture recognition module may be further configured to detect a dismissal gesture. The controller may be configured to dismiss the virtual keyboard based on the detected dismissal gesture.

The dismissal gesture may be formed by simultaneously dragging a pair of opposing hands across the touch sensitive display surface . In one example the dismissal gesture may be formed by simultaneously dragging a pair of opposing hands in opposite directions across the touch sensitive display surface . A predetermined amount of time and or distance may be set for the hands to move across the touch sensitive display surface before the dismissal gesture may be detected.

At the method may comprise detecting a touch signal with a touch sensitive display surface. The touch signal may include at least a finger touch and a palm touch formed by a hand of a user. The touch signal may include additional finger touch es or thumb touch es formed by the same hand or an opposing hand and or a palm touch formed by the opposing hand.

At method then comprises determining whether the touch signal includes a home row gesture. The determination may be based at least in part on whether the touch signal includes a predetermined collection of one or more palm touches and one or more finger touches forming the home row gesture the predetermined collection may include the detected palm touch and the detected finger touch. The determination may further be based on determining whether a touch signal includes thumb touch es for forming the home row gesture.

Furthermore the determination of whether the home row gesture is included in the touch signal may include determining whether the collection of one or more palm touches and one or more finger touches forming the home row gesture have persisted for at least a predetermined amount of time set for forming the home row gesture.

The finger touches and or thumb touches for forming the home row gesture may be touches formed by all digits thumbs fingers or restricted to touches formed by selected digits thumbs fingers of a user. Embodiments may be restricted to touches formed by selected digits to decrease variability of a home row gesture. For example by being restricted to index finger touches middle finger touches and ring finger touches of a hand a home row gesture may be more easily determined since the positions of these finger touches are relatively more consistent in relation to palm touch of the same hand.

In one specific example a home row gesture may include a palm touch and any one of an index finger touch middle finger touch and ring finger touch of a hand of the user. In another example the home row gesture may include a palm touch index finger touch middle finger touch and or a ring finger touch of each hand of a user. In yet another example the home row gesture may include palm touch thumb touch index finger touch middle finger touch ring finger touch and a pinky finger touch of each hand of a user.

The type of a touch detected may be determined based on the position size and shape of the touch and or the relative position to other touches and in particular in relation to a palm touch. For example a touch can be determined to be a palm touch or a finger touch and if the touch is a finger touch the touch may be an index finger touch middle finger touch ring finger touch or a pinky finger touch etc. In this manner a determination whether a home row gesture is included in a touch signal may then include first identifying and locating palm touch es based on the shape and size of the palm touch es and then identifying and locating individual finger touches based on the shape size and relative locations to the identified palm touch es of the individual finger touches.

At the method may include generating a virtual keyboard based on the detected home row gesture the virtual keyboard having a layout based on at least in part on a distance if a palm to finger line formed between a detected palm touch and a detected finger touch of a hand of user for forming the home row gesture.

In some examples the detected home row gesture may include a finger touch and a palm touch of a first hand and a finger touch and a palm touch of an opposing hand. Additionally the layout of the virtual keyboard may be further based on a distance of a palm to finger line between the detected palm touch and the detected finger touch of the opposing hand of the user.

In some examples a detected home row gesture may include a palm touch a first finger touch and a second finger touch formed by a hand of a user. The first finger touch and the second finger touch may be selected from the group consisting of index finger touch middle finger touch and ring finger touch of the hand of the user. The method may further measure an angle formed between a palm to finger line and a finger to finger line wherein the palm to finger line connects the detected finger touch and the detected palm touch and wherein the finger to finger line connects respective finger touches detected by the touch sensitive display surface and generate the virtual keyboard with a layout that is further based on the measured angle. The method may further measure a distance of the finger to finger line and generate a virtual keyboard with a layout based on the distance of the finger to finger line.

The method may further include determining a curvature of the virtual keyboard based on line s fitted over two or more detected finger touches of a user. In some embodiments a keyboard may be generated with a split virtual keyboard with a left hand section and a right hand section. In some embodiments a keyboard may be generated by separately determining a layout of the each of the sections.

The method may further include positioning the virtual keyboard over detected finger touches. As shown in a home row of the virtual keyboard e.g. ASDFGHJKL may be positioned based on the detected finger touches for example over the detected finger touches. The virtual keyboard may also be displayed on the touch sensitive display surface as depicted in .

In some examples the method may include forming a virtual keyboard in a left hand section and a right hand section and positioning the left hand section over finger touches formed by a left hand of a user and positioning the right hand section over finger touches formed by a right hand of a user. Further layouts of each section of a virtual keyboard may be separately determined based on other distances and or angles formed among detected finger touch es and palm touch es formed by a corresponding hand of the user in similar to other examples discussed herein.

At the method may include detecting a dismissal gesture. In one example a dismissal gesture may be formed by simultaneously dragging a pair of opposing hands across a touch sensitive display surface. In another example the dismissal gesture may be formed by simultaneously dragging a pair of opposing hands in opposite directions across the touch sensitive display surface. In yet another example a predetermined amount of time and or distance may be set for the hands to move across the touch sensitive display surface before a dismissal gesture may be detected. Next at block the method may include dismissing a virtual keyboard based on the detected dismissal gesture.

It will be appreciated that the computing devices described herein may be any suitable computing device configured to execute the programs described herein. For example the computing devices may be a mainframe computer personal computer laptop computer portable data assistant PDA computer enabled wireless telephone networked computing device or other suitable computing device and may be connected to each other via computer networks such as the Internet. These computing devices typically include a processor and associated volatile and non volatile memory and are configured to execute programs stored in non volatile memory using portions of volatile memory and the processor. As used herein the term program refers to software or firmware components that may be executed by or utilized by one or more computing devices described herein and is meant to encompass individual or groups of executable files data files libraries drivers scripts database records etc. It will be appreciated that computer readable media may be provided having program instructions stored thereon which upon execution by a computing device cause the computing device to execute the methods described above and cause operation of the systems described above.

It should be understood that the embodiments herein are illustrative and not restrictive since the scope of the invention is defined by the appended claims rather than by the description preceding them and all changes that fall within metes and bounds of the claims or equivalence of such metes and bounds thereof are therefore intended to be embraced by the claims.

