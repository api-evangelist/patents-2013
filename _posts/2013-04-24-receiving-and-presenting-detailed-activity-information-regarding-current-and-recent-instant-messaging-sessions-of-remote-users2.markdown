---

title: Receiving and presenting detailed activity information regarding current and recent instant messaging sessions of remote users
abstract: A system for providing a local computer user with detailed activity information regarding remote users, in order to assist the local user in determining whether to initiate a communication session with a remote user. The system provides activity information that may describe the number of instant messaging sessions one or more remote users are currently involved in, the identities of participants in those sessions, activity levels, time period information, and other information. The system further provides detailed activity information describing recent instant messaging sessions of one or more remote users.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09571428&OS=09571428&RS=09571428
owner: RAKUTEN, INC.
number: 09571428
owner_city: Tokyo
owner_country: JP
publication_date: 20130424
---
The disclosed system relates generally to messaging and collaboration software systems and more specifically to a method and system for sensing and reporting activities regarding open instant messaging windows of remote users.

In existing computer software systems a category of software applications sometimes referred to as presence technology enables users to view or obtain indications of the on line status of other users. The on line status indications provided by existing systems indicate the current availability of remote users for real time communication sessions. Instant messaging IM systems are a popular example of presence technology. Instant messaging systems are typically client server software in which a client application program executes on a local user s hardware system in cooperation with one or more associated server programs typically executing on one or more remote server computer systems. Many instant messaging systems enable a user to define a buddy list consisting of a list of colleagues workgroup members friends etc. that the user wishes to communicate with via the instant messaging application. An instant messaging communication session or dialog involving two or more users is sometimes referred to as a chat session.

Existing instant messaging client software enables a local user to determine if one or more remote users in his or her buddy list are currently engaged in any instant messaging chat sessions. For example an interface described in U.S. Pat. No. 5 793 365 of Tang et al. provides a local user with activity information regarding another user such as a user in the local user s workgroup. However such existing systems are limited in their specific capabilities. Significantly existing systems do not enable a local user to determine the number of chat sessions another user is currently engaged in or the other user s activity level in any such current chat sessions. It would be desirable to have access to such detailed current activity information since knowing that a person is currently highly active in a relatively large number of active chat sessions may be a good indication that it may not be an appropriate time to initiate an instant messaging dialog or discussion with the remote user until their activity level decreases significantly. Additionally existing systems include no way for a local user to determine whether a remote user has been involved in any chat sessions in the recent past or with whom the remote user has been chatting with. Such information would also be useful to the local user while using instant messaging or other types of communication systems to contact remote users.

For these reasons and others it would be desirable to have a system that provides information to a local user regarding the number of chat sessions a remote user is involved in and indications of the activity levels within such current chat sessions. It would further be desirable for the system to conveniently provide indications of the identities of persons that a remote user has been chatting with and detailed information regarding chat sessions of that remote user in the recent past.

To address the problems described above and others a system and method are disclosed that provide a local computer user with detailed activity information regarding instant messaging sessions of remote users in order to assist the local user in determining whether to initiate a communication session with a remote user. The disclosed system provides activity information describing the number of instant messaging sessions one or more remote users are currently involved in as well as activity levels for each of those instant messaging sessions identities of other session participants and or beginning and end times of the sessions. The disclosed system provides similar detailed activity information describing recent instant messaging sessions of one or more remote users.

Activity information provided by the disclosed system for a given remote user is accessible to the local user through a graphical object associated with that remote user such as a distinctive graphical representation of the remote user s name. The graphical object associated with the remote user may be presented as an awareness object either within a visual context of the awareness client program or within the visual context of an application program external to the awareness client program. The client program operates to register with one or more server programs to receive information regarding remote users associated with graphical objects in a current visual context on the local computer system and or contained within the local user s buddy list.

The detailed activity information provided by the disclosed system may be displayed in an enhanced awareness application display either as part of an application client program display region of the graphical user interface part of the display region of another application program executing on the local computer system within a pop up information window or through some other technique. A special chat activity icon may be displayed showing within it the number of currently active chat windows for the associated remote user. A menu may be provided when the local user hovers over the icon listing the participants in current and or recent chat sessions of the remote user beginning or end times associated with the current or recent chat sessions of the remote user and other information. The visual representation of the chat activity icon such as its color may be manipulated to indicate a level of activity in one or more of the active chat sessions. To collect activity information an awareness client software program in the disclosed system operates to sense information regarding communication sessions on the client system such as the current number of open chat windows the times at which the chat windows are opened and closed the names of users participating in the chat sessions in those chat windows and or keyboard and mouse activity of the remote user and arrivals of new text passages in the open chat windows. The client program reports such information to one or more awareness server programs together with a user name associated with the client system for access by other client programs that have registered with the server system for information regarding the associated user name. The disclosed system further enables a user to control the specific activity information provided to other users as well as those other users to which such information may be provided.

Thus there is disclosed a system that provides detailed activity information to a local user regarding the number of instant messaging sessions a remote user is currently or was recently involved in as well as indications of the activity levels of such current instant messaging session. The disclosed system further operates to provide identities of persons that a remote user is currently or has recently been chatting with and or time information regarding current instant messaging sessions of the remote user as well as instant messaging sessions in the recent past.

As shown in an execution environment for an illustrative embodiment of the disclosed system includes a number of client systems awareness server systems and other server systems interconnected through a communications network such as the Internet. The client systems are shown for purposes of illustration including client system A client system B client system C and may include any specific number of client systems. As shown for client system A each of the client systems in the client systems may include a hardware platform an operating system a dynamically linked library and some number of application processes . The hardware platform may for example include one or more processors communicably coupled to program storage for storing program code executable on the processors as in a computer system communication device or the like. The operating system may be any specific type of software operating system program capable of providing an interface to client system resources such as hardware resources in the hardware platform for use by software executing in the client system. The dynamically linked library includes program code used by an awareness client process to interface to other software such as the operating system and or other application programs within the application processes shown for purposes of illustration as application process and application process .

The awareness servers are shown including awareness servers A B and C and may include any specific number of awareness server systems. As shown in awareness server A each of the awareness server systems may include a hardware platform and operating system as well as an awareness server software process and a history database accessible to the awareness server process . The other server systems may include any specific number of server systems of various specific types shown for example as database server A database server B and database server C .

During operation of the awareness client process of the awareness client process controls the display of at least one portion of the display area in a graphical user interface display accessible to a local user of the client system. The awareness client process also operates to determine the activities of other application processes within the application processes . Such monitoring of the activities of other application processes within the client system may for example be performed by the awareness client process using program code in the dynamically linked library and using functions provided by the operating system or by other application processes. In one embodiment the awareness client process operates to monitor display windows provided for other application processes in the client system by the operating system in the client system graphical user interface. Such monitoring may be performed using application programming interfaces provided by the operating system or by other application programs and allows the awareness client process to obtain awareness information regarding user activities on the client system involving other applications on the client system. Such awareness information may for example include a description of one or more of the following with regard to the client system 

4 The window and associated application program that has current focus for receiving inputs from the local user 

6 Mouse events for each application process and or window such as left clicks right clicks hovering text selection etc.

12 Any other specific type of information that may be available through a given operating system or other application process on the client system.

For example in one embodiment of the disclosed system for each of a number of predetermined known application types including but not limited to office productivity applications i.e. word processing spreadsheet presentation editors etc. information browsing programs Web and HTML browsers file system applications search folder and directory listing applications document management systems database shared document repositories etc. and others the awareness client application process may use an associated method from the dynamically linked library appropriate for that application type to determine and record the names of documents being accessed and the times of such accesses.

Similarly in another exemplary embodiment the dynamically linked library DLL on the client system may be used by the awareness client application process to monitor all chat session windows present in the windowing desktop environment provided by the operating system. In this regard the dynamically linked library may be used to monitor window focus keyboard mouse activity and participants for the chat session windows.

The awareness information collected by the awareness client process is associated with a user name or other indication of a user of the client system and transmitted with such user indication to one or more of the awareness servers . The receiving awareness server then operates to store the information as awareness information associated with that user within one or more awareness history databases such as the history database in the awareness server A . The awareness server process in the receiving awareness server then operates to broadcast portions of the awareness information to one or more awareness client processes that have registered to receive all or some of the awareness information for the associated user.

The awareness client process further operates to register to receive awareness information associated with users corresponding to one or more graphical awareness objects in the current visual context of the graphical user interface for the client system. Such awareness objects may for example consist of graphical representations of remote users such as the names or images of the remote users and or indication that awareness information and or awareness functionality is available with regard to those remote users. The awareness information received by an awareness client process is cached for use when responding to requests for awareness information regarding one or more remote users by a local user on the client system. Additionally the awareness client process may obtain previously stored awareness information regarding one or more remote users through requests indicating a recent or earlier time period for which the awareness information is desired.

Further during the operation of the system shown in detail information regarding one or more users may be obtained from other server systems . For example detail information may be stored externally to the awareness client process and awareness server process in a corporate database within one of the other server systems . The network location name and or address of the specific database and server from which detail information is to be obtained for a given user is conveyed to or configured in one or more of the awareness server processes within the awareness servers . The awareness server process may operate to either obtain detail information regarding one or more users and then provide the detail information to awareness client process that have either requested the detail information or that have registered an interest in receiving awareness information for the associated users. Alternatively the awareness server processes may operate to provide the network location name and or address of the specific database and server from which detail information is to be obtained for a given user name to the awareness client processes that have requested the detail information or that have registered an interest in receiving awareness information for that user. The awareness client processes then operate to directly obtain the detail information from the external database as needed in response to local user actions.

At step the awareness server process sends the awareness client process awareness information for the remote users in the list sent by the awareness client process. The transmission of awareness information by the awareness server process at step may occur periodically and or responsive to explicit requests by the awareness client processes or based on some criteria. At step the awareness client process presents the local user with awareness objects indicating that awareness information and or instant messaging or other awareness functionality is available for associated remote users. Further at step the awareness client process may present all or part of a buddy list to the local user. Some or all of the remote users contained in the buddy list for the local user may have awareness information and or functionality available for them as well.

At step the awareness client process may present the local user with an interface providing the local user with the ability to see and configure specific awareness information about the local user that is available to other users. The local user can then use the interface provided at step to specify the type or edit the content of the awareness information that is to be shared.

When the awareness client process determines that the local user may need access to awareness information for a remote user the awareness client process updates its registration with the awareness server process at step . Such a determination may result from a new awareness object becoming part current visual context of the user display on the client system. Such a new awareness object may be added to portions of the graphical user interface such as display windows associated with and or controlled by the awareness client process or associated with and or controlled by other application programs. Similarly when an awareness object goes out of the current visual context of the user display on the client system the awareness client process may update its registration with the awareness server process so as not to receive further awareness information for the associated remote user. In one embodiment cooperating application processes on the client system inform the awareness client process of the awareness objects in their current user displays and pass control of such awareness objects to the awareness client process. In this way the awareness client process is able to keep track of which awareness objects are currently displayed throughout the entire current visual display context of the client system both within and outside the primary portion of the user display controlled by the awareness client process. Gaining such control over the awareness objects in other applications also enables the awareness client process to receive and handle local user actions such as clicking on hovering over and or selecting a given awareness object in some other way. Independent of the current visual display context when changes are made to the local user s buddy list such changes are similarly used to update the registration with the awareness server process to reflect the addition and deletion of remote users. At step the awareness server process provides updated awareness information to the awareness client process reflecting the updated registration performed in step .

The request for current awareness information at step may for example be in response to selection of specific awareness operations by the local user requesting specific portions and or types of awareness information. For example the awareness client process may request awareness information regarding the selected remote user from a remote awareness history database at step . Such awareness information may include a current set of detail information or other specific type of awareness information regarding the selected remote user as well as previously stored versions of a specific type of awareness information the selected remote user. In addition or alternative to detail information regarding the remote user the current and or previously stored awareness information for the remote user may relate to and or identify properties of chat sessions or other modes of communications performed by the remote user applications used by the remote user documents accessed by the remote user status messages defined by the remote user and or other specific types of awareness available regarding the remote user. Such awareness information may include names of documents accessed by the remote user the times the documents were accessed the number of chat sessions the remote user is currently involved in and or was recently involved in the times of such chat sessions the names and or images of other users involved in chat sessions or other types of communications with the remote user amounts of activity in a current or previous chat session and or other information regarding the selected remote user.

The awareness client system may operate to present awareness information in response to a local user hovering over and or clicking on one or more predetermined display objects in an awareness client user display using a mouse pointing device. Such display objects may for example include some number of activity icons each of which is associated with a type of awareness information and or functionality. These activity icons may include a chat activity icon a keyboard and mouse activity icon and or a document activity icon. The chat activity icon may represent and or provide access to awareness information describing chat session activity of the selected remote user. The keyboard and mouse activity icon may be used to represent and or provide access to awareness information describing keyboard and mouse pointer device activity of the selected remote user such as left clicks right clicks or hovering both within current chat sessions and also within other applications on the client system of the selected remote user.

The awareness objects in the name fields of the entries in the personal address book of are only one possible way to include awareness objects in a user display and the present invention is not limited to that specific technique. Moreover any type visual indication may be used to identify the online status of a remote user associated with and awareness object. Generally awareness objects will include some identification of the remote user with which they are associated such as the remote user s name or an image or picture of the remote user. The personal address book application is only one example of the various application programs in which an awareness object can be embedded. Any type of application program may pass control to the awareness client process of a portion of its display to serve as an awareness object.

When the local user clicks on one of the awareness objects shown in the awareness client process provides access to awareness functionality and detail information regarding the associated remote user. For example clicking on an awareness object may result in a pop up window or menu through which further awareness actions could be triggered by the local user. Examples of awareness actions are further described below and may include looking up personal information about the remote user associated with the awareness object and or initiating a chat session with that remote user.

As shown in the disclosed system presents the local user with awareness objects in the context of other work being performed by the local user. Accordingly an awareness object may be presented within a workflow form in a list of recently received email in a graphical or textual representation of a remote user shown as an interaction history of another remote user or various other contexts.

Also as shown in awareness objects may be modified in their visual appearance to reflect changes in the online status of the associated remote user. Moreover when the local user hovers over an awareness object with the cursor a display of a status message for the associated remote user is displayed.

The disclosed system provides detail information regarding a selected remote user either as a result of the local user clicking on an awareness object associated with the remote user or the local user clicking on the remote user s entry in the local user s buddy list or through some other appropriate technique. shows an example of a display provided by the awareness client process to present detail information regarding a remote user. As shown in the detail information may be provided in a portion of an awareness client process display also including a buddy list . In the example of the detail information is for a remote user Chris Seller selected through an associated awareness object presented to the local user outside the awareness client process display . Alternatively the detail information may be presented as the result of selecting the entry for Chris Seller from the buddy list . The detail information may include any specific type of information regarding the selected remote user and the illustrative detail information including an email action icon and image of the remote user is shown for purposes of illustration only.

In both when the local user triggers the display of personal information regarding a remote user the awareness client process issues one or more commands to a database server across the communications network or to local resources on the client system using an application programming interface API to a personal records database. The commands to the API request a subset of the personal record information for the remote user associated with the awareness object. The personal record information obtained in this way may include for example contact phone number s an image such as a photo of the selected remote user address information job role relevant management and reporting structure information direct reports areas of expertise etc. The detail information from the database is parsed by the local system and marked up for display to the local user either within the awareness client process display window within the display window of another application process within a pop up window or in some other fashion. The detail information presented by the awareness client may have actions associated with specific portions such as an initiate IP phone call action associated with a displayed phone number.

While in the example of the number of current chat sessions and an activity level within one or more of those chat sessions is shown through the icon alternative embodiments may be used in this regard. In one such alternative embodiment awareness objects themselves could be presented in a way that shows the number of chat session for the associated remote user. For example an awareness object could indicate the number of current chat sessions for the remote user in a number in parenthesis next to the awareness object or in some other way. In another alternative embodiment in the event that a local user requests a chat session with a remote user the awareness client application process could intercept the request and present a modal dialog box to the local user indicating the number of current chat sessions for the remote user and their activity levels and asking whether the local user wanted to continue initiating the requested chat session. Such a modal dialog box might for example include a graphical button marked OK CONTINUE or the like for the user to click on to provide an indication that the initiated request should be continued and a button marked STOP TERMINATE or the like for the user to click on to provide an indication that the initiated request should be terminated.

In another embodiment in addition to enabling a user to specify the specific chat session activity information to share the awareness client application process provides a user interface for specifying the users with. For example such other users may be specified by an interface enabling selection from or indication of one or more of the following email distribution directory groups document access control lists buddy lists recent chat participants specified individuals etc.

Alternatively or in addition other options may be provided in a user interface for specifying limits to the disclosed system regarding how document activity of a user is to be shared with other users. For example in some cases a shared document may be specified that is associated with certain editing users in which case the document access activities are to be shared with only those remote users that are also defined as editors of the document. This may also be the case when those remote users are referenced or listed as part of a specified project or activity construct associated with that document. For example if a project application lists a set of documents as resources for a particular project instance then a user of the disclosed system may be allowed to specify that activities relating to some or all of the documents listed for that project instance are to be shared with other users. Along similar lines if one or more documents are associated with a work flow in that those documents are used or distributed via the work flow then a user may indicate that the disclosed system may only share document access activities regarding those documents with other participating users of the work flow. The preceding techniques for controlling how and with whom document access activities are shared are provided as examples only and the disclosed system may be embodied with any other specific technique or interface in this regard.

The disclosed system operates to display a hover over status message display for a remote user in the buddy list that when that remote user currently online. This includes remote users having an online status of online and active online and away online and using a mobile device or online but do not disturb . Additionally the disclosed system operates to provide a hover over status message for remote users that are not currently online. This operation is supported by storage of user defined status messages in a remote database such as a history database within a remote awareness server system retrieval of such messages from the remote database by the client system.

In the case where the online status icon for the remote user indicates a new status message display of the hover over message including the new status message causes the visual indication of the new status message to be cleared returning the online status icon to its normal appearance. For example the text NEW over the online status icon would be removed following display of the new status message.

While in the example of the modified online status icons and are provided by the awareness client application process or another instant messaging application within the visual context of a buddy list such modified online status icons may alternatively be presented by the disclosed system in visual association with awareness objects presented in portions of the user display associated with other application processes on the client system such as other types of communication application processes or any other specific type of application.

The user images and identities of the users shown in the visual representations may be conveyed to an awareness client application process from an awareness server application program or another server application process such as a remote database program. Such images and identities may originate for example from awareness information provided by an awareness client application program executing on a client system associated with the remote user. The user images in the visual representations are shown in an order in which communications occurred between the remote user and respective ones of the represented users. For example users shown to the right of the visual representations may have had relatively more recent communications with the remote user than users shown to the left or vice versa. Such ordering may also be provided in the visual representations of users having been in recent communication with the local user. While the representations and are shown for purposes of illustration as images of the corresponding users the disclosed system is not limited to such an embodiment. Any specific type of visual indication may be used in this regard such as names of the respective users email addresses instant messaging names etc. shows an example of a display including representations of users having recently communicated with a selected remote user within a buddy list provided by the awareness client application process.

In an illustrative embodiment of the disclosed system if the local user hovers the cursor over one of the representations of users having recently communicated with the selected remote user more detailed information describing the indicated communications involving the selected remote user is presented in a hover over display to the local user. As shown in the user display may thus provide a hover over display including an interaction activity hover over display associated with a representation of a user having recently communicated with a remote user. The hover over display is shown for purposes of illustration including a description of a an electronic mail message involving the selected remote user and the user whose image the cursor is hovered over. The hover over display further includes a description of an instant messaging chat session involving the selected remote user and the user whose image the cursor is hovered over. Additionally the hover over display includes a description of a second electronic mail message involving the selected remote user and the user whose image the cursor is hovered over. Communication activity information provided in the hover over display may include the participants in the communication the time and or duration of the communication the subject of the communication any resources involved in the communication such as file or document attachments as well as an indication of how much time has passed since the selected remote user has been active in any communication activity.

In another embodiment alternatively and or in addition to enabling a user to specify the social networking information that is to be shared with other users the awareness client application process may provide a user interface for the user to specify which users such social networking information is to be shared with. Such an interface may include check boxes and or pull down menus such as those illustrated for purposes of specifying shared awareness information in the interface of or use other appropriate user interface techniques. For example users with which social network information is to be shared may be specified by an interface enabling selection from or indication of individual users and or explicit user lists. Such user lists may for example include one or more of the following email distribution directory groups document access control lists buddy lists recent chat participants or the like.

Control over the receipt of social networking information may be provided in various other ways as well not limited to indication or selection of explicitly defined users or user lists or groups. For example in some cases a shared document may be specified that is associated with certain editing users in which case social networking information would be shared with those remote users that are defined as editors of the shared document. Recipients of social networking activity may also be defined to include those remote users that are referenced during or listed as part of a specified project or activity construct. Additionally the social networking activities may be limited to activities relating to one or more shared documents and or to such project or activity constructs. Along similar lines if one or more remote users are associated with a work flow then a user may indicate that all or some social networking activity information is to be shared with those remote users. Again the specific social networking activities shared with the remote users associated with the work flow may also be limited to social networking activities relating to the workflow. The preceding techniques for controlling how and with whom social networking activities are shared are provided as examples only and the disclosed system may be embodied with any other specific technique or interface in this regard.

The disclosed system provides the ability for a user to conveniently include links to additional information within the status message entries defined through the display . For example in the event that a set of adjacent characters having a predetermined capitalization format is detected within the field they are treated as a link to web pages. Such a predetermined capitalization format could for example consist of all sets of adjacent characters in which at least one non initial character is capitalized BumpyCase formatted words consisting of patterns of two or more proper case words initial letter capitalized formed in sets of adjacent characters and concatenated together or some other specific format. Accordingly the disclosed system may embody what are conventionally referred to as wiki capabilities within the status message defined through the field allowing for Web page creation and linking via BumpyCase format words. Web pages created by the disclosed system and linked through the status message may for example be user editable Web pages that allow editing by users through Web browser programs and generally referred to as wikis . Such functionality may be provided in cooperation with conventional wiki server software executing on one or more remote server systems.

Upon detection of a user entering a character string having the predetermined capitalization format into the field the system makes that string into a hot link creating an entry that is not displayed in the same display area as the status message but through a Web browser application instead. The user making the entry may then be provided with a form interface that allows them to add the Web page associated with the link or edit that Web page.

While the display is shown with options for an owning user of the status message users other than the owner of the status message may similarly be provided with a similar interface for providing entries into the status message provided that such entries are permitted by the owning user.

The above description of the preferred embodiments includes flowchart illustrations of methods apparatus systems and computer program products according to an embodiment of the invention. Those skilled in the art will recognize that the specific orders of steps shown in the flow charts are given purely for purposes of illustration and that the actual order in which the described operations are performed may vary between embodiments configurations or based on specific operational conditions. It will be further understood that each block of the flowchart illustrations and combinations of blocks in the flowchart illustrations can be implemented by computer program instructions. These computer program instructions may be loaded onto a computer or other programmable data processing apparatus to produce a machine such that the instructions which execute on the computer or other programmable data processing apparatus create means for implementing the functions specified in the flowchart block or blocks. These computer program instructions may also be stored in a computer readable memory that can direct a computer or other programmable data processing apparatus to function in a particular manner such that the instructions stored in the computer readable memory produce an article of manufacture including instruction means which implement the function specified in the flowchart block or blocks. The computer program instructions may also be loaded onto a computer or other programmable data processing apparatus to cause a series of operational steps to be performed on the computer or other programmable apparatus to produce a computer implemented process such that the instructions which execute on the computer or other programmable apparatus provide steps for implementing the functions specified in the flowchart block or blocks.

Similarly the above description of the preferred embodiments includes examples of user interface display objects for purposes of explanation. The present invention is not limited to the specific screen layouts icon shapes or other specific aspects of the exemplary display objects in the figures and may be embodied using a variety of specific display objects icon designs and or user interface designs.

Those skilled in the art should readily appreciate that programs defining the functions of the present invention can be delivered to a computer in many forms including but not limited to a information permanently stored on non writable storage media e.g. read only memory devices within a computer such as ROM or CD ROM disks readable by a computer I O attachment b information alterably stored on writable storage media e.g. floppy disks and hard drives or c information conveyed to a computer through communication media for example using baseband signaling or broadband signaling techniques including carrier wave signaling techniques such as over computer or telephone networks via a modem.

Finally while the invention is described through the above exemplary embodiments it will be understood by those of ordinary skill in the art that modification to and variation of the illustrated embodiments may be made without departing from the inventive concepts herein disclosed. Accordingly the invention should not be viewed as limited except by the scope and spirit of the appended claims.

