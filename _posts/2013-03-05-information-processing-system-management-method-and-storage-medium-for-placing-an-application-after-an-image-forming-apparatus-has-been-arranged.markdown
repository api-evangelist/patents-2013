---

title: Information processing system, management method, and storage medium for placing an application after an image forming apparatus has been arranged
abstract: A contract management service receives a relocation request including rearrangement information relating to relocation of an application to be applied to the image forming apparatus, the relocation request being for demanding relocation of the application to be applied to the image forming apparatus, decides a rearrangement application corresponding to the image forming apparatus after being rearranged based on the rearrangement information, and responds with the image forming apparatus after being rearranged and rearrangement information relating to the rearrangement application. The image forming apparatus accepts an application rearrangement instruction having the rearrangement, determines whether or not applying the rearrangement application is required based on the rearrangement information, and receives the rearrangement application from the contract management service depending on a determination result to thereby apply the rearrangement application.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08817288&OS=08817288&RS=08817288
owner: Canon Kabushiki Kaisha
number: 08817288
owner_city: Tokyo
owner_country: JP
publication_date: 20130305
---
The present invention relates to an information processing system a management method and a storage medium.

There has been proposed an image forming apparatus that stores configuration data in a storage unit. The configuration data is setting information operation setting information for switching the operation of the image forming apparatus. Since configuration data is stored in the storage unit provided in each of the image forming apparatuses the setting changes in configuration data need to be made by the number of image forming apparatuses in order to change configuration data for all of the image forming apparatuses. For saving the time required for changing the settings of configuration data by the number of image forming apparatuses there has been proposed a technology in which the settings of configuration data for a plurality of image forming apparatuses are made at one time by a certain information processing apparatus.

Japanese Patent Laid Open No. 2007 130838 discloses an image forming system in which a plurality of image forming apparatuses to which the initial setting operation has been performed downloads initial system setting information from a server and reflects the downloaded initial system setting information in the initial setting content. This image forming system can redistribute the initial setting information from the server to the image forming apparatus even if the initial setting information is lost on the image forming apparatus

Japanese Patent Laid Open No. 2011 61459 discloses an installation method in which a plug in feature that normally operates on a plurality of products by using an installation program that is executable irrespective of an execution environment can be provided in a common package even if the products are various types or the generation of the products changes.

An information processing system is assumed that comprises an image forming apparatus and a distribution server that manages configuration data of the image forming apparatus and distributes applications that operate on the image forming apparatus. There is a case where replacement or addition relocation of a device is performed. Hereinafter replacement or addition of the device is described as a rearrangement of the image forming apparatus. For example rearrangement of the image forming apparatus such as the following 1 and 2 are assumed.

In the conventional information processing system optimal placement of the applications according to the image forming apparatus after being rearranged may not be realized when the plurality of existing devices is gathered into newly one device indicated in the aforementioned 1 or when one or more new devices are added in the aforementioned 2 . Specifically in the conventional information processing system upon rearrangement of the image forming apparatus a secure transfer of the applications is not ensured while preventing a copy of the applications by an unauthorized person. Also in the conventional information processing system a version upgrade of the applications may not be performed depending on performance of the image forming apparatus after being rearranged.

An information processing system of the present invention optimally locates an application depending on an image forming apparatus after being rearranged when the image forming apparatus of which configuration date is managed by the management apparatus on a network is rearranged.

An information processing system of an embodiment of the present invention includes an image forming apparatus and a management apparatus that manages the image forming apparatus. The management apparatus includes a managing unit configured to manage operation setting information for switching an operation of the image forming apparatus and transmit to the image forming apparatus the operation setting information corresponding to the image forming apparatus in response to an acquisition request for the operation setting information from the image forming apparatus and an application managing unit configured to manage an application to be applied to the image forming apparatus. The image forming apparatus includes a requesting unit configured to transmit the acquisition request for the operation setting information to the management apparatus and acquire the operation setting information from the management apparatus as a response to the acquisition request and an application managing unit configured to manage the application to be applied to the image forming apparatus. The application managing unit provided in the management apparatus includes a receiving unit configured to receive an relocation request including relocation information relating to relocation of the application to be applied to the image forming apparatus the relocation request being required as a result of the rearrangement of the image forming apparatus a transmitting unit configured to decide an application corresponding to the image forming apparatus after being rearranged as a rearrangement application based on the relocation information included in the relocation request and transmit rearrangement information relating to the image forming apparatus after being rearranged and the rearrangement application to the user device a distributing unit configured to distribute the rearrangement application to the image forming apparatus after being rearranged upon request of the image forming apparatus after being relocated. The application managing unit provided in the image forming apparatus includes an accepting unit configured to accept an application rearranging instruction to be applied that includes the rearrangement information and for applying from the user device a determining unit configured to determine whether or not applying the rearrangement application to the image forming apparatus is required based on the rearrangement information included in the application rearranging instruction an acquiring unit configured to request a distribution of a rearrangement application to the management apparatus when it is determined that applying of the rearrangement application to the image forming apparatus is required and acquire the rearrangement application from the management apparatus and an applying unit configured to apply the acquired rearrangement application.

According to the information processing system of the present invention applications are optimally located depending on an image forming apparatus after being rearranged when the image forming apparatus of which configuration date is managed by the management apparatus on the network is rearranged. Specifically applications or licenses that have been applied to the image forming apparatus before being relocated are optimally relocated depending on the number or a model of the image forming apparatus after being relocated.

Further features of the present invention will become apparent from the following description of exemplary embodiments with reference to the attached drawings.

Hereinafter a description will be given of the information processing system of the present embodiment. Firstly the terms used in the present embodiment are defined. The term configuration data refers to data operation setting information for switching the operation of an image forming apparatus. For example configuration data corresponds to a default value for the imposition of a copy job or the like. If the default value for imposition of a copy job is set to 1 in 1 one page is printed on a single sheet of paper as a result of copying. If the default value for imposition of a copy job is set to 2 in 1 two pages are printed on a single sheet of paper as a result of copying.

The term device configuration data refers to data indicating the configuration of a device provided in an image forming apparatus. For example device configuration data indicates whether or not an image forming apparatus includes a facsimile unit. Examples of device configuration data include a model code for uniquely identifying the model of an image forming apparatus a running firmware version and the like.

The term model specific set value schema refers to data for defining the schema of configuration data that is held by a specific model of an image forming apparatus. The term schema refers to data for defining the convention and positioning for configuration data. Examples of such a model specific set value schema include a condition s for validating the set value identifier for each configuration data the default value the value range and data. In the present embodiment it is assumed that there is a difference between configuration data to be held depending on the model of an image forming apparatus and a set value schema is prepared for different models of an image forming apparatus.

The term virtual device refers to a data group of actual devices held by a server computer group. More specifically a virtual device includes at least device configuration data and configuration data. The term tenant refers to a unit of consignor to whom a user consigns the management of an image forming apparatus. The term tenant identifier refers to an identifier for uniquely identifying a tenant. For example assume the case where management of image forming apparatuses A B and C in a user environment to be described below shown in is consigned by a certain company. In this case a corresponding tenant identifier is assigned to the user environment and the image forming apparatuses A B and C are recognized and managed as the image forming apparatuses belonging to the tenant.

The definition is given as follows so as to distinguish among data included in a virtual device data held by an actual device and data dedicated for a tenant. Device configuration data included in a virtual device is referred to as virtual device configuration data and configuration data included in a virtual device is referred to as virtual configuration data . Device configuration data held by an actual device is referred to as actual device configuration data and configuration data held by an actual device is referred to as actual configuration data . Configuration data that is commonly used in the tenant is referred to as tenant configuration data .

The user environment is an environment where a user of an image forming apparatus executes the operation of the image forming apparatus. The user environment includes image forming apparatuses A B and C and a terminal apparatus A. The image forming apparatuses A B and C are the image forming apparatuses of the present embodiment. A network is a network that is capable of providing digital communication in the user environment . The image forming apparatuses A B and C can access the Internet via the network . The terminal apparatus A is a computer that is operable by a user of the user environment . The terminal apparatus A can also access the Internet via the network .

The server computer group is a server group that provides a service via the Internet . In the present embodiment the server computer group functions as a management apparatus that manages configuration data provided for image forming apparatuses. The server computer group manages the image forming apparatuses by associating them with tenants each of which is a preset management unit. The server computer group also functions as a management apparatus that manages contract information about a contract of the image forming apparatuses. It should be noted that a management method of the present embodiment is realized by functions of the management apparatus of the present embodiment. Computer programs of the present embodiment cause a computer to execute the management method.

The service person environment is an environment where a service person manages an image forming apparatus using the terminal apparatus B. The service person environment includes a terminal apparatus B. The terminal apparatus B is a computer that is operated by a service person who manages the image forming apparatuses A B and C. The terminal apparatus B can access the Internet .

The vendor environment for image forming apparatuses is an environment where management personnel of a vendor for producing an image forming apparatus performs the maintenance of data that is required for the management of an image forming apparatus. The vendor environment for image forming apparatuses includes a terminal apparatus C. The terminal apparatus C is a computer that is operated by management personnel of a vendor for producing an image forming apparatus. The terminal apparatus C can access the Internet . In the following description the image forming apparatuses A B and C are also described as the image forming apparatus and the terminal apparatuses B and C are also described as the terminal apparatus .

The server computer A includes a CPU C a non volatile memory C a volatile memory C an auxiliary storage device C and a network communication device C that are connected to an internal bus . The image forming apparatus includes a CPU A a non volatile memory A a volatile memory A an auxiliary storage device A a display A an input device A a network communication device A a facsimile unit and a printer engine that are connected to an internal bus A. The terminal apparatus includes a CPU B a non volatile memory B a volatile memory B an auxiliary storage device B a display B an input device B and a network communication device B that are connected to an internal bus B.

In the following description the CPUA B and C are also described as a CPU the non volatile memories A B and C are also described as a non volatile memory the volatile memories A B and C are also described as a volatile memory the auxiliary storage devices A B and C are also described as an auxiliary storage device the displays A and B are also described as a display the input devices A and B are also described as an input device the network communication devices A and B are also described as a network communication device and the internal buses A and B are also described as an internal bus .

The CPU Central Processing Unit executes programs and controls various types of processing. The non volatile memory includes a ROM Read Only Memory . The non volatile memory stores programs and data that are required for device start processing at the initial stage. The volatile memory includes a RAM Random Access Memory . The volatile memory is used as a temporary storage location of the programs and data.

The auxiliary storage device is a large capacity storage device such as a hard disk a RAM drive or the like. The auxiliary storage device stores large capacity data and holds the execution code of the programs. The auxiliary storage device stores data that needs to be held for a longer time than that of the volatile memory . The display performs information display processing and notifies a user person of the resulting information. In the present embodiment a user denotes a user person and a service person.

The input device accepts a user person s selection instruction and transmits the instruction to a program via the internal bus . The network communication device is a device that communicates with an external device via a network. The facsimile unit is a hardware unit that transmits the image data formed by the image forming apparatus or the image data stored in the auxiliary storage device A to an external device via the network . The facsimile unit is optional and the image forming apparatus may not include the facsimile unit . The printer engine prints the image data formed by the image forming apparatus or the image data stored in the auxiliary storage device A on a recording medium such as paper.

The image forming apparatus includes an actual configuration data holding unit an actual configuration data updating unit a virtual configuration data receiving unit an actual device configuration data collecting unit a tenant identifier holding unit and an actual device configuration data notifying unit . The image forming apparatus also includes an application holding unit an application managing unit and an application installing unit .

The actual configuration data holding unit holds configuration data for an image forming apparatus. More specifically the actual configuration data holding unit stores configuration data in the auxiliary storage device A for management. The image forming apparatus switches operational behavior based on actual configuration data held by the actual configuration data holding unit .

The actual configuration data updating unit updates actual configuration data held by the actual configuration data holding unit . More specifically the actual configuration data updating unit updates actual configuration data by replacing it with virtual configuration data acquired by the virtual configuration data receiving unit .

The virtual configuration data receiving unit makes an acquisition request for virtual configuration data to the virtual configuration data acquiring unit provided in the set value management service . Then the virtual configuration data receiving unit receives virtual configuration data acquired by the virtual configuration data acquiring unit from the virtual configuration data acquiring unit . The virtual configuration data receiving unit calls the virtual configuration data acquiring unit by use of an address set in actual configuration data held by the actual configuration data holding unit .

Actual configuration data includes data items such as a set value identifier and a value. The set value identifier is an identifier that uniquely identifies the set value included in configuration data. The value indicates the set value.

In the example shown in http ddd.com config is set as a value address of device settings.cloud address . This is an address of the set value management service that distributes configuration data to the image forming apparatus . Thus the virtual configuration data receiving unit accesses this address. The virtual configuration data has the same data configuration with the actual configuration data shown in . Hence the actual configuration data shown in are arbitrarily utilized for description as the virtual configuration data.

Referring back to the actual device configuration data collecting unit collects device configuration data actual device configuration data of the image forming apparatus .

The tenant identifier holding unit holds a tenant identifier that is the identifier of a tenant to which the image forming apparatus belongs. The tenant identifier is set upon initial installation of the image forming apparatus and is stored in the auxiliary storage device A so as not to be lost even when the power is OFF.

The actual device configuration data notifying unit notifies the actual device configuration data receiving unit of the set value management service of the actual device configuration data collected by the actual device configuration data collecting unit and the tenant identifier held by the tenant identifier holding unit . More specifically the actual device configuration data notifying unit transmits a configuration data generation request which includes the actual device configuration data and the tenant identifier to the actual device configuration data receiving unit . The configuration data generation request is a request operation setting generation request for generating virtual configuration data corresponding to the image forming apparatus .

The application holding unit holds one or more applications that operate on the image forming apparatus . The application held by the application holding unit is for example the application installed on the image forming apparatus via the network . In the present embodiment the application installing unit holds licenses and downloads the application that is executable on the image forming apparatus from the contract management service via Internet . Then the application holding unit holds the downloaded application.

The application managing unit is a software framework that manages a life cycle of the application. Specifically the application managing unit manages the life cycle activation halt upgrade installation or uninstallation of the application installed from the external device.

Also the application managing unit acquires all application related information in the image forming apparatus and information of the image forming apparatus from the image forming apparatus and returns them to the application information acquiring unit of the contract management service . For example the application related information indicates an application name an application version and a list of the device specification ID that can be installed with respect to all applications in the image forming apparatus . Also information of the image forming apparatus indicates for example a device name an ID and device specification information of the image forming apparatus.

The application installing unit installs the application from the external device. The application installing unit validates the license corresponding to the application when installing the application for the image forming apparatus .

The contract management service manages contract information which is information relating to a contract of the image forming apparatus . In the present embodiment the contract management service manages the application corresponding to the image forming apparatus . The contract management service may manage the license of the application and manage any contract information other than the license such as life cycle information of the image forming apparatus .

The contract management service includes an application information acquiring unit an application arranging unit a tenant specific application information holding unit and an application holding unit .

The application information acquiring unit acquires all application related information and information of the image forming apparatus in the image forming apparatus from the image forming apparatus . The application information acquiring unit acquires the application related information and the information of the image forming apparatus via Internet or the network .

The application arranging unit functions as a receiving unit that receives from the terminal device that is a user device an application relocation request that is a request for relocation of the application that is required as a result of the rearrangement of the image forming apparatus and that is applied to the image forming apparatus. The application relocation request is a request for relocation of the application applied to the image forming apparatus. For example the terminal device transmits the request for relocation of the application to the application arranging unit when rearrangement of the image forming apparatus is needed. The application relocation request includes application arrangement change information of the image forming apparatus after being rearranged in a certain tenant. The application arrangement change information is information relating to relocation of the application applied to the image forming apparatus relocation information .

The application arranging unit compares application arrangement change information with application information of the image forming apparatus before being rearranged that corresponds to the tenant held by the tenant specific application information holding unit . Then the application arranging unit rearranges the application information held by the tenant specific application information holding unit based on this comparison result.

In the present embodiment it is assumed that three applications decentrally located in two image forming apparatuses in a certain tenant are collectively relocated in one image forming apparatus that is newly introduced. Specifically the image forming apparatus before being rearranged indicates the image forming apparatus of which the device identifier is AAA00001 and the image forming apparatus of which the device identifier is BBB00003 . The image forming apparatus after being rearranged is the image forming apparatus of which the device identifier is CCC00005 .

Rearrangement of the image forming apparatus in which the present invention is employed is not limited to the aforementioned example. For example the image forming apparatus before being rearranged may be two image forming apparatuses A and B while the image forming apparatus after being relocated may be three image forming apparatus A B and C. The applications A and B may be applied to the image forming apparatus A before being rearranged while the application C may be applied to the image forming apparatus B before being rearranged. Also the application A may be applied to the image forming A apparatus after being rearranged the application B may be applied to the image forming apparatus B after being rearranged and the application C may be applied to the image forming apparatus C after being rearranged.

The tenant specific application information holding unit holds tenant specific application information. The tenant specific application information is information relating to the image forming apparatus that belongs to each tenant managed by the contract management service and the application installed on the image forming apparatus . The tenant specific application information includes tenant specific device information device specific application information specification information compatible with the application and device specification information.

The tenant identifier indicates identification information for uniquely identifying the tenant. The device identifier indicates identification information for uniquely identifying the image forming apparatus that belongs to the tenant. The operation status indicates the operation status of that the image forming apparatus.

The device identifier is the same as the device identifier shown in . The application identifier indicates an application installed on the image forming apparatus corresponding to the device identifier . The application version is the version number of the application.

The application identifier is the same as the application identifier shown in . The application version is the same as the application identifier shown in . The device specification identifier is identification information for uniquely identifying the device specification. The device specification indicates an operation environment for the application corresponding to the application identifier . The device specification is defined depending on a model of the image forming apparatus. Thus the device specification functions as an operational condition of the application provided in the image forming apparatus. In other words specification information compatible with an application functions as operational condition information relating to the application operational condition of the image forming apparatus that is stored in a storage unit in advance.

Referring back to the application holding unit manages all types and all versions of applications operable on the image forming apparatus managed by the contract management service . In other words the application arranging unit the tenant specific application information holding unit and the application holding unit functions as an application management unit that manages the application applied to the image forming apparatus.

The set value management service functions as a management apparatus that manages configuration data of the image forming apparatus. The set value management service is provided on the server computer group .

The set value management service includes a virtual device holding unit a model specific set value schema holding unit a model specific set value schema updating unit a tenant configuration data holding unit and a tenant configuration data updating unit . Also the set value management service includes a virtual configuration data generating unit a virtual configuration data updating unit an actual device configuration data receiving unit a virtual device configuration data updating unit and a virtual configuration data acquiring unit . Further the set value management service includes a virtual configuration data viewing unit and a virtual configuration data update confirming unit .

The virtual device holding unit holds a virtual device. The virtual device includes at least virtual device configuration data virtual configuration data a device identifier of the virtual device and a tenant identifier. The virtual device holding unit stores the virtual device in the auxiliary storage device C for management.

The tenant identifier is identification information for uniquely identifying a tenant to which the image forming apparatus corresponding to the virtual device belongs. The virtual device configuration data is identification information for uniquely identifying virtual device configuration data. Virtual device configuration data corresponds to device configuration data actual device configuration data of the image forming apparatus corresponding to the virtual device. The virtual configuration data is identification information for uniquely identifying virtual configuration data. Virtual configuration data corresponds to configuration data actual configuration data of the image forming apparatus corresponding to the virtual device.

The notification flag indicates whether or not the image forming apparatus has already been notified about the virtual configuration data . The flag not notified set in the notification flag indicates that the image forming apparatus has not been notified about the virtual configuration data . The flag notified set in the notification flag indicates that the image forming apparatus has already been notified about the virtual configuration data .

When virtual configuration data is updated the virtual configuration data acquiring unit acquires the virtual configuration data and notifies the image forming apparatus . Thus when the virtual configuration data updating unit updates virtual configuration data the virtual configuration data updating unit sets the notification flag to not notified . When the virtual configuration data acquiring unit acquires for example virtual configuration data the virtual configuration data acquiring unit sets the notification flag corresponding to the virtual configuration data to notified .

Referring back to the model specific set value schema holding unit holds the model specific set value schema. One model specific set value schema is prepared corresponding to each model of image forming apparatuses.

The set value identifier is identification information for uniquely identifying a setting item. For example the set value identifier copy settings.nup indicates a setting item relating to imposition in copy settings. If the set value identifiers are identical this indicates the fact that the setting items are identical in spite of different models. The default value is a default set value for the model. The value range is a definition of a range which can be set in the model. For example the value range of the set value identifier copy settings.nup indicates that the value range can be selected from three types of copy settings 1 in 1 2 in 1 and 4 in 1 in the model.

The condition is a definition of the conditions necessary for using set values in the model. The condition facsimile unit is set in the condition corresponding to the setting item of fax settings.received print . Thus the set value for the setting item becomes valid only when mounting of a facsimile unit is confirmed.

Referring back to the model specific set value schema updating unit updates the model specific set value schema held by the model specific set value schema holding unit . For example when a vendor of the image forming apparatus releases a new model a model specific set value schema corresponding to the new model is registered in accordance with the instruction given by the administrator of the vendor. If any setting item is changed the model specific set value schema updating unit updates the model specific set value schema.

The tenant configuration data holding unit holds configuration data that a tenant would like to set to an image forming apparatus.

Referring back to the tenant configuration data updating unit updates tenant configuration data held by the tenant configuration data holding unit . In accordance with the operation by a service person who manages image forming apparatuses held by a tenant the terminal apparatus B in the service person environment provides an update instruction for tenant configuration data. The tenant configuration data updating unit updates tenant configuration data in accordance with the update instruction. The service person performs an operation on a setting screen of tenant configuration data which is displayed on a web browser running on the terminal apparatus B. A service person performs an operation on a setting screen displayed on the web browser running in the terminal device B.

The virtual configuration data generating unit generates virtual configuration data based on the model specific set value schema tenant configuration data and virtual device configuration data. Firstly the virtual configuration data generating unit acquires virtual device configuration data shown in from the virtual device holding unit .

Next the virtual configuration data generating unit refers to a model code included in the acquired virtual device configuration data to thereby specify the model of the image forming apparatus. Using the virtual device configuration data shown in as an example 0x01 is set as a value corresponding to the model code. Thus the virtual configuration data generating unit specifies the model of the image forming apparatus having the model code of 0x01.

Next the virtual configuration data generating unit acquires a model specific set value schema corresponding to the specified model code from the model specific set value schema holding unit . The virtual configuration data generating unit acquires for example the model specific set value schema shown in of which the model code matches 0x01.

Next the virtual configuration data generating unit generates virtual configuration data based on the set values defined in the acquired model specific set value schema. Using the model specific set value schema shown in as an example the virtual configuration data generating unit generates virtual configuration data based on set values corresponding to five setting items copy settings.nup device settings.cloud address device settings.sleep time fax settings.received print and box settings.server address .

Next the virtual configuration data generating unit acquires tenant configuration data shown in from the tenant configuration data holding unit . The virtual configuration data generating unit determines whether or not the set value included in tenant configuration data falls within the value range defined in the model specific set value schema.

A description will be given by taking an example of tenant configuration data shown in and model specific set value schema shown in . The value set value for the setting item copy settings.nup included in tenant configuration data is 2 in 1 . In contrast the value range corresponding to the setting item which is defined in the model specific set value schema is 1 in 1 2 in 1 and 4 in 1 . Thus the set value included in tenant configuration data falls within the value range defined in the model specific set value schema.

The value set value for the setting item device settings.sleep time included in tenant configuration data is 10 seconds . On the other hand the value range corresponding to the setting item which is defined in the model specific set value schema is 1 minute 10 minutes and 1 hour . Thus the set value included in tenant configuration data does not fall within the value range defined in the model specific set value schema.

When the set value included in tenant configuration data does not fall within the value range defined in the model specific set value schema the virtual configuration data generating unit acquires the default value defined in the model specific set value schema. In this example the default value 10 minutes is acquired. The virtual configuration data generating unit uses the acquired default value as the set value for the setting item in virtual configuration data.

When the set value included in tenant configuration data falls within the value range defined in the model specific set value schema the virtual configuration data generating unit takes the set value included in tenant configuration data as the set value corresponding to the setting item of virtual configuration data.

Next the virtual configuration data generating unit determines whether or not virtual device configuration data satisfies the condition defined in the model specific set value schema. Referring to the model specific set value schema shown in there is no particular condition corresponding to copy settings.nup . Thus virtual device configuration data shown in satisfies the condition corresponding to copy settings.nup .

However the condition corresponding to fax settings.received print is facsimile unit whereas the value none is set as a value for facsimile unit included in device configuration data. Thus virtual device configuration data does not satisfy the condition corresponding to the setting item.

When virtual device configuration data does not satisfy the condition defined in the model specific set value schema the virtual configuration data generating unit acquires the default value defined in the model specific set value schema. In this example the virtual configuration data generating unit acquires a default value OFF corresponding to fax settings.received print . The virtual configuration data generating unit uses the acquired default value as the set value for the setting item in virtual configuration data.

Referring back to the virtual configuration data updating unit updates virtual configuration data in the virtual device held by the virtual device holding unit with virtual configuration data generated by the virtual configuration data generating unit .

More specifically among the virtual devices held by the virtual device holding unit the virtual configuration data updating unit acquires a virtual device having a device identifier corresponding to the generated virtual configuration data. Then the virtual configuration data updating unit updates virtual configuration data included in the acquired virtual device by replacing it with the generated virtual configuration data. When the notification flag for the virtual device is notified the virtual configuration data updating unit further sets the notification flag to not notified . Setting the notification flag to not notified means that virtual configuration data corresponding to an image forming apparatus is changed and thus the image forming apparatus needs to refer to new virtual configuration data.

The actual device configuration data receiving unit receives device configuration data and a tenant identifier from the actual device configuration data notifying unit provided in the image forming apparatus . The virtual device configuration data updating unit updates virtual device configuration data retained by the virtual device held by the virtual device holding unit with device configuration data received by the actual device configuration data receiving unit . More specifically among the virtual devices held by the virtual device holding unit the virtual device configuration data updating unit acquires a virtual device having a device identifier that is set in device configuration data received by the actual device configuration data receiving unit . Then the virtual device configuration data updating unit updates virtual device configuration data retained by the acquired virtual device with device configuration data received by the actual device configuration data receiving unit .

The virtual configuration data acquiring unit receives a virtual configuration data acquisition request from the virtual configuration data receiving unit provided in the image forming apparatus via the Internet to thereby acquire virtual configuration data from the virtual device holding unit .

The virtual configuration data acquisition request includes at least a device identifier for specifying a virtual device. Thus the virtual configuration data acquiring unit searches for a virtual device having a device identifier included in the virtual configuration data acquisition request. The virtual configuration data acquiring unit acquires virtual configuration data retained by the searched virtual device. Then the virtual configuration data acquiring unit passes the acquired virtual configuration data to the request source i.e. the virtual configuration data receiving unit via the Internet .

The virtual configuration data viewing unit receives a configuration data viewing request from an external device via the Internet . The configuration data viewing request is a request on an HTTP protocol. The virtual configuration data viewing unit acquires virtual configuration data corresponding to the viewing request and generates a HTML page for viewing for the acquired virtual configuration data and returns the HTML page for viewing to the request source.

The virtual configuration data update confirming unit confirms whether or not virtual configuration data has been updated. More specifically the virtual configuration data receiving unit provided in the image forming apparatus transmits the device identifier of the image forming apparatus to the virtual configuration data update confirming unit via the Internet . The virtual configuration data update confirming unit searches for a virtual device matching the received device identifier from among the virtual devices held by the virtual device holding unit .

The virtual configuration data update confirming unit refers to the notification flag for the searched virtual device. When the notification flag is not notified the virtual configuration data update confirming unit determines that virtual configuration data has been updated. When the notification flag is notified the virtual configuration data update confirming unit determines that virtual configuration data has not been updated. The virtual configuration data update confirming unit provides notification as to whether virtual configuration data has been updated to the virtual configuration data receiving unit . Then the virtual configuration data receiving unit that has confirmed the update of virtual configuration data makes a configuration data acquisition request to the virtual configuration data acquiring unit of the set value management service .

The virtual configuration data update confirming unit may also confirm whether or not virtual configuration data has been updated using the update of virtual configuration data by the virtual configuration data updating unit as a trigger. Then when the virtual configuration data update confirming unit confirms that virtual configuration data has been updated the virtual configuration data acquiring unit may also acquire configuration data and transmit it to virtual configuration data receiving unit provided in the image forming apparatus .

Firstly the tenant configuration data updating unit detects a tenant configuration data update request transmitted from the terminal apparatus A step S . Next the tenant configuration data updating unit confirms whether or not tenant configuration data corresponding to the tenant configuration data update request has already been registered to the tenant configuration data holding unit step S . When tenant configuration data corresponding to the tenant configuration data update request has already been registered the process advances to step S. When tenant configuration data corresponding to the tenant configuration data update request has not yet been registered the process advances to step S.

In step S the tenant configuration data updating unit acquires a virtual device held by a tenant from the virtual device holding unit . The tenant configuration data updating unit acquires virtual device configuration data included in the acquired virtual device. Then the tenant configuration data updating unit acquires a model code included in the acquired virtual device configuration data step S .

Next the tenant configuration data updating unit acquires model specific set value schemas corresponding to the acquired model code from the model specific set value schema holding unit step S . Next the tenant configuration data updating unit lists the setting items included in at least one of the model specific set value schemas acquired in step S step S . Then the tenant configuration data updating unit generates blank tenant configuration data having the setting items listed up in step S step S and the process advances to step S.

In step S the tenant configuration data updating unit detects a specific update instruction for tenant configuration data step S . Then the tenant configuration data updating unit updates tenant configuration data based on the update instruction detected in step S step S . The tenant configuration data holding unit stores the updated tenant configuration data.

Next the virtual configuration data generating unit detects that tenant configuration data has been updated step S . Then the virtual configuration data generating unit searches a virtual device of which the tenant identifier matches the tenant identifier of tenant configuration data of which an update has been detected from the virtual devices held by the virtual device holding unit . In order to perform processing for the searched virtual devices in sequence the virtual configuration data generating unit acquires one virtual device.

The virtual configuration data generating unit determines whether or not the virtual device is successively acquired step S . When processing for all virtual devices is performed in sequence and the next virtual device cannot be acquired the process ends. When the virtual configuration data generating unit successively acquires the next virtual device the process advances to step S.

In step S the virtual configuration data generating unit acquires virtual device configuration data from a virtual device to be processed step S . Next the virtual configuration data generating unit acquires a model code from virtual device configuration data acquired in step S. Then the virtual configuration data generating unit acquires a model specific set value schema corresponding to the acquired model code from the model specific set value schema holding unit step S .

Next the virtual configuration data generating unit generates virtual configuration data based on the virtual device configuration data model specific set value schema and tenant configuration data step S . Then the virtual configuration data updating unit registers the generated virtual configuration data in the virtual device step S and the process returns to step S. Through the process in step S the updated tenant configuration data is reflected in the virtual configuration data.

Firstly the actual device configuration data notifying unit of the image forming apparatus detects the power ON of the image forming apparatus step S . Next the actual device configuration data collecting unit collects device configuration data step S .

Next the actual device configuration data notifying unit functions as a configuration change determining unit that determines whether there is any change in configuration information about the devices provided in the image forming apparatus . More specifically the actual device configuration data notifying unit determines whether there is any change in actual device configuration data which has not been reported to the set value management service based on actual device configuration data collected in step S step S .

If there is any change in actual device configuration data which has not been reported the process advances to step S. If there is no change in actual device configuration data which has not been reported the process advances to step S. When a new device is installed the process advances to step S.

In step S the virtual configuration data receiving unit determines whether or not the device has already acquired the latest virtual configuration data that is the virtual configuration data has already been updated step S . More specifically the virtual configuration data receiving unit confirms with the virtual configuration data update confirming unit of the set value management service via the Internet whether or not virtual configuration data has been updated. The virtual configuration data receiving unit determines whether or not virtual configuration data has been updated based on the confirmation result. If virtual configuration data has not been updated the process ends. If virtual configuration data has been updated the process advances to step S.

In step S the actual device configuration data notifying unit notifies the set value management service about a configuration data generation request including actual device configuration data and the tenant identifier step S . In other words the actual device configuration data notifying unit transmits a configuration data generation request including configuration information that has been changed and information about a management unit a tenant identifier corresponding to the image forming apparatus when determined that the configuration information has been changed. The notification destination address is an address held by the actual configuration data holding unit .

In step S the set value management service detects the notification and then perform processing. A detailed description of processing executed by the set value management service will be given below.

Next the virtual configuration data receiving unit waits for the execution of the processing until the update of virtual configuration data is completed step S . Next the virtual configuration data receiving unit receives virtual configuration data from the set value management service . In other words the virtual configuration data receiving unit acquires the operation setting information corresponding to the image forming apparatus from the set value management service that has generated updated virtual configuration data in response to the configuration data generation request. Then the virtual configuration data updating unit updates the received virtual configuration data as actual configuration data step S . Actual configuration data is stored by the actual configuration data holding unit . In other words the actual device configuration data notifying unit and the virtual configuration data receiving unit function as a requesting unit that execute following processing. The requesting unit transmits an acquisition request for operation setting information to the set value management service and acquires from the set value management service the operation setting information as a response to the acquisition request for the operation setting information.

In step S the actual device configuration data receiving unit of the set value management service accepts the configuration data generation request including actual device configuration data and the tenant identifier from the image forming apparatus step S .

Next among the virtual devices held by the virtual device holding unit the virtual device configuration data updating unit searches for a virtual device that matches the actual device configuration data and the tenant identifier both included in the configuration data generation request received in S step S . If the matched virtual device has been found the process advances to step S. If the matched virtual device has not been found the process advances to step S. When an image forming apparatus communicates with the set value management service for the first time upon installation of a new device there may be cases where searching for a virtual device is not possible. Thus in this case the process advances to step S.

In step S the virtual device configuration data updating unit generates a blank virtual device step S and the process advances to step S. Next the virtual device configuration data updating unit updates virtual device configuration data for the virtual device searched in S with actual device configuration data included in the configuration data generation request received in step S step S . Also the virtual device configuration data updating unit sets actual device configuration data included in the configuration data generation request received in step S as virtual device configuration data for the virtual device generated in step S. With this arrangement the virtual device corresponding to the image forming apparatus is updated.

Next the virtual configuration data generating unit acquires a model code from virtual device configuration data updated in step S. Then the virtual configuration data generating unit acquires a model specific set value schema corresponding to the acquired model code from the model specific set value schema holding unit step S .

Next the virtual configuration data generating unit acquires tenant configuration data step S . More specifically the virtual configuration data generating unit acquires tenant configuration data corresponding to the tenant identifier received in step S from tenant configuration data held by the tenant configuration data holding unit .

Next the virtual configuration data generating unit generates virtual configuration data based on the virtual device configuration data model specific set value schema and tenant configuration data step S . The process in step S is the same as that in step S shown in . In other words the virtual configuration data generating unit functions as a generating unit that generates configuration data corresponding to the image forming apparatus based on configuration information device configuration data included in the configuration data generation request.

Next the virtual configuration data updating unit updates the generated virtual configuration data by registering it in the virtual device in question step S . In step S the virtual configuration data acquiring unit further transmits the generated virtual configuration data to the virtual configuration data receiving unit of the image forming apparatus . In other words the actual device configuration data receiving unit the virtual device configuration data updating unit the virtual configuration data generating unit the virtual device holding unit and the virtual configuration data acquiring unit function as an managing unit that executes following processing. The managing unit manages configuration data and transmits to the image forming apparatus configuration data corresponding to the image forming apparatus upon request of the configuration data from the image forming apparatus.

Next a description will be given of relocation processing of an application executed by an information processing system of the present embodiment with respect to an image forming apparatus. The relocation processing of the application is sequentially executed according to the following steps A to D.

Step A. Creation and distribution of application rearrangement information by a terminal device and a server computer group

Step B. Application rearrangement based on rearrangement decided information by the terminal device and the image forming apparatus

Step C. Start of a rearrangement decided application rearrangement application by the terminal device and the image forming apparatus

Step D. Reflection of application rearrangement decided information by the terminal device and the server computer group

Employment of the present invention is not limited to relocation processing of the application. For example the present invention can be employed to relocation processing of a license of the application managed by the contract management service .

Firstly the terminal device requests application configuration information corresponding to the image forming apparatus in each tenant to the contract management service by use of REST step S . The application configuration information includes attribute information of the image forming apparatus and attribute information of an application installed on the image forming apparatus . The attribute information of the image forming apparatus is for example a model name a device identifier and a device specification. The attribute information of the application for example as an application identifier the version number and the device specification.

The terminal device determines whether or not transmission of the request of application configuration information has succeeded step S . When transmission of the request of application configuration information has succeeded the application information acquiring unit of the contract management service acquires tenant specific application information from the tenant specific application information holding unit . Then the application information acquiring unit generates application configuration information of the image forming apparatus that belongs to a request source tenant based on the acquired tenant specific application information step S . For example the application information acquiring unit generates application configuration information of the image forming apparatus that belongs to the tenant A.

When transmission of the request of application configuration information has failed the terminal device completes the process by displaying an error message step S . In the present embodiment an example of application configuration information with the aforementioned REST is as follows. This request is for transmission of application configuration information of the image forming apparatus corresponding to the tenant A. http api.servercomputer.com device info.sxml tenant id A

Next the application information acquiring unit determines the success and failure of the generation of application configuration information step S . When the generation of application configuration information has succeeded the application information acquiring unit transmits the application configuration information to the terminal device that is the request source step S . In the present embodiment application configuration information is generated in a SXML format and the like shown in .

Referring back to when generation of application configuration information has failed the application information acquiring unit transmits the error message to the terminal device step S . The terminal device that has received application configuration information from the application information acquiring unit displays this application configuration information step S .

An administrator can edit application configuration information displayed on the user interface shown in so as to generate an application relocation request. The application relocation request is a request for demanding relocation of the application with respect to the image forming apparatus after being rearranged.

In this example it is assumed that the administrator gathers the App A and the App B installed on the Dev A and the App C installed on the Dev B into the device Dev C that is newly placed. Hence the terminal device generates application arrangement change information for instructing to install the App A the App B and the App C on the device Dev C. Then the terminal device generates the application relocation request including the generated application arrangement change information step S in .

Next the terminal device determines the success and failure of the generation of the application relocation request step S . When the generation of the application relocation request has succeeded the terminal device packages the application relocation request in a SXML format and the like shown in .

Referring back to the terminal device transmits the packaged application relocation request to the application information acquiring unit of the contract management service step S . When the generation of the application relocation request has failed the terminal device completes the process by displaying an error massage step S .

Next the terminal device determines the success and failure of transmission of the application relocation request step S . When transmission of the application relocation request has succeeded the application information acquiring unit acquires the application relocation request packaged in the SXML format step S . When transmission of the application relocation request has failed step S the terminal device completes the process by displaying the error message step S .

Next the application information acquiring unit determines the success and failure of acquisition of the application relocation request step S . When acquisition of the application relocation request has succeeded the application arranging unit generates application rearrangement decided information step S and returns it to the terminal device . The application rearrangement decided information is information rearrangement information about the image forming apparatus after being rearranged and the applications for which application to the image forming apparatus after being reconfigured has been decided. That is the application arranging unit functions as a transmitting unit that executes the following processing. The application arranging unit decides the application corresponding to the image forming apparatus after being rearranged as a rearrangement application based on relocation information application arrangement change information included in the application relocation request. The application arranging unit responds to the terminal device with rearrangement information relating to the image forming apparatus after being rearranged and the rearrangement application.

The application arranging unit generates application rearrangement decided information based on application arrangement change information included in the application relocation request and tenant specific application information held by the tenant specific application information holding unit . A description of generation processing of the application rearrangement decided information will be given below with reference to .

Referring back to when the generation processing of application rearrangement decided information in step S has been completed the application arranging unit transmits the application rearrangement decided information to the terminal device . The terminal device displays a content of the application rearrangement decided information received from the application arranging unit on the screen step S . When an acquisition of rearrangement requesting information has failed the application information acquiring unit transmits information indicating a failure of acquisition and the terminal device completes the process by displaying the error message step S .

Among applications included in the application rearrangement decided information the application to which a mark is added indicates that the ver up attribute is t that is an application for which a version upgrade is required for installation on the image forming apparatus.

Referring back to the terminal device executes the following processing according to an operation by the administrator who has confirmed the content of application rearrangement decided information displayed on the user interface shown in . The terminal device requests the application rearrangement decided information to the contract management service step S .

Next the application arranging unit of the contract management service transmits the application rearrangement decided information to the terminal device step S . Then the application arranging unit determines whether or not the application rearrangement decided information has been successfully transmitted step S . When transmission of the application rearrangement decided information has failed the process returns to step S. When transmission of the application rearrangement decided information has succeeded the terminal device acquires the application rearrangement decided information step S .

An example of determination processing in step S will be given below. Firstly the application arranging unit acquires the application name App A that is listed first and its version number 1.0 included in the application arrangement change information shown in .

The application arranging unit refers to the specification information compatible with an application shown in to thereby acquire a value 001 of the device specification identifier corresponding to the acquired App A and the version number 1.0 . The application arranging unit determines whether or not the acquired value 001 of the device specification identifier matches the device specification 002 of the image forming apparatus after being rearranged included in the application arrangement change information . The image forming apparatus after being rearranged is an image forming apparatus corresponding to the device identifier CCC00005 .

In this example 001 does not match 002 . Hence the application arranging unit determines that the App A cannot be installed on the image forming apparatus after being rearranged. By the same means as the aforementioned manner the application arranging unit determines that the application App C that is listed third and is included in the application arrangement change information also cannot be installed on the image forming apparatus after being rearranged.

In contrast the application arranging unit determines that the application App B that is listed second and is included in the application arrangement change information can be installed on the image forming apparatus after being rearranged through the following processing. Firstly the application arranging unit acquires the App B and its version number 1.0 from the application arrangement change information.

Next the application arranging unit acquires a value of the device specification identifier corresponding to the acquired App B and the version number 1.0 with reference to the specification information compatible with an application shown in . The indicates that the device specification has no limitation. Thus the device specification corresponding to the App B and the version number 1.0 matches the device specification of the image forming apparatus after being rearranged. As a result the application arranging unit determines that the App B can be installed on the image forming apparatus after being rearranged.

In other words the application arranging unit specifies an application operational condition device specification corresponding to the applying target application based on attribute information of the applying target application included in the application relocation request and specification information compatible with an application shown in . When the specified application operational condition matches the application operational condition of the image forming apparatus after being relocated included in the application relocation request the application arranging unit decides that the applying target application is a rearrangement application.

In step S the application arranging unit acquires the application that can be installed on the image forming apparatus after being rearranged application to be applied from the application holding unit the process advances to step S.

In step S the application arranging unit creates a list of the application that cannot be installed as a result of the determination. The application arranging unit searches for the application that has the same application name as the application included in this list each for the application and that can be installed step S . The application arranging unit determines whether or not the application that can be installed on the image forming apparatus after being rearranged has been found step S .

A description of processing in step S S will be given. The application arranging unit acquires the device specification included in the list created in step S with reference to specification information compatible with an application shown in . The application arranging unit determines whether or not the device specification that matches the device specification 002 of the image forming apparatus after being rearranged is present in the acquired device specs.

When the device specification that matches the device specification 002 of the image forming apparatus after being rearranged is present the application arranging unit executes the following processing with reference to the device specification information shown in . The application arranging unit determines whether or not the contract management service manages the image forming apparatus after being rearranged. When the contract management service manages the image forming apparatus after being rearranged the application arranging unit determines that the application that can be installed on the image forming apparatus after being rearranged has been found. In other words the application arranging unit determines that the application having the device specification that matches the device specification 002 of the image forming apparatus after being rearranged is an application that can be installed on the image forming apparatus after being rearranged.

In the present embodiment the list created in step S includes the App A and the App C . The application arranging unit specifies a record corresponding to the device specification that matches the device spec 002 of the image forming apparatus after being rearranged among the records corresponding to the App A included in the specification information compatible with an application shown in . In this example the second record is specified as a record corresponding to the device specification 002 of the image forming apparatus after being rearranged.

Also the application arranging unit specifies a record corresponding to the device specification that matches the device spec 002 of the image forming apparatus after being rearranged among the records corresponding to the App C included in the specification information compatible with an application shown in . In this example the fifth record is specified as a record corresponding to the device spec 002 of the image forming apparatus after being rearranged.

Also the application arranging unit determines whether or not a record of which the device specification information shown in corresponds to the image forming apparatus after being rearranged that is the image forming apparatus of which the device identifier is CCC00005 and the device spec is 002 is present. In this example the record corresponding to the Dev C is a record corresponding to the image forming apparatus after being rearranged. Thus the application arranging unit determines that the contract management service manages the image forming apparatus after being rearranged.

Then the application arranging unit decides that the application App A of which the version is 1.01 and that corresponds to the second record of the specified specification information compatible with an application is the application that can be installed on the image forming apparatus after being rearranged. Also the application arranging unit decides that the application App C of which the version is 1.01 and that corresponds to the fifth record of the specified specification information compatible with an application is the application that can be installed on the image forming apparatus after being rearranged.

Those decided applications are rearrangement applications. In other words among applications of which the kind is the same as but the version is different from the applying target application the application arranging unit searches for the application of which the application operational condition of the image forming apparatus after being relocated matches each other base on specification information compatible with an application. The application arranging unit decides that the application is a rearrangement application. In this manner the version upgrade of the application to be applied is enabled depending on the specification of the image forming apparatus after being rearranged.

When the application that can be installed on the image forming apparatus after being rearranged has not been found the application arranging unit acquire the application to be installed step S and the process advances to step S.

When the application that can be installed on the image forming apparatus after being rearranged has been found the application arranging unit acquires the found application from the application holding unit step S . Then the application arranging unit creates for example application rearrangement decided information shown in step S and completes the process.

The terminal device that has acquired application rearrangement decided information commences a relocation of the application by transmitting an application rearrangement start instruction including application rearrangement decided information to the image forming apparatus .

Firstly as shown in the terminal device generates an application rearrangement start instruction to provide instructs to the image forming apparatus under a certain user environment step S . The application rearrangement start instruction is control information that provides instructs for a rearrangement of the application to be applied rearrangement instruction and includes application rearrangement decided information. The terminal device transmits the application rearrangement start instruction to each image forming apparatus when a plurality of the image forming apparatuses is present under the user environment steps S S .

In this example in step S it is assumed that the application rearrangement start instruction is transmitted to the image forming apparatus of the device identifier AAA00001 and the image forming apparatus of the device identifier BBB00001 . Hereinafter the image forming apparatus of the device identifier AAA00001 is also referred to device A . The image forming apparatus of the device identifier BBB00001 is also referred to device B . Also in step S it is assumed that the application rearrangement start instruction is transmitted to the image forming apparatus of the device identifier CCC00005 hereinafter as referred to device C . The device C is an image forming apparatus after being rearranged.

A description will be given of processing by the image forming apparatus that has received the application rearrangement start instruction from the terminal device . Firstly the application managing unit functions as an accepting unit that accepts the application rearrangement start instruction. The application managing unit analyzes application rearrangement decided information included in the application rearrangement start instruction. Specifically the application managing unit analyzes whether or not the application is added or updated or the application should be halted. In this manner the application managing unit prepares to start the rearrangement step S .

Next the application managing unit confirms determines whether or not the application is applied to the device steps S S . Specifically the application managing unit acquires attribute information of the image forming apparatus after rearrangement and attribute information of the rearrangement application from application rearrangement decided information included in the rearrangement start instruction. The application managing unit determines whether or not the image forming apparatus after being relocated is the host device and the rearrangement application that is not provided in the host device is present based on the acquired attribute information of the image forming apparatus and attribute information of the rearrangement application. When the image forming apparatus after being relocated is the host device and the rearrangement application that is not provided in the own device is present the application managing unit determines that there is an application to be added to the host device that is the rearrangement application needs to be applied to the host device. In other words the application managing unit functions as a determining unit that determines whether or not applying the rearrangement application to the image forming apparatus is required based on the application rearrangement decided information included in the application rearrangement instruction.

In this example the device identifier of the image forming apparatus after being rearranged included in the application rearrangement decided information is CCC00005 . Hence the application managing unit confirms that the image forming apparatus after being relocated is not the host device thus the application is not added to the host device.

When the application managing unit determines there is the application to be added to the host device the application managing unit downloads the rearrangement application step S . In other words the application arranging unit of the contract management service functions as distributing unit that distributes the rearrangement application to the image forming apparatus after being relocated upon request of the image forming apparatus after being rearranged. Also the application managing unit of the image forming apparatus functions as an acquiring unit that requests the rearrangement application from the contract management service and acquires the rearrangement application from the contract management service that has responded to the request. Subsequently the application managing unit determines the success and failure of the download of the rearrangement application step S . When download of the rearrangement application has failed the application managing unit notifies the terminal device of a failure of the process step S .

When download of the rearrangement application has succeeded the application managing unit confirms determines that an application to be halted is present in the host device with reference to the applications that have been installed on the host device steps S S . The application to be halted is a same kind of application as the rearrangement application. In the device A the App A and the App B are applications to be halted. The application to be halted is a target for a halt uninstallation.

When the application to be halted has not been installed on the host device the application managing unit instructs the application installing unit to install the rearrangement application step S . In other words the application managing unit functions as an applying unit that applies the downloaded rearrangement application.

When the application to be halted has been installed on the host device the application managing unit halts the application to be halted step S . In other words the application managing unit functions as a halting unit that halts the application included in the downloaded rearrangement application among the applications that has been already applied to the host device. The application managing unit determines the success and failure of the halt of the application to be halted step S . When the halt of the rearrangement application has failed the process advances to step S. When the halt of the application to be halted has succeeded the process advances to step S.

In step S the application managing unit instructs the application installing unit to install the rearrangement application step S . Subsequently the application managing unit determines the success and failure of installation of the rearrangement application step S . When the installation has succeeded the application managing unit notifies the terminal device of the success of the process installation completion step S . When installation has failed the application managing unit notifies the terminal device of the failure of the process step S .

In the determination process in step S when it is determined that there is no application to be added to the host device the application managing unit confirms determines whether or not the application to be halted in the host device is present step S . When the device A of which the device identifier is AAA00001 is an object of the process the application managing unit confirms that the application App A and App B that are operated on the device A are the applications to be halted in the step S. When the application to be halted is not provided in the host device the process advances to step S.

When the application to be halted is provided in the host device the application managing unit halts the rearrangement application step S . Subsequently the application managing unit determines the success and failure of halt of the application to be halted step S . When halt of the rearrangement application has failed the process advances to step S. When halt of the rearrangement application has succeeded the process advances to step S.

The processes in steps S to S shown in are executed by the device C. The processes in steps S to S are the same as the processes in steps S to S shown in thus a detailed description is omitted. In this example the device identifier of the image forming apparatus after being rearranged included in application rearrangement decided information is CCC00005 . Also the rearrangement applications the App A the App B and the App C are not included in the applications provided in the host device. Thus the application managing unit confirms that the image forming apparatus after being relocated is the host device and there are applications to be added to the host device in steps S S.

Also in step S the application managing unit installs the rearrangement applications the App A to the App C . Also in step S of when the application managing unit notifies the terminal device of a success of the process the process advances to step S of .

Referring back to in steps S and S the terminal device receives an installation completion notification from the image forming apparatus . Then the terminal device displays a completion status of the relocation of the application on the screen step S .

In step S the application managing unit provided in the device A or the device B accepts the rearrangement application start instruction. Then the application managing unit determines whether or not the same kind of application to be halted with the rearrangement application in the application rearrangement decided information included in the rearrangement application start instruction is included in the host device steps S and S . When the application to be halted is not provided in the host device the process advances to step S. When the application to be halted is provided in the host device the application managing unit uninstalls the application to be halted step S .

Next the application managing unit determines the success and failure of the uninstallation of the application to be halted step S . When the uninstallation of the application to be halted has succeeded the application managing unit notifies the terminal device of the success of the process step S . When the uninstallation of the application to be halted has failed the application managing unit notifies the terminal device of the failure of the process step S .

Next the application managing unit confirms determines whether or not the rearrangement application is installed on the host device steps S and S . When the rearrangement application is not installed on the own device the process advances to step S.

When the rearrangement application is installed on the host device the application managing unit starts the rearrangement application step S . In other words the application managing unit activates the rearrangement application according to the accepted rearrangement application start instruction. Subsequently the application managing unit determines the success and failure of the start of the rearrangement application step S . When start of the rearrangement application has failed the process advances to step S. When the start of the rearrangement application has succeeded the process advances to step S. Then the application managing unit notifies the terminal device of an activation completion step S .

In steps S and S the terminal device receives the activation completion for the rearrangement application. Then the terminal device displays an activation completion status of the application on the screen step S .

The processes in steps S to S shown in is executed by the device C. Since the processes in steps S to S are the same processes as those in step S to S a detailed description is omitted. In this example in step S the application managing unit determines that the rearrangement applications the App A to the App C are included in the host device. Thus in step S the application managing unit starts these rearrangement applications. After the processes in steps S S the process advances to S in .

According to operation processing by information processing system of the present embodiment described with reference to the following effects are ensured. Specifically the application can be optimally located depending on the image forming apparatus after being rearranged when the image forming apparatus of which the configuration date is managed by the management apparatus on a network is rearranged. Specifically applications or licenses that have been applied to the image forming apparatus before being relocated are optimally relocated depending on the number or a model of the image forming apparatus after being relocated.

Next the application information acquiring unit of the contract management service receives the application activation notification step S . Subsequently the application arranging unit reflect the application rearrangement decided information included in the application activation notification in tenant specific application information held by the tenant specific application information holding unit step S . In this manner for example tenant specific device information shown in is updated to tenant specific device information shown in . Also device specific information shown in is updated to device specific information in . In the example shown in the application arranging unit creates records corresponding to the device identifier CCC00005 according to the number of the rearrangement applications.

Referring back to the application arranging unit determines the success and failure of reflection processing for tenant specific application information step S . When the reflection processing for tenant specific application information has succeeded the application arranging unit notifies the terminal device of the processing result the success of processing step S . When the reflection processing for tenant specific application information has failed the application arranging unit notifies the terminal device of the processing result failure of processing step S .

Next the terminal device receives the processing result from the application arranging unit of the contract management service step S . Then the terminal device displays the application completion status on the screen on the basis of the processing result step S .

Aspects of the present invention can also be realized by a computer of a system or apparatus or devices such as a CPU or MPU that reads out and executes a program recorded on a memory device to perform the functions of the above described embodiments and by a method the steps of which are performed by a computer of a system or apparatus by for example reading out and executing a program recorded on a memory device to perform the functions of the above described embodiments. For this purpose the program is provided to the computer for example via a network or from a recording medium of various types serving as the memory device e.g. computer readable medium .

While the present invention has been described with reference to exemplary embodiments it is to be understood that the invention is not limited to the disclosed exemplary embodiments. The scope of the following claims is to be accorded the broadest interpretation so as to encompass all such modifications and equivalent structures and functions.

This application claims the benefit of Japanese Patent Application No. 2012 054082 filed Mar. 12 2012 which is hereby incorporated by reference herein in its entirety.

