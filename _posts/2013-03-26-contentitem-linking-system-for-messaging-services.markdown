---

title: Content-item linking system for messaging services
abstract: A client service, such as a plug-in to a browser, can alter a document retrieved from a compatible service to augment the document with services from an online content management service. When an application retrieves a compatible document, the client service can detect a document element within the document and alter the document to provide an activatable reference to the online content management service. For example, a client service can recognize an email composition webpage or an email display webpage and insert activatable references provide services from the online content management service. In email composition webpages, a reference can be a button that allows an email author to insert a link to a content item from the online content management service. In email display webpages, references can be added that allow attachments to be sent to the online content management service for storage.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09300611&OS=09300611&RS=09300611
owner: Dropbox, Inc.
number: 09300611
owner_city: San Francisco
owner_country: US
publication_date: 20130326
---
The present disclosure relates generally to online content management services and in particular to selectively providing links to content items stored in such services within an existing messaging client.

Online content management services allow users to access and manage content across multiple devices using the Internet. In a typical online content management service a user establishes an account with the service provider and can associate various content items with the account. For example some online content management services may allow the user to store content items including but not limited to text documents email messages text messages other types of messages media files such as photos videos and audio files and or folders containing multiple files and to selectively allow other users to access the content items. Content items can be stored in a master repository maintained by the service provider and mirrored to or synchronized with local copies on various user devices. Users may also be able to receive updates based on activity of other users for instance in a social network status updates or other content items posted by one user can be propagated to other users who have indicated interest in receiving them.

With the proliferation of email a user can receive and send documents from disparate sources but that arrive to the same inbox. Users can upload locally stored files to be an email attachment on outgoing emails. Users can also download email attachments to local storage. Keeping these attached files organized can present challenges for users.

Certain embodiments of the present invention relate to altering a document retrieved from a compatible service to provide an activatable reference to an online content management service. When an application retrieves a compatible document a client service can detect a document element within the compatible document and alter the document to provide extra services from an online content management service. For example a client service can recognize an incoming document as an email composition webpage or an email display webpage and insert references that when activated provide services from the online content management service.

In email composition webpages a reference can be a button that allows an email author to insert a link to a content item from the online content management service rather than upload a file as an email attachment. For example a browser plug in can enable an email author to insert a reference to a content item into a body of an email during composition of the email. The plug in can detect when a compatible email service is accessed. When an email composition page is accessed an attach document button can be detected within the page s source code. Near the attach document button the plug in can add a new button that accesses the online content management service. When the new button is activated such as by being clicked by the email author a content item selection window can be shown. The content item selection window can display content items available from the online content management service. The selection window can receive a selection of a content item by the email author and pass the selection to the plug in. The plug in can request a reference such as a link to the content item from the online content management service and insert the reference into a body of the email. By using the reference actual attachment of a content item to an email can be avoided while the content item is still made available to the email recipient through the reference.

In email display webpages references can be added that allow attachments to be sent to the online content management service for storage rather than downloaded to a user machine. For example a browser plug in can insert an activatable reference in an email display webpage such that activation of the reference allows an online content management service to store an email attachment of the displayed email. The plug in can detect when a compatible email service is accessed and an email attachment is offered for download. An email display webpage can be scanned for the attachment download link and a new request element can be added. When activated such as by being clicked by an email recipient the request element can cause the online content management service to retrieve and store the email attachment.

A client service such as a browser plug in can manage augmented services using the online content management service and an email service. For example the browser plug in can authenticate a user to the online content management service and receive user credentials. The browser plug in can then use the credentials to retrieve lists of a user s content items available to link. The browser plug in can also use application programming interfaces API s to the online content management service to provide the augmented services. For example the browser plug in can request that an attachment be stored in the online content management service upon direction from an email email recipient. Other options can also be controlled including providing restricted links link analytics and or single use links.

Certain embodiments of the present invention relate to altering a document retrieved from a compatible service e.g. an email service or a social network service to provide an activatable reference to an online content management service. When an application executing a client retrieves a compatible document e.g. a web page a client service can detect a document element within the compatible document and alter the document to provide extra services from an online content management service. For example a client service can recognize an incoming document as an email composition webpage or an email display webpage and insert references that when activated provide services from the online content management service. In email composition webpages for example a reference can be a button that allows an email author to insert a link to a content item from the online content management service rather than upload a file as an email attachment. In email display webpages references can be added that allow attachments to be sent to the online content management service for storage rather than downloaded to a user machine. A client service such as a browser plug in can manage the augmented services using the online content management service and an email service.

For example a browser plug in can enable an email author to insert a reference to a content item into a body of an email during composition of the email. A browser can request an email composition page from a compatible email service. The plug in can detect that the email composition page has been accessed. The plug in can scan the email composition page to detect an attach document button. Near the attach document button the plug in can insert a new button that accesses the online content management service. When the new button is activated such as clicked by the email author a content item selection window can be shown. The content item selection window can display content items available from the online content management service. The selection window can receive a selection of a content item by the email author and pass the selection to the plug in. The plug in can request a reference such as a link to the content item from the online content management service and insert the reference into a body of the email. By using the reference actual attachment of a content item to an email can be avoided while the content item is still made available to the email recipient through the reference.

Users can access online content management service directly by operating various clients . As used herein a client refers generally to a combination of computer hardware and software that enables a user to interact with online content management service . For example client can be a desktop or laptop computer executing a web browser which can be e.g. Internet Explorer a product of Microsoft Corp. Google Chrome a product of Google Inc. Safari a product of Apple Inc. or similar software that communicates with online content management service using web protocols such as HTTP Hypertext Transfer Protocol . Client can be a desktop or laptop computer executing an application program provided by the provider of online content management service . In some instances where the online content management service provides access to files the application program may allow files hosted on a server to appear to exist within a filesystem structure associated with the client computer s operating system. It should be noted that in some instances the same client computer can execute both a web browser and a desktop application program accordingly it is to be understood that a single physical device can implement one or more clients.

Other examples of clients include mobile devices e.g. tablet computer and mobile phone which can execute application programs also referred to as apps that communicate with online content management service . At various times a user may be interacting with one or more of clients .

In addition to accessing an online content management service clients and can access email service . For example client can be a desktop or laptop computer executing a web browser which can be e.g. Internet Explorer a product of Microsoft Corp. Google Chrome a product of Google Inc. Safari a product of Apple Inc. or similar software that communicates with email service using web protocols such as HTTP Hypertext Transfer Protocol or HTTPS Hypertext Transfer Protocol Secure . Display of client shows web based email service . A user can perform various email related tasks such as composing email reviewing email downloading attachments uploading attachments saving email and deleting email.

A client service such as a browser plug in can be used to provide additional functionality to a client such as client . The client service can for example add online content management service functionality as an addition to email functionality provided by email service . Client can access email service . The client service can detect that email service has been accessed and inject additional functionality into the display of email functionality. For example the client service can determine that a web page was accessed from a domain used in conjunction with email service . The client service can then look for elements of the web page that can be augmented with additional functionality. For example an email composition window can be augmented with a button that offers an online content management linking service next to an email attachment button. In another example an email display page can be augmented with an attachment download link to online content management service .

For example a browser plug in running on client can be used in the composition of email. The browser plug in can detect an email composition page and provide a link to online content management service . The browser plug in can provide a button that allows a user to browse online content management service and select a content item. A download link to the selected content item can be provided in the email body rather than an attachment that takes up valuable email storage space.

In another example the browser plug in can direct an email attachment to be stored in online content management service . The browser plug in can detect an email viewing page with an attachment element and provide a link to online content management service . The browser plug in running on client can detect a link to download an email attachment. The browser plug in can then insert a second link that directs the attachment to be downloaded and stored to online content management service .

Turning now to an augmented set of user interfaces to an email client is shown. show a progression of user interface views provided by a client service that can be used to provide a link to a content item in an online content management service. shows an augmented email viewing interface that allows an email recipient to send an attachment directly to the online content management service.

A client service e.g. a browser plug in can augment an email composition window to provide online content management services such as providing links to content items within the online content management service. shows augmented user interface to an email client. User interface includes inbox display email composition window and a set of commands and . Stock commands i.e. commands defined by the provider of the email service include send button text formatting button attach file button and delete draft button. Content item button can provide access to the online content management service. The client service can add content item button to the stock commands and e.g. by modifying the page source code that the client browser uses to render the composition window to extend functionality of the email client.

In one embodiment an email author can provide a link in an email to a content item stored in an online content management account controlled by the email author. For example content item button can include functionality that when activated causes selection user interface as shown in to be opened.

An example of selection user interface is shown in . Selection user interface can show content items from an online content management service that are available to link in the email. The content items can include a hierarchy such that an email author can browse through folders to reach other content items. The email author can select one or more of the content items to reference in the email body. Selection user interface can return the selection and cause the client service to request a link to the selected content item from the online content management service. In the embodiment shown the email author can select e.g. the Sales.ppt document.

As a result of the selection of a content item in the selection user interface the online content management service can return a link to be inserted into a body of a draft email. shows email composition window with link to the selected content item. As a result of selecting the Sales.ppt document a link to the document can be provided in the body of the email document. The link can provide a method to retrieve the document without attaching the document to the email which can save space in an email quota. For example the link can provide a URL identifying a location of the selected content item at the online content management service and a recipient can access the item by following the link. The email author can continue composing the email that now includes link to the Sales.ppt document. After completing the email the email author can click on the send button to send the email. After the email author sends the email the email recipient can use the embedded link to retrieve the document. In some embodiments the content management service can return a link and a preview such as a thumbnail picture of a part the linked document e.g. the first page or a representative preview of the document .

A client service can also augment email viewing interface that displays received emails. shows augmented email viewing interface . The interface can include email viewing pane attachment link and augmented store attachment link . When an email recipient accesses an email that includes an attachment a client service can detect the attachment and augment email viewing pane with store attachment link . If an email recipient clicks on download file link the email recipient can download the attachment to local storage. If an email recipient clicks on store attachment link the attachment can be sent to the online content management service for storage.

While an example has been shown in which a link has been inserted into an email message other references can also be used. For example a reference may include an API call to the online content management service to request a download of the referenced content item.

The plug in can include functionality to detect when augmentations to an email service can be performed. A plug in to the browser can detect that a page from a compatible email service has been accessed such as through matching a URL. The plug in scans the page code until a document element is found that indicates that an augmentation can be inserted into the page. For example inbox display may not have an HTML element indicating augmentation is available. However when email composition window is displayed attachment button can be detected and used as an indicator that content item button can be inserted into the page that defines the window. A page can be defined by source code e.g. HTML that instructs the browser on rendering document elements e.g. text formatting control elements etc. . The plug in can insert code to render the content item button into the page code. Content item button can inherit styles from the page and be formatted to appear similar to other buttons and elements in window . Content item button can include functionality that causes a selection user interface to appear when content item button is activated such as clicking the content item button .

In some embodiments the plug in can require authentication to the online content management service before use. A user can authenticate a plug in to the online content management service such as by providing a username and password. The plug in can receive credentials for use with the online content management service. These credentials can be used when the plug in accesses the content management service such as to select content items and or store email attachments in the online content management service.

In other embodiments a reference such as a link to a content item can be further enhanced with other options. For example a link can be protected such that the content item can only be downloaded by a specified recipient or group of recipients. A link can be limited to a certain number of uses. The link can also be used to provide analytics and or track which recipients have accessed the content item and which have not.

Client can use a local browser plug in to augment a communications service provided by third party communications server . Plug in can be installed on client and determine when a document e.g. a web page that can augmented with additional functionality is received from communications server over a network such as the Internet . Plug in can determine that a document can be augmented based on domain document name document content document elements or other information about the access or content of the document.

For example an email composition page can be augmented. Communications server can send an email composition page over the Internet upon request from the client . Plug in can determine that compose email page contains an attachment request button. A content item button can be placed next to the attachment request button. The content item button can have associated executable instructions such as in line Javascript external library files or associated plug in functionality. When an email author activates the content item button the plug in or associated instructions can contact content management server over the Internet and through API to request a listing of available content items that can be linked within the email document. The content management server can query content item repository and or content item metadata storage to determine which content items can be listed in a return to plug in . Through interaction with a content item selection user interface such as seen in an email author can interact with content management server through API until a content item is selected or the process is cancelled. If a content item is selected plug in can request a reference to the content item such as a link through API . Content management server can provide an activatable reference to plug in . The email author can then complete the email and cause third party communications server to send the message such as through email service or through social media service .

An email recipient that encounters the message using client or can use the activatable reference to access the content item. For example an email can be received by client or that contains an activatable reference such as a hyperlink from a process as described above. Client or can use the activatable reference to contact content management server to request the referenced content item. Content management server can then retrieve the content item from the content item repository and transmit the content item to client or . In some embodiments content management server can use the activatable reference to access metadata that identifies the content item in content item repository . The content item can then be returned to requesting client or .

The content item metadata can also provide extended features. For example a link can be protected such that the content item can only be downloaded by a specified recipient or group of recipients. A link can be limited to a certain number of uses. The link can also be used to provide analytics and or track which recipients have accessed the content item and which have not.

In another example plug in can augment an email viewing page that includes an attachment. Plug in can determine that an email viewing page has been requested by client . Upon receipt of the email viewing page plug in can scan for document elements that indicate an attachment is present such as a download link. Plug in can insert a second link next to the download link that allows an email recipient to send the attachment to content management server . The resulting altered email viewing page can then be displayed by client . If an email recipient selects the second link plug in or associated systems such as a library can send a request to content management server using API to download the attachment from third party communications server . Content management server can directly request the attachment from communications server if allowed. Content management server can also receive the attachment through the intermediary of plug in .

While an example of email service has been given it should be recognized that other communication services can be used. For example a link can be inserted as part of a posting on a blog short messaging service social activity timeline social media service or instant messaging service.

Various operations described herein can be implemented on computer systems which can be of generally conventional design. is a simplified block diagram illustrating a representative computer system . In various embodiments computer system or similar systems can implement a client e.g. any of platforms or a server e.g. server .

Computer system can include processing unit s storage subsystem input devices output devices network interface and bus .

Processing unit s can include a single processor which can have one or more cores or multiple processors. In some embodiments processing unit s can include a general purpose primary processor as well as one or more special purpose co processors such as graphics processors digital signal processors or the like. In some embodiments some or all processing units can be implemented using customized circuits such as application specific integrated circuits ASICs or field programmable gate arrays FPGAs . In some embodiments such integrated circuits execute instructions that are stored on the circuit itself. In other embodiments processing unit s can execute instructions stored in storage subsystem .

Storage subsystem can include various memory units such as a system memory a read only memory ROM and a permanent storage device. The ROM can store static data and instructions that are needed by processing unit s and other modules of electronic device . The permanent storage device can be a read and write memory device. This permanent storage device can be a non volatile memory unit that stores instructions and data even when computer system is powered down. Some embodiments of the invention can use a mass storage device such as a magnetic or optical disk or flash memory as a permanent storage device. Other embodiments can use a removable storage device e.g. a floppy disk a flash drive as a permanent storage device. The system memory can be a read and write memory device or a volatile read and write memory such as dynamic random access memory. The system memory can store some or all of the instructions and data that processing unit s need at runtime.

Storage subsystem can include any combination of computer readable storage media including semiconductor memory chips of various types DRAM SRAM SDRAM flash memory programmable read only memory and so on. Magnetic and or optical disks can also be used. In some embodiments storage subsystem can include removable storage media that can be readable and or writeable examples of such media include compact disc CD read only digital versatile disc e.g. DVD ROM dual layer DVD ROM read only and recordable Blue Ray disks ultra density optical disks flash memory cards e.g. SD cards mini SD cards micro SD cards etc. magnetic floppy disks and so on. The computer readable storage media do not include carrier waves and transitory electronic signals passing wirelessly or over wired connections.

In some embodiments storage subsystem can store one or more software programs to be executed by processing unit s such as an operating system a browser application a mobile app for accessing an online content management service a desktop application for accessing the online content management service and so on. Software refers generally to sequences of instructions that when executed by processing unit s cause computer system to perform various operations thus defining one or more specific machine implementations that execute and perform the operations of the software programs. The instructions can be stored as firmware residing in read only memory and or applications stored in non volatile storage media that can be read into volatile working memory for execution by processing unit s . Software can be implemented as a single program or a collection of separate programs or program modules that interact as desired. From storage subsystem processing unit s can retrieve program instructions to execute and data to process in order to execute various operations described herein.

A user interface can be provided by one or more user input devices and one or more user output devices . Input devices can include any device via which a user can provide signals to computing system computing system can interpret the signals as indicative of particular user requests or information. In various embodiments input devices can include any or all of a keyboard touch pad touch screen mouse or other pointing device scroll wheel click wheel dial button switch keypad microphone and so on.

User output devices can include any device via which computer system can provide information to a user. For example user output devices can include a display to display images generated by computing system . The display can incorporate various image generation technologies e.g. a liquid crystal display LCD light emitting diode LED including organic light emitting diodes OLED projection system cathode ray tube CRT or the like together with supporting electronics e.g. digital to analog or analog to digital converters signal processors or the like . Some embodiments can include a device such as a touchscreen that function as both input and output device. In some embodiments other user output devices can be provided in addition to or instead of a display. Examples include indicator lights speakers tactile display devices printers and so on.

Network interface can provide voice and or data communication capability for computer system . In some embodiments network interface can include radio frequency RF transceiver components for accessing wireless voice and or data networks e.g. using cellular telephone technology advanced data network technology such as 3G 4G or EDGE WiFi IEEE 802.11 family standards or other mobile communication technologies or any combination thereof GPS receiver components and or other components. In some embodiments network interface can provide wired network connectivity e.g. Ethernet in addition to or instead of a wireless interface. Network interface can be implemented using a combination of hardware e.g. antennas modulators demodulators encoders decoders and other analog and or digital signal processing circuits and software components.

Bus can include various system peripheral and chipset buses that communicatively connect the numerous components of computing system . For example bus can communicatively couple processing unit s with storage subsystem . Bus can also connect to input devices and output devices . Bus can also couple computing system to a network through network interface . In this manner computing system can be a part of a network of multiple computer systems e.g. a local area network LAN a wide area network WAN an intranet or a network of networks such as the Internet.

Some embodiments include electronic components such as microprocessors storage and memory that store computer program instructions in a computer readable storage medium. Many of the features described in this specification can be implemented as processes that are specified as a set of program instructions encoded on a computer readable storage medium. When these program instructions are executed by one or more processing units they cause the processing unit s to perform various operation indicated in the program instructions. Examples of program instructions or computer code include machine code such as is produced by a compiler and files including higher level code that are executed by a computer an electronic component or a microprocessor using an interpreter.

Through suitable programming processing unit s can provide various functionality for computing device . For example in a mobile computing device processing unit s can execute an operating system capable of receiving push notifications and an app to communicate with online content management service . In a desktop computing device processing unit s can execute an operating system and a desktop application program that presents an interface to online content management service in some embodiments this interface may be integrated with an interface to a filesystem maintained by the operating system. In some embodiments processing unit s can execute a browser application that provides the ability to retrieve and display content items from sources such as online content management service e.g. using HTTP or other data transfer protocols to retrieve and display web pages and the ability to receive and interpret user input pertaining to the content items such as selection of an item to view submission of data by the user in response to a particular content item e.g. filling out a form on an interactive web page and so on.

In some embodiments computer system or a similar system can also implement content management server content item metadata storage content item repository third party communications server API web client application client tablet computer or mobile phone . In such instances a user interface may be located remotely from processing unit s and or storage subsystem similarly storage subsystem or portions thereof may be located remotely from processing unit s . Accordingly in some instances various components of computer system need not be physically located in any particular proximity to each other.

It will be appreciated that computer system is illustrative and that variations and modifications are possible. Computer system can have other capabilities not specifically described here e.g. mobile phone global positioning system GPS power management one or more cameras various connection ports for connecting external devices or accessories etc. . Further while computer system is described with reference to particular blocks it is to be understood that these blocks are defined for convenience of description and are not intended to imply a particular physical arrangement of component parts. Further the blocks need not correspond to physically distinct components. Blocks can be configured to perform various operations e.g. by programming a processor or providing appropriate control circuitry and various blocks might or might not be reconfigurable depending on how the initial configuration is obtained. Embodiments of the present invention can be realized in a variety of apparatus including electronic devices implemented using any combination of circuitry and software.

As described above a client service can monitor incoming documents e.g. web pages and alter the documents to provide augmented services supported by the online content management service. An example of document that can be augmented is shown in and an example of document after augmentation is shown in but is not exhaustive in scope. A client service such as plug in e.g. plug in of can determine that document is retrieved from a compatible communications server e.g. communications server of . Plug in can review elements and of document to determine if an element indicates that the document can be augmented. In document element is identified as having a class of attach. The plug in can identify the attach class identifier as an element that references an attachment process.

In another example of document alterations an email viewing web page can be altered to send an attachment to an online content management service. Upon receiving the page a client service e.g. plug in can determine the web page is an email viewing web page. The web page can be analyzed for a download attachment link. An analysis of the download attachment link can be performed to extract information such as a URL of a download link to the attachment. Next to the download attachment link in the web page an activatable reference such as a link can be inserted that contacts the online content management service and requests the attachment be stored in the online content management service using the URL.

Elements that indicate potential augmentation can be manually or programmatically identified. An analysis of elements that can be augmented can be performed by an administrator or programmatically by the client. An administrator can analyze documents e.g. web pages from a communication service and determine documents that can be augmented. The administrator can then create identifiers and instructions that a client service such as a plug in can follow to identify analyze and insert elements that provide the augmentation. The resulting identifiers and instructions can then be sent out via update made available as a download or provided as an accessible document. A client service can also include functionality that identifies potential augmentations such as download links. For example the client service can identify URL s and other identifiers that can be unique relative to the rest of the document.

The data structures of is illustrative and variations and modifications are possible. A document can include any number of fields or elements and can have more or fewer fields than shown. Similarly the number and content of fields of a document can be different from that shown. Further while the example in references an HTML page other markup or rendering languages can also be used in connection with an appropriate plug in.

Using data structures such as those of system of can selectively provide links to content items stored in such services within an existing email client. Examples of processes that can be implemented at content management server content item metadata storage content item repository third party communications server API and clients to provide content item messaging server will now be described.

At block a document e.g. a web page has been received and the document is analyzed by a client service e.g. a browser plug in to see if a specific document element is present. For example a document from an email provider can be searched for a control element that represents a file attachment button. At block the client can alter the document to insert a request element that ties to the online content management service. For example an insert button operable to insert a link to a content item can be inserted into the document. The placement of the insert button can be based on the location of the file attachment button such as next to the file attachment button sharing a menu bar or other relative placement. At block the plug in or other supporting code can receive an input from the user activating the request element. For example the plug in can include an input method to be called when an email author clicks on the insert content item link. At block the client can request a set of content items references from the online content management service. For example the input method can include instructions that cause the client to request a set of content item names using an API of the online content management service to display to an email author. In some embodiments the email author can request more content items by navigating a directory structure of the online content management service causing more API requests. The request can include credentials that identify an account or user of the online content management service. At block the client can receive a selection from an email author of one or more content items. For example the email author can select a document from a selection window e.g. selection window of to add as a link in an email composition window. At block the client can request an activatable reference e.g. a hypertext link to the selected content item. For example the client can use the identifier of the selected content item in a request to a linking API of the online content management service. At block the client can insert the activatable reference to the content item into document. For example the client can insert a link returned from the linking API into an email composition window.

An email author can also authenticate to a content management service to allow a content management service to selectively provide in an email service a reference to an email author s content item stored by an online content management service. shows a flow diagram of a process for authenticating and selectively providing in an email service a reference to an email author s content item stored by an online content management service. Process can be implemented on one or more clients such as clients . For example a client performing this process can authorize a plug in to interact with the online content management service while composing an email. The client can access the online content management service using the plug in to insert a button on an email composition page. The plug in can allow the email author to insert a reference to a content item into a draft email.

At block a a plug in can request that the online content management service authenticate an email author s identity. At block the plug in can receive credentials associated with the email author from the online content management service. At block the plug in can determine if a web page is from a compatible email service. At block the plug in can determine whether a document element is present such that additional services can be added. Block can be similar to Block of . At block the plug in can insert a request button into the web page that when activated causes a request to access the content management service. Block can be similar to Block of . At block the plug in can receive an input from an author that clicked the request button activating the request element. Block can be similar to Block of . At block and in response to the input the client service can request a list of content items e.g. a set of icons and content item names from the online content management service using the credentials to prove the client service has authorization to act on behalf of the email author. Block can be similar to Block of . In block the list of content items can be can be displayed to the email author for selection. In block the plug in can receive an email author s selection of a content item. Blocks and can be similar to Block of . In block the plug in can request a link to the content item from the online content management service. Block can be similar to Block of . In block the plug in can insert the requested link into an email composition portion e.g. a draft email of the web page. Block can be similar to Block of .

For example an email author can enter a username and password into a dialog window of plug in to authorize the plug in to access an online content management service on behalf of the email author. In response to authenticating the email author the online content management service can return a token that provides authentication and authorization to access content items in the online content management service. After an email author navigates the browser to a email service the plug in can determine that the URL of the email service indicates a compatible email service has been accessed. The plug in can also determine that an email composition toolbar is present. As a result of detecting the toolbar the plug in can insert a linking button into the email composition toolbar such that the linking button appears as part of the available email composition tools. The toolbar can be altered to receive the linking button such as by altering spacing between other toolbar buttons. The email author can click on the linking button to cause a client method of the plug in to execute. The plug in can perform an API call to the online content management service with the token to request a list of content items that are available to be linked in an email draft. A list of content items received from the API call can be displayed to a email author in a selection window e.g. selection window of . The email author can browse the list of available content items and select one of the content item references. Using the user selection the client service can perform another API call using the token to request a link to a selected content item from the online content management service. The client service can insert the requested link into a draft email at a point designated by the email author s cursor.

When an email recipient receives the email the email recipient can activate the link. In some embodiments activating the link will cause the content item to download to the recipient s computer. In other embodiments activating the link can cause a copy of the content item to be placed in the email recipient s storage in the online content management service. In another embodiment activating the link can cause the email recipient to be granted access to the content item. In an embodiment a preview of the item can be launched. Other functionality of a link or reference can be used such that the reference to a content item is included in a message rather than the content itself.

In some embodiments a client service can detect email attachments in a document e.g. a web page displaying an email and alter the document to provide a link that can be used to send the attachment to an online content management service. shows a flow diagram of a process for altering a message display for an email service to provide a link that can be used to request that an online content management service store an email attachment according to an embodiment of the present invention. Process can be implemented on one or more clients such as clients . For example a client performing this process can have received a token from the online content management service to be used to augment the email service while displaying an email. The client can access the online content management service using the plug in and token to insert a storage request link on an email display page. The plug in can allow the recipient to send the content item to the online content management service.

At block a client service can determine that an email attachment reference is present in a document e.g. a web page . For example an email recipient can direct a browser to an email display page of an email service. A plug in can detect that the email display page contains a link to an attachment. At block the client service can alter the document to provide an activatable storage request element. For example the email display page can be altered to include a storage link that the user can select to send the attachment to the online content management service. At block the altered document can be displayed to an email recipient. For example the altered email display page that now includes the storage link can be sent to the email recipient. At block the client service can receive an input from the User having activated the activatable storage request element. At block the client service can request the online content management service download and store the attachment reference in the storage request element. For example For example the email recipient can click on the storage link to cause an input method to execute and perform an API call requesting the online content management service to store the content. The request can include the reference such as a URL to the attachment and a client identifier.

While the invention has been described with respect to specific embodiments one skilled in the art will recognize that numerous modifications are possible. For example the particular events data structures and platforms described herein are used for purposes of illustration other events data structures and platforms can be substituted. Techniques for altering a document from a compatible service to provide an activatable reference to an online content management service can also be modified as appropriate for a particular client. For example while email clients have been discussed it should be recognized that the techniques described herein can be used for other services including messaging applications such as social networks.

As noted above it is not required that every requested document result in an alteration. Where a request does result in alteration of a document the alteration can be presented in any manner desired including using style instructions applied to other document elements. For example a button can be added to a toolbar of a document such that it matches the style of other document elements.

Embodiments described above may make reference to data structures and databases storage or data stores. It is to be understood that these terms can encompass any techniques for organizing information into discrete records that can be stored retrieved and interpreted by computer systems.

Embodiments of the present invention can be realized using any combination of dedicated components and or programmable processors and or other programmable devices. The various processes described herein can be implemented on the same processor or different processors in any combination. Where components are described as being configured to perform certain operations such configuration can be accomplished e.g. by designing electronic circuits to perform the operation by programming programmable electronic circuits such as microprocessors to perform the operation or any combination thereof. Further while the embodiments described above may make reference to specific hardware and software components those skilled in the art will appreciate that different combinations of hardware and or software components may also be used and that particular operations described as being implemented in hardware might also be implemented in software or vice versa.

Computer programs incorporating various features of the present invention may be encoded and stored on various computer readable storage media suitable media include magnetic disk or tape optical storage media such as compact disk CD or DVD digital versatile disk flash memory and other non transitory media. Computer readable media encoded with the program code may be packaged with a compatible electronic device or the program code may be provided separately from electronic devices e.g. via Internet download or as a separately packaged computer readable storage medium .

Thus although the invention has been described with respect to specific embodiments it will be appreciated that the invention is intended to cover all modifications and equivalents within the scope of the following claims.

