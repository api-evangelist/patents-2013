---

title: Transmission system and program
abstract: A recording medium stores a program which, when executed by a computer, causes the computer to perform a process, the computer connected to a transmission terminal connected to a display device and connected to a second transmission terminal via a network, the process including: displaying an area of a program component on a screen of a second display device connected to the computer; receiving selection of one of display data of a whole area of the screen and display data of the area of the program component; acquiring the display data of the whole area or the area; receiving resolution information indicating a resolution of the display device from the transmission terminal; determining a resolution of the display data based on the resolution information and second resolution information indicating a second display device resolution; and transmitting the display data with the determined resolution to the transmission terminal.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09596431&OS=09596431&RS=09596431
owner: RICOH COMPANY, LTD.
number: 09596431
owner_city: Tokyo
owner_country: JP
publication_date: 20131113
---
The present invention relates to a program which is executed by a computer connected to a first transmission terminal which is connected to a display device and also connected to a second transmission terminal via a network to perform display data transmission to the second transmission terminal.

A transmission system to conduct videoconferences between remote places via a network such as the Internet is becoming increasingly popular. In this transmission system a videoconference is conducted by exchanging image and audio data between two or more transmission terminals. With recent development of broadband environments transmission and reception of high quality image and audio data is enabled and a videoconference in appropriate conditions closely resembling reality may be conducted between the remote places.

There is a case in which when conducting a videoconference using a transmission terminal a person concerned as an attendant of the videoconference employs an external input device such as a PC personal computer in addition to the transmission terminal connected to a display device and also connected to another transmission terminal via a network an image such as meeting documents is displayed on a display of the external input device discussed with the partner of the videoconference. In such a case according to the related art the external input device has transmitted display data of the image currently displayed on the display of the external input device to the other transmission terminal of the communication partner via the network.

The attendant of the videoconference may share with the communication partner not only the image data and the audio data exchanged between the transmission terminals but also the display data of the image currently displayed on the display of the external input device.

In a case of an external input device which is capable of performing multitask operations two or more images of areas windows generated by different tasks may be simultaneously displayed on a display device. In this case providing a user with a capability of selecting the display data of one of the two or more images to be transmitted to the other transmission terminal of the partner of the videoconference would be convenient for the user and therefore a technology for allowing the user to select the display data of one of the images is proposed. For example see Japanese Laid Open Patent Publication No. 2011 254453.

However Japanese Laid Open Patent Publication No. 2011 254453 is silent as to switching between a state in which display data of a whole screen area of the screen is shared and a state in which display data of a specific area of the screen is shared. Hence there is a problem that the user is unable to switch from the state in which the display data of the specific area is shared to the state where the display data of the whole screen area is shared or vice versa .

In one aspect the present invention provides a transmission system in which a user on a transmission terminal may select arbitrarily one of sharing of whole area display data and sharing of specific area display data such that the selected display data are shared with a communication partner of a videoconference on the other transmission terminal.

In one embodiment the present invention provides a non transitory computer readable recording medium storing a program representing a sequence of instructions the program which when executed by a computer causes the computer to perform a process the computer connected to a first transmission terminal which is connected to a first display device and connected to a second transmission terminal via a network the process including displaying an area of a program component on a screen of a second display device connected to the computer receiving selection of at least one of display data displayed in a whole area on the screen of the second display device and display data displayed in the area of the program component on the screen as an operation target of a user acquiring the display data of the whole area or the area indicated by the received selection receiving first resolution information indicating a resolution of the first display device from the first transmission terminal determining a resolution of the acquired display data based on the received first resolution information and second resolution information indicating a resolution of the second display device and transmitting the acquired display data with the determined resolution to the first transmission terminal.

Other objects features and advantages of embodiments will be apparent from the following detailed description when read in conjunction with the accompanying drawings.

There are various types of transmission systems. One example may be a data providing system. In the data providing system content data are transmitted from one terminal to another terminal via a transmission management system in a one way direction. Another example may be a communication system. In the communication system information or emotional expressions are mutually communicated among two or more transmission terminals via the transmission management system. The communication system is utilized for mutually exchanging information or emotional expressions among the two or more communication terminals i.e. the transmission terminals via a communication management system i.e. the transmission management system . Examples of the communication system include a videoconference system a videophone system an audio conference system a voice call system or a personal computer screen sharing system.

The following embodiments describe the transmission system the transmission management system and the transmission terminal by conceptualizing the videoconference system as an example of the communication system the videoconference management system as an example of the communication management system and the videoconference terminal as an example of the communication terminal. That is the transmission terminal and the transmission management system utilized in the embodiments may be applied not only to the videoconference system but may also be applied to the communication system or the transmission system.

As shown in the transmission system includes two or more transmission terminals . . . displays . . . for the transmission terminals . . . two or more external input devices respectively connected to the transmission terminals . . . two or more relay devices a transmission management system a program providing system and a maintenance system .

Note that in this embodiment any one of the transmission terminals . . . may be referred to as transmission terminal any one of the displays . . . may be referred to as display any one of the external input devices . . . may be referred to as external input device and any one of the relay devices may be referred to as relay device . The display is an example of the display of the transmission terminal . Note that in the following the transmission terminal and the transmission management system may also be simply referred to as the terminal and the management system respectively.

The transmission terminal is configured to transmit and receive image data voice data etc. to and from another transmission terminal . Note that in this embodiment a case in where the image data are moving picture image data will be explained. However the transmission terminal may be configured to transmit and receive still picture image data. Alternatively the image data may include both moving picture image data and still picture image data. The relay device is configured to relay the image data and the voice data among the transmission terminals . The transmission management system is configured to manage the transmission terminal and the relay device in an integrated manner.

The external input device is connected to the transmission terminal and configured to transmit display data representing an image displayed on a display display in of the external input device to the transmission terminal for displaying the image of the display data.

Routers . . . shown in are configured to select optimal paths for the image data and the voice data. Note that in this embodiment any one of the routers . . . may be referred to as router . The program providing system includes a not illustrated hard disk HD configured to store programs for a terminal with which the transmission terminal may implement various functions or various units and transmit the programs to the transmission terminal . The HD of the program providing system is configured to further store programs for a relay device with which the relay device implements various functions or various units and transmit the programs for the relay device to the relay device . In addition the HD of the program providing system is configured to store transmission management programs with which the transmission management system implements various functions or various units and transmit the transmission management programs to the transmission management system .

As shown in the transmission terminal the transmission terminal the relay device and the router are connected via a LAN local area network so that they may communicate with each other. The transmission terminal the transmission terminal the relay device and the router are connected via a LAN so that they may communicate with each other. The LAN and the LAN are connected by a dedicated line including a router so that they communicate with each other and the LAN and the LAN are set up in a predetermined area A. For example the area A may be Japan the LAN may be set up in an office in Tokyo and the LAN may be set up in an office in Osaka.

Meanwhile the transmission terminal the transmission terminal the relay device and the router are connected via a LAN so that they may communicate with each other. The transmission terminal the transmission terminal the relay device and the router are connected via a LAN so that they may communicate with each other. The LAN and the LAN are connected by a dedicated line including a router so that they communicate with each other and the LAN and the LAN are set up in predetermined area B. For example the area B may be USA the LAN may be is set up in an office in New York and the LAN may be set up in an office in Washington D.C. The area A and the area B are connected from the routers and via the Internet so that the area A and the area B are mutually in communication via the Internet

The transmission management system and the program providing system are connected to the transmission terminal and the relay device via the Internet so that they may communicate with each other. Alternatively the transmission management system and the program providing system may be located in the area A or the area B or may be located in an area other than the areas A and B.

Note that in this embodiment a communication network is made up of the LAN the LAN the dedicated line the Internet the dedicated line the LAN and the LAN . In the communication network of the set of four numbers attached under each of the transmission terminal the relay device the transmission management system the router and the program providing system simply indicates an IP address under the typical IPv4 Internet Protocol version 4 . For example the IP address of the transmission terminal is 1.2.1.3 as shown in . Alternatively the IP addresses under the IPv6 may be used instead of the IP addresses under the IPv4. However in this embodiment the IPv4 is used for simplifying the illustration.

Next the hardware configuration of the transmission system according to the embodiment will be described.

The terminal further includes a camera configured to image a subject based on the control of the CPU an imaging device IF configured to control driving of the camera a microphone configured to pick up audio sound such as voice sound or noise a speaker configured to output audio sound a voice input output IF configured to provide an interface for the inputting outputting of the audio sound from the microphone and to the speaker a display IF configured to transmit image data to the external display based on the control of the CPU an external device IF configured to connect various external devices to the connecting ports an alarm lamp configured to inform the user of various functional problems of the terminal and a bus line such as an address bus or a data bus for electrically connecting the elements and devices with one another shown in via the bus line .

Note that the recording medium is removable from the terminal . In addition if the recording medium is a non volatile memory configured to retrieve or write data based on the control of the CPU the recording medium is not limited to the flash memory and may be an electrically erasable and programmable ROM EEPROM . The camera includes lenses and a solid state image sensor configured to convert light into electric charges to produce digital images videos of the subject. Examples of the solid state image sensor include a complementary metal oxide semiconductor CMOS or a charge coupled device CCD . A hard disk drive HDD may be used instead of the SSD .

The display is a display unit formed of liquid crystal or an organic EL material configured to display images of the subject or icons for operating the terminal .

Further the aforementioned programs for the terminal may be recorded in an installable format or in an executable format on a computer readable recording medium such as the recording medium to distribute such a recording medium.

The external device IF may be connected via a universal serial bus USB with external devices such as the external camera the external microphone and the external speaker. On connecting the external camera to the external device IF via the USB the external camera is driven in priority to the built in camera . Likewise on connecting the external microphone or external speaker to the external device via the USB the external microphone or external speaker is driven in priority to the built in microphone or the built in speaker . The transmission terminal may be any of a PC a smart phone a tablet terminal a mobile phone etc.

Note that the aforementioned programs for the transmission management may be recorded in an installable format or in an executable format on a computer readable recording medium such as the recording medium or the CD ROM to distribute such a recording medium. The programs for the transmission management may be recorded on the HD .

Further the external input device includes a hardware configuration similar to that of the transmission management system and the description of the hardware configuration of the external input device is therefore omitted. Note that the ROM stores programs for controlling the external input device . In this case the programs for the external input device may also be recorded in an installable format or in an executable format on a computer readable recording medium such as the recording medium or the CD ROM to distribute such a recording medium.

Further the relay device includes a hardware configuration similar to that of the management system and the description of the hardware configuration of the relay device is therefore omitted. Note that the ROM stores programs for controlling the relay device . In this case the programs for the relay device may also be recorded in an installable format or in an executable format on a computer readable recording medium such as the recording medium or the CD ROM to distribute such a recording medium.

Further the program providing system includes a hardware configuration similar to that of the management system and the description of the hardware configuration of the program providing system is therefore omitted. Note that the ROM stores programs for controlling the program providing system . In this case the programs for the program providing system may also be recorded in an installable format or in an executable format on a computer readable recording medium such as the recording medium or the CD ROM to distribute such a recording medium.

Further the maintenance system includes a hardware configuration similar to that of the management system and the description of the hardware configuration of the maintenance system is therefore omitted. The maintenance system is a computer configured to maintain or manage at least one of the terminal the relay device the management system and the program supply system . For example if the maintenance system is domestically located while the terminal the relay device the management system or the program supply system is located abroad the maintenance system remotely maintains or manages at least one of the terminal the relay device the management system and the program supply system via the communication network .

Further the maintenance system may be arranged to maintain without using the communication network a model number a production serial number a sale place maintenance inspection or failure history in at least one of the terminal the relay device the management system and the program providing system .

Note that other examples of the aforementioned removable recording medium may include a compact disc recordable CD R a digital versatile disk DVD and a Blu ray Disc BD .

As shown in the transmission terminal includes a transmitting receiving TX RX unit an operation input receiving unit a login request unit an imaging unit a display control unit a display image acquiring unit a voice input unit a voice output unit a delay detecting unit an external information transmitting receiving TX RX unit a store read processing unit a resolution acquiring unit a resolution determining unit a resolution selecting unit a resolution changing unit . These units represent functions or units implemented by any of the elements and devices shown in which are activated by the instructions from the CPU based on the programs stored in the ROM . Further the transmission terminal includes a storage unit formed of the SSD shown in .

Next the functional units of the transmission terminal will be described. The transmitting receiving unit of the terminal is configured to transmit various data to and receive such data from other transmission terminals the relay device and the transmission management system via the communication network . The function of the transmitting receiving unit may be implemented by the network IF shown in . The operation input receiving unit is configured to receive various inputs from a user. The function of the operation input receiving unit may be implemented by the operation button and the power switch which are shown in . For example when the user switches ON the power switch shown in the operation input receiving unit receives a power ON signal to switch ON the power of the transmission terminal . Further the operation input receiving unit receives the resolution information indicating a resolution which is input by a user operation.

The login request unit is configured to automatically transmit login request information indicating that the user desires to login and a current IP address of the terminal as an IP address of a request source terminal from the transmitting receiving unit to the transmission management system via the communication network when the power ON signal is received by the operation input receiving unit as a trigger. The function of the login request unit may be implemented by the instructions from the CPU shown in .

The imaging unit is configured to take an image of a subject and output image data of the subject. The function of the imaging unit may be implemented by the camera and the image sensor IF shown in . The display control unit is configured to perform rendering of image data and control the displaying of an image represented by the image data on the display . The function of the display control unit may be implemented by the display IF shown in . The display image acquiring unit is configured to acquire image data representing an image currently displayed on the display . In this embodiment data representing an image which is taken by the camera will be referred to as image data and data representing an image currently displayed on the display of the external input device will be referred to as display data . For example the image data and the display data are in a form conforming to any of JPEG Joint Photographic Experts Group Bitmap GDI Graphics Device Interface etc.

The voice input unit is configured to input user s voice convert the voice into an audio signal and output audio data of the audio signal. The function of the voice input unit may be implemented by the microphone and the voice input output IF shown in . The voice output unit is configured to convert the audio signal according to the voice data into voice and output the voice. The function of the voice output unit may be implemented by the speaker and the voice input output IF shown in .

The delay detecting unit is configured to detect a delay time ms of image data or voice data transmitted from another transmission terminal via the relay device . The function of the delay detecting unit may be implemented by the instructions from the CPU shown in . The external information transmitting receiving unit is configured to transmit data to and receive data from the external input device via the external device IF shown in . The store read processing unit is configured to store various data in a storage unit or read the various data stored in the storage unit . The function of the store read processing unit may be implemented by the SSD shown in .

The resolution acquiring unit is configured to acquire resolutions which can be used by the display connected to the transmission terminal . The resolution determining unit is configured to determine whether a resolution other than a resolution of a standard aspect ratio used for transmission of image data is included in the resolutions acquired by the resolution acquiring unit . The resolution selecting unit is configured to select the resolution other than the resolution of the standard aspect ratio or the resolution of the standard aspect ratio from among the resolutions which can be used by the display based on a result of the determination by the resolution determining unit . The resolution changing unit is configured to change the resolution of the display to a resolution indicated by the resolution information received by the operation input receiving unit . In the following the term resolution represents the number of pixels existing per unit area on a display screen and resolution information contains a resolution of a vertical direction and a resolution of a horizontal direction.

The storage unit stores a terminal ID identifier for identifying the transmission terminal a password a relay device ID for identifying the relay device which transmits image data voice data and various data and an IP address of a destination terminal. Further the storage unit stores the programs for the external input device including a display data acquisition program a display data transmission program and a resolution conversion program . By transmitting these programs to the external input device and installing the programs in the external input device the external input device is provided with a display data acquiring unit a display data transmitting unit and a resolution converting unit which will be described later. The storage unit includes a resolution storing unit which stores resolution information indicating a resolution of display data which is output or transmitted by the transmission terminal .

The external information transmitting receiving unit in the transmission terminal according to the embodiment is an example of a resolution information transmitting unit and a display data receiving unit and the display control unit is an example of a display control unit.

Note that the terminal ID and the later described relay device ID in this embodiment individually indicate identification information formed of language characters and various symbols that uniquely identify the terminal and the relay device respectively. The terminal ID and the relay device ID may be identification information formed of a combination of two or more of the language characters and various symbols. In the following the terminal as a request source terminal that requests initiation of a videoconference communication will be called a request source terminal and the terminal as a destination terminal to which the request is sent will be called a destination terminal .

Next functions and units of the relay device will be described. As shown in the relay device includes a transmitting receiving TX RX unit a state detecting unit a data quality check unit a changed quality managing unit a data quality changing unit and a store read processing unit . These units represent functions and units implemented by any of the elements and devices shown in which are activated by the instructions from the CPU based on the programs stored in the ROM . Further the relay device includes a storage unit formed of any of the ROM the RAM and the HDD which are shown in .

The storage unit includes a change quality management DB database formed of the change quality management table T shown in . In the change quality management table the IP addresses of the terminals utilized as relay destination terminals are associated with image quality of the image data relayed by the respective relay devices .

Herein the resolutions of the image data treated in the transmission system according to the embodiment will be described. shows a base image used as a low resolution image formed of 160 120 pixels. shows a medium resolution image formed of 320 240 pixels. shows a high resolution image formed of 640 480 pixels. When the image data are relayed via a narrow bandwidth path the low resolution image data used as the base image are relayed. When the image data are relayed via a relatively wide bandwidth path the low resolution image data used as the base image and the medium resolution image data exhibiting medium image quality are relayed. When the image data are relayed via an extremely wide bandwidth path the low resolution image data used as the base image the medium resolution image data exhibiting the medium image quality and the high resolution image data exhibiting high image quality are relayed. As in the changed quality management table T shown in if for example the relay device relays the image data to the destination terminal having an IP address 1.3.2.4 the image quality of the image data relayed is high image quality .

Next functions and units of the relay device will be described. Note that in the following description the functions of the relay device are illustrated in association with the main elements and devices for implementing the units of the relay device shown in .

The transmitting receiving unit of the relay device is configured to transmit various data to and receive such data from other transmission terminals the relay devices and the transmission management system via the communication network . The function of the transmitting receiving unit may be implemented by the network IF shown in . The state detecting unit is configured to detect an operating state of the relay device having the state detecting unit . The function of the state detecting unit may be implemented by the instructions from the CPU shown in . The operating state may be ONLINE OFFLINE DURING CALL or FAILED .

The data quality check unit is configured to search the change quality management table by the IP address of the destination terminal as a search key and check the image quality for the relayed image data by extracting the image quality for the corresponding image data to be relayed. The function of the data quality check unit may be implemented by the instructions from the CPU shown in . The change quality managing unit is configured to change content of the change quality management DB based on the later described quality information which is transmitted from the transmission management system . The function of the change quality managing unit may be implemented by the instructions from the CPU shown in . For example assume that while a videoconference is held between a request source terminal having a terminal ID and a destination terminal having a terminal ID another videoconference is initiated between a request source terminal bb and a destination terminal ca via the communication network . In this case if the reception of the image data is delayed in the destination terminal the relay device may need to degrade the image quality of the relayed image data from high image quality to medium image quality. In such a case the content of the change quality management DB is changed such that the image quality of the image data relayed by the relay device is degraded from the high image quality to the medium image quality.

The data quality changing unit is configured to change the image quality of the image data sent from the request source terminal based on the changed content of the change quality management DB . The function of the data quality changing unit may be implemented by the instructions from the CPU shown in . The store read processing unit is configured to store various data in the storage unit and read the various data stored in the storage unit . The function of the store read processing unit may be implemented by the HDD shown in .

Next functions and units of the transmission management system will be described. As shown in the transmission management system includes a transmitting receiving TX RX unit a terminal authenticating unit a state managing unit a terminal extracting unit a terminal state acquiring unit a session managing unit a quality determination unit a store read processing unit and a delay time managing unit . These units represent functions and units implemented by any of the elements and devices shown in which are activated by the instructions from the CPU based on the programs stored in the ROM . Further the transmission management system includes a storage unit formed of the ROM the RAM or the HDD shown in .

The storage unit includes a relay device management DB formed of the relay device management table T shown in . In the relay device management table T relay device IDs of the relay devices are associated with operating states of the relay devices date times of reception at which the state information indicating the operating states of the relay devices is received by the transmission management system IP addresses of the relay devices and maximum data transmission speeds Mbps of the relay devices . For example in the relay device management table T shown in the relay device having the relay device ID is associated with the operating state ONLINE the time date of reception 2009.11.10.13 00 at which the state information of the relay device is received by the transmission management system the IP address 1.2.1.2 of the relay device and the maximum data transmission speed 100 Mbps of the relay device

The storage unit includes a terminal authentication management DB formed of the terminal authentication management table T shown in . In the terminal authentication management table T passwords are individually associated with the terminal IDs of the transmission terminals managed by the transmission management system . For example in the terminal authentication management table T shown in the terminal ID of the terminal is associated with the password aaaa .

The storage unit includes a terminal management DB formed of the terminal management table T shown in . In the terminal management table T the terminal IDs of the transmission terminals are associated with operating states of the transmission terminals date times of reception at which the later described login request information is received by the transmission management system and IP addresses of the transmission terminals . For example in the terminal management table T shown in the terminal ID of the terminal is associated with the operating state ONLINE of the terminal the date time of reception 2009.11.10.13 40 at which the login request information is received by the management system and the IP address 1.2.1.3. of the terminal

The storage unit includes a destination list management DB formed of the destination list management table T shown in . In the destination list management table T terminal IDs of destination terminals registered as destination candidate terminals are associated with the terminal IDs of the request source terminal that requests initiation of a videoconference communication. For example in the destination list management table T shown in the terminal ID of the request source terminal is associated with the terminal IDs of the destination candidate terminals which the request source terminal is able to request initiation of the videoconference including the transmission terminal having a terminal ID the transmission terminal having a terminal ID and the transmission terminal having a terminal ID . The destination candidate terminals may be added or deleted based on the instructions from the request source terminal to the transmission management system .

The storage unit includes a session management DB formed of a session management table T shown in . In the session management table T session IDs that identify sessions in which the communication data are transmitted and received between the terminals are associated with the relay device IDs of the relay devices utilized for relaying the image data and the audio data the terminal ID of the request source terminal the terminal ID of the destination terminal the delay time ms in receiving the image data by the destination terminal and the date time of reception at which the delay information indicating the delay time transmitted from the destination terminal is received by the management system .

For example in the session management table T shown in the relay device having the relay device ID selected for executing the session having the session ID se and relaying image data and voice data is associated with the terminal ID of the request source terminal that has a videoconference with the destination terminal having the terminal ID . Further the session management table T indicates that the relay device relays the image data and the audio data between the request source terminal and the destination terminal and the delay time when the image data are received by the destination terminal at the date time of reception 2009.11.10. 14 00 is 200 ms .

Note that when the videoconference is conducted between the two terminals the date time of reception of the delay information may be managed not based on the delay information received at the destination terminal but based on the delay information transmitted from the request source terminal . However when the videoconference is conducted among three or more transmission terminals the date time of reception of the delay information may be managed based on the delay information transmitted from the image data and voice data reception side transmission terminal .

The storage unit includes a quality management DB formed of the quality management table T shown in . In the quality management table T the delay time ms in receiving the image data at the request source terminal or the destination terminal is associated with the image quality of the image data relayed by the relay device .

Next functional units of the transmission management system will be described. Note that in the following description the functions of the management system are illustrated in association with the main elements and devices for implementing the units of the management system shown in .

The transmitting receiving unit of the management system is configured to transmit various data information to and receive such data from other transmission terminals the relay devices and other systems i.e. the program providing system and the maintenance system via the communication network . The terminal authenticating unit is configured to search the terminal authentication management table T of the storage unit by a terminal ID and a password contained in the received login request information as search keys and authenticate the corresponding terminal based on whether the terminal ID and the password contained in the received login request are identical to those managed in the terminal authentication management table T. The state managing unit is configured to manage the terminal management table T by associating the terminal ID of the request source terminal that has requested for login with the operating state of the request source terminal the date time of reception of the login request information by the management system and the IP address of the request source terminal .

The terminal extracting unit is configured to search the destination list management table T by the terminal ID of the request source terminal that has requested for the login as a search key and retrieve the terminal IDs of the destination candidate terminals capable of communicating with the request source terminal . As a result the terminal extracting unit extracts the terminal IDs of the destination candidate terminals capable of communicating with the request source terminal . Further the terminal extracting unit is configured to search the destination list management table by the terminal ID of the request source terminal which has requested for the login as a search key and extract terminal IDs of other request source terminals that have registered the above terminal ID of the request source terminal as a destination candidate terminal .

The terminal state acquiring unit is configured to search the terminal management table T by the terminal IDs of the destination candidate terminals extracted by the terminal extracting unit as search keys and retrieve the operating states of the extracted destination candidate terminals by the terminal IDs of the extracted destination candidate terminals . Thus the terminal state acquiring unit acquires the operating states of the destination candidate terminals capable of communicating with the request source terminal that has requested for the login. Further the terminal state acquiring unit is configured to search the terminal management table T by the terminal IDs of the terminals extracted by the terminal extracting unit as search keys and acquire the operating state of the request source terminal that has requested for the login.

The session managing unit is configured to store and manage in the session management DB the session management table T of of the storage unit the session IDs generated in association with the terminal ID of the request source terminal and the terminal ID of the destination terminal. Further the session managing unit is configured to store and manage the relay device ID of the relay device in the session management table T .

The quality determination unit is configured to search the quality management table T by the delay time as a search key extract the image quality of the corresponding image data and determine the image quality of the image data relayed by the relay device . The store read processing unit is configured to store various data in the storage unit and retrieve various data from the storage unit . The function of the store read processing unit may be implemented by the HDD shown in . The delay time managing unit is configured to search the terminal management table T by the IP address of the destination terminal as a search key and extract the corresponding terminal ID. Further the delay time managing unit is configured to store the delay time indicated by the delay information in a delay time field of the record corresponding to the extracted terminal ID in the session management table T .

As shown in the external input device includes a transmitting receiving unit a connection detecting unit an installation determining unit a program acquiring unit a resolution acquiring unit a display data acquiring unit a display data transmitting unit a resolution converting unit an operation input receiving unit a display control unit a mounting unit and a store read processing unit . These units represent functions and units implemented by any of the elements and devices shown in which are activated by the instructions from the CPU based on the programs stored in the ROM . Further the display data acquiring unit the display data transmitting unit and the resolution converting unit may be implemented by downloading the display data acquisition program the display data transmission program and the resolution conversion program from the storage unit of the terminal by the program acquiring unit and installing these programs in the external input device . Further the external input device includes a storage unit formed of any of the ROM the RAM and the HDD which are shown in . Although not illustrated in the drawings the storage unit of the external input device incorporates an operating system OS such as Windows the classic Mac OS Mac OS X Lion Mac OS X or the renamed OS X and when connected to another device the CPU of the external input device is capable of executing the programs for the external input device and the downloaded programs on the OS.

The transmitting receiving unit is configured to transmit various data information to and receive such data from the transmission terminal . The function of the transmitting receiving unit may be implemented by the network IF shown in . As information related to the embodiment when a display resolution is changed in the transmission terminal the transmitting receiving unit receives resolution information first resolution information indicating the changed resolution from the transmission terminal . The connection detecting unit is configured to detect that the communication of various data between the external input device and the transmission terminal via the external device IF shown in is enabled.

The installation determining unit is configured to determine whether the display data acquisition program the display data transmission program and the resolution conversion program are installed in the external input device if the connection detecting unit detects that the data communication between the external input device and the transmission terminal is enabled. The program acquiring unit is configured to acquire the display data acquisition program the display data transmission program and the resolution conversion program from the storage unit of the transmission terminal if the installation determining unit determines that the display data acquisition program the display data transmission program and the resolution conversion program are not installed in the external input device .

The resolution acquiring unit is configured to acquire resolution information second resolution information indicating a resolution of the display of the external input device . The operation input receiving unit is configured to receive the information input by a user operation. The display control unit is configured to display on the display the image read by the later described store read processing unit . The mounting unit is configured to mount the storage unit of the terminal on the external input device . Thus the external input device is able to install the display data acquisition program the display data transmission program and the resolution conversion program in the external input device .

The display data acquiring unit is configured to acquire display data indicating an image currently displayed on the display of the external input device . The display data transmitting unit is configured to transmit the display data acquired by the display data acquiring unit to the transmission terminal . The resolution converting unit is configured to determine a resolution of the display data to be transmitted from the external input device to the transmission terminal based on resolution information first resolution information of the display of the transmission terminal received from the transmission terminal and stored in the storage unit of the external input device and resolution information second resolution information of the display of the external input device .

The store read processing unit is configured to store various data in the storage unit and read the various data from the storage unit . The function of the store read processing unit may be implemented by the HDD shown in .

The transmitting receiving unit in the external input device according to the embodiment is an example of a resolution information receiving unit the display data transmitting unit is an example of an display data transmitting unit the resolution converting unit is an example of a resolution conversion unit and the display control unit is an example of a display control unit.

The storage unit includes a resolution management DB formed of a resolution management table T shown in . In the resolution management table T a resolution of the vertical direction height direction of the display of the transmission terminal and a resolution of the horizontal direction width direction which are indicated by the resolution information received from the transmission terminal at the transmitting receiving unit are associated together and stored. For example in the resolution management table T shown in the resolution width direction and the resolution height direction of the display of the terminal are 1024 and 768 respectively.

Next processes performed by the transmission system according to the embodiment will be described with reference to . Note that is a sequence diagram for explaining a process to manage state information sent from relay devices to the transmission management system the state information indicating respective operating states of the relay devices . is a sequence diagram for explaining a preparatory process performed to start communication between the transmission terminals . is a sequence diagram for explaining a process performed by a transmission terminal to establish a session with another transmission terminal. is a sequence diagram for explaining a process performed to transmit display data from an external input device of the transmission terminal to another transmission terminal of a communication partner and display an image of the display data thereon. is a diagram showing an example of display data displayed on the display . is a diagram showing a screen displayed on the display of the external input device and screens displayed on the transmission terminals and in the transmission system .

With reference to the process to manage the state information transmitted from the relay devices to the management system and indicating the operating states of the relay devices will be described.

Each of the relay devices includes the state detecting unit which regularly detects the operating state of the relay device itself S to S . The transmitting receiving units of the relay devices regularly transmit a corresponding state information of the relay device itself to the management system via the communication network so that the management system side may manage the operating states of the relay devices in real time step S to S . The state information includes the relay device ID of the relay device itself and the operating state detected by the state detecting unit of the relay device itself and associates it with the relay device ID. Note that in this embodiment a case where the relay devices are running normally and in the state ONLINE is illustrated however the relay device is operating but is in the state OFFLINE due to some kind of defect in the programs for executing the operation of the relay device

Next in the management system the transmitting receiving unit receives the state information sent from each of the relay devices and the store read processing unit stores each of the received state information in association with the corresponding relay device ID in the relay device management DB the relay device management table T of of the storage unit steps S to S . Thus the operating state ONLINE OFFLINE or FAILED is stored in the operating state field of the relay device management table T in association with the relay device ID for each of the relay devices . Simultaneously the date time of reception of the state information received by the management system is also stored in association with the corresponding relay device ID in the relay device management table. Note that when the state information is not sent from the relay device the operating state field and the receipt date time field of the record in the relay device management table may be blank or the previous operating state and the previous receipt date time may be present.

Next a preparatory process performed before starting communication between the terminal and the terminal will be described with reference to FIG. .

First when the user of the terminal switches ON the power switch the operation input receiving unit receives a power ON signal to switch ON the power of the terminal step S .

On receiving the power ON signal as a trigger the login request unit automatically transmits the login request information indicating the login request from the transmitting receiving unit to the management system via the communication network step S . This login request information includes a terminal ID and a password for identifying the terminal indicating its own terminal as the request source terminal. The terminal ID and the password are data that are read from the storage unit via the store read processing unit and then sent to the transmitting receiving unit . Note that when the login request information is transmitted from the terminal to the management system the receiver side management system may detect the IP address of the transmitter side terminal

Subsequently the terminal authenticating unit of the management system authenticates the terminal based on whether the terminal ID and the password contained in the login request information received via the transmitting receiving unit are identical to those managed in the terminal authentication management DB step S . In this case the terminal authenticating unit acquires the terminal ID and the password from the terminal authentication management DB of the storage unit by searching for the terminal ID and the password as search keys in the terminal authentication management table T .

When it is determined by the terminal authenticating unit that the terminal ID and the password contained in the login request are identical to those managed in the terminal authentication management DB and the received login request comes from the terminal having a valid access authorization the state managing unit stores the terminal ID of the terminal the operating state the date time of reception of the login request information and the IP address of the terminal in association with each other in the terminal management DB the terminal management table T of step S . Thus the operating state ONLINE the reception date time 2009.11.10.13 40 and the terminal IP address 1.2.1.3 are managed in association with the terminal ID in the terminal management table .

Subsequently the transmitting receiving unit of the management system transmits authentication result information indicating authentication result obtained by the terminal authenticating unit via the communication network to the request source terminal that has sent the login request step S . In the following the case where the terminal authenticating unit has determined that the terminal has the valid access authorization will be further described.

The terminal extracting unit of the management system searches the destination list management table by the terminal ID of the request source terminal as a search key and extracts the terminal IDs of the destination candidate terminals capable of communicating with the request source terminal step S . As a result in this example the terminal IDs of the destination candidate terminals associated with the terminal ID of the request source terminal are extracted.

Subsequently the terminal state acquiring unit searches the terminal management table T by the terminal IDs of the destination candidate terminals extracted by the terminal extracting unit as search keys and retrieves the operating states of the destination candidate terminals by reading the operating states OFFLINE ONLINE ONLINE corresponding to the terminal IDs extracted by the terminal extracting unit step S .

Subsequently the transmitting receiving unit transmits destination state information containing the terminal IDs used as the search keys at step S and the operating states OFFLINE ONLINE ONLINE of the corresponding destination candidate terminals to the request source terminal via the communication network step S . Thus the request source terminal may detect each of the current operating states OFFLINE ONLINE ONLINE of the destination candidate terminals which are the candidate terminals for the destination terminal capable of communicating with the request source terminal

Subsequently the terminal extracting unit of the management system searches the destination list management table T by the terminal ID of the request source terminal that has sent the login request as a search key and extracts terminal IDs of other request source terminals which have been registered as the destination terminals for the terminal ID of the request source terminal step S . In the destination list management table T shown in the extracted terminal IDs of the other request source terminals are and 

Subsequently the terminal state acquiring unit of the management system searches the terminal management table T by the terminal ID of the request source terminal that has sent the login request as a search key and acquires the operating state of the request source terminal step S .

Subsequently the transmitting receiving unit transmits destination state information containing the terminal ID and the operating state ONLINE of the request source terminal acquired at step S to the terminals the operating states of which are presented as ONLINE in the terminal management table T among the terminals corresponding to the terminal IDs extracted at step S steps S and S . Note that when the transmitting receiving unit transmits the state information to the terminals the transmitting receiving unit refers to the IP addresses of the terminals managed in the terminal management table T based on the terminal IDs . Thus the terminal ID and the operating state ONLINE of the request source terminal may be transmitted to each of the other destination terminals as the terminals capable of communicating with the request source terminal that has sent the login request.

In a similar manner as step S when a user of another terminal switches ON the power switch the operation input receiving unit receives a power ON signal to switch ON the power of the other terminal and the processes similar to the steps S through S are subsequently performed. Thus the description of the steps S through S is omitted.

Next with reference to a process in which a transmission terminal establishes a session with another transmission terminal will be described. In this embodiment the request source terminal is capable of communicating with at least one of the terminals and the operating states of which are presented as ONLINE among the destination candidate terminals indicated by the destination state information received at step S. In the following a case where the user of the request source terminal selects the destination terminal to initiate communication will be described.

Initially when the user of the request source terminal presses the operation button to select the terminal the operation input receiving unit receives the selection of the terminal as the destination terminal step S . Next the transmitting receiving unit of the terminal transmits start request information containing the terminal ID of the request source terminal and the terminal ID of the destination terminal and indicating the request for starting communication to the management system step S . Thus the transmitting receiving unit of the transmission management system receives the start request information and detects the IP address 1.2.1.3 of the request source terminal that is a transmission source terminal.

Based on the terminal ID of the request source terminal and the terminal ID of the destination terminal contained in the received start request information the state managing unit changes the operating state fields of the records associated with the terminal IDs and in the terminal management table T of the terminal management DB to BUSY respectively step S . In this state the request source terminal and the destination terminal have not started communication but the operating states of these terminals are set to a busy state and if other terminals attempt to communicate with the request source terminal or the destination terminal a display or voice message indicating that the called terminal is in a busy state will be output.

The management system generates a session ID used for execution of the session for selecting the relay device step S . The session managing unit stores the session ID se generated at step S the terminal ID of the request source terminal and the terminal ID of the destination terminal in the session management table T of the session management DB in association with each other step S .

Although after the step S the management system performs processing of focusing the relay device for relaying communication between the request source terminal and the destination terminal based on the relay device management DB and the terminal management DB the processing performed by the management system is not relevant to this embodiment and therefore the description thereof is omitted.

When the above processing is completed the session managing unit of the management system stores the relay device ID of the finally selected relay device in the relay device ID field of the record including the session ID se in the session management table T of the session management DB step S . The transmitting receiving unit transmits the IP address 1.3.2.4 of the destination terminal and the relay device ID to the request source terminal step S .

The transmitting receiving unit of the management system transmits relay start request information indicating a request for starting the relaying operation to the relay device via the communication network step S . The relay start request information contains the IP addresses 1.2.1.3 1.3.2.4 of the request source terminal and the destination terminal so that the relay device may receive the IP addresses of the request source terminal and the destination terminal for relaying the communication between the terminals and . The relay device establishes a session for communicating image data with three resolutions low medium and high resolutions and voice data between the terminal and the terminal step S . Thus a videoconference between the terminals and may be started. The image data with the three resolutions which are communicated between the terminals in this embodiment are an example. Alternatively image data with four or more resolutions may be communicated between the terminals.

Each terminal is capable of transmitting and receiving image data by using known moving image coding standard specifications such as H.264 H.264 AVC MPEG4 part10 MPEG4 AVC H.264 SVC or MPEG2.

Next a process performed after the relay device is determined to transmit display data indicating an image displayed on the display of the external input device to another terminal and display an image of the display data on the display of the other terminal will be described with reference to . In the following a case where the display data indicating the image displayed on the external input device connected to the terminal are transmitted to and displayed on the destination terminal will be described.

After the relay device is determined as described above the transmitting receiving unit of the terminal receives the IP address 1.3.2.4 of the destination terminal and the relay device ID which are transmitted by the management system at step S . The store read processing unit of the terminal stores in the storage unit the relay device ID and the IP address 1.3.2.4 thus received step S .

When the external input device is connected to the terminal the connection detecting unit of the external input device detects the connection step S . When operation of the external input device is started the display control unit displays at least a screen including a whole area on the display .

After the connection detecting unit detects the connection of the external input device and the terminal the installation determining unit determines whether the display data acquiring unit the display data transmitting unit and the resolution converting unit are installed in the external input device step S . Specifically the installation determining unit determines whether the display data acquisition program the display data transmission program and the resolution conversion program are installed in the external input device . When each program is installed it is determined that the corresponding functional units are installed in the external input device

On the other hand when the installation determining unit determines at step S that any of the display data acquiring unit the display data transmitting unit and the resolution converting unit are not installed in the external input device the mounting unit mounts the storage unit of the terminal step S . Subsequently the program acquiring unit acquires and installs the program corresponding to the functional unit not installed in the external input device from among the display data acquisition program the display data transmission program and the resolution conversion program stored in the storage unit of the terminal step S . As a result the display data acquiring unit the display data transmitting unit and the resolution converting unit are installed in the external input device . Alternatively the display data acquisition program the display data transmission program and the resolution conversion program may be installed beforehand in the external input device

After the processing of step S is completed the transmitting receiving unit transmits information for requesting permission to execute the programs i.e. permission to operate the display data acquiring unit the display data transmitting unit and the resolution converting unit to the terminal step S . After the transmitting receiving unit receives information indicating the permission from the terminal in response to the request the display data acquiring unit acquires the display data indicating an image currently displayed on the display step S .

Subsequently the resolution converting unit converts a first resolution of the display data acquired by the display data acquiring unit into a second resolution and the display data transmitting unit transmits the display data with the second resolution to the external information transmitting receiving unit of the terminal step S . The process performed by the resolution converting unit to convert the resolution of the display data will be described later. The process performed by the resolution converting unit to convert the resolution of the display data differs from the process performed based on the operating state of the relay device and the transmission speed between the terminal and the relay device and the conversion of the resolution of the display data does not depend on the operating state of the relay device and the transmission speed between the terminal and the relay device .

After the external information transmitting receiving unit of the request source terminal receives the display data from the external input device the store read processing unit reads the IP address 1.3.2.4 of the destination terminal and the relay device ID from the storage unit step S . The transmitting receiving unit transmits the display data with the converted resolution and the IP address 1.3.2.4 of the destination terminal to the relay device indicated by the relay device ID obtained at step S step S . After the display data and the IP address 1.3.2.4 sent by the terminal at step S are received the relay device changes the image quality of the display data based on the IP address 1.3.2.4 step S and transmits the display data to the destination terminal indicated by the IP address 1.3.2.4 step S .

After the transmitting receiving unit of the destination terminal receives the display data from the relay device the display control unit displays the image indicated by the received display data on the display step S .

By performing the process of when the terminal displays the image data and the display data on the display the terminal displays the image data and the display data on the display . In the following such a screen will be called a terminal screen. In the terminal screen in the middle portion of an image of the whole area is displayed as the display data and images of users aa and db of the terminals and are displayed as the image data. In the terminal screen of the lowermost portion of an image of the area A is displayed as the display data and images of the users aa and db of the terminals and are displayed as the image data.

Note that the whole area and the specific areas which the user db displays on the display of the external input device are displayed and they are not affected by operation of the user aa. In this embodiment the user may selectively display an arbitrary image of the whole area or the areas A and B on the display of the transmission terminal .

In this embodiment the transmission system in which the image of the whole area or arbitrary areas in the terminal screen may be selected and displayed when the user simply operates a pointing device e.g. the mouse of the external input device will be described. In the following the pointing device is implemented by the mouse . Alternatively when a touch panel is utilized as the display the pointing device may be implemented by a function to detect a position of a user s finger on the touch panel.

If the user clicks the share setting input button of by the pointing device sharing of the display data displayed on the display of the external input device is started. In the state where the display data displayed on the display of the external input device is shared the share setting input button of is displayed. If the user clicks the share setting input button of by the pointing device sharing the display data displayed on the display of the external input device with the terminal is stopped. In this case the display data are not transmitted to the terminal

The operation input receiving unit FIG. receives the user operation on the share setting input button . When the user clicks the share setting input button displayed with start sharing the display data acquiring unit acquires the display data corresponding to the area selected by the user.

In the transmission system of this embodiment the display data of the whole area or the specific area in the external input device in which the share setting input button displayed with start sharing clicked at the last are shared. Therefore when the user db clicks the share setting input button displayed with start sharing of sharing of the display data displayed on the display of the external input device is automatically stopped even if the user aa does not click the share setting input button with stop sharing of .

Referring to the sequence diagram shown in the process of resolution conversion of the display data to be transmitted to the terminal by the external input device based on the resolution of the display of the terminal and the resolution of the display of the external input device . In the example of a case where the display data are transmitted in a non compressed form is described.

As shown in first the transmitting receiving unit of the external input device transmits a request of resolution information regarding the display to the terminal step S . The resolution acquiring unit of the terminal acquires the resolution information indicating a resolution of the display of the terminal stored in the resolution storing unit step S . After the resolution acquiring unit acquires the resolution information at step S the external information transmitting receiving unit transmits the acquired resolution information to the external input device step S .

In the external input device after the transmitting receiving unit receives the resolution information regarding the display of the terminal the store read processing unit stores the received resolution information in the resolution management table T of the resolution management DB step S .

Note that although the resolution information regarding the display of the terminal is acquired at step S it is preferred to give priority to a resolution according to a mode specified by a user and consider the resolution as the resolution information regarding the display . For example the mode may include a current mode a high mode 640 360 a medium mode 320 180 and a low mode 192 108 . If it is detected that the transmission of the display data is overloaded the user may promote the transmission of the display data by changing the mode suitably. Namely when the bandwidth is narrow the user may select the transmission of the display data with a lower resolution rather than the resolution of the display so as to prevent the transmission of the display data from being overloaded.

Subsequently the display data acquiring unit of the external input device acquires the display data indicating an image which is displayed on the display by the display control unit step S .

Referring to the process of step S in which the display data acquiring unit acquires the display data will be described. It is assumed that the share setting input button shown in is already clicked by the user aa.

In the process shown in first the operation input receiving unit detects whether selection of the whole area is received S . To select the whole area the user aa clicks a portion other than a desktop screen area by the pointing device. The OS operating system detects a position of the clicked portion. In this embodiment the OS which is operating on the external input device treats each of the specific areas and the whole area as one area and regards the clicking the portion other than the desktop screen area as selection of the whole area. Namely the whole desktop screen is treated as one area the whole area and the specific areas are treated separately . In the OS an API application programming interface which enables selection of the whole area indicating the whole display screen desktop screen is defined. Therefore when the user aa selects the whole area by the pointing device the operation input receiving unit may detect selection of the whole area through the API so that the whole area may be shared as the display data. An intuitive switching operation may be performed by the user. According to a certain OS the area may be referred to as an object processing object and the OS manages a position of the object and an attribute value of the object and detects whether the object is an operation target. Such areas and objects are equivalent to program components.

When the selection of the whole area is received YES in S the display data acquiring unit acquires the display data of the whole desktop screen displayed on the display S and the process of is terminated.

When the selection of the whole area is not received NO in S the display data acquiring unit determines whether an active area is present S . For example the function of the OS is used for this determination. In a case where the Windows API is utilized a handle of an active area is acquired and if the value of the handle is not NULL it is determined that an active area is present. The active area represents an area which is input by a user or currently set to an operation target. In the case of Windows or Mac OS the active area is called an active window.

When the user aa closes the active area and there is no active area NO in S the process progresses to step S. In step S the display data acquiring unit acquires the display data of the whole desktop screen. When the active area is present YES in S the display data acquiring unit acquires the display data of the area which is active among the display data displayed on the display by the display control unit S . This area is specified by the handle of the active area acquired at step S and the display data acquiring unit may retrieve the display data of the area to be acquired.

Next the display data acquiring unit determines whether a width or a height of the area of the acquired display date is smaller than a threshold S . It is assumed that the threshold for the width is equal to 128 pixels and the threshold for the height is equal to 36 pixels. This determination is made to prevent the processing load of a scaling process for resolution conversion from being increased. The display data of an area too small does not have meaningful content. By determining the minimum size of the area for scaling the load of the CPU when the rendering of the display data is performed on the terminal may be reduced.

When the width or the height of the active area is smaller than the threshold YES in S black pixels are added to the display data by the display data acquiring unit until the size of the current display data is equal to the threshold width the threshold height e.g. 128 36 pixels S and the process of is terminated.

The black pixels are arranged as follows. First an area having a size of the threshold width by the threshold height is prepared and the current display data are arranged so that the position of the upper left corner of the current display data is in agreement with the position of the upper left corner of the prepared area. The pixels within the area of the threshold width by the threshold height in which the current display data are not arranged are replaced with black pixels. Alternatively the current display data may be arranged at any of other three corners the lower left corner the upper right corner the lower right corner or in the center position of the area of the threshold width by the threshold height. The pixels to be added may not be black pixels. Pixels of a different color may be added instead of black pixels.

Referring back to the resolution acquiring unit acquires the resolution information of the display step S . The resolution converting unit determines the resolution of the display data to be transmitted to the terminal based on the resolution which is stored in the resolution management DB and indicated by the resolution information of the display of the terminal and the resolution which is indicated by the resolution information of the display of the external input device and acquired at step S step S .

Next the resolution conversion process performed by the resolution converting unit at step S will be described with reference to .

It is assumed that a resolution of a vertical direction height H direction and a resolution of a horizontal direction width W direction included in the resolution information of the display of the external input device acquired at step S are set to H40 and W40 respectively. Similarly it is assumed that a resolution of the vertical direction height H direction and a resolution of the horizontal direction width W direction included in the resolution information of the display of the terminal stored in the resolution management DB are set to H10 and W10 respectively. Based on these resolutions H40 W40 H10 and W10 the resolution converting unit determines a resolution H of the vertical direction of the display data and a resolution W of the horizontal direction of the display data.

In the process of first the resolution converting unit determines whether the condition of H40 H10 and W40 W10 is met step S . When it is determined that the condition of H40 H10 and W40 W10 is met YES in step S the resolution converting unit determines the resolution H of the vertical direction and the resolution W of the horizontal direction of the display data as H H40 and W W40 respectively step S . In this case the resolution of the display data remains unchanged.

On the other hand when the condition of H40 H10 and W40 W10 is not met NO in step S the resolution converting unit determines whether the condition of W40 W10 and H40 H10 or W40 W10 H40 H10 and H10 W10 is met step S . When the condition of W40 W10 and H40 H10 or W40 W10 H40 H10 and H10 W10 is met YES in step S the resolution converting unit determines the resolution W of the horizontal direction and the resolution H of the vertical direction of the display data as W W10 H H40 W10 W40 respectively step S . W10 W40 represents a compression ratio of the width W direction.

On the other hand when it is determined that the condition of W40 W10 and H40 H10 or W40 W10 H40 H10 and H10 W10 is not met NO in step S the resolution converting unit determines the resolution W of the horizontal direction and the resolution H of the vertical direction of the display data as W W40 H10 H40 and H H10 respectively step S . H10 H40 represents a compression ratio of the height H direction.

For example in the case where it is determined at step S that the condition of W40 W10 H40 H10 and H10 W10 is not met the resolution of the vertical direction of the display of the external input device is greater than the resolution of the vertical direction of the display of the terminal and the resolution of the horizontal direction of the display of the external input device is equal to or smaller than the resolution of the horizontal direction of the display of the terminal H40 H10 and W40 W10 . Or in the case where it is determined at step S that the condition of W40 W10 H40 H10 and H10 W10 is not met the resolution of the horizontal direction and the resolution of the vertical direction of the display of the external input device are greater than the resolution of the horizontal direction and the resolution of the vertical direction of the display of the terminal respectively and the resolution of the vertical direction of the display of the terminal is smaller than the resolution of the horizontal direction thereof W40 W10 H40 H10 and H10

Namely when the resolution of the vertical direction of display of the external input device is smaller than the resolution of the vertical direction of the display of the terminal the resolution converting unit at step S converts the resolution of the vertical direction of the display data into the resolution of the vertical direction of the display of the terminal H H10 . Further the resolution converting unit at step S converts the resolution of the horizontal direction of the display data such that an aspect ratio of the display data is equal to an aspect ratio of the resolution of the display of the terminal W W40 H10 H40 .

When the resolution of the horizontal direction of the display of the terminal is smaller than the resolution of the horizontal direction of the display of the external input device the resolution converting unit at step S converts the resolution of the horizontal direction of the display data into the resolution of the horizontal direction of the display of the terminal W W10 . Further the resolution converting unit at step S converts the resolution of the vertical direction of the display data such that an aspect ratio of the display data is equal to an aspect ratio of the display of the terminal H H40 W10 W40 .

Referring back to after the resolution of the display data is converted by the resolution converting unit the display data transmitting unit transmits the display data with the converted resolution to the terminal step S .

After the external information transmitting receiving unit of the terminal receives the display data from the external input device step S the display control unit performs the rendering of the received display data and displays an image of the display data on the display step S . The display image acquiring unit acquires the data which indicate the image displayed on the display by the display control unit at step S step S . The transmitting receiving unit transmits the image data acquired by the image acquiring unit to the relay device step S .

When the display data with the unchanged resolution is received in the case of S the display control unit performs the rendering of the received display data by changing the received resolution to the resolution used for the display data on the display with the ratio of the width to the height of the display data maintained.

For example when the full screen displaying of the display data is performed with the resolution of the display the rendering of the display data is performed as follows. if else 

where Wr and Hr represent the width and the height after the rendering respectively Ws and Hs represent the width and the height of the received display data respectively and Wt and Ht the width and the height of the display respectively.

After the operation input receiving unit receives the resolution information the resolution changing unit changes the resolution of the display of the terminal step S . This process of resolution changing is performed by a process of resolution changing of steps S S S S in the process of .

After the resolution is changed the resolution acquiring unit acquires the resolution information indicating the changed resolution step S . The external information transmitting receiving unit transmits the resolution information to the external input device step S . After this the process which is the same as the process performed at the above step S and subsequent steps is performed and the explanation thereof is omitted.

Next with reference to the process of resolution control including resolution changing performed by the terminal will be described.

As shown in when the process is started by reception of a power ON signal in the terminal the resolution acquiring unit accesses the display to acquire available resolutions which can be displayed on the display step S .

Subsequently the resolution determining unit determines whether resolutions other than a standard aspect ratio e.g. 16 9 and its corresponding resolution 1280 720 used for communication of the image data between the terminal and the relay device are included in the acquired resolutions which can be displayed on the display step S . This determination is made because there may be a case where the user desires to select a resolution other than the standard aspect ratio if possible and add a segment area for presenting supplementary information. shows an example of a screen in such a case. In the example shown in a segment area SR is added to the bottom of the screen and supplementary information AX including an error message and an operation button is displayed in the segment area SR.

On the other hand shows another example. In the example shown in a segment area is not added but the supplementary information AX including the error message and the operation button is inserted in a bottom portion of the screen and the screen with the inserted supplementary information AX is displayed.

When the resolutions other than the standard aspect ratio are included YES in step S the resolution selecting unit selects a resolution from among the resolutions other than the standard aspect ratio according to predetermined criteria step S . The predetermined criteria used at step S may select the highest resolution or with the maximum width and the maximum height to select a resolution corresponding to a specific aspect ratio e.g. 8 5 to select a resolution suitable for a character size the number of characters etc. of the supplementary information or to cause a user to define a specific resolution e.g. WXGA 1280 800 or XGA 1024 768 to be selected by the resolution selecting unit . Any of the criteria may be used.

Subsequently an image processing unit not shown which is provided as a function of the display control unit adds a segment area and expands or contracts the image data internally generated at the standard aspect ratio to meet the selected resolution step S . Specifically the image processing unit performs the following process. First the image data before conversion are expanded or contracted symmetrically to be in agreement with the width after conversion. When the width before conversion is the same the width after conversion expansion or contraction of the image data is not performed expansion ratio or contraction ratio is set to 1 . Next a height of the image data after expansion or contraction is checked and a segment area is added to the image data after the expansion or contraction to meet the height after the expansion or contraction. In the example shown in the segment area SR is added to the bottom of the screen. Note that the location to which the segment area is added is not limited to the bottom of the screen. Alternatively the segment area may be added to a top portion of the screen or segment areas with a half height may be added to the top and bottom of the screen respectively.

Subsequently the resolution changing unit changes the resolution of the display to the selected resolution step S . As a result the image of the display data is displayed on the display with the changed resolution.

Subsequently a flag setting unit not shown which is a function of the display control unit sets the flag overlap to the value false step S . This flag overlap is accessed when the display control unit detects an error and performs display control of supplementary information different from the currently displayed image data. The flag overlap is set to the value true when the supplementary information overlapping the image data is displayed the case of and set to the value false when the supplementary information not overlapping the image data is displayed the case of .

On the other hand when the resolutions other than the standard aspect ratio are not included NO in step S the resolution selecting unit selects a resolution of the standard aspect ratio according to predetermined criteria step S . The predetermined criteria are the same as those used at step S.

Subsequently an image processing unit not shown which is a function of the display control unit expands or contracts the image data internally generated at the standard aspect ratio to meet the selected resolution step S . In this case expansion or contraction of the image data at the same aspect ratio is performed a blank area is not generated in both the width direction and the height direction of the image data and a segment area is not added see the example of .

Subsequently the resolution changing unit changes the resolution of the display to the selected resolution step S . As a result the image of the display data is displayed on the display with the changed resolution.

Subsequently the flag setting unit not shown which is the function of the display control unit sets the flag overlap to the value true step S .

The foregoing process shown in is an initialization process performed upon receiving the power ON signal in the terminal . After this a loop process shown in may be performed when the display is exchanged after the reception of the power ON signal.

As shown in the resolution acquiring unit accesses the display to acquire the currently used resolution of the display step S . Subsequently the resolution acquiring unit accesses the display to acquire the available resolutions which can be displayed on the display step S .

Subsequently the resolution determining unit determines whether resolutions other than the standard aspect ratio e.g. 16 9 used for communication of the image data between the terminal and the relay device are included in the acquired resolutions step S . When the resolutions other than the standard aspect ratio are included YES in step S the resolution selecting unit selects a resolution from among the resolutions other than the standard aspect ratio according to the predetermined criteria step S . The predetermined criteria are the same as those used at step S.

Subsequently the resolution determining unit determines whether the currently used resolution is different from the selected resolution step S . When the currently used resolution is different from the selected resolution YES in step S the image processing unit not shown which is a function of the display control unit adds a segment area and expands or contracts the image data internally generated at the standard aspect ratio to meet the selected resolution step S .

Subsequently the resolution changing unit changes the resolution of the display to the selected resolution step S . As a result the image of the display data is displayed on the display with the changed resolution.

Subsequently the flag setting unit not shown which is a function of the display control unit sets the flag overlap to the value false step S . On the other hand when the currently used resolution is the same as the selected resolution NO in step S the processing of steps S S is not performed. This is because the resolution changing is not required.

On the other hand when the resolutions other than the standard aspect ratio are not included NO in step S the resolution selecting unit selects a resolution of the standard aspect ratio according to the predetermined criteria step S . The predetermined criteria are the same as those used at step S.

Subsequently the resolution determining unit determines whether the currently used resolution is different from the selected resolution step S . When the currently used resolution is different from the selected resolution YES in step S the image processing unit not shown which is a function of the display control unit expands or contracts the image data internally generated at the standard aspect ratio to meet the selected resolution step S .

Subsequently the resolution changing unit changes the resolution of the display to the selected resolution step S . As a result the image of the display data is displayed on the display with the changed resolution.

Subsequently the flag setting unit not shown which is a function of the display control unit sets the flag overlap to the value true step S .

On the other hand when the currently used resolution is the same as the selected resolution NO in step S the processing of steps S S is not performed. This is because the resolution changing is not required.

The foregoing process is repeatedly performed while the program is operating. Therefore even if the display is exchanged with another display with a different resolution the process of is continuously performed. The repeated process is equivalent to a process to regularly monitor a change of the resolution of the display . This process may be performed by using the known event handling program in the programs of Windows . In this case the program may be registered upon starting the process such that an event notification may be performed when a change of the resolution of the display is detected due to the connection of the terminal to another display . Thereafter each time the notification of this event takes place the process starting from step S of may be performed by the display control unit

In the embodiment of the case where the external input device transmits the display data in a non compressed form a bitmap form to the terminal and the terminal further transmits the display data in the non compressed form to the relay device has been described. The invention is not limited to the transmission of the display data in the non compressed form. Alternatively the external input device may be configured to transmit the display data in a compressed form such as JPEG or GIF.

In the following a process performed in a case of using a compressed form will be described with reference to . The flowchart shown in differ from the flowchart shown in in that processing steps S A S A S A related to compression of display data and decompression of the display data is added. Other steps in the process of different from the newly added steps are essentially the same as corresponding steps in the process of and the explanation thereof is omitted.

In the process of after the resolution converting unit of the external input device performs resolution conversion of the display data at step S the display data acquiring unit performs compression encoding processing of the display data step S A . In this embodiment the display data acquiring unit performs the compression processing.

In the terminal after the external information transmitting receiving unit receives the compressed display data with the converted resolution from the external input device at step S the display image acquiring unit performs the decompression decoding of the compressed display data received step S A . In this embodiment the display image acquiring unit performs the decompression of the compressed display data.

Subsequently after the display control unit performs the rendering of the display data after the decompression decoding and displays the image of the display data on the display at step S the display image acquiring unit acquires the display data indicating the image currently displayed on the display step S . The acquired display data in the non compressed form are provided to each of the resolution changing unit and the display image acquiring unit . The display image acquiring unit performs predetermined compression encoding on the acquired display data step S A . The transmitting receiving unit transmits the compressed display data obtained by the display image acquiring unit to the relay device via the communication network at step S.

The compressed display data are received by another transmission terminal through the relay device . In the terminal which has received the compressed display data the display control unit performs the decompression decoding of the compressed display data performs the rendering of the display data and displays the image of the display data on the display . Thus the display data may be shared by the destination terminal and the request source terminal .

On the other hand the display data acquired by the display image acquiring unit at step S are provided to the resolution changing unit and the resolution changing unit performs the resolution changing at step S. After this the process which is the same as the process shown in is performed and the explanation thereof is omitted.

As described above the display data which are transformed in the compressed form are transmitted from the external input device to the terminals through the relay device the source terminal the relay device the destination terminal and the capacity of data transmission can be reduced to be smaller than that in the case where the display data in the non compressed form bitmap form are used and the communication load can be reduced.

As described above in the transmission system according to the embodiment if the whole area is selected by the mouse and the display data of the whole area can be shared with the terminal of a communication partner of a videoconference and if the whole screen is not selected the display data of the active area can be shared with the terminal of the communication partner of the videoconference. Therefore one of the whole screen and some specific areas can be arbitrarily selected and the display data of the selected area can be shared by the terminals.

In this embodiment the transmission system in which the image of the whole area or arbitrary areas in the terminal screen may be selected and displayed when the user operates a viewing area selection menu displayed on the display of the external input device will be described.

As shown in two radio buttons and are displayed in addition to the share setting input button . The radio button is to select the whole area full screen and the radio button is to select the active area . The radio buttons and are provided for the user to select one of display data of the whole area and display data of the active area. When the user selects one of the radio buttons and the operation input receiving unit receives the selection of the one of the radio buttons and .

When the start sharing is selected by the share setting input button or when the display data are shared the shared display data displayed on the display of the terminal are alternately switched between the display data of the whole area and the display data of the active area each time one of the radio buttons and selected by the user is changed to the other.

When the start sharing is not selected by the share setting input button or when the display data are not shared sharing of the display data of the selected one of the radio buttons and is started if the user clicks the share setting input button start sharing .

The operation processes of this embodiment are essentially the same as those of of Embodiment 1 except for the process of the display data acquiring unit of this embodiment partially differing from the process of of Embodiment 1. is a flowchart for explaining the process in which the display data acquiring unit acquires display data.

In the process shown in the operation input receiving unit detects whether the user has selected the whole area by the radio button S .

When the user has selected the whole area by the radio button YES in S the display data acquiring unit acquires the display data of the whole desktop screen displayed on the display as the display data to be transmitted to the terminal S and the process of is terminated.

When the user has not selected the whole area by the radio button NO in S i.e. when the user has selected an active area by the radio button the display data acquiring unit determines whether the active area is present S . The determination method may be the same as that of Embodiment 1.

When the user aa closes the active area and there is no active area NO in S the process progresses to step S. In step S the display data acquiring unit acquires the display data of the whole desktop screen. When the active area is present YES in S the display data acquiring unit acquires the display data of the area which is active among the display data displayed on the display by the display control unit S . Subsequent steps in the process of may be the same as corresponding steps of Embodiment 1.

According to this embodiment even when the OS does not support treating the whole desktop screen as one area the user is enabled to select the whole area by using the viewing area selection menu .

In Embodiments 1 and 2 when the display data acquiring unit acquires the display data of the whole area or the active area there is a problem in that a mouse cursor is not displayed on the display .

This problem may arise in a case where a Print Screen button of the keyboard is used in acquiring the display data. The mouse cursor is not incorporated even if the Print Screen button is pressed. For this reason it is preferred to configure the display data acquiring unit to incorporate the mouse cursor in the display data when the mouse cursor points to the whole area or the active area.

As shown in the display data acquiring unit includes a cursor information acquiring unit a screen information acquiring unit and a display data generating unit . The screen information acquiring unit is configured to acquire the display data displayed on the display of the external input device . The cursor information acquiring unit acquires cursor information including a position of the mouse cursor an icon of the mouse cursor etc. The cursor information may include coordinate data of the mouse cursor in the screen and an icon of the mouse cursor. The coordinate data of the mouse cursor may be acquired by querying the OS by a predetermined command. Similarly the icon of the mouse cursor may be acquired from the OS. Alternatively a known icon of the mouse cursor may be included beforehand as image data.

The display data generating unit is configured to incorporate the mouse cursor icon in the display data. Because the external input device transmits the display data to the terminal the user may detect the position where the mouse cursor specifies the display data in the screen.

The method for incorporating the mouse cursor icon differs for a case where the whole area is designated as the display data and a case where the active area is designated as the display data.

The case where the whole area is designated as the display data will be described with reference to . is a diagram showing an example in which the mouse cursor icon is incorporated in the display data. As shown in the display data indicate the whole screen displayed on the display of the external input device . The mouse cursor may move in the whole desktop screen.

The cursor information acquiring unit acquires the mouse cursor icon and the coordinate data of the mouse cursor. The coordinate data are expressed by an orthogonal coordinate system and indicate a two dimensional position of the mouse cursor on a pixel by pixel basis with the origin at the upper left corner of the screen.

Therefore the display data generating unit may incorporate the mouse cursor in the display data by placing the mouse cursor pointer at the position of the display data indicated by the coordinate data. Incorporating the mouse cursor may include placing the mouse cursor icon in the display data and generating the display data in which the pixel values of the overlapping pixels are included .

The case where the active area is designated as the display data will be described with reference to . is a diagram showing an example in which the mouse cursor icon is incorporated in the display data. As shown in the coordinates X Y of the mouse cursor are coordinates when the upper left corner of the desktop screen is regarded as the origin and the active area is an area of the desktop screen. For this reason if the mouse cursor icon is incorporated in the display data of the active area at coordinates X Y the icon is located at a position on the basis of the coordinates X Y of the upper left corner of the active area and the position of the mouse cursor icon in the display data will change.

To avoid the problem when the active area is designated as the display data the cursor information acquiring unit is configured to compensate the coordinate data of the mouse cursor as follows.

After the compensation of the coordinates is performed in this manner the relative position of the mouse cursor icon to the display data is maintained and the mouse cursor icon may be suitably incorporated in the display data.

In the process of first the cursor information acquiring unit acquires the coordinate data of the mouse cursor S . When the display data of the whole area are selected the mouse cursor icon may be incorporated in the display data after this step.

The cursor information acquiring unit determines whether a position indicated by the coordinate data acquired at step S is included in the active area S .

When the mouse cursor position is not included in the active area NO in S it is not necessary to incorporate the mouse cursor icon. The process of is terminated without incorporating the mouse cursor icon in the display data of the active area by the display data generating unit .

When the mouse cursor position is included in the active area YES in S the display data generating unit acquires the mouse cursor icon S .

Subsequently the display data generating unit incorporates the mouse cursor icon acquired at step S in the display data of the active area S and the process of is terminated. The display data generating unit accesses the coordinate data X Y of the mouse cursor pointer and the coordinate X Y of the upper left corner of the active area. On the basis of the origin at the upper left corner of the display data in which only the image of the active area is incorporated the mouse cursor icon is incorporated in the display data at the position of X X Y Y .

As described above even in the case where the display data of the active area are shared the mouse cursor can be correctly displayed on the display of the terminal by changing the position of the mouse cursor icon from that in the case where the display data of the whole area are shared.

In the process of the display data of the active area are selected. Alternatively the compensation process may be performed when the display data of the active area are selected and when the display data of the whole area are selected the coordinates X Y of the upper left corner of the active area may be set to X 0 and Y 0.

As described above in Embodiment 1 the terminal in which when the user selects the specific area on the external input device by the mouse the display data of the active area are shared with the terminal used by a communication partner of a videoconference has been explained.

Similarly in Embodiment 2 the terminal in which when the user selects the radio button in the viewing area selection menu of the external input device the display data of the active area are shared with the terminal used by the communication partner of the videoconference has been explained.

Although the active area can be easily changed by operation of the user there may be a case where an area which is not suitable as a shared object is designated as the active area.

In Windows this area is also treated as a window. Therefore the BaseBar area is designated as an active area. For this reason the display data of the BaseBar area are shared by the terminals and . However the display data of the BaseBar area have little information which is to be shared and therefore the display data of such an area should not be shared.

In Embodiment 4 the external input device in which even if a predetermined area is designated as an active area the display data of the predetermined area displayed on the display are not acquired will be described. The external input device does not acquire the display data of the predetermined area even if the predetermined area is designated as the active area and the terminals and do not share the display data.

An exception management DB is implemented by the storage unit and the exception management table T as shown in is stored in this exception management DB . In the exception management table T area names window names of predetermined areas the display data of which are not acquired even when the predetermined areas are designated as the active area are registered. The exception management table T is stored in the storage unit of the terminal and installed in the external input device together with a display data acquisition program .

When the Windows API is utilized an active area is notified as a class name from the OS. In addition the area names of the areas shown in are also uniquely determined by the OS. Thus a software developer may predetermine the areas the display data of which are not to be acquired even if the predetermined areas are designated as the active are and register the predetermined areas in the exception management table T. For example the area name of the area of is BaseBar the area name of the area of is Shell TrayWnd and the area name of the area of is tooltip class32.

Alternatively identification information to uniquely identify the area may be registered in the exception management table T instead of the area name. For example each area has not only an area name but also a number which may include numeric values and signs which is assigned by the manufacturer of the OS. Thus each area may also be identified by this number as the identification information.

First the operation input receiving unit determines whether selection of the whole area is received S . When the selection of the whole area is received YES in S the display data acquiring unit acquires the display data of the whole desktop screen displayed on the display S and the process of is terminated.

When the selection of the whole area is not received NO in S the display data acquiring unit determines whether an active area is present S . When the active area is present YES in S the display data acquiring unit acquires the area name of the active area from the OS and compares the acquired area name with each of the area names registered in the exception management table T S . When coincidence does not occur the acquired area name is compared with all the area names of the exception management table T. When coincidence occurs the comparison is stopped.

When the area name of the active area is registered in the exception management table T YES in S the display data acquiring unit acquires the display data of the whole desktop screen displayed on the display S and the process of is terminated. Thus even if the area such as BaseBar shown in is changed to the active area the display data of the whole area may be displayed without displaying the display data of the active area. Alternatively instead of displaying the display data of the whole area the display data of the area whose area name is not registered in the exception management table T which was active immediately before may be acquired.

When the area name of the active area is not registered in the exception management table T NO in S the display data of the area which is active among the display data currently displayed on the display by the display control unit are acquired S . Namely in this case the display data of the active area are acquired similar to Embodiment 1. Subsequent steps are the same as those corresponding steps of Embodiment 1 and continuously the process of is performed.

The process of provides a modification of the process of of Embodiment 1. Also the processing of steps S and S in the process of may be similarly to the process of of Embodiment 2. Thus regardless of how the user selects the active area it is possible to prevent the display data of the areas registered in the exception management table T from being shared.

Also in Embodiment 4 the icon of the mouse cursor may be incorporated in the display data of the active area similar to Embodiment 3.

In the display data acquisition program installed in the external input device a predetermined menu is prepared to stop the comparison of the acquired area name of the active area with the area names registered in the exception management table T. If the user desires to share the display data of the area registered in the exception management table T the setting of the sharing may be selected from the predetermined menu. Thus the user may arbitrarily select permission or inhibition of sharing of the display data of the area the area name of which is registered in the exception management table T.

As described above according to Embodiment 4 it is possible to prevent acquisition of the display data of the area which are not to be acquired. Thus it is possible to reduce problems such as frequent changes of the display data by operations of the user.

In Embodiments 1 2 and 4 the display data of the active area and the whole area which are arbitrarily selected by the user may be shared by the terminals. However when the external input device receives the active area or the whole area from the viewing area selection menu displayed on the desktop screen as in Embodiment 2 a problem may arise. Specifically the user may select one of the radio buttons of the viewing area selection menu when the viewing area selection menu is incorporated as one application window. The viewing area selection menu may become an active area and the display data thereof may be shared by the terminals. As a result such a situation that the participants of the videoconference viewing the display data on the display have a sense of incongruity in regards to the display data may arise.

In Embodiment 5 the transmission system in which when the viewing area selection menu incorporated as a window changes to an active area by user s operation the sharing of the display data of the viewing area selection menu is inhibited will be described. Specifically when one of the radio buttons of the viewing area selection menu is selected the display data acquiring unit is configured to access the exception management DB and not to acquire the display data even if the window of the viewing area selection menu is active. Thus when one of the radio buttons is selected it is possible to prevent the display data of the viewing area selection menu from being shared.

The user aa depresses or clicks the share setting input button start sharing as shown in . As a result the window of the viewing area selection menu becomes active. At the time of depression either of the radio buttons and may be selected. There are the case where whole area full screen is selected and the case where active area is selected.

The processing of steps S S S and S in is the same as that of corresponding steps in and the explanation thereof is omitted.

In the process of when the area name of the active area is registered in the exception management table T YES in S and an initiation flag is not equal to 1 NO in S the display data acquiring unit does not acquire the display data of the whole desktop screen. The initiation flag is a flag which is set to 1 when the programs for the external input devices are started and reset to 0 when the whole area display data are acquired. The initiation flag is provided for controlling the behavior of the programs immediately after starting of the programs for the external input devices. In the process of Embodiment 4 when the area name of the active area coincides with the area name registered in the exception management table the display data of the whole area full screen are shared. In this embodiment however the display data of the whole area are not shared. Exceptionally in this embodiment the display data of the whole area are shared immediately after starting of the programs for the external input devices.

When the area name of the active area is not registered in the exception management table T NO in S the display data of the area which is active among the display data currently displayed on the display by the display control unit are acquired S . Namely the display data of the active area are acquired similar to Embodiment 4.

First immediately after the programs for the external input devices are started the viewing area selection menu of is in an initial state where the radio button is selected.

 i When the share setting input button is pressed while the whole area full screen of the radio button is selected the result of the determination at S is YES and the display data acquiring unit starts sharing of the whole area display data.

 ii When the share setting input button is pressed while the active area of the radio button is selected by the user the window of the viewing area selection menu becomes active. Sharing of the display data of the viewing area selection menu is not appropriate and the active area is not present and the programs for the external input devices may share the display data of the whole area. To avoid the problem the initiation flag is utilized.

When the radio button is selected it is determined at step S that the active area the viewing area selection menu is present and the result of the determination at step S is YES. Immediately after the programs for the external input devices are started it is determined at step S that the initiation flag is equal to 1 and the display data acquiring unit acquires the display data of the whole area at step S. After the display data of the whole area are acquired the initiation flag is reset to 0 .

Namely immediately after the sharing of the display data is started sharing of the display data of the whole area full screen is started even if either of the radio buttons and is selected. Thereafter if the user activates the area which is not registered in the exception management table T the display data of the area which is activated by the user are shared.

 iii When the share setting input button is pressed while the display data of the whole area full screen are shared and the whole area full screen of the radio button is selected the result of the determination at step S is YES. Thus the display data acquiring unit continuously performs the sharing of the display data of the whole area.

When the share setting input button is pressed while the display data of the whole area full screen are shared and the active area of the radio button is selected the result of the determination at step S is YES and the result of the determination at step S is NO. Thus the display data acquiring unit continuously performs the sharing of the display data of the whole area.

Namely even if either of the radio buttons and are selected the sharing of the display data of the whole area is continued. The display data acquiring unit shares the display data of the active area in the state where the display data of the whole area full screen is shared only in a case where the user selects or activates the area of the area name which is not registered in the exception management table T.

 iv When the share setting input button is pressed while the display data of the active area are shared and the whole area full screen of the radio button is selected the result of the determination at step S is YES. Thus the display data acquiring unit starts sharing of the display data of the whole area.

When the share setting input button is pressed while the display data of the active area are shared and the active area of the radio button is selected the result of the determination at step S is YES and the result of the determination at step S is No. Thus the display data acquiring unit continues sharing of the display data of the active area which was active before the viewing area selection menu becomes active.

Namely even if either of the radio buttons and are selected the viewing area selection menu becomes active. In this case when the active area of the radio button is selected sharing of the display data of the area which was active immediately before is continued and when the whole area full screen of the radio button is selected sharing of the display data of the whole area is started.

According to the external input device of this embodiment the previous state of sharing of the display data is held even if the window including the viewing area selection menu which are not suitable for sharing of the display data is selected. One of the sharing of the whole area display data and the sharing of the active area display data may be switched to the other without giving sense of incongruity to the participants of the videoconference.

As described in the foregoing according to the invention it is possible to provide a transmission system in which a user on a transmission terminal may select arbitrarily one of sharing of whole area display data and sharing of specific area display data such that the selected display data are shared with a communication partner of a videoconference on the other transmission terminal.

The transmission system according to the invention is not limited to the above described embodiments and various variations and modifications may be made without departing from the scope of the invention.

The present application is based on and claims the benefit of priority of Japanese Patent Application No. 2012 250979 filed on Nov. 15 2012 Japanese Patent Application No. 2013 064085 filed on Mar. 26 2013 and Japanese Patent Application No. 2013 135200 filed on Jun. 27 2013 the entire contents of which are hereby incorporated by reference.

