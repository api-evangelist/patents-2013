---

title: Event timeline generation
abstract: A method selects events from an event log for presentation along a timeline. The method may receive information associated with the timeline to define an interval of interest and a partition size, and divide the timeline into a plurality of segments based on the partition size. The method may further identify each segment having at least one relevant event within the segment, where a relevant event is an event which starts within a segment and overlaps with the interval of interest. The method may determine parameters associated with at least one relevant event for each identified segment, and provide the determined parameters along with an index which designates each identified segment. The determined parameters may be provided to a client to generate the timeline of the at least one relevant event. An apparatus can implement the method to select events from an event log which are associated with a defined time interval.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09430509&OS=09430509&RS=09430509
owner: Axis AB
number: 09430509
owner_city: Lund
owner_country: SE
publication_date: 20130916
---
Data collection and control systems are increasingly being used across a wide spectrum of applications to monitor and or control various spaces facilities and or processes. These data collection systems can take advantage of contemporary peripheral devices which may produce large amounts of data in either digital and or analog formats. Corresponding advances in processing power and data storage capability permit the collection of multiple data streams over long periods of time thus generating significant amounts of data for storing.

One embodiment disclosed below includes a method for selecting events from an event log for presentation along a timeline. The method may receive information associated with the timeline to define an interval of interest and a partition size and divide the timeline into a plurality of segments based on the partition size. The method may further identify each segment having at least one relevant event therein. A relevant event may be an event which starts within a segment and overlaps with the interval of interest. The method may determine parameters associated with the at least one relevant event for each identified segment and provides the determined parameters along with an index which designates each identified segment. The determined parameters and the index may be provided to a client to generate the timeline of the at least one relevant event.

In another embodiment the method may determine the parameters associated with at least one relevant event for each identified segment by performing the following. Additionally the method may determine an earliest start time associated with the at least one relevant event determine a latest end time associated with the at least one relevant event and determine a count of the at least one relevant event. The method may further identify one or more segments by querying the event log to determine events which overlap with the interval of interest to identify events of interest. The method may query the event log for each segment to ascertain whether any events of interest start in the queried segment and if so may classify the ascertained events as relevant events for the queried segment.

In yet another embodiment the method may include receiving information defining an interval of interest may include receiving a start time and an end time to define the interval of interest on the timeline. The received start time end time and partition size may be initially defined graphically at the client.

In another embodiment the events are represented by data generated by at least one peripheral device. The method may further include classifying events based on their associated peripheral device and filtering events based on the classification. The peripheral device may collect image data video data or a combination thereof along with time data consistent with the timeline. The method may filter events based on metadata associated with the image or video data including frames per second resolution format and associated audio data. The peripheral device may include a camera a window sensor a door sensor a temperature controller a proximity sensor or any combination thereof.

In yet another embodiment the method classifies events based on the information determined from the generated data and filters events based on the classification. The filtering may be based on metadata generated by the peripheral device where the metadata includes position of the peripheral device identification of the peripheral device and a media type associated with the event.

Another embodiment includes an apparatus for selecting events from an event log which are associated with a defined time interval. The apparatus may include a processor and a memory coupled to the processor. The memory stores instructions that cause the processor to do the following. The processor may receive information associated with a timeline to define an interval of interest and a partition size. The processor may divide the timeline into a plurality of segments based on the partition size and identify each segment having at least one relevant event therein. A relevant event may include an event which starts within a segment and overlaps with the interval of interest. The processor may determine parameters associated with the at least one relevant event for each identified segment and provide the determined parameters along with an index which designates each identified segment. The processor may provide the determined parameters and the index to a client so it may generate the timeline of the at least one relevant event.

In another embodiment the instructions for determining parameters associated with at least one relevant event for each identified segment may include cause the processor to determine an earliest start time associated with the at least one relevant event and determine a latest end time associated with the at least one relevant event and determine a count of the at least one relevant event.

In yet another embodiment the instructions for identifying may cause the processor to query the event log to determine events which overlap with the interval of interest to identify events of interest and query the event log for each segment to ascertain whether any events of interest start in the queried segment and if so classify the ascertained events as relevant events for the queried segment.

In another embodiment the instructions for receiving information defining an interval of interest may cause the processor to receive a start time and an end time to define the interval of interest on the timeline. The received start time end time and partition size may be initially defined graphically at the client.

In yet another embodiment the events are represented by data generated by at least one peripheral device. The processor may classify events based on their associated peripheral devices and filter relevant events based on the classification. The at least one of the peripheral devices collects image data video data or a combination thereof along with time data consistent with the timeline. The processor may filter events based on metadata associated with the image or video data including frames per second resolution format and associated audio data. In yet another embodiment the processor may classify events based on the information determined from the generated data and filter relevant events based on the classification.

In another embodiment the filtering may be based on metadata generated by the at least one peripheral device where the metadata may include position of the peripheral device identification of the peripheral device a media type associated with the event. The peripheral device may include a camera a window sensor a door sensor a temperature controller proximity sensor or any combination thereof.

The following detailed description refers to the accompanying drawings. The same reference numbers in different drawings identify the same or similar elements.

Given the large amount of data control systems may generate and storeover arbitrary time periods retrieving and processing the stored data can become resource intensive particularly in terms of processing and or network resources. For example when a user attempts to access and review data associated with a particular event selected from a large number of events over a network conventional techniques for retrieving the data may introduce a noticeable delay prior to presenting the data to the user.

Embodiments described below relate generally to processes and systems that can perform efficient data retrieval and more specifically may relate to data collection and control systems such as for example distributed physical access control systems . Embodiments described below include peripheral devices. The peripheral devices may include any type of monitoring device such as imaging sensors or video cameras which can produce large amounts of data. The embodiments presented may perform efficient retrieval of events from an event log by for example reducing the amount of data used to characterize the retrieved events. The retrieved data may be used for example by a client device requesting the data to generate a timeline associated with the retrieved events.

Server may generate a response providing information regarding the events back to client over network . This responsive information may include time references so that client may associate the events with the timeline. For example the information provided by server may permit client to display with reference to the timeline the start time of each event that temporally overlaps the interval of interest e.g. specified by the user . The response generated by server may be structured in such a manner so that it may be exchanged quickly over network . Upon receiving the response from server the client may efficiently process the received information and generate a timeline relating the events associated with the interval of interest.

Continuing with server may be any type of machine suitable for serving requests from one or more clients processing data extracted from event log producing the information requested by one or more the client s and maintaining event log . Because event log may be stored in a database server may use any type of database software such as for example MySQL Oracle Database Microsoft SQL Server etc. for adding updating and or deleting records from event log . Server may perform exemplary processes described herein in software which may use an Application Programming Interface API to efficiently retrieve event data and generate data structures that may be used to generate a timeline of the events. Moreover the API may be designed for efficient SQL databases and commands. Server may be any type of computer using any operating system of which exemplary components are further illustrated in and described below.

Event log may store data representing events that can be collected by one or more peripheral devices where the event can be associated with a time e.g. a time interval on the timeline. As described in more detail below the peripheral devices may include a device that can collect video audio and or image data and or monitor any state of a person an area and or an object e.g. medical devices area motion sensors door and or window sensors etc. The peripheral devices may be part of a Distributed Physical Access Control DPAC system which are illustrated in and described in more detail below. Moreover event log may also store metadata which can provide information about the associated peripheral device and or information that can characterize the data collected by the peripheral device.

For example the metadata may include location information of the peripheral device e.g. address zip code geographical location coordinates in a standard reference frame etc. the type of device that generated the event camera name serial number etc. the type of media connected with the event and any description thereof such as for example video frames per second resolution format audio etc. Moreover additional metadata may be stored that can characterize the contents of the data for an event. For example metadata may include information resulting from object recognition and or motion analysis in a video facial recognition in an image voice recognition in audio etc. As noted above the data representing the events may be stored as records in a database such as an SQL database. Server may include the actual storage device used for storing event log e.g. an internal hard disk RAID array etc. . Alternatively the storage device may be separate but directly attached to server e.g. Direct Access Storage unit RAID array etc. or the storage device may be accessible to server over network e.g. a Network Access Storage unit .

Network may include one or more circuit switched networks and or packet switched networks. For example network may include a local area network LAN a wide area network WAN a metropolitan area network MAN a Public Switched Telephone Network PSTN an ad hoc network an intranet the Internet a fiber optic based network a wireless network and or a combination of these or other types of networks.

Client may enable a user to interact with server to identify events of interest and request information from server regarding the events of interest that are stored in event log . The information identifying the events of interest may be manually entered by the user at client for example using a GUI. In one embodiment the GUI can present a timeline graphic where the user can indicate a section of time on the timeline corresponding to the interval of interest to identify events of interest. Server may process the request and client may receive from server data structured e.g. compactly to provide information regarding relevant events. Client may graphically display the information regarding the relevant events using the GUI. For example the start time of each relevant event may be displayed at the appropriate point on a graphic representing the timeline.

Client may be any suitable device that may provide a GUI for interacting with the user and have the appropriate capability for interfacing with server over network . The client device may include for example any type computational device portable communication device e.g. a mobile phone a smart phone a phablet and or another type of wireless device a personal computer or workstation a server device a laptop tablet or another type of portable computer and or any type of device with communication capability.

As shown in timeline may start at time t 0 and continue for an arbitrary time period. Multiple events are shown above timeline where each event corresponds to data e.g. collected by a peripheral device associated with a period of time. For example one or more events could represent video data taken over a period of time aligning with the appropriate location on the timeline. Separate horizontal lines spanning the vertical dimension of the graph correspond to different events. Events represented by lines associated with a common time or time interval are at least partially concurrent and may represent events generated by different peripheral devices such as for example multiple video cameras. Over a period of time the number of events can become significant. For example if timeline extends approximately one week over 100 000 events can be recorded in event log in an a physical access control system.

Timeline may be divided into Nsegments based on a partition size. In one embodiment the partition size may be specified as an input parameter by client . As such the user s input may be received by client . Client may also specify on timeline a time period called an interval of interest. The interval of interest may be specified by a user based on a start time and an end time. If client uses a GUI then the interval may be represented graphically by the user. Events that overlap with at least a portion of the interval of interest are referred to as events of interest. For example referring to events having at least a partial overlap with timeline as shown between the vertical dotted lines are events of interest. Thus events and through are classified as events of interest. Events and having lines outside the time boundaries established by the vertical dotted lines are not classified as events of interest.

In order to identify relevant events for generating an event timeline per the user s request server may perform the following process. The server may for each segment over all the segments in the timeline n 1 N determine if one or more events of interest start in segment n. Upon determining that one or more events of interest start within segment n those events are identified as relevant events. In other words a relevant event for a given segment is an event which starts within that segment and overlaps with the interval of interest. Upon identifying the relevant events in segment n the following parameters may be determined for segment n the earliest start time t of the events starting in segment n the latest end time t of the events starting in segment n and the number of relevant events defined as the count for segment n. For each segment n having a non zero count the parameters t t and the count may be provided to client . This information may be determined on a per segment basis for all of the segments N and provided to client by server in a data structure such as for example table shown in .

Further referring to the following description illustrates an example of how table may be generated. Referring to timeline segment n 0 would be evaluated as not having any relevant segments starting therein and thus information associated with this segment would not be recorded in table . The process would proceed to segment n 1 which is the first segment having a relevant event starting therein i.e. the event of interest . Accordingly the process may generate a first row in table including the index n 1 to identify the first segment along with the first start time t the last end time t and the number of relevant events count 1 all of which are associated with event . Note that for segment n 1 event cannot count as a relevant event as it does not overlap the interval of interest thus it is not included in table .

In this example the process would skip segment n 2 because there is no relevant event associated therewith and proceed to segment n 3. Segment n 3 has two relevant events starting therein events and . Accordingly the process may generate a second row in table including the index n 3 to identify the third segment along with the first start time tassociated event the last end time tassociated with event . There are two events starting in segment n 3 reflecting events and .

The process would proceed to segment n 4 which has relevant event starting therein. Accordingly the process may generate a third row in table including the index n 4 to identify the fourth segment along with the first start time tand the last end time t which are both associated with event . The number of relevant events starting in segment n 4 is one reflecting event .

The process would skip segment n 5 because there is no relevant event associated therewith and proceed to segment n 6. Segment n 6 has three relevant events starting therein events and . Here the process may generate a fourth row in table including the index n 6 to identify the sixth segment along with the first start time tassociated with event and the last end time tassociated with event . The count is three in this instance since relevant events and start in segment n 6.

The process would proceed to segment n 7 which has relevant event starting therein. Here the process may generate a fifth row in table including the index n 7 to identify the seventh segment along with the first start time t the last end time t and a count 1 all being associated with event . Segments n 8 Ndo not have any relevant events starting therein so the table is complete with rows through .

Once server completes analysis of all the segments in timeline and table is complete the table may be provided to client . Client can readily use the information in table to show the starting time of the relevant events on a timeline which may be displayed on a GUI. The client may also show information relating to the count associated with each segment listed in table . Note that table condenses the information regarding the relevant events by effectively performing a lossy compression of the information. In this example while table is compact for efficient transmission over network the individual relevant events cannot be reconstructed from table as the start time tand end time tonly provide bounds for all of the relevant events starting in each segment n listed in table .

Control system may include a distributed computing system that includes system units A to N referred to collectively as system units and individually as system unit or unit . System unit may include a physical access control device. For example unit may include an access controller that controls access to a secure area such as a room or a group of rooms. System unit may receive credentials e.g. access card credentials via a reader device determine whether the credentials are authentic and determine whether a user device represented by the credentials has the authority to access the secure area. If so the access controller may issue a command to open a lock on a door or perform other operations associated with granting access to the secure area.

Control system may include one or more distributed datasets. A distributed dataset includes data that is stored in a distributed and potentially redundant fashion in units . In one embodiment distributed datasets are replicated on more than one device. For example the entire distributed dataset may be stored in all the units . In another embodiment one or more units may store a subset of the distributed dataset. Also a distributed dataset may be associated with all system units or may be associated with a subset of system units .

In one embodiment consensus is reached among units in order for a change to be made in the distributed dataset e.g. a consensus based distributed database . System unit may propose a change to a consensus based distributed dataset. If the change is accepted by a quorum of units associated with the distributed dataset a consensus may be reached and the change may be propagated to each local copy of the distributed dataset in each associated unit . Thus a consensus with respect to a change in the distributed dataset may be reached if a quorum of the associated units votes for the change. A quorum may correspond to the smallest majority of the associated units . Thus if a distributed dataset is associated with N units a quorum may be reached if N 2 1 associated units votes for the change if N is an even number or if N 1 2 1 associated units votes for the change if N is an odd number. Requiring a smallest majority to reach a quorum may ensure that when considering two conflicting proposals at least one system unit receives both proposals and selects one of the proposals for consensus.

A consensus based distributed dataset may ensure that any system unit associated with the distributed dataset includes the information e.g. all the information in one embodiment managed by the distributed dataset. For example a distributed dataset may include access rules and the access rules may be available to any system unit associated with the distributed dataset. Thus as a result of the one or more distributed datasets in one embodiment control system may correspond to a decentralized system with no central controlling device such as a server device. In other embodiments control system may include both a decentralized system and a central controlling device such as a server device . Changes to control system may be configured at any system unit and if the change is associated with a distributed dataset the change may be propagated to other system units associated with the distributed dataset. Furthermore control system may exhibit robustness with respect to device failure as a single point of failure may be avoided. For example if a particular system unit fails the other units may continue to operate without loss of data or with the minimization of loss of data . In another embodiment a change may be made to the distributed dataset without consensus.

In one embodiment one or more unit may generate event data and provide the event data to event log over network . This may be performed in a decentralized manner coordinated by the consensus based approach described above. Additionally control system may run software to maintain and access event log . The software may include database software specifically designed to run in a control system environment. In other embodiments control system may include both a decentralized system and a central controlling device such as server described above not shown in . In this embodiment the server may interact with event log as provided above in the description of .

Network may enable units to communicate with each other with event log and or may enable administration device to communicate with particular units .

Administration device may enable an administrator to connect to a particular unit in order to configure control system change a configuration of control system receive information from control system and or otherwise administer control system . Administration device may include any device configured for communicating with a unit . For example administration device may include a portable communication device e.g. a mobile phone a smart phone a phablet device a global positioning system GPS device and or another type of wireless device a personal computer or workstation a server device a laptop tablet or another type of portable computer and or any type of device with communication capability.

In one embodiment administration device may also perform the functionality of the client as described above with reference to and permit the user to specify the interval of interest and or the partition size of a timeline. Additionally administration device may interact with one or more units and or a server not shown in to receive information regarding relevant events for generating a timeline. In alternative embodiments a separate client device not shown in may be provided to interact with the units and or a separate server .

Although shows exemplary components of environment in other implementations environment may include fewer components different components differently arranged components or additional components than those depicted in . Additionally or alternatively any one device in environment or any group of devices may perform functions described as performed by one or more other devices in environment . Further although exemplary distributed control system may include a physical access distributed control system other implementations may control systems other than physical access. On the other hand distributed control system may include any type of physical access control systems e.g. in an operational environment such as a control system for opening and or closing a door or controlling physical access to a building or facility. Distributed control system may also include a system to control a fan e.g. start or stop to initiate an alarm in a building management system e.g. failed authentication successful authentication etc. or to control a robot arm in an industrial automation system.

Bus includes a path that permits communication among the components of controller . Processor may include any type of single core processor multi core processor microprocessor latch based processor and or processing logic or families of processors microprocessors and or processing logics that interprets and executes instructions. In other embodiments processor may include an application specific integrated circuit ASIC a field programmable gate array FPGA and or another type of integrated circuit or processing logic.

Memory may include any type of dynamic storage device that may store information and or instructions for execution by processor and or any type of non volatile storage device that may store information for use by processor . For example memory may include a random access memory RAM or another type of dynamic storage device a read only memory ROM device or another type of static storage device a content addressable memory CAM a magnetic and or optical recording memory device and its corresponding drive e.g. a hard disk drive optical drive etc. and or a removable form of memory such as a flash memory.

Network interface may include a transceiver e.g. a transmitter and or a receiver that enables controller to communicate e.g. transmit and or receive data with other devices and or systems via wired communication links e.g. conductive wire twisted pair cable coaxial cable transmission line fiber optic cable and or waveguide etc. wireless communication links e.g. radio frequency RF infrared and or visual optics etc. or a combination of wireless and wired communication links. Network interface may include a transmitter that converts baseband signals to RF signals and or a receiver that converts RF signals to baseband signals. Network interface may be coupled to an antenna for transmitting and receiving RF signals.

Network interface may include a logical component that includes input and or output ports input and or output systems and or other input and output components that facilitate the transmission of data to other devices. For example network interface may include a network interface card e.g. Ethernet card for wired communications and or a wireless network interface e.g. a WiFi card for wireless communications. Network interface may also include a universal serial bus USB port for communications over a cable a Bluetooth wireless interface a radio frequency identification RFID interface a near field communications NFC wireless interface and or any other type of interface that converts data from one form to another form.

Peripheral interface may be configured to communicate with one or more peripheral devices . For example peripheral interface may include one or more logical components that include input and or output ports input and or output systems and or other input and output components that facilitate the transmission of data to peripheral devices . As an example peripheral interface may communicate with peripheral devices using a Serial Peripheral Interface Bus protocol. As another example peripheral interface may use a different type of protocol. Housing may enclose the components of controller and may protect the components of controller from the environment.

As described below controller may perform certain operations relating to performing efficient retrieval of events for event timeline generation and or perform operations to maintain event log which may include using a database specifically designed to run on the controller . Controller may perform these operations as a result of hardwired circuitry of an ASIC. Controller may also or alternatively perform these operations in response to processor executing software instructions contained in a computer readable medium such as memory . A computer readable medium may be defined as a non transitory memory device. A memory device may be implemented within a single physical memory device or spread across multiple physical memory devices. The software instructions may be read into memory from another computer readable medium or from another device. The software instructions contained in memory may cause processor to perform processes described herein. Thus implementations described herein are not limited to any specific combination of hardware circuitry and software.

Peripheral devices may include one or more devices that provide information to controller that are controlled by controller and or that otherwise communicate with controller . In one embodiment peripheral devices may include any type of security device. For example peripheral devices may include security devices such as a reader device a lock device a sensor and or an actuator . A peripheral device may include any type security device that can provide credentials and may further include combinations of the types of peripheral devices listed above. For example a reader can be any type of device providing credentials and may use one or more sensors such as a camera and or microphone to accomplish its task. While a single reader device a single lock device a single sensor and a single actuator are shown in for illustrative purposes in practice peripheral devices may include multiple reader devices multiple lock devices multiple sensors and or multiple actuators . In some embodiments peripheral devices may also not include one or more of the devices shown in . Moreover the peripheral devices may include any type monitoring device which can produce a sequence of data associated with time and thus provide data associated with the events stored in event log .

Reader device may include a device that reads credentials from a user and provides the credentials to controller . For example reader device may include a keypad configured to receive an alphanumeric personal identification number PIN from a user a card reader to configure a card that stores a card code on a magnetic strip or another type of storage device such as an RFID tag a fingerprint reader configured to read a user s fingerprint an iris reader configured to read a user s iris a microphone and a voice signature identifier configured to record a user s voice signature and or another type of reader device. Reader device may also include any type security device that can provide credentials and may include one or more sensor devices such any sensor device described with reference to sensor . For example reader device may include a camera used for facial recognition and or a microphone used for voice recognition. In these cases a user s voice or face may be used as a user s credential.

Lock device may include a lock controlled by controller . Lock device may lock a door e.g. prevent it from opening or closing a window an HVAC vent and or another type of access opening to a secure area. For example lock device may include an electromagnetic lock a mechanical lock with a motor controlled by controller an electromechanical lock and or another type of lock.

Sensor may include any type of sensor device. As examples sensor may include a door sensor to sense whether a door is open or closed a window sensor to sense whether a window is open or closed a proximity sensor a visible light monitoring device an infrared IR light monitoring device a heat signature monitoring device and or another type of monitoring device an alarm sensor such as a motion sensor a heat sensor a pressure sensor and or another type of alarm sensor a tamper sensor such as a position sensor located inside unit a touch sensor e.g. a request to exit button located within a secure area associated with unit and or another type of sensor device. Sensor may further include any type of sensor which collects image data video data or a combination thereof along with time data. The collected data may be either recorded in a format consistent with the timeline or may be further processed so as to be consistent with the timeline e.g. compensate for time offsets or clock drifts in sensor .

Actuator may include an actuator device. As an example actuator may control an illumination device. As other examples actuator may include a burglar alarm activator a speaker to play messages or generate alarm signals a display device a motor to move sensor e.g. control the field of view of a camera or other monitoring device a motor for opening closing a door window HVAC vent and or another opening associated with a secure area a motor to secure lock device in a locked or unlocked position a fire extinguishing device and or another type of actuator device.

Although shows exemplary components of unit in other implementations unit may include fewer components different components additional components or differently arranged components than those depicted in . Additionally or alternatively any component of unit or any group of components may be combined with one or more other components of unit . Conversely the functionalities of a component of unit may be distributed over one or more components.

Wall encloses a secure area such as a room in a building. Door provides a user with access to secure area . In this embodiment controller is installed inside secure area . In other embodiments controller may be installed in an insecure area . Reader device is installed outside secure area and lock device is installed inside secure area to wall and door . Sensor in this example is a monitoring device mounted outside secure area in insecure area . Actuator includes a motor used to control the field of view of the monitoring device in this example.

When a user enters credentials into reader device e.g. by entering a PIN scanning an access card scanning an iris etc. controller may use the credentials to authenticate the identity of the user and may perform a lookup in an access rules table to determine whether to grant access to the user based on the identity of the user and the access rules. If controller determines that access should be granted controller activates lock device to unlock door thus granting access to the user to secure area .

Although shows exemplary components of physical layout in other implementations physical layout may include fewer components different components additional components or differently arranged components than depicted in . Additionally or alternatively any one component or group of components in physical layout may perform a task or tasks described as performed by one or more other components of physical layout .

In this example units A to F do not include a central controlling device e.g. a server and may include one or more distributed datasets. For example units A through F may maintain a distributed credentials table a distributed access rules table and or a distributed events log. Assume an administrator uses administration device to log into unit A to add a user and to add credentials associated with a user. The added credentials may be distributed to the other units that control doors to rooms to which the user has access. If unit B fails for example data collected by unit B may continue to be available as a result of a distributed events log included in the other DPACS units.

Although shows exemplary components of physical layout in other implementations physical layout may include fewer components different components additional components or differently arranged components than depicted in . For example in another embodiment a central controlling device e.g. a server may be used in conjunction with one or more distributed datasets. Additionally or alternatively one or more components of physical layout may perform one or more tasks described as performed by one or more other components of physical layout .

Bus includes a path that permits communication among the components of server . Processor may include any type of single core processor multi core processor microprocessor latch based processor and or processing logic or families of processors microprocessors and or processing logics that interprets and executes instructions. In other embodiments processor may include an application specific integrated circuit ASIC a field programmable gate array FPGA and or another type of integrated circuit or processing logic. For example the processor may be an x86 based CPU and may use any operating system which may include varieties of the Windows UNIX and or Linux. The processor may also use high level analysis software packages and or custom software written in any programming and or scripting languages. For example server may use any type of database software such as for example MySQL Oracle Database Microsoft SQL Server etc. for adding updating and or deleting records from event log .

Memory may include any type of dynamic storage device that may store information and or instructions for execution by processor and or any type of non volatile storage device that may store information for use by processor . For example memory may include a RAM or another type of dynamic storage device a ROM device or another type of static storage device a CAM a magnetic and or optical recording memory device and its corresponding drive e.g. a hard disk drive optical drive etc. and or a removable form of memory such as a flash memory. Mass storage device may include any type of on board device suitable for storing large amounts of data and may include one or more hard drives solid state drives and or various types of RAID arrays. Mass storage device would be suitable for storing files associated with event log which may include any type of database file.

Input device which may be optional can allow an operator to input information into administration sever if required. Input device may include for example a keyboard a mouse a pen a microphone a remote control an audio capture device an image and or video capture device a touch screen display and or another type of input device. In some embodiments server may be managed remotely and may not include input device .

Output device may output information to an operator of server . Output device may include a display a printer a speaker and or another type of output device. For example server may include a display which may include a liquid crystal display LCD . In some embodiments server may be managed remotely and may not include output device .

Communication interface may include a transceiver that enables server to communicate over network with other devices and or systems. The communications interface may be a wireless communications e.g. RF infrared and or visual optics etc. wired communications e.g. conductive wire twisted pair cable coaxial cable transmission line fiber optic cable and or waveguide etc. or a combination of wireless and wired communications. Communication interface may include a transmitter that converts baseband signals to RF signals and or a receiver that converts RF signals to baseband signals. Communication interface may be coupled to an antenna for transmitting and receiving RF signals.

Communication interface may include a logical component that includes input and or output ports input and or output systems and or other input and output components that facilitate the transmission reception of data to from other devices. For example communication interface may include a network interface card e.g. Ethernet card for wired communications and or a wireless network interface e.g. a WiFi card for wireless communications. Communication interface may also include a USB port for communications over a cable a Bluetooth wireless interface an RFID interface an NFC wireless interface and or any other type of interface that converts data from one form to another form.

As described below server may perform certain operations relating to efficient retrieval of events for timeline generation. Server may perform these operations in response to processor executing software instructions contained in a computer readable medium such as memory and or mass storage . The software instructions may be read into memory from another computer readable medium or from another device. The software instructions contained in memory may cause processor to perform processes described herein. Alternatively hardwired circuitry may be used in place of or in combination with software instructions to implement processes described herein. Thus implementations described herein are not limited to any specific combination of hardware circuitry and software.

Although shows exemplary components of server in other implementations server may include fewer components different components additional components or differently arranged components than depicted in . Additionally or alternatively one or more components of server may perform one or more tasks described as performed by one or more other components of server .

The process includes initially receiving information to define the interval of interest and the partition size block . The received information may have been sent from client . The received information may be provided with respect to a timeline and may include receiving a start time and an end time to define the interval of interest. The received information may have been provided by a user through a GUI where the received start time end time and partition size have been defined graphically at client . In alternative embodiments the information may further include metadata which can be used to filter events. Such metadata my include position information e.g. GPS coordinates addresses etc. the type of peripheral device which generated the data associated with the event e.g. camera type manufacturer serial number etc. the media type that is associated with the event e.g. video image etc. and metadata associated with the media e.g. frames per second compression type format audio etc. .

Process also includes dividing timeline into segments based on the partition size block . The partition size may be specified by the user via a graphical user interface at client .

Process also includes identifying each segment having one or more relevant events within the segment block . A relevant event may be an event which starts within a segment and overlaps with the interval of interest. The identification in block may further be refined by filtering based on the metadata described above.

For example in an embodiment server classifies events based on peripheral device s associated with the events e.g. the events are observed at different devices and filters relevant events based on the classification. Alternatively the server may classify events based on information determined from collected data and filter relevant events based on the classification. In an embodiment peripheral devices may include one or more video cameras for collecting video data associated with the events. The collected data may describe for example motion of objects in the image e.g. entering or leaving a room identify recognized objects within an image or video characterize audio etc.

In another embodiment server identifies events in block using two SQL queries. Server performs a first SQL query on event log to determine events which overlap in time with the interval of interest to identify events of interest. Server then performs a second SQL query on the event log for each segment to ascertain whether any events of interest start in the queried segment. If so server classifies the ascertained events as relevant events for the queried segment. Server then determines parameters associated with one or more relevant events for each identified segment block and then provides the determined parameters along with an index which designates each identified segment for presentation on a timeline block . The parameters may be provided to client for generation of a timeline as discussed in below.

The user may specify the dates when the data was collected and or adjust the scale of timeline graphic using time entry controls . For example a specific date may be entered using a calendar style widget illustrated to the left. The scale of timeline graphic may be specified using different button controls. As shown in the HOUR button is selected and thus timeline graphic is presented in units of hours which are labeled in four hour increments above timeline graphic .

In an embodiment client allows the user to select specific events of interest using the timeline graphic by graphically selecting one or more an intervals of interest based on one or more graphic input indicators . The location of graphic input indicators on timeline graphic indicates the time at which the interval of interest occurred and the size and or shape of graphic input indicators may indicate the duration of the interval of interest. The client may accept the pixel locations and or extents and convert these to time values based on the scale of timeline graphic and then provide these values to server for example as start and end times for each interval of interest. Additionally the user may also specify the partition size based on input control to specify how finely the timeline will be segmented for processing by server . In addition to specifying the intervals of interest the user may further filter events using an event filter control which may specify additional criteria and or metadata as mentioned above to specify events of interest using parameters besides time. For example events may be further filtered based on position device type metadata subject etc.

Once client receives one or more of the aforementioned user inputs it may then provide the user input information to server in the form of a request. Server may then retrieve events from event log which are associated with the user provided inputs and generate a response providing information regarding relevant events back to client over network . Client may display the information received from server on timeline graphic in the form of graphic output indicators . The graphic output indicators may indicate the relevant events by their relative placement on the timeline graphic . For example a graphic output indicator may be placed on timeline graphic based upon its earliest start time t for nsegment in which it was found as listed in data structure . Additionally a number may be displayed in each graphic output indicator which may correspond to the count as provided in data structure . In other embodiments the count may be indicated by the size of a graphic output indicator .

Once client presents the relevant events to the user on timeline graph as described above the user may select any graphic output indicator to examine the data associated with the event. For example if the events are associated with video data selecting a graphic output indicator can cause the client to further retrieve video associated with the event and display the video on main video window . If multiple cameras are associated with the selected event the user may select which camera s video to display using camera selection controls .

This application incorporates by reference the following applications filed the same day as the present patent application U.S. application Ser. No. 14 028 118 titled Control System Configuration Within an Operational Environment U.S. application Ser. No. 14 028 236 titled Anonymous Decisions in an Access Control System U.S. application Ser. No. 14 028 243 titled Consensus Loss in Distributed Control Systems U.S. application Ser. No. 14 028 059 titled Joining a Distributed Database U.S. application Ser. No. 14 028 198 titled Distributed Events in an Access Control System U.S. application Ser. No. 14 028 230 titled Managing Application Data in Distributed Control Systems and U.S. application Ser. No. 14 028 208 titled Distribution of User Credentials .

In the preceding specification various embodiments have been described with reference to the accompanying drawings. It will however be evident that various modifications and changes may be made thereto and additional embodiments may be implemented without departing from the broader scope of the invention as set forth in the claims that follow. The specification and drawings are accordingly to be regarded in an illustrative rather than restrictive sense.

For example while series of blocks have been described with respect to and and an order of signal and or logic have been described with respect to the order of the blocks logic flows and or signal flows may be modified in other implementations. Further non dependent blocks and or signal flows may be performed in parallel.

It will be apparent that systems and or processes as described above may be implemented in many different forms of software firmware and hardware in the implementations illustrated in the figures. The actual software code or specialized control hardware used to implement these systems and processes is not limiting of the embodiments. Thus the operation and behavior of the systems and processes were described without reference to the specific software code it being understood that software and control hardware can be designed to implement the systems and processes based on the description herein.

Further certain portions described above may be implemented as a component that performs one or more functions. A component as used herein may include hardware such as a processor an ASIC or a FPGA or a combination of hardware and software e.g. a processor executing software .

The terms comprises and comprising specify the presence of stated features integers steps or components but does not preclude the presence or addition of one or more other features integers steps components or groups thereof. The word exemplary is used to mean serving as an example instance or illustration of more than one example. Any embodiment described herein as exemplary does not necessarily imply it to be preferred or advantageous over other embodiments.

No element act or instruction used in the present application should be construed as critical or essential to the embodiments unless explicitly described as such. Also as used herein the article a is intended to include one or more items. Further the phrase based on is intended to mean based at least in part on unless explicitly stated otherwise.

