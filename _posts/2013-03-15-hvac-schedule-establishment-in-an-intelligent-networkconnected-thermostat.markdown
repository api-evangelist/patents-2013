---

title: HVAC schedule establishment in an intelligent, network-connected thermostat
abstract: HVAC schedules may be programmed for a thermostat using a combination of pre-existing schedules or templates and automated schedule learning. For example, a pre-existing schedule may be initiated on the thermostat and the automated schedule learning may be used to update the pre-existing schedule based on users' interactions with the thermostat. The preexisting HVAC schedules may be stored on a device or received from a social networking service or another online service that includes shared HVAC schedules.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09256230&OS=09256230&RS=09256230
owner: Google Inc.
number: 09256230
owner_city: Mountain View
owner_country: US
publication_date: 20130315
---
This application is a continuation in part of the following commonly assigned applications U.S. application Ser. No. 13 632 041 filed Sep. 30 2012 PCT US2012 20026 filed Jan. 3 2012 and U.S. application Ser. No. 13 269 501 filed Oct. 7 2011. U.S. application Ser. No. 13 632 041 claims the benefit of U.S. Provisional Application No. 61 550 346 filed Oct. 21 2011. International Application No. PCT US2012 20026 claims the benefit of International Application No. PCT US11 61437 filed Nov. 18 2011 U.S. Ser. No. 13 317 423 filed Oct. 17 2011 and U.S. Prov. Ser. No. 61 429 093 filed Dec. 31 2010. U.S. application Ser. No. 13 269 501 is a continuation in part of U.S. application Ser. No. 13 033 573 filed Feb. 23 2011 and furthermore claims the benefit of U.S. U.S. Prov. Ser. No. 61 429 093 and U.S. Prov. Ser. No. 61 415 771 filed Nov. 19 2010. Each of the above referenced applications is incorporated by reference herein.

The above referenced patent applications are collectively referenced herein below as the commonly assigned incorporated applications. 

This patent specification relates to systems methods and related computer program products for the monitoring and control of energy consuming systems or other resource consuming systems. More particularly this patent specification relates to user interfaces for control units that govern the operation of energy consuming systems household devices or other resource consuming systems including user interfaces for thermostats that govern the operation of heating ventilation and air conditioning HVAC systems.

While substantial effort and attention continues toward the development of newer and more sustainable energy supplies the conservation of energy by increased energy efficiency remains crucial to the world s energy future. According to an October 2010 report from the U.S. Department of Energy heating and cooling account for 56 of the energy use in a typical U.S. home making it the largest energy expense for most homes. Along with improvements in the physical plant associated with home heating and cooling e.g. improved insulation higher efficiency furnaces substantial increases in 5 energy efficiency can be achieved by better control and regulation of home heating and cooling equipment. By activating heating ventilation and air conditioning HVAC equipment for judiciously selected time intervals and carefully chosen operating levels substantial energy can be saved while at the same time keeping the living space suitably comfortable for its occupants.

Some thermostats offer programming abilities that provide the potential for balancing user comfort and energy savings. However users are frequently intimidated by a dizzying array of switches and controls. Thus the thermostat may frequently resort to default programs thereby reducing user satisfaction and or energy saving opportunities.

Provided according to some embodiments are methods for programming a device such as a thermostat for control of an HVAC system. Configurations and positions of device components allow for the device to improve energy conservation and to simultaneously allow users to experience pleasant interactions with the device e.g. to set preferences . HVAC schedules may be programmed for the device using a combination of pre existing HVAC schedules or template schedules and automated schedule learning. For example a pre existing schedule may be initiated on the thermostat and the automated schedule learning may be used to update the pre existing schedule based on users interactions with the thermostat. The preexisting HVAC schedules may be stored on a device or received from a social networking service or another online service that includes shared HVAC schedules.

According to some embodiments a method for programming an HVAC schedule for a thermostat is provided. The method includes generating one or more input options on a schedule interface receiving input corresponding to one or more responses to the one or more input options wherein the input is received at the schedule interface selecting an HVAC schedule from one or more of a plurality of pre existing HVAC schedules stored on the thermostat wherein the selection of the HVAC schedule is based on the received input associating the thermostat with the selected HVAC schedule wherein associating includes initiating the selected HVAC schedule on the thermostat receiving during a time period subsequent to the association input corresponding to one or more temperature control selections wherein the input is received on a control interface generating an updated HVAC schedule based on the selected HVAC schedule and the one or more temperature control selections and associating the thermostat with the updated HVAC schedule wherein associating includes initiating the updated HVAC schedule on the thermostat.

According to some embodiments a method for programming an HVAC schedule for a thermostat is provided. The method includes receiving input corresponding to a selection of a pre existing HVAC schedule wherein the pre existing HVAC schedule was shared on a social networking service associating the thermostat with the selected pre existing HVAC schedule wherein associating includes initiating the selected pre existing HVAC schedule on the thermostat receiving during a time period subsequent to the association input corresponding to one or more temperature control selections wherein the input is received on a control interface generating an updated HVAC schedule based on the selected pre existing HVAC schedule and the one or more temperature control selections and associating the thermostat with the updated HVAC schedule wherein associating includes initiating the updated HVAC schedule on the thermostat.

To better understand the nature and advantages of the present invention reference should be made to the following description and the accompanying figures. It is to be understood however that each of the figures is provided for the purpose of illustration only and is not intended as a definition of the limits of the scope of the present invention. Also as a general rule and unless it is evident to the contrary from the description where elements in different figures use identical reference numbers the elements are generally either identical or at least similar in function or purpose.

The present invention will now be described in detail with reference to certain embodiments thereof as illustrated in the accompanying drawings. In the following description numerous specific details are set forth in order to provide a thorough understanding of the present invention. It will be apparent however to one skilled in the art that the present invention may be practiced without some or all of these specific details. In other instances well known details have not been described in detail in order not to unnecessarily obscure the present invention.

Provided according to one or more embodiments are systems methods computer program products and related business methods for controlling and or programming one or more HVAC systems based on one or more versatile sensing and control units VSCU units each VSCU unit being configured and adapted to provide sophisticated customized energy saving HVAC control functionality while at the same time being visually appealing non intimidating elegant to behold and delightfully easy to use. The term thermostat is used hereinbelow to represent a particular type of VSCU unit Versatile Sensing and Control that is particularly applicable for HVAC control in an enclosure. Although thermostat and VSCU unit may be seen as generally interchangeable for the contexts of HVAC control of an enclosure it is within the scope of the present teachings for each of the embodiments hereinabove and hereinbelow to be applied to VSCU units having control functionality over measurable characteristics other than temperature e.g. pressure flow rate height position velocity acceleration capacity power loudness brightness for any of a variety of different control systems involving the governance of one or more measurable characteristics of one or more physical systems and or the governance of other energy or resource consuming systems such as water usage systems air usage systems systems involving the usage of other natural resources and systems involving the usage of various other forms of energy. Each VSCU unit includes a user interface component such as a rotatable ring. Using the ring a user can easily navigate through and select between selection options e.g. to set a temperature setpoint or identify preferences . For example a user may rotate a ring e.g. in a clockwise direction a processing system may dynamically identify a setpoint temperature value e.g. higher than a previous value based on rotational input an electronic display may dynamically display a digital numerical value representative of the identified setpoint temperature value. Further the user may be able to view and or navigate through a menuing system using the ring. For example a user input e.g. inwards pressure on the ring may result in a presentation of a menuing system on the display. A user may rotate the ring to e.g. scroll through selection options and select an option by pressing on the ring. Inwards pressure on the ring may cause a distinct sensory response e.g. a clicking sound or feel that may confirm to the user that the selection has been made. In some instances the ring is the primary or only user input component within the VSCU. Thus a user will not be intimidated by a large number of controls and will be able to easily understand how to interact with the unit.

Nevertheless each VSCU unit may be advantageously provided with a selectively layered functionality such that unsophisticated users are only exposed to a simple user interface but such that advanced users can access and manipulate many different energy saving and energy tracking capabilities. For example an advanced user may be able to set a plurality of time dependent temperature setpoints i.e. scheduled setpoints through thermostat interactions via the rotatable ring while an unsophisticated user may limit such interactions to only set seemingly or actually static setpoints. Importantly even for the case of unsophisticated users who are only exposed to the simple user interface the VSCU unit provides advanced energy saving functionality that runs in the background the VSCU unit quietly using multi sensor technology to learn about the home s heating and cooling environment and optimizing the energy saving settings accordingly.

The VSCU unit also learns about the users themselves through user interactions with the device e.g. via the rotatable ring and or through automatic learning of the users preferences. For example in a congenial setup interview a user may respond to a few simple questions e.g. by rotating the rotatable ring to a position at which a desired response option is displayed . Multi sensor technology may later be employed to detect user occupancy patterns e.g. what times of day they are home and away and a user s control over set temperature on the dial may be tracked over time. The multi sensor technology is advantageously hidden away inside the VSCU unit itself thus avoiding the hassle complexity and intimidation factors associated with multiple external sensor node units. On an ongoing basis the VSCU unit processes the learned and sensed information according to one or more advanced control algorithms and then automatically adjusts its environmental control settings to optimize energy usage while at the same time maintaining the living space at optimal levels according to the learned occupancy patterns and comfort preferences of the user. Even further the VSCU unit is programmed to promote energy saving behavior in the users themselves by virtue of displaying at judiciously selected times on its visually appealing user interface information that encourages reduced energy usage such as historical energy cost performance forecasted energy costs and even fun game style displays of congratulations and encouragement.

Advantageously the selectively layered functionality of the VSCU unit allows it to be effective for a variety of different technological circumstances in home and business environments thereby making the same VSCU unit readily saleable to a wide variety of customers. For simple environments having no wireless home network or internet connectivity the VSCU unit operates effectively in a standalone mode being capable of learning and adapting to its environment based on multi sensor technology and user input and optimizing HVAC settings accordingly. However for environments that do indeed have home network or internet connectivity the VSCU unit can operate effectively in a network connected mode to offer a rich variety of additional capabilities.

It is to be appreciated that while one or more embodiments is detailed herein for the context of a residential home such as a single family house the scope of the present teachings is not so limited the present teachings being likewise applicable without limitation to duplexes townhomes multi unit apartment buildings hotels retail stores office buildings industrial buildings and more generally any living space or work space having one or more HVAC systems. It is to be further appreciated that while the terms user customer installer homeowner occupant guest tenant landlord repair person and the like may be used to refer to the person or persons who are interacting with the VSCU unit or other device or user interface in the context of some particularly advantageous situations described herein these references are by no means to be considered as limiting the scope of the present teachings with respect to the person or persons who are performing such actions. Thus for example the terms user customer purchaser installer subscriber and homeowner may often refer to the same person in the case of a single family residential dwelling because the head of the household is often the person who makes the purchasing decision buys the unit and installs and configures the unit and is also one of the users of the unit and is a customer of the utility company and or VSCU data service provider. However in other scenarios such as a landlord tenant environment the customer may be the landlord with respect to purchasing the unit the installer may be a local apartment supervisor a first user may be the tenant and a second user may again be the landlord with respect to remote control functionality. Importantly while the identity of the person performing the action may be germane to a particular advantage provided by one or more of the embodiments for example the password protected temperature governance functionality described further herein may be particularly advantageous where the landlord holds the sole password and can prevent energy waste by the tenant such identity should not be construed in the descriptions that follow as necessarily limiting the scope of the present teachings to those particular individuals having those particular identities.

It is to be appreciated that although exemplary embodiments are presented herein for the particular context of HVAC system control there are a wide variety of other resource usage contexts for which the embodiments are readily applicable including but not limited to water usage air usage the usage of other natural resources and the usage of other i.e. non HVAC related forms of energy as would be apparent to the skilled artisan in view of the present disclosure. Therefore such application of the embodiments in such other resource usage contexts is not outside the scope of the present teachings.

As used herein setpoint or temperature setpoint or temperature selections may refer to a target temperature setting of a temperature control system such as one or more of the VSCU units described herein as set by a user or automatically according to a schedule. As would be readily appreciated by a person skilled in the art many of the disclosed thermostatic functionalities described hereinbelow apply in counterpart application to both the heating and cooling contexts with the only different being in the particular setpoints and directions of temperature movement. To avoid unnecessary repetition some examples of the embodiments may be presented herein in only one of these contexts without mentioning the other. Therefore where a particular embodiment or example is set forth hereinbelow in the context of home heating the scope of the present teachings is likewise applicable to the counterpart context of home cooling and vice versa to the extent such counterpart application would be logically consistent with the disclosed principles as adjudged by the skilled artisan.

The detailed description includes three subsections 1 overview of VSCU unit smart home environment 2 automated control schedule learning in the context of a VSCU unit and 3 HVAC schedule establishment in a VSCU unit. The first subsection provides a description of one area technology that offers many opportunities for of application and incorporation of automated control schedule learning methods. The second subsection provides a detailed description of automated control schedule learning including a first general implementation. The third subsection provides specific examples of establishing HVAC schedules using a combination of pre existing HVAC schedules and automated control schedule learning.

The outer ring preferably has an outer finish identical to that of the main body while the sensor ring and circular display monitor have a common circular glass or plastic outer covering that is gently arced in an outward direction and that provides a sleek yet solid and durable looking overall appearance. The outer ring may be disposed along a front face of a housing of the VSCU unit . The front face may be circular and the housing may be disk like in shape. The outer ring may substantially surround the circular display monitor or substantially surround a portion of the circular display monitor visible to a user. The outer ring may be generally coincident with an outer lateral periphery of said disk like shape as illustrated e.g. in .

The sensor ring contains any of a wide variety of sensors including without limitation infrared sensors visible light sensors and acoustic sensors. Preferably the glass or plastic that covers the sensor ring is smoked or mirrored such that the sensors themselves are not visible to the user. An air venting functionality is preferably provided such as by virtue of the peripheral gap which allows the ambient air to be sensed by the internal sensors without the need for visually unattractive gills or grill like vents.

For one embodiment the inward push of only causes the outer ring to move forward while in another embodiment the entire cap like structure including both the outer ring and the glass covering of the sensor ring and circular display monitor move inwardly together when pushed. Preferably the sensor ring the circular display monitor and their common glass covering do not rotate with outer ring .

By virtue of user rotation of the outer ring referenced hereafter as a ring rotation and the inward pushing of the outer ring referenced hereinafter as an inward click responsive to intuitive and easy to read prompts on the circular display monitor the VSCU unit is advantageously capable of receiving all necessary information from the user for basic setup and operation. Preferably the outer ring is mechanically mounted in a manner that provides a smooth yet viscous feel to the user for further promoting an overall feeling of elegance while also reducing spurious or unwanted rotational inputs. According to various implementations the outer ring rotates on plastic bearings and uses an optical digital encoder to measure the rotational movement and or rotational position of the outer ring . In accordance with alternate implementations other technologies such as mounting the outer ring on a central shaft may be employed. For one embodiment the VSCU unit recognizes three fundamental user inputs by virtue of the ring rotation and inward click 1 ring rotate left 2 ring rotate right and 3 inward click.

According to some implementations multiple types of user input may be generated depending on the way a pushing inward of head unit front including the outer ring is effectuated. In some implementations a single brief push inward of the outer ring until the audible and or tactile click occurs followed by a release single click can be interpreted as one type of user input also referred to as an inward click . In other implementations pushing the outer ring in and holding with an the inward pressure for an amount of time such as 1 3 seconds can be interpreted as another type of user input also referred to as a press and hold . According to some further implementations other types of user input can be effectuated by a user such as double and or multiple clicks and pressing and holding for longer and or shorter periods of time. According to other implementations speed sensitive or acceleration sensitive rotational inputs may also be implemented to create further types of user inputs e.g. a very large and fast leftward rotation specifies an Away occupancy state while a very large and fast rightward rotation specifies an Occupied occupancy state .

Although the scope of the present teachings is not so limited it is preferred that there not be provided a discrete mechanical HEAT COOL toggle switch or HEAT OFF COOL selection switch or HEAT FAN OFF COOL switch anywhere on the VSCU unit this omission contributing to the overall visual simplicity and elegance of the VSCU unit while also facilitating the provision of advanced control abilities that would otherwise not be permitted by the existence of such a switch. It is further highly preferred that there be no electrical proxy for such a discrete mechanical switch e.g. an electrical push button or electrical limit switch directly driving a mechanical relay . Instead it is preferred that the switching between these settings be performed under computerized control of the VSCU unit responsive to its multi sensor readings its programming optionally in conjunction with externally provided commands data provided over a data network and or the above described ring rotation and inward click user inputs.

The VSCU unit comprises physical hardware and firmware configurations along with hardware firmware and software programming that is capable of carrying out the functionalities described explicitly herein or in one of the commonly assigned incorporated applications. In view of the instant disclosure a person skilled in the art would be able to realize the physical hardware and firmware configurations and the hardware firmware and software programming that embody the physical and functional features described herein without undue experimentation using publicly available hardware and firmware components and known programming tools and development platforms. Similar comments apply to described devices and functionalities extrinsic to the VSCU unit such as devices and programs used in remote data storage and data processing centers that receive data communications from and or that provide data communications to the VSCU unit . By way of example references hereinbelow to machine learning and mathematical optimization algorithms as carried out respectively by the VSCU unit in relation to home occupancy prediction and setpoint optimization for example can be carried out using one or more known technologies models and or mathematical strategies including but not limited to artificial neural networks Bayesian networks genetic programming inductive logic programming support vector machines decision tree learning clustering analysis dynamic programming stochastic optimization linear regression quadratic regression binomial regression logistic regression simulated annealing and other learning forecasting and optimization techniques.

In either case the VSCU unit can advantageously serve as an inertial wedge for inserting an entire energy saving technology platform into the home. Simply stated because most homeowners understand and accept the need for home to have a thermostat even the most curmudgeonly and techno phobic homeowners will readily accept the simple non intimidating and easy to use VSCU unit into their homes. Once in the home of course the VSCU unit will advantageously begin saving energy for a sustainable planet and saving money for the homeowner including the curmudgeons. Additionally however as homeowners warm up to the VSCU unit platform and begin to further appreciate its delightful elegance and seamless operation they will be more inclined to take advantage of its advanced features and they will furthermore be more open and willing to embrace a variety of compatible follow on products and services as are described further hereinbelow. This is an advantageous win win situation on many fronts because the planet is benefiting from the propagation of energy efficient technology while at the same time the manufacturer of the VSCU unit and or their authorized business partners can further expand their business revenues and prospects. For clarity of disclosure the term VSCU Efficiency Platform refers herein to products and services that are technologically compatible with the VSCU unit and or with devices and programs that support the operation of the VSCU unit .

Some implementations of the VSCU unit incorporate one or more sensors to gather data from the environment associated with the house . Sensors incorporated in VSCU unit may detect occupancy temperature light and other environmental conditions and influence the control and operation of HVAC system . VSCU unit uses a grille member not shown in implemented in accordance with the present invention to cover the sensors. In part the grille member of the present invention adds to the appeal and attraction of the VSCU unit as the sensors in the VSCU unit do not protrude or attract attention from occupants of the house and the VSCU unit fits with almost any decor. Keeping sensors within the VSCU unit also reduces the likelihood of damage and loss of calibration during manufacture delivery installation or use of the VSCU unit . Yet despite covering these sensors the specialized design of the grille member facilitates accurately gathering occupancy temperature and other data from the environment. Further details on this design and other aspects of the grille member are also described in detail later herein.

The HVAC system is selectively actuated via control electronics that communicate with the VSCU unit over control wires . Thus for example as known in the art for a typical simple scenario of a four wire configuration in which the control wires consist of power R heat W cool Y and fan G the VSCU unit will short circuit W to R to actuate a heating cycle and then disconnect W from R to end the heating cycle will short circuit Y to R to actuate a cooling cycle and then disconnect Y from R to end the cooling cycle and will short circuit G to R to turn on the fan and then disconnect G from R to turn off the fan . For a heating mode when VSCU unit determines that an ambient temperature is below a lower threshold value equal to a setpoint temperature minus a swing value the heating cycle will be actuated until the ambient temperature rises to an upper threshold value equal to the setpoint value plus the swing value. For a cooling mode when VSCU unit determines that an ambient temperature is above an upper threshold value equal to a setpoint temperature plus a swing value the cooling cycle will be actuated until the ambient temperature lowers to a lower threshold value equal to the setpoint value minus the swing value. Without limitation the swing values for heating and cooling can be the same or different the upper and lower swing amounts can be symmetric or asymmetric and the swing values can be fixed dynamic or user programmable all without departing from the scope of the present teachings.

When this happens as illustrated in the circular display monitor e.g. an electronic display displays a digital numerical representation of the current setpoint in a large font at a center readout . The representation may be rounded to the nearest degree F. or half degree C. or otherwise include a different number of significant digits as compared to an actual internally used current setpoint temperature.

Also displayed is a setpoint icon disposed along a periphery of the circular display monitor at a location that is spatially representative the current setpoint. Although it is purely electronic the setpoint icon is reminiscent of older mechanical thermostat dials and advantageously imparts a feeling of familiarity for many users as well as a sense of tangible control.

Notably the example of assumes a scenario for which the actual current temperature of 68 is equal to the setpoint temperature of 68 when the user has walked up to the VSCU unit . For a case in which the user walks up to the VSCU unit when the actual current temperature is different than the setpoint temperature the display would also include an actual temperature readout and a trailing icon which are described further below in the context of .

Referring now to as the user turns the outer ring clockwise a digital numerical representation of the increasing value of the setpoint temperature is instantaneously provided at the center readout and the setpoint icon moves in a clockwise direction around the periphery of the circular display monitor to a location representative of the increasing setpoint. Thus a user receives instant feedback about an effect of his rotation and may thus tailor a degree of his ring rotation accordingly. Relationships between ring rotations and selection options may be pre established. For example there may be a constant or non constant relationship between a degree of ring rotation and a change in temperature setpoints. Defining the relationship based on angular rotation rather than an absolute angular position allows for the ring to easily be used for multiple variable options.

Whenever the actual current temperature is different than the setpoint temperature a representation e.g. a digital numeric representation of an actual temperature readout is provided in relatively small digits along the periphery of the circular a location spatially representative the actual current temperature. Further provided is a trailing icon which could alternatively be termed a tail icon or difference indicating that extends between the location of the actual temperature readout and the setpoint icon . Further provided is a time to temperature readout that is indicative of a prediction as computed by the VSCU unit of the time interval required for the HVAC system to bring the temperature from the actual current temperature to the setpoint temperature.

In some embodiments user interactions with the VSCU unit by virtue of manipulations of the outer ring are analyzed and non numeric indicators e.g. related to environmental favorability of the action are presented to the user. illustrate a dynamic user interface for encouraging reduced energy use according to a preferred embodiment. The method of are preferably incorporated into the time to temperature user interface method of supra although the scope of the present teachings is not so limited. As would be readily appreciated by a person skilled in the art disclosure relating to the heating context could similarly apply to a cooling context. Where as in the heating setpoint is currently set to a value known to be within a first range known to be good or appropriate for energy conservation a pleasing positive reinforcement icon such as the green leaf is displayed. As the user turns up the heat see the green leaf continues to be displayed as long as the setpoint remains in that first range. However as the user continues to turn up the setpoint to a value greater than the first range see there is displayed a negatively reinforcing icon indicative of alarm consternation concern or other somewhat negative emotion such icon being for example a flashing red version of the leaf or a picture of a smokestack or the like. It is believed that the many users will respond to the negatively reinforcing icon by turning the setpoint back down and as illustrated in if the user returns the setpoint to a value lying in the first range they are rewarded by the return of the green leaf . Many other types of positive emotion icons or displays can be used in place of the green leaf and likewise many different negatively reinforcing icons or displays can be used in place of the flashing red leaf while remaining within the scope of the present teachings.

For one embodiment the VSCU unit is designed to be entirely silent unless a user has walked up and begun controlling the unit. Advantageously there are no clicking type annoyances when the heating or cooling units are activated as with conventional prior art thermostats. Optionally the VSCU unit can be configured to synthesize artificial audible clicks such as can be output through a piezoelectric speaker to provide tick feedback as the user dials through different temperature settings. Thus in some instances VSCU unit includes an audio output device configured to output synthesized audible ticks through said audio output device in correspondence with user rotation of the outer ring .

Via the single outer ring a user may easily be able to perform multiple types of interactions with the VSCU unit . For example as described above the user may be able to set a setpoint temperature value. Other types of interactions may additionally be performed using the rotating and clicking features of the same outer ring . A selection component e.g. ring and electronic display may enable a user to e.g. 1 identify a type of variable to be set or information to be input and or 2 identify a value for one or more variables and or for one or more information fields.

For example an HVAC system may include a plurality of variable categories e.g. energy schedule settings heating cooling mode etc. . As described in greater detail below display may be configured to present a circular menu as the user rotates outer ring a different category may appear at or near a top of the display. A user may select a particular type of category by clicking outer ring . Selection of some categories allows a user to view available sub menus. For example rotation of outer ring may cause an apparent translation of the entire screen such that a first sub menu moves off of the screen as a second sub menu moves on to the screen. In some instances the user may be able to instantly interact with the displayed sub menu even without clicking ring .

Each variable and or information field may be defined by a value. The value may include e.g. a numeric value e.g. a setpoint temperature variable is set at 75 a word e.g. a password is set as Password a letter e.g. a thermostat is identified as Thermostat A a selection amongst a plurality of options e.g. smart learning is Enabled etc. An active variable field may be identified based on a user s selection of the variable field a default thermostat state and or other information.

Various value options may then be presented to the user. For example a list of options may be presented in a grid like fashion on the display and a user may move a highlighted option by rotating outer ring . As another example alphanumeric characteristics may be accurately presented around an outer border of electronic display . In some embodiments the options are indicatively presented e.g. by presenting a series of tick marks representing options of evenly spaced values and one or more options e.g. a highlighted option may be expressly presented e.g. by displaying a value of the highlighted option at or near a center of the display . A user may rotate outer ring until a desired option is highlighted. When a selection is highlighted the selection may be confirmed by an inward click input on the outer ring .

FIG. A show example screens of an interactive thermostat menuing system include a rotatable main menu according to some preferred embodiments. As described in further detail below the menuing system may be accessible to a user by an inward pressing of ring i.e. an inward click and the user may be able to navigate through the menuing system by virtue of rotations and inward clicks of the outer ring .

The screens shown according to some embodiments are displayed on a thermostat on a round dot matrix electronic display having a rotatable ring . FIG. A shows an example screen in normal operations. An inward click from the normal display screen causes a circumferential main menu to appear as shown in screen . In this example the main menu displays about the perimeter of the circular display area various menu names such as SETTINGS ENERGY SCHEDULE AWAY DONE as well one or more icons. The top of the circular menu includes an active window that shows the user which menu item will be selected if an inward click is performed at that time. Window is highlighted filled in circumscribed or otherwise marked such that a user can easily identify that a menu item within this window is active.

Upon user rotation of the rotatable ring see supra the menu items turn clockwise or counter clockwise matching the direction of the rotatable ring so as to allow different menu items to be selected. For example screen and show examples displayed in response to a clockwise rotation of the rotatable ring . One example of a rotating menu that rotates responsive to ring rotations according to some embodiments is illustrated in the commonly assigned U.S. Ser. No. 29 399 632 supra. From screen if an inward click is performed by the user then the Settings menu is entered. It has been found that a circular rotating menu such as shown when combined with a rotatable ring and round display area allows for highly intuitive and easy input and so therefore greatly enhances the user interface experience for many users.

Menu items may include text e.g. Schedule and or icons e.g. disks and . shows an example screen that allows for the schedule mode to be entered. shows the selection of a mode icon representing a heating cooling off mode screen the mode icon comprising two disks and and causing the display of a mode menu if it appears in the active window when the user makes an inward click. In screen a small blue disk represents cooling mode and a small orange red disk represents heating mode. According to some embodiments the colors of the disks and match the background colors used for the thermostat as described in greater detail below.

Menu items may further indicate a currently active selection or mode of operation. For example one of disks and in this case the heating disk is highlighted with a colored outline to indicate the current operating mode i.e. heating or cooling of the thermostat. In one alternative embodiment the mode icon can be replaced with the text string HEAT COOL OFF or simply the word MODE .

If in inward click is performed from screen a menu screen appears e.g. using a coin flip transition . In screen the user can view the current mode marked with a check mark . Screen illustrates another way in which rotatable ring may be used to make a selection. A plurality of selection options may be presented with one or more options being emphasized e.g. highlighted . A user may highlight a different option by rotating rotatable ring . For example as a user rotates rotatable ring in a clockwise fashion options further down the list become highlighted. Once the user is satisfied that the desired option is highlighted they may click the ring to confirm the selection. Thus in the example shown in screen a user may rotate rotatable ring clockwise to move the highlighting from HEAT to COOL or OFF. The user may then establish the selection by clicking the ring and thereby change the mode. If COOL is selected then the thermostat will change over to cooling mode such changeover as might be performed in the springtime and the cooling disk icon will highlighted on screens and . The menu can also be used to turn the thermostat off by selecting OFF. In cases the connected HVAC system only has heating or cooling but not both the words HEAT or COOL or OFF are displayed on the menu instead of the colored disks.

Screen has a central disk indicating the name of the sub menu in this case the Fan mode. Some sub menus only contain a few options which can be selected or toggled among by inward clicking alone. For example the Fan sub menu only has two settings automatic shown in screen and always on shown in screen . In this case the fan mode is changed by inward clicking which simply toggles between the two available options. Ring rotation shifts to the next or previous settings sub menu item. Thus rotating the ring from the fan sub menu shift to the system on off sub menu shown in screens in the case of system ON and in the case of system OFF . The system on off sub menu is another example of simply toggling between the two available options using the inward click user input.

Screens and are used to toggle between Celsius and Fahrenheit units according to some embodiments. According to some embodiments if Celsius units is selected then half degrees are displayed by the thermostat when numerical temperature is provided for example a succession of 21 215 22 225 23 235 and so forth in an example in which the user is turning up the rotatable ring on the main thermostat display . According to another embodiment there is another sub menu screen disk not shown that is equivalent to the Brightness and Click Sound disks in the menu hierarchy and which bears one of the two labels SCREEN ON when you approach and SCREEN ON when you press the user being able to toggle between these two options by an inward click when this disk is displayed. When the SCREEN ON when you approach is active the proximity sensor based activation of the electronic display screen is provided as described above with the description accompanying whereas when the SCREEN ON when you press option is selected the electronic display screen does not turn on unless there is a ring rotation or inward click.

For one embodiment the VSCU unit is programmed to provide a software lockout functionality wherein a person is required to enter a password or combination before the VSCU unit will accept their control inputs. The user interface for password request and entry can be similar to that shown in . The software lockout functionality can be highly useful for example for Mom and Dad in preventing their teenager from making unwanted changes to the set temperature for various landlord tenant scenarios and in a variety of other situations.

Thus as exemplified in the menuing system as navigated by outer ring rotations and inward clicks may be used to receive many types of user inputs. The menuing system may further be configured to receive variable inputs from a user. For example a menu may be displayed subsequent to a click on the ring and a user may be able to navigate between variables e.g. a menu a sub menu a setpoint a setting etc. using the outer ring . As another example a double click on the ring may allow a user to view and select between various types of settings e.g. single setpoints time dependent setpoints user profiles etc. . These advanced opportunities may nevertheless remain hidden from a user wishing to enter only the simplest information.

As described below an implementation of automated control schedule learning is included in the aforementioned VSCU unit . For example VSCU unit includes intelligent features that learn about the users beginning with a setup dialog e.g. the setup interview as mentioned above and further described in the paragraphs below corresponding to FIGS. A A in which the user answers a few simple questions and then continuing over time using multi sensor technology to detect user occupancy patterns and to track the way the user controls the temperature using schedule changes and immediate temperature control selections or inputs. In addition to being intelligent as described above VSCU unit may also be connected to a network.

As mentioned above for simple environments having no wireless home network or internet connectivity VSCU unit operates effectively in a standalone mode learning and adapting to an environment based on multi sensor technology and user input. However for environments that have home network or Internet connectivity the intelligent thermostat operates effectively in a network connected mode to offer additional capabilities. For example when VSCU unit is connected to the Internet via a home network such as through IEEE 802.11 Wi Fi connectivity the intelligent thermostat may 1 provide real time or aggregated home energy performance data to a utility company intelligent thermostat data service provider intelligent thermostats in other homes or other data destinations 2 receive real time or aggregated home energy performance data from a utility company intelligent thermostat data service provider intelligent thermostats in other homes or other data sources 3 receive new energy control instructions and or other upgrades from one or more intelligent thermostat data service providers or other sources 4 receive current and forecasted weather information for inclusion in energy saving control algorithm processing 5 receive user control commands from the user s computer network connected television smart phone and or other stationary or portable data communication appliance 6 provide an interactive user interface to a user through a digital appliance 7 receive control commands and information from an external energy management advisor such as a subscription based service aimed at leveraging collected information from multiple sources to generate energy saving control commands and or profiles for their subscribers 8 receive control commands and information from an external energy management authority such as a utility company to which limited authority has been voluntarily given to control the intelligent thermostat in exchange for rebates or other cost incentives 9 provide alarms alerts or other information to a user on a digital appliance based on intelligent thermostat sensed HVAC related events 10 provide alarms alerts or other information to the user on a digital appliance based on intelligent thermostat sensed non HVAC related events and 11 provide a variety of other useful functions enabled by network connectivity. Additional features and details concerning the networking of VSCU unit are described in the paragraphs below corresponding to .

Next an implementation of the above described automated control schedule learning methods for VSCU unit is provided.

The initial learning process represents an aggressive learning approach in which the goal is to quickly establish a basic and at least roughly appropriate HVAC schedule for the user based on a very brief period of automated observation and tracking of user behavior. Once the initial learning process is established the VSCU unit then switches over to a different mode of automated learning termed herein steady state learning which is directed to perceiving and adapting to longer term repeated behaviors of the user and which is described further infra with respect to . In most cases the initial learning process will be instantiated step responsive to a new installation and startup of the VSCU unit in an enclosure such as a residence and more particularly subsequent to a user friendly setup interview which is described further in U.S. Ser. No. 13 269 501 supra. Initial learning can also be instantiated however upon some other event which clears out the existing HVAC schedule hereinafter simply termed a schedule such as a factory reset of the VSCU unit or at the explicit request of the user who may wish for the VSCU unit to start over again with a clean slate.

At step a default beginning schedule is accessed which can be thought of as a sort of clay that will be quickly formed into an at least roughly appropriate schedule for the user by the initial learning process. For one preferred embodiment the beginning schedule is simply a single setpoint that takes effect at 8 AM each day having a single setpoint temperature. This single setpoint temperature is dictated by a user response that is provided near the end of the setup interview or upon re instantiation of initial learning where the user is simply asked whether they want their thermostat to start learning a heating schedule or a cooling schedule. If the user chooses heating then the initial single setpoint temperature is set to 68 degrees F. or some other appropriate heating setpoint temperature and if the user chooses cooling then the initial single setpoint temperature is set to 80 degrees F. or some other appropriate cooling setpoint temperature . In other preferred embodiments the default beginning schedule can be one of a plurality of predetermined or pre existing HVAC schedules or template schedules selected directly or indirectly by the user at the initial setup interview e.g. single person household working family retired couple etc. . illustrates an example of a default beginning schedule having heating setpoints hereinafter simply termed setpoints for the examples presented labeled a through g .

At step a new day of initial learning is instantiated. The selection of a one day period as a basis for initial learning has been found to provide good results. As used herein a basis time period means the period of time over which user behavior is observed and captured before it is processed to produce a next version iteration or refinement of the schedule. While a basis period of one day has been found to provide good results it is to be appreciated that the periodic basis for learning can be other periods of time such multi day blocks of time sub day blocks of time e.g. 6 hours at a time time intervals e.g. weekdays and weekends any other suitable period as 6 hour blocks of time and can even be variable random or continuous. For example when performed in a continuous basis any user setpoint change or scheduled setpoint input can be used as a trigger for processing that information in conjunction with the present schedule to produce a next version iteration or refinement of the schedule. For one preferred embodiment in which the VSCU unit is a power stealing thermostat having a rechargeable battery the period of one day has been found to provide a suitable balance between the freshness of the schedule revisions and the need to maintain a modest computing load on the head unit microprocessor to preserve battery power. Therefore in the discussion that follows it is to be appreciated that the use of a day as the basis period is not to be construed as limiting the scope of the present teachings.

At step throughout the day the VSCU unit hereinbelow simply thermostat receives and stores both real time RT and non real time NRT user setpoint entries. As used herein a real time RT user setpoint entry corresponds to a user entered setpoint that is to take effect immediately upon entry. Thus for example any time the user walks up to the dial and changes the current setpoint temperature by a ring rotation as shown in supra the resulting entry stored by the thermostat is an RT user setpoint entry. Likewise if the user accesses the thermostat remotely using their smartphone tablet or computer web browser either directly or through a cloud server that is in network communication with the thermostat to achieve the equivalent of the dial rotation of that entry is an RT user setpoint entry. In contrast as used herein a non real time NRT user setpoint entry corresponds to a user entered setpoint that entered using a scheduling facility and that is to take effect at a time and or date that is different than the time at which the user is providing that input. The scheduling facility used to create NRT setpoints can be at the walk up user interface of the thermostat see for example supra or can be remotely through a smartphone tablet or computer web browser either directly with the thermostat or with a cloud server that is in network communication with the thermostat . The effective time of an RT user setpoint entry will necessarily be the same as its entry time while the effective time of an NRT user setpoint entry will necessarily be different than its entry time.

Shown in is a graphical representation of a plurality of RT and NRT user setpoint entries that were made on a typical day of initial learning which happens to be a Tuesday in this example. For convenience the discussion herein uses the term setpoint entry in place of user setpoint entry. In the accompany drawings including a preceding superscript N identifies an NRT setpoint entry a preceding superscript R identifies an RT setpoint entry and an encircled number represents a pre existing scheduled setpoint. For each NRT setpoint there is also provided a succeeding subscript that identifies the entry time of that NRT setpoint. Notably there is no such subscript needed for RT setpoints since their horizontal position on the schedule is indicative of both their effective time and their entry time. Thus for the example of at 7 30 AM the user made an RT setpoint entry i having a temperature value of 76 degrees F. at 7 40 AM made another RT setpoint entry j having a temperature value of 72 degrees F. at 9 30 AM made another RT setpoint entry l having a temperature value of 72 degrees F. at 11 30 AM made another RT setpoint entry m having a temperature value of 76 degrees F. and so on. Also for the example of it can be seen that on Tuesday at 10 AM the user entered into their scheduling facility either on the walk up user interface or through their smartphone or web browser and created an NRT setpoint entry n that is to take effect on Tuesdays at 12 00 PM and furthermore created an NRT setpoint entry w that is to take effect on Tuesdays at 9 00 PM. Subsequently on Tuesday at 4 PM the user entered into their scheduling facility and created an NRT setpoint entry h that is to take effect on Mondays at 9 15 PM and furthermore created an NRT setpoint entry k that was to take effect on Tuesdays at 9 15 AM. Finally on Tuesday at 8 PM the user entered into their scheduling facility and created an NRT setpoint entry s that is to take effect on Tuesdays at 6 00 PM.

Referring now to step throughout the day of initial learning the thermostat proceeds to control the HVAC system according to i whatever current version of the schedule is then in effect which would be the default beginning schedule from step if this is indeed the first day of initial learning as well as ii whatever RT setpoint entries are made by the user as well as iii whatever NRT setpoint entries have been made that are causally applicable. The effect of an RT setpoint entry on the current setpoint temperature is maintained until the next pre existing setpoint is encountered until a causally applicable NRT setpoint is encountered or until a subsequent RT setpoint entry is made. Thus with reference to on Tuesday morning at 6 45 PM the current operating setpoint of the thermostat changes to 73 degrees F. due to pre existing setpoint b then at 7 30 AM the current operating setpoint changes to 76 degrees F. due to RT setpoint entry i then at 7 45 AM the current operating setpoint changes to 72 degrees F. due to RT setpoint entry j then at 8 15 AM the current operating setpoint changes to 65 degrees F. due to pre existing setpoint entry c then at 9 30 AM the current operating setpoint changes to 72 degrees F. due to RT setpoint entry l then at 11 30 AM the current operating setpoint changes to 76 degrees F. due to RT setpoint entry m then at 12 00 PM the current operating setpoint changes to 71 degrees F. due to NRT setpoint entry n then at 12 15 PM the current operating setpoint changes to 78 degrees F. due to RT setpoint entry o and so forth. Notably at 9 15 AM there is no change in the current setpoint due to NRT setpoint entry k because it did not yet exist i.e. was not causally applicable since it did not get entered by the user until 4 PM that day. In contrast the NRT setpoint entry n was causally applicable because it had been entered by the user at 10 AM that day and so it took effect at its designated effective time of 12 00 PM.

According to one optional alternative embodiment step can be carried out such that any RT setpoint entry is only effective for a maximum of 2 hours or other relatively brief interval in terms of the actual operating setpoint temperature and then the operating setpoint temperature is returned to whatever would be dictated by the pre existing setpoints on the current schedule or whatever would be dictated by any causally applicable NRT setpoint entries. This optional alternative embodiment is designed to encourage the user to make more RT setpoint entries during the initial learning period such that the learning process can be achieved more quickly. As an additional optional alternative the default beginning schedule at step is assigned with relatively low energy setpoints i.e. relatively cold in winter such as 62 degrees or 65 degrees which can result in a lower energy total schedule since any higher energy setpoints would necessarily be resulting from the explicit wishes of the user. As yet another additional optional alternative during the first few days instead of reverting to any pre existing setpoints after 2 hours that would otherwise be applicable the operating setpoint instead reverts to a lowest energy pre existing setpoint in the schedule. For simplicity and clarity of disclosure however it is presumed in the following description that these forcible low energy optional alternative embodiments are not activated.

Referring now to step at the end of the day or other suitable basis period as discussed above the stored RT and NRT setpoints are processed against each other and against the schedule of pre existing setpoints in the schedule that was in effect that day to generate a modified version iteration or refinement of that schedule the particular steps for which are set forth in infra. This processing can be carried out for example at 11 50 PM of the learning day or some other time near or around midnight. If it is determined that the initial learning is not yet complete at step then the modified version of the schedule is used for another day of initial learning at steps and is yet again modified at step and the process continues until initial learning is complete. If initial learning is complete then steady state learning is commenced at step which is described further infra with respect to .

For some embodiments the decision at step as to whether initial or aggressive schedule learning is complete is based on both the passage of time and whether there has been a sufficient amount of user behavior to observe. For one preferred embodiment the initial learning is considered to be complete only if both of the following criteria are met i two days of initial learning have passed and ii there have been ten separate one hour intervals for which there has been at least one user setpoint entry. Any of a variety of different criteria can be used for judging whether there has been enough observed user setpoint entry behavior to conclude initial learning without departing from the scope of the present teachings.

At step each cluster of setpoint entries is processed to generate a single new setpoint that represents the entire cluster in terms of effective time and temperature value. This process which could be called setpoint entry harmonization or fighting resolution is directed to simplifying the schedule while at the same time best capturing the true intent of the user by virtue of their setpoint entry behavior. While a variety of different approaches e.g. averaging of temperature values and effective times of cluster members could be used without necessarily departing from the scope of the present teachings one particularly effective method for carrying out the objective of step which is described in more detail in takes into account the NRT vs. RT status of each setpoint entry the effective time of each setpoint entry and the entry time of each setpoint entry and may be thought of as a harmonization process among.

Referring now to which corresponds to step of it is first determined at step whether there are any NRT setpoint entries in the cluster having an entry time that is later than the earliest effective time in the cluster. If this is the case then at step the single representative setpoint is assigned with both the effective time and the temperature value of the latest entered NRT setpoint entry. This is believed to suitably capture the real wishes of the user who has actually taken the time to go into the scheduling facility after the time in question and specifically entered their desired setpoint temperature for that time. If at step there are no such NRT setpoint entries then at step the single representative setpoint is assigned with i the effective time of the earliest effective cluster member and ii the setpoint temperature equal to that cluster member having the latest entry time. This is believed to suitably capture the wishes of the user who has not otherwise declared their wishes explicitly in a subsequent scheduling facility entry in that the earliest effective time tends to represent the when of the setpoint the recognition that something needed to be changed while the latest entered temperature value tends to represent the what of the setpoint since it was the last word of the user with regard to that neighborhood of time .

Referring now again to at step the new representative setpoint that was determined at step is tagged with an RT or NRT moniker based on the type of setpoint entry from which its temperature value was assigned. Thus in accordance with the logic of if it was an NRT setpoint that had the latest occurring time of entry out of all the setpoint entries in the cluster then the new setpoint is tagged as NRT whereas if it was an RT setpoint with the latest occurring time of entry then the new setpoint is tagged as RT . At steps any solo setpoint entries that are not clustered with other setpoint entries are simply carried through as new setpoints to the next phase of processing at step .

Thus referring now to it can be seen that for the ij cluster which has only RT setpoint entries the single representative setpoint ij is assigned to have the earlier effective time of RT setpoint entry i while having the temperature value of the later entered RT setpoint entry j representing an application of step of and that new setpoint ij is assigned an RT label at step . It can further be seen that that for the kl cluster which has an NRT setpoint k with an entry time later than the earliest effective time in that cluster the single representative setpoint kl is assigned to have both the effective time and temperature value of the NRT setpoint entry k representing an application of step of and that new setpoint kl is assigned an NRT label at step . It can further be seen that that for the mno cluster which has an NRT setpoint n but with an entry time earlier than the earliest effective time in that cluster the single representative setpoint mno is assigned to have the earliest effective time of RT setpoint entry m while having the temperature value of the latest entered setpoint entry o again representing an application of step of and that new setpoint mno is assigned an RT label at step . The remaining results shown in all of which are also termed new setpoints at this stage also follow from the methods of .

Referring now again to step is next carried out after steps and and applied to the new setpoints as a group which are shown for example in . At step any new setpoint having an effective time that is 31 60 minutes i.e. or other suitable interval just outside the clustering range later than that of any other new setpoint is moved in time to have a new effective time that is 60 minutes later that that of the other new setpoint. This is shown in as being applied to the new setpoint q whose effective time is being moved to 5 00 PM so that it is 60 minutes away from the 4 00 PM effective time of the new setpoint p . Preferably this process is only performed a single time based on an instantaneous snapshot of the schedule at the beginning of step that is there is no iterative cascading effect of these new setpoint separations. Accordingly while step will result in a time distribution of new setpoint effective times that are mostly separated by at least one hour there may still be some new setpoints having effective times separated by less than one hour. These minor variances from a clean set of new setpoints has been found to be tolerable and generally more preferable than deleterious effects that have been found with cascading to achieve total one hour separations. Furthermore it has been found that these one hour separations or other suitable separation interval can be successfully completed later in the algorithm after processing against the pre existing schedule setpoints as disclosed further infra.

Referring now to step of consistent with the aggressive purpose of the initial learning algorithm of quickly building a new schedule the new setpoints that have now been established for the current learning day are then replicated across other days of the week that may be expected to have similar setpoints if those new setpoints have been tagged as RT setpoints. Preferably new setpoints tagged as NRT are not replicated since there is a good probability that the user who created the underlying NRT setpoint entry using a scheduling facility has already created any similar NRT setpoint entries that they wanted to create using that scheduling facility and that if they abstained from creating such similar setpoints they abstained for a reason that should probably not be overridden by the initial learning process. For some embodiments that have been found to be well suited for the creation of a weekly schedule a predetermined set of replication rules is applied that depends on which day of the week the initial learning process was first started. These replication rules are optimized to take into account the practical schedules of a large population of expected users for which weekends will often be differently structured than weekdays while at the same time being aggressive in quickly establishing an initial schedule within a short period of time so that steady state learning can take effect. For one preferred embodiment the replication rules set forth in Table 1 are applicable.

Illustrated in are the effects of the replication of the RT tagged new setpoints of which is a Tuesday onto the displayed portions of neighboring days Monday and Wednesday. Thus for example the RT tagged new setpoint x having an effective time of 11 00 PM is replicated as new setpoint x on Monday and all other weekdays and the RT tagged new setpoint ij having an effective time of 7 30 AM is replicated as new setpoint ij on Wednesday and all other weekdays . As per the rules of Table 1 all of the other RT tagged new setpoints mno p q and u are also replicated across all other weekdays. Notably neither of the NRT tagged new setpoints kl or rst are replicated. It is also notable that the NRT user setpoint entry h which was entered on Tuesday by the user who desired it to be effective on Mondays is not replicated.

Referring now to step of the new setpoints and replicated new setpoints are overlaid onto the current schedule of pre existing setpoints as illustrated in which shows the pre existing setpoints encircled and the new setpoints not encircled. Notably in many of the subsequent steps the RT tagged and NRT tagged new setpoints are treated the same and if so then the RT and NRT monikers are not used in describing such steps. At step there is performed a mutual filtering and or effective time shifting of the new and pre existing setpoints according to predetermined filtering rules that are designed to optimally capture the pattern information and preference information contained in each while also simplifying overall schedule complexity. While a variety of different approaches could be used without necessarily departing from the scope of the present teachings one particularly effective method for carrying out the objective of step which is described in more detail in D . Finally at step the results of step become the newest version of the current schedule that is then either further modified by another initial learning day or that is used as the starting schedule in the steady state learning process.

Referring now to in D which sets forth one particularly effective method for carrying out the processing of step of at step there is identified as a first type any new setpoint having an effective time that is less than one hour or other suitable proximity interval later than that of a first pre existing setpoint and less than one hour or other suitable proximity interval earlier than that of a second pre existing setpoint. Examples of such new setpoints of the first type are circled in dotted lines in . Notably the steps of in D are carried out for the entire weeklong schedule even though only a portion of that schedule being shown in for explanatory purposes. At step any new setpoints of the first type are simply deleted if both of the following two conditions are met i they have effective times less than one hour earlier than the immediately subsequent pre existing setpoint and they have a temperature value that is not more than one degree F. away or other suitable different indicative of a similar or like temperature value from that of the immediately preceding pre existing setpoint. Preferably for purposes of step and any steps disclosed further herein in which there is nearness or similarity evaluation between the temperature values of two setpoints the comparison of the setpoint values is carried out with respect rounded versions of their respective temperature values the rounding being to the nearest one degree F. or to the nearest 0.5 degree C. even though the temperature values of the setpoints may be maintained to a precision of 0.2 degrees F. or 0.1 degrees C. for other operational purposes. When using this rounding for example two setpoint temperatures of 77.6 degrees F. and 79.4 degrees F. will be considered as 1 degree F. apart when each is first rounded to the nearest degree F. and therefore not greater than 1 degree F. apart. Likewise two setpoint temperatures of 20.8 degrees C. and 21.7 degrees C. will be considered as 0.5 degree C. apart when each is first rounded to the nearest 0.5 degree C. and therefore not greater than 0.5 degree C. apart. When applied to the example scenario at it can be seen that new setpoint ij falls within the purview of the rule in step and that new setpoint ij is thus deleted as shown in .

Subsequent to the deletion of any new setpoints of the first type pursuant to step at step there is identified any new setpoint of the first type that has an effective time that is within 30 minutes or other suitable nearness interval of the immediately subsequent pre existing setpoint and if so that new setpoint is moved later in time to one hour or other suitable proximity interval greater than the suitable nearness interval later than the immediately preceding pre existing setpoint and the immediately subsequent pre existing setpoint is deleted. When applied to the example scenario at it can be seen that new setpoint ij falls within the purview of the rule in step and that new setpoint ij is thus moved later in time to one hour from the earlier pre existing setpoint f and the subsequent pre existing setpoint g is deleted as shown in . Subsequently at step there is identified any new setpoint of the first type that has an effective time that is within 30 minutes or other suitable nearness interval of the immediately preceding pre existing setpoint and if so that new setpoint is moved earlier in time to one hour or other suitable proximity interval greater than the suitable nearness interval earlier than the immediately subsequent pre existing setpoint and the immediately preceding pre existing setpoint is deleted. At step for each remaining new setpoint of the first type that is not subject to the purview of steps or i.e. it is greater than 30 minutes from each of the immediately preceding and immediately subsequent pre existing setpoints then the setpoint temperature of the immediately preceding pre existing setpoint is changed to that of the new setpoint and that new setpoint is simply deleted.

Subsequently to step at step there is identified and deleted any RT tagged new setpoint that is within one hour or other suitable proximity interval of an immediately subsequent pre existing setpoint and that has a temperature value not greater than one degree F. or other suitable temperature similarity value different from an immediately preceding pre existing setpoint. Subsequently to step step is carried in which for each new setpoint any pre existing setpoint that is within one hour or other suitable proximity interval of that new setpoint is deleted. Thus for example shown in is the pre existing setpoint a that is less than one hour away from the new setpoint x and so that pre existing setpoint a is deleted in . Likewise the pre existing setpoint d is less than one hour away from the new setpoint q and so that pre existing setpoint d is deleted in .

Subsequently to step step is carried out in which starting from the earliest effective setpoint time in the schedule and moving later in time to the latest effective setpoint time any setpoint new or pre existing is deleted if that setpoint has a temperature value that differs by not more than 1 degree F. or 0.5 degree C. from that of the immediately preceding setpoint when quantized to the nearest 1 degree F. or 0.5 degree C. as discussed above . Thus for example shown in are the setpoints mno and x that are each not more than one degree F. from the immediately preceding setpoints and so those setpoints mno and x are deleted in . Finally at step if there are any remaining pairs of setpoints new or pre existing having effective times that are less than one hour or other suitable proximity metric apart then the later effective setpoint of that pair is deleted. The surviving setpoints are then established as members of the current schedule as indicated in all of them becoming labeled as pre existing setpoints for subsequent iterations of the initial learning process of or if that process is complete for subsequent application of the steady state learning algorithm described hereinbelow.

Certain differences do arise between initial and steady state learning however in that for the steady state learning process there is an attention to the detection of historical patterns in the setpoint entries an increased selectivity in the target days across which the detected setpoint patterns are replicated and other differences as described further hereinbelow. Referring now to at step the steady state learning process is instantiated which can correspond to the completion of the initial learning process step and which can optionally correspond to a resumption of steady state learning after a user requested pause in learning. At step a suitable version of the current schedule is accessed. If the steady state learning is being invoked immediately following initial learning which will often be the case for a new thermostat installation then the suitable schedule will be the current schedule as it stood at the completion of initial learning.

However it is within the scope of the present teachings that there can be a previously established schedule that is accessed at step . By way of example there can be stored in the VSCU unit or alternatively in a cloud server to which it has a network connection a plurality of different schedules that were previously built up by the VSCU unit over a similar period in the preceding year. For example there can be a January schedule that was built up over the preceding January and then stored to memory on January 31. If step is being carried out on January 1 of the following year then that previously stored January schedule can be accessed. It is within the scope of the present teachings for the VSCU unit to build up and store schedules that are applicable for any of a variety of time periods e.g. by month by season etc. and then to later access those schedules at step for use as the next current schedule. Similar storage and recall methods are applicable for the historical RT NRT setpoint entry databases that are discussed further hereinbelow.

At step a new day or other suitable observation period see discussion supra of steady state learning is begun. At step throughout the day the thermostat receives and tracks both real time RT and non real time NRT user setpoint entries. At step throughout the day the thermostat proceeds to control the HVAC system according to i the current version of the schedule ii whatever RT setpoint entries are made by the user and iii whatever NRT setpoint entries have been made that are causally applicable.

According to one optional alternative embodiment step can be carried out such that any RT setpoint entry is only effective for a maximum of 4 hours or other interval that is reasonably extensive but not permanent in terms of the actual operating setpoint temperature and then the operating setpoint temperature is returned to whatever would be dictated by the pre existing setpoints on the current schedule or whatever would be dictated by any causally applicable NRT setpoint entries. As another optional alternative instead of reverting to any pre existing setpoints after 4 hours that would otherwise be applicable the operating setpoint instead reverts to a relatively low energy value such as a lowest pre existing setpoint in the schedule. This kind of low energy bias operation which can optionally be a user settable mode of operation such that the user can activate it and de activate it can advantageously serve to drive the schedule to a kind of low energy steady state resulting schedule which can save energy and money for the user. For simplicity and clarity of disclosure however it is presumed in the following description that such four hour reversions and or low energy bias modes are not activated.

At the end of the steady state learning day such as at or around midnight processing steps are carried out. At step a historical database of RT and NRT user setpoint entries which preferably extends back at least two weeks is accessed. At step the day s tracked RT NRT setpoint entries are processed in conjunction with the historical database of RT NRT setpoint entries and the pre existing setpoints in the current schedule to generate a modified version of the current schedule using steps that are described further infra with respect to . At step the day s tracked RT NRT setpoint entries are then added to the historical database for subsequent use in the next iteration of the method which continues onward into the future. Notably at step it is determined whether there should be a substitution of the current schedule to something that is more appropriate and or preferable such as for a change of season or a change of month and so forth and if so then that suitable schedule is accessed at step before the next iteration and if not then the next iteration is begun at step using the most recently computed schedule. It is within the scope of the present teachings for the step to be carried out based on direct user instruction e.g. through the cloud server or at the walk up dial based on remote instruction from an automated program running on the associated cloud server based on remote instruction from a utility company automatically based on the present date and or current forecasted weather trends or any combination of the above.

Referring now to which corresponds to step of at step there is carried out steps similar to those of steps of supra to cluster resolve tag and adjust the day s tracked RT NRT setpoint entries and historical RT NRT setpoint entries. At step all RT tagged setpoints appearing in the results of step are identified as pattern candidate setpoints. At step the current day s pattern candidate setpoints are compared to historical pattern candidate setpoints to detect F therein such as daywise or weekwise patterns of similar effective times e.g. within one hour of each other and similar setpoint temperatures e.g. not greater than 3 degrees F. apart . At step for any such patterns detected at step that include a current day pattern candidate setpoint that current day pattern candidate setpoint is replicated across all other days in the schedule for which such pattern may be expected to be applicable. By way of example and not by way of limitation Table 2 illustrates one particularly useful set of pattern matching rules and associated setpoint replication rules.

For one preferred embodiment in carrying out step the replicated setpoints are assigned the same effective time of day and the same temperature value as the particular current day pattern candidate setpoint for which a pattern was detected. However the scope of the present teachings is not so limited. In other preferred embodiments the replicated setpoints can be assigned the effective time of day of the historical pattern candidate setpoint that was involved in the match and or the temperature value of that historical pattern candidate setpoint. In still other preferred embodiments the replicated setpoints can be assigned the average effective time of day of the current and historical pattern candidate setpoints that were matched and or the average temperature value of the current and historical pattern candidate setpoints that were matched.

Subsequent to step at step the resulting replicated schedule of new setpoints is overlaid onto the current schedule of pre existing setpoints. Also at step any NRT tagged setpoints resulting from step supra are overlaid onto the current schedule of pre existing setpoints. At step the overlaid new and pre existing setpoints are then mutually filtered and or shifted in effective time using methods similar to those discussed supra for step of . The results are then established at step as the newest version of the current schedule.

Examples of how setup interviews may be used in conjunction with pre existing HVAC schedules and automated schedule learning are discussed in the following section.

This HVAC Schedule Establishment in a VSCU Unit subsection includes four subsections A selecting pre existing HVAC schedules based on a setup interview B using automated schedule learning to update a pre existing HVAC schedule selected based on a setup interview C selecting HVAC schedules shared on a social networking service and D using automated schedule learning to update a selected HVAC schedule that were shared on a social networking service

HVAC schedules may be programmed for VSCU unit . According to some embodiments the user s responses to the questions at the initial setup interview e.g. the setup interview mentioned above are used to automatically snap that household onto one of a plurality of pre existing HVAC schedules or template schedules i.e. a schedule of time intervals e.g. weekdays and weekends and set point temperatures or temperature selections for each time interval stored in the VSCU unit and corresponding to some of the most common schedule paradigms e.g. household life categories or business categories. Examples of the setup interview are discussed below.

According to some embodiments the initial setup interview includes the following interactive questioning flow. The VSCU unit display format will look similar to with a first prompt being Set up VSCU for a Home Business where the notional X is used herein to denote that X is one of the user choices. If the user chooses Home then a first set of questions is asked whereas if the user chooses Business then a second set of questions is asked. The first set of questions proceeds as follows Are you home at noon Usually Not Usually followed by Are you home at 4 PM Usually Not Usually followed by Do you have electric heat Electric Not Electric I Don t Know followed by a request for location information such as the ZIP code and street address of the home. The second set of questions applicable to a business proceeds as follows Is this business open evenings Usually Not Usually followed by Open Saturdays Usually Not Usually followed by Open Sundays Usually Not Usually followed by Do you have electric heat Electric Not Electric I Don t Know followed by a request for location information such as the ZIP code and the street address of the business. It is to be appreciated that the above questions and selective answers are presented by way of example only and not by way of limitation and that many other questions and selective answers can be provided in addition to or as an alternative to these examples without departing from the scope of the present teachings.

According to some embodiments the user s responses to the questions at the initial setup interview are used to automatically snap that household onto one of a plurality of pre existing template schedules i.e. a schedule of time intervals and set point temperatures for each time interval stored in the VSCU unit and corresponding to some of the most common household or business schedule paradigms. Examples of different household schedule paradigms each of which can correspond to a pre existing HVAC schedule or template schedule can include working couple without kids working couple with infants or young children working family working spouse with stay at home spouse young people with active nightlife who work freelance from home retired couple and solo retiree. Examples of different business schedule paradigms each of which can have its own pre existing HVAC schedule or template schedule can include office buildings businesses open only on the weekdays and daycare center. The template schedules to which the household is snapped at system initialization based on the setup interview or at some other time upon user request serve as convenient starting points for the operational control of the HVAC system for a large number of installations. The users can then modify their template schedules e.g. using the user on the VSCU unit itself the web interface or smart phone interface etc. to suit their individual desires. The VSCU units may also modify these template schedules automatically based on automated schedule learning i.e. learned occupancy patterns and manual user temperature control setting patterns. By way of nonlimiting example a typical HVAC schedule or template schedule for a working family would be for heating in wintertime Mo Tu We Th Fr 7 00 68 9 00 62 16 00 68 22 00 62 Sa Su 7 00 68 22 00 62 meaning that for all five weekdays the set point temperatures will be 68 degrees from 7 AM 9 AM then 62 degrees from 9 AM 4 PM then 68 degrees from 4 PM 10 PM then 62 degrees from 10 PM 7 AM and that for both weekend days the set point temperatures will be 68 degrees from 7 AM 10 PM then 62 degrees from 10 PM 7 AM and for cooling in summertime Mo Tu We Th Fr 7 00 75 9 00 82 16 00 78 22 00 75 Sa Su 7 00 75 9 00 78 22 00 75 . In other embodiments permissible swing temperature amounts humidity ranges and so forth can also be included in the template schedules.

According to some embodiments the ZIP code of the household or business is asked at a point near the beginning of the setup interview and then different setup interview questions can be asked that are pre customized for different geographical regions based on the ZIP code. This is useful because the best set of interview questions for Alaskan homes or businesses for example will likely be different than the best set of interview questions for Floridian homes for example.

The setup interview may include one or more closed end questions as described above or open ended questions. Specific embodiments of steps and features related to the setup interview are shown in the following figures.

Alternatively a schedule interface may be web based. An example of a web based schedule interface is shown in the following figures.

Input options and input corresponding to responses to the input options may be generated and received respectively at browser of an internet enabled device e.g. desktop computers and notebook computers. Similarly as shown in input options and input corresponding to responses to the input options may be generated and received respectively at an app of an internet enabled mobile device e.g. smartphone or tablet. The web based schedule interfaces of may also generate the input options generated at VSCU unit in or other input options enumerated herein.

VSCU unit the devices of the web based interfaces of and or the thermostat management server may utilize speech recognition software and hardware and an inference engine that includes artificial intelligence tools. The inference engine may be capable of executing a series of logical steps to generate input options processing received input and selecting HVAC schedules based on the received input as interpreted by the speech recognition software and hardware and corresponding pre existing HVAC schedules stored on the VSCU unit to the thermostat management server. A search engine may also be used to locate information on the Internet related to the received input in order to provide additional information to the inference engine. The inference engine not only may be used to select an HVAC schedule but also to determine additional input options that can be generated in order receive input relevant to selecting an HVAC schedule.

At step input may be received corresponding to responses to the input options of . For example a user may provide manual input e.g. input as described with regard to or audio input e.g. user may communicate responses using his or her voice at the schedule interface. Again as discussed above this input may be provided at the VSCU unit or at a web based interface.

At decision step if the received input does not correspond to a pre existing schedule paradigm then step is the next step of method . That is a null HVAC schedule may be selected at step if the received input does not correspond to a pre existing schedule paradigm e.g. schedule paradigms enumerated herein . The received input may not correspond to a pre existing schedule paradigm for a number of reasons e.g. the environment in which the thermostat is implemented is not common or the received inputs were not representative of the environment in which the thermostat is implemented. The null HVAC schedule may be one of the pre existing HVAC schedules stored on the thermostat or on a server accessible by the thermostat. The null HVAC schedule may be a very common HVAC schedule such that it would a good starting point schedule regardless of the particulars of the environment in which the thermostat e.g. VSCU unit is implemented.

At decision step if the received input does correspond to a pre existing schedule paradigm then step is the next step of method . At step an HVAC schedule is selected from the pre existing HVAC schedules based on the input received at step . For example as discussed above the received inputs may correspond to a schedule paradigm that corresponds to one of the pre existing HVAC schedules. Thus the received inputs may correspond to a pre existing HVAC schedule that may be selected at step . Examples of schedule paradigms and HVAC schedules are discussed above. Following step or step depending on step method may proceed to step .

At step the thermostat may be associated with the HVAC schedule selected at step or . That is the selected HVAC schedule may be run or initiated on the thermostat. In some cases a user may be given the option to confirm the selection of the HVAC schedule selected at step or . The user or a server may also modify the selected HVAC schedule before it is initiated on the thermostat. For example individual temperature selections may be modified deleted or added to the selected HVAC schedule before it is initiated.

The HVAC schedule selected at step or may also be modified after the HVAC schedule is initiated at step . An example of how the selected schedule may be updated is discussed in the following section.

 B Using Automated Schedule Learning to Update a Pre Existing HVAC Schedule Selected Based on a Setup Interview

An implementation of automated schedule learning as described above may be included in the aforementioned VSCU unit . For example VSCU unit may include intelligent features that learn about users beginning with a setup dialog e.g. the setup interview as mentioned above in which the user answers a few simple questions and then continuing over time using multi sensor technology to detect user occupancy patterns and to track the way the user controls the temperature using schedule changes and immediate temperature control selections or inputs.

At a step input is received corresponding to template control selections. Temperature control selections or setpoints may be manually provided by a user at a control interface. Similar to the schedule interface discussed above the control interface may be a web based interface or provided at a display of the thermostat. The temperature control selections may be made at the control interface e.g. the interface described with respect to . This input may be received during a time period subsequent to step . The time period may be any length of time e.g. a day a week or a month.

At a step an updated HVAC schedule may be generated based on the HVAC schedule selected at step or and temperature control selections receiving during step . Generating the updated HVAC schedule may include a number of subs steps and may be characterized by different learning phases. For example generating may include the following sub steps processing replicating overlaying mutually filtering clustering harmonizing comparing and establishing. These subsets are further explained and variations thereof are provided in the paragraphs above corresponding to . The generating of updated HVAC schedules may be accomplished under different modes of automated control learning e.g. aggressive and steady state learning phases. These phases are further explained and variations thereof are provided in the paragraphs above corresponding to .

At step the thermostat may be associated with the updated HVAC schedule generated at step . That is the updated HVAC schedule may be run or initiated on the thermostat. In some cases a user may be given the option to confirm the selection of the HVAC schedule generated at step . The user or a server may modify the updated HVAC schedule before it is initiated on the thermostat. For example individual temperature selections may be modified deleted or added to the updated HVAC schedule before it is initiated.

Although method of and A was discussed at least in part as being performed by a user a server may also be used to perform method .

Thermostats e.g. VSCU unit may include wired and wireless network connectivity as previously mentioned above. This network connectivity can be used to connect to third party social networking services third party on line gaming services and other on line services. These services may serve as a forum for sharing and downloading HVAC schedules for a thermostat e.g. VSCU unit . Examples of features and capabilities of embodiments of VSCU unit are described in the following paragraphs.

The embodiments described herein are advantageously configured to be compatible with a large variety of conventional integrated routers that service a large population of homes and businesses. Thus by way of example only and not by way of limitation the router not shown that services the private network of can be for example a D Link DIR 655 Extreme N Wireless Router a Netgear WNDR3700 RangeMax Dual Band Wireless USB Gigabit Router a Buffalo Technology Nfiniti WZR HP G300NH Wireless N Router an Asus RT N16 Wireless Router Cisco Linksys E4200 Dual Band Wireless Router or a Cisco Linksys E4200 Dual Band Wireless Router. Without loss of generality some descriptions further hereinbelow will refer to an exemplary scenario in which VSCU unit and or remote VSCU unit are used in a home environment. However it is to be appreciated that the described embodiments are not so limited and are applicable to use of such thermostat s in any of a variety of enclosures including residential homes business vacation homes hotels hotel rooms industrial facilities and generally anywhere there is an HVAC system to be controlled.

Thermostat access client is a client application designed in accordance with aspects of the present invention to access the thermostat management system over public network . The term thermostat management system can be interchangeably referenced as a cloud based management server for the thermostats or more simply cloud server in various descriptions hereinabove and hereinbelow. Because thermostat access client is designed to execute on different devices multiple client applications may be developed using different technologies based on the requirements of the underlying device platform or operating system. For some embodiments thermostat access client is implemented such that end users operate their Internet accessible devices e.g. desktop computers notebook computers Internet enabled mobile devices cellphones having rendering engines or the like that are capable of accessing and interacting with the thermostat management system . The end user machine or device has a web browser e.g. Internet Explorer Firefox Chrome Safari or other rendering engine that typically is compatible with AJAX technologies e.g. XHTML XML CSS DOM JSON and the like . AJAX technologies include XHTML Extensible HTML and CSS Cascading Style Sheets for marking up and styling information the use of DOM Document Object Model accessed with client side scripting languages the use of an XMLHttpRequest object an API used by a scripting language to transfer XML and other text data asynchronously to and from a server using HTTP and use of XML or JSON Javascript Object Notation a lightweight data interchange format as a format to transfer data between the server and the client. In a web environment an end user accesses the site in the usual manner i.e. by opening the browser to a URL associated with a service provider domain. The user may authenticate to the site or some portion thereof by entry of a username and password. The connection between the end user entity machine and the system may be private e.g. via SSL . The server side of the system may comprise conventional hosting components such as IP switches web servers application servers administration servers databases and the like. Where AJAX is used on the client side client side code an AJAX shim executes natively in the end user s web browser or other rendering engine. Typically this code is served to the client machine when the end user accesses the site although in the alternative it may be resident on the client machine persistently. Finally while a web based application over Internet Protocol IP is described this is not a limitation as the techniques and exposed user interface technologies may be provided by a standalone application in any runtime application whether fixed line or mobile. It is to be appreciated that although the TCP IP protocol is set forth as the network protocol used for communications among the thermostat management system the thermostat access client and other devices for some embodiments it is set forth by way of example and not by way of limitation with the use of any other suitable protocol such as UDP over IP in particular may be used without departing from the scope of the present teachings.

In yet another embodiment thermostat access client may be a stand alone application or app designed to be downloaded and run on a specific device such as smartphone or a tablet device running the Apple iOS operating system Android operating system or others. Developers create these stand alone applications using a set of application programming interfaces APIs and libraries provided by the device manufacturer packaged in software development toolkit or SDK. Once completed the app is made available for download to the respective device through an application store or app store curated by the app store owners to promote quality usability and customer satisfaction.

In one embodiment thermostat management system illustrated in may be accessed over public network by computer devices on private network running thermostat access client . Thermostat access client accesses a thermostat management account not illustrated provisioned by thermostat management system on behalf of the computer devices in order to access or control VSCU unit or remote VSCU unit . In addition a computer device on private network such as computer may use the thermostat access client and thermostat management account on to gather data from VSCU unit and remote VSCU unit .

VSCU unit and remote VSCU unit may be accessed remotely from numerous different locations on the private network or public network . As will be described in further detail hereinbelow upon installation a thermostat such as VSCU unit first registers with the thermostat management system and then requests the thermostat management system create a pairing between the thermostat and a corresponding thermostat management account. Thereafter a device such as a tablet may be connected to public network directly or through a series of other private networks not shown yet still access these thermostats while outside the private network where they are located by way of thermostat management system . In one embodiment a tablet running the Apple iOS operating system may remotely access to these thermostats through the thermostat management system and thermostat management account using an iOS app version of thermostat access client . Pairing thermostats with the thermostat management account allows tablet and other computer devices to remotely control gather data and generally interact with thermostats such as VSCU unit and remote VSCU unit .

In one embodiment thermostat management system distributes the task of communication and control with the thermostats to one or more thermostat management servers . These thermostat management servers may coordinate communication manage access process data and analyze results using data produced by thermostats such as VSCU unit and remote VSCU unit . Intermediate and final results from computations on these servers as well as raw data may be stored temporarily or archived on thermostat databases for future reference and use. Thermostat management servers may also send a portion of the data along with control information and more generally any of a variety of different kinds of information back to VSCU unit and remote VSCU unit . Results from the thermostat management servers may also be stored in one or more thermostat databases for subsequent access by a device such as tablet running thermostat access client .

These thermostat management servers each may perform one or several discrete functions may serve as redundant fail over servers for these different discrete functions or may share performance of certain discrete functions in tandem or in a cluster as well as other combinations performing more complex operations in parallel or distributed over one or more clusters of computers. In some embodiments one of the thermostat management servers may correspond directly to a physical computer or computing device while in other embodiments the thermostat management servers may be virtualized servers running on one or more physical computers under the control of a virtual machine computing environment such as provided by VMWARE of Palo Alto Calif. or any other virtual machine provider. In yet another embodiment the thermostat management servers and thermostat databases are provisioned from a cloud computing and storage environment such as the Elastic Compute Cloud or EC2 offering from Amazon.com of Seattle Wash. In an EC2 solution for example the thermostat management servers may be allocated according to processor cycles and storage requirements rather than according to a number of computers either real or virtual thought to be required for the task at hand.

Also shown connected to the public network is a third party social networking service a third party on line gaming service and a utility company . Social networking service is an online service platform or site such as Facebook and Twitter that focuses on building and reflecting of social networks or social relations among people who for example share interests and or activities. The social network services are web based and thereby provide means for users to interact over the Internet such as e mail and instant messaging. The service allows users to share ideas activities events and interests. Preferably the social networking service contains category places such as former school year or classmates means to connect with friends usually with self description pages and a recommendation system linked to trust. Besides Facebook and Twitter which are used worldwide other examples of service include Nexopia Bebo VKontakte Hi5 Hyves Draugiem.lv StudiVZ iWiW Tuenti Nasza Klasa Decayenne Tagged XING Badoo Skyrock Orkut Mixi Multiply Wretch renren Cyworld LinkedIn and Google . Social network service according to some embodiments allows the users to share and review various settings features and algorithms that pertain to the thermostats. According to some embodiment the users can compete with each as a means of encouraging energy savings behavior.

On line gaming service are site s server s and or service s that provide or facilitate video game play. In general on line games can range from simple text based games to games incorporating complex graphics and virtual worlds populated by many players simultaneously. Many on line games have associated online communities making on line games a form of social activity beyond single player games.

Examples of types of video games that can be facilitated using service include one or more of the following games and or series of games action games such as shooter games first person shooter games e.g. Doom Team Fortress Halo Killzone Metroid Prime Unreal Tournament Call of Duty and TimeSplitters third person shooter games massively multiplayer online games e.g. Happy Farm World of Warcraft Final Fantasy and fighting games adventure games action adventure games Assassin s Creed role playing games Pok mon Final Fantasy and Dragon Quest simulation games e.g. The Sims Alter Ego Animal Crossing Harvest Moon Jones in the Fast Lane Little Computer People Miami Nights Singles in the City Shin Megami Tensei Persona Singles Flirt Up Your Life and Tokimeki Memorial social simulation games e.g. FrontierVille CityVille Gardens of Time FarmVille and The Sims Social strategy games e.g. Civilization Heroes of Might and Magic Panzer General Age of Wonders on line collectable card games e.g. Magic The Gathering Online Alteil Astral Masters and Astral Tournament music games e.g. Guitar Hero Audition Online and X Beat dance games e.g. Dance Dance Revolution party games puzzle games sports games e.g. FIFA NBA Live Madden Football NHL and Tiger Woods racing games e.g. Forza Gran Turismo and Mario Kart trivia games video games directed to different target age groups ranging from games intended for children to games intended for teens to games intended for adults and educational games.

According to some embodiments incentives and or rewards can be awarded to users to provide encouragement to adopt energy saving behaviors as facilitated by the network connected thermostat and associated home energy network platform as described herein. Examples of incentives and or rewards include points credits lives money e.g. coins or cash status cheat codes unlock codes hit or health points experience points or levels gifts games items such as weapons buildings farm animals and cars decorations game players e.g. draft picks or allies and game related merchandise such as souvenirs clothing toys license plate covers and action figures .

In some embodiments the thermostat management servers making up this thermostat management system may manage thermostats located in multiple enclosures across various geographic locations and time zones. Each enclosure may use one or several thermostats in accordance with embodiments of the present invention to control one or several HVAC systems such as HVAC system in . In some cases there may be an increased need from the thermostat management system for certain functions and therefore more servers to deliver these functional capabilities. It may be appreciated that the design of thermostat management system and use of the thermostat management servers may be scaled to meet these demands on the system and efficiently track and organize the data from these multiple enclosures and thermostats for processing analysis control and machine learning purposes.

One embodiment of registration server provides a number of services related to registering a thermostat on the thermostat management system and preparing it for pairing with a thermostat management account. In operation the registration server may be first accessed by a thermostat when the thermostat is wired to the HVAC of an enclosure and then connected to the Internet through a private network. To make the thermostat known on system the thermostat sends thermostat metadata from the private network to the public network such as the Internet and then onto processing by registration server . Preferably the thermostat metadata includes a unique thermostat identifier such as one that is assigned at the time of manufacturing. As the communication that sends the thermostat metadata passes through the network address translator NAT of the router not shown that serves the associated private network it is appended with the public network address of that router which is thus the public address that is used by the thermostat to communicate over the public network. The thermostat identifier is used to identify the thermostat from other thermostats being registered by registration server and may be based in part or in whole on a media access control MAC address assigned to the NIC of the thermostat. As one security measure against registering unauthorized devices registration server may compare the MAC address in the thermostat metadata against a list of valid MAC addresses provided by the manufacturer of the thermostat or NIC component. In accordance with one embodiment the thermostat registration is complete when the registration server provisions an entry in a thermostat registration pool and marks the thermostat entry ready to be paired with a thermostat management account. Entries in the thermostat registration pool may be referenced by their unique thermostat identifier the public network address that they used or more particularly the public address of the private network router through which they connect to the Internet and optionally other relevant metadata associated with the thermostat.

In some embodiments update server attempts to update software firmware and configuration updates to each of the thermostats registered in the thermostat registration pool. If metadata from entries in the registration pool exclude versioning information update server may need to further query each thermostat for current versions installed. Update server may access entries in the registration pool and then use corresponding network addresses in each entry to connect to the associated thermostat over the public network or private network or both.

If newer software versions exist than currently used on a thermostat update server proceeds to send software updates to the thermostat over the public network. For example update server may use file transfer protocols such as ftp file transfer protocol tftp trivial file transfer protocol or more secure transfer protocols when uploading the new software. Once uploaded installation and update of the software on the thermostat may occur immediately through an auto update option on the thermostat or manually through the interface of the thermostat as requested by a user.

One embodiment of pairing server facilitates the association or pairing of a thermostat with a thermostat management account on thermostat management account server . The term thermostat management account can be used interchangeably with user account herein unless specified otherwise. Once the thermostat is paired with a user account a rich variety of network enabled capabilities are enabled as described further herein and in one or more of the commonly assigned incorporated applications supra. For example once pairing has been achieved a person with access to the thermostat management account may access the thermostat through the thermostat management system using the thermostat access client for a variety of purposes such as seeing the current temperature of the home changing the current setpoint changing the mode of the thermostat between home and away and so forth. Moreover the thermostat management system can then start tracking the various information provided by the thermostat which in turn enables a rich variety of cloud based data aggregation and analysis that can be used to provide relevant reports summaries updates and recommendations to the user either through the thermostat display itself through the thermostat access client or both. A variety of other capabilities such as demand response actions in which the thermostat management server sends an energy alert and or sends energy saving setpoint commands to the thermostats of users who have enrolled in such programs can be carried out.

In view of the importance of establishing a pairing between the thermostat and a thermostat management account there is provided an ability for a fallback method of pairing which can be termed a manually assisted method of pairing that can take effect and be carried out in the event that the convenient auto pairing methods described further hereinbelow cannot be securely and reliably carried out for a particular installation. The manually assisted method may use an alphanumeric passcode to pair the thermostat to the thermostat management account. Typically the passcode is sent to the thermostat over a public network like the Internet and displayed on the display area of the thermostat. Authorization to access the thermostat is provided if the user obtaining the passcode from the display on the thermostat then enters it into a pairing dialog presented when the user logs into their thermostat management account. Pairing server pairs the thermostat with the user s thermostat management account if the user enters that same passcode that was displayed on their thermostat display.

According to a preferred auto pairing method the pairing server may automatically pair or auto pair a thermostat management account to a thermostat if both are located on the same private network. If the thermostat and thermostat management account are associated with the same private network embodiments of the present invention presume the thermostat is at the user s home office or other area where the user should also have control of the device. To make this determination automatically the pairing server compares the public network address that was used to register the thermostat over the Internet with the public network address used by the computer device that has most recently been used to access the thermostat management account. Since the thermostat and computer device only have private network addresses the router on the private network they share inserts the same public network address into their packets thus allowing the two devices to access servers services and other devices on the Internet. Auto pairing takes advantage of this fact and automatically pairs devices sharing the same public network address. This is particularly advantageous from a user standpoint in that the user is not bothered with the need to enter a passcode or other alphanumerical identifier in order to achieve the pairing process and avoids the concern that a user may inadvertently enter incorrect codes or identifiers into the system. Details on auto pairing and manually assisted pairing are described in further detail later herein.

Thermostat front end user interface UI server facilitates the generation and presentation of intuitive user friendly graphical user interfaces that allow users to remotely access configure interact with and control one or more of their network connected thermostats from a computer web browser smartphone tablet or other computing device. The user friendly graphical user interfaces can also provide useful tools and interfaces that do not necessarily require real time connectivity with the thermostats with examples including for some embodiments providing user interfaces for displaying historical energy usage historical sensor readings and or occupancy patterns allowing the user to learn about and or enroll in demand response programs provide social networking forums that allow users to interact with each other in informative competitive fun ways that promote energy savings provide access to local information including weather public safety information neighborhood calendar events and local blogs and more generally provide services and information associated with a comprehensive energy portal functionality. Examples of intuitive user friendly graphical user interfaces provided by the UI server according to one or more preferred embodiments are described further in co pending U.S. patent application Ser. No. 13 317 423.

In some embodiments a thermostat access client user interface displays an image of a house representing a primary enclosure paired to the thermostat management account in the thermostat management system. Thermostat front end UI server may further instruct the thermostat access client such as thermostat access client in to display images visually representative of one or more thermostats inside the primary enclosure. By default each of the one or more thermostat images may also display a current temperature measurement in the enclosure. In some embodiments the user interface may also further display an image of an additional house or houses representing a secondary enclosure having additional thermostats that are also paired to the thermostat management account. The image of the additional house may appear smaller out of focus or generally deemphasized visually in relationship to the image of the house representing the primary enclosure. Additional enclosures beyond the secondary enclosure can also be displayed in the user interface and should also appear visually deemphasized compared with the image displayed for the primary enclosure. Further information on the thermostat access client and user interface are described in more detail in co pending U.S. patent application Ser. No. 13 317 423.

Thermostat backend server manages the storage of data used by various thermostat management servers in the thermostat management system . In some embodiments thermostat backend server may manage storage of the thermostat registration pool data used by the registration server or may organize and store new software updates and releases for the update server . In another embodiment thermostat backend server may also store heating and cooling related data i.e. date and time HVAC system was in either heating or cooling mode within the enclosure sensor information battery level data alarms etc. associated with an enclosure that was sent to the thermostat management system by thermostats registered therewith and in some embodiments and provide pre computed heating and cooling schedules applications and other data for download over the public network for use by the thermostats.

In some embodiments thermostat management account server is used to create new accounts and update existing accounts on thermostat management system . To access their thermostat over a thermostat access client and enjoy the benefits of thermostat connectedness the user is first required to create of a thermostat management account user account on thermostat management account server using their thermostat access client . Accordingly users execute the thermostat access client on a computer or other computer device to access the thermostat management account server . The thermostat management account server should receive at least the zip code and or city and state for the enclosure in which the thermostat is or will be installed such that weather information provided by a weather service can be accessed and downloaded to the thermostat which can be used as part of its optimal enclosure characterization and HVAC control algorithms. Optionally a variety of other information including a user s contact information enclosure street addresses and so forth can also be received. Primary options associated with the thermostat management account server include pairing one or more thermostats to the correct thermostat management account through pairing operations provided by pairing server . However even if the account is not yet paired with a thermostat the user may use the thermostat management account to access local information including weather public safety information neighborhood calendar events local blogs and more information based upon the user s contact information locale and other interests.

According to some embodiments one or more of the household systems or devices connected or linked to VSCU unit are compatible under license or other business arrangement with the thermostat unit manufacturer and or thermostat data service provider. According to some embodiments the VSCU unit functional as central energy hub for the whole house. Especially for a residential context it has been found that VSCU unit is an advantageous way to instantiate such a home energy network at least because virtually all homes need to have a thermostat anyway. Once the VSCU unit is installed by replacement of an old thermostat as part of new construction etc. and connected or paired such as via local network public network and or thermostat management system shown in B and it can effectively serve as the core for such a network. In this sense a relatively seamless transition for most residences to the concept of a home energy network is provided in that there is no extra hardware needed to be installed plugged in updated and maintained and likewise no need to have an always on home computer loaded with an additional software that in turn needs to be updated and maintained . Instead the thermostat centric home energy network is simply achieved by upgrading a home s old thermostat to the visually pleasing easy to use VSCU unit . The various features and user interfaces of the thermostat centric home energy network can be provided directly to the user s existing smartphones tablets browsers by virtue of the cloud based thermostat management system . At the user s own pace of implementation which can correspond to natural product upgrade or replacement cycles new devices such as those shown in can be purchased and or modified to contain a Wi Fi and or ZigBee communication capability and configured to communicate with the VSCU unit which can then upload the various data to the cloud server and can further receive and distribute control instructions from the cloud server to the various end devices. This can lead to one or more of the following exemplary advantageous uses. For example using wireless communications the thermostat unit can communicate with the dishwasher or the refrigerator . If the user walks up to the dishwasher and attempts to start it there can be a display on the dishwasher that says Would you like to start the load now for 1 or wait until 2 AM and do the load for 20 cents The VSCU unit serves and the conduit and core for such a platform. In one example of many advantages with occupancy sensing the VSCU unit can sense when the occupants are not home and automatically command the refrigerator to turn up its set point by 2 degrees and then command it to return to normal after the VSCU unit has sensed that the occupants have returned. Similar functionalities can be provided in conjunction with any hot water heaters hot tubs or pool heaters and so forth that are equipped and licensed to be compatible with the VSCU unit . In another example occupancy information from VSCU unit is used to manage outlets and lights for both intra day and inter day periods of non occupancy. For inter day periods for example the lights and certain outlets are controlled so as to provide for the appearance of occupancy to inexpensively and effectively increase home security. In another example weather climate temperature humidity and or dew point solar output precipitation and or wind information that may be gathered already as part of the operation of VSCU unit for example from thermostat management system is used for improving energy and or resource efficiency of sprinkler system hot tub spa or pools heating system and solar power array . In a simple example timing and watering days are adjusted due to forecast or detected rain and or high temperatures. In another example hot tub spa or pool heating system is also controlled according to occupancy information from VSCU unit such as by reducing heating during long periods of non occupancy and or increasing heating during expected or detected occupancy or occupant arrivals. In another example occupancy sensor information from VSCU unit is used to supplement and increase the accuracy and reliability of home alarm system . In another example occupancy information from VSCU unit is used to facilitate computer related tasks on computer that maybe more efficient or less intrusive to carry out when the home is unoccupied such as large data backups software updates and maintenance such as disk defragmentation. In another example occupancy and or installation information from VSCU unit such as whether the building is a home or business can be used to adjust sensitivity to smoke detectors and or carbon monoxide detectors so as to increase effectiveness while decreasing false alarms. In another example water heater is adjusted to save energy during long periods of non occupancy as determined by VSCU unit . According to some embodiments the VSCU unit works in connection with other home automation control systems such as INSTEON plug in controllers for dimmers lights outlets sprinklers etc. For some cases the VSCU unit can achieve this control by virtue of programs and data that are stored at the VSCU unit itself optionally as updated by the cloud server as needed while for other cases the VSCU unit will be more of a communications conduit for data uptake to the cloud server and transmission of decisions made at the cloud server to the various network devices.

According to some embodiments VSCU unit is used in connection with video game console and or computer to encourage adoption of energy efficient behavior through the use of competition game related incentive or rewards and or exchange of thermostat related settings or algorithms with other users.

As mentioned above social network service according to some embodiments may allow users to share and review various settings features and algorithms that pertain to the thermostats. Social network service may also allow users to share HVAC schedules generated at a thermostat or elsewhere. On line gaming service and other online forums or services may also allow users to share HVAC schedules.

Thermostat access client may access a thermostat management account not illustrated provisioned by thermostat management system on behalf of devices in order to associate a pre existing shared HVAC schedules with a VSCU unit . As mentioned above thermostat access client may be a stand alone application or app designed to be downloaded and run on a specific device such as smartphone or a tablet device running the Apple iOS operating system Android operating system or others. Thermostat access client may also be implemented such that end users operate their Internet accessible devices e.g. desktop computers notebook computers Internet enabled mobile devices cellphones having rendering engines or the like that are capable of accessing and interacting with the thermostat management system and the thermostat management account. The app or the browser may be used to access a social networking service or other online services to download shared HVAC schedules and the thermostat access client may be used to select the downloaded shared HVAC schedule and associate the selected HVAC schedule with the thermostat management account and ultimately the VSCU unit .

In some embodiments a shared HVAC schedule may be downloaded based upon a setup interview similar to the setup interview discussed in the paragraphs corresponding to IA B. For example a setup interview may be used to provide a recommended list of shared HVAC schedules from which a shared HVAC schedule can be selected. Alternatively a social profile may be analyzed e.g. analyzed by the thermostat management account in order to determine a schedule paradigm corresponding to the social profile a zip code corresponding to the social profile friends or contacts of the social profile and corresponding recommended HVAC schedules or other information relevant to HVAC schedules. The determined information may correspond to shared HVAC schedules that can be selected and associated with a thermostat.

In other embodiments a shared HVAC schedule may be downloaded based upon efficiency metrics corresponding to the shared HVAC schedules. For example stand alone performance metrics SPM and other metrics which may be generated as part of a competition or otherwise result in metrics related the HVAC schedules shared by the user and even the user themselves. Examples of the how to calculate metrics and the ecosystem for generating metric sharing communities are described in the following figures.

According to some embodiments an SPM is based only on the percentage of time that their HVAC system is cycled on on time percentage or OTP wherein the performance metric is higher better when the on time percentage is lower. For other embodiments the user s energy saving performance is measured only by virtue of physical parameters that can be sensed or governed by the thermostats themselves in combination with weather information that can be readily accessed based on the user s geographical information such as ZIP code. For these embodiments the standalone performance metric preferably is modified to take into account the outside weather such as the outside temperature.

According to some other embodiments the performance metrics can be more complex including both HVAC performance and other energy performance metrics such as can be acquired from homes with smart meters connected to the cloud.

In addition to the efficiency metrics described in relation to other shared HVAC schedule efficiency metrics may include the average e.g. weekly monthly HVAC cost per square feet or cubic feet of a residence business or other location the average e.g. weekly monthly hours a HVAC system is in operation per square feet or cubic feet of a residence business or other location.

In some embodiments the thermostat management account will allow user search for shared HVAC schedules on a social network service based on a corresponding metric score or any other information relevant to selecting a shared HVAC schedule.

Specific embodiments of steps and features related to downloading HVAC schedules from social networking services are shown in the following figures.

At step the thermostat may be associated with the pre existing HVAC schedule selected at step . That is the selected HVAC schedule may be run or initiated on the thermostat of VSCU unit. The user or a server may modify the selected pre existing HVAC schedule before it is initiated on the thermostat. For example individual temperature selections may be modified deleted or added to the selected HVAC schedule before it is initiated.

The selected pre existing HVAC schedule may also be modified after the HVAC schedule is initiated at step . An example of how the selected schedule may be updated is discussed in the following section.

 D Using Automated Schedule Learning to Update a Selected HVAC Schedule that was Shared on a Social Networking Service

As mentioned previously an implementation of automated schedule learning as described above may be included with the aforementioned VSCU unit . For example VSCU unit may include intelligent features that learn about the users over time using multi sensor technology to detect user occupancy patterns and to track the way the user controls the temperature using schedule changes and immediate temperature control selections or inputs.

At a step input is received corresponding to template control selections. The temperature control selections may be provided at the control interface e.g. as described with respect to . The input may be received during a time period subsequent to step . The time period may be any length of time e.g. a day a week or a month.

At a step an updated HVAC schedule may be generated based on the pre existing HVAC schedule selected at step and temperature control selections receiving during step . Generating the updated HVAC schedule may include a number of subs steps and may be characterized by different learning phases. For example generating may include the following sub steps processing replicating overlaying mutually filtering clustering harmonizing comparing and establishing. These subsets are further explained and variations thereof are provided in the paragraphs above corresponding to . The generating of updated HVAC schedules may be accomplished under different modes of automated learning e.g. aggressive and steady state learning phases. These phases are further explained and variations thereof are provided in the paragraphs above corresponding to .

At step the thermostat may be associated with the updated HVAC schedule generated at step . That is the updated HVAC schedule may be run or initiated on the thermostat. In some cases a user may be given the option to confirm the selection of the HVAC schedule generated at step . The user or a server may modify the updated HVAC schedule before it is initiated on the thermostat. For example individual temperature selections may be modified deleted or added to the updated HVAC schedule before it is initiated.

Although method of and A was discussed at least in part as being performed by a user a server may also be used to perform method . And although method was discussed at least in part to HVAC schedules shared on a social network service HVAC schedules shared on an online gaming service or other online forum.

The updated HVAC schedules generated at steps and above can be shared similar to the way iTunes music play lists can be shared optionally in a social networking context. For example updated schedules can be shared on Facebook or MySpace or any other of the social networking services and online gaming services enumerated above. These updated schedules can be selected and initiated on other thermostats according to steps and above. Social network service according to some embodiments may allow the users to review shared HVAC schedules. According to some embodiment the users can compete with each to receive the best reviews as a means of encouraging energy savings behavior.

The sharing of settings and algorithms may be particularly useful among members of a specific demographic. For example swing non standard shift workers may benefit from adopting a program setpoint schedule that more accurately reflects their occupancy and sleep patterns. In another example swing non standard shift workers may benefit from occupancy algorithms that are more sensitive to occupancy detection during the nighttime. An example of such an algorithm may include decreasing the number of consecutive buckets of PIR sensor activity needed to activate an auto away and or auto arrival. For further details of thermostat sensing systems see co pending International Patent Application No. PCT US11 61479 supra. For further details of auto away and auto arrival algorithms see co pending International Patent Application No. PCT US11 61437 supra. Another example of types of algorithms that might be shared among thermostat owners relates to detection of the activity of household pets. In some cases for example in mild climates it may be useful for the auto away and auto arrival algorithms to ignore the detection of pets while in more extreme climates it may be useful not to ignore pets. Certain settings and or algorithms may further be suited to households with large or small pets for example settings relating to the PIR sensor angle of sensitivity may be set differently to ignore or detect occupancy and or activity of certain sizes of pets. In another example a first user may post a particular algorithm or setting for review by others. Other thermostat users may review the efficacy of algorithm or setting or even suggest changes. Yet other thermostat users may decide to adopt the posted algorithm or setting depending on such reviews.

In step a first user refines settings and or algorithms in his or her thermostat. In step the first user uploads the settings and or algorithms to a database such as database shown in . In step the first user notifies others of the settings and or algorithms. In some examples this notification is via a third party service such as social networking service shown in . In other examples the notification is through a the thermostat access client and thermostat management services and potentially in the form of a forum or bulletin board accessible by registered users of network connected thermostats. In step a second user sees the first user s notification and decides to adopt the first user s uploaded settings or algorithms. In step the second user downloads the settings and or algorithms to his or her thermostat. In step the second user after using the downloaded settings and or algorithms for some time offers comments ratings or other feedback. In some examples the feedback is posted publicly for other to see. In step a third user views second user s feedback and based on it decides to download the settings and or algorithms. In some examples the first user may modify the settings and or algorithms in response to the second user s feedback thereby improving the settings and or algorithms. In some examples users are asked to rate the shared material on a ratings scale of one to five stars and other users may indicate whether or not they found another s review to be helpful.

Various modifications may be made without departing from the spirit and scope of the invention. Indeed various user interfaces for operating thermostats HVACSs and other devices have been provided yet the designs are meant to be illustrative and not limiting as to the scope of the overall invention. While methods and systems have been described for establishing HVAC schedules it is contemplated that these methods may be applied to any to other schedules e.g. watering schedules indoor outdoor lighting schedules and security schedules. It is to be further appreciated that the term thermostat as used hereinabove and hereinbelow can include thermostats having direct control wires to an HVAC system and can further include thermostats that do not connect directly with the HVAC system but that sense an ambient temperature at one location in an enclosure and cooperatively communicate by wired or wireless data connections with a separate thermostat unit located elsewhere in the enclosure wherein the separate thermostat unit does have direct control wires to the HVAC system. According to some embodiments one or more of the above teachings is advantageously combined with one or more teachings of one or more of the following commonly assigned applications each of which is incorporated by reference herein International Application No. PCT US12 00007 filed Jan. 3 2012 U.S. Ser. No. 13 434 560 filed Mar. 29 2012 and U.S. Ser. No. 13 624 875 filed Sep. 21 2012. Accordingly the invention is not limited to the above described embodiments but instead is defined by the appended claims in light of their full scope of equivalents.

