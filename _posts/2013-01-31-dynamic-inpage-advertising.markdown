---

title: Dynamic in-page advertising
abstract: Advertisements displayed in a web page are enabled to be changed as a context of the web page changes without reloading the web page. A first set of one or more advertisements may be displayed on a web page. One or more of the displayed advertisements may be replaced with one or more alternative advertisements. Selection of the alternative advertisements is triggered based on the occurrence of one or more events that cause a change in a context of the web page. The display of the alternative advertisements is performed dynamically, without the web page needing to be reloaded. In this manner, the advertisements displayed on a web page may be changed based on the change in web page context, to provide advertisements to users that correspond to the changing context.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08788346&OS=08788346&RS=08788346
owner: Yahoo! Inc.
number: 08788346
owner_city: Sunnyvale
owner_country: US
publication_date: 20130131
---
This application is a continuation of U.S. application Ser. No. 13 436 307 filed on Mar. 30 2012 now allowed which is a continuation of U.S. application Ser. No. 12 262 497 filed on Oct. 31 2008 now U.S. Pat. No. 8 175 922 both of which are incorporated by reference herein in their entireties.

According to one definition advertising is a paid one way communication through a medium in which an advertiser is identified and the message i.e. the advertisement provided by the advertiser is controlled. Advertising may be performed for a variety of purposes including publicity public relations product placement sponsorship underwriting and sales promotion. A variety of mediums are used to convey an advertisement including television radio movies magazines newspapers the Internet and billboards.

Online Advertising relates to the promoting of products and services using the Internet and World Wide Web. Typical online advertisement types include banner ads floating ads pop up ads and video ads which are provided through a browser to the user s computer desktop. Contextual advertising refers to a form of Internet advertising marketing where advertisements are selected and served by automated systems based on content displayed to the user. For example a contextual advertisement selection system may scan the text of a web page for keywords and select advertisements based on any keywords located in the text. When the web page is displayed for the user contextual advertisement selection system provides the selected advertisements for display on the web page.

Dynamic web pages which are generated with client side scripting languages e.g. JavaScript or similar scripting languages have contents which may change without generating new page views e.g. changing a portion of the contents of the web page without a complete reloading of the web page . The contents of a dynamic web page may change due to a user interacting with features of the web page for example but the web page as a whole is not reloaded. As a result the real time state of the dynamic web page which the user sees at any particular moment may change substantially from the original initially loaded web page content. Current advertisement relevance matching techniques are based on page view events where advertisements are matched to the contents of a web page at the time the web page is loaded. As a result as the user interacts with the dynamic web page and the content is modified the advertisements in the web page may become less relevant to what the user is currently seeing and experiencing.

Advertisements displayed in a web page are enabled to be changed as a context of the web page changes. For instance a first set of one or more advertisements may be displayed on a web page. One or more of the displayed advertisements may be replaced with one or more alternative advertisements. Selection of the alternative advertisements is triggered based on the occurrence of one or more events that cause a change in a context of the web page. The display of the alternative advertisements is performed dynamically without the web page needing to be completely reloaded. In this manner the advertisements displayed on a web page may be changed based on the change in web page context to provide advertisements to the user that better correspond to the changing context.

In one implementation a method for dynamically providing advertisements in a web page is provided. A first request is transmitted for one or more advertisements for display on a web page. The first set of one or more advertisements is received and is provided to be displayed on the web page. At least one event notification is received that indicates a modification to a context of the web page. A second request for one or more advertisements for display on the web page is generated based on the event notification s . A second set of one or more advertisements is received and is provided to be displayed on the web page in place of at least one advertisement of the first set.

In a further implementation of the method a plurality of event notifications may be received that indicate a plurality of modifications to the context of the web page. The plurality of modifications to the context of the web page may be aggregated. The second request for advertisements may be generated when an event notification corresponding to a trigger event is received such as when the aggregated context modification reaches a predetermined threshold.

In a further implementation of the method a request from the web page for data from a web service may be received. The information related to the received request for data from the web service may be stored as a first event notification. The request for data may be transmitted to the web service. Response data may be received from the web service. The response data may be stored as a second event notification.

In another implementation a dynamic advertisement provider configured to dynamically provide advertisements in a web page is provided. In one example implementation the dynamic advertisement provider includes an advertisement request module ARM and a page event listener module PELM . The ARM is configured to generate a first request for one or more advertisements for display on a web page to receive a first set of one or more advertisements based on the first request and to provide the first set of one or more advertisements to be displayed on the web page. The PELM is configured to receive at least one event notification indicating a modification to a context of the web page and to provide the received at least one event notification to the ARM. The ARM is configured to generate a second request for one or more advertisements for display on the web page based on the event notification s to receive a second set of one or more advertisements based on the second request and to provide the second set of one or more advertisements to be displayed on the web page in place of at least one advertisement of the first set.

In a further implementation the PELM may include a context modification aggregator configured to receive a plurality of event notifications indicating a plurality of modifications to the context of the web page and to aggregate the plurality of modifications to the context of the web page indicated by the plurality of event notifications to generate an aggregated modification to the context of the web page.

In a still further implementation the ARM may include a context comparator configured to determine whether the aggregated modification has reached a predetermined threshold and if the aggregated modification is determined to have reached the predetermined threshold to enable the ARM to generate the second request.

In a still further implementation the PELM may include a trigger event generator configured to determine whether a received event notification corresponds to a trigger event. The ARM may be configured to generate the second request if the received event notification is determined to correspond to the trigger event.

In a still further implementation a web service interface may be configured to receive a request from the web page for data from a web service. The context modification aggregator may be configured to store information related to the received request for data from the web service as a first event notification. The web service interface may be configured to transmit the request for data to the web service and to receive response data from the web service. The context modification aggregator may be configured to store the response data as a second event notification.

Computer program products are also described herein. The computer program products include a computer readable medium having computer program logic recorded thereon for enabling advertisements to be dynamically displayed in a web page according to the implementations described herein.

Further features and advantages of the invention as well as the structure and operation of various embodiments of the invention are described in detail below with reference to the accompanying drawings. It is noted that the invention is not limited to the specific embodiments described herein. Such embodiments are presented herein for illustrative purposes only. Additional embodiments will be apparent to persons skilled in the relevant art s based on the teachings contained herein.

The features and advantages of the present invention will become more apparent from the detailed description set forth below when taken in conjunction with the drawings in which like reference characters identify corresponding elements throughout. In the drawings like reference numbers generally indicate identical functionally similar and or structurally similar elements. The drawing in which an element first appears is indicated by the leftmost digit s in the corresponding reference number.

The present specification discloses one or more embodiments that incorporate the features of the invention. The disclosed embodiment s merely exemplify the invention. The scope of the invention is not limited to the disclosed embodiment s . The invention is defined by the claims appended hereto.

References in the specification to one embodiment an embodiment an example embodiment etc. indicate that the embodiment described may include a particular feature structure or characteristic but every embodiment may not necessarily include the particular feature structure or characteristic. Moreover such phrases are not necessarily referring to the same embodiment. Further when a particular feature structure or characteristic is described in connection with an embodiment it is submitted that it is within the knowledge of one skilled in the art to implement such feature structure or characteristic in connection with other embodiments whether or not explicitly described.

Embodiments of the present invention relate to online advertising such as advertising in the form of contextual advertising and sponsored search. show examples of the displaying of advertisements in contextual advertising and sponsored search environments. For instance shows a block diagram of a computer that a user may use to view content . As shown in computer has a display that displays a web page . For example web page may be open in a web browser. The user may cause web page to be displayed in any manner including navigating to web page according to a URL uniform resource locator address for web page . As shown in web page includes content that the user has caused to be displayed by navigating to web page . Furthermore web page may include any number and arrangement of advertisements including advertisements shown in . Advertisements may be displayed according to any suitable form including as banner ads floating ads pop up ads and video ads. In the example of advertisement is shown as a banner ad at the top of web page e.g. a North banner and advertisements and are both positioned adjacent to a right edge of web page . Advertisements may be selected for display by searching on text included in content and selecting advertisements that are related to keywords found in the searched text.

Search results page may include any number and arrangement of advertisements including advertisements shown in . Advertisements may be displayed in search results page according to any suitable form including as banner ads floating ads pop up ads text ads and video ads. In the example of advertisements are displayed in a column adjacent to a right edge of web page . Advertisements may each be sponsored search ads provided by advertisers. An advertiser may pay or provide other compensation for having one or more of advertisements appear in a sponsored section of search results page for one or more particular queries.

Web page shown in and search results page may be dynamic web pages. Dynamic web pages have contents which may change without generating new page views e.g. a portion of the contents of the web page may change without a reloading the web page . Dynamic web pages may be generated in various ways including being generated with client side scripting languages e.g. JavaScript or similar scripting languages . The contents of a dynamic web page may change due to a user interacting with features of the web page for example. For instance referring to a user viewing web page may move their cursor over or click on a feature displayed in content . By moving their cursor over or clicking on the feature displayed in content content may be modified such as by displaying or modifying an image associated with the feature displaying or modifying text related to the feature and or other content modification. Referring to a user viewing search results page may enter a new query into data entry box which may cause a change in the content of search results section or other change in content including a display of search query assist terms and or other content modification.

In either case and the modified content may be displayed without reloading web page or search results page . As a result the real time state of the dynamic web page which the user sees at any particular moment may change substantially from the original initially loaded web page content and the modified version is not always addressable e.g. using URL address . Conventional advertisement relevance matching techniques are based on page view events where advertisements are matched to the contents of a web page at the time the web page is loaded. As a result as the user interacts with the dynamic web page and the content changes the advertisements in the web page may become less relevant to what the user is currently seeing and experiencing. Referring to as content is modified without reloading web page advertisements may become less relevant to the context of web page than when they were originally loaded. Referring to as the content of search results page is modified without reloading search results page advertisements may become less relevant to the context of search results page than when they were originally loaded.

Embodiments of the present invention overcome deficiencies of conventional advertisement relevance matching techniques enabling greater numbers of advertisements and advertisements having greater relevance to be displayed in dynamic web pages without web page reloading. Example embodiments for dynamically providing advertisements are described in the following section.

Example embodiments are described herein for dynamically providing advertisements in web pages. The example embodiments described herein are provided for illustrative purposes and are not limiting. Further structural and operational embodiments including modifications alterations will become apparent to persons skilled in the relevant art s from the teachings herein.

As described above dynamic web pages e.g. which may be generated with client side JavaScript or similar client side scripting languages have contents which change without generating new page views. A lack of discrete page view events means that the real time state of the web page that which the user sees at any moment may change substantially from the web page content which is initially loaded and thus advertisements displayed to the user may become less relevant to what the user is currently seeing and experiencing.

Embodiments are provided for matching and delivering advertisements to dynamic web pages. User interactions with a dynamic web page e.g. by clicking on links inputting text strings panning and zooming in a map etc. generate events which may include application programming interface API calls which are collected and used to identify the real time content of the web page and a context of the user s interactions. This information is used to update the in page advertisements displayed to the user providing more situationally relevant advertisements which change as the context of the web page changes.

Various embodiments for dynamically providing advertisements on web pages are described herein. For instance shows a block diagram of a dynamic advertisement system according to an example embodiment of the present invention. As shown in system includes a web page a dynamic advertisement provider and an advertisement server . Dynamic advertisement provider is configured to provide advertisements for display on a web page in a dynamic manner such that advertisements displayed in web page may be repeatedly updated without having to reload web page . Dynamic advertisement provider may be implemented in hardware software firmware or any combination thereof. For example dynamic advertisement provider may be implemented as computer code configured to be executed in one or more processors. Alternatively dynamic advertisement provider may be implemented as hardware logic electrical circuitry.

System is described as follows with respect to . shows a flowchart for dynamically providing advertisements according to an example embodiment of the present invention. Dynamic advertisement provider may operate according to flowchart for example. Further structural and operational embodiments will be apparent to persons skilled in the relevant art s based on the discussion regarding flowchart . Flowchart is described as follows.

Flowchart begins with step . In step a first request for one or more advertisements for display on a web page is transmitted. As shown in web page is displayed. Web page may display content such as content . Content may be included in the source code for web page and or may be requested from one or more content servers. Content may be similar to content shown in and or the content of search results page shown in for example. Typically advertisements to be displayed in web page such as advertisement are requested from an advertisement server such as advertisement server . At the time web page is loaded dynamic advertisement provider receives a first request from web page for one or more advertisements to display. First request may include information regarding a context of web page that may be used to select advertisements for web page . As shown in dynamic advertisement provider transmits first request to advertisement server .

In step a first set of one or more advertisements is received. In response to first request advertisement server selects one or more advertisements. Advertisements server may select the one or more advertisements based on a context of web page which may be included in information received in first request . The context of web page may be based upon a variety of factors including being based upon content of web page attributes of a user causing web page to be displayed attributes of an electronic device being used to display web page and or other elements of context. As shown in advertisement server transmits a first set of advertisements which is received by dynamic advertisement provider . First set of advertisements may include any number of one or more advertisements selected by advertisement server depending on the number of advertisements to be displayed in web page .

In step the first set of one or more advertisements to be displayed on the web page is provided. As shown in dynamic advertisement provider provides first set of advertisements to web page for display. In the example of first set of advertisements includes advertisement which is shown displayed in web page .

In step at least one event notification indicating a modification to a context of the web page is received. shows another view of system where an event notification is received by dynamic advertisement provider from web page according to an example embodiment of the present invention. Event notification indicates that a modification to the context of web page has occurred. Dynamic advertisement provider may receive any number of one or more event notifications from web page over time.

The modification to the context of web page indicated by event notification may occur in various ways including by user interacting with content of web page by code scripts e.g. JavaScript or other scripting language of web page causing modification to content and or in other ways. Examples of modifications to the context of web page include user causing a pop up window text graphics to appear and or be modified in web page by moving a mouse pointer over a feature of content clicking on a feature of content or other action by user user typing text into an entry box in web page such as a search query or other textual information user panning across a map displayed as content in web page e.g. panning from a first location to a second location in the map user selecting an option from a checklist a drop down menu or other selectable feature of content and or any other way that user may interact with content of web page . For example shows a content in web page which is a modified form of content previously shown displayed in web page in . The modification to the context of web page may be based directly upon the interaction of user with content e.g. text entered by user or indirectly due to the interaction of user with content e.g. information generated script due to an interaction by user with content .

Information regarding the modification to the context of web page may be included in event notification . For example event notification may include text entered by user e.g. a search query new text appearing in web page e.g. generated by JavaScript or other scripting language tags associated with new or modified graphics and or text appearing in web page an indication of options selected by user a new map location viewed by user in web page and or any other information regarding the modification to the context of web page .

In step a second request for one or more advertisements for display on the web page is generated based on the at least one event notification. In an embodiment dynamic advertisement provider may generate a second request for advertisements that includes information regarding the one or more event notifications received from web page . The second request for advertisements may be generated because the relevance of set of advertisements previously provided for display in web page may have decreased due to the change s in context in web page indicated by event notification s . Dynamic advertisement provider may generate a second request upon the occurrence of one or more triggering events such as receiving a predetermined number of event notifications receiving a particular type of event notification passage of a predetermined amount of time another type of triggering event and or any combination of triggering events.

In step the second request is transmitted. As shown in dynamic advertisement provider may transmit a second request which is the second request for advertisements generated based on one or more event notifications . Second request is received by advertisement server . Based on the information regarding event notification s included in second request advertisement server may select one or more additional and or alternative advertisements for display in web page . For example advertisement server may select the one or more additional and or alternative advertisements based on conventional context matching techniques such as may have been performed by advertisement server as described above with regard to step .

In step a second set of one or more advertisements is received. As shown in advertisement server transmits a second set of advertisements which is received by dynamic advertisement provider . Second set of advertisements may include any number of one or more advertisements depending on the number of advertisements determined to be displayed in place of advertisements currently displayed in web page e.g. first set of advertisements .

In step the second set of one or more advertisements is provided to be displayed on the web page in place of at least one advertisement of the first set. As shown in dynamic advertisement provider provides second set of advertisements to web page for display. In the example of second set of advertisements includes an advertisement which is shown displayed in web page in place of advertisement . Note that advertisement is displayed in web page even though web page is not reloaded.

According to system and flowchart one or more advertisements may be provided to replace one or more other advertisements displayed in a web page as the context of the web page changes prior to any reloading of the web page rather than the same one or more advertisements being displayed in the web page from the time the web page is first loaded as in conventional advertisement providing systems. This provides advantages to advertisement providers because greater numbers of advertisements may be displayed during any single loading of a web page. This also provides advantages to consumers because advertisements displayed on a web page to a consumer may be updated as further information regarding the consumer is gained due to modifications in the context of the web page. In this manner the consumer may be enabled to view advertisements of increasing relevance while viewing and or interacting with the web page.

System may be implemented in various ways. For example in an embodiment web page and dynamic advertisement provider may be hosted on different computer systems and may communicate with each other through a network. In another embodiment web page and dynamic advertisement provider may be present on the same computer system and thus may communicate with each other in an inter computer manner.

For instance shows a dynamic advertisement system according to an example embodiment of the present invention. System is an example of system shown in . As shown in system includes an electronic device a network a content server and advertisement server . As shown in electronic device includes webpage and dynamic advertisement provider . The elements of system are described as follows.

Electronic device may be any type of electronic device that may be configured with web browsing functionality including a desktop computer e.g. a personal computer etc. a mobile computing device e.g. a cell phone smart phone a personal digital assistant PDA a laptop computer a notebook computer etc. or a mobile email device e.g. a RIM Blackberry device .

As shown in electronic device is coupled to network by a communication link . Network may be any type of communication network such as a local area network LAN a wide area network WAN a personal area network PAN or a combination of communication networks. In embodiments network may include the Internet and or an intranet. Electronic device can communicate with entities over network including content server and advertisement server . As shown in content server is coupled to network by a communication link and advertisement server is coupled to network by a communication link . In embodiments where network includes the Internet web pages such as web page which form a portion of the World Wide Web are available for retrieval by electronic device through network . On the Internet web pages may be identified located by a uniform resource locator URL such as http www.yahoo.com and or by other mechanisms. Electronic device can access web page through network by supplying a URL corresponding to web page to a document server not shown in .

Electronic device operates a web browser which is configured to load and display web pages such as web page . Furthermore web browser may include dynamic advertisement provider or may be configured to load dynamic advertisement provider . In an embodiment web page and dynamic advertisement provider may be received separately and loaded separately into web browser . In another embodiment web page and dynamic advertisement provider may be packaged together and loaded together in web browser . For instance shows a block diagram of a web page source code according to an example embodiment of the present invention. As shown in web page source code includes a content related source code portion and dynamic advertisement provider . In such an embodiment dynamic advertisement provider may have the form of program code. Web browser may request a web page from a server and in response may receive web page source code corresponding to webpage . Web browser may obtain content for web page by accessing one or more content servers through network as indicated by content related source code portion . Furthermore web browser may obtain one or more advertisements for web page by accessing advertisement server through network according to dynamic advertisement provider as described above.

Dynamic advertisement provider may be configured in various ways to perform its functions. For instance shows a block diagram of dynamic advertisement provider according to an example embodiment of the present invention. As shown in dynamic advertisement provider may include a page event listener module PELM and an advertisement request module ARM . In an embodiment ARM may be configured to perform steps and of flowchart and PELM may be configured to perform step .

PELM and ARM may be implemented in hardware software firmware or any combination thereof. For example PELM and or ARM may be implemented as computer code configured to be executed in one or more processors. Alternatively PELM and or ARM may be implemented as hardware logic electrical circuitry. For instance in an embodiment ARM may include a JavaScript or other programming or scripting language library which includes functionality in the form of program code for inserting advertisements into a web page.

Referring to ARM may be configured to generate first request to be transmitted to advertisement server for one or more advertisements for display on web page to receive first set of advertisements and to provide first set of advertisements to be displayed on web page . Referring to PELM may be configured to receive event notification s indicating modifications to a context of web page and to provide event notification s to ARM .

In an embodiment PELM name monitor modifications to web page as modifications to a document object model DOM that is representative of web page . A static web page contains HTML which is served in a final structure and form by a web server. On the web server the HTML document may be constructed dynamically or may be read from a static file in storage and served. Either of these types of HTML document may be considered to be static web pages. The structure and contents of a static web page does not change once the web page has been transmitted to the client browser e.g. to web browser shown in . In contrast a dynamic web page includes content and or structure that may be modified after the web page has been loaded by web browser .

When an HTML document is loaded by web browser an in memory data structure corresponding to the structure and contents of the HTML document is generated. This data structure is the DOM. The DOM represents the HTML document in web browser and includes the content of the HTML document the structural relationships among elements of the HTML document as well as presentational descriptions and or further elements. The DOM is a tree structure that includes nodes arranged in a hierarchy. The nodes can be HTML elements text nodes representing the text content of the HTML document attributes of elements images etc. In an embodiment when web browser reads an HTML document it generates the DOM tree structure to represent the HTML document.

A dynamic web page contains some script elements typically written in a DOM scripting language such as JavaScript or ECMAScript . Such scripts are executed in either the in order parsing of the HTML document or in response to events generated by the DOM. The scripts of a dynamic web page can modify the DOM tree structure such as by adding nodes removing nodes moving nodes changing values and properties event synthesizing and further types of events. The scripts can also load additional data from an external source by issuing subsequent HTTP requests to external servers. The retrieved data is parsed by the script and can be inserted into the DOM tree or otherwise used to modify the DOM.

PELM may be configured to receive DOM events which modify the contents of the page in the form of event notifications . For example event notifications may have the form of particular types of modifications including a DOMNodeInserted event e.g. a node inserted into the DOM tree a DOMNodeRemoved event e.g. a node removed from the DOM tree a DOMSubtreeModified event e.g. a modification to a node of the DOM tree or other type of modification each of which may be provided to PELM when the DOM is correspondingly modified. PELM may include event listeners for these and many form elements hyperlinks images etc. which respond to onClick on Change or other events generated when the user interacts with the elements of the web page e.g. types a value into a form field clicks a button selects something etc .

Referring to ARM may be configured to generate second request to be transmitted to advertisement server for one or more advertisements for display on web page based on event notification s to receive second set of advertisements and to provide second set of advertisements to be displayed on web page in place of one or more advertisements of first set of advertisements .

PELM and ARM may be configured in various ways to perform their respective functions. For example shows a block diagram of a system for communications between web browser and advertisement server according to an example embodiment of the present invention. Web browser includes e.g. has loaded web page and examples of PELM and ARM . System is described as follows.

As shown in in an embodiment PELM may include a context modification aggregator and a trigger event determiner . Context modification aggregator and trigger event determiner are described as follows with respect to . shows a flowchart for enabling a web page to be dynamically updated with advertisements according to an example embodiment of the present invention. Further structural and operational embodiments will be apparent to persons skilled in the relevant art s based on the discussion regarding flowchart . Flowchart is described as follows.

Flowchart begins with step . In step at least one event notification indicating a modification to a context of a web page that displays a set of one or more advertisements is received. For example as shown in context modification aggregator receives event notification . As described above event notification indicates a modification to a context of web page . As shown in web page displays content and advertisement which may have been previously loaded into web page by ARM according to steps shown in for instance . Context modification aggregator may be configured to store event notification in storage e.g. in one or more memory devices e.g. cache memory storage devices or other storage associated with electronic device shown in . In an embodiment context modification aggregator may be configured to perform the step of aggregating a plurality of event notifications received from web page to generate an aggregated modification to the context of web page .

In step an event notification that corresponds to a trigger event is determined. For example trigger event determiner may monitor event notifications received by context modification aggregator for the receipt of an event notification corresponding to a trigger event. Trigger event determiner may be configured to monitor event notifications for various types of and or combinations triggering events. Examples of triggering events include the receipt of a predetermined number of event notifications e.g. a pre determined amount of content is added to the DOM a predetermined amount of content is removed from the DOM a predetermined amount of content is modified in the DOM any combination thereof etc. the receipt of a particular type of event notification e.g. any type of event described elsewhere herein including a user interacting with an element on web page typing a search query into a dialog box panning across a map to a new location selecting and option in a checklist or drop down box etc. the passage of a predetermined amount of time or other suitable type of triggering event. When trigger event determiner determines that an event notification corresponding to a trigger event is received step may be performed.

In step the at least one event notification is provided to enable one or more alternative advertisements to be obtained and displayed on the web page in place of at least one advertisement of the first set. For example trigger event determiner may instruct context modification aggregator to transmit an aggregated context modification to ARM after determining a trigger event has occurred e.g. in step .

As shown in ARM receives aggregated context modification . As described above ARM may perform steps of flowchart shown in . Referring to ARM may be configured to generate second request to be transmitted to advertisement server for one or more advertisements for display on web page based on aggregated context modification . As shown in ARM may include a context comparator . Context comparator may be configured to determine whether the aggregated context modification to web page indicated by aggregated context modification has reached a predetermined threshold. If aggregated context modification is determined to have reached the predetermined threshold ARM may generate second request . If aggregated context modification is not determined to have reached the predetermined threshold ARM may accumulate aggregated content modification received from context modification aggregator until the accumulated aggregated content modification reaches a predetermined threshold.

As described above and shown in ARM transmits second request which is received by advertisement server . In response advertisement server selects a second set of advertisements based on the modified context indicated in second request and transmits second set of advertisements . ARM may receive second set of advertisements from advertisement server and may provide second set of advertisements e.g. including advertisement shown in to be displayed on web page in place of one or more advertisements of first set of advertisements including advertisement .

Note that context modification aggregator trigger event determiner and context comparator may be implemented in hardware software firmware or any combination thereof. For example context modification aggregator trigger event determiner and or context comparator may be implemented as computer code configured to be executed in one or more processors. Alternatively context modification aggregator trigger event determiner and or context comparator may be implemented as hardware logic electrical circuitry.

In embodiments information regarding modifications to the context of web page may be obtained with regard to network based applications e.g. web services that are accessed by web page . Data and web service APIs application programming interfaces such as Yahoo Maps Yahoo Local etc. currently do not generate revenue for the service provider e.g. Yahoo or the consumer web developers mashup builders etc . Developers often want to generate revenue through placing advertisements on their web pages through services like Google AdSense or Yahoo Content Match. However as mentioned above the nature of conventional data driven dynamic websites is that the relevance of displayed advertisements diminishes as users interact with the pages. Alternative models of embedding ads in the data streams such as Yahoo Content Match for RSS do not have clear analogs when data is being distributed via XML JSON or other protocols. Furthermore when those data streams are being consumed by software components not humans in an RSS reader it is difficult to guarantee that the advertisements are delivered to the user.

Embodiments of the present invention enable the monitoring of API calls. When data is requested from a remote application in the form of an API call the data may be requested in response to some an event in the web page which may alter the context of the web page. As a result a second set of advertisements may be desired to be displayed in the web page that better reflects the altered context of the web page. In this manner more targeted advertisements can be displayed on a web page in real time reflecting the current contents being served by the web services. An API call from a web page may be received as an event notification by context modification aggregator and may be optionally considered to be a type of trigger event by trigger event determiner if desired for the particular implementation.

For example shows a block diagram of a system for communications between web browser advertisement server and a web service according to an example embodiment of the present invention. In FIG. web browser includes e.g. has loaded web page and examples of PELM and ARM . System is described as follows.

As shown in in an embodiment PELM may include context modification aggregator trigger event determiner and a web service interface note that in an alternative embodiment web service interface may be separate from PELM . Web service interface is described as follows with respect to . shows a flowchart for enabling communications between a web page and a web service according to an example embodiment of the present invention. Further structural and operational embodiments will be apparent to persons skilled in the relevant art s based on the discussion regarding flowchart . Flowchart is described as follows.

Flowchart begins with step . In step a request from the web page is received for data from a web service. For example as shown in web service interface and context modification aggregator receive a web service data request from web page .

In step information related to the received request for data from the web service is stored as a first modification event. In an embodiment context modification aggregator is configured to store requests for web service data such as web service data request as a modification event similarly to storing information received in an event notification e.g. event notification . For example web service data request may include a search query or other textual information a request to display a location on a map or any other information related to a request for data from a web service. Such information may be stored by context modification aggregator as a modification event. Context modification aggregator may aggregate information of web service data request with other context modification information e.g. received as one or more other event notifications which may be output as aggregated context modification . Information of web service data request and further information included in aggregated context modification may be used by ARM to obtain a second set of advertisements e.g. second set of advertisements from advertisement server to be provided to web page for display in place of prior display advertisements as described elsewhere herein.

In step the request for data is transmitted to the web service. As shown in web service interface transmits web service request . Web service interface may be any type of application programming interface API or other remote application interface configured to communicate with a remote application such as web service . Web service interface may include an API library configured to provide for dynamic in page access to web service by web page for example. Web service request is received and processed by web service . Web service may be any type of network based web service or other network based application including a mapping tool e.g. Yahoo Maps MapQuest and Google Maps an image sharing tool e.g. Yahoo Flickr or any other network based web service or application. Thousands of examples of web service exist and will be known to persons skilled in the relevant art s .

In step response data is received from the web service. As shown in web service generates and transmits a web service response which is received by web service interface . Web service response includes response data corresponding to web service request . For example web service response may include textual information generated data mapping information images video and or any other relevant data.

In step the response data is provided to enable display of the web page to be modified based on the response data. As shown in web service interface provides web service response data to web page which includes data received in web service response . After receiving web service response data content in web page may be modified accordingly e.g. by web browser .

In the embodiment of information related to the request received from web page for data from web service may be included in an aggregated context modification for web page . In a further embodiment the response data received from web service may additionally or alternatively be included in an aggregated context modification for web page . For instance in an embodiment flowchart shown in may further include a step shown in . As shown in in step the response data is stored as a second modification event. In such an embodiment web service response data may also be stored as a modification to the context of web page by context modification aggregator . Context modification aggregator may provide the response data to ARM along with any further aggregated context modification information upon the occurrence of a trigger event.

For example shows a block diagram of a system for communications between web browser advertisement server and web service according to another example embodiment of the present invention. System is generally similar to system shown in with differences described as follows. As described above with respect to web service interface and context modification aggregator receive web service data request web service interface transmits web service request to web service and web service interface receives web service response from web service . As further shown in web service interface may generate web service response information which may include information received in web service response . Context modification aggregator receives web service response information and may store information received in web service response information as a modification event similarly to storing information received in an event notification e.g. event notification . Context modification aggregator may optionally aggregate the information received in web service response information with other context modification information e.g. received as one or more event notifications which may be output as aggregated context modification to ARM .

Embodiments of the present invention enable the dynamic displaying of advertisements in a web page without the necessity for reloading the web page. The updating of advertisements may be triggered based on the occurrence of one or more events which may include interactions by a user with the web page. By enabling the updating of advertisements this manner a likelihood that a user will click on the advertisements increases which may enable in an increase in the cost per click CPC to be charged by an advertising service. Furthermore the number of advertisements presented to a user in the web page may be increased which may enable additional revenue to be generated in the form of the aggregate number of impressions CPM .

As shown in web page includes an image library section an advertisements section a selected image a text entry box and a search button . Image library section includes a plurality of images including first fourth images . Any number of images may be present in image library section . Advertisements section includes a plurality of advertisements including first fourth advertisements . Any number of advertisements may be present in advertisements section . A user interacting with web page is enabled to select an image in image library section to be displayed as selected image in a larger form. For example the user may be enabled to select an image for display as selected image by clicking on one of images or by entering a textual description of one of images into text entry box and clicking on search button . In the example of a user has entered the text airplane into text entry box and has clicked on search button to cause image which is an image of an airplane to be displayed as selected image .

Web page is a dynamic web page such that user interactions with images that cause display of a selected image do not cause a reloading of web page . Instead selected image is dynamically updated to be a selected one of images . In a conventional advertisement providing system because web page is not reloaded when a user interacts with images advertisements will remain static despite the change in context of web page . The user interacting with web page may have indicated an interest in airplanes by selecting image to be displayed as selected image . However because advertisements are static replacement advertisements that may be more relevant to the modified context of web page cannot be obtained to replace one or more of advertisements in web page .

According to embodiments updates to advertisements may be triggered based on the occurrence of one or more events which may include interactions by a user with web page . For example the user clicking on one of advertisements and or entering text into text entry box may be considered a modification of context of web page generating an event notification e.g. event notification . Dynamic advertisement provider shown in may process the event notification alone or in combination with one or more other received event notifications to request a second set of advertisements from advertisement server .

For example shows a view of web page after the user has entered the text house in text entry box and has selected search button . As shown in second image is displayed as selected image because second image is an image of a house. Referring to the example of dynamic advertisement provider shown in the text house was transmitted to context modification aggregator from web page as event notification . Trigger event determiner may have determined receipt of the text house to be a triggering event or may have determined another triggering event causing aggregated content modification which includes the text house to be provided to ARM . ARM generates a second request for a second set of advertisements based on the modified context of web page which is transmitted to advertisement server . A second set of advertisements is received by ARM based on second request and is provided to web page . For example referring to second set of advertisements may include an advertisement an advertisement and advertisement . Advertisements and are new advertisements that are selected to replace advertisements and in web page based on the modification to the context of web page . For example advertisements and may be advertisements for real estate agents commercial properties or other entity user services related to the text house. 

Advertisement may have maintained relevancy relative to the modification of context to web page and thus may have been re provided for display in web page . In one embodiment advertisement may have been transmitted to ARM in second set of advertisements . Alternatively ARM may store previously received advertisements e.g. in a cache or other storage mechanism such as advertisement so that the previously received advertisements do not need to be retransmitted from advertisement server when being provided to web page for re display.

Embodiments of the present invention such as described above with respect to web page enable users to interact with dynamic web pages while providing the users with an increased number of advertisements and or more relevant advertisements. Examples of such dynamic web pages include those provided by image viewing applications e.g. Yahoo Flickr audio applications video applications e.g. YouTube mapping tools e.g. Yahoo Maps MapQuest and Google Maps or any other network based web service or application. Thousands of examples of such web based applications exist and will be known to persons skilled in the relevant art s .

In one example web page may include a mashup as content. A mashup is a web application that combines data from more than one source into an integrated tool. In one example web page may provide access to a mashup of a mapping tool and Yahoo Local. The mapping tool may display a map of a location on web page and Yahoo Local may be used to display information regarding the displayed location including restaurants businesses parks etc. The information may be displayed in the map or adjacent to the map e.g. in the form of text or images . A user interacting with this mashup at web page may pan around in the map to display various locations which may generate events notifications. Furthermore the user may interact with displayed information regarding a location including the restaurants businesses parks and other features displayed in the map which may also generate even notifications. As described elsewhere herein these event notifications may be used to provide in page updates to advertisements displayed in web page .

As described above dynamic advertisement provider may include hardware software firmware or any combination thereof to perform at least a portion of its functions. For example any one or more of dynamic advertisement provider PELM ARM web browser web service interface context modification aggregator trigger event generator and or context comparator shown in and may include computer code configured to be executed in one or more processors. Alternatively or additionally any one or more of dynamic advertisement provider PELM ARM web browser web service interface context modification aggregator trigger event generator and or context comparator may include hardware logic electrical circuitry.

In an embodiment dynamic advertisement provider PELM ARM web browser web service interface context modification aggregator trigger event generator and or context comparator may implemented in one or more computers including a personal computer a mobile computer e.g. a laptop computer a notebook computer a handheld computer such as a personal digital assistant PDA or a Palm device etc. or a workstation. These example devices are provided herein purposes of illustration and are not intended to be limiting. Embodiments of the present invention may be implemented in further types of devices as would be known to persons skilled in the relevant art s .

Devices in which embodiments may be implemented may include storage such as storage drives memory devices and further types of computer readable media. Examples of such computer readable media include a hard disk a removable magnetic disk a removable optical disk flash memory cards digital video disks random access memories RAMs read only memories ROM and the like. As used herein the terms computer program medium and computer readable medium are used to generally refer to the hard disk associated with a hard disk drive a removable magnetic disk a removable optical disk e.g. CDROMs DVDs etc. zip disks tapes magnetic storage devices MEMS micro electromechanical systems storage nanotechnology based storage devices as well as other media such as flash memory cards digital video discs RAM devices ROM devices and the like. Such computer readable media may store program modules that include logic for implementing dynamic advertisement provider PELM ARM web browser web service interface context modification aggregator trigger event generator and or context comparator flowchart of flowchart of flowchart of step of and or further embodiments of the present invention described herein. Embodiments of the invention are directed to computer program products comprising such logic e.g. in the form of program code or software stored on any computer useable medium. Such program code when executed in a processing unit that includes one or more data processing devices causes a device to operate as described herein.

In an embodiment a method for providing advertisements in a web page includes receiving a first set of one or more advertisements for display on a web page providing the first set of one or more advertisements to be displayed on the web page receiving at least one event notification indicating a modification to a context of the web page generating a second request for one or more advertisements for display on the web page based on the at least one event notification receiving a second set of one or more advertisements and providing the second set of one or more advertisements to be displayed on the web page in place of at least one advertisement of the first set.

The receiving of at least one event notification indicating a modification to a context of the web page may include receiving a plurality of event notifications indicating a plurality of modifications to the context of the web page and aggregating the plurality of modifications to the context of the web page indicated by the plurality of event notifications to generate an aggregated modification to the context of the web page.

The generating a second request for one or more advertisements for display on the web page based on the at least one event notification may include generating the second request when the aggregated modification reaches a predetermined threshold.

The generating a second request for one or more advertisements for display on the web page based on the at least one event notification may also include generating the second request due to receiving an event notification corresponding to a trigger event.

The receiving at least one event notification indicating a modification to a context of the web page may include receiving a request from the web page for data from a web service and storing information related to the received request for data from the web service as a first event notification.

The receiving at least one event notification indicating a modification to a context of the web page may also include transmitting the request for data to the web service receiving response data from the web service and storing the response data as a second event notification.

The method may further include transmitting the request for data to the web service receiving response data from the web service and providing the response data to enable display of the web page to be modified based on the response data.

In yet another embodiment a system for providing advertisements in a web page may include an advertisement request module ARM and a page event listener module PELM . The ARM may be configured to generate a first request for one or more advertisements for display on a web page to receive a first set of one or more advertisements based on the first request and to provide the first set of one or more advertisements to be displayed on the web page. The PELM may be configured to receive at least one event notification indicating a modification to a context of the web page and to provide the received at least one event notification to the ARM. The ARM may also be configured to generate a second request for one or more advertisements for display on the web page based on the at least one event notification to receive a second set of one or more advertisements based on the second request and to provide the second set of one or more advertisements to be displayed on the web page in place of at least one advertisement of the first set.

The PELM may include a context modification aggregator configured to receive a plurality of event notifications indicating a plurality of modifications to the context of the web page and to aggregate the plurality of modifications to the context of the web page indicated by the plurality of event notifications to generate an aggregated modification to the context of the web page.

The ARM may also be configured to determine whether the aggregated modification has reached a predetermined threshold and if the aggregated modification is determined to have reached the predetermined threshold to generate the second request.

The PELM may also include a trigger event generator configured to determine whether a received event notification corresponds to a trigger event. The ARM may be configured to generate the second request if the received event notification is determined to correspond to a trigger event.

The PELM may also be configured to receive a request from the web page for data from a web service. The context modification aggregator may be configured to store information related to the received request for data from the web service as a first event notification.

The PELM may also be configured to transmit the request for data to the web service and to receive response data from the web service. The context modification aggregator may be configured to store the response data as a second event notification.

The system may further include a web service interface configured to transmit the request for data to the web service to receive response data from the web service and to provide the response data to enable display of the web page to be modified based on the response data.

In yet another embodiment a method for dynamically updating a web page includes receiving at least one event notification indicating a modification to a context of a web page that displays one or more advertisements determining a received event notification that corresponds to a trigger event and providing the at least one event notification to enable one or more advertisements to be obtained and displayed on the web page in place of at least one advertisement of the first set.

The receiving an at least one event notification indicating a modification to a context of a web page that displays one or more advertisements may include receiving a request from the web page for data from a web service and storing information related to the received request for data from the web service as a first event notification.

The receiving at least one event notification indicating a modification to a context of a web page that displays one or more advertisements may also include transmitting the request for data to the web service receiving response data from the web service and storing the response data as a second event notification.

In yet another embodiment system for dynamically updating a web page includes a context modification aggregator and a trigger event determiner. The context modification aggregator may be configured to receive at least one event notification indicating a modification to a context of a web page that displays one or more advertisements. The trigger event determiner may be configured to determine whether a received event notification corresponds to a trigger event. The context modification aggregator may be further configured to provide the at least one event notification if a received event notification is determined by the trigger event determiner to correspond to a trigger event to enable one or more advertisements to be obtained and displayed on the web page in place of at least one advertisement of the first set.

The context modification aggregator may be configured to receive a request from the web page for data from a web service and to store information related to the received request for data from the web service as a first event notification.

The system may further include a web service interface configured to transmit the request for data to the web service and to receive response data from the web service. The context modification aggregator may be configured to store the response data as a second event notification.

While various embodiments of the present invention have been described above it should be understood that they have been presented by way of example only and not limitation. It will be apparent to persons skilled in the relevant art s that various changes in form and details may be made to the embodiments described above without departing from the spirit and scope of the invention as defined in the appended claims. Accordingly the breadth and scope of the present invention should not be limited by any of the above described exemplary embodiments but should be defined only in accordance with the following claims and their equivalents.

