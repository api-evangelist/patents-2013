---

title: Active response gravity offload and method
abstract: A variable gravity field simulator can be utilized to provide three dimensional simulations for simulated gravity fields selectively ranging from Moon, Mars, and micro-gravity environments and/or other selectable gravity fields. The gravity field simulator utilizes a horizontally moveable carriage with a cable extending from a hoist. The cable can be attached to a load which experiences the effects of the simulated gravity environment. The load can be a human being or robot that makes movements that induce swinging of the cable whereby a horizontal control system reduces swinging energy. A vertical control system uses a non-linear feedback filter to remove noise from a load sensor that is in the same frequency range as signals from the load sensor.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09194977&OS=09194977&RS=09194977
owner: The United States of America as represented by the Administrator of the National Aeronautics and Space Administration
number: 09194977
owner_city: Washington
owner_country: US
publication_date: 20130726
---
The invention described herein was made by employee s of the United States Government and may be manufactured and used by or for the Government of the United States of America for governmental purposes without the payment of any royalties thereon or therefor.

The present invention relates generally to gravity simulation systems and more specifically to an active response gravity offload system and method for performing reduced gravity testing with robotic systems and humans.

Various types of reduced gravity or microgravity systems have been used in the past some of which are discussed below. These systems may provide helpful results in certain ways but are limited in other ways.

The National Aeronautics and Space Administration NASA has utilized a number of different types of gravity simulation systems. A Reduced Gravity Simulator utilized at Langley Research Center suspended an astronaut at an angle of 80.5 degrees so that only of their weight was supported by the ground while the rest was supported by a pulley system. The Reduced Gravity Simulator only allowed motion in one dimension and the pulleys were uncomfortable and were not able to support every part of the body.

Another system a partial gravity simulator POGO utilized an air controlled piston along with air bearings and gimbals to simulate reduced gravity. POGO used an air bearing rail to allow for maneuverability in two dimensions. POGO was used to train astronauts how to use tools and other hardware in reduced gravity. POGO although adding another dimension for motion induced significant inertial loads on the users. The friction within the system along with the mass created for less than perfect simulations. Also the system did not match the dynamics of the person moving and limited their range of motion.

It was found that reduced gravity could be simulated on an airplane flying parabolic trajectories. Using a C 9 aircraft Lunar Martian and microgravity can each be simulated. Some of the downsides to this method include 1 limited space within the aircraft to move around 2 simulated environments are only possible for 20 30 second intervals 3 cost and 4 the accuracy of the simulated gravity is dependent upon the precision in which the parabolas are flown.

More recently a first generation Active Response Gravity Offload System ARGOS system has been used by NASA. This system utilized a moveable beam in a framework with a winch that supports a cable. The system allows movement in three dimensions. The first generation frame was limited in size but did provide useful simulations. While the first generation ARGOS system showed the concept is viable for use with a larger frame than used in the first generation ARGOS system numerous problems were apparent for both the vertical and horizontal control systems that would potentially limit the realism of the simulation. The smaller frame of the first generation system effectively hid some problems that become more apparent with a larger framework.

In the vertical control system for example force data from a commercial off the shelf COTS analog load cell is placed in line on the lifting cable as the primary feedback device for the vertical system. There are many sources of noise in the load cell data which impact the resolution and fine control capability of the system. These sources of noise include electronic noise in the load cell physical vibrations from the hoist gear train vibrations from the horizontal system and vibrations from the test participant attached to the system. Many of these sources of noise reside in the same frequency range that the system controls rendering conventional noise filtering techniques unhelpful. In addition the ARGOS system should respond fairly quickly to the pertinent signal while filtering the noise and cannot tolerate a large amount of response lag which can cause the system to lose stability.

For the horizontal control system of the first generation ARGOS system the control input was feedback from a cable angle laser sensor. The control output was an acceleration command to the motor controller which commands x and y horizontal motors to move in a predetermined x and y axis respectively. While the first generation ARGOS framework was relatively small and the control motors were relatively slow unrealistic swinging motion can occur in a frame that is considerably larger than the first generation system especially in response to human loads that jump or move. The angle laser sensor itself can introduce bias if the cable does not remain perfectly centralized from the control motor. Moreover the system supports not only objects but also human beings that may jump or otherwise create complex acceleration and velocity vectors that induce swinging motion of the lifting cable. While current literature discusses moving swinging pendulum systems which in the current literature can be referred to cart pendulum system suitable solutions to the aforementioned problems of the first generation ARGOS system are not found in the prior art.

The following prior art references disclose various gravity and suspension systems but do not address the problems discussed hereinbefore 

U.S. Pat. No. 8 152 699 issued Apr. 10 2012 to Ma et al. discloses an apparatus and method for gravity balanced apparatuses for training humans for space exploration and other applications. The present invention is statically balanced and comprises a spring apparatus that is adjusted. An embodiment of the present invention provides an apparatus and method for simulating walking in a zero gravity or reduced gravity environment.

U.S. Pat. No. 7 199 790 issued Apr. 3 2007 to Rosenberg et al. discloses a method and apparatus for providing force feedback to a user operating a human computer interface device in conjunction with a graphical user interface GUI displayed by a host computer system. A physical object such as a joystick or a mouse controls a graphical object such as a cursor within the GUI. The GUI allows the user to interface with operating system functions implemented by the computer system. A signal is output from the host computer to the interface device to apply a force sensation to the physical object using one or more actuators. This desired force sensation is associated with at least one of the graphical objects and operating system functions of the graphical user interface and is determined by a location of the cursor in the GUI with respect to targets that are associated with the graphical objects. The graphical objects include icons windows pull down menus and menu items scroll bars sliders and buttons. The force sensation assists the user to select a desired operating system function or physically informs the user of the graphical objects encountered by the cursor within the GUI. A microprocessor local to the interface apparatus and separate from the host computer can be used to control forces on the physical object.

U.S. Pat. No. 6 743 019 issued Jun. 1 2004 to Ransom et al. discloses a method and apparatus for aircraft based simulation of variable accelerations and reduced gravity conditions. A test chamber is pivotally suspended in an aircraft so that the center of gravity of the test chamber always self actingly orients itself in the direction of the effective residual acceleration. To simulate a selected acceleration greater than 0 g and less than 1 g the aircraft is flown along a parabolic flight path with a downward vertical acceleration such that the difference between Earth s gravitational acceleration and the aircraft s acceleration corresponds to the selected acceleration to be simulated. To simulate gravitational conditions on Mars the aircraft is flown with a downward vertical acceleration of about g so that the residual acceleration acting on the test chamber is about g. The atmospheric conditions such as the gas composition pressure and temperature of Mars can also be established in the test chamber.

U.S. Pat. No. 6 566 834 issued May 20 2003 to Albus et al. discloses a modular suspended manipulator to manipulate tools and loads using position velocity and force control modes. The manipulator includes a plurality of cables 2 or more that are independently controlled by modular winch drive mechanisms and coordinated to achieve intuitive manipulator movement in all six degrees of freedom. The manipulator consisting of modular sub assemblies and components i.e. winch amplifier servo interface sensory feedback can be reconfigured to adjust to new applications. Various combinations of manual and automatic control can also be implemented. The winches can be controlled manually by a multi axis joystick or can be automatically controlled by computer.

U.S. Pat. No. 5 379 657 issued Jan. 10 1995 to Hasselman et al. discloses a method and system for supporting a test article or structure in a gravity environment for the purpose of testing the article in a simulated weightless condition and includes at least one support assembly attached to the article for suspending the article from an overhead support. The support assembly includes three cables each having an end attached to the article. The cables are capable of being actuated to cooperatively maintain a constant resultant vertical force on the test article which is equal to the weight of the article. The system includes a controller which is capable of adjusting the force in each cable to continuously maintain the constant resultant force on the article as it moves from position to position. The controller can calculate the new position of the test article as it moves from position to position. The controller is able to calculate each new position calculate the forces necessary to maintain the constant resultant force on the test article and actuate the cables to develop the required cable forces to offset the weight of the test article as the test article moves from position to position. The system can also use a plurality of such support assemblies to handle large size test structures.

U.S. Pat. No. 4 860 600 issued Aug. 29 1989 to Schumacher discloses a machine system that enables close duplication of three of the six weightless degrees of freedom of a space environment in the gravity field on earth s surface. The three degrees of freedom are two translational degrees of freedom orthogonal to the gravity vector and one rotational degree of freedom parallel to the gravity vector. The mechanism concept that duplicates the weightless environment eliminates all but air bearing forces acting on the object being tested in the plane orthogonal to the gravity vector without adding significant mass to the test object or confining the test object translational or rotational movements in the plane orthogonal to the gravity vector. The machine consists of at least three test object support platforms which permit small test object movements relative to the support platform without applying forces to the test object. The test object movements relative to each support platform are sensed and used to control two support platform translational degrees of freedom to maintain the support platform position relative to the test object.

United States Patent Application No. 2011 0088586 published Apr. 21 2011 to Huang et al. discloses a system method and apparatus for providing a reduced or moderated gravity environment in a terrestrial payload. The system includes the evaluation of terrain to support an appropriately shaped vehicle guide the construction of a vehicle guide the provision of a high speed vehicle and a control system adapted to control a motion of the vehicle across the vehicle guide with a specific velocity profile so as to produce a moderated gravity environment.

United States Patent Application No. 2010 0279255 published Nov. 4 2010 to Williams II discloses a vehicle simulation system may include a platform positioned within a three dimensional workspace at least six upper support members positioned outside the three dimensional workspace at least six upper adjustable cables routed from corresponding upper support members and secured to the platform to apply at least a portion of upward tension to the platform and a vehicle secured to the platform. The vehicle may provide one or more occupants with a simulated experience within a three dimensional virtual environment as the upper adjustable cables are adjustably extended and retracted in a coordinated fashion to maneuver the platform.

Japanese Patent No. JP3213500 issued Sep. 9 1991 to Kawasaki Heavy Ind. Ltd. discloses a gravity free simulating device in which an active drive mechanism is located on a ground and a test piece is mounted on the active drive mechanism through a sensor to detect a force and torque. The sensor is arranged so as to allow detection of the forces of the X Z axes and torque around the X Z axes. The active drive mechanism is formed so that an object can be actively driven in orientation to roll pitch and yaw around each of X Z axes. Feedback control is made on the active drive mechanism so that a force and torque detected by the sensor are balanced with gravity of the test piece and feed forward control is effected according to the speed detecting value of the test piece.

The above cited prior art does not solve the aforementioned problems. Accordingly there exists a need for an improved active response gravity offload system. Consequently those skilled in the art will appreciate the present invention.

One possible non limiting object of the invention is to provide an improved three dimensional gravity field simulator.

Another possible non limiting object of the invention is provide an improved angle sensor for a cable.

Another possible non limiting object of the invention is to provide an improved vertical control system for a tracking system.

Another possible non limiting object of the invention is to provide an improved horizontal control system that is operable for controlling swinging energy in a load connected to a cable.

These and other objects features and advantages of the present invention will become clear from the figures and description given hereinafter. It is understood that the objects listed above are not all inclusive and are only intended to aid in understanding the present invention not to limit the bounds of the present invention in any way.

Accordingly in one embodiment a method is provided for making a three dimensional simulator that can be used to provide a selectable simulated gravity field. The method may comprise non limiting steps such as providing a carriage with a cable extending from a spool of the cable wherein the cable is connectable to a load. Other steps may comprise providing a z axis motor for the spool providing an x axis motor and a y axis motor operable to move the carriage in an x axis direction and a y axis direction respectively and providing an angle sensor to determine an angle of the cable with respect to the vertical axis or z axis the vertical . Additional steps may comprise providing a load sensor to detect a load force for a load on the cable and to responsively produce a load sensor signal providing a cable length sensor to measure a cable length extending from the spool and providing a vertical control system with a selectable off load target for the selectable simulated gravity field. In one embodiment the load sensor provides feedback for control of the z axis motor to a digital non linear filter that may comprise a first filter and a second filter having a higher cut off frequency than the first filter. Other steps may comprise providing a variable weighting factor for weighting an output of the digital non linear filter between an output of the first filter and an output of the second filter by comparing the output of the first filter with the output of the second filter.

In one embodiment the step of providing the variable weighting factor is based on determining an absolute or numerical difference between the output the first filter and the output of the second filter and also determining the difference between a rate of change between the output of the first filter and the output of the second filter. The method may comprise using a variable gain that conditionally becomes greater than one when the output of the digital non linear filter lags data from the load sensor by a predetermined amount. In one embodiment the variable gain of the digital non linear filter is limited by an output of the second filter so that under certain circumstances the output of the digital non linear filter is clamped to the output of the second filter.

In another embodiment the method may further comprise providing a horizontal control system operable to utilize the angle sensor and the cable length sensor to control the x axis motor and the y axis motor to move the carriage for controlling an angle of the cable with respect to a vertical wherein the horizontal control system is operable for controlling both linear motion and non linear swing energy.

The method may further comprise providing that the horizontal control is operable to compensate for swinging of the cable induced by movement of a human load or other moving load mounted to the cable. In one embodiment the horizontal control utilizes a Lyapunov based function to minimize the swing energy.

In another embodiment a three dimensional simulator is provided that is operable for providing a selectable simulated gravity field for a load. The simulator may comprise non limiting elements such as a carriage with a spool mounted for horizontal motion a length of the cable extending downwardly from the spool the cable being connectable to the load a z axis motor operably connected to the spool for controlling the length of the cable extending from the spool and an x axis motor and a y axis motor operable to move the carriage in an x axis direction and a y axis direction respectively to provide the horizontal motion. Other non limiting elements may comprise an angle sensor operable to measure an angle of the cable with respect to the vertical a load sensor to detect a load force responsive to the load on the cable and to responsively produce a load sensor signal and a cable length sensor such as a motor position encoder to measure the length of the cable extending from the spool. A vertical control system controls the z axis motor with a selectable off load target for the selectable simulated gravity field. A horizontal control system utilizes the angle sensor and the cable length sensor to control the x axis motor and the y axis motor to move the carriage for controlling an angle of the cable with respect to a vertical so that the horizontal control system is operable for controlling linear motion and minimizing swing energy.

In yet another embodiment a cable angle sensor for a winch assembly may comprise a spool of cable and a spool lateral adjustment wherein the spool lateral adjustment is operable for moving the spool of cable to constrain the cable to within a region of error of an exit point of the cable from the winch assembly. In one non limiting embodiment the cable angle sensor may comprise a first laser sensor operable for detecting a first relative position of the cable and a second laser sensor spaced along the cable operable for detecting a second relative position of the cable. A processor is configured to determine an angle of the cable with respect to the winch assembly. The angle measurement is corrected with respect to an error of the spool lateral adjustment in maintaining the fixed exit point of the cable from the winch assembly. In one embodiment the processor is operable for determining the angle with respect to a vertical reference line. In one embodiment the processor is configured to determine and or detect and or cancel out error that occurs when lateral movement of the cable occurs that is common to both the first laser sensor and the second laser sensor.

In yet another embodiment a method is provided for making a generalized tracking control system wherein the tracking control system may comprise a sensor that provides a sensor signal. The method may comprise non limiting steps such as providing that the sensor signal is operatively connected to a non linear filter wherein the non linear filter comprises a first filter and a second filter and wherein the first filter and the second filter each may comprise a type of moving average filter some possibilities of which are discussed herein. Other steps may comprise providing the first filter with a lower cut off frequency as compared to the second filter providing a weighting for the combined use of a first output of the first filter and a second output of the second filter to provide an output of the non linear filter. Other steps may comprise providing that the weighting is based on a difference in the first output and the second output and can also be based on a difference in a rate of change of the first output and the second output.

In one embodiment the method may further comprise providing that the first filter and the second filter each comprise a zero lag exponential moving average filter. In one embodiment when the difference in the first output and the second output is greater than a predetermined amount then the non linear filter can under some conditions have a gain greater than unity. However in one embodiment the non linear filter output is limited to or is limited by the second output.

In yet another embodiment a cable system with a load may comprise a carriage a cable extending from the carriage connected to the load a first motor for moving the carriage in a first horizontal direction a second motor for moving the carriage in a second horizontal direction an angle sensor operable for producing an angle sensor signal in response to an angle of the cable with respect to the vertical and a horizontal control system operable for utilizing the angle sensor signal to operate the first motor and the second motor. The horizontal control system moves the carriage for controlling the angle. The horizontal control system may comprise a linear control and a non linear Lyapunov control operable for controlling both linear displacement and swing energy of the load. In one possible embodiment the carriage may comprise a hoist operable to vary a length of the cable.

The above general description and the following detailed description are merely illustrative of the generic invention and additional modes advantages and particulars of this invention will be readily suggested to those skilled in the art without departing from the spirit and scope of the invention.

Detailed descriptions of the preferred embodiment are provided herein. It is to be understood however that the present invention may be embodied in various forms. Therefore specific details disclosed herein are not to be interpreted as limiting but rather as a basis for the claims and as a representative basis for teaching one skilled in the art to employ the present invention in virtually any appropriately detailed system structure or manner.

Referring now to there is shown a human user or human load supported by active response gravity offload system ARGOS while on a treadmill . The human user may produce force vectors that the system should appropriately react to such as jumping or the like. The ARGOS facility is designed to simulate any reduced gravity environment such as Lunar Martian or microgravity. The ARGOS facility uses inline load sensor or cell in substantially vertical cable to continuously offload of a selectable portion of a human or robotic payload weight during all dynamic motions which can include walking running and jumping under Lunar or Martian gravities as well as a wide range of microgravity activities. The system is able to compensate for the various types of forces that are produced by a moving load.

Using laser cable angle sensor as better shown in ARGOS actively tracks and follows the payload s motion in vertical direction z axis and horizontal directions x axis and y axis as referenced in to maintain a vertical offload force. Horizontal motion is defined as motion in the x axis y axis or both. Argos facility is capable of supporting surface operation studies space suit and vehicle requirements development space suit and vehicle design evaluation robotic development mass handling studies and crew training with both suited e.g. space suits and shirt sleeved subjects. The current steel frame structure shown in measures forty one feet in the y axis direction twenty four feet in the x axis direction and is twenty five feet tall. Accordingly ARGOS facility accommodates movement in all three directions of motion.

The ARGOS facility is rapidly reconfigurable to allow for a quick turnaround between different tests and a variety of surface or training analogs. The ARGOS facility uses computer controlled electric motors to drive motion in all axes. Steel cable connects to the load such as human or other objects. ARGOS facility measures the vertical load with in line load cell that is constantly monitored by the vertical control system which is described hereinafter. The vertical control system commands the vertical control motor mounted in carriage to raise or lower as the subject moves to maintain a constant offload force related to the particular gravity field simulation. In one embodiment the vertical axis control motor operates a winch for the cable and is capable of high accelerations with a top speed of 10 feet second for a 300 pound payload and 4 feet second for a 750 pound payload.

The horizontal axes are also driven by electric motors incorporated into x axis motor or drive system and y axis motor or drive system that are attached to friction drive wheels which drive on the underside of cross beam and y axis trolley rails . Cross beam is supported by passive trolleys such as passive trolley . Carriage is also supported by passive and or active trolleys . It will be noted that the y axis drive system may preferably comprise two motors on opposite sides of cross beam for moving cross beam back and forth in the y axis direction as indicated in .

Motion of the supported subject is measured by a cable angle sensor such as laser sensor of which is used to command the system to control the angle of the cable e.g. angle of with respect to the vertical and generally keeps carriage centered or substantially centered above the load depending on the simulation with the angle typically being less than about three degrees. The horizontal control system see or is capable of high accelerations e.g. at least 10 feet per second per second and a speed up to about 10 feet second for any payload weight. In addition ARGOS is designed to accurately reproduce a reduced gravity environment. This means that a three dimensional force vector in any direction results in constant velocity motion until another force acts on the payload which results in high fidelity testing and training. Laser angle sensor may provide motion sensitivity to cable movement in the micrometers.

A laser detector can detect a change in lateral positions of cable with respect to a designated reference such as vertical reference . However with only one laser whether the cable angle has changed and or whether a lateral error has occurred in the positioning of spool may not be distinguishable. By utilizing two lasers at different vertical heights the amount of shift is also detected and distinguished from a change in angle as indicated at and . For example if cable shifts by an amount and both laser detectors read the same amount of shift then it will be apparent that cable is still vertical and an error has occurred in the movement of spool without an actual change in the angle of cable . If laser detectors or sensors and read different amounts then an angle can be detected by processor because processor is programmed with an algorithm that compensates for a lateral shifting error of the spool if one occurs. The lateral shifting error can be subtracted due to any common shifting error signal generated by both laser sensors and .

Targeted offload or the target signal in control system of is the amount of weight the system is offloading and may be represented in control interface as a force at in . For example if a person or object for the simulation weighs 160 pounds and a microgravity environment is desired then force in may be set for 160 pounds.

Digital non linear filter is utilized in a feedback loop to filter noise. However digital non linear filter is also designed to react to a real disturbance as discussed in more detail hereinafter. The outputs of digital non linear filter may comprise a derivative velocity command operated on by coefficient and an error signal output that is acted on by coefficient wherein the coefficients correspond to the type of gravity environment to be simulated as discussed hereinafter. These coefficients can be input into the control system in interface at and respectively.

The screen of control interface can be altered as desired. In this embodiment element and graph show cable length data such as the percentage length of the travel of cable that can be utilized. This information is also provided to the horizontal control system. The display of cable length data at and is easily visualized by an operator using control interface for safety monitoring purposes during operation of the system. The velocity and force data for the payload such as user or other objects can be displayed versus time as indicated at and . The velocity data and cable position data may come from an encoder built into motor which may or may not be an off the shelf item. The force data may be obtained from load cell or load sensor . In this embodiment the suited indication at is for a heavier payload such as a spacesuit or robot which requires a gear ratio suitable for lifting heavier loads. In one embodiment the term suited may be used to denote a relatively heavyweight load e.g. up to 700 pounds with low dynamics 8.64 1 gear ratio . The term unsuited may be used to denote a relatively lightweight load e.g. up to 350 pounds with high dynamics 3.6 1 gear ratio . The suited unsuited term can be in the interface used to reflect whether an astronaut is suited with a space suit as required for space walks or is unsuited with clothes for use inside a spacecraft. Changing between suited and unsuited on the control panel can be used to change the operation of system and affect the maximum offload of the system as indicated at . The gear ratio may be changed manually or automatically.

As is the case with typical filters in a control system the general purpose of filter is to filter out oscillations and or other noise in the ARGOS load cell data that the system should not respond to. At the same time the filter attempts to preserve the pertinent force data from load cell or sensor for the control system with minimal lag. This is especially difficult in the case of the ARGOS Z Axis control system because the frequencies of system noise and pertinent data overlap. In addition the ARGOS system cannot tolerate a large amount of lag e.g. at least 2 milliseconds of lag in the load cell data which can cause the control system to become unstable.

For the above reasons a standard low pass filter is ill suited for control system . With a low pass filter alone relevant data is lost because the filter cannot preserve the relevant system data from load cell that lies in the same frequency range as the noise. In addition low pass filters at the required frequencies introduce unacceptable lag into the control system. For example introduction of a digital two pole Butterworth filter into the control system with a cutoff frequency of 100 Hz reduced the achievable system gains by over 75 versus unfiltered data.

The ideal feedback filter would provide 1 low pass filtering of high frequency generally greater than about 60 Hz load cell noise perfectly with zero lag in real time 2 low pass filtering of all system noise all frequencies down to about 1 Hz perfectly with zero lag in real time and 3 preserve relevant system data e.g. 0 200 Hz perfectly with zero lag in real time. 200 Hz is used as an upper threshold because human motions can generate sudden force changes approaching this frequency.

Clearly this sort of filter is unobtainable. No filter can act with zero lag so the best that can be done is to minimize the amount of lag present. The second and third ideal requirements directly conflict with one another.

Filter shown in more detail in addresses these issues. In one embodiment filter adaptively combines two different software derived filters one low pass filter with a very low cut off frequency e.g. from about 0 to about 10 Hz which can be referred to as a loose filter and one low pass filter with a relatively high cut off frequency e.g. at least about 250 Hz which can be referred to as a tight filter. Loose filter eliminates virtually all system noise present while introducing a large amount of lag. Tight filter reduces very high frequency load cell noise e.g. frequencies above the high cut off frequency of the tight filter while preserving the relevant system data with little lag. However tight filter also allows an acceptable amount of the system noise such as physical vibrations and the like that the system should not respond to. So the outputs of the two filters and which may also be referred to herein as first and second filters are combined with variable favor shown towards the one that makes the most sense to use in a certain instance. While two filters are utilized in this embodiment additional filters could conceivably be used for comparison purposes whereby the outputs are combined compared in accord with the present teachings for comparison combination of the relevant filter outputs as discussed hereinafter.

To combine two filters knowledge of the recent and current system behavior can be utilized to estimate to what extent each filter should be favored. There are four main cases that might be seen by ARGOS vertical control system 

 1 Load is not moving or is essentially still in the vertical direction. There is very little system noise while the motor is not spinning. However there is load cell noise present at all times and slight movements may cause vibrations and noise down the lifting cable .

 2 Load is moving slowly e.g. up to about 2 ft s in the vertical direction. Both load cell noise and system noise vibrations are present but the force offload error is generally small e.g. between about 1 to about 2 lbs .

 3 Load is accelerating rapidly e.g. at least 5 feet per second per second and the force changes very quickly 10 20 pound per foot changes in a few milliseconds are possible . Both load cell noise and system noise vibrations are present and the force error can be large e.g. between about 10 to about 40 lbs .

 4 There is an impulse introduced into the system such as a very hard foot strike from a test participant or a test participant using a hammer on a rock. Depending on the situation these impulses can reach force errors of 75 pounds or more and only last for a few milliseconds.

In the first case the loose filter and tight filter will generally be fairly close in absolute difference e.g. subtracting a first filter output from the second filter output because the electronic noise of the load cell is generally less than a pound. In addition the smoothed rate of change over a certain number of samples will be similar between the two filters so the absolute difference of that rate of change will be small e.g. near 0 . If only white noise is present and the force stays constant taking a smoothed rate of change over a sufficient number of samples should ideally result in a zero rate of change for both filters.

In the second case the loose filter and tight filter will be greater in absolute difference than the stationary case since system vibrations are present. However the smoothed rate of change difference and between the two filters should still be fairly small e.g. near 0 since slow movements essentially mask the lag of the loose filter.

In the third case the loose and tight filters will quickly diverge in values and the absolute difference between them i.e. outputs and will grow quickly. This is due to the loose filter lagging behind the tight filter. In addition the difference between their smoothed rates of change will also grow quickly.

In the fourth case for a very short period of time e.g. a few milliseconds both the value and rate of change of the loose and tight filters will be large. The values may be diverging by nearly the full magnitude of the force impulse and rate of change difference can be in the thousands of pounds per second instantaneously. However since the rate of change is smoothed over a period of time as indicated at and the fact that this impulse only lasts on the order of milliseconds means that it will be filtered out at least partially.

By focusing on these four cases and weighting between the two filters and non linear filter can attempt to differentiate between meaningless noise and meaningful force changes often in the same frequency range. The weighting of the filter for the four cases is as follows 

In the first case to minimize chatter around the zero point loose filter should be strongly favored. Since nothing is really happening in this case the system should not be reacting to every slight force change until of course a participant unexpectedly jumps or moves .

In the second case during slow motions the low reactivity of loose filter is desired but the control system incorporates a low lag filter to properly keep up with the load and prevent instabilities. In this case both filters and should be incorporated into the final non linear filter output indicated at .

In the third case in order to keep up with a very fast acceleration e.g. at least 5 feet per second per second tight filter is favored almost exclusively.

In the fourth case loose filter should be favored because the control system ideally should not react to one of these impulses Reacting to impulses would result in an underdamped ring in the system.

It is very difficult to differentiate in real time between a real sudden force change and system vibrations so care is taken to not weight according to the third case too liberally. Weighting system produces a weighting factor sometimes referred to herein as an alpha factor. If weighting system or the corresponding weight factor is too reactive then non linear filter will be no different than just running a tight filter during even the slowest motion. However if the weighting system is too sluggish the system will lag behind during actual motions and will lose stability very quickly.

To solve this issue filter is designed to initially be sluggish to react. However filter is also designed to go unstable very quickly and gain greatly if the two filters and continue to diverge. Referring to a weighting factor which may be referred to as alpha or which is discussed in greater detail hereinafter is calculated at . As such if the loose and tight filters diverge enough then filter is designed to have an output with a gain as indicated at greater than unity see equation for fdiscussed hereinafter and will very quickly make up the difference between the loose filter and the tight filter . In one embodiment to ensure safety and stability filter gain as indicated at is limited so that output is not allowed to exceed the tight filter output and latches to the tight filter output when the gain would otherwise cause filter output to become greater than the tight filter output . By allowing this behavior the effective lag of filter can be significantly reduced while still maintaining enough lag to prevent responding to every vibration in the system.

In one embodiment filter works by first computing two nonlinear zero lag exponential moving average ZEMA low pass filters and . As noted above a first of these filters has a very low cut off frequency loose filter e.g. between about 0 to about 10 Hz and a second of these filters has a relatively high cut off frequency tight filter e.g. at least about 250 Hz . The loose filter only tracks the general low frequency trend of the data but has a relatively large amount of lag e.g. greater than a few milliseconds . The tight filter removes only a small amount of the very high frequency electronic noise and has very little lag e.g. between about 1 and 2 milliseconds . The processor that creates the non linear filter then compares the loose and tight filter outputs to determine a weighting factor between the two filters as indicated at . By comparing the absolute difference between the outputs and of two filters and the difference in their rates of change as indicated at and in essence the difference of their derivatives or smoothed derivatives the weighting factor or alpha can be determined. Then using the weighting factor determined at and the loose and tight filter outputs non linear filter output or gain can be calculated as indicated at . This process effectively leads to producing output which results in an error signal after comparison with targeted offload that is utilized with coefficient Kpf of . As noted herein the coefficients and are inputs that vary depending on the magnitude of the gravity field that is being simulated See . Non linear filter may also generate signal for use coefficient Kdf in using derivative function .

In summary of this feature of the invention to help reduce lag the non linear filter is designed to go unstable with a gain greater than unity if output falls behind the data too far based on the equations discussed in more detail hereinafter. However so that non linear filter keeps vertical control or tracking system safe and stable filter gain is not allowed gain that results in an absolute output greater than tight filter output . In the event that it would then the processor that creates non linear filter is programmed to automatically select the tight filter output for that iteration

In more detail of one possible embodiment the loose and tight filters and used to form filter can be Zero Lag Exponential Moving Average ZEMA filters and use a rate of change weighting in an attempt to reduce lag from a standard Exponential Moving Average EMA filter Ehlers . 1 1 1 1 

In one embodiment the EMA filter coefficients for the loose and tight filters were chosen experimentally to be 

The force rate of change force velocity gain factor works on the rate of change of the force to minimize the error term of the EMA filter and was chosen after experimenting with various values for each filter. This force velocity combines the recent smoothed rate of change of both the loose filter and the tight filter 1 4 1 10 1 15 1 19 

Where c c 1 and were determined by computer simulations and physical testing. The actual coefficients used in one possible embodiment of filter are 

With the loose and tight filters now computed their absolute difference or difference between d and smoothed rate of change difference as indicated by and in can be calculated 12 12 1 1 

The goal of the numerator is to grow as dor Vincrease with preference given to d . So as either of these values increases the numerator increases as well.

Similarly the denominator shrinks to unity as either dor increases which in turn increases the value of .

Non linear filter however is designed to go unstable in the presence of a large force deviation. The alpha variable can very quickly grow to be greater than one at which point the filtered force can overshoot the value of the true force. For this reason the computed filter value output is checked against the tight filter output and the tight filter output is checked against the loose filter output to determine the proper ordering of the three to ensure stability. If the computed non linear filter absolute output is greater than the tight filter absolute output and the tight filter output is greater than the loose filter output the computed filtered value is locked to the tight filter output . An identical result occurs if the computed non linear filter output is less than the tight filter output and the tight filter output is less than the loose filter output .

Referring again to . the present invention can also incorporate a horizontal control system. The horizontal control system is indicated at in computer interface of the horizontal control system and in block diagram indication with horizontal control system . As discussed above the vertical and horizontal drive systems provide linear motion and offload capability and comprise a type of tracking system whereby carriage is controlled to track movement of the load utilizing error signals that are minimized by operating the x and y motors. The horizontal and or vertical control systems may be referred to herein as tracking systems that attempt to reduce an error signal cable systems that control cables used in a tracking system or the like as is consistent with the present disclosure. The vertical system which is a tracking system in itself can be referred to as the z axis system. The z axis system utilizes a servo motor controlled winch such as winch or hoist assembly in with encoder feedback from an encoder that may typically be part of motor in with these components being supported by carriage . The horizontal drive system which is also a type of tracking system that attempts to reduce an error signal as discussed below moves carriage with two degrees of freedom in the horizontal plane. The horizontal or horizontal plane is referred to herein as x axis and y axis as shown in but could utilize any coordinate system. Moreover while the three dimensional coordinate system used herein comprises axes that are aligned with the direction of movement of carriage this is not required and is used as a convenience for calculations. The x axis portion of the system utilizes a single servo motor system with linear and rotary encoder feedback with carriage being moveable back and forth in the x axis direction on cross beam . The y axis portion of the system utilizes two electronically geared servo motors that move cross beam back and forth in the y axis direction with linear and rotary encoder feedback. As discussed previously the first generation ARGOS system was not able to control swing energy. The present invention has dynamic capabilities that can effectively reduce cable angle and swing energy generation in ARGOS system .

The horizontal system controller utilizes a combination PD control See and Lyapunov based nonlinear controller which provides a way of regulating the swinging energy from the horizontal drive system .

Consider generically the X or Y axis control system with the pendulum model as shown in where M is the mass of the trolley m is the mass of the load is the cable angle L is the length of the cable and e is error for the controller. It is assumed that the X Y and Z axis are completely uncoupled. For the simple controller this is a valid assumption but it will be shown later that the axes do in fact interact.

where u is the control variable where u f but for motor control the control variable may be the motor acceleration. By making small movements and if the cable length L is sufficiently long then it can be assumed that the force to accelerate trolley is only dependent on the trolley mass M and not load mass m.

However if the mass of trolley is constant then M can be included in the controller gains Kp and Kd and the control equations becomes umlaut over Where from FIG. sin and

The controller described in the previous section controls the displacement of trolley . The system dynamics and kinematics were not considered. The controller should in one embodiment provide a way of regulating pendulum swinging energy. In other words the trolley e.g. such as carriage can be moved in the x and y directions to remove the swinging energy from the system which might be produced by a jumping load for example. The system is under actuated or has more degrees of freedom than the actuators. The ARGOS system swing energy can be considered like an undamped pendulum.

In this embodiment a Lyapunov base nonlinear controller is developed for the ARGOS X and Y axes. Assuming that X and Y axis are completely uncoupled and that the masses are concentrated at the points where the cables connect and that the system is frictionless. The dynamic equations for either the X or Y axis may be obtained by applying Newton s second law or by Lagrange energy methods.

The goal of this controller is to dampen the swinging energy of the pendulum. Consider the total swing energy of the pendulum as

The function has a stable minimum at E 0 0 and is positive for all other points in the domain 2 2. The above can be used as the positive definite Lyapunov candidate function V in the domain.

Applying Lyapunov Base techniques the system will be stable if the above is negative definite for all values of and . An appropriate control function u can be chosen to meet this criterion for this aspect of the problem. In one embodiment cos 

Where K is a positive controller gain constant. Combining the above with earlier presented equations to provide an overall control rule for the ARGOS system cos sin dot over 

where K K and Kare controller gains for the linear controller and non linear controller shown in that are input into the control panel as discussed hereinafter that affect the magnitude of the gravity field being simulated.

For implementing the above control rule the following steps assumptions and measurements are made. Parameter m is the mass of the pendulum and typically does not change and can be easily determined by weighing the test participant or object. The variable L is the length of cable and can be read directly from an encoder on the hoist spool. K K and Kare controller gains and are determined experimentally through ARGOS system testing. This leaves cos sin and e to be found using the systems feedback devices.

In this example of the invention for gravity simulation purposes the only feedback device on the X and Y axes is the laser cable angle sensor one possible embodiment of which is shown in . In another embodiment this device uses a laser measurement to determine the cable displacement at a point approximately 8 inches below the hoist spool centerline. The embodiment of shows use of two laser sensors instead of the single sensor with fixed pendulum point.

Using a linear approximation the relationship between laser sensor voltage and cable angle can be determined. Using the cable angle the values for cos and sin can be determined. The ARGOS facility maximum and minimum cable angle was calculated to typically be about 3 to 3 . Accordingly the only solutions for this case to represent the sine and cosine terms in the controller are typically solutions in this maximum and minimum range. In this range the sine solutions from 3 to 3 are linear or substantially linear. Thus the final solution can be found by linear approximation of the sine values in this range and used in the final control algorithm.

In the same manner the cosine solutions can be found. Upon finding the solution to the sin and cos from 3 to 3 the value for e and shown in above discussed possible embodiment for the control rule can then found using a numerical differentiation method. Finally the control rule is implemented in the horizontal software. In this embodiment final gain variable solutions are finalized through testing of the control theory on the ARGOS system . This control approach has performed exceptionally well and meets the stability and performance requirements of the ARGOS horizontal system.

Accordingly the linear PD control is derived using Newton s 2nd law of motion. The acceleration term in Newton s 2nd law is isolated to serve as the control input. The horizontal system linear acceleration is essentially a function of the mass and the force to accelerate the mass to reduce or control cable angle generation from the user. In one embodiment the cable angle generation in the system induces a horizontal displacement and change in horizontal displacement that is constantly reduced in order keep the user or load directly under the drive system. This control design compensates for any linear motion until the user jumps or begins to swing during operation.

The non linear control is derived using a Lyapunov base function. This controller responds to the dynamics and kinematics induced by a jump or swinging motion in the system. The overall concept of this method of non linear control is to minimize the energy generated as a result of swinging motion. The total energy of the swinging mass can be calculated using the Legrangian total energy equation which correlates the total energy angular velocity and angular displacement of a hanging mass e.g. the ARGOS user . If the total energy were plotted then it can be seen that the function has a stable minimum within a 180 spectrum. Thus this function was used as a positive definite Lyapunov candidate function that provides the conditions necessary to develop a stable non linear controller.

The user interface gain button may be utilized to set the desired gain selection for the preferred gravity simulation. For example quick settings may be utilized to set gains for micro gravity lunar or Mars gravity simulations as indicated in . Manual settings for a desired gravity simulation may also be used as indicated in .

The data link e.g. link shown in for the length of cable can be controlled with button and menu . As discussed above for the horizontal control equation or rule the length of the cable is a significant factor for controlling the swing of the cable. As the length of the cable changes for the z axis motion this information is fed from the vertical control system to the horizontal control system. The data link may be an RS 232 serial connection between the vertical and horizontal control system and or other type of communication as desired to provide this information.

Horizontal control system receives inputs from multiple sources including cable length information that may be routed via line from vertical control system . While vertical control system and horizontal control system may be separate systems with separate control panels as discussed hereinbefore and may utilize separate human operators for monitoring the system and may utilize different computers the systems may be also merged into a single control system if desired. Other sensor inputs may include x axis position sensor that provides x axis position velocity signal and y axis position sensor that provides y axis position velocity signal of carriage . These sensors may preferably be encoders that are incorporated within x axis motor and one or both y axis motors . Other types of position sensors could be utilized in addition such as limit switches that detect the limits of motion in the x or y direction of carriage on frame .

Additional sensor inputs may comprise x axis angle sensor which produces x axis angle signal and y axis angle sensor which produces y axis angle signal . Angle sensors and may comprise laser angle sensors as discussed hereinbefore or other suitable angle sensors. Horizontal control system may comprise linear control and non linear control for operating x axis motor and y axis motor to control movement of carriage as discussed hereinbefore.

While the present invention is described in terms of a gravity simulation system the present invention may be utilized with systems hoists lifts and the like in various industries such as but not limited to manufacturing lines recreation medical environments such as for medical rehabilitation construction and the like to handle or move materials humans animals or the like. Moreover while some aspects of the present invention are described in Cartesian coordinates it will be understood that the invention is not limited to any particular coordinate system so that other coordinates are considered to comprise the present invention in terms of standard coordinate translations.

The foregoing description of the preferred embodiments of the invention has been presented for purposes of illustration and description only. It is not intended to be exhaustive nor to limit the invention to the precise form disclosed and obviously many modifications and variations are possible in light of the above teaching. Such modifications and variations that may be apparent to a person skilled in the art are intended to be included within the scope of this invention as defined by the accompanying claims.

