---

title: Method of supporting third-party applications in an instant messaging system and a system using the same
abstract: A mobile terminal system for providing instant messaging to a third-party application includes a mobile terminal having one or more processors and memory for storing one or more programs, wherein the one or more programs, when executed by the one or more processors, cause the mobile terminal to perform the instructions of acquiring an application ID (appid) and a software development kit (SDK) from an instant messaging open platform by the third-party application; registering the third-party application at the instant messaging open platform using the acquired appid and SDK when the third-party application initiates; providing an open application programming interface (API) to the third-party application via the instant messaging open platform; and transmitting information between the instant messaging open platform and the third-party application via the open API.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09197588&OS=09197588&RS=09197588
owner: TENCENT TECHNOLOGY (SHENZHEN) COMPANY LIMITED
number: 09197588
owner_city: Shenzhen, Guangdong Province
owner_country: CN
publication_date: 20131203
---
This application is a continuation application of PCT Patent Application No. PCT CN2013 076143 entitled A METHOD OF SUPPORTING THIRD PARTY APPLICATIONS IN AN INSTANT MESSAGING SYSTEM AND A SYSTEM USING THE SAME filed on May 23 2013 which claims priority to Chinese Patent Application No. 201210235065.5 entitled A METHOD OF SUPPORTING THIRD PARTY APPLICATIONS IN AN INSTANT MESSAGING SYSTEM AND A SYSTEM USING THE SAME filed Jul. 9 2012 both of which are incorporated by reference in their entirety.

The disclosed implementations relate generally to the field of instant messaging technology and in particular to methods and systems of instant messaging for a third party application.

With the development of the internet technology various instant messaging IM technologies constantly emerge. WeChat is a faster instant messaging tool with functions such as zero expense cross platform communication and real time input display. Comparing with the conventional text messaging WeChat is more flexible intelligent and cost saving. Accordingly WeChat is increasingly pursued and favored by users.

However existing instant communication tools including microblog cannot provide mutual starting and information transmission to a third party program. For example in an open platform of some existing Social Networking Services SNS mobile messaging software e.g. the microblog etc. when communication with a third party program is implemented only the third party program sends information to a Web based end through an open Application Programming Interface API but the mobile terminals cannot mutually start the programs and exchange information. Therefore the diversity of media contents that can be transmitted between the instant messaging mobile terminals and the user experience are greatly limited.

The present invention provides an instant messaging method and system oriented to third party applications so as to implement an effective interaction between an instant messaging tool and a third party application and to improve the diversity of media contents that can be transmitted between the instant messaging mobile terminals.

To achieve the above objective the present invention provides an instant messaging method oriented to third party applications which includes the steps of registering when a third party application is started the third party application on an instant messaging open platform through an appid and a Software Development Kit SDK component obtained through preliminary application and providing by the instant messaging open platform an open API interface for the registered third party application and performing information transmission with the third party application through the open API interface.

In some implementations the step of registering when the third party application is started the third party application on the instant messaging open platform through the appid and the SDK component obtained through preliminary application includes starting the SDK component obtained through preliminary application when the third party application is started and registering through the SDK component the appid of the third party application obtained through preliminary application and a logo icon in a preset memory area of the instant messaging open platform.

In some implementations the step of performing by the instant messaging open platform information transmission with the third party application through the open API interface includes when the third party application may need to perform information communication with the instant messaging open platform caching by the third party application information content to be sent in a preset memory area of the instant messaging open platform and starting the instant messaging open platform through the SDK component and reading by the instant messaging open platform the content in the preset memory area determining whether a new third party application exists and if yes saving the appid and the logo icon of the third party application and further determining whether information content to be displayed of the corresponding third party application exists in the preset memory area and if yes transmitting the content to be displayed to a user group associated with a local terminal.

In some implementations the step of performing by the instant messaging open platform information transmission with the third party application through the open API interface includes sending by the instant messaging open platform a request to the third party application to obtain response information caching by the third party application content of the response information in a preset memory area of the instant messaging open platform according to the request and obtaining by the instant messaging open platform the content of the response information from the preset memory area through checking the preset memory area and transmitting the content of the response information to the user group associated with the local terminal.

In some implementations before the step of registering when the third party application is started the third party application on the instant messaging open platform through the appid and the SDK component obtained through preliminary application the method further includes applying by the third party application from the instant messaging open platform to obtain the appid and the SDK component.

In some implementations the present invention provides an instant messaging system which includes a third party application and an instant messaging open platform where the third party application is configured to when being started register on the instant messaging open platform through an appid and an SDK component obtained through preliminary application and the instant messaging open platform is configured to provide an open API interface for the registered third party application and perform information transmission with the third party application through the open API interface.

In some implementations the third party application is further configured to when being started start the SDK component obtained through preliminary application and register the appid of the third party application obtained through preliminary application and a logo icon in a preset memory area of the instant messaging open platform through the SDK component.

In some implementations the third party application is further configured to when the third party application may need to perform information communication with the instant messaging open platform cache information content to be sent in a preset memory area of the instant messaging open platform and start the instant messaging open platform through the SDK component and the instant messaging open platform is further configured to read the content in the preset memory area determine whether a new third party application exists and if yes save the appid and the logo icon of the third party application and further determine whether information content to be displayed of the corresponding third party application exists in the preset memory area and if yes transmit the content to be displayed to a user group associated with a local terminal.

In some implementations the instant messaging open platform is further configured to send a request to the third party application to obtain response information obtain content of the response information from the preset memory area through checking the preset memory area and transmit the content of the response information to a user group associated with a local terminal and the third party application is further configured to cache the content of the response information in a preset memory area of the instant messaging open platform according to the request sent by the third party application.

In some implementations the third party application is further configured to apply from the instant messaging open platform to obtain the appid and the SDK component.

In the instant messaging method and system oriented to third party applications according to the present invention the third party application and the instant messaging open platform may transmit information to each other through the open API interface of the instant messaging open platform e.g. WeChat . The third party application may actively or passively provide media contents to the instant messaging open platform and the instant messaging open platform implemented mobile terminal may display the media contents in a friend dialog box or send the media contents to a circle of friends. Therefore more third party applications may be implemented to communicate with the instant messaging open platform so that media contents that can be transmitted between the instant messaging mobile terminals have more sources and diversities and become more attractive to the user group.

To make the technical solutions of the present invention more comprehensible further detailed description is made in the following with reference to the accompanying drawings.

Reference will now be made in detail to implementations examples of which are illustrated in the accompanying drawings. In the following detailed description numerous non limiting specific details are set forth in order to assist in understanding the subject matter presented herein. It will be apparent however to one of ordinary skill in the art that various alternatives may be used without departing from the scope of the present invention and the subject matter may be practiced without these specific details. The implementations of the present invention are described in detail below with reference to the accompanying drawings but the present invention can be implemented in different manners within the appended claims.

In accordance with the present invention a third party application applies from an instant messaging open platform to obtain an application ID appid and a Software Development Kit SDK component and when the third party application is started the third party application registers on the instant messaging open platform using the obtained appid and SDK component. The instant messaging open platform provides an open Application Programming Interface API to the registered third party application and performs information transmission with the third party application through the open API interface. The third party application may actively or passively provide media contents to the instant messaging open platform and the instant messaging open platform implemented on a mobile terminal may display the media contents in a friend dialog box or send the media contents to a circle of friends or other users of the instant messaging open platform e.g. a person that the user has been following . In some implementations the user may publish the media contents provided by the third party application to his her own blog or share the media contents on the user s account at another social networking service application e.g. Facebook Google Twitter etc. that has bound to the mobile terminal. In some implementations the user can share the media content. Therefore more third party applications may be implemented to communicate with the instant messaging open platform so that media contents that can be transmitted between the instant messaging mobile terminals have more sources and diversities and become more attractive to the user group.

The instant messaging open platform according to the present invention may refer to a WeChat open platform however the present invention is not limited to this implementation and can be implemented to different open platforms.

As shown in Embodiment 1 of the present invention provides an instant messaging method oriented to third party applications which includes the following steps.

To implement information transmission between the third party application and the instant messaging open platform in some implementations the third party application may need to access the instant messaging open platform.

The third party application may need to apply from the instant messaging open platform to obtain the appid of the third party application and download the corresponding SDK component. The applying process may be that the third party application applies from the instant messaging open platform to obtain the appid and the SDK component in advance after the third party application is developed and programmed and the applying process may further be that the third party application temporarily applies from the instant messaging open platform to obtain the appid and the SDK component when the third party application needs to access and communicate with the instant messaging open platform.

The program of the third party application is installed on an instant messaging mobile terminal implemented with the instant messaging open platform e.g. a cell phone.

When a user downloads and installs the program of the third party application on the instant messaging mobile terminal the third party application starts the SDK component obtained through application and registers through the SDK component the appid of the third party application obtained through application and a logo icon of the third party application in a preset memory area of the instant messaging open platform. The preset memory area functions as a special clipboard of the instant messaging open platform and is used for storing the appid and the logo icon of the third party application and further for caching information contents to be subsequently sent by the third party application to the instant messaging open platform.

In some implementations to facilitate identification a special identifier may be established for the preset memory area and the instant messaging open platform obtains contents in the preset memory area through the special identifier.

When the third party application finishes registration on the instant messaging open platform the instant messaging open platform provides the open API interface to the registered third party application and the instant messaging open platform performs information transmission with the third party application through the open API interface and sends transmitted information to a user group associated with the instant messaging terminal. In some implementations when WeChat is implemented the third party application and a WeChat user group may communicate and exchange information contents so that media contents that can be transmitted between the instant messaging terminals have more sources and diversities and become more attractive to the user group.

The instant messaging open platform finds an update of a third party application through checking the preset memory area obtains and saves information from the memory area such as the appid and the logo icon of the newly registered third party application provides an availability notification of the newly registered third party application at an interface of the instant messaging terminal implemented with the instant messaging open platform and adds the third party application to an accessory column.

In the implementations set forth above communication and information exchange between a third party application and an instant messaging open platform are implemented. By such more third party applications may be added to the instant messaging open platform so that media contents that can be transmitted on the instant messaging terminal have more sources and diversities and become more attractive to the user group thereby gathering more user groups.

When the instant messaging open platform requests the third party application to send information contents the instant messaging open platform sends a request to the third party application to start the third party application program.

In some implementations the third party application transmits information to the instant messaging open platform and the instant messaging open platform may further request according to a demand the third party application to send corresponding information contents.

In the implementations set forth above more third party applications may be added to the instant messaging open platform so that media contents that can be transmitted on the instant messaging terminal have more sources and diversities and become more attractive to the user group thereby gathering more user groups. Consequently the application performance and the user experience of the instant messaging terminal are improved.

It should be noted that in the second implementation manner step S step S and step S may further be implemented independent of the first implementation manner.

First the Meilishuo may apply from the WeChat open platform to obtain a development appid and download a WeChat SDK component used for development. When a user downloads the Meilishuo and starts the Meilishuo for the first time the WeChat SDK component registers the appid and a logo icon of the Meilishuo in a preset memory area hereinafter refer to a V clipboard configured by a system. The V clipboard has a special identifier and a main program of the WeChat open platform may obtain contents of the clipboard through the identifier.

As shown in when the Meilishuo needs to send contents to the WeChat open platform the Meilishuo first places the contents to be sent in the V clipboard and simultaneously starts the main program of the WeChat open platform through the WeChat SDK component. After being started the main program of the WeChat open platform first reads the contents in the V clipboard. If the main program finds a newly registered third party application in the V clipboard the main program reads information such as an appid and a logo icon of the newly registered third party application from the V clipboard saves the information in a cache file and simultaneously provides an availability notification of the newly registered third party application program in a chatting accessory column.

In some implementations as shown in after reading the content of the V clipboard if the Meilishuo finds contents transmitted by the third party application are for display the WeChat open platform processes the contents to be displayed accordingly and sends the contents to be displayed to a friend dialog box or a circle of friends.

Further if the WeChat open platform needs to request the Meilishuo to respond with a message the WeChat open platform finds the relevant information about the Meilishuo from a locally saved third party application list and starts the Meilishuo.

After being started by the WeChat open platform the Meilishuo sends response contents to the V clipboard starts the WeChat open platform again and returns the initiative to the WeChat open platform. After being started by the Meilishuo the WeChat open platform checks the contents in the V clipboard through the special identifier of the V clipboard obtains the contents of the response of the Meilishuo from the V clipboard and sends the contents to a dialog box or the circle of friends.

In this implementation more third party applications may be added to the instant messaging open platform so that media contents that can be transmitted between the instant messaging terminals have more sources and diversities and become more attractive to the user group.

As shown in Embodiment 2 of the present invention provides an instant messaging method oriented to third party applications. Based on Embodiment 1 described above the method further includes the following step before step S 

A difference between Embodiment 2 and Embodiment 1 lies in that in Embodiment 2 when the third party application needs to access and communicate with the instant messaging open platform the third party application temporarily applies from the instant messaging open platform to obtain the appid and the SDK component of the third party application. The rest of Embodiment 2 is the same as that of Embodiment 1.

The implementations shown in provides an instant messaging system which includes a third party application and an instant messaging open platform where the third party application and the instant messaging open platform are both implemented in an instant messaging terminal. Note that it is optional for the third party application and the instant messaging open platform to be implemented on the same hardware. In some other implementations the two applications may be implemented on different hardware devices as long as a user of the third party application can communicate information from the third party application to the instant messaging open platform e.g. through its API.

In some implementations when being started the third party application is configured to register on the instant messaging open platform through an appid and an SDK component obtained through preliminary application.

In some implementations the instant messaging open platform is configured to provide an open API interface for the registered third party application and perform information transmission with the third party application through the open API interface.

In some implementations to implement information transmission between the third party application and the instant messaging open platform the third party application may need to access the instant messaging open platform .

In some implementations the third party application may need to apply from the instant messaging open platform to obtain the appid of the third party application and download the corresponding SDK component. The preliminary application process may be that the third party application applies from the instant messaging open platform to obtain the appid and the SDK component in advance after the third party application is developed and programmed and the preliminary application process may further be that the third party application applies from the instant messaging open platform to temporarily obtain the appid and the SDK component when the third party application may need to access and communicate with the instant messaging open platform .

In some implementations the program of the third party application is installed on an instant messaging terminal implemented with the instant messaging open platform e.g. a cell phone.

In some implementations when a user downloads and installs the program of the third party application on the instant messaging terminal the third party application starts the SDK component previously obtained through application and registers the appid of the third party application obtained through application and a logo icon of the third party application on a preset memory area of the instant messaging open platform . The preset memory area functions as a special clipboard set by the instant messaging open platform and is used for storing the appid and the logo icon of the third party application and further for caching information content to be subsequently sent by the third party application to the instant messaging open platform .

In some implementations to facilitate identification a special identifier may be established for the preset memory area and the instant messaging open platform obtains contents in the preset memory area through the special identifier.

In some implementations when the third party application finishes registering on the instant messaging open platform the instant messaging open platform provides an open API interface for the registered third party application and the instant messaging open platform performs information transmission with the third party application through the open API interface and sends transmitted information to a user group associated with the instant messaging terminal. In some implementations information communication between the third party application and a WeChat user group may be implemented so that media contents transmitted on the instant messaging terminal have more sources and diversities and become more attractive to the user group.

In some implementations when the third party application needs to perform information communication with the instant messaging open platform the third party application is further configured to cache information contents to be sent in a preset memory area of the instant messaging open platform and start the instant messaging open platform through the SDK component.

In some implementations the instant messaging open platform is further configured to read the contents in the preset memory area determine whether a new third party application exists. If yes the instant messaging open platform saves the appid and the logo icon of the third party application and further determines whether information contents to be displayed of the corresponding third party application exist in the preset memory area and if yes transmits the contents to be displayed to a user group associated with a local terminal.

In some implementations a process in which the third party application transmits information to the instant messaging open platform is implemented. Through the above solution more third party applications may be added to the instant messaging open platform so that media contents transmitted on the instant messaging terminal have more sources and diversities and become more attractive to the user group thereby gathering more user groups.

In some implementations when the instant messaging open platform requests the third party application to send information content the instant messaging open platform is further configured to send a request to the third party application to obtain response information obtain content of the response information from the preset memory area through checking the preset memory area and send the content of the response information to a user group associated with the local terminal.

In some implementations the third party application is further configured to cache the content of the response information in a preset memory area of the instant messaging open platform according to the request sent by the third party application .

In some implementations the third party application may transmit information to the instant messaging open platform and the instant messaging open platform may further request according to a demand the third party application to send corresponding information content.

It is taken as an example in this implementation that the third party application is Meilishuo and the instant messaging open platform is a WeChat open platform and a specific example implementing a process in which the third party application accesses the WeChat open platform and communicates with the WeChat open platform can be obtained with reference to the above method implementation which is not described herein again.

Note that the process disclosed in indicates that the third party application actively initiates the data exchange with the instant messaging open platform. In some other implementations as shown in it is the instant messaging open platform that actively initiates the data exchange with the third party application which plays a more passive role. The method performed by the instant messaging open platform includes before receiving the data exchange request S of identifying the application identifier associated with the instant messaging open platform and S of sending a data retrieval request to the third party application using the application identifier. In response to the data retrieval request the third party application stores the data at the predefined location in the memory and then sends the data exchange request to the instant messaging open platform.

The memory typically includes high speed random access memory such as DRAM SRAM or other random access solid state memory devices and optionally includes non volatile memory such as one or more magnetic disk storage devices optical disk storage devices flash memory devices or other non volatile solid state storage devices. The memory optionally includes one or more storage devices remotely located from the CPU s . The memory or alternatively the non volatile memory device s within the memory comprises a non transitory computer readable storage medium. In some implementations the memory or alternatively the non transitory computer readable storage medium stores the following programs modules and data structures or a subset thereof 

In the instant messaging method and system oriented to third party applications of the present invention the third party application and the instant messaging open platform may transmit information to each other through the open API interface of the instant messaging open platform for example the WeChat . The third party application may actively or passively provide media content to the instant messaging open platform and an instant messaging terminal implemented with the instant messaging open platform displays the media contents in a friend dialog box or sends the media contents to a circle of friends and therefore more third party applications may be added to the instant messaging open platform so that media contents transmitted on instant messaging terminals e.g. the WeChat have more sources and diversities and become more attractive to the user group.

The foregoing descriptions are merely exemplary implementations of the present invention but are not intended to limit a scope of the present invention. Any equivalent structural or process replacement made by using content of the specification and accompanying drawings of the present invention or direct or indirect application to other relevant technical fields should all likewise fall within the protection scope of the present invention.

While particular implementations are described above it will be understood it is not intended to limit the invention to these particular implementations. On the contrary the invention includes alternatives modifications and equivalents that are within the spirit and scope of the appended claims. Numerous specific details are set forth in order to provide a thorough understanding of the subject matter presented herein. But it will be apparent to one of ordinary skill in the art that the subject matter may be practiced without these specific details. In other instances well known methods procedures components and circuits have not been described in detail so as not to unnecessarily obscure aspects of the implementations.

Although the terms first second etc. may be used herein to describe various elements these elements should not be limited by these terms. These terms are only used to distinguish one element from another. For example first ranking criteria could be termed second ranking criteria and similarly second ranking criteria could be termed first ranking criteria without departing from the scope of the present invention. First ranking criteria and second ranking criteria are both ranking criteria but they are not the same ranking criteria.

The terminology used in the description of the invention herein is for the purpose of describing particular implementations only and is not intended to be limiting of the invention. As used in the description of the invention and the appended claims the singular forms a an and the are intended to include the plural forms as well unless the context clearly indicates otherwise. It will further be understood that the term and or as used herein refers to and encompasses any and all possible combinations of one or more of the associated listed items. It will be further understood that the terms includes including comprises and or comprising when used in this specification specify the presence of stated features operations elements and or components but do not preclude the presence or addition of one or more other features operations elements components and or groups thereof.

As used herein the term if may be construed to mean when or upon or in response to determining or in accordance with a determination or in response to detecting that a stated condition precedent is true depending on the context. Similarly the phrase if it is determined that a stated condition precedent is true or if a stated condition precedent is true or when a stated condition precedent is true may be construed to mean upon determining or in response to determining or in accordance with a determination or upon detecting or in response to detecting that the stated condition precedent is true depending on the context.

Although some of the various drawings illustrate a number of logical stages in a particular order stages that are not order dependent may be reordered and other stages may be combined or broken out. While some reordering or other groupings are specifically mentioned others will be obvious to those of ordinary skill in the art and so do not present an exhaustive list of alternatives. Moreover it should be recognized that the stages could be implemented in hardware firmware software or any combination thereof.

The foregoing description for purpose of explanation has been described with reference to specific implementations. However the illustrative discussions above are not intended to be exhaustive or to limit the invention to the precise forms disclosed. Many modifications and variations are possible in view of the above teachings. The implementations were chosen and described in order to best explain principles of the invention and its practical applications to thereby enable others skilled in the art to best utilize the invention and various implementations with various modifications as are suited to the particular use contemplated. Implementations include alternatives modifications and equivalents that are within the spirit and scope of the appended claims. Numerous specific details are set forth in order to provide a thorough understanding of the subject matter presented herein. But it will be apparent to one of ordinary skill in the art that the subject matter may be practiced without these specific details. In other instances well known methods procedures components and circuits have not been described in detail so as not to unnecessarily obscure aspects of the implementations.

