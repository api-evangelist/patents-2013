---

title: Privacy-protected search
abstract: Privacy-protected search is described, including obtaining a set of search results responsive to a search input from a first user; determining, from the search results and based on a social graph, that a first search result associated with a second user is indicated as keeping an identity of the second user hidden; determining whether other search results in the set are indicated as keeping respective identities of associated other users hidden; calculating a score for the first search result based at least on the determinations, the score indicates the likelihood of the first user guessing the identity of the second user; and determining whether to provide to the first user the first search result based on the score for the first search result.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09195722&OS=09195722&RS=09195722
owner: GOOGLE INC.
number: 09195722
owner_city: Mountain View
owner_country: US
publication_date: 20130401
---
Users search online for various kinds of information including recommendations to products and services. For recommendations users tend to give more weight to recommendations from people they know e.g. the more the users know the recommenders the higher the weight.

On the other hand some people who provide recommendations may not want to reveal their identities. For example these people may want to recommend doctors dentists lawyers etc. to their friends and acquaintances but may not want their friends and acquaintances to know that they use these service providers which include for example a doctor specializing in a certain field.

The subject matter discussed herein relates generally to data processing and more particularly to privacy protected search.

The subject matter described may herein provide various advantages such as enhancing user experience e.g. a user does not have to search for a service or product and consult with his or her friends regarding the service or product allowing users to share their feedback such as comments and or recommendations anonymously or openly and allowing a user to request search results with or without annotation with comments and or recommendations.

The subject matter includes a method for obtaining a set of search results responsive to a search input from a first user determining from the search results and based on a social graph that a first search result associated with a second user is indicated as keeping an identity of the second user hidden determining whether other search results in the set are indicated as keeping respective identities of associated other users hidden calculating a score for the first search result based at least on the determinations the score indicates the likelihood of the first user guessing the identity of the second user and determining whether to provide to the first user the first search result based on the score for the first search result.

In some implementations the calculating the score for the first search result is further based on a hop value provided by the first user.

In some implementations the calculating the score for the first search result is further based on a position with respect to the social graph of a node associated with the second user.

In some implementations the determining whether to provide to the first user the first search result is further based on another input from the first user.

In some implementations the method includes providing the first search result to the first user based on the score meeting a threshold value.

In some implementations the method includes providing the other search results to the first user wherein the other search results are not indicated as keeping identities associated respectively with the other users hidden.

In some implementations the first search result and the other search results are provided for presenting in two separate regions of a user interface.

In some implementations the method includes providing to the first user at least a portion of the set of search results and based on the score not providing the first search result to the first user.

In addition to a method as described above the implementations may include a system or a computer readable medium but are not limited thereto.

The subject matter described herein is taught by way of example implementations. Various details have been omitted for the sake of clarity and to avoid obscuring the subject matter. The examples shown below are directed to structures and functions for implementing privacy protected search.

Alice may requests searches that include searching data associated with users or people she knows individualized searches . For example when Alice wants to find a dentist she may want to know what dentists her friends and or acquaintance use or recommend. Alice may indicate an individualized search using one or more search options . For example Alice may activate an individualized search by using checkbox e.g. a check mark .

In some implementations individualized searches may be performed or conducted using a social graph described further in below . Alice may be provided a mechanism to indicate a portion of her social graph to be used in the search. Here Alice indicates that two hops of her social graph are to be used in the search. In some implementations Alice may provide other input or filtering criteria for the search. For example Alice may activate a criterion using UI element e.g. checking a checkbox and enter a value to a field e.g. search within 10 miles of my location .

In some implementations there may be no checkboxes and . Entering a value in input box would activate an individualized search and entering a value in input box would activate that criterion. In some implementations there may be different additional or fewer search options . In some implementations individualized searches can be implemented as default searches and Alice may deactivate individualized searches by not logging in before requesting a search by adjusting a setting or by other manner. In some implementations search options may be entered along with search input using search input box . For example Alice may enter dentist recommendations from 2 hops within 10 miles to input box .

Here as an example Alice may want to search for dentist using data associated with two hops of her social graph. Alice may be interested in dentists within 10 miles from her location and enters 10 in input box . Alice s may want to search data associated with the web or another one of data groups e.g. images maps video news shopping blogs etc. .

The search results based on the search input and or one or more search options may be provided for presenting or displaying as search results and . Search results are resulted from searching any available data enhanced with searching data associated with Alice s social graph and or other data associated with her. Search results are described further below in .

Search results are resulted from searching any available data without searching data associated with Alice s social graph. If Alice requests the search without login in or with individualized search disabled if implemented Alice would get the same or similar search results with the same dentist search input and San Francisco Calif. location.

When Alice wants to search for dentist she wants to include data associated with nodes within two hops of her social graph. In effect Alice has indicated that nodes are included and nodes are excluded. Social graph A shows as an example that Bob and Chris are open to sharing their recommendations and or comments feedback about dentists e.g. Bob and Chris do not indicate that they want to be anonymous with respect to their recommendations and comments about dentists . Bob and Chris at nodes are shown in group the open group . Within two hops of social graph A Daisy Elen Fay and Gill at nodes may have indicated that they want to share their recommendations and or comments about dentists anonymously e.g. do not show or reveal their identities with their recommendations and or comments about dentists . Daisy Elen Fay and Gill at nodes are shown in group the anonymous group .

Group the outside group includes nodes that are outside the two hops Alice is interested in. Regardless of whether Haley Ian and or Jason has shared any recommendations and or comments about dentists or whether they want to share them anonymously data associated with these nodes are not included in the search for dentist within two hops or are excluded after the search .

The public nodes are included based on a threshold value. A value in column may be a product of the threshold value and a multiplier of at least one e.g. two . Column where a score for each node is computed may be the sum of the distance value column and public value column . Please note that columns and are mutually exclusive in this example. A score in column that meets e.g. equal to or greater than the threshold value shown in column provides an indication that data associated with the corresponding node can be shown in a search results which may be subjected to other filtering and or restrictions such as within 10 miles of Alice. Column shows that all the nodes except Daisy which has a score of 10 that is less than the threshold value of 12 the data associated with which can be included in the search for dentist. 

Alice s search on dentist with a location of San Francisco Calif. may yield the results shown in areas as well as UCSF School of Dentistry City Hall Dental Group University of the Pacific and Smiley White DDS. If Alice s search is requested without search her social graph data e.g. she disables individualized search or requests the search without logging in all the search results including UCSF School of Dentistry City Hall Dental Group University of the Pacific and Smiley White DDS would be provided for presenting in results .

When individualized search is enabled e.g. searching data associated with her social graph Bob s comment associated with the UCSF School of Dentistry is revealed in individualized results alone with an indication e.g. This is Bob s dentist or the like . The University of the Pacific is also shown in individualized results due to Chris s recommendation associated with the University of the Pacific . Similarly the City Hall Dental Group and Smiley White DDS are shown in individualized results due to the comments and or recommendations from Elen and Gill and . To honor their wishes to not be identified in the results Elen s and Gill s recommendations are shown without attribution.

FIG. AB and show one example of computing a score associated with a node. In implementations the score can be computed in any manner. The score serves at least the purpose of determining and or selecting a node for inclusion or exclusion. In some implementations selecting a node for inclusion or exclusion does not involve a score e.g. a node can be selected based on hop information and or other information . For example if the number of nodes in the anonymous group is less than a number e.g. two or three all nodes in group are excluded. If data from one or two anonymous nodes are include in the search results it may be easier for Alice to guess which user provides the anonymous recommendations. For example if Alice searches dentist and indicates including searching one hop of her social graph which includes Bob Chris and Daisy with Daisy being the only anonymous node. It would be easy for Alice to guess that Daisy provides the only anonymous recommendations in the individualized search results which would defeat Daisy s wish to remain anonymous.

For open nodes e.g. nodes in group the guessable score may be set to any value equal to or above the cut off value e.g. threshold . Here these nodes have a guessable score of 1.1 times the threshold value or 1.1 15 16.5 .

For the anonymous nodes e.g. nodes in group the total number of anonymous nodes may be determine e.g. T 4 . The sum of the distance of these nodes may be computed e.g. Sum 70 . The guessable score GS may be computed using formula 1.0 below. GS Distance log Sum 1.0 

For example since log 70 1.845 GS for Daisy node would be 10 1.845 18.45. And GS for Elen Fay and Gill would 20 1.845 36.90. GS grows when Distance and or T grows e.g. harder to guess the anonymous identify .

Since all the nodes in table B have a GS above the threshold of 15 column data for all the nodes may be included if relevant to the search input of dentist. 

In another example of node selection instead of looking at the GS of each node a collective value e.g. maximum average or minimum of all the GS values may be used. For example if T is at least 2 and if the collective value meets a threshold e.g. 13 select all the anonymous nodes.

The above are only examples and are not intended to be limiting of search input search options and selection of nodes. The described examples e.g. for node selection may be combined and or alter to suit implementations and or data set. One skilled in the art would and could implement the search options selection of nodes and or other aspects differently.

An example one or more devices may be computing device described below in . Devices may include but are not limited to a computer e.g. a laptop computing device a mobile device e.g. smartphone or tablet a television with one or more processors embedded therein and or coupled thereto a device associated with a vehicle one or more server computers computing devices storage devices and .

In some implementations devices may be considered user devices e.g. devices used by Alice to access services and or issue requests such as search request . Devices may be devices associated with one or more service providers e.g. used by service providers to provide social network services and or search services and or store data such as webpages text text portions images image portions audios audio segments videos video segments and or information thereabout .

At block data associated with the user may be used in the search e.g. to annotate or the search results . For example a social graph associated with the user may be identified and or generated e.g. from the user s social network account email account and or another source where contact information associated with the user may be available . The user has a choice or option to request a search without using data associated with the user e.g. disabling such option where implemented or requests the search without login in .

At block one or more computing devices associated with the search service provider perform the requested search based on the input e.g. obtaining a set of search results responsive to a search input from a user . If the user is logged in and or has permitted use of data associated with the user such data may be searched. Data may be associated with one or more nodes of a social graph associated with the user. The nodes may be selected for inclusion or exclusion based on one or more input and or factors.

For example Alice may indicate as a search option that N number of hops of her social graph data may be searched. Search result associated with a node of the social graph may be determined to identify whether the node is an anonymous node e.g. a user associated with the node includes an indications to keep the user s identity hidden . Search results associated with other nodes may be determined to identify whether any of these nodes are anonymous nodes and or open nodes. Each node may be selected using for example a score e.g. calculated based on one or more determinations that meets or exceeds a threshold value.

The search results portion of the search results and or data associated with one or more nodes may be determined whether to provide to Alice based on the one or more scores of the nodes. At block the search results annotated with data from the user s social graph are presented to the user.

In some examples process may be implemented with different fewer or more blocks. Process may be implemented as computer executable instructions which can be stored on a medium loaded onto one or more processors of one or more computing devices and executed as a computer implemented method.

Computing device can be communicatively coupled to input user interface and output device interface . Either one or both of input user interface and output device interface can be a wired or wireless interface and can be detachable. Input user interface may include any device component sensor or interface physical or virtual that can be used to provide input e.g. buttons touch screen interface keyboard a pointing cursor control microphone camera braille motion sensor optical reader and or the like . Output device interface may include a display television monitor printer speaker braille or the like. In some example implementations input user interface and output device interface can be embedded with or physically coupled to the computing device . In other example implementations other computing devices may function as or provide the functions of input user interface and output device interface for a computing device .

Examples of computing device may include but are not limited to highly mobile devices e.g. smartphones devices in vehicles and other machines devices carried by humans and animals and the like mobile devices e.g. tablets notebooks laptops personal computers portable televisions radios and the like and devices not designed for mobility e.g. desktop computers other computers information kiosks televisions with one or more processors embedded therein and or coupled thereto radios and the like .

Computing device can be communicatively coupled e.g. via I O interface to external storage and network for communicating with any number of networked components devices and systems including one or more computing devices of the same or different configuration. Computing device or any connected computing device can be functioning as providing services of or referred to as a server client thin server general machine special purpose machine or another label.

I O interface can include but is not limited to wired and or wireless interfaces using any communication or I O protocols or standards e.g. Ethernet 802.11x Universal System Bus WiMax modem a cellular network protocol and the like for communicating information to and or from at least all the connected components devices and network in computing environment . Network can be any network or combination of networks e.g. the Internet local area network wide area network a telephonic network a cellular network satellite network and the like .

Computing device can use and or communicate using computer usable or computer readable media including transitory media and non transitory media. Transitory media include transmission media e.g. metal cables fiber optics signals carrier waves and the like. Non transitory media include magnetic media e.g. disks and tapes optical media e.g. CD ROM digital video disks Blu ray disks solid state media e.g. RAM ROM flash memory solid state storage and other non volatile storage or memory.

Computing device can be used to implement techniques methods applications processes or computer executable instructions in some example computing environments. Computer executable instructions can be retrieved from transitory media and stored on and retrieved from non transitory media. The executable instructions can originate from one or more of any programming scripting and machine languages e.g. C C C Java Visual Basic Python Perl JavaScript and others .

Processor s can execute under any operating system OS not shown in a native or virtual environment. One or more applications can be deployed that include logic unit application programming interface API unit input unit output unit social graph unit search options unit search results unit and inter unit communication mechanism for the different units to communicate with each other with the OS and with other applications not shown . For example social graph unit search options unit and search results unit may implement one or more processes shown in FIGS. AB AB and . The described units and elements can be varied in design function configuration or implementation and are not limited to the descriptions provided.

In some example implementations when information or an execution instruction is received by API unit it may be communicated to one or more other units e.g. logic unit input unit output unit social graph unit search options unit and search results unit . When Alice search for dentist with hops 2 and within 10 miles of her location her search input and search options may be received by input unit which may pass to logic unit for processing. Social graph unit may be interfaced via API unit to identify and or generate a social graph associated with Alice and select nodes within two hops of the graph e.g. select anonymous nodes and or open nodes . Search options unit may be interfaced via API unit to process the within 10 miles input before or after search results have been produced. Search results unit may be interfaced via API unit to filter annotate and or provide the search results.

In some instances logic unit may be configured to control the information flow among the units and direct the services provided by API unit input unit output unit social graph unit search options unit and search results unit in some example implementations described above. For example the flow of one or more processes or implementations may be controlled by logic unit alone or in conjunction with API unit .

In situations in which the systems discussed here collect personal information about users or may make use of personal information the users may be provided with an opportunity to control whether programs or features collect user information e.g. information about a user s social network social actions or activities profession a user s preferences or a user s current location or to control whether and or how to receive content from the content server that may be more relevant to the user. In addition certain data may be treated in one or more ways before it is stored or used so that personally identifiable information is removed. For example a user s identity may be treated so that no personally identifiable information can be determined for the user or a user s geographic location may be generalized where location information is obtained such as to a city ZIP code or state level so that a particular location of a user cannot be determined. Thus the user may have control over how information is collected about the user and used by a content server.

Although a few example implementations have been shown and described these example implementations are provided to convey the subject matter described herein to people who are familiar with this field. It should be understood that the subject matter described herein may be implemented in various forms without being limited to the described example implementations. The subject matter described herein can be practiced without those specifically defined or described matters or with other or different elements or matters not described. It will be appreciated by those familiar with this field that changes may be made in these example implementations without departing from the subject matter described herein as defined in the appended claims and their equivalents.

