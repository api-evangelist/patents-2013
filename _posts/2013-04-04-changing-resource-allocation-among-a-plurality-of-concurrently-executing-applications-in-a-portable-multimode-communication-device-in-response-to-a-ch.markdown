---

title: Changing resource allocation among a plurality of concurrently executing applications in a portable multimode communication device in response to a change in usage scenario
abstract: A software environment () is established in a portable multimode communication device (PMCD) () in which a plurality of software applications () are executing. Each software application performs a predetermined function using a hardware set. The hardware set includes a plurality of hardware resources () provided on the PMCD. The PMCD will periodically evaluate a usage scenario and, based on this evaluation, allocates to each software application selected ones of the plurality of hardware resources comprising the hardware set. The allocation of hardware resources comprising each hardware set is dynamically varied in response to the evaluating.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09063782&OS=09063782&RS=09063782
owner: Harris Corporation
number: 09063782
owner_city: Melbourne
owner_country: US
publication_date: 20130404
---
The inventive arrangements relate to multimode devices and more particularly to methods and systems for providing controlled access to hardware resources needed for mission critical applications.

Public safety personnel commonly make use of multiple devices for communication and data processing. For example a public safety officer may be equipped with one or more of a land mobile radio LMR a cell phone laptop a tablet computer and so on. Advances in technology have made possible the creation of multimode devices that integrate the functionality of two or more such systems into a single device. In these types of devices software applications frequently implement important functionality using limited hardware resources e.g. buttons knobs speakers displays and processing resources which must be shared with other applications. While these arrangements can work well in many scenarios they will often contradict the mission critical expectations associated with public safety equipment. More particularly a mission critical function may not be available when needed due to requested hardware resources being in use by another possibly lower priority function. Whether or not a particular function is deemed mission critical can vary in accordance with different operational scenarios and with different types of users.

Embodiments of the invention concern a method for providing to a plurality of software applications executing in a software environment controlled access to limited hardware resources on a portable multimode communication device PMCD . The method begins by establishing a software environment in the PMCD in which a plurality of software applications are executing. Each software application is configured to perform at least one predetermined application function using a respective hardware set. Each hardware set is comprised of a plurality of hardware resources provided on the PMCD. The method involves evaluating a usage scenario of the PMCD based on one or more parameters. Based on such evaluation selected ones of the hardware resources comprising each set are dynamically allocated to each of the software applications.

According to another aspect the invention concerns a portable multimode communication device PMCD . The PMCD includes a processing device configured to receive data comprising a plurality of parameters and determine a usage scenario for the PMCD based on the parameters. The processing device evaluates the usage scenario to determine a hardware resource allocation for each of a plurality of software applications executing in a software environment on the PMCD. The processing device dynamically re allocates selected hardware resources in the PMCD based on a change in at least one of the parameters. The re allocation can provide a first one of the plurality of software applications with access to a hardware resource which is at the same time required by a second one of the priority of software applications. The re allocation in such a scenario is based on a determination that the first software application performs a function which is determined to be mission critical based on the usage scenario. Access to hardware resources as described herein can be exclusive or shared depending on the particular hardware resource and the needs of the particular software application.

The invention is described with reference to the attached figures. The figures are not drawn to scale and they are provided merely to illustrate the instant invention. Several aspects of the invention are described below with reference to example applications for illustration. It should be understood that numerous specific details relationships and methods are set forth to provide a full understanding of the invention. One having ordinary skill in the relevant art however will readily recognize that the invention can be practiced without one or more of the specific details or with other methods. In other instances well known structures or operation are not shown in detail to avoid obscuring the invention. The invention is not limited by the illustrated ordering of acts or events as some acts may occur in different orders and or concurrently with other acts or events. Furthermore not all illustrated acts or events are required to implement a methodology in accordance with the invention.

In a portable multimode communication device PMCD the functionality of two or more communication systems and or data processing systems are integrated into a single device. For example a PMCD can function as a land mobile radio LMR but can also include functions beyond LMR communications. These additional functions are provided by integrated systems for implementing broadband data communications cellular voice communications voice and or image recording GPS functionality navigation and so on. In such a device a mobile software operating system provides a software environment in which a plurality of different software applications are instantiated to implement desired functions. The present invention concerns a method and system for hardware access control in a scenario where limited hardware resources are available to the applications which are running on the device. More particularly the invention concerns dynamic methods and systems for allocating hardware resources to the various software applications to ensure that mission critical functions offered by the device are always available when needed on a quality of service QoS basis.

In order to accomplish the foregoing desired result there is identified a hardware set for each software application performing a predetermined function. The hardware set is a defined set of hardware resources provided on said PMCD that the particular software application needs in order to have full functionality. A determination is also made as to the current actual hardware requirements of a particular application as such requirements may change depending upon the particular state of the application. Thereafter a critical resource manager evaluates a usage scenario of the PMCD based on one or more parameters and based on this evaluation allocates to each software application selected ones of the hardware resources which comprise the hardware set. Ideally each application which is executing will receive a complete hardware set including all of the hardware resources which normally comprise the set. However the hardware resources are naturally limited on the device. Accordingly an evaluation of the usage scenario and current hardware resource requirements may dictate that not all hardware components within a particular hardware set should be allocated to a particular application. Conversely the same evaluation may indicate that the available resources in use by one application are instead allocated to other software applications. The invention involves dynamically varying the selected ones of the hardware resources within each set that are allocated to each software application based on the evaluating step.

In some embodiments of the invention the software environment described herein is an operating system for a mobile cellular telephone device and the evaluating allocating and varying of hardware resources as described herein is performed by a critical resource manager. The critical resource manager will reside at a level within the operating system stack that is advantageous for selectively allocating available hardware resources based on a variety of inputs. To this end the critical resource manager will include a QoS engine or calculator to dynamically assign hardware components to ensure a predetermined quality of service with regard to mission critical requirements. The usage scenario is reevaluated periodically or when a change occurs in at least one of the parameters. Consequently individual hardware resources or components allocated among the software applications are dynamically reallocated based on the detected usage scenario as indicated by the parameters .

The parameters described herein are used to shape the dynamic hardware allocation in accordance with a wide variety of usage scenarios. As such parameters can include parameters determined in accordance with a user configuration availability of one or more networks location information motion information and ambient conditions external to the PMCD. Ambient conditions can include a wide variety of conditions including but not limited to a visual scene within which the PMCD is present a presence of a particular identified human face based on a captured facial image a lighting condition ambient light level an audio condition an RF communication condition a network condition an orientation condition a location condition and a motion condition. The parameters can also include network control messages e.g. an IP based message received from a dispatch center . The parameters and their effects upon hardware allocation will be understood more fully from the description below.

Referring now to there is shown a portable multimode communication device PMCD comprised of a chassis . The PMCD is typically a small device sized to be easily carried by a user and can be powered by replaceable or rechargeable batteries. To facilitate the various operating modes described herein PMCD will include one or more user interface features to facilitate control of the device. At least some of these user interface features will include hardware devices. For example PMCD can include an interactive user display . The user display can be a touch screen display to facilitate implementation of one or more soft keys for controlling various functions. The user display also provides status information to the user. The user display is also capable of displaying text data that is received by the PMCD from another communication device. A user display as described herein can be implemented as an LCD display LEDs and or other indication devices.

The PMCD can also include one or more hardware keys such as keys as shown. A push to talk button is provided for transmit operations that are implemented using a PTT mode. The PMCD further include volume controls for varying an audio output volume for the device transmit receive indicator lamps microphone and a speaker aperture formed in chassis which is acoustically coupled to a speaker cavity not shown . Those skilled in the art will appreciate that a PMCD can include a wide variety of hardware resources beyond those listed here which are merely intended as exemplary. For example the PMCD can have additional buttons such as a camera shutter control button audio input hardware and so on.

The PMCD is advantageously configured to facilitate two or more operating modes and at least some of these modes may operate concurrently. In one operating mode the PMCD operates as a land mobile radio LMR that communicates with other LMR devices using an RF interface. In one embodiment the PMCD is configured to communicate in an analog or digital mode with Project 25 P25 radios. The phrase Project 25 P25 as used herein refers to a set of system standards produced by the Association of Public Safety Communications Officials International APCO the National Association of State Telecommunications Directors NASTD selected Federal Agencies and the National Communications System NCS . The P25 set of system standards generally defines digital radio communication system architectures capable of serving the needs of Public Safety and Government organizations. The PMCD can also be configured to communicate in analog mode with non P25 radios using an RF interfaces.

The PMCD can be used in a talk around mode. Talk around mode allows communications between two LMR devices without any intervening equipment e.g. a repeater between the two devices. The PMCD can also be used in a conventional repeater mode where two or more LMR devices communicate through a repeater not shown without trunking. The PMCD can further be used in a trunked mode where traffic is automatically assigned to one or more voice channels by the repeater. The PMCD can be configured to operate in a single frequency band or alternatively may operate in a plurality of frequency bands. For example an RF interface provided in the PMCD can be configured to support analog Frequency Modulation FM communications and P25 modulation digital C4FM communications in the following bands 30 50 MHz Very High Frequency VHF LOw LO band 136 174 MHz VHF High Hi band 380 520 MHz Ultra High Frequency UHF band and 762 870 MHz band. The PMCD can also be configured to operate in other frequency bands and with other modulation schemes.

The PMCD is also configured to facilitate other types of communication modes including operation as a mobile telephony device. As such the PMCD can communicate with other telephony devices using cellular base stations not shown which are provided as part of a cellular network. Mobile telephony operations are well know and therefore will not be described here in detail. However it can be understood that PMCD can operate using any one of a plurality of well known cellular communications standards which are now known or may be known in the future. For example the PMCD can be configured to communicate using various digital cellular technologies including Global System for Mobile Communications GSM General Packet Radio Service GPRS cdmaOne CDMA2000 Evolution Data Optimized EV DO Enhanced Data Rates for GSM Evolution EDGE Universal Mobile Telecommunications System UMTS Digital Enhanced Cordless Telecommunications DECT Digital AMPS IS 136 TDMA and Integrated Digital Enhanced Network iDEN .

The PMCD can further include suitable facilities for communicating with the use of one or more wireless networks. These wireless networks can include wireless personal area networks WPANs wireless local area networks WLAN wireless mesh networks and wireless wide area networks WANs . In an exemplary embodiment the wireless network can be designed to accommodate broadband data communication capability. For example a network of this kind would advantageously make use a wireless broadband technology such as LTE Long Term Evolution or 4G fourth generation . As is known in the art LTE wireless broadband technology can provide mobile cellular devices with broadband access to the internet and to other services which demand broadband capability. Alternatively or in addition to the foregoing the PMCD can conform to a wireless network standard such as the IEEE 802.16 family of wireless networks which are sometimes referred to as WiMAX.

The PMCD can also include other wireless network communication capabilities. Exemplary short range wireless communications can be configured to use the Bluetooth protocol or other short range wireless technology such as the 802.xx family of wireless communications standards including Wi Fi the near field communication NFC standard and ZigBee . The details of these technologies and the hardware required to implement transmitters and receivers that use these technologies are well known to persons skilled in the art and thus will not be described in detail herein.

Referring now to there is provided a more detailed hardware block diagram of PMCD in accordance with an embodiment of the present invention. The PMCD includes a controller . The controller is comprised of at least one electronic processing device. For example the controller can include one or more microprocessors microcontrollers application specific integrated circuits ASICs and programmable devices such as a field programmable gate arrays FPGAs or complex programmable logic devices CPLDs . The controller may also have access to memory . The memory may include volatile memory such as static or dynamic RAM and non volatile memory such as ferroelectric memory magneto resistive memory flash memory or a hard disk drive. The memory can be used to store program instructions e.g. software code and other information required by the controller .

The controller can communicate with memory and one or more other component modules by means of at least one data communication bus . For example the controller can use bus to communicate with one or more external I O interfaces . Examples of external I O interfaces include ports for USB serial Ethernet and IEEE 1394 Firewire type among others. Such interfaces are well known to persons skilled in the art and thus will not be described in great detail herein. A user can interact with the controller through the External I O interfaces to upgrade software code and to transfer information to and from the controller . The controller also receives information from one or more sensors . The sensors can include motion sensors vibration sensors location sensors e.g. GPS location sensing devices temperature sensors and so on. The sensors can also include optical sensors including imaging devices for sensing a visual scene and light sensors capable of detecting ambient light levels. If an imaging device is provided then such imaging device can optionally be used to facilitate a facial recognition capability which for purposes of this invention would be deemed another sensor input. The sensor suite for a particular PMCD is advantageously selected to enhance a usage scenario with a robust range of information suitable for evaluating a usage scenario. However more or fewer sensor can be chosen for a particular PMCD without limitation.

The memory includes a computer readable storage medium on which is stored one or more sets of instructions e.g. software code configured to implement one or more of the methodologies procedures or functions described herein. The instructions can also reside completely or at least partially within the controller . The controller executes the program instructions to perform the functions assigned to the controller . Alternatively the methods procedures or functions described herein can be implemented using dedicated hardware implementations. Thus the exemplary system is applicable to software firmware and hardware implementations.

The PMCD includes certain user controls which are represented collectively in as user controls . The user controls include a plurality of buttons switches and knobs that a user can use to interact with the controller . Accordingly the user controls can include PTT button and volume controls . The user controls can also include one or more soft keys e.g. soft keys and or hardware based keys . These keys can be used to support any operations of the PMCD such as selection of RF channel and or frequency band on which communications are to be conducted. Additional soft keys can be presented on the display for purposes of implementing a DTMF keypad and or other user definable keys. The user controls can also include a touch screen keyboard which can be used to enter text data to be stored or transmitted.

The PMCD includes an LMR transceiver comprised of a transmitter receiver and an antenna . There are many different possible methods of implementing the LMR transceiver .

An exemplary transmitter includes a modulator and a local oscillator not illustrated . The function of the transmitter is to modulate data onto an RF signal derived from the local oscillator and amplify the modulated signal for transmission. The data to be modulated is provided by the controller to the transmitter . The RF signal produced by the transmitter which carries the data is amplified using an RF power amplifier not shown and is coupled to the antenna . The RF signal is thereby broadcast to a repeater or to another LMR based communication device.

An exemplary receiver includes a demodulator and a second local oscillator not illustrated . An RF signal is received from the antenna and amplified by a low noise power amplifier not shown . The amplified received RF signal is then demodulated by the receiver using the second local oscillator. Data is thereby extracted from the input RF signal. The extracted data is provided to the controller .

The controller sets the frequency of the local oscillators and the gain of the power amplifiers. The frequency of the local oscillators is typically defined by the channel that the PMCD is set to. If the PMCD transmits and receives data using the same frequency the RF interface may include only a single local oscillator not illustrated that is shared by the transmitter and the receiver .

The cellular transceiver includes a transmitter a receiver and an antenna . The controller uses communication bus to communicate data and control signals to and from the cellular transceiver . The cellular transceiver functions in a manner similar to the LMR transceiver . However the air interface and other communications processes implemented in cellular transceiver will be based on a digital cellular communications protocol. The digital cellular communication protocol can be any of a variety of well known cellular communication protocols as outlined above. The cellular communication processes are implemented and controlled by controller using instructions .

The wireless interface provides a wireless communications interface for implementing a wireless communication link. As an example the wireless interface can include hardware for implementing one or more of LTE LAN or PAN type network communications using a wireless link. In a further exemplary embodiment the wireless interface provides an interface that uses a WiFi or Bluetooth protocol as known in the art. An antenna is provided to facilitate the wireless communications described herein using wireless interface . Data and control signals are passed between the controller and the wireless interface using communication bus . Instructions can facilitate voice or data communications using wireless interface . For example wireless interface can be used to facilitate a voice over IP VoIP communication session as is known in the art.

A PMCD as described herein can include one or more speakers for converting electrical signals into sound. For example the PMCD can include a handset speaker and a loudspeaker within the chassis . Driver circuitry is used to provide audio drive signals for handset speaker and driver circuitry is used to provide audio drive signals for loudspeaker . The volume level of handset speaker and loudspeaker can be respectively adjusted using volume controls . A CODEC functions to convert encoded audio data from controller to analog audio signals which are suitable for use as input signals for driver circuits . The controller can receive such encoded audio data from any one of the LMR transceiver cellular transceiver or wireless interface according to a particular communication session. In some embodiments one or both of audio driver circuits can be integrated into a single device comprising the CODEC .

Analog audio signals from microphone are provided to audio CODEC where the analog audio signals are encoded in a digital format. Audio CODEC devices are well known in the art and therefore will not be described here in detail. However it will be appreciated that CODEC can encode the analog audio signals using any encoding protocol that is suitable for a particular type of communication session. For example the CODEC can encode received analog audio from microphone using the Advanced Multiband Excitation AMBE vocoder system as defined by P25 standards. Alternatively other voice coding methods can be used for this purpose as may be appropriate for other types of communication sessions. The encoded audio signals are provided from CODEC to controller where they can be formatted and arranged for transmission using LMR transceiver cellular transceiver or wireless interface

From the foregoing it will be understood that the PMCD is a multi mode device that can facilitate voice and or data communications using any one of LMR transceiver cellular transceiver or wireless interface . Communication sessions using any of these transceivers can occur during different non overlapping serial time intervals or can occur in overlapping time intervals such that communication sessions using different transceivers are facilitated concurrently. As an example consider that one or more mobile telephony sessions can begin and such session s can be implemented using cellular transceiver cellular telephony session and or wireless interface VoIP telephony session . Such telephony session will end after which an LMR communication session can be initiated using LMR transceiver . After the LMR communication session ends a new telephony session can begin. Conversely the LMR communication session can occur concurrently during all or a portion of the time associated with the mobile telephony session. The various communications sessions can occur asynchronously so that it is not known in advance when one communication session will end and one will begin. Similarly one or more LTE data sessions can be interspersed with one or more LMR sessions as described above. The LTE data session can be used to facilitate various functions such as video streaming augmented reality mapping situational awareness and so on. In such a scenario the LMR communication session can occur concurrently during all or a portion of the time associated with the LTE session.

Referring now to there is shown a block diagram that is useful for understanding an operating system stack for PMCD . Any suitable mobile device operating system can be used for the purposes of the present invention. The exemplary software stack shown in is similar to the well known Android OS and can operate in a similar manner. Accordingly the stack can include several layers including an application layer application framework layer library layer and kernel layer . Each of these layers are well known in the context of the Android OS and in this exemplary embodiment will function in a similar manner relative to the layers in that operating system. Accordingly the operation of each layer will not be described here in detail. However a brief description is provided for purposes of facilitating an understanding the inventive arrangements.

The kernel layer can be a Linux kernel which interacts with device hardware and includes software drivers appropriate for that purpose. For example the kernel layer can include a display driver camera driver flash memory driver binder IPC driver keypad driver WiFi driver LMR driver for interfacing with LMR transceiver circuitry audio driver and power management driver . The kernel is essentially an abstraction layer and facilitates core functionality of the PMCD. Such functionality will include process management networking operations control of memory security settings and so on. Library layer is comprised of a plurality of native libraries which facilitate processing of various types of data. This layer can also include virtual machine e.g. the Dalvik Virtual machine and core Java libraries as is known in the art. The various libraries are omitted in to avoid obscuring the invention.

Application framework layer contains various functional programs which interact directly or indirectly with software applications included in application layer . These computer programs include activity manager windows manager content providers view system package manager telephony manager location manager and notification manager . The functions of these programs are well known to those familiar with operating systems such as Android OS and therefore will not be described here in detail. The application framework layer will also include a critical resource manager which shall be described below in further detail. The critical resource manager CRM is shown in as residing exclusively within the application framework layer but it should be appreciated that it can also include functional program elements which reside in the library layer and within the kernel layer without limitation. Application layer is the top layer of the operating system stack and will include various application programs the user will interact with for controlling the operations of the PMCD . Application programs shown in the exemplary embodiment in include home application a phone application a browser application and an LMR application . Other application programs can include a camera application video and or still without limitation. Of course the invention is not limited to these particular application programs and more or fewer application programs can be provided.

Referring now to there is shown a flowchart that is useful for understanding the operations of CRM . The process begins at and continues at where an inventory is obtained with respect to software applications e.g. software applications and presently executing on the PMCD . Thereafter at the CRM determines a hardware set required for each software application. The hardware set will advantageously comprise a complete list of hardware elements which are needed by each software application to ensure full functionality of that application. For example an exemplary application will generally require access to two or more hardware elements as shown and described with respect to . In some instances shared access to a resource can be sufficient i.e. access shared with another software application but in other instances a software application may require exclusive access to a resource. Accordingly the determination of the hardware set for each application can also include a determination as to whether the required access must be exclusive or whether shared access is sufficient.

At a determination is made as to the current actual hardware resources required for a software application to function. As will be appreciated certain hardware resources may not be required during all operating states of a software application. As an example a touch screen display may be needed when dialing a telephone call but may not be needed once the call is connected and while the telephony session is continuing. Accordingly the touch screen display would be part of the full hardware set required for a phone software application but might not be part of the current hardware resources needed for an application to continue providing certain limited services.

The process continues on to at which point a set of current values or status indicators is obtained with respect to various parameters. The parameters serve as input variables which are evaluated at to determine a usage scenario for PMCD . The usage scenario can be thought of as an aggregate set of circumstances with respect to conditions internal and external to the PMCD . The parameters are used to dynamically determine which software applications will have priority access to the various hardware resources. Parameters can therefore include a wide range of variables which reflect conditions within PMCD and or conditions external to PMCD . The parameters are chosen so as to provide CRM with sufficient information to identify the occurrence of certain mission critical conditions relevant to operation of PMCD . The parameters and usage scenario evaluation will be discussed below in greater detail.

As a result of the evaluation at the CRM will at allocate to each application selected hardware resources. Ideally each software application would always be allocated all hardware elements corresponding to its complete hardware set. In other words it would be allocated all of the hardware elements in requires in order to carry out all of its functionality. However hardware resources are necessarily limited on PMCD . Accordingly a usage scenario is considered to ensure that mission critical functions of the PMCD are not impeded. Accordingly CRM will dynamically grant or deny each software application access to hardware resources based on the usage scenario which varies over time to ensure that mission critical functions are not impaired.

Following the allocation of hardware resources at the process continues on to where a determination is made as to whether a new application has been launched within the PMCD software environment. If so Yes then the process returns to where a new inventory of applications is performed followed by an update with regard to the hardware set information and current resource requirements of each application. The process then continues as described above with respect to steps . If no new application has been launched No then the process continues on to where a determination is made as to whether the CRM program should be terminated. For example if a determination is made that the PMCD is being powered down then it may be necessary to terminate the CRM program. If not No then the process returns to to update the actual current hardware resource needs and parameters at . Thereafter the process continues as previously described until the program is terminated at step .

Hardware resources can be allocated and de allocated to particular software applications without terminating the software application or even notifying the particular software application that its access rights with respect to the particular hardware resource have been changed. Accordingly the ability of a particular software application to access a particular hardware resource can be vary without communicating this information to the application. Instead the CRM handles requests or access to hardware resources and determines whether access should be granted based on the current usage scenario. For example in a first usage scenario a software application A may have access to a hardware resource such as a loudspeaker for playing audio. If CRM determines e.g. based on a change in the usage scenario that software application A should lose access to the loudspeaker then CRM can terminate such access without notifying software application A. In such a scenario software application A will continue to output audio data for playback but CRM will cause those audio samples to be discarded. Alternatively CRM can temporarily store those samples in a memory location for a time when software application A is once again granted access to the loudspeaker. CRM can determine an appropriate response depending on a particular hardware resource and a particular usage scenario. Notably software application A which has lost access to the hardware resource will continue to function as though it has access to the loudspeaker but will not terminate. At such time as CRM determines that software application A should again be granted access to the loudspeaker it will advantageously provide such access in a way which is apparently seamless with respect to application A. These events involving allocation and de allocation of hardware can be very short in duration e.g. on the order of 3 5 seconds or may be longer depending upon use case.

The CRM exists as a software service which is configured to manage hardware resources comprising PMCD . Accordingly CRM has control over one or more application programming interfaces APIs contained in the library layer through which software applications in application layer can access hardware elements. It will be appreciated that software applications e.g. do not directly possess rights to hardware elements available in PMCD . Instead each software application must negotiate their required hardware resources through standard operating system APIs. The CRM is advantageously configured to exist in consortium with these services and APIs to properly maintain expectations of all applications while providing dedicated or shared hardware resource access to priority applications. In some cases expected content or data from a hardware element will be replaced with false data by the CRM and will be communicated to non priority applications so as to maintain application integrity. In other words the CRM will provide false data temporarily to a software application so that the execution of the application is not impaired while critical hardware resources are allocated to other possibly higher priority software applications. Conversely in some cases the CRM may erase or discard data communicated to hardware resources so as to not interfere with use of those resources by priority software applications. Optionally the CRM may temporarily cause some or all of the data communicated from a software application to a particular hardware resource to be temporarily stored for later use.

As an example suppose that application A is producing an audio stream as critical application B is also producing an audio stream. Further suppose that CRM determines that application B should have dedicated access to the speaker. In such a scenario CRM will control the operation of the audio subsystem e.g. codec to mute audio from application A prior to any mixing of the two audio streams in the operating system codec hardware mixer subsystem. Application A will continue to generate audio samples and push them into the stream unknowing that the audio samples are being discarded stored or otherwise muted. Once the critical application B has completed its activity the CRM will remove the mute on output stream from software application A. In such a scenario the muted audio from application A may never be reproduced at the loudspeaker. However in an alternative embodiment CRM can optionally cause any stored audio from application A to be played once the codec and or other audio reproduction hardware becomes available.

Referring now to there is provided a conceptual diagram that is useful for understanding the flowchart in . As shown therein CRM receives a plurality of parameters in various usage parameter categories . Categories of parameters can include user configuration information network availability device geographic location and sensor data input. The sensor category can include information concerning conditions surrounding the PMCD ambient conditions affecting the PMCD and or conditions affecting the user of PMCD . Accordingly exemplary sensor data can provide information concerning motion acceleration and vibration to which the PMCD is subjected ambient sound detected by an audio transducer microphone provided as part of the PMCD device orientation and so on. The parameters can also specify operability of various hardware components within the PMCD so that the CRM is aware of hardware resource failures.

As also illustrated in the CRM obtains information from each software application regarding its current hardware resource needs. The hardware resource needs can include the complete hardware set required for full functionality of each application and or a listing of hardware resources which are needed for carrying out application functions based on a current state of the software application. Accordingly hardware resource needs of a particular application can potentially vary over time. All of this information is evaluated in CRM and is used to determine which applications require various hardware resources at different times. For example the CRM can use this information to ensure that mission critical functions provided by one or more software applications are not impeded by allocation of certain hardware resources to other software applications which are not currently deemed mission critical. Based on this evaluation the CRM will allocate available hardware resources to one or more software applications as shown.

For example in the scenario shown the hardware set for Application includes HW HW and HW. Recall that the hardware set is the total list of hardware resources which may be required by a software application for carrying out its various functions. CRM has determined that HW is not mission critical to Application in this usage scenario and therefore has determined that Application will not have access to HW. This determination can be based on an overall analysis of the usage scenario or can be derived exclusively from information provided by Application . The lack of Application access to HW is illustrated in by the cross hatching contained in HW.

The hardware set for Application also includes HW HW and HW but in the exemplary usage scenario HW is needed by Application for a mission critical function and the CRM has therefore not granted Application access to HW. Hardware resource HW is deemed to be mission critical to Application in this usage scenario and therefore HW is allocated exclusively to Application . Note that in this scenario hardware resource HW is shared by both Application and Application . The hardware set for Application includes HW and HW but not HW or HW. In this usage scenario CRM determines that HW is needed by Application for a mission critical function. Accordingly Application is denied access to HW. Application is granted access to HW because that particular HW resource is not needed by either of the other applications. The most effective allocation of resources HW HW HW and HW among Applications and can vary over time based on variations in the usage scenario. Accordingly the CRM will dynamically assign and re assign hardware resources based on its current evaluation of the parameters and the overall usage scenario.

CRM can use any suitable algorithm for purposes of ensuring that applications have access to necessary hardware resources to perform mission critical functions. In some embodiments the algorithm can be a simple rule based arrangement. However the CRM can also be configured to dynamically evaluate changing usage scenarios using a QoS calculator. The QoS calculator assigns different weights to different parameters for purposes of performing a hardware resource allocation. As an example the CRM could allocate available hardware resources to ensure that a certain quantitative QoS value representing a quality of service afforded to a particular software application is satisfied with respect to each software application. The QoS value can be predetermined based on the extent to which a particular software application is deemed to provide mission critical functions in each scenario. Alternatively the QoS value could be dynamically varied in accordance with a particular usage scenario. Still the foregoing arrangements are merely intended as examples and any suitable arrangement could be used for maintaining a suitable level of quality of service with respect to each software application.

Full featured cell phone operating systems provide the most flexible software platform for purposes of integrating LMR cellular telephone and broad band data functions. Still mobile operating systems that are oriented towards cellular telephony operations commonly give hardware priority to phone applications. Such priority access is based on static rules and does not react to changes in circumstances or situations. In contrast a system as described herein will augment a mobile operating system installed in a PMCD to provide it with a dynamic capability for allocating hardware resources. Notably the inventive arrangements facilitate a PMCD which uses a conventional off the shelf operating system for a mobile device e.g. a mobile operating system designed for a smart phone which includes dynamic control of hardware access. This dynamic capability can ensure that user access to mission critical functionality which varies over time and with different situations is not impeded.

In order to better understand the inventive arrangements some exemplary usage scenarios are provided below.

A police officer initiates a cellular telephone call using a PMCD . The phone application in PMCD has exclusive access to certain hardware resources in the PMCD . The officer observes the occurrence of an auto accident while the telephone call is in progress and needs to call an LMR dispatch center for an ambulance. The officer presses a push to talk button to use the LMR radio function. An LMR radio call is a mission critical operation for the PMCD . CRM detects the PTT button push as a usage parameter and responds by immediately re assigning certain PMCD hardware resources from the phone application to the LMR application . This interferes with or may even terminate the telephone call but the LMR radio call is mission critical and takes priority.

A police officer is using a broad band wireless network and a browser application to access certain image data concerning suspected criminal activity. The broadband data session in progress using browser application requires certain hardware resources provided by PMCD . Suddenly gunshots are fired and the sound of the gunshots is detected by sound sensors provided on PMCD . This information is communicated to CRM as a usage parameter. The CRM determines that a usage scenario has changed gunshots are occurring and recognizes that the officer may need to use an LMR radio function to call a dispatcher for assistance. The LMR radio call is mission critical and CRM therefore immediately re allocates hardware resources from browser application to LMR radio application .

Consider the same scenario as described in Example 2 except that instead of a sensing the occurrence of a gunshot a motion or acceleration sensor detects that the officer is running while carrying the PMCD . CRM receives this sensor information as a usage parameter and determines that a usage scenario has changed to a foot pursuit. Hardware resources in use by the browser application are immediately re allocated to the LMR application to facilitate a call to dispatch.

A police officer is carrying PMCD while at a location outside of an LMR communication area. Not realizing that his location is outside of an LMR communication area the police officer uses a PTT button to initiate an LMR radio transmission. CRM detects the PTT button activation. CRM also detects using a location sensor such as a GPS device that PMCD has a location outside of the LMR communication coverage area or the LMR network is otherwise not available. The location information and PTT button press are parameters in this example. Based on this usage scenario CRM automatically allocates cellular transceiver hardware to the LMR application whereby the cellular transceiver hardware can be used to communicate through an available cellular telephone network to connect the PMCD with an LMR dispatch station. Alternatively rather than allocating cellular transceiver hardware as described above the CRM could automatically allocate wireless transceiver interface and or other processing resources deemed necessary for a broadband wireless communication session. In such a scenario a communication session could be based a wireless standard such as LTE WiFi or any other suitable wireless protocol. Within this context a PTT type VoIP session is contemplated and could be used for voice communication in the absence of the LMR network. Available hardware resources for the broadband wireless communication session could be automatically used to communicate with an LMR dispatch station when the LMR network was out of range.

A first officer is using a PMCD as a cell phone. A second officer keys an emergency message to a dispatch station. The dispatch station sends an internet protocol IP based message to a plurality of PMCDs within a dispatch area notifying them of the emergency. The first officer using the PMCD as a cell phone receives the IP emergency notification message as a stimulus parameter to CRM. As a result of receiving the notification the hardware resources in the first officer s PMCD are exclusively allocated to LMR radio functions because LMR communication is deemed mission critical and has priority over cellular telephony function.

Although the invention has been illustrated and described with respect to one or more implementations equivalent alterations and modifications will occur to others skilled in the art upon the reading and understanding of this specification and the annexed drawings. In addition while a particular feature of the invention may have been disclosed with respect to only one of several implementations such feature may be combined with one or more other features of the other implementations as may be desired and advantageous for any given or particular application. Thus the breadth and scope of the present invention should not be limited by any of the above described embodiments. Rather the scope of the invention should be defined in accordance with the following claims and their equivalents.

