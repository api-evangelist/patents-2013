---

title: Method of radio-frequency and microwave device generation
abstract: The present disclosure relates to an apparatus and method to generate a device library, along with layout versus schematic (LVS) and parasitic extraction set-up files for connecting with official tools of a design window supported by a process design kit (PDK). The device library comprises passive devices which can be utilized at any point in an end-to-end design flow from pre-layout verification to post-layout verification of an integrated circuit design. The device library allows for a single schematic view for pre-layout verification but also post-layout verification, thus allowing for pole or pin comparison, and prevents double-counting of parasitic effects from passive design elements by directly instantiating a device from the device library for a verification step. An LVS and parasitic extraction graphical user interface (GUI) allows for incorporation of the generated device library into a pre-existing PDK without any modification to the PDK. Other devices and methods are also disclosed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08856701&OS=08856701&RS=08856701
owner: Taiwan Semiconductor Manufacturing Co., Ltd.
number: 08856701
owner_city: Hsin-Chu
owner_country: TW
publication_date: 20130312
---
An end to end design flow of an integrated circuit includes schematic construction and pre layout simulation layout generation based upon the schematic and post layout simulation of the generated layout prior to manufacturing. Pre layout simulation and post layout simulation verify consistency of an integrated circuit between the schematic representation and the layout representation respectively. Parameters which account for parasitic effects in the pre layout simulation step are removed prior to layout generation to avoid double counting of the parasitic effects in the post layout simulation step. These parameters are derived directly from layout topologies within the layout representation.

The description herein is made with reference to the drawings where like reference numerals are generally utilized to refer to like elements throughout and where the various structures are not necessarily drawn to scale. In the following description for purposes of explanation numerous specific details are set forth in order to facilitate understanding. It may be evident however that one or more aspects described herein may be practiced with a lesser degree of these specific details. In other instances known structures and devices are shown in block diagram form to facilitate understanding.

Upon successful completion of the pre layout verification step A the post layout verification step B is performed where a second schematic view of the IC is constructed at B. The second schematic view of the IC does not contain the passive elements as represented in the first schematic view. At B a layout representation corresponding to the schematic representation is generated whereupon circuit components are formed with physical shapes such as physical design layers e.g. gate polysilicon metallization planes etc. for manufacturing. The passive parameters are removed from the second schematic view and formed instead on the physical design layers in the layout generation step at B where upon completion a layout designer must manually block strip metal lines inductors or transmission lines within the RF or microwave devices with specific layers allocated within a design layer assignment file i.e. a technology layer file or techfile provided by process design kits PDKs . The PDKs comprise a consistent set of tools configured to create designs for a given technology node e.g. Node 28 or Node 20 within the design window e.g. a device and circuit symbol library layout versus schematic checking design rule checking for layouts parameterized layout cells etc. . The manual blocking allows for recognition of these layers as corresponding to passive devices. The passive parameters previously accounted for in the pre layout verification step A by the subsequently removed passive elements in the first schematic view are derived instead from the layout topologies within the blocked layers within the layout representation. Thus removal of the passive elements prevents double counting of the parasitic effects in the post layout simulation step B where text layers containing the passive parameters are preserved from the schematic view and recognized in post layout simulation at B in the absence of suppression.

At B a layout versus schematic verification LVS step is performed to determine whether the layout representation of the IC corresponds to the second schematic representation of the IC. LVS checking software recognizes the drawn layout shapes e.g. metallization shapes via interconnects etc. of the layout representation that correspond to the electrical components of the IC e.g. wires pins etc. and generates a post layout netlist which is compared by the LVS software such as CALIBRE QUARTZ or HERCULES to the pre layout netlist to verify correspondence. Note that passive electromagnetic effects such as transconductance depend upon electromagnetic field vectors. LVS does not account for this type of polarization.

At B parasitic extraction is performed to quantify passive parameters describing the electrical behavior from a top view of the layout representation of the design which calculates parasitic effects from devices and wiring to create an accurate model of the IC. The post layout simulation B utilizes the extracted layout view in place of the first schematic or second schematic view to emulate actual digital and analog circuit responses within the IC. The extracted layout view is used to simulate physical circuit. The post layout simulation step is essentially identical to the pre layout simulation in A but with greater accuracy. The result of the post layout simulation B should closely match the result of the pre layout simulation A where differences result from parasitic effects within the layout topologies within the layout representation e.g. capacitive coupling between metallization planes inductive coupling between passive devices etc. that are approximated by the passive parameters in the pre layout verification A.

The exemplary integrated circuit design flow of requires two schematic views one each for the pre layout verification step A and the post layout verification step B where the first schematic representation includes the passive parameters for pre layout simulation at A and a second schematic representation without the passive parameters for post layout verification at B. Additionally a lack of accounting for polarization in the LVS step B and manual blocking of layers within the RF or microwave devices within the layout view adds complexity to the circuit design flow .

Accordingly the present disclosure relates to an apparatus and method to generate a device library along with LVS and parasitic extraction set up files for connecting with official tools of a design window supported by the PDK. In some embodiments the device library comprises passive devices which can be utilized at any point in the end to end design flow from pre layout verification to post layout verification of an integrated circuit design. The device library allows for a single schematic view for pre layout verification but also post layout verification thus allowing for pole or pin comparison and prevents double counting of parasitic effects from passive design elements by directly instantiating a device from the device library for a verification step. An LVS and parasitic extraction GUI Link allows for incorporation of the generated device library into a pre existing PDK without any modification to the PDK. Other devices and methods are also disclosed.

At A a schematic representation of a circuit comprising active devices is generated. In some embodiments generation of the schematic representation comprises utilization of a design tool such as a CADENCE VIRTUOSO or MENTOR GRAPHICS design window.

At A the schematic representation is linked to a passive library configured to store one or more passive device elements and associated parameters. A passive design element is instantiated from the passive library. A respective associated parameter of the passive device element is derived from physical layout topologies of a layout representation of the passive device element. For instance a capacitance value of a metal insulator metal MIM capacitor is dependent upon an area of two or more metallization plates of the MIM capacitor and the distance between them. In some embodiments the passive device element comprises an inductor capacitor or strip metal line parameterized cell PCell referenced from the passive library where a functional parameter i.e. S parameter Lump Model or polarization parameter is assigned to the PCell in the schematic representation.

At A a pre layout simulation is performed to model the electrical behavior of the schematic representation including the passive device element with an industry standard circuit simulation tool such as SPICE or SPECTRE. As part of the pre layout simulation a pre layout netlist comprising an analogous definition of connectivity within the schematic representation is derived. In some embodiments a subroutine embedded inside the pre layout netlist references a path to the passive library. For instance in SPECTRE a sub circuit or subckt command within pre layout netlist references a file path to the passive design element.

At A the result of the pre layout simulation is verified by a designer to insure a result that is consistent with expected functionality of the IC approximated by the schematic representation. If the result of the pre layout simulation is not consistent then the designer returns to A and revises functional parameters of the schematic representation or instantiates a new passive design element with a new functional parameter.

At A a layout representation is generated corresponding to the schematic representation where generating the layout representation comprises converting the passive schematic design element into a passive layout design element through manual placement of physical design layers i.e. polysilicon to form gates metallization to form passive elements etc. or utilization of a parameterized cell PCell configured to generate all or a portion of the layout representation in accordance with the functional parameter.

At A LVS is performed to determine whether the layout representation of the IC corresponds to the schematic representation of the IC where LVS comprises generating a post layout netlist corresponding to the layout representation. The post layout netlist comprises connections between active and passive circuit components within the layout representation. LVS compares the pre layout netlist to the post layout netlist to verify correspondence. In some embodiments a subroutine embedded inside the post layout netlist references a path to the passive library. For instance in SPECTRE a sub circuit or subckt command within post layout netlist references a file path to the passive layout design element.

At A parasitic extraction is performed in a parasitic extraction tool in order to compare the pre layout netlist to the post layout netlist to verify correspondence between respective functional parameters between the schematic representation and the layout representation.

At A a post layout simulation is performed comprising modeling properties of the circuit represented by the layout representation as a function of functional parameters and the post layout netlist generated from the layout representation.

The IC design flow A utilizes a link to a schematic to layout device and model translator B to run through the IC design flow A successfully from pre layout simulation to post layout simulation without revising any files or decks inside original PDK. This is achieved by linking with parasitic aware library B as illustrated by the schematic to layout device and model translator B in the embodiments of . The parasitic aware library B is configured to store network parameter data i.e. an Nport symbol and schematic to support an S parameter in an SnP file comprising connectivity of a design element e.g. a symbol design element a schematic design element and a layout design element corresponding to one another and a functional parameter of the design element i.e. a Lump Model sub circuit to support a netlist file . The schematic to layout device and model translator B further comprises a layout effect repository B configured to store one or more layout topologies from which the functional parameter is derived and a device generator B configured to receive inputs from the parasitic aware library B and the layout effect repository B and integrate the functional parameter into the design element to form an integrated design element. A device library B within a memory store is configured to receive the integrated design element from the device generator B and to store the integrated design element of the device library B for future use.

At A the result of the post layout simulation is verified by a designer to insure a result that is consistent with expected functionality of the layout representation of the IC. If the result of the post layout simulation is not consistent then the designer returns to A and revises functional parameters of the schematic representation or re instantiates the passive design element with a new functional parameter.

To access various components of the integrated design element from the device library B the schematic to layout device and model translator B further comprises a layout versus schematic LVS set up file B configured to add the integrated design element into the post layout netlist e.g. through a sub circuit command . A parasitic extraction set up file B is configured to integrate extraction data but without extracting the parasitic effects from the integrated design element within the layout representation into a parasitic extraction tool to prevent from double counting of parasitic effects and to link with the parasitic extraction set up file B to assign the first functional parameter to the integrated design element within the post layout netlist of the layout representation. In other words the parasitic extraction set up file B informs the parasitic extraction tool in action A not to extract parasitic effects from the integrated design element within layout representation to prevent from double counting parasitic effects and instead to create the sub circuit with no contents in the post layout netlist. The parasitic extraction tool accordingly assigns the first functional parameter inside the sub circuit within final layout representation of post layout netlist. A post layout verification link B is configured to receive inputs from the device library B the LVS set up file B and the parasitic extraction set up file B and link to a LVS tool user interface or parasitic extraction tool user interface. Note that subcomponent B is independent of a PDK and can generate an LVS set up file B or a parasitic extraction set up file B which is compatible with multiple tool formats.

To incorporate the passive layout design element into the layout representation for the purpose of LVS the schematic to layout device and model translator B is utilized where the schematic to layout device and model translator B is configured to receive inputs from the device library B and the LVS set up file B. The LVS set up file B is configured to translate the functional parameter into a format that is compatible with the post layout netlist through a library initialization methodology where the layout representation is built by referencing one or more design libraries including the passive device library at a specified time. To incorporate the functional parameter into the layout representation for the purpose of parasitic extraction the post layout verification link is also configured to receive inputs from a parasitic extraction set up file. The parasitic extraction set up file is configured to integrate the passive layout design element without extracting parasitic effects and associated functional parameter derived by a parasitic extraction tool into a post layout netlist corresponding to the layout representation E through a library initialization methodology.

At a schematic representation of a circuit is linked to a device library the device library comprising a set of passive design elements and a first set of functional parameters corresponding to the set of passive design elements where the set of passive design elements and first set of functional parameters are represented in a pre layout simulation format and where a passive schematic design element of the set of passive design elements is instantiated within the schematic representation. The schematic representation is generated by generating a schematic view of the circuit comprising the set of passive design elements and a set of active design elements and generating a second set of functional parameters corresponding to the set of active design elements within the schematic representation. In some embodiments linking the schematic representation to the device library comprises determining a location of the passive schematic element within the schematic view instantiating the passive schematic design element at the location and assigning the functional parameter to the passive schematic design element at the location within the schematic view.

At a pre layout simulation e.g. a timing simulation of the circuit is performed using an industry standard simulation tool such as SPICE or SPECTRE the pre layout simulation comprising simulating function of the schematic representation with a first functional parameter from the first set of functional parameters assigned to the passive schematic design element. In some embodiments the pre layout simulation comprises generating a pre layout netlist corresponding to the schematic representation the pre layout netlist comprising connections within the set of passive design elements within the schematic view connections within the set of active design elements within the schematic view and connections between the set of active design elements and the set of passive design elements within the schematic view. The pre layout simulation further comprises modeling properties of the circuit represented by the schematic representation as a function of the first set of functional parameters the second set of functional parameters and the pre layout netlist.

At a layout representation corresponding to the schematic representation of the circuit is generated. In some embodiments generating the layout representation comprises generating a layout view of the circuit comprising the set of passive design elements and the set of active design elements retaining the location of the passive schematic design element from the schematic view within the layout view and retaining the second set of functional parameters in the layout view.

At the layout representation is linked to a dynamic reference i.e. the post layout verification link B of the embodiments of the dynamic reference comprising a connection to the device library and a connection to one or more set up files configured to translate the first set of functional parameters from the pre layout simulation format to a post layout simulation format. A passive layout design element corresponding to the passive schematic design element is instantiated within the layout representation through the dynamic reference. In some embodiments the one or more set up files comprise a layout versus schematic LVS set up file configured to integrate the passive layout element into a post layout netlist corresponding to the layout representation. In some embodiments the one or more set up files comprise a parasitic extraction set up file configured to integrate extraction data but without extracting the parasitic effects from the set of passive design elements within the layout representation into a parasitic extraction tool to prevent from double counting of parasitic effects. The parasitic extraction set up file instead assigns the first set of functional parameters to the set of passive design elements within the post layout netlist by creating a sub circuit with no contents in the post layout netlist.

At a post layout simulation is performed comprising simulating function of the layout representation with the functional parameter assigned to the passive layout design element within the layout representation through the dynamic reference. In some embodiments an LVS step is performed prior to the post layout simulation where the post layout netlist corresponding to the layout representation is generated the post layout netlist comprising connections within the set of passive design elements within the layout view connections within the set of active design elements within the layout view and connections between the set of passive design elements and the set of active design elements within the layout view. The LVS step further comprises comparing the pre layout netlist to the post layout netlist to verify correspondence between design components and connections between the schematic representation and the representation with the LVS tool. In some embodiments a parasitic extraction step is performed after the LVS step and prior to the post layout simulation. The parasitic extraction step comprises comparing the pre layout netlist to the post layout netlist to verify correspondence between respective functional parameters between the schematic representation and the layout representation with the parasitic extraction tool.

In some embodiments conversion of the schematic representation D into the layout representation E comprises instantiating the strip metal line A PCell or fixed cell in the layout representation E and translating the S parameter from the pre layout simulation format to the post layout simulation format with the one or more set up files. In some embodiments the one or more set up files comprise an LVS set up file configured to integrate the passive layout element into a post layout netlist corresponding to the layout representation E though a library initialization methodology. In some embodiments the one or more set up files comprise a parasitic extraction set up file configured suppress extraction of parasitic effects from the strip metal line A PCell or fixed cell within the layout representation to prevent from double counting of parasitic effects. The parasitic extraction set up file instead assigns the S parameter to the set of passive design element to the strip metal line A within the post layout netlist by creating a sub circuit with no contents in the post layout netlist through a design vendor tools application programming interface API and the parasitic extraction code.

It will also be appreciated that equivalent alterations and or modifications may occur to one of ordinary skill in the art based upon a reading and or understanding of the specification and annexed drawings. The disclosure herein includes all such modifications and alterations and is generally not intended to be limited thereby. In addition while a particular feature or aspect may have been disclosed with respect to only one of several implementations such feature or aspect may be combined with one or more other features and or aspects of other implementations as may be desired. Furthermore to the extent that the terms includes having has with and or variants thereof are used herein such terms are intended to be inclusive in meaning like comprising. Also exemplary is merely meant to mean an example rather than the best. It is also to be appreciated that features layers and or elements depicted herein are illustrated with particular dimensions and or orientations relative to one another for purposes of simplicity and ease of understanding and that the actual dimensions and or orientations may differ substantially from that illustrated herein.

Therefore present disclosure relates to an apparatus and method to generate a device library along with layout versus schematic LVS and parasitic extraction set up files for connecting with official tools of a design window supported by a process design kit PDK . The device library comprises passive devices which can be utilized at any point in an end to end design flow from pre layout verification to post layout verification of an integrated circuit design. The device library allows for a single schematic view for pre layout verification but also post layout verification thus allowing for pole or pin comparison and prevents double counting of parasitic effects from passive design elements by directly instantiating a device from the device library for a verification step. An LVS and parasitic extraction graphical user interface GUI allows for incorporation of the generated device library into a pre existing PDK without any modification to the PDK. Other devices and methods are also disclosed.

The passive device generation disclosed herein allows for pre layout simulation and post layout verification comprising LVS parasitic extraction and post layout simulation with a single schematic view. This prevents double counting parasitic effects and runs through an end to end circuit design flow without revising any files or decks inside original PDK by linking with the device RF Microwave library to one of more set up files with official tool of an LVS or extraction GUI automatically to reduce the effort of design flow implementation and cycle time. The passive device generation also maintains consistency between two schematic views and eliminates additional layout steps to suppress double counting of parasitic effects within the layout view.

In some embodiments the present disclosure relates to a design flow comprising generating a schematic representation of a circuit and linking the schematic representation to a device library the device library comprising a set of passive design elements and a first set of functional parameters corresponding to the set of passive design elements wherein the set of passive design elements and first set of functional parameters are represented in a pre layout simulation format. A passive schematic design element of the set of passive design elements is instantiated within the schematic representation and a pre layout simulation is performed comprising simulating function of the schematic representation with a first functional parameter from the first set of functional parameters assigned to the passive schematic design element. A layout representation corresponding to the schematic representation is generated and linked to a dynamic reference. The dynamic reference comprises a connection to the device library and a connection to one or more set up files configured to translate the first set of functional parameters from the pre layout simulation format to a post layout simulation format. A passive layout design element of the set of passive design elements is instantiated within the layout representation wherein the passive layout design element corresponds to the passive schematic design element. And a post layout simulation is performed comprising simulating function of the layout representation with the first functional parameter assigned to the passive layout design element within the layout representation through the dynamic reference.

In some embodiments the present disclosure relates to a design flow for passive device generation comprising generating a schematic representation of a circuit comprising active devices instantiating a passive schematic design element from a passive library and assigning a functional parameter to the passive schematic design element in the schematic representation the functional parameter comprising an S Parameter Lump Model or a polarization parameter. The design flow for passive device generation next involves generating a layout representation corresponding to the schematic representation wherein generating the layout representation comprises converting the passive schematic design element into a passive layout design element converting the functional parameter into a format compatible to the layout representation and assigning the functional parameter to the passive layout design element in the layout representation.

In some embodiments the present disclosure relates to a schematic to layout device and model translator comprising a parasitic aware library configured to store network parameter data comprising connectivity of a design element and a functional parameter of the design element. The schematic to layout device and model translator further comprises a layout effect repository configured to store one or more layout topologies from which the functional parameter is derived. A device generator within the schematic to layout device and model translator is configured to receive inputs from the parasitic aware library and the layout effect repository and integrate the first functional parameter into the design element to form an integrated design element. A device library is configured to receive the integrated design element from the device generator and to store the integrated design element. The schematic to layout device and model translator further comprises a layout versus schematic LVS set up file configured receive the to add the integrated design element into the post layout netlist comprising connectivity of a layout representation and a parasitic extraction set up file configured to suppress extraction of parasitic effects from the design element within the layout representation to prevent from double counting of parasitic effects. The parasitic extraction set up file instead assigns the first functional parameter of the design element within the post layout netlist by creating a sub circuit with no contents in the post layout netlist corresponding to the design element. A post layout verification link within the schematic to layout device and model translator is configured to receive inputs from the device library the LVS set up file and the parasitic extraction set up file and link to a LVS tool user interface or parasitic extraction tool user interface.

