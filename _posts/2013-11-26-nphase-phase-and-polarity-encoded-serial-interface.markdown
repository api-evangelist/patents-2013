---

title: N-phase phase and polarity encoded serial interface
abstract: System, methods and apparatus are described that facilitate transmission of data, particularly between two devices within an electronic apparatus. Information is transmitted in N-phase polarity encoded symbols. Data is encoded in multi-bit symbols, and the multi-bit symbols are transmitted on a plurality of connectors. The multi-bit symbols may be transmitted by mapping the symbols to a sequence of states of the plurality of connectors, and driving the connectors in accordance with the sequence of states. The timing of the sequence of states is determinable at a receiver at each transition between sequential states. The state of each connector may be defined by polarity and direction of rotation of a multi-phase signal transmitted on the each connector.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09231790&OS=09231790&RS=09231790
owner: QUALCOMM Incorporated
number: 09231790
owner_city: San Diego
owner_country: US
publication_date: 20131126
---
The present Application for patent is a continuation in part of U.S. Utility patent application Ser. No. 13 826 546 filed Mar. 14 2013 which issued as U.S. Pat. No. 9 083 598 on Jul. 14 2015 which is a continuation of U.S. Utility patent application Ser. No. 13 301 454 filed Nov. 21 2011 and issued as U.S. Pat. No. 8 472 551 which was a continuation of U.S. Utility patent application Ser. No. 11 712 941 filed Mar. 2 2007 and issued as U.S. Pat. No. 8 064 535 where these applications are assigned to the assignee hereof and are hereby expressly incorporated by reference herein and the present application is a continuation in part of U.S. patent application Ser. No. 13 797 272 entitled N Phase Polarity Data Transfer filed Mar. 12 2013 which application is assigned to the assignee hereof and hereby expressly incorporated by reference herein and which was a non provisional application of U.S. Provisional Application No. 61 666 197 filed Jun. 29 2012 and of U.S. Provisional Application No. 61 612 174 filed Mar. 16 2012 and the present application is a continuation in part of U.S. patent application Ser. No. 13 662 076 entitled Three Phase Polarity Safe Reverse Link Shutdown filed Oct. 26 2012 which issued as U.S. Pat. No. 9 112 815 on Aug. 18 2015 which claims priority from U.S. Provisional Application No. 61 660 664 entitled Three Phase Polarity Safe Reverse Link Shutdown filed Jun. 15 2012 these applications being assigned to the assignee hereof are hereby expressly incorporated by reference herein and the present application is a continuation in part of U.S. patent application Ser. No. 13 933 090 entitled N Phase Polarity Output Pin Mode Multiplexer filed Jul. 1 2013 which issued as U.S. Pat. No. 9 143 362 on Sep. 22 2015 which application is assigned to the assignee hereof and is hereby expressly incorporated by reference herein and which was a non provisional application of U.S. Provisional Application No. 61 666 197 filed Jun. 29 2012.

The present disclosure relates generally to high speed data communications interfaces and more particularly multi wire multi phase data communication links.

In the field of high speed serial communication demand for ever increasing data rates continues to grow. Many conventional high speed serial interface systems use non return to zero NRZ data encoding with separate data and clock signals. This separation of the data and clock signals however typically results in skew between the two signals limiting the maximum possible link data rate of the interface.

Typically de skewing circuitry is used at the receiving end of the serial interface to eliminate skew between the data and the clock signals. Consequently both the real estate requirements and the link start up time of the serial interface are increased with the latter becoming disadvantageous when the interface is being used intermittently at a low duty cycle to minimize system power consumption.

Other conventional serial interface systems are more immune to skew by using data and strobe signals but still suffer from skew problems when operating at high speeds.

Additionally certain integrated receiver devices are typically built with slower logic because they have larger feature sizes in order to drive high voltages. This is the case for example for integrated LCD Controller Driver circuits that are used to drive LCD panels. As such it would be difficult to implement a high speed serial interface for such devices using conventional systems.

What is needed therefore is a high speed serial interface that resolves the above described problems of conventional serial interface systems. Further a high speed serial interface with increased capacity and reduced power consumption relative to conventional systems is needed.

Embodiments disclosed herein provide systems methods and apparatus that enable improved transmission rates on physical interfaces between devices within an apparatus. The apparatus may comprise a mobile terminal having multiple Integrated Circuit IC devices which may be collocated in an electronic apparatus and communicatively coupled through one or more data links.

In an aspect of the disclosure a method for data communications includes steps of encoding data in multi bit symbols and transmitting the multi bit symbols on a plurality of connectors. Transmitting the multi bit symbols may include mapping the multi bit symbols to a sequence of states of the plurality of connectors and driving the connectors in accordance with the sequence of states. The timing of the sequence of states may be determinable at a receiver at each transition between sequential states. The state of each connector may be defined by polarity and direction of rotation of a multi phase signal transmitted on the each connector.

In an aspect of the disclosure the multi phase signal carried on each connector is phase shifted with respect to the multi phase signal carried on the other connectors. for each state in the sequence of states.

In an aspect of the disclosure the state of at least one of the plurality of connectors changes at each transition between the sequence of states.

In an aspect of the disclosure the plurality of connectors include a plurality of wires. The multi bit symbols may be transmitted on the plurality of connectors by leaving a first wire undriven providing a voltage differential between a second wire and a third wire during a first of two sequential time intervals and leaving the second wire undriven and providing the voltage differential between the first wire and the third wire during a second of the two sequential time intervals. During the second of the two sequential time intervals the polarity of the voltage differential may be reversed. At least one of the plurality of wires is undriven during each of the sequential time intervals. At least one of a change of polarity of the voltage differential and a change of wire that is undriven occurs at each transition between the sequence of states.

In an aspect of the disclosure one of the plurality of wires may be left undriven by being open circuited. A wire may be left undriven by causing the wire to transition toward a voltage level that lies substantially halfway between voltage levels of a pair of driven wires.

In an aspect of the disclosure the multi phase signal transmitted on each connector includes one of two three phase signals that have different phase rotation directions.

In an aspect of the disclosure the multi phase signal transmitted on each connector is a three phase signal. The plurality of connectors may include three or more connectors.

In an aspect of the disclosure the plurality of connectors may include two groups of three connectors. Different symbols may be encoded on each group of three connectors.

In an aspect of the disclosure the plurality of connectors may include four or more connectors. Each symbol may be encoded for transmission using the four or more connectors.

In an aspect of the disclosure an apparatus for data communications includes means for encoding data in multi bit symbols and means for transmitting the multi bit symbols on a plurality of connectors. The means for transmitting may be configured to map the multi bit symbols to a sequence of states of the plurality of connectors and drive the connectors in accordance with the sequence of states. The timing of the sequence of states may be determinable at a receiver at each transition between sequential states. The state of each connector may be defined by polarity and direction of rotation of a multi phase signal transmitted on the each connector.

In an aspect of the disclosure an apparatus that encodes data includes an encoder configured to encode data in multi bit symbols a mapper configured to map the multi bit symbols to a sequence of states for transmitting on a plurality of connectors and one or more drivers configured to transmit the multi bit symbols on the plurality of connectors by driving the connectors in accordance with the sequence of states. The timing of the sequence of states is determinable at a receiver at each transition between sequential states. The state of each connector may be defined by polarity and direction of rotation of a multi phase signal transmitted on the each connector.

In an aspect of the disclosure a non transitory machine readable storage medium has instructions stored thereon for encoding data. The instructions when executed by at least one processor may cause the at least one processor to encode data in multi bit symbols and transmit the multi bit symbols on a plurality of connectors. The multi bit symbols may be transmitted by mapping the multi bit symbols to a sequence of states of the plurality of connectors and driving the connectors in accordance with the sequence of states. The timing of the sequence of states is determinable at a receiver at each transition between sequential states. The state of each connector may be defined by polarity and direction of rotation of a multi phase signal transmitted on the each connector.

Various aspects are now described with reference to the drawings. In the following description for purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of one or more aspects. It may be evident however that such aspects may be practiced without these specific details.

As used in this application the terms component module system and the like are intended to include a computer related entity such as but not limited to hardware firmware a combination of hardware and software software or software in execution. For example a component may be but is not limited to being a process running on a processor a processor an object an executable a thread of execution a program and or a computer. By way of illustration both an application running on a computing device and the computing device can be a component. One or more components can reside within a process and or thread of execution and a component may be localized on one computer and or distributed between two or more computers. In addition these components can execute from various computer readable media having various data structures stored thereon. The components may communicate by way of local and or remote processes such as in accordance with a signal having one or more data packets such as data from one component interacting with another component in a local system distributed system and or across a network such as the Internet with other systems by way of the signal.

Moreover the term or is intended to mean an inclusive or rather than an exclusive or. That is unless specified otherwise or clear from the context the phrase X employs A or B is intended to mean any of the natural inclusive permutations. That is the phrase X employs A or B is satisfied by any of the following instances X employs A X employs B or X employs both A and B. In addition the articles a and an as used in this application and the appended claims should generally be construed to mean one or more unless specified otherwise or clear from the context to be directed to a singular form.

Certain aspects of the invention may be applicable to communications links deployed between electronic devices that may include subcomponents of an apparatus such as a telephone a mobile computing device an appliance automobile electronics avionics systems etc. depicts an apparatus that may employ a communication link between IC devices. In one example the apparatus may comprise a wireless communication device that communicates through an RF transceiver with a radio access network RAN a core access network the Internet and or another network. The apparatus may include a communications transceiver operably coupled to a processing circuit . The processing circuit may comprise one or more IC devices such as an application specific IC ASIC . The ASIC may include one or more processing devices logic circuits and so on. The processing circuit may include and or be coupled to processor readable storage such as a memory that may maintain instructions and data the may be executed by processing circuit . The processing circuit may be controlled by one or more of an operating system and an application programming interface API layer that supports and enables execution of software modules residing in storage media such as the memory device of the wireless device. The memory device may include read only memory ROM or random access memory RAM electrically erasable programmable ROM EEPROM flash cards or any memory device that can be used in processing systems and computing platforms. The processing circuit may include or access a local database that can maintain operational parameters and other information used to configure and operate apparatus . The local database may be implemented using one or more of a database module flash memory magnetic media EEPROM optical media tape soft or hard disk or the like. The processing circuit may also be operably coupled to external devices such as an antenna display operator controls such as a button and a keypad among other components.

The communication link may be configured to have multiple communications channels and . One or more communications channel may be bidirectional and may operate in half duplex and or full duplex modes. One or more communications channel and may be unidirectional. The communication link may be asymmetrical providing higher bandwidth in one direction. In one example described herein a first communications channel may be referred to as a forward link while a second communications channel may be referred to as a reverse link . The first IC device may be designated as a host system or transmitter while the second IC device may be designated as a client system or receiver even if both IC devices and are configured to transmit and receive on the communications link . In one example the forward link may operate at a higher data rate when communicating data from a first IC device to a second IC device while the reverse link may operate at a lower data rate when communicating data from the second IC device to the first IC device .

The IC devices and may each comprise a processor or other processing and or computing circuit or device . In one example the first IC device may perform core functions of the apparatus including maintaining wireless communications through a wireless transceiver and an antenna while the second IC device may support a user interface that manages or operates a display controller and may control operations of a camera or video input device using a camera controller . Other features supported by one or more of the IC devices and may include a keyboard a voice recognition component and other input or output devices. Display controller may comprise circuits and software drivers that support displays such as a liquid crystal display LCD panel touch screen display indicators and so on. The storage media and may comprise transitory and or non transitory storage devices adapted to maintain instructions and data used by respective processors and and or other components of the IC devices and . Communication between each processor and its corresponding storage media and and other modules and circuits may be facilitated by one or more bus and respectively.

The reverse link may be operated in the same manner as the forward link and the forward link and reverse link may be capable of transmitting at comparable speeds or at different speeds where speed may be expressed as data transfer rate and or clocking rates. The forward and reverse data rates may be substantially the same or differ by orders of magnitude depending on the application. In some applications a single bidirectional link may support communications between the first IC device and the second IC device . The forward link and or reverse link may be configurable to operate in a bidirectional mode when for example the forward and reverse links and share the same physical connections and operate in a half duplex manner. In one example the communication link may be operated to communicate control command and other information between the first IC device and the second IC device in accordance with an industry or other standard.

Industry standards may be application specific. In one example the MIPI standard defines physical layer interfaces including a synchronous interface specification D PHY between an application processor IC device and an IC device that supports the camera or display in a mobile device. The D PHY specification governs the operational characteristics of products that comply with MIPI specifications for mobile devices. A D PHY interface may support data transfers using a flexible low cost high speed serial interface that interconnects between components and within a mobile device. These interfaces may comprise complimentary metal oxide semiconductor CMOS parallel busses providing relatively low bit rates with slow edges to avoid electromagnetic interference EMI issues.

The communication link of may be implemented as a wired bus that includes a plurality of signal wires denoted as M wires . The M wires may be configured to carry N phase encoded data in a high speed digital interface such as a mobile display digital interface MDDI . The M wires may facilitate N phase polarity encoding on one or more of the channels and . The physical layer drivers and may be configured or adapted to generate N phase polarity encoded data for transmission on the communication link . The use of N phase polarity encoding provides high speed data transfer and may consume half or less of the power of other interfaces because fewer drivers are active in N phase polarity encoded data links .

N phase polarity encoding devices and or can typically encode multiple bits per transition on the communication link . In one example a combination of 3 phase encoding and polarity encoding may be used to support a wide video graphics array WVGA 80 frames per second LCD driver IC without a frame buffer delivering pixel data at 810 Mbps for display refresh.

According to certain aspects disclosed herein data and clock information may be jointly encoded and or timing information may be embedded in the data signal in order to eliminate skew between data and clock signals and thereby render de skewing circuitry unnecessary in a serial interface. For example a differential data encoding scheme may be used whereby data and clock information are jointly encoded in state transitions of a single signal. The majority of differential data encoding schemes employ level differential schemes whereby state transitions are defined in terms of changes in the level or magnitude of the data and clock signal.

In the first diagram the signal level transitions from V to V including a first transition from V to 0 followed by a second transition from 0 to V such that a 01 data sequence is transmitted. In the second diagram the signal level transitions from V to V to transmit a logic 1. However as shown by the dotted lines representing positive transitions and for example the signal slew rate may be slow compared with the response time of the data recovery circuitry at the receiving end and both transitions and can appear identical and can be interpreted as 01 by the recovery circuitry. Similar transition decoding problems occur on V to V transitions or when the slew rate is faster than the response time of the data recovery circuit. This ambiguity in decoding state transitions is due to having transitions that must pass through intermediate states in order to reach a desired state. However a differential data encoding scheme with circular state transitions may resolve ambiguous state transitions in differential data encoding schemes.

Signaling states defined for each of the M wires in an M wire N phase polarity encoding scheme may include an undriven state a positively driven state and a negatively driven state. Signaling states defined for a 3 wire 3 phase polarity encoding scheme may be denoted using the three voltage or current states 1 1 and 0 . In the 3 wire 3 phase polarity encoding scheme the positively driven state and the negatively driven state may be obtained by providing a voltage differential between two of the signal wires and or and or by driving a current through two of the signal wires and or connected in series such that the current flows in different directions in the two signal wires and or

The undriven state may be realized by placing an output of a driver of a signal wire or in a high impedance mode. Alternatively or additionally an undriven state may be obtained on a signal wire or by passively or actively causing an undriven signal wire or to transition toward a voltage level that lies substantially halfway between positive and negative voltage levels provided on driven signal wires and or . Typically there is no significant current flow through an undriven signal wire or

An undriven signal wire or need not be open circuited. In some instances a termination impedance may be provided to terminate one or more signal wires and or . The signal wires and or may be terminated by an impedance provided at a transmitting end and or at a receiving end. The location and arrangement of termination impedances may be provided within or external to the physical layer drivers and or based on the configuration of the one or more signal wires and or . The one or more signal wires and or may be terminated with impedances calculated to match the characteristic impedance Z. provides examples and showing options for location and arrangement of terminating impedances. Terminating impedances can be provided at one or both ends of the transmission line.

In one example a terminating resistor at the transmitting end of a transmission line may pull an undriven signal wire or towards a first voltage while a terminating resistor at the receiving end of the transmission line may pull an undriven signal wire or towards a second voltage where the first and second voltages are different. The first and second voltages may include a ground zero voltage and a non zero voltage voltages that have different polarities and or voltages that have the same polarity but different magnitudes.

In another example shown in pairs of terminating resistors and may be provided at one or both ends of a transmission line . The pair of resistors and at the transmitting end of the transmission line may provide a combined impedance equal to the characteristic impedance Zof the transmission line and may be configured to pull an undriven signal wire or towards a mid point between two voltage rails or towards the mid point between a voltage rail and ground of the transmitter. The pair of resistors and at the receiving end of the transmission line may provide a combined impedance equal to the characteristic impedance Zof the transmission line and may be configured to pull the undriven signal wire or towards the mid point between two voltage rails or towards the mid point between a voltage rail and ground of the receiver. Other configurations of terminating impedances may be used as determined by the characteristics of the communications link .

In some instances terminating impedances may be omitted and the undriven signal wire or may be permitted to float. In some instances the undriven signal wire or may be at least partially driven toward a mid point voltage level by active circuits in a driver and or receiver.

In the example illustrated in a 3 wire 3 phase polarity encoder may employ drivers to control the signaling state of three connectors and which may be wires traces or other electrical conductors . The drivers may be implemented as unit level current mode or voltage mode drivers. In one example each driver may receive sets of two or more of signals and that determine the output state of corresponding connectors and . When each of the sets of signals and include a pair of signals four states may be defined for the corresponding connectors and . When each of the sets of signals and include three signals 8 states may be defined for corresponding connectors and

For each transmitted symbol interval in an M wire N phase polarity encoding scheme at least one signal wire or is in the undriven 0 voltage or current state while the number of positively driven 1 voltage or current state signal wires or is equal to the number of negatively driven 1 voltage or current state signal wires or such that the sum of current flowing to the receiver is always zero. For each symbol the state of at least one signal wire or is changed from the symbol transmitted in the preceding transmission interval.

In operation a mapper may receive and map 16 bit data to 7 symbols . In the 3 wire example each of the 7 symbols defines the states of the signal wires and for one symbol interval. The 7 symbols may be serialized using parallel to serial converters that provide a timed sequence of symbols for each wire and . The sequence of symbols is typically timed using a transmission clock. An M wire phase encoder receives the sequence of 7 symbols produced by the mapper and serialized by the parallel to serial converters one symbol at a time and computes the state of each signal wire and for each symbol interval. The 3 wire encoder selects the states of the signal wires and based on the current input symbol and the previous states of signal wires and

The use of M wire N phase encoding permits a number of bits to be encoded in a plurality of symbols where the bits per symbol is not an integer. In the simple example of a 3 wire communications link there are 3 available combinations of 2 wires which may be driven simultaneously and 2 possible combinations of polarity on the pair of wires that is driven yielding 6 possible states. Since each transition occurs from a current state 5 of the 6 states are available at every transition. The state of at least one wire is required to change at each transition. With 5 states log 5 2.32 bits may be encoded per symbol. Accordingly a mapper may accept a 16 bit word and convert it to 7 symbols because 7 symbols carrying 2.32 bits per symbol can encode 16.24 bits. In other words a combination of seven symbols that encode five states has 5 78 125 permutations. Accordingly the 7 symbols may be used to encode the 2 65 536 permutations of 16 bits.

Information may be encoded in the direction of rotation at each phase transition and the 3 phase signal may change direction for each signaling state. Direction of rotation may be determined by considering which wires and or are in the 0 state before and after a phase transition because the undriven wire and or changes at every signaling state in a rotating three phase signal regardless of the direction of rotation.

The encoding scheme may also encode information in the polarity of the two conductors and that are actively driven. At any time in a 3 wire implementation exactly two of the conductors are driven with currents in opposite directions and or with a voltage differential. In a simple implementation data may be encoded using two bit values where one bit is encoded in the direction of phase transitions and the second bit is encoded in the polarity for the current state.

The timing chart illustrates data encoding using both phase rotation direction and polarity. The curves and relate to signals carried on three wires and respectively for multiple phase states. Initially the phase transitions are in a clockwise direction and the most significant bit is set to binary 1 until the rotation of phase transitions switches at a time to a counterclockwise direction as represented by a binary 0 of the most significant bit. The least significant bit reflects the polarity of the signal in each state.

According to certain aspects disclosed herein one bit of data may be encoded in the rotation or phase change in a 3 wire 3 phase encoding system and an additional bit may be encoded in the polarity of the two driven wires. Additional information may be encoded in each transition of a 3 wire 3 phase encoding system by allowing transition to any of the possible states from a current state. Given 3 rotational phases and two polarities for each phase 6 states are available in a 3 wire 3 phase encoding system. Accordingly 5 states are available from any current state. Accordingly there may be log 5 2.32 bits encoded per symbol transition which allows the mapper to accept a 16 bit word and encode it in 7 symbols.

N Phase data transfer may use more than three wires that are available or provided in a communication medium such as a bus. The use of additional signal wires that can be driven simultaneously provides more available combinations of states and polarities and allows more bits of data to be encoded at each transition between states. This can significantly improve throughput of the system and reduce the power consumption over approaches that use multiple differential pairs to transmit data bits while providing increased bandwidth.

At the receiver N phase symbols are received and accumulated from the N wire bus typically over a plurality of transmission clock cycles. The accumulated symbols may then be decoded by a symbol to bits mapper . Transmit clocks may be derived from one or more portions of the N wire bus and configuration information may be communicated using a designated group of connectors that provide a primary channel. In the example of the 9 wire bus configured as three different 3 wire bus segments one bus segment may be identified as the primary channel with a default encoding scheme to be used during power up and synchronization. Commands communicated over the bus may cause the transmitter and receiver to enter a hibernate stage on one or more of the 3 wire segments.

N Phase data transfer may use more than three signal wires or other connectors in provided in a communication medium. The use of additional signal wires that can be driven simultaneously provides more combinations of states and polarities and allows more bits of data to be encoded at each transition between states. This can significantly improve throughput of the system while limiting power consumption as opposed to communications links that use multiple differential pairs to transmit data bits while providing increased bandwidth. Power consumption can be further limited by dynamically configuring the number of active connectors for each transmission.

Of the 4 wires driven the possible combinations of two wires driven positive and the other two must be negative . The combinations of polarity may comprise 

Accordingly the total number of different states may be calculated as 15 6 90. To guarantee a transition between symbols 89 states are available from any current state and the number of bits that may be encoded in each symbol may be calculated as log 89 6.47 bits per symbol. In this example a 32 bit word can be encoded by the mapper into 5 symbols given that 5 6.47 32.35 bits.

The general equation for the number of combinations of wires that can be driven for a bus of any size as a function of the number of wires in the bus and number of wires simultaneously driven 

The wire state decoder may extract a sequence of symbols from phase encoded signals received on the wires and . The symbols are encoded as a combination of phase rotation and polarity as disclosed herein. The wire state decoder may include a clock and data recovery CDR circuit that extracts a clock that can be used to reliably capture symbols from the wires and . A transition occurs on least one of the wires and at each symbol boundary and the CDR circuit may be configured to generate the clock based on the occurrence of a single transition or multiple transitions. An edge of the clock may be delayed to allow time for all wires and to have stabilized and to thereby ensure that the current symbol is captured for decoding purposes.

The CDR circuit includes first second and third layers and of D flip flops and a multiplexer circuit . The CDR circuit receives input signals A to B B to C and C to A . At any time exactly one of signals and is high indicating the current encoding state being transmitted. The signals and are input respectively into first layer D flip flops and .

A first layer of D flip flops and capture the most recent state transition as indicated by the signals and . Note that each of the D flip flops and has its D data input coupled to a logic 1 and is set whenever its respective clock input or experiences a rising edge transition. Also note that whenever one of the D flip flops and is set it asynchronously resets the other two first layer D flip flops. In one embodiment this is done by coupling the Q output of each first layer D flip flop through a rising edge triggered pulse circuit to the reset inputs of the other two first layer D flip flops. For example in the embodiment of the Q output of D flip flop is coupled through OR gates and respectively to the reset inputs of the D flip flops and . In one example to ensure that the D flip flops and are only reset momentarily when a non respective state occurs the Q outputs of the D flip flops and are coupled to the OR gates and through a circuitry which ensures that the OR gates and are only provided with a narrow positive pulse and not a continuous signal of value one. For example the Q output of the D flip flop is coupled to the OR gates and through an AND gate which receives as inputs the Q output and a delayed inverted version thereof.

A second layer of D flip flops and are configured as toggle flip flops with their Q bar outputs connected to their D inputs. Accordingly the second layer flip flops and toggle at rising edges of their respective clock input signal and . Note that the rising edges in the signals and correspond to state transitions in the data encoding scheme. As such since exactly one state transition may occur at any time only one of the second layer D flip flops toggles at any time. The Q bar outputs of flip flops and are input into a three input XOR gate to generate a receiver clock Rx Clk . Note that the receiver clock will toggle whenever any one of the Q bar outputs of the flip flops and toggles thereby generating a half rate clock.

The third layer D flip flops and have clock inputs respectively driven by the signals A to B B to C and C to A . Their D inputs are cross coupled to the Q outputs of the first layer such that the Q output of the first layer flip flop is coupled to the D input of the flip flop the Q output of the first layer flip flop is coupled to the D input of the flip flop and the Q output of the first layer flip flop is coupled to the D input of the flip flop .

As such the third layer flip flops and capture the C to A A to B and B to C state occurrences respectively and output logic 1 for the C to A to A to B A to B to B to C and B to C to C to A transitions respectively. These transitions are clockwise transitions. For counter clockwise transitions the flip flops and all output logic 0. Note that since exactly one state transition may occur at any time only one of the Q outputs of the flip flops and can be a logic 1 at any time.

The Q outputs of the flip flops and are input into the multiplexer circuit with the Q outputs from the first flip flop layer providing the select inputs of the multiplexer. In one embodiment the multiplexer includes a layer of AND gates and followed by a three input OR gate . The AND gates and provide the inputs of the OR gate which provides output signal of CDR circuit . Note that the output signal is a logic 1 whenever any one of the AND gates and outputs a logic 1 which only occurs on clockwise state transitions as described above. Accordingly the output signal is a logic 1 for clockwise state transitions and a logic 0 for counter clockwise state transitions thereby having the ability to recover information encoded according to the three phase modulation scheme.

The CDR receives input signals and from preceding analog circuits. At any time only one of the signals and can have a value of one depending on which of the encoding states just occurred. In implementation overlaps or gaps between the signals may occur. The inputs signals and are respectively coupled to the clock inputs of the D flip flops . Each of the D flip flops has its D data input coupled to a logic one which causes its Q output to have a value of one whenever its respective clock input experiences a rising edge transition. For example the D flip flop will have a Q output of one whenever input signal experiences a rising edge transition or equivalently whenever state A to B positive occurs. As such the D flip flops capture which of the six states has just occurred as indicated by their respective Q outputs . Since only one state can occur at any time only one of the outputs can continue to have a value of one at any time. As will be further described below there will be a short overlap whenever a new state occurs with the Q outputs corresponding to the current state and the new state both having a value of one for the duration of the delay to reset the flip flops.

When any of the states is captured by one of D flip flops the other flip flops will be reset. In the CDR circuit this may be achieved using the OR gates which generate reset signals for respective D flip flops . The OR gates receive as input pulses caused by rising edges on the Q outputs of the D flip flops except for the Q output of its respective D flip flop and a Reset signal . For example the OR gate receives pulses caused by rising edges on the Q outputs and but not the Q output of its respective D flip flop of the D flip flops and the Reset signal . Accordingly the output of the OR gate will be one whenever any state other than A to B positive occurs or if the Reset signal is asserted. One the other hand when state A to B positive occurs and the Reset signal is not asserted the OR gate will output a value of zero.

In one example to ensure that the D flip flops are only reset momentarily when a non respective state occurs the Q outputs of the D flip flops are coupled to the OR gates through a circuitry which ensures that the OR gates are only provided with a pulse and not a continuous signal of value one. For example the Q output of the D flip flop is coupled to the OR gates through an AND gate . The AND gate receives as inputs the Q output and a delayed inverted version of the Q output . Note that right before the D flip flop captures an A to B positive state occurrence the output of the AND gate is zero because the Q output is zero the D flip flop would have been reset previously . On the other hand the delayed inverted version of Q has a value of one. When the A to B positive input occurs the Q output changes to one. The delayed inverted version of Q maintains a value of one for the duration of the delay generated by a delay element as illustrated before changing to zero. Accordingly for the duration of the delay the AND gate outputs a value of one creating a pulse which resets flip flops .

The D flip flops are used to generate a double data rate clock signal Rx clk which transitions whenever a new input is presented. The D flip flops respectively receive as clock inputs input signals and . The D flip flops also receive the Reset signal . As shown in each of the D flip flops has its Q bar output fed back to its D data input. As such for each of the D flip flops whenever its respective input clock signal experiences a rising edge transition its Q bar output will toggle from one to zero or from zero to one. The Q bar outputs of the D flip flops are input together through the XOR gates and as illustrated in . The outputs of the XOR gates and are in turn input together through the XOR gate . The XOR gate outputs a value of one whenever an odd number of the Q bar outputs of the D flip flops have a value of one. Since only one of the Q bar outputs of the D flip flops toggles at any one time while the others will maintain the same value the output of the XOR gate toggles for each change in the inputs and . This generates the double data rate clock signal Rx Clk . In an embodiment a delay element is used to ensure that the Rx Clk signal is in synchronism with the other signals that are output by the CDR circuit .

The OR gate generates the Rx Data Polarity signal which indicates whether the state that just occurred is of positive or negative polarity. The OR gate receives as inputs the Q outputs and of the D flip flops respectively. As such the OR gate outputs a value of one whenever a positive polarity A to B positive B to C positive or C to A positive input occurs. On the other hand the Rx Data Polarity signal will have a value of zero when a negative polarity state occurs.

The OR gates and are used to capture respectively when a C to A state positive or negative polarity an A to B state positive or negative polarity and a B to C state positive or negative polarity occurs regardless of polarity. For example the OR gate receives as inputs the Q outputs and of the D flip flops and respectively. As such the OR gate outputs a value of one whenever C to A positive or C to A negative occurs.

The outputs of OR gates are coupled to the D data inputs of D flip flops as illustrated in . The output of the OR gate is coupled to the D inputs of the D flip flops and . Similarly the output of the OR gate is coupled to the D inputs of the D flip flops and and the output of the OR gate is coupled to the D inputs of the D flip flops and . At the same time the clock inputs of the D flip flops are respectively coupled to inputs and . Accordingly for example the D flip flop has a Q output of value one whenever the previous state is C to A regardless of polarity and the current state is A to B positive. This corresponds to the clockwise transitions into the state A to B positive from either of states C to A positive or C to A negative see also . Similarly D flip flop will have a Q output of value one whenever the previous state is C to A regardless of polarity and the current state is A to B negative. This corresponds to the clockwise transitions into the state A to B negative from either of states C to A positive or C to A negative. Accordingly each of the D flip flops captures one of the six clockwise transitions between the S Sand Sstates depicted in the state diagram of .

The Q outputs of the D flip flops are input together with respective Q outputs of the D flip flops into respective AND gates as illustrated in . For example the Q output of the D flip flop is input together with the Q output of the D flip flop into the AND gate . The AND gates are used to ensure that only one of the six clockwise transitions is reflected at any time. In other words only one of the outputs of the AND gates can have a value of one at any time. The outputs of the AND gates are input together into an OR gate to generate the Rx Data Phase . Accordingly the Rx Data Phase has a value of one whenever a clockwise phase transition occurs and a value of zero otherwise. Note that the Rx Data Phase can have a value of zero if either a counter clockwise transition or a polarity only same phase transition e.g. A to B positive to A to B negative transition occurs. For example if the current state is A to B positive the CDR circuit outputs the same values for the Rx Data polarity and the Rx Data phase if the next state is C to A negative or A to B negative. Therefore additional circuitry may be required to distinguish between these types of transitions.

Outputs of AND gates are input together into an OR gate which generates the output signal Rx Data same phase . The output signal Rx Data same phase thus has a value of one whenever any one of the six possible polarity only state transitions occurs. As such the Rx Data same phase can be used to determine whether a transition is polarity only or counter clockwise whenever the Rx Data phase of circuitry has a value of zero.

Note that the circuitry is operable together with the CDR circuit of . In other words the output Rx Data same phase of the circuitry is provided together with the outputs Rx Clk Rx Data polarity and Rx Data phase of circuit to a subsequent decoder stage for decoding as will be illustrated further below.

At step the multi bit symbols may be transmitted on a plurality of connectors. In one example transmission may be accomplished using drivers configured to implement an N phase polarity encoding method .

In an aspect of the disclosure transmitting the multi bit symbols may include for example a step of mapping the multi bit symbols to a sequence of states of the plurality of connectors. The state of each connector may be defined by polarity and direction of rotation of a multi phase signal transmitted on the each connector.

In an aspect of the disclosure transmitting the multi bit symbols may include for example a step of driving the connectors in accordance with the sequence of states. The timing of the sequence of states may be determinable at a receiver at each transition between sequential states. For each state in the sequence of states the multi phase signal carried on each connector may be phase shifted with respect to the multi phase signal carried on the other connectors. The state of at least one of the plurality of connectors may change at each transition between the sequence of states.

In an aspect of the disclosure the plurality of connectors may include a plurality of wires. The multi bit symbols may be transmitted on the plurality of connectors by leaving a first wire undriven and providing a voltage differential between a second wire and a third wire during a first of two sequential time intervals and leaving the second wire undriven and providing the voltage differential between the first wire and the third wire during a second of the two sequential time intervals. During the second of the two sequential time intervals the multi bit symbols may be transmitted on the plurality of connectors by reversing the polarity of the voltage differential. At least one of the plurality of wires is undriven during each of the sequential time intervals.

In an aspect of the disclosure at least one of a change of polarity of the voltage differential and a change of wire that is undriven occurs at each transition between the sequence of states. A wire that has been left undriven may be open circuited. Leaving a wire undriven may include causing the wire to transition toward a voltage level that lies substantially halfway between voltage levels of a pair of driven wires.

In an aspect of the disclosure there is no significant current flow through a wire that has been left undriven.

In an aspect of the disclosure the multi phase signal transmitted on each connector comprises one of two three phase signals that have different phase rotation directions.

In an aspect of the disclosure the multi phase signal transmitted on each connector is a three phase signal. The plurality of connectors may include three or more connectors.

In an aspect of the disclosure the plurality of connectors comprises two groups of three connectors and wherein different symbols are encoded on each group of three connectors.

In an aspect of the disclosure the plurality of connectors comprises four or more connectors and wherein each symbol is encoded for transmission using the four or more connectors.

The processor may include a microprocessor a controller a digital signal processor a sequencer a state machine etc. The processor is responsible for general processing including the execution of software stored on the computer readable storage medium . The software when executed by the processor causes the processing circuit to perform the various functions described supra for any particular apparatus. The computer readable storage medium may also be used for storing data that is manipulated by the processor when executing software. The processing circuit further includes at least one of the modules and . The modules and or may be software modules running in the processor resident stored in the computer readable storage medium one or more hardware modules coupled to the processor or some combination thereof.

In one configuration the apparatus for wireless communication includes means for encoding data in multi bit symbols means for mapping the multi bit symbols to states of a plurality of connectors and means for transmitting the multi bit symbols on the plurality of connectors .

The aforementioned means may be implemented for example using some combination of a processor or physical layer drivers or and storage media and . The means for encoding data in multi bit symbols may include certain elements of the IC devices and or the means for mapping the multi bit symbols to states of a plurality of connectors may include one or more of the mappers and illustrated in which may operate in accordance with the principles illustrated in and the means for transmitting may include the physical layer drivers of and may operate in accordance with the principles illustrated in .

It is understood that the specific order or hierarchy of steps in the processes disclosed is an illustration of exemplary approaches. Based upon design preferences it is understood that the specific order or hierarchy of steps in the processes may be rearranged. The accompanying method claims present elements of the various steps in a sample order and are not meant to be limited to the specific order or hierarchy presented.

The previous description is provided to enable any person skilled in the art to practice the various aspects described herein. Various modifications to these aspects will be readily apparent to those skilled in the art and the generic principles defined herein may be applied to other aspects. Thus the claims are not intended to be limited to the aspects shown herein but is to be accorded the full scope consistent with the language claims wherein reference to an element in the singular is not intended to mean one and only one unless specifically so stated but rather one or more. Unless specifically stated otherwise the term some refers to one or more. All structural and functional equivalents to the elements of the various aspects described throughout this disclosure that are known or later come to be known to those of ordinary skill in the art are expressly incorporated herein by reference and are intended to be encompassed by the claims. Moreover nothing disclosed herein is intended to be dedicated to the public regardless of whether such disclosure is explicitly recited in the claims. No claim element is to be construed as a means plus function unless the element is expressly recited using the phrase means for. 

