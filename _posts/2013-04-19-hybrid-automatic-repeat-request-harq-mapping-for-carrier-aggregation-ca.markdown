---

title: Hybrid automatic repeat request (HARQ) mapping for carrier aggregation (CA)
abstract: Technology to dynamically alter hybrid automatic retransmission re-quest (HARQ) mapping for carrier aggregation (CA) is disclosed. In an example, a user equipment (UE) operable to dynamically alter hybrid automatic retransmission re-quest (HARQ) mapping for carrier aggregation (CA) can include computer circuitry configured to: Determine a secondary HARQ bundling window size for a secondary cell (SCell), when a primary HARQ bundling window size for a primary cell (PCell) is zero; determine a physical uplink control channel (PUCCH) resource for transmission of a HARQ-ACKnowledge (ACK) feedback using the secondary HARQ bundling window size; and transmit the HARQ-ACK feedback in the PUCCH resource.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09439095&OS=09439095&RS=09439095
owner: INTEL CORPORATION
number: 09439095
owner_city: Santa Clara
owner_country: US
publication_date: 20130419
---
This application claims the benefit of and hereby incorporates by reference U.S. Provisional Patent Application Ser. No. 61 707 784 filed Sep. 28 2012.

Wireless mobile communication technology uses various standards and protocols to transmit data between a node e.g. a transmission station and a wireless device e.g. a mobile device . Some wireless devices communicate using orthogonal frequency division multiple access OFDMA in a downlink DL transmission and single carrier frequency division multiple access SC FDMA in an uplink UL transmission. Standards and protocols that use orthogonal frequency division multiplexing OFDM for signal transmission include the third generation partnership project 3GPP long term evolution LTE the Institute of Electrical and Electronics Engineers IEEE 802.16 standard e.g. 802.16e 802.16m which is commonly known to industry groups as WiMAX Worldwide interoperability for Microwave Access and the IEEE 802.11 standard which is commonly known to industry groups as WiFi.

In 3GPP radio access network RAN LTE systems the node can be a combination of Evolved Universal Terrestrial Radio Access Network E UTRAN Node Bs also commonly denoted as evolved Node Bs enhanced Node Bs eNodeBs or eNBs and Radio Network Controllers RNCs which communicates with the wireless device known as a user equipment UE . The downlink DL transmission can be a communication from the node e.g. eNodeB to the wireless device e.g. UE and the uplink UL transmission can be a communication from the wireless device to the node.

In LTE data can be transmitted from the eNodeB to the UE via a physical downlink shared channel PDSCH . A physical uplink control channel PUCCH can be used to acknowledge that data was received. Downlink and uplink channels or transmissions can use time division duplexing TDD or frequency division duplexing FDD . Time division duplexing TDD is an application of time division multiplexing TDM to separate downlink and uplink signals or separate signals to a UE or from the UE in D2D communication . In TDD downlink signals and uplink signals may be carried on a same carrier frequency i.e. shared carrier frequency where the downlink signals use a different time interval from the uplink signals so the downlink signals and the uplink signals do not generate interference for each other. TDM is a type of digital multiplexing in which two or more bit streams or signals such as a downlink or uplink are transferred apparently simultaneously as sub channels in one communication channel but are physically transmitted on different resources. In frequency division duplexing FDD an uplink transmission and a downlink transmission or a transmission to and from a UE in D2D communication can operate using different frequency carriers i.e. separate carrier frequency for each transmission direction . In FDD interference can be avoided because the downlink signals use a different frequency carrier from the uplink signals.

Reference will now be made to the exemplary embodiments illustrated and specific language will be used herein to describe the same. It will nevertheless be understood that no limitation of the scope of the invention is thereby intended.

Before the present invention is disclosed and described it is to be understood that this invention is not limited to the particular structures process steps or materials disclosed herein but is extended to equivalents thereof as would be recognized by those ordinarily skilled in the relevant arts. It should also be understood that terminology employed herein is used for the purpose of describing particular examples only and is not intended to be limiting. The same reference numerals in different drawings represent the same element. Numbers provided in flow charts and processes are provided for clarity in illustrating steps and operations and do not necessarily indicate a particular order or sequence.

All tables cited herein from the 3GPP LTE standard are provided from Release 11 of the 3GPP LTE standard unless otherwise noted.

An initial overview of technology embodiments is provided below and then specific technology embodiments are described in further detail later. This initial summary is intended to aid readers in understanding the technology more quickly but is not intended to identify key features or essential features of the technology nor is it intended to limit the scope of the claimed subject matter.

An increase in the amount of wireless data transmission has created congestion in wireless networks using licensed spectrum to provide wireless communication services for wireless devices such as smart phones and tablet devices. The congestion is especially apparent in high density and high use locations such as urban locations and universities.

One technique for providing additional bandwidth capacity to wireless devices is through the use carrier aggregation of multiple smaller bandwidths to form a virtual wideband channel at a wireless device e.g. UE . In carrier aggregation CA multiple component carriers CC can be aggregated and jointly used for transmission to from a single terminal. Carriers can be signals in permitted frequency domains onto which information is placed. The amount of information that can be placed on a carrier can be determined by the aggregated carrier s bandwidth in the frequency domain. The permitted frequency domains are often limited in bandwidth. The bandwidth limitations can become more severe when a large number of users are simultaneously using the bandwidth in the permitted frequency domains.

Carrier aggregation CA enables multiple carrier signals to be simultaneously communicated between a user s wireless device and a node. Multiple different carriers can be used. In some instances the carriers may be from different permitted frequency domains. Carrier aggregation provides a broader choice to the wireless devices enabling more bandwidth to be obtained. The greater bandwidth can be used to communicate bandwidth intensive operations such as streaming video or communicating large data files.

Network symmetric or asymmetric carrier aggregation can be defined by a number of downlink DL and uplink UL component carriers offered by a network in a sector. UE symmetric or asymmetric carrier aggregation can be defined by a number of downlink DL and uplink UL component carriers configured for a UE. The number of DL CCs may be at least the number of UL CCs. A system information block type 2 SIB2 can provide specific linking between the DL and the UL. illustrates a block diagram of a symmetric asymmetric carrier aggregation configuration where the carrier aggregation is symmetric between the DL and UL for the network and asymmetric between the DL and UL for the UE. illustrates a block diagram of an asymmetric symmetric carrier aggregation configuration where the carrier aggregation is asymmetric between the DL and UL for the network and symmetric between the DL and UL for the UE.

For each UE a CC can be defined as a primary cell PCell . Different UEs may not necessarily use a same CC as their PCell. The PCell can be regarded as an anchor carrier for the UE and the PCell can thus be used for control signaling functionalities such as radio link failure monitoring hybrid automatic repeat request acknowledgement HARQ ACK and PUCCH resource allocations RA . If more than one CC is configured for a UE the additional CCs can be denoted as secondary cells SCells for the UE.

A component carrier can be used to carry channel information via a radio frame structure transmitted on the physical PHY layer in a uplink transmission between a node e.g. eNodeB and the wireless device e.g. UE using a generic long term evolution LTE frame structure as illustrated in . While an LTE frame structure is illustrated a frame structure for an IEEE 802.16 standard WiMax an IEEE 802.11 standard WiFi or another type of communication standard using SC FDMA or OFDMA may also be used.

An uplink signal or channel can include data on a Physical Uplink Shared CHannel PUSCH or control information on a Physical Uplink Control CHannel PUCCH . In LTE the uplink physical channel PUCCH carrying uplink control information UCI can include channel state information CSI reports Hybrid Automatic Retransmission reQuest HARQ ACKnowledgment Negative ACKnowledgment ACK NACK and uplink scheduling requests SR .

The wireless device e.g. UE can provide HARQ ACK feedback for a PDSCH using a PUCCH. The PUCCH can support multiple formats i.e. PUCCH format with various modulation and coding schemes MCS as shown for LTE in Table 1. Similar information to Table 1 can be shown in 3GPP LTE standard Release 11 e.g. V11.1.0 2012 12 Technical Specification TS 36.211 Table 5.4 1. For example PUCCH format 1b can be used to convey a two bit HARQ ACK which can be used for carrier aggregation.

Legacy LTE TDD can support asymmetric UL DL allocations by providing seven different semi statically configured uplink downlink configurations. Table 2 illustrates seven UL DL configurations used in LTE where D represents a downlink subframe S represents a special subframe and U represents an uplink subframe. In an example the special subframe can operate or be treated as a downlink subframe. Similar information to Table 2 can be shown in 3GPP LTE TS 36.211 Table 4.2 2.

As illustrated by Table 2 UL DL configuration 0 can include 6 uplink subframes in subframes 2 3 4 7 8 and 9 and 4 downlink and special subframes in subframes 0 1 5 and 6 and UL DL configuration 5 can include one uplink subframe in subframe 2 and 9 downlink and special subframes in subframes 0 1 and 3 9. Each uplink subframe n can be associated with a downlink subframe based on the uplink downlink configuration where each uplink subframe n can have a downlink association set index K k k . . . k where M is defined as the number of elements in set K as illustrated by Table 3. Similar information to Table 3 can be shown in 3GPP LTE TS 36.213 Table 10.1.3.1 1.

The Table 3 shows examples of downlink subframe bundling in an uplink subframe handling ACK NACK feedback for certain downlink subframe s . For example in uplink downlink configuration 4 uplink subframe 2 subframe n handles ACK NACK feedback for downlink and special subframes which are 12 8 7 11 subframes subframes k earlier than uplink subframe 2 i.e. downlink and special subframes 0 4 5 1 or downlink and special subframes n k and M equals 4. Uplink subframe 3 subframe n handles ACK NACK feedback for downlink subframes which are 6 5 4 7 subframes subframes k earlier than uplink subframe 3 i.e. downlink subframes 7 8 9 6 or downlink subframes n k and M equals 4. For uplink downlink configuration 5 uplink subframe 2 M equals 9. For uplink downlink configuration 0 uplink subframe 2 M equals one and uplink subframe 3 M equals zero. Depending on the uplink downlink configuration one uplink subframe may be responsible for ACK NACK feedback for one or multiple downlink subframes. In certain situations even distribution between uplink subframe responsibility can be desired to reduce situations where one uplink subframe is responsible for ACK NACK feedback for a large number of downlink and special subframes.

As an underlying requirement in some examples cells of the network can change UL DL TDD configurations synchronously in order to avoid the interference. However such a requirement can constrain the traffic management capabilities in different cells of the network. The legacy LTE TDD set of configurations can provide DL subframe allocations in the range between 40 and 90 as shown in Table 2. The UL and DL subframes allocation within a radio frame can be reconfigured through system information broadcast signaling e.g. system information block SIB . Hence the UL DL allocation once configured can be expected to vary semi statically.

A property of TDD is that a number of UL and DL subframes can be different as shown in Table 2 and often the number of DL subframes can be more than the number of UL subframes for a radio frame. In configurations where more DL subframes are used than UL subframes multiple DL subframes can be associated with one single UL subframe for the transmission of a corresponding control signals. A configuration specific HARQ ACK timing relationship can be defined e.g. 3GPP LTE standard Release 11 e.g. V11.1.0 2012 12 TS 36.213 Table 10.1.3.1 1 or Table 3 . If a UE is scheduled in a multiple of DL subframes which can be associated with one UL subframe the UE can transmit multiple ACK NAK ACK NACK bits in that UL subframe. A number of DL subframes with HARQ ACK feedback on one single UL subframe can comprise one bundling window.

As shown in the subframes 6 7 8 and 9 of a previous radio frame can comprise one bundling window e.g. bundling window 1 on a SCell according a predefined HARQ ACK timing relation for UL DL configuration 4 for uplink subframe 3 while correspondingly the PCell may not have a HARQ ACK timing defined e.g. HARQ ACK bundling window Mp 0 for configuration 0 for uplink subframe 3. In an example HARQ ACK bundling window may not be used for configuration 5 with 9 DL subframes.

An advantage of a Time Division Duplex TDD system can be a flexible resource utilization through different TDD configurations to better match the uplink and downlink traffic characteristics of the cell. By configuring different TDD configurations the ratio between available UpLink UL and DownLink DL resources can range from 3UL 2DL 6UL 4DL to 1 UL 9DL. In legacy LTE TDD e.g. LTE Release 10 Rel 10 specification only the aggregation of TDD Component Carriers CCs of a same UL DL configuration may be defined and supported. While the same UL DL configuration can simplify a design and operation of CC the same UL DL configuration can also impose some limitations.

In an example inter band carrier aggregation CA for a TDD system with different uplink downlink configurations on different bands can be supported. For instance more than one TDD carrier can be deployed by a single TDD operator and the carriers can be aggregated at a single base station e.g. node . Besides a separation between two carrier frequencies can be large enough to avoid UL DL interference from a same device. Some of the benefits of inter band CA with different TDD configurations on different bands can be include 1 legacy system co existence 2 heterogeneous network HetNet support 3 aggregation of traffic dependent carriers 4 flexible configuration e.g. more UL subframe in lower bands for better coverage and more DL subframes in higher bands and 5 higher peak rate.

Supporting Inter band TDD Carrier Aggregation CA with different uplink downlink configurations can be used to aggregate component carriers CC with different DL UL configurations. To provide high peak data rate enhancement benefits to both full and half duplex UEs HARQ Hybrid Automatic Repeat reQuest ACK NACK feedback for downlink DL data may use a PUCCH only transmitted on Primary Cell PCell use legacy HARQ ACK timing for PCell PDSCH by following a PCell SIB type 1 SIB1 UL DL configuration and use HARQ ACK timing for the PDSCH of a Secondary Cell SCell following a specific reference UL DL configuration e.g. PCell and SCell UL DL configuration as shown in Table 4 illustrated in . For example HARQ ACK timing of the PDSCH on the PCell can follow the PCell SIB1 legacy UL DL configuration. For the PDSCH transmitted on the SCell the HARQ timing can follow reference legacy UL DL configuration as shown in Table 4.

Interband TDD CA with different UL DL configurations in different bands can be supported. For example an SCell PDSCH HARQ reference timing can be determined from a PCell UL DL configuration and a SCell UL DL configuration as shown in Table 4 illustrated in . Table 4 i.e. illustrates the UL DL configuration number of PDSCH HARQ ACK timing reference for SCell. A HARQ ACK timing of PCell PDSCH the scheduling timing of PCell PUSCH the HARQ timing of PCell PUSCH can use the PCell SIB1 configuration. A UE can be configured with PUCCH format 3 or PUCCH format 1b with channel selection CS for HARQ ACK transmission and self carrier scheduling for TDD inter band carrier aggregation CA with different UL DL configurations on different bands.

A different number of downlink subframes can be bundled within an individual bundling window of each serving cell e.g. PCell or SCell as shown in . According to the HARQ ACK timing table i.e. Table 4 for the SCell PDSCH the size of HARQ ACK bundling window can be different between PCell and SCell. illustrates an example where the PCell is configured with TDD UL DL configuration 0 and SCell is configured with TDD UL DL configuration 4. Since the SCell can follow a different DL HARQ timing from the PCell not only the bundling window of the SCell can be different from the PCell but also the number of the HARQ ACK bits corresponding to the number of the DL subframes in the SCell bundling window can be different from the PCell bundling window. As a result legacy HARQ ACK bit mapping and bundling rules may no longer applicable for a SCell UL DL configuration with a different UL DL configuration from the PCell or legacy HARQ ACK bit mapping and bundling rules may no longer support a case with the SCell UL DL configuration different from the PCell UL DL configuration.

A UE can be configured with PUCCH format 3 or PUCCH format 1b with channel selection CS for HARQ ACK transmission and self carrier scheduling for TDD inter band carrier aggregation CA with different UL DL configurations on different bands. Various changes can be made to a legacy HARQ ACK transmission configuration. For example none of the PDSCH timing reference configurations of aggregated serving cells may be UL DL configuration 5. The set of DL subframes denoted as Kc on serving cell c associated with UL subframe n can include the DL subframes n k where k K and K is determined according to the TDD UL DL configuration which the PDSCH HARQ timing on serving cell c follows. For HARQ ACK transmission on PUCCH at least for a case when Mp and Ms are positive the UE can use legacy mapping table e.g. Tables 5 12 illustrated in with M maxMp Ms where Mp is the number of elements in set Kc for the primary cell and Ms is the number of elements in set Kc for the secondary cell or the UE can set a discontinuous transmission DTX for HARQ ACK minMp Ms . . . HARQ ACK M 1 for the serving cell with the smaller Mc value. Setting the DTX for HARQ ACK minMp Ms . . . HARQ ACK M 1 for the serving cell with the smaller Mc value is shown in Table 16 illustrated in and shown and described in U.S. Provisional Patent Application Ser. No. 61 653 369 filed May 30 2012 U.S. patent application Ser. No. 13 853 390 to Hong He et al. entitled HYBRID AUTOMATIC REPEAT REQUEST HARQ MAPPING FOR CARRIER AGGREGATION CA filed Mar. 29 2013 U.S. Provisional Patent Application Ser. No. 61 667 325 filed Jul. 2 2012 and U.S. patent application Ser. No. 13 853 404 to Hong He et al. entitled HYBRID AUTOMATIC REPEAT REQUEST HARQ MAPPING FOR CARRIER AGGREGATION CA filed Mar. 29 2013 which is herein incorporated by reference in its entirety.

In another example the UE can handle a case when any of a Mp Ms is zero. The aforementioned solution to support PUCCH format 1b with CS can still be applicable even for the case of Min Mp Ms 0. However using methods for a min Mp Ms 0 i.e. Mp 0 and Ms 0 case using Tables 11 12 i.e. instead of a method for min Mp Ms 0 case can incur unnecessary time domain bundling when a number of ACK NACK NN bits to be indicated after spatial bundling is greater than four e.g. Ms 4 as shown in . Therefore technology e.g. methods devices and computer circuitry can be used for a case of Min Mp Ms 0 to reduce a degradation of DL throughput performance over a case of Min Mp Ms 0.

For example for TDD HARQ ACK multiplexing with PUCCH format 1b with channel selection and two configured serving cells the UE can upon detection of a PDSCH transmission or a PDCCH indicating downlink SPS release within subframe s n k where k K and K is determined according to the TDD UL DL configuration which the PDSCH HARQ timing on serving cell c follows Table 3. As previously illustrated Table 3 illustrates a downlink association set index K k k . . . k for TDD.

The Mp can be a number of elements in a set K for the primary cell and the Ms can be a number of elements in the set K for the secondary cell as shown in . illustrates various bundling window sizes of the PCell and the SCell for inter band CA scenario.

A UE can conditionally determine a number of HARQ ACK bits and corresponding PUCCH resource associated with PDSCH on SCell as provided by the description below.

For example for TDD HARQ ACK bundling or TDD HARQ ACK multiplexing for one configured serving cell and a subframe n with Ms 1 and Mp 0 the UE can use PUCCH resource nfor transmission of HARQ ACK in subframe n for tilde over p mapped to antenna port p for PUCCH format 1a 1b where if there is PDSCH transmission indicated by the detection of corresponding PDCCH e.g. non SPS configured subframe or there is PDCCH indicating downlink SPS release within subframe s n k on SCell where k K and K is a set of M elements k k . . . k depending on the subframe n where M Ms and the UL DL configuration the UE can first select a c value out of 0 1 2 3 which makes N n

When a two antenna port transmission is configured for PUCCH format 1a 1b the PUCCH resource nfor HARQ ACK bundling for antenna port pcan be represented by Expression 2. 1 1 Expression 2 

For another example for TDD HARQ ACK multiplexing and sub frame n with Ms 1 and Mp 0 the PUCCH resource can be denoted as n which can be derived from a sub frame n kon SCell and an acknowledgement ACK Negative ACK NACK or discontinuous transmission DTX response i.e. ACK NACK DTX response can be denoted as HARQ ACK i from the sub frame n kon SCell where k K and 0 i M 1.

For a PDSCH transmission indicated by the detection of corresponding PDCCH e.g. non SPS configured subframe or a PDCCH indicating downlink SPS release in sub frame n kon SCell where k K the PUCCH resource ncan be represented by Expression 3 where c is selected from 0 1 2 3 such that N n

For a PDSCH transmission where there is not a corresponding PDCCH detected in subframe n kon SCell e.g. SPS configured subframe the value of nindicated by a ACK negative ACK NACK resource indicator ARI for the PDSCH transmission can be determined according to higher layer configuration and 3GPP LTE standard Release 11 TS 36.213 Table 9.2 2 e.g. Table 17 illustrated in where the ARI re interprets a transmit power control TPC field in a downlink control information DCI format of the corresponding PDCCH.

Based on higher layer signaling a UE with M can perform channel selection according to a set of LTE TS 36.213 Table 10.1.3 5 e.g. Table 8 LTE TS 36.213 Table 10.1.3 6 e.g. Table 9 and LTE TS 36.213 Table 10.1.3 7 e.g. Table 10 . In another example based on higher layer signaling a UE with M can perform channel selection according to a set of LTE TS 36.213 Table 10.1.3 2 e.g. Table 5 LTE TS 36.213 Table 10.1.3 3 e.g. Table 6 and LTE TS 36.213 Table 10.1.3 4 e.g. Table 7 . For a selected table set indicated by higher layer signaling the UE can transmit b 0 b 1 e.g. constellation bits on PUCCH resource nin sub frame n using PUCCH format 1b according to 3GPP LTE standard Release 11 TS 36.211 section 5.4.1. The value of b 0 b 1 and the PUCCH resource ncan be generated by channel selection according to the selected set of Tables for Ms 2 3 and 4 e.g. Tables 8 10 .

Another example provides a method for hybrid automatic retransmission re quest HARQ bundling used in carrier aggregation CA at a user equipment UE as shown in the flow chart in . The method may be executed as instructions on a machine computer circuitry or a processor for the UE where the instructions are included on at least one computer readable medium or one non transitory machine readable storage medium. The method includes the operation of receiving at the UE an uplink downlink UL DL configuration for a primary cell PCell and an UL DL configuration for a secondary cell SCell as in block . The operation of determining a secondary HARQ bundling window size for a subframe based on the UL DL configuration for the SCell and a primary HARQ bundling window size for the subframe based on the UL DL configuration for the PCell follows as in block . The next operation of the method can be determining a physical uplink control channel PUCCH resource nfor transmission of a HARQ ACKnowledge ACK using the secondary HARQ bundling window size as in block . The operation of generating a HARQ ACK for a physical downlink shared channel PDSCH of the SCell follows as in block . The method can further include transmitting the HARQ ACK in the PUCCH resource n as in block .

In an example the PUCCH resource nfor transmission of the HARQ ACK in a subframe n for a tilde over p mapped to an antenna port p for a Third Generation Partnership Project 3GPP Long Term Evolution LTE standard Release 11 PUCCH format 1a or 1b can be represented by 

n M m 1 N m N n Nfor antenna port pfor time division duplex TDD when the secondary HARQ bundling window size Ms 1 and the primary HARQ bundling window size Mp 0 where a HARQ bundling window size M Ms nis a first CCE index number used for transmission of a corresponding physical downlink control channel PDCCH in subframe n kand the corresponding m where kis the smallest value in set K such that UE detects a PDCCH in subframe n k N max 0 N N c 4 36 where c is a value out of 0 1 2 3 such that N n

In another example the PUCCH resource nfor transmission of the HARQ ACK in a subframe n for a Third Generation Partnership Project 3GPP Long Term Evolution LTE standard Release 11 PUCCH format 1a or 1b can be represented by n M i 1 N i N n Nfor time division duplex TDD when the secondary HARQ bundling window size Ms 1 and the primary HARQ bundling window size Mp 0 for a physical downlink shared channel PDSCH transmission indicated by a detection of a corresponding physical downlink control channel PDCCH or a PDCCH indicating downlink semi persistent scheduling SPS release in sub frame n kon the SCell where a HARQ bundling window size M Ms nis a first CCE index number used for transmission of the corresponding physical downlink control channel PDCCH in subframe n kon the SCell where k K and K is a set of M elements k k . . . k and 0 i M 1 

N max0 N N c 4 36 where c is a value out of 0 1 2 3 such that N n1 and the primary HARQ bundling window size Mp 0 for the PDSCH transmission where there is not a corresponding PDCCH in subframe n kon the SCell.

In another configuration when the secondary HARQ bundling window size Ms 1 and the primary HARQ bundling window size Mp 0 the method can further include channel selecting based on a HARQ bundling window size M Ms where Ms is the secondary HARQ bundling window size using A Third Generation Partnership Project 3GPP Long Term Evolution LTE standard Release 11 Technical Specification TS 36.213 Table 10.1.3 5 e.g. Table 8 illustrated in when Ms 2 a LTE TS 36.213 Table 10.1.3 6 e.g. Table 9 illustrated in when Ms 3 or a LTE TS 36.213 Table 10.1.3 7 e.g. Table 10 illustrated in when Ms 4. The method can further include determining a value of constellation bits b 0 and b 1 and the PUCCH resource nbased on the HARQ ACK using tables for Ms equal to 2 3 or 4. In another example the UL DL configuration for the PCell can be included in a system information block 1 SIB1 transmitted on the PCell and the UL DL configuration for the SCell can be included in a SIB1 transmitted on the SCell.

Another example provides functionality of computer circuitry of a processor on a user equipment UE operable to dynamically alter hybrid automatic retransmission re quest HARQ mapping for carrier aggregation CA as shown in the flow chart in . The functionality may be implemented as a method or the functionality may be executed as instructions on a machine where the instructions are included on at least one computer readable medium or one non transitory machine readable storage medium. The computer circuitry can be configured to determine a secondary HARQ bundling window size for a secondary cell SCell when a primary HARQ bundling window size for a primary cell PCell is zero as in block . The computer circuitry can be further configured to determine a physical uplink control channel PUCCH resource for transmission of a HARQ ACKnowledge ACK feedback using the secondary HARQ bundling window size as in block . The computer circuitry can also be configured to transmit the HARQ ACK feedback in the PUCCH resource as in block .

In an example the PUCCH resource nfor transmission of the HARQ ACK in a subframe n for a tilde over p mapped to an antenna port p for a Third Generation Partnership Project 3GPP Long Term Evolution LTE standard Release 11 PUCCH format 1a or 1b can be represented by 

n M m 1 N m N n Nfor antenna port pfor time division duplex TDD when the secondary HARQ bundling window size Ms 1 and the primary HARQ bundling window size Mp 0 where a HARQ bundling window size M Ms nis a first CCE index number used for transmission of a corresponding physical downlink control channel PDCCH in subframe n kand the corresponding m where kis the smallest value in set K such that UE detects a PDCCH in subframe n k N max0 N N c 4 36 where c is a value out of 0 1 2 3 such that N n

In another example the PUCCH resource nfor transmission of the HARQ ACK in a subframe n for a Third Generation Partnership Project 3GPP Long Term Evolution LTE standard Release 11 PUCCH format 1a or 1b can be represented by n M i 1 N i N n Nfor time division duplex TDD when the secondary HARQ bundling window size Ms 1 and the primary HARQ bundling window size Mp 0 for a physical downlink shared channel PDSCH transmission indicated by a detection of a corresponding physical downlink control channel PDCCH or a PDCCH indicating downlink semi persistent scheduling SPS release in sub frame n kon the SCell where a HARQ bundling window size M Ms nis a first CCE index number used for transmission of the corresponding physical downlink control channel PDCCH in subframe n kon the SCell where k K and K is a set of M elements k k . . . k and 0 i M 1 

N max0 N N c 4 36 where c is a value out of 0 1 2 3 such that N n1 and the primary HARQ bundling window size Mp 0 for the PDSCH transmission where there is not a corresponding PDCCH in subframe n kon the SCell.

In another configuration the computer circuitry can be further configured to perform channel selection based on a HARQ bundling window size M Ms where Ms is the secondary HARQ bundling window size where The computer circuitry uses a Third Generation Partnership Project 3GPP Long Term Evolution LTE standard Release 11 Technical Specification TS 36.213 Table 10.1.3 5 e.g. Table 8 illustrated in when Ms 2 the computer circuitry uses a LTE TS 36.213 Table 10.1.3 6 e.g. Table 9 illustrated in when Ms 3 or the computer circuitry uses a LTE TS 36.213 Table 10.1.3 7 e.g. Table 10 illustrated in when Ms 4. The computer circuitry configured to transmit the HARQ ACK feedback can be further configured to determine a value of constellation bits b 0 and b 1 and the PUCCH resource nbased on the HARQ ACK feedback using tables for Ms equal to 2 3 or 4.

The device used by a node can be configured to detect a hybrid automatic retransmission re quest HARQ bundle used in carrier aggregation CA . The transceiver and can be configured to receive constellation bits in a physical uplink control channel PUCCH resource in a subframe transmitted in a primary cell PCell for a physical downlink shared channel PDSCH of a secondary cell SCell . The processor and can be configured to Determine a secondary HARQ bundling window size for a subframe based on an uplink downlink UL DL configuration for the SCell and a primary HARQ bundling window size for the subframe based on an UL DL configuration for the PCell and determine a HARQ ACKnowledge ACK response for the subframe for the SCell using the secondary HARQ bundling window size and the PUCCH resource when the primary HARQ bundling window size is zero.

In an example the PUCCH resource nfor transmission of the HARQ ACK in a subframe n for a tilde over p mapped to an antenna port p for a Third Generation Partnership Project 3GPP Long Term Evolution LTE standard Release 11 PUCCH format 1a or 1b can be represented by 

n M m 1 N m N n Nfor antenna port pfor time division duplex TDD when the secondary HARQ bundling window size Ms 1 and the primary HARQ bundling window size Mp 0 where a HARQ bundling window size M Ms nis a first CCE index number used for transmission of a corresponding physical downlink control channel PDCCH in subframe n kand the corresponding m where kis the smallest value in set K such that UE detects a PDCCH in subframe n k N max 0 N N c 4 36 where c is a value out of 0 1 2 3 such that N n

In another example the PUCCH resource nfor transmission of the HARQ ACK in a subframe n for a Third Generation Partnership Project 3GPP Long Term Evolution LTE standard Release 11 PUCCH format 1a or 1b can be represented by n M i 1 N i N n nfor time division duplex TDD when the secondary HARQ bundling window size Ms 1 and the primary HARQ bundling window size Mp 0 for a physical downlink shared channel PDSCH transmission indicated by a detection of a corresponding physical downlink control channel PDCCH or a PDCCH indicating downlink semi persistent scheduling SPS release in sub frame n kon the SCell where a HARQ bundling window size M Ms nis a first CCE index number used for transmission of the corresponding physical downlink control channel PDCCH in subframe n kon the SCell where k K and K is a set of M elements k k . . . k and 0 i M 1 

N max0 N N c 4 36 where c is a value out of 0 1 2 3 such that N n1 and the primary HARQ bundling window size Mp 0 for the PDSCH transmission where there is not a corresponding PDCCH in subframe n kon the SCell.

In another configuration the HARQ ACK response can be represented as HARQ ACK i and can include a combination of ACK negative ACK NACK or discontinuous transmission DTX responses from sub frame n kon the SCell where k K and K is a set of M elements k k . . . k and 0 i M 1. The higher layer signaling can include radio resource control RRC signaling.

In another example the processor can be further configured to determine the HARQ ACK response for the subframe for the SCell by applying the values of the constellation bits and the PUCCH resource to a HARQ ACK multiplexing look up table based on a HARQ bundling window size M Ms where Ms is the secondary HARQ bundling window size. The HARQ ACK multiplexing look up table can include a Third Generation Partnership Project 3GPP Long Term Evolution LTE standard Release 11 Technical Specification TS 36.213 Table 10.1.3 5 e.g. Table 8 illustrated in when Ms 2 a LTE TS 36.213 Table 10.1.3 6 e.g. Table 9 illustrated in when Ms 3 or a LTE TS 36.213 Table 10.1.3 7 e.g. Table 10 illustrated in when Ms 4.

The wireless device e.g. UE can include a transceiver and a processor . The wireless device i.e. device can be configured for conditional hybrid automatic retransmission re quest HARQ mapping for carrier aggregation CA as described in of of .

Various techniques or certain aspects or portions thereof may take the form of program code i.e. instructions embodied in tangible media such as floppy diskettes CD ROMs hard drives non transitory computer readable storage medium or any other machine readable storage medium wherein when the program code is loaded into and executed by a machine such as a computer the machine becomes an apparatus for practicing the various techniques. Circuitry can include hardware firmware program code executable code computer instructions and or software. A non transitory computer readable storage medium can be a computer readable storage medium that does not include signal. In the case of program code execution on programmable computers the computing device may include a processor a storage medium readable by the processor including volatile and non volatile memory and or storage elements at least one input device and at least one output device. The volatile and non volatile memory and or storage elements may be a RAM EPROM flash drive optical drive magnetic hard drive solid state drive or other medium for storing electronic data. The node and wireless device may also include a transceiver module a counter module a processing module and or a clock module or timer module. One or more programs that may implement or utilize the various techniques described herein may use an application programming interface API reusable controls and the like. Such programs may be implemented in a high level procedural or object oriented programming language to communicate with a computer system. However the program s may be implemented in assembly or machine language if desired. In any case the language may be a compiled or interpreted language and combined with hardware implementations.

It should be understood that many of the functional units described in this specification have been labeled as modules in order to more particularly emphasize their implementation independence. For example a module may be implemented as a hardware circuit comprising custom VLSI circuits or gate arrays off the shelf semiconductors such as logic chips transistors or other discrete components. A module may also be implemented in programmable hardware devices such as field programmable gate arrays programmable array logic programmable logic devices or the like.

Modules may also be implemented in software for execution by various types of processors or logic. An identified module of executable code may for instance comprise one or more physical or logical blocks of computer instructions which may for instance be organized as an object procedure or function. Nevertheless the executables of an identified module need not be physically located together but may comprise disparate instructions stored in different locations which when joined logically together comprise the module and achieve the stated purpose for the module.

Indeed a module of executable code may be a single instruction or many instructions and may even be distributed over several different code segments among different programs and across several memory devices. Similarly operational data may be identified and illustrated herein within modules and may be embodied in any suitable form and organized within any suitable type of data structure. The operational data may be collected as a single data set or may be distributed over different locations including over different storage devices and may exist at least partially merely as electronic signals on a system or network. The modules may be passive or active including agents operable to perform desired functions.

Reference throughout this specification to an example means that a particular feature structure or characteristic described in connection with the example is included in at least one embodiment of the present invention. Thus appearances of the phrases in an example in various places throughout this specification are not necessarily all referring to the same embodiment.

As used herein a plurality of items structural elements compositional elements and or materials may be presented in a common list for convenience. However these lists should be construed as though each member of the list is individually identified as a separate and unique member. Thus no individual member of such list should be construed as a de facto equivalent of any other member of the same list solely based on their presentation in a common group without indications to the contrary. In addition various embodiments and example of the present invention may be referred to herein along with alternatives for the various components thereof. It is understood that such embodiments examples and alternatives are not to be construed as defacto equivalents of one another but are to be considered as separate and autonomous representations of the present invention.

Furthermore the described features structures or characteristics may be combined in any suitable manner in one or more embodiments. In the following description numerous specific details are provided such as examples of layouts distances network examples etc. to provide a thorough understanding of embodiments of the invention. One skilled in the relevant art will recognize however that the invention can be practiced without one or more of the specific details or with other methods components layouts etc. In other instances well known structures materials or operations are not shown or described in detail to avoid obscuring aspects of the invention.

While the forgoing examples are illustrative of the principles of the present invention in one or more particular applications it will be apparent to those of ordinary skill in the art that numerous modifications in form usage and details of implementation can be made without the exercise of inventive faculty and without departing from the principles and concepts of the invention. Accordingly it is not intended that the invention be limited except as by the claims set forth below.

