---

title: Continuous value-per-click estimation for low-volume terms
abstract: An estimated conversion rate for a desired advertisement term is calculated. A total number of conversion events for terms having a conversion rate is determined for each of a plurality of conversion rates, and data is generated that describes a first distribution function representing the conversion rates and the associated numbers of conversion rates. Additionally, data describing a second distribution function representing the probability of a given number of conversion events occurring is also generated. Based at least in part on the first distribution function and the second distribution function, the estimated conversion rate for the desired advertisement term is computed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09311661&OS=09311661&RS=09311661
owner: Marin Software Incorporated
number: 09311661
owner_city: San Francisco
owner_country: US
publication_date: 20130904
---
This application is a continuation of U.S. patent application Ser. No. 13 348 575 filed on Jan. 11 2012 which is in turn a continuation of U.S. patent application Ser. No. 12 170 378 filed on Jul. 9 2008 which claims the benefit of Provisional Application No. 60 948 670 filed on Jul. 9 2007. These applications are incorporated herein by reference.

The present invention generally relates to the field of sales and advertising and more specifically to ways of determining optimal bid amounts for term advertising in an online context.

In an online advertising system advertisers contract with an advertising publisher such as search engines such as GOOGLE YAHOO or MSN to run their advertisements. Typically an advertiser specifies a term e.g. a keyword or phrase that is relevant to its advertisements an amount of money bid that the advertiser is willing to pay if the advertising publisher selects its advertisements for display in association with the term rather than those of another advertiser and a user clicks on the displayed advertisement or otherwise designates it for further viewing. Bids are generally calculated by the advertiser based on the expected probability of the occurrence of a further desired action conversion event taking place. The conversion event can be for example the purchase of a product associated with the advertisement. In response to a user request for information that is associated with the term the advertising publisher selects an advertisement to display from among the advertisements of all advertisers submitting a bid for that term.

Conversion rates i.e. the probabilities that a conversion event specified by the advertiser will take place given that the advertisement is clicked or otherwise designated for viewing or information such as number of advertisement clicks and the subsequent number of conversions from which conversion rates may be derived are typically tracked by advertisers. The conversion rates for popular terms i.e. terms that receive many clicks are statistically reliable. However for less popular terms having little information low volume terms whatever information there is may be of dubious statistical significance. For example a term corresponding to a broad product category e.g. scooters would likely have a large amount of information available e.g. that advertisements about scooters were clicked on 9 352 times and that conversion actions further took place 877 times for a conversion rate of approximately 9 percent. In contrast a term corresponding to a particular product part number within that category e.g. RX 1955 might have very little information available such as that advertisements relating to it were clicked on 2 times and that conversion events took place 1 time for a 50 percent conversion rate. However it is doubtful that the high 50 percent conversion rate is truly representative of the term and would remain at that high rate as the amount of information on the term grows over time. Because any information about low volume terms is unlikely to be statistically significant conventional systems for recommending bids for a low volume term ignore the known conversion rate for that term instead merely computing a conversion rate that is an average of conversion rates for terms with a statistically significant amount of information. This may result in imprecise bid calculations for low volume terms. Given the large number of low volume terms relative to popular high volume terms it would be beneficial to more accurately compute conversion rates for low volume terms and thus be able to calculate more accurate term bids.

The difficulties described above are addressed by a computer method and computer program product that perform statistical operations in order to compute an estimated conversion rate for a desired advertisement term.

One embodiment of the method stores statistics for the folder of related terms the statistics comprising a number of clicks and a number of conversion events for each of the terms. The method further determines for each of a plurality of conversion rates a total number of conversion events for terms having the conversion rate. The method generates data describing a first distribution function that represents a distribution of the total number of conversion events over the plurality of conversion rates and data describing a second distribution function that represents probabilities of different numbers of conversion events occurring. The method additionally computes and stores the estimated conversion rate for the desired advertisement term based at least in part on the data describing the first distribution function and the data describing the second distribution function.

Embodiments of the computer program product comprise a computer readable storage medium containing computer program code for storing statistics for the folder of related terms the statistics comprising a number of clicks and a number of conversion events for each of the terms. The computer program code further determines for each of a plurality of conversion rates a total number of conversion events for terms having the conversion rate. The computer program code generates data describing a first distribution function that represents a distribution of the total number of conversion events over the plurality of conversion rates and data describing a second distribution function that represents probabilities of different numbers of conversion events occurring. The computer program code additionally computes and stores the estimated conversion rate for the desired advertisement term based at least in part on the data describing the first distribution function and the data describing the second distribution function.

A computer adapted to compute an estimated conversion rate for a desired advertisement term comprises a term statistics database comprising storing statistics for the folder of related terms the statistics comprising a number of clicks and a number of conversion events for each of the terms. The computer further comprises an information analysis module adapted to determine for each of a plurality of conversion rates a total number of conversion events for terms having the conversion rate. The information analysis module is further adapted to generate data describing a first distribution function that represents a distribution of the total number of conversion events over the plurality of conversion rates and data describing a second distribution function that represents probabilities of different numbers of conversion events occurring. The information analysis module is further adapted to compute the estimated conversion rate for the desired advertisement term based at least in part on the data describing the first distribution function and the data describing the second distribution function and to store the estimated conversion rate.

The advertising publisher selects advertisements to display in response to the triggering of particular terms. For example in one scenario where the advertising publisher is a search engine a user might use the advertising publisher to run a query. The query can then be split into a number of terms representing different concepts with advertisements associated with those terms being selected as candidates for display. Based on the known conversion rates and bids for the advertisements the advertising publisher can select from the pool of candidate advertisements a set of advertisements generating the highest expected revenues for the advertising publisher . The selected advertisements might then be displayed as graphical or textual links with associated textual descriptions located within a sponsored links section of the search results for example. Activating the links such as by clicking on them leads a web browser to display the page designated by the link such as a page where the associated products can be purchased. Such activation of an advertisement link associated with a particular term is hereinafter referred to as clicking the advertisement or its associated term.

In another scenario the advertising publisher selects advertisements not in response to a query but in response to the selection of a web page or other electronic content for which the web page owner has contracted with the advertising publisher to provide advertisements. Then based on terms associated with the content of the web page the advertising publisher selects advertisements for display on the web page the selection of the advertisements again being performed so as to maximize expected revenue for the advertising publisher. In this scenario the selected advertisements might again be displayed as links accompanied by textual descriptions located adjacent to the main content areas of the web page.

Based on the selecting and providing of the advertisements the advertising publisher can track advertising statistics related to the advertisements and store the statistics in an ad statistics repository . Such statistics can include a number of times that the advertisement was presented i.e. selected and thus displayed on a web page a number of times that the presented advertisement was clicked or otherwise designated for further viewing a number of conversion events that took place based on the advertisement etc. The advertising publisher further provides an application programming interface API e.g. via a web service by which other systems may obtain the statistics.

An analysis server processes advertising statistics e.g. those provided by the advertising publisher in order to estimate the optimal amount for an advertiser to bid for a given term. This processing is performed by a statistics analysis module the operations of which include calculating a conversion rate for a given term and using the calculated conversion rate in conjunction with other values such as the revenue generated by a conversion event to calculate the optimal bid. Such operations are described in more detail below. The analysis server further comprises an advertiser API e.g. a web service or a web based interface by which an advertiser can obtain a very precise estimate of the amount to bid as computed by the statistics analysis module .

The processor may be any general purpose processor such as an INTEL x86 compatible CPU. The pointing device may be a mouse track ball or other type of pointing device and is used in combination with the keyboard to input data into the computer . The graphics adapter displays images and other information on the display . The network adapter couples the computer to the network .

The memory may be for example firmware read only memory ROM non volatile random access memory NVRAM and or RAM and holds instructions and data used by the processor .

The storage device is in one embodiment a hard disk drive but can also be any other device capable of storing data such as a writeable compact disk CD or DVD a solid state memory device or other form of computer readable storage medium. The storage device stores files and other data structures used by the computer. The web browser and security module are illustrated within the storage device .

As is known in the art the computer is adapted to execute computer program modules. As used herein the term module refers to computer program logic and or data for providing the specified functionality. A module can be implemented in hardware firmware and or software. In one embodiment the modules are stored on the storage device loaded into the memory and executed by the processor .

A term statistics database stores the statistical information that is processed in order to arrive at an estimated optimal bid amount for a given term. In one embodiment these statistics comprise the number of times that a given advertisement was presented for viewing a number of times that the advertisement was clicked or otherwise designated for further viewing after being presented and a number of conversion events associated with the advertisement e.g. purchasing an item based on the advertisement. The term statistics database may be implemented as for example a table or tables of a conventional relational database management system.

An information collection module obtains the information stored in the term statistics database . In one embodiment the information collection module obtains the information from the advertising publisher via the API of the advertising publisher . For example in one embodiment the information collection module calls a web service API for the advertising publisher on a periodic basis in order to obtain the most current advertising statistics updating the term statistics database as appropriate. Attributes of the statistics such as the particular source of the statistics may differ in different embodiments. For example in one embodiment the source of the statistics is a single advertising publisher e.g. a single search engine provider such as MSN. In another embodiment the sources may vary with some statistics being derived from one advertising publisher and others from another advertising publisher and others being a combination of the information available from different advertising publishers . The term match type attribute which is specified by the advertiser and used by the advertising publisher to determine whether or not the term is applicable to the content being viewed e.g. whether the term must be matched exactly or whether it may be matched by a semantically related concept may also vary. For example in one embodiment the term match type is the same for all stored statistics. In other embodiments the term match type is allowed to vary with the information collection module aggregating statistics having the same term but different match types for that term. Embodiments allowing multiple attributes such as data sources or term match types allow accumulation of a greater amount of statistical information but may require a mathematical transformation to be applied to the statistics in order to account for the differences in attributes of the statistics for a given term. Such transformation functions may be derived using regression analysis.

An information analysis module processes the information stored in the term statistics database applying statistical techniques to obtain an estimated true conversion rate for a given term that is to obtain a statistically accurate approximation of the true conversion rate for the term based on existing possibly incomplete information. The estimated conversion rate can then be used to estimate the optimal bid for a given term. In one embodiment the information analysis module treats high volume and low volume terms differently.

In the case of popular high volume terms for which there is enough information available to have statistical significance the information analysis module uses the information for that term to obtain the estimated conversion rate. For example in one embodiment the statistics for the given term are examined over a recent time period such as the past week. If there is a sufficient amount of information available e.g. 100 click events associated with advertisements for that term then the conversion rate may be calculated based on the available information alone if there is insufficient information available then the information analysis module may examine statistics over a longer time window until an adequate amount of statistics has been found. If there is still an insufficient amount of information or if the time period required to obtain a sufficient amount is considered too long then the term is deemed a low volume term.

In the case of low volume terms additional analysis is performed including analyzing information relating to an entire folder of terms. A folder is a set of terms that represent the same business initiative e.g. a product line and that are therefore related to each other. For example a folder representing the sale of scooters might contain such related terms as scooter scooter red scooter blue RX 1955 RX 2008 assuming that the latter two are model numbers of scooters being sold and the like. In one embodiment the terms in the folder are specified by the advertiser. The number of terms in a folder is not fixed but can vary based on the nature of the business initiative represented by the folder a small folder might contain five terms and a large folder hundreds of terms for example. In one embodiment the information analysis module performs several additional related operations in order to obtain the estimated conversion rate for low volume terms and considers statistics for the entire folder and not just for the term in question. These operations include determining how many conversion events there were for terms having a given conversion rate e.g. by generating a histogram for the terms in the folder generating data representing a first distribution function such as a beta distribution for the histogram generating data representing a second distribution function such as a binomial distribution for the histogram and combining the data representing the first and second distributions. The first or prior probability distribution can be represented by any distribution on the domain 0 to 1 either parameterized or sampled . An effective distribution balances computational efficiency and a faithful representation of the real world data. In one embodiment a user can re arrange keyword groupings to split a folder into two folders each of which could be represented by its own beta distribution.

When calculating the estimated conversion rate for a low volume term the information analysis module determines for the various possible conversion rates the number of conversion events for terms having that conversion rate. In one embodiment this is accomplished by generating a histogram that maps conversion rates to the number of conversion events for terms in the folder having that conversion rate. In one embodiment the independent variable values advance in fixed increments so as to create a finite number of possible data elements. For example a histogram might be defined for an independent variable ranging from 0 to 1 representing 0 to 100 percent conversion rates and have units of 0.001 thereby creating 1001 distinct data elements. This example histogram might have an entry of 3 for the value 0.100 indicating that there are three conversions for terms in the folder having a conversion rate of 10 percent e.g. 2 conversions for a first term and 1 conversion for a second term. To generate the values for this histogram each term in the folder is examined and the value of the histogram data structure element corresponding to the term s conversion rate is increased by the number of conversion events for that term. For a folder having a relatively modest number of terms such as 30 and a histogram having sufficiently many distinct elements the histogram will have many elements with no terms for that given conversion rate.

The information analysis module then generates data describing a first distribution that fits the data points determined above. In one embodiment the described distribution is a beta distribution function that fits the generated histogram a beta distribution being described by two parameters and . The parameters a and can be determined according to the calculations described below.

where is the mean conversion rate for the folder conversions is the number of conversion events for a given term clicks is the number of clicks on advertisements for the given term and is the summation operator with x representing the sum of property x for each term in the folder.

The information analysis module calculates an estimate of the variance for the data set given the empirical data in the histogram. In one embodiment this is accomplished through a maximum likelihood estimation technique in which a number of potential beta distributions are tried and the beta distribution providing the closest fit is selected. The initial estimate for a beta distribution variance indicated by the symbol is calculated as follows 

Starting with the initial estimate above adjust downward resulting in a tighter variance. In one embodiment the Newton Raphson perturbation technique can be used to describe these adjustments.

For each trial variance produced by an iteration of the Newton Raphson technique calculate the fit of the empirical data to the beta function described by the known mean and trial variance. This fit for a given trial is calculated as follows for each keyword calculate the probability of that keyword s observations coming from the trial variance then sum all the probabilities across all the keywords.

The trial with the highest sum has the highest likelihood of being the correct variance of the underlying distribution.

In another embodiment the estimated variance may be refined in a particularly computationally efficient manner by examining a subset of the keywords in the folder which have some greater number of clicks for example at least 20 clicks . In yet another embodiment a fixed variance based on experience can be explicitly selected and scaled to the observed mean.

In this embodiment the information analysis module does not generate and store all the data values of the beta distribution for each data element but rather stores only the calculated and parameters calculating a given data value of the beta distribution as a function of those parameters at the time that it is needed. In this embodiment the and parameters completely describe the beta distribution function.

In another embodiment not calculating the parameters of the beta distribution the data describing the beta distribution is stored in a manner similar to the histogram i.e. by storing a finite number of data elements with a fixed incremental value between each each data element representing a value of the beta distribution function for a given value of its independent variable. For values of the independent variable that fall between histogram points the value can be interpolated from the known values on either side.

The information analysis module also generates data describing a second distribution that represents the probability of a particular number of conversions occurring for an arbitrary term in the folder given a particular number of clicks on that term. In one embodiment the second distribution is a binomial distribution for the histogram the binomial distribution representing the probability p of a given number of events occurring out of n independent events. More particularly the generated binomial distribution represents the probability of obtaining a given number of conversions for n clicks on the advertisement where the probability of a conversion event given a click is p. The binomial distribution can then be used in conjunction with the beta distribution.

The information analysis module then combines the first and second functions to generate a third distribution function a posterior distribution that represents the chances of an estimated conversion rate for a term in the given folder. The mean of this function is the expected conversion rate for the term. In one embodiment generating the posterior distribution involves calculating the products of the values of the beta and binomial distributions at each value of the independent variable. The value of the posterior distribution for a given value x of the independent variable is given by the equation posterior beta binomial 

Thus for an embodiment in which the beta and binomial distributions produce dependent variable values corresponding to independent variable values ranging from 0 to 1 by increments of 0.001 the product beta x binomial x is calculated for each of the 1001 independent variable values from 0 to 1.

When using the beta distribution embodiment and as a result of the relationship between the beta distribution and the binomial distribution the estimated conversion rate r for a particular term in the folder is given by the following equation 

With the estimated conversion rate determined a bid optimization module then estimates an optimal bid for the advertiser to submit to the advertising publisher for a given term. The expected amount of revenue obtained for an advertiser by a given advertisement being clicked on is the monetary value of a conversion event multiplied by the probability of the conversion event occurring. The former is already known to the advertiser for example where the conversion event is a sale of a product referenced by the advertisement the value is e.g. the amount of profit that the advertiser makes from the sale a value within the advertiser s knowledge. The latter is the estimated conversion rate as calculated above.

Bidding the full amount of the expected revenue obtained by a conversion event for a given advertisement would cause the advertiser to monetarily break even on the advertisement since the resulting profit would be equaled by the advertising fee represented by the bid. Thus the bid optimization module further takes into account a desired profit margin specified by the advertiser. In one embodiment the bid optimization module estimates an optimal bid for a term as follows bid revenue 1 margin where bidis the optimal bid revenueis the expected revenue from a conversion event and margin is the desired profit margin expressed as a real number from 0 to 1.

In one embodiment the bid optimization module accepts as input from the advertiser a budget amount that the advertiser is willing to pay for a given term and or other related terms in the folder of terms thereby enabling bids to be adjusted while still meeting budgetary constraints. In one such embodiment the bid optimization module adjusts the bid upwards beyond the estimated optimal bid but limited to the specified budget to meet any minimum bid requirement specified by the advertising publisher . In another embodiment the bid optimization module may also adjust the bid in order to improve the position that the advertising publisher gives to the advertiser s advertisement within the set of advertisements produced by the advertising publisher . Advertising publishers generally give more favorable positions to advertisements that provide greater value i.e. greater expected revenue to them. Since the expected revenue of an advertisement to the advertising publisher is a function of the bid for that advertisement and the probability that the action triggering the bid payment will occur increasing the bid will improve the value of the advertisement to the advertising publisher and thus tend to improve the position given to the advertisement. Excess amounts beyond the cost incurred by paying the estimated optimal bid amount may then be allocated to increase the bid of the term or other terms thereby securing a more favorable position for their corresponding advertisements.

In one embodiment the statistics analysis module then proceeds to calculate the estimated conversion rate for each term in the folder. In another embodiment the statistics analysis module calculates estimated conversion rates only on demand. The analysis differs based on whether the term in question is low volume. If it is not low volume then the estimated conversion rate can be calculated by evaluating the statistics e.g. number of advertisement impressions based on that term number of clicks number of conversion events for that term without reference to statistics for the folder as a whole. If however the term is low volume then additional information is used to arrive at an estimated conversion rate and thus the statistics analysis module calculates the estimated conversion rate with reference to the folder statistics as described in more detail above. This allows a more accurate estimate of the true conversion rate for a low volume term by incorporating the information available about other related terms in the folder. After the estimated conversion rate is calculated it may be stored e.g. within the term statistics database or other portion of a durable computer readable storage medium.

With the estimated conversion rate determined the statistics analysis module can then estimate the optimal bid. In one embodiment this involves calculating expected revenue for a conversion event related to an advertisement factoring in an advertiser specified profit margin and adjusting the bid as needed as described above with respect to the bid optimization module .

The present invention has been described in particular detail with respect to one possible embodiment. Those of skill in the art will appreciate that the invention may be practiced in other embodiments. First the particular naming of the components and variables capitalization of terms the attributes data structures or any other programming or structural aspect is not mandatory or significant and the mechanisms that implement the invention or its features may have different names formats or protocols. Also the particular division of functionality between the various system components described herein is merely exemplary and not mandatory functions performed by a single system component may instead be performed by multiple components and functions performed by multiple components may instead performed by a single component.

Unless specifically stated otherwise as apparent from the above discussion it is appreciated that throughout the description discussions utilizing terms such as determining or displaying or the like refer to the action and processes of a computer system or similar electronic computing device that manipulates and transforms data represented as physical electronic quantities within the computer system memories or registers or other such information storage transmission or display devices.

Certain aspects of the present invention include process steps and instructions described herein in the form of a method. It should be noted that the process steps and instructions of the present invention could be embodied in software firmware or hardware and when embodied in software could be downloaded to reside on and be operated from different platforms used by real time network operating systems. The present invention also relates to an apparatus for performing the operations herein. This apparatus may be specially constructed for the required purposes or it may comprise a general purpose computer selectively activated or reconfigured by a computer program executable by a processor and stored on a computer readable medium that can be accessed by the computer. Such a computer program may be stored in a computer readable storage medium such as but not limited to any type of disk including floppy disks optical disks CD ROMs magnetic optical disks flash memory or disks read only memories ROMs random access memories RAMs EPROMs EEPROMs magnetic or optical cards application specific integrated circuits ASICs or any type of media suitable for storing electronic instructions and each coupled to a computer system bus. Furthermore the computers referred to in the specification may include a single processor or may be architectures employing multiple processor designs for increased computing capability. The computers may communicate over local or wide area networks using wired or wireless network communication protocols.

The algorithms and operations presented herein are not inherently related to any particular computer or other apparatus. Various general purpose systems may also be used with programs in accordance with the teachings herein or it may prove convenient to construct more specialized apparatus to perform the required method steps. The required structure for a variety of these systems will be apparent to those of skill in the art along with equivalent variations. In addition the present invention is not described with reference to any particular programming language. It is appreciated that a variety of programming languages may be used to implement the teachings of the present invention as described herein and any references to specific languages are provided for invention of enablement and best mode of the present invention.

The present invention is well suited to a wide variety of computer network systems over numerous topologies. Within this field the configuration and management of large networks comprise storage devices and computers that are communicatively coupled to dissimilar computers and storage devices over a network such as the Internet.

Finally it should be noted that the language used in the specification has been principally selected for readability and instructional purposes and may not have been selected to delineate or circumscribe the inventive subject matter. Accordingly the disclosure of the present invention is intended to be illustrative but not limiting of the scope of the invention which is set forth in the following claims.

