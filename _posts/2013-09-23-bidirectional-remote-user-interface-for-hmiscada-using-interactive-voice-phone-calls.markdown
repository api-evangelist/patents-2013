---

title: Bidirectional remote user interface for HMI/SCADA using interactive voice phone calls
abstract: A two-way voice interface allows communication by telephone between a supervisory control and data acquisition (SCADA) system and a human operator. A phone-HMI gateway communicates with the SCADA system through an application programming interface (API), composes messages to the operator in text format and interprets text derived from voice commands from the operator. A cloud telephone service is used to convert from voice to text and from text to voice, and to set up the telephone connection with the human operator.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09167091&OS=09167091&RS=09167091
owner: Siemens Aktiengesellschaft
number: 09167091
owner_city: Munich
owner_country: DE
publication_date: 20130923
---
The present invention relates to the control of automation processes using a supervisory control and data acquisition SCADA and more specifically to interfacing with a SCADA industrial control system though a bidirectional human machine interface HMI based on interactive voice phone calls.

Industrial control systems are computer controlled systems that monitor and control physical industrial processes. SCADA is typically an industrial control system capable of monitoring and controlling a large scale process that can involve multiple sites and large distances. For example SCADA industrial control systems may monitor and control industrial processes infrastructure and facility based processes. Those industrial processes may include manufacturing production power generation fabrication and refining and may run in continuous batch repetitive or discrete modes. Infrastructure processes may be public or private and include water treatment and distribution wastewater collection and treatment oil and gas pipelines electrical power transmission and distribution wind farms civil defense siren systems and large communication systems. Facility processes include buildings airports ships and space stations. They monitor and control heating ventilation and air conditioning systems HVAC access and energy consumption.

An important part of most SCADA implementations is alarm handling. The system monitors whether certain alarm conditions are satisfied to determine when an alarm event has occurred. Once an alarm event has been detected one or more actions are taken such as the activation of one or more alarm indicators and possibly the generation of email or text messages so that management or remote SCADA operators are informed.

In an exemplary embodiment of the present invention there is provided a method for providing a remote voice interface with a supervisory control and data acquisition system. A text command is received by a human machine interface telephone gateway from a cloud telephone service. The text command identifies an element of the supervisory control and data acquisition system and an action to be performed the text command being derived from an audio voice command received by the cloud telephone service from a human operator. A system command based on the text command is transmitted via an application interface with the supervisory control and data acquisition system. A confirmation message is received from the supervisory control and data acquisition system in response to the system command. Text is then transmitted to the cloud telephone service for conversion to an audio message reporting the confirmation message to the human operator.

In another aspect of the invention non transitory computer useable media are provided having computer readable instructions stored thereon for execution by a processor to perform operations as described above.

In HMI and SCADA systems it is very important that operators are aware of the system status and that they are able to react quickly to critical or non critical events. There are many ways to allow the operator to interact monitor and control the automation process. In the present disclosure a bidirectional remote communication is proposed between the operator and the automation system via interactive phone calls thus allowing the end operator to react and control the automation system via voice phone calls. The disclosed method and apparatus are an extension of existing HMI SCADA systems to allow bidirectional remote communication between the operator and the controlled process.

In most applications an end user must be notified immediately in the event of an alarm in a SCADA system. One of the quickest ways to notify an operator about such events is through a voice phone call. One problem with existing telephony notification systems is that they are limited to only one direction of communication the operator receives a voice notification describing the alarm event but there is no mechanism to allow the operator to interact with the control system through the same phone call session via voice. In the presently described system in addition to receiving a voice description of the alarm via the phone the operator can react quickly by issuing commands over the phone depending on the current context. The context alarm description various system parameters etc. is interactively described to the operator within the same phone call session.

For non critical cases cases not currently in an alarm condition the operator can remotely query and control the presently described SCADA system at any time via voice phone calls. For example by calling an allocated phone number the operator can interrogate the system status or the value of the different process elements via voice queries and issue remote voice commands via the same phone call session.

Short message service SMS has been used in SCADA systems to notify the operator about critical events. That technique also results in one way data flow the system sends an SMS message to the operator who must then quickly react and get in front of an operator panel or in front of remote computer that has access to the HMI SCADA system. In many critical cases that time delay is unacceptable. Interaction may be allowed with the operator via SMS messages which are sent from the operator s phone but that communication is also slow is difficult to use and limited in function.

Other HMI SCADA systems issue voice phone calls to the operator and describe the alarm event but there is no way for the operator to quickly react and control the system via the same voice phone call. Instead the operator must find an operator panel or a remote computer that has access to the HMI SCADA system. Other systems offer embedded voice recognition as a direct operator input solution to replace a keyboard and mouse but in order to benefit of that solution the operator must physically present and use the dedicated microphone to issue commands.

In contrast the presently described system allows the operator to interact with the control system via voice phone calls. The operator can remotely query the system status any time take action based on the description and react to alarm events by voice. The proposed system minimizes the time between the occurrence of the event in the SCADA system and the operator s reaction to the event.

A block diagram representing an exemplary embodiment of the presently described system for providing a remote user interface is presented in . The exemplary embodiment comprises three major elements a SCADA industrial control system with an HMI a phone HMI gateway and a cloud phone service . The requirements and operation of each of the major components will be described in turn.

The HMI SCADA industrial control system as described above is capable of generating alarm events and communicating those events via an application programming interface to the phone HMI gateway. The HMI SCADA also receives and responds to queries and commands from the phone HMI gateway.

The phone HMI gateway manages communications between the HMI SCADA system and a cloud phone service that interfaces via voice with a human operator.

The gateway monitors for SCADA alarms events received from the HMI SCADA system via the application programming interface . The gateway takes actions in response to the alarm events by selecting and transmitting to the cloud phone service text templates from a collection of text templates it hosts. A template is associated with each alarm event. Additionally the gateway hosts text templates associated with various system elements which are selected and transmitted to the cloud phone service in cases where a system element must be identified to a human operator.

A notification phone database is maintained by the gateway in order to correlate each of the various alarms that may be received from the SCADA system with one or more operators to whom the alarm notifications will be directed together with contact information such as telephone numbers. The database may also include other criteria that are considered in a rules based algorithm before a call is connected to report an alarm such as the time of day that an operator is available and the geographic location of the operator. In that way an alarm notification is sent to an operator that is on call for the shift during which the alarm is generated and is sent to a local operator who can respond in person if necessary. Operator account information is also stored by the phone HMI gateway . That information includes user names passwords and alternate telephone numbers. The operator account information may also include information that is considered before transmitting an alarm notification to an individual such as a vacation schedule or a security clearance level.

The phone HMI gateway has the ability to create and maintain a session with the cloud phone service. For that purpose a URL or another network address of the cloud phone service an account ID and password are stored by the gateway. The phone HMI gateway connects with the cloud phone service though a wide area network such as the Internet.

Software executed by the phone HMI gateway includes instructions for requesting that phone call connections be established from the cloud phone service to human operators based on conditions events etc. For example the phone HMI gateway may send a request to the cloud phone service to establish a two way phone connection with a human operator in response to a SCADA alarm or as scheduled event from a scheduler.

The phone HMI gateway has the capability of formatting and sending text to be voiced to the operator in order to describe a current context in the HMI SCADA system. Those capabilities also include formatting and sending questions to be voiced to the operator in cases where the SCADA system requires additional information. In either case text is sent to the cloud phone service where a text to voice functionality is used to convert the information to an audible message for the operator.

An interface to the cloud based phone service is exposed though the wide area network by the phone HMI gateway in order to receive the operator answers and commands in text format. The voice to text translation is part of the cloud based phone service functionality.

The phone HMI gateway additionally has the capability to interpret text received from the cloud based phone service and take actions in HMI SCADA based on that interpretation. For example the gateway may search for key words in the text spoken by the operator and select a SCADA command based on the key words found. In another example a limited vocabulary is presented to the human operator and a SCADA command is selected based on a one to one correlation between possible responses and a list of SCADA commands.

The cloud based phone service must guarantee several quality related characteristics. Those guarantees may be made by the cloud based phone service in the form of a service level agreement SLA between the cloud based phone service and the provider of the bi directional remote user SCADA interface described herein. First the service must be secure. All data content exchanged between the phone HMI gateway and the cloud based phone service must be guaranteed in terms of confidentiality non repudiation and availability. To that end the interfaces between the phone HMI gateway and the cloud based phone service via the wide area network are encrypted using for example secure socket layer SSL transport layer security TSL . Additionally the phone connection between the cloud based phone service and the human operator must be authenticated and secure.

Second the cloud based phone service must be reliable. The service must guarantee that requested phone calls are reliably connected. The voice recognition functionality must be of sufficient quality to match text with the operator answers. Call logs and voice recordings must be guaranteed. Callbacks to the phone HMI gateway must be reliably connected.

Finally quality of service of the cloud based phone service must meet minimum criteria. The system must issue phone calls on time. Voice recognition must perform in nearly real time with high accuracy. Computational resources must be dedicated to the described remote user interface service. The service must be scalable up or down depending on the number of human operators and the number of calls.

The interface with the cloud based phone service is via an API provided by the cloud service. The API must be capable of retrieving phone number contacts from a database maintained by phone HMI gateway . In that way the disclosed remote user interface service controls the security and accuracy of that database. The API must also allow scripting to perform various task sequences initiated by the phone HMI gateway.

The API must further be capable of initiating phone calls and SMS messages to the human operator in response to requests from the phone HMI gateway. The API receives text versions of questions to be relayed to the human operator and presents the questions as voice within phone calls or SMS messages. The API also transmits to the phone HMI gateway in text form answers received from the human operator as voice during the phone call. The API is capable of retrieving logs and recordings of the communications with human operators and transmitting them to the phone HMI gateway.

In an exemplary embodiment used in prototype development by the inventors the Tropo cloud API for voice is used to provide the cloud based phone service .

The phone HMI gateway and the cloud phone service may in an alternative embodiment be combined as in a single device that comprises a system on a chip microprocessor unit such as an MCF5301x Coldfire MPU available from Freescale Semiconductor Inc. Such a micro processing unit contains in addition to a CPU a voice CODEC and amplifiers and text to speech and speech to text capabilities.

The sequence diagram of represents an example scenario in which a SCADA alarm has occurred and is propagated over the components HMI SCADA HMI telephone gateway cloud telephone service to the human operator . In the particular scenario shown before the operator takes any action the operator queries the system for a particular SCADA element and based on the feedback that the operator receives takes actions via voice input which is translated and propagated to the SCADA system. For simplicity the authentication steps are not shown in the sequence. The human operator is preferably authenticated before being allowed to take any action via the HMI SCADA.

The example sequence shown in begins with an alarm being generated by the SCADA system causing an alarm event to be transmitted from the HMI SCADA to the HMI telephone gateway . A rules engine executing on the HMI telephone gateway determines which human operator or operators should be called based for example on the operators expertise working hours geographical proximity to the SCADA element generating the alarm vacation schedules security clearances etc. A message is sent to the cloud phone service requesting that a call be placed to a telephone number retrieved from a database maintained by the gateway . The same message or an additional message contains text describing the alarm and text listing available actions that the human operator may choose after receiving the call relating the alarm.

In response to receiving the messages the cloud phone service places a telephone call to the human operator using the telephone number received from the gateway . An audio voice message played to the operator includes a description of the alarm event based on the alarm description received from the gateway as well as an audio prompt requesting that the operator indicate what action he or she would like to take. The audio prompt may include a list of available actions based on the text listing available actions received from the gateway . The audio content transmitted to the human operator may comprise prerecorded content selected by the cloud phone service based on the text received from the gateway or may be generated from the text using a text to voice functionality of the cloud phone service.

In the example presented in the human operator decides to request the status of one or more SCADA elements before taking any action. That sequence of events is merely an example to illustrate the available operations of a working system and it can be seen that other options such as taking action immediately upon an alarm notification are available to the operator.

The cloud phone service receives the human operator s voice request for the status of one or more SCADA elements and using voice to text functionality converts the request to a text message. In the example of the voice request from the operator contains an identification of a SCADA element and a request for its status. After converting that message to text the cloud phone service transmits the text to the HMI telephone gateway . The gateway creates a query in the format required by the SCADA API requesting the status of the SCADA element identified in the text and transmits that query to the HMI SCADA .

The HMI SCADA returns the requested status to the HMI telephone gateway . The status may for example be a sensor value a switch or valve status or an overall system status. The status is transmitted in a format used by the HMI SCADA .

The HMI telephone gateway formulates a text description of the SCADA element status based on the received status from the HMI SCADA . The formulated text description is transmitted to the cloud telephone service where it is converted to a voice message that is transmitted to the human operator .

In the present example it is assumed that the human operator after receiving the voice message decides to take a certain action. The action may be another action selected from the list of available actions based on the text may be selected from a new list of available actions transmitted with the voice status message or may be a new action that must be interpreted by the HMI telephone gateway . In any case the human operator transmits to the cloud telephone service a voice command requesting an action and the cloud telephone service transcribes the voice command to a text command and transmits the text command to the HMI telephone gateway . The text command is interpreted by the HMI telephone gateway and the resulting SCADA command is transmitted to the HMI SCADA system .

Once the requested action has been taken by the SCADA system a confirmation message is sent to the HMI telephone gateway which composes a text message that is transmitted to the cloud telephone service . The cloud phone service converts the text into a voice message that is transmitted to the human operator to confirm that the requested action has been taken.

An example sequence of events is illustrated in in which a telephone conferencing functionality of the cloud telephone service is utilized in a situation where an action requested by the operator must be authorized by another party called an approver . The operator makes a voice request that an action be taken which voice request is converted to text by the cloud phone service and transmitted to the HMI phone gateway . The HMI phone gateway identifies a SCADA action from the text message and makes a determination whether additional authorization is needed before a command can be sent to the HMI SCADA system . That determination may be made for example using a look up table of SCADA actions and corresponding authorization levels. The table may reside in the HMI phone gateway or may be accessed externally. The table may be under control of the HMI SCADA system in which case additional messaging between the HMI phone gateway and the HMI SCADA system would be required to determine the required authorization of a particular action.

If additional authorization is needed the HMI phone gateway transmits to the cloud phone service a request to conference in an approver using a telephone number also contained in the look up table. The HMI phone gateway also transmits text representing a request for approval including the proposed action to be taken. In response the cloud phone service sets up at operation a conference call connection including the existing connection with the operator and a new connection with the approver using the provided telephone number. The cloud phone service also provides via voice to both participants in the conference call a voice request for the approval. Because a conference call exists between the operator and the approver the approver is able to directly ask questions and otherwise verbally interact with the operator during the approval process.

If the approver chooses to approve the action he or she may do so via a verbal indication or through DTMF dual tone multi frequency signaling using the telephone touchtone keypad. The cloud phone service converts the approval to text and transmits it to the HMI phone gateway . After verifying that the action is approved the gateway then transmits to the HMI SCADA system the command corresponding to the requested action

Some of the elements of the methodology as described above may be implemented in an HMI telephone gateway comprising a computer system such as the exemplary system is shown in .

A computing apparatus of the system may be a mainframe computer a desktop or laptop computer or any other device or group of devices capable of processing data. The computing apparatus receives data from any number of data sources that may be connected to the apparatus. For example the computing apparatus may receive input from a user via an input output device such as a computer or a computing terminal. The input output device includes an input that may be a mouse network interface touch screen etc. and an output that may be a visual display screen a printer etc. Input output data may be passed between the computing apparatus and the input output device via a wide area network such as the Internet via a local area network or via a direct bus connection. The computing apparatus may be configured to operate and display information by using e.g. the input output device to execute certain tasks. In one embodiment the rules engine and databases used by the disclosed system are maintained and updated using the input output device .

The computing apparatus includes one or more processors such as a central processing unit CPU and further includes a memory . The processor when configured using software according to the present disclosure includes an alarm and query rules engine for performing the alarm functions and query functions discussed herein. Additional modules to perform additional operations as described above may be incorporated in the processor .

The computing system is connected to the SCADA HMI system via an API provided by the SCADA HMI system. The computing system is also connected to the cloud telephone service via a WAN such as the Internet. The cloud telephone service may alternatively be integrated with the HMI telephone gateway in which telephone calls are placed directly over the WAN . In that case the cloud telephone service may be implemented as an additional software module running in the processor or as a separate processor designed for that purpose.

The memory may include a random access memory RAM and an erasable programmable read only memory EPROM . The memory may also include removable media such as a disk drive tape drive memory card etc. or a combination thereof. The RAM functions as a data memory that stores data used during execution of programs in the processor the RAM is also used as a program work area. The EPROM functions as a program memory for storing a program executed in the processor . The program may reside on the EPROM or on any other tangible non volatile computer readable media as computer readable instructions stored thereon for execution by the processor to perform the methods of the invention. The EPROM may also contain data for use by the program or by other programs.

Generally the rules engine described above include routines objects components data structures and the like that perform particular tasks or implement particular abstract data types. The term program as used herein may connote a single program module or multiple program modules acting in concert. The disclosure may be implemented on a variety of types of computers including personal computers PCs hand held devices multi processor systems microprocessor based programmable consumer electronics network PCs mini computers mainframe computers and the like. The disclosed technique may also be employed in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network. In a distributed computing environment modules may be located in both local and remote memory storage devices.

An exemplary processing module for implementing the methodology above may be hardwired or stored in a separate memory that is read into a main memory of a processor or a plurality of processors from a computer readable medium such as an EPROM hard magnetic drive optical storage tape or flash memory. In the case of a program stored in a memory media execution of sequences of instructions in the module causes the processor to perform the operations described herein. The embodiments of the present disclosure are not limited to any specific combination of hardware and software and the computer program code required to implement the foregoing can be developed by a person of ordinary skill in the art.

The term computer readable medium as employed herein refers to a tangible non transitory machine encoded medium that provides or participates in providing instructions to one or more processors. For example a computer readable medium may be one or more optical or magnetic memory disks flash drives and cards a read only memory or a random access memory such as a DRAM which typically constitutes the main memory. The terms tangible media and non transitory media each exclude propagated signals which are not tangible and are not non transitory. Cached information is considered to be stored on a computer readable medium. Common expedients of computer readable media are well known in the art and need not be described in detail here.

The forgoing detailed description is to be understood as being in every respect illustrative and exemplary but not restrictive and the scope of the disclosure herein is not to be determined from the description but rather from the claims as interpreted according to the full breadth permitted by the patent laws. It is to be understood that various modifications will be implemented by those skilled in the art without departing from the scope and spirit of the disclosure.

