---

title: Auto-detection of merchant payment preferences
abstract: Systems and methods for retrieving and displaying merchant payment preferences to a user are described. When a user is at or near a merchant location, a service provider determines the type or form of electronic payment the merchant can accept. The service provider then generates the specific type or form of payment for display or communication to a user device. The user is then able to present a type of payment accepted by the merchant and pay for a purchase.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09569766&OS=09569766&RS=09569766
owner: PAYPAL, INC.
number: 09569766
owner_city: San Jose
owner_country: US
publication_date: 20131118
---
The present invention generally relates to facilitating the payment of merchants at different physical locations.

More and more consumers are purchasing items and services over electronic networks such as for example the Internet. Consumers routinely purchase products and services from merchants and individuals alike. The transactions may take place directly between a conventional or on line merchant or retailer and the consumer and payment is typically made by entering credit card or other financial information. Transactions may also take place with the aid of an on line or mobile payment service provider such as for example PayPal Inc. of San Jose Calif. Such payment service providers can make transactions easier and safer for the parties involved. Purchasing with the assistance of a payment service provider from the convenience of virtually anywhere using a mobile device is one main reason why on line and mobile purchases are growing very quickly.

Consumers typically do not know what forms of mobile payment are accepted by a merchant until check out and can sometimes discover for example that the merchant only accepts a specific form of payment e.g. barcode or QR code . This can be inconvenient for the consumer. Thus there is a need for methods and systems that facilitate the payment for goods and services during check out.

Embodiments of the present disclosure and their advantages are best understood by referring to the detailed description that follows. It should be appreciated that like reference numerals are used to identify like elements illustrated in one or more of the figures wherein showings therein are for purposes of illustrating embodiments of the present disclosure and not for purposes of limiting the same.

The present disclosure provides systems and methods for automatically providing a payment method or option to use for a particular merchant without user action. When a user is at or near a merchant location a service provider determines the type or form of electronic payment the merchant can accept. The service provider then generates the specific type or form of payment for display or communication to a user device. The user is then able to present a type of payment accepted by the merchant. Examples of types of payment include a barcode Quick Response QR code and high frequency audio signals. If the merchant can accept multiple payment types available for the user to use through the service provider the service provider may generate one of the types of payment based on different factors. Factors may include the type of user device e.g. one type may be better suited for one type of user device such as due to display e.g. size resolution speaker features etc. user preset preferences merchant preset preferences payment environment a bright environment may warrant an audio signal or a noisy environment may warrant an optically scannable code etc.

The network in one embodiment may be implemented as a single network or a combination of multiple networks. For example in various embodiments the network may include the Internet and or one or more intranets landline networks wireless networks and or other appropriate types of communication networks. In another example the network may comprise a wireless telecommunications network e.g. mobile cellular phone network adapted to communicate with other communication networks such as the Internet.

The mobile device in various embodiments may be implemented using any appropriate combination of hardware and or software configured for wired and or wireless communication over the network . In various examples mobile device may be implemented as a wireless telephone e.g. cellular or mobile phone a tablet a personal digital assistant PDA a tablet computer and or various other generally known types of wired and or wireless computing devices. It should be appreciated that mobile device may be referred to as a user device or a customer device without departing from the scope of the present disclosure.

The mobile device in one embodiment may be utilized by the user to interact with the service provider server over the network . For example the user may log in to a mobile application run by the service provider via the mobile device .

In various implementations a user profile may be created using data and information obtained from cellular phone activity over the network . Cellular phone activity transactions may be used by the service provider server to create at least one user profile for the user based on activity from the mobile device . The user profile may be updated with each financial and or information transaction e.g. payment transaction purchase transaction etc. achieved through use of the mobile device . In various aspects this may include the type of transaction and or the location information from the mobile device . As such the profile may be used for recognizing patterns of potential fraud setting transaction limits on the user etc.

The mobile device in one embodiment includes a user interface application which may be utilized by the user to conduct transactions e.g. shopping purchasing bidding transferring etc. with the service provider server over the network . In one aspect funds may be directly and or automatically debited from an account related to the user via the user interface application and deposited into an account associated with a merchant.

In one implementation the user interface application comprises a software program such as a text based interface executable by a processor that is configured to interface and communicate with the service provider server via the network . In another implementation the user interface application comprises a browser module that provides a network interface to browse information available over the network . For example the user interface application may be implemented in part as a web browser to view information available over the network .

The mobile device in various embodiments may include other applications as may be desired in one or more embodiments of the present disclosure to provide additional features available to user . In one example such other applications may include security applications for implementing client side security features programmatic client applications for interfacing with appropriate application programming interfaces APIs over the network and or various other types of generally known programs and or software applications. In still other examples the other applications may interface with the user interface application for improved efficiency and convenience.

The mobile device in one embodiment may include at least one user identifier which may be implemented for example as operating system registry entries cookies associated with the user interface application identifiers associated with hardware of the mobile device or various other appropriate identifiers. The user identifier may include one or more attributes related to the user such as personal information related to the user e.g. a personal identification number and banking information and or funding sources e.g. one or more banking institutions credit card issuers user account numbers security data and information etc. . In various implementations the user identifier may be passed with a user login request to the service provider server via the network and the user identifier may be used by the service provider server to associate the user with a particular user account maintained by the service provider server .

The mobile device in one embodiment includes a geo location component adapted to monitor and provide an instant geographical location i.e. geo location of the mobile device . In one implementation the geo location of the mobile device may include global positioning system GPS coordinates zip code information area code information street address information and or various other generally known types of geo location information. In one example the geo location information may be directly entered into the mobile device by the user via a user input component such as a keyboard touch display and or voice recognition microphone. In another example the geo location information may be automatically obtained and or provided by the mobile device via an internal or external GPS monitoring component. In one aspect when interfacing with the mobile device the user may elect to provide or may be prompted to provide permission for the release of geo location information. Accordingly the user may have exclusive authority to allow transmission of geo location information from the mobile device to the service provider server . In any instance the service provider server may communicate with the mobile device via the network and request permission to acquire geo location information from the mobile device for geo location based mobile commerce.

The merchant payee device in various embodiments may be implemented using any appropriate combination of hardware and or software configured for wired and or wireless communication over the network . In one embodiment the merchant payee device includes a point of sale POS terminal. The merchant payee device may be maintained for example by a conventional or on line merchant conventional or digital goods seller individual seller and or application developer offering various products and or services in exchange for payment to be received conventionally or over the network .

The merchant payee device in one embodiment may be utilized by user to interact with the service provider server over the network . For example user may conduct financial transactions e.g. payment of a merchant with the service provider server via the merchant payee device . The merchant payee device may include one or more payee device identifiers which may be implemented as operating system registry entries identifiers associated with hardware of the merchant payee device and or various other appropriate identifiers. The payee device identifier may include attributes related to the merchant payee device such as identification information e.g. merchant associated with the merchant payee device a location address GPS coordinates etc. .

In various implementations the payee device identifier may be passed with network traffic data and information to the service provider server and the payee device identifier may be used by the service provider server to associate one or more network transactions of user with one or more particular user financial accounts maintained by the service provider server .

The merchant payee device also includes a checkout application which may be configured to facilitate a purchase by user . The checkout application may be configured to accept payment information from the user through the mobile device directly from the user and or from the service provider through service provider server over the network .

The service provider server in one embodiment may be maintained by a transaction processing entity which may provide processing for financial transactions and or information transactions between the user and merchant payee device . As such the service provider server includes a service application which may be adapted to interact with the mobile device over the network to facilitate financial transactions. In one example the service provider server may be provided by PayPal Inc. eBay of San Jose Calif. USA and or one or more financial institutions or a respective intermediary that may provide multiple point of sale devices at various locations to facilitate transaction routings between merchants and for example financial institutions.

The service application in one embodiment utilizes a payment processing application to process purchases and or payments for financial transactions between the user and a merchant. In one implementation the payment processing module assists with resolving financial transactions through validation delivery and settlement. As such the service application in conjunction with the payment processing application settles indebtedness between the user and a merchant wherein accounts may be directly and or automatically debited and or credited of monetary funds in a manner as accepted by the banking industry.

The service provider server in one embodiment may be configured to maintain one or more user accounts and merchant accounts in an account database each of which may include account information associated with one or more individual users e.g. user and or merchants. For example account information may include private financial information of a user and or merchant such as one or more account numbers passwords credit card information banking information or other types of financial information which may be used to facilitate financial transactions between the user and a merchant. In various embodiments account information includes merchant information such as merchant ID physical address GPS location hours of operation customer review scores current offers accepted forms of payment etc. It should be appreciated that the methods and systems described herein may be modified to accommodate users and merchants that may or may not be associated with at least one existing user account.

In some embodiments service provider server also includes a store locator application which tracks the location of the user via the mobile device and provides a list of merchants near the mobile device . In various embodiments the store locator application determines payment methods that are acceptable by the merchant and displays the payment methods to the user .

Referring now to a method for facilitating payments with a mobile device is illustrated according to an embodiment of a present disclosure. In the embodiment of the method described below a service provider provides user with a user account and the user may use the user account to fund payments for purchases made to merchant payees. The service provider may be for example PayPal Inc. of San Jose Calif. which assists in the making of payments from the user to the merchant by transferring funds from the user account to a merchant account. However these embodiments are meant to be merely exemplary and one of skill in the art will recognize that a variety of modifications may be made to the payment system discussed herein without departing from the scope of the present disclosure.

The method begins at step where a location of the user is determined. The mobile device in one embodiment includes a location determination device e.g. a GPS device a cell tower triangulation system device and or a variety of other location determination devices known in the art that is operable to determine a current location of mobile device .

User may release geo location information to the service provider server by e.g. setting release parameters. In one aspect the user geo location information includes user information related to a physical location or position of the mobile device which are passed to the service provider server via the network . The user geo location information may include GPS coordinates e.g. longitude and latitude inherent to the mobile device such as a mobile cellular phone and or zip code information. The user geo location information may include user identifier information identifying the user . The user may manually set geo location information such as a zip code and or longitude and latitude coordinates.

At step the service provider server generates a list of merchants based on the user location. In one embodiment the merchants are proximate the mobile device i.e. at or near the mobile device . Based on the user s privacy settings and preferences the list of merchants can be automatically generated when the user is physically close or near to the location i.e. without a request from the user. By close or near is meant a predetermined distance from the location such as within the same zip code the same shopping mall the same city or within 12 feet.

In some embodiments the user further filters and ranks the list of merchants according to user preferences. For example the user can select what category or kind of merchant he or she is interested in and the order in which he or she wants the results to appear. The service provider server may then generate and display a list of merchants based on the user s input and preferences. For example the user may only be interested in Italian restaurants so only Italian restaurants in the vicinity of the user are displayed on the mobile device .

At step the user selects a merchant and may check in or register with the merchant on the mobile device . Once the user inputs a selection at step the service provider server automatically generates and displays payment methods or options acceptable by the selected merchant. For example the service provider server may retrieve merchant payment preferences from account database . The payment methods may include a variety of electronic payment methods such as use of barcodes numeric codes QR codes credit card debit card gift card rewards points credits electronic voucher phone and PIN high frequency audio signals check in etc.

In some embodiments the acceptable payment methods are viewable in a single screen to enable simultaneous and comprehensive analysis of the multiple payment methods by the user . People often have preferences as to which source of funds should be used to pay certain payment obligations. A bank account may be desired for some payments while a credit card may be desired for other transactions. As such the user can elect or may have previously elected to only view certain payment methods depending on the merchant involved. For example the user may have elected to view methods that involve codes e.g. barcodes QR codes etc. but not to view any methods that involve a card e.g. credit card debit card etc. for a particular merchant. The user may also have elected to rank payment methods e.g. credit card first debit card second check third QR code fourth etc. The payment methods or options can then be displayed according to the user preferences and rankings.

In other embodiments the payment methods may be ranked and displayed according to merchant preferences or other factors. If neither the user nor the merchant have provided preferences the payment methods may be ranked and displayed according to default settings put into place by the service provider. Many variations of display preferences and filters may be specified. In one embodiment the service provider determines what type of user device is being used and presents the user with the payment methods accepted by the merchant and best suited for the user device. For instance if the user device is a mobile phone that is not equipped to display a barcode or a QR code then the service provider may display a payment method that uses high frequency audio signals. In another embodiment the environment in which payment is to be made may be analyzed. Environment conditions may be detected using sensors on the user device or other sensors at the merchant location. For example the service provider may detect that an environment is very dark and that it would be difficult to scan a barcode or QR code. The service provider may then rank payment by high frequency audio signal at the top of a list.

At step when the user is ready to pay for the purchase the user selects a payment method and the payment method is provided to the merchant payee device . For example a credit or debit card can be swiped a code can be input by the user or a cashier at POS or if the code is a barcode or QR code the code is scanned by the cashier.

At step the service provider receives the payment method and a request for payment from the merchant and approves and processes the payment method. After processing the service provider may then transmit a notification to the user and or the merchant.

A particular example will now be described. A regional chain of coffee shops named Ben s Coffee Cakes decided to use PayPal Here at some locations that support check in by a user and QR codes at other locations. Colin a PayPal customer is a frequent shopper at Ben s Coffee Cakes and visits many different locations.

One morning Colin went to Location A of Ben s Coffee Cakes and a PayPal mobile application on his phone detected that it could simply check him in through Location A s PayPal Here integration. Colin paid using PayPal Here and then went about his day. Later that afternoon Colin goes across town near Location B which only supports QR codes. Colin walked in to get a coffee and the mobile application automatically brought up the QR code for him to use. Colin paid at Location B using the QR code.

Computer system includes a bus or other communication mechanism for communicating information data signals and information between various components of computer system . Components include an input output I O component that processes a user i.e. sender recipient third party and or payment provider action such as selecting keys from a keypad keyboard selecting one or more buttons or links etc. and sends a corresponding signal to bus . I O component may also include an output component such as a display and a cursor control such as a keyboard keypad mouse etc. . An optional audio input output component may also be included to allow a user to use voice for inputting information by converting audio signals. Audio I O component may allow the user to hear audio. A transceiver or network interface transmits and receives signals between computer system and other devices such as another user device a merchant server or a payment provider server via network . In one embodiment the transmission is wireless although other transmission mediums and methods may also be suitable. A processor which can be a micro controller digital signal processor DSP or other processing component processes these various signals such as for display on computer system or transmission to other devices via a communication link . Processor may also control transmission of information such as cookies or IP addresses to other devices.

Components of computer system also include a system memory component e.g. RAM a static storage component e.g. ROM and or a disk drive . Computer system performs specific operations by processor and other components by executing one or more sequences of instructions contained in system memory component . Logic may be encoded in a computer readable medium which may refer to any medium that participates in providing instructions to processor for execution. Such a medium may take many forms including but not limited to non volatile media volatile media and transmission media. In various implementations non volatile media includes optical or magnetic disks volatile media includes dynamic memory such as system memory component and transmission media includes coaxial cables copper wire and fiber optics including wires that comprise bus . In one embodiment the logic is encoded in non transitory computer readable medium. In one example transmission media may take the form of acoustic or light waves such as those generated during radio wave optical and infrared data communications.

Some common forms of computer readable media includes for example floppy disk flexible disk hard disk magnetic tape any other magnetic medium CD ROM any other optical medium punch cards paper tape any other physical medium with patterns of holes RAM PROM EPROM FLASH EPROM any other memory chip or cartridge or any other medium from which a computer is adapted to read.

In various embodiments of the present disclosure execution of instruction sequences to practice the present disclosure may be performed by computer system . In various other embodiments of the present disclosure a plurality of computer systems coupled by communication link to the network e.g. such as a LAN WLAN PTSN and or various other wired or wireless networks including telecommunications mobile and cellular phone networks may perform instruction sequences to practice the present disclosure in coordination with one another.

Where applicable various embodiments provided by the present disclosure may be implemented using hardware software or combinations of hardware and software. Also where applicable the various hardware components and or software components set forth herein may be combined into composite components comprising software hardware and or both without departing from the spirit of the present disclosure. Where applicable the various hardware components and or software components set forth herein may be separated into sub components comprising software hardware or both without departing from the scope of the present disclosure. In addition where applicable it is contemplated that software components may be implemented as hardware components and vice versa.

Software in accordance with the present disclosure such as program code and or data may be stored on one or more computer readable mediums. It is also contemplated that software identified herein may be implemented using one or more general purpose or specific purpose computers and or computer systems networked and or otherwise. Where applicable the ordering of various steps described herein may be changed combined into composite steps and or separated into sub steps to provide features described herein.

The various features and steps described herein may be implemented as systems comprising one or more memories storing various information described herein and one or more processors coupled to the one or more memories and a network wherein the one or more processors are operable to perform steps as described herein as non transitory machine readable medium comprising a plurality of machine readable instructions which when executed by one or more processors are adapted to cause the one or more processors to perform a method comprising steps described herein and methods performed by one or more devices such as a hardware processor user device server and other devices described herein.

