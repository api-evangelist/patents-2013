---

title: Configuring secure wireless networks
abstract: Methods, systems, and apparatus, including computer programs encoded on computer storage media, for configuring secure wireless networks. One of the methods includes receiving, at a security system management device, protocol and key information for establishing a connection as a client device to the wireless IP device, wherein the protocol and key information is received in response to a user transmitting an identifier for the IP device to a service provider system; establishing communication with the wireless IP device, wherein the wireless IP device is acting as an access point device; exchanging keys with the wireless IP device; rebooting the security system management device to become an access point for the secure wireless network; and establishing communication with the wireless IP device, wherein the wireless IP device has become a wireless client.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09125049&OS=09125049&RS=09125049
owner: Oplink Communications, Inc.
number: 09125049
owner_city: Fremont
owner_country: US
publication_date: 20130315
---
Wireless networks are typically advantageous over their wired counterparts because they eliminate the need for stringing lengths of wire around a network site. This is especially useful in a home or enterprise security system in which multiple surveillance cameras and various sensors may be strategically placed around both inside and outside the home or office. Wireless networks further have the advantage that they cannot be easily circumvented by merely cutting the wired connections to network devices.

One conventional technique for adding a new device to a home network requires user input to provide configuration information. For example a user can purchase a wireless device that is typically initially configured as an access point AP device. The user can use their mobile device to identify this AP device on their WiFi network and enter a password. The wireless device AP device requests configuration information from the user of the mobile device for example a home router network service set identifier SSID and password. The user provides the requested information through the mobile device using an appropriate application. The wireless device AP device is rebooted as a client device. An association is then made and the IP device is coupled to the home network.

In general one innovative aspect of the subject matter described in this specification can be embodied in methods for adding a new wireless IP device to a secure wireless network that include the actions of receiving at a security system management device protocol and key information for establishing a connection as a client device to the wireless IP device wherein the protocol and key information is received in response to a user transmitting an identifier for the IP device to a service provider system establishing communication with the wireless IP device wherein the wireless IP device is acting as an access point device exchanging keys with the wireless IP device rebooting the security system management device to become an access point for the secure wireless network and establishing communication with the wireless IP device wherein the wireless IP device has become a wireless client.

The foregoing and other embodiments can each optionally include one or more of the following features alone or in combination The IP device is an IP camera IP based power plug IP based thermostat or other IP based security or automation device. The wireless IP device also receives key information from the service provider system. The IP device reboots following the key exchange becoming a wireless client after the reboot. The identifier is a barcode scanned from the IP device. The identifier is a serial number for the IP device. Establishing communication with the wireless IP device as a client includes performing one or more of http request or receive functions. The http request function is used to request video data from the IP device.

In general one innovative aspect of the subject matter described in this specification can be embodied in systems that include a security system management device wherein the security system management device manages a particular secure wireless network a wireless internet protocol IP device to be added to the secure wireless network and a mobile device wherein the IP device is activated using the mobile device including transmitting an identifier associated with the IP device to an external service provider system wherein the security system management device receives protocol and key information for the IP device in response to the mobile device transmission and wherein responsive to the received protocol the security system is configured as a WiFi client that seeks to communicate with the IP device wherein the IP device is acting as an access point wherein the IP device receives key information such that the IP device and security system manager exchange keys and wherein after the key exchange the security system manager reboots to become an access point for the network and the IP device reboots to become a wireless client for the network.

Particular embodiments of the subject matter described in this specification can be implemented so as to realize one or more of the following advantages. Wireless devices e.g. internet protocol IP cameras can be added to a secure wireless network without user configuration of the IP wireless device and without the need for preloaded SSID Key pairs. Additionally a security management device does not need to upload agent software to client wireless devices nor do the wireless devices need to be preprogramed with appropriate software. Instead the security management device can use HTTP request and receive functions directed to the wireless device.

The details of one or more embodiments of the subject matter of this specification are set forth in the accompanying drawings and the description below. Other features aspects and advantages of the subject matter will become apparent from the description the drawings and the claims.

The secure wireless network includes a security management device and wireless enabled devices . The security management device can be an access point device. In some implementations the security management device optionally in conjunction with the service provider system can determine and use appropriate keys to configure the wireless enabled devices thereby establishing a self configured secure wireless network with minimal or no user interaction.

In a typical home security system several strategically positioned cameras and sensors may be included. In addition to sensors included for security purposes such as movement and displacement sensors for example detecting the opening of doors and windows other sensors providing other useful information may be included such as doorbell sensors smoke detector alarm sensors temperature sensors and or environmental control sensors and or controls.

An additional wireless device is also shown which has been subsequently added to the secure wireless network after the installation of the secure wireless network in the home security system. Hence it is referred to as being a new wireless device. Similar to the wireless enabled devices the new wireless device can be added to the secure wireless network using an appropriate key. One example technique for adding a new wireless device to a secure wireless network is described below with respect to .

As shown in the security management device includes a router for the home security system. Therefore all devices that are to be networked are communicatively coupled to the security management device . To this end the security management device includes at least one of an Ethernet receptacle or Universal Serial Bus USB receptacle so that various devices such as a computer may be wire coupled to it e.g. through an Ethernet connection. The security management device is configured to be in router mode. As such it can be referred to as being a router security management device.

The security management device is communicatively coupled e.g. through an Ethernet connection to a network adapter e.g. a modem or directly to the Internet through an ISP. In some implementations a broadband connection is used for high speed transmission of video data from the one or more wireless cameras and sensor data from the wireless sensors. The security management device can include a Dynamic Host Configuration Protocol DHCP server which is configured to assign IP subaddresses to devices connecting through the security management device to the Internet .

In some implementations the security management device includes a software agent residing in it that establishes communication with a remote service provider system upon the security management device being powered up and after it has been joined to the Internet through the network adapter which serves as an Internet gateway. The service provider system interacts with the security management device and authorized devices e.g. primary and secondary mobile devices and to perform various functions and or services.

The mobile devices and can include software agents or resident applications for such interaction with the service provider system . Devices that are attempting to interact with the service provider system may confirm their authority to the service provider system for example by providing information that uniquely identifies the requesting device e.g. an Internet Protocol IP address a product serial number or a cell phone number. Alternatively they may provide a user name and password which are authorized to interact with the secure wireless network . To facilitate such authorization procedures the service provider system can store or have ready access to such authorization information for each secure wireless network of users who subscribe to the service. The mobile devices and can be used to receiving information from the security system e.g. alarm information as well as used to control functions of the security system.

The new device can be for example a wireless IP device such as an IP camera. A user can add the IP camera as part of a home security system. In particular the new device can be configured as an access point device for example having a build in router that is capable of allowing the new device to connect to an external network including the Internet. An access point is a device that allows wireless devices to connect to a network using WiFi or related standards. Thus other wireless devices can potentially connect to the access point as client devices. In particular vendors of wireless IP devices typically configure the device to act as an access point.

The security management device can be a wireless control unit that can be configured for example as a bridge and access point or a client. The security management device is communicatively coupled to the internet e.g. by Ethernet to a home router through which the security management device can communicate with service provider system . The security management device also manages devices of the security system using the established secure wireless network. The devices can include other IP cameras as well as various security sensors. The home security system can be implemented for example as described above with respect to .

The new device is activated . For example the user can position the new device at a particular location and power it up. The user can also determine an identifier of the new device for example a serial number bar code QR code or other identifier.

The identifier of the new device is obtained and entered into a mobile device . The mobile device can be for example a mobile phone or tablet device of the user. The identifier of the new device can be entered into the mobile device for example manually by the user or scanned into the mobile device e.g. using a camera integrated into the mobile device e.g. using barcode or QR code reading software.

The mobile device transmits the identifier of the new device to a service provider system . The service provider system uses the received identifier to look up information about the new device . For example the identifier can be used to look up information in a registry or database associating device identifiers with corresponding device information. The registry or database can include information for wireless devices provided by various different vendors. For example the device information can include protocol information associated with the device. This information can include a device type profile or one or more application programming interfaces API that can be used to communicate with the new device .

The service provider system sends data to the security management device identifying the protocol the new device is operating under.

In response to receiving the protocol data the security management device behaves as a wireless client . As a client the security management device can use the protocol information to identify and seek to connect with the new device functioning as an access point device.

The service provider system passes an SSID key pair to the security management device and the new device for use in a key exchange process between the security management device and the new device to generate a secure connection. In particular the new device is in communication with one or more networks allowing communication with the service provider system e.g. using the built in router and for example an Ethernet or other type of connection. In some implementations the SSID key pair is chosen specifically for the relationship between the new device and the security management device . In some other implementations the SSID key pair is used for joining all devices to the secure wireless network. In such scenarios the security management device may already have the SSID key pair. Various existing key exchange techniques can be used.

After the secure connection has been established between the service provider system and the security management device the security management device reboots to become return to being an access point device. Additionally the new device reboots to become a wireless client. In particular the security management device determines that the new device has the new SSID and key Password. Then both the security management device and the new device can reboot in which the new device is wireless client and the security management device is now the access point device.

The security management device communicates with the new device as part of the secure wireless network where the new device operates as a client device managed by the security management device . The security management device can communicate with the new device using http request and receive functions e.g. a GET request. For example in the case of an IP camera device the security management device can request data from the IP camera using e.g. http IP cgi getdata request wherein the response from the IP camera would be corresponding data such as video image or text data.

While this specification contains many specific implementation details these should not be construed as limitations on the scope of any invention or of what may be claimed but rather as descriptions of features that may be specific to particular embodiments of particular inventions. Certain features that are described in this specification in the context of separate embodiments can also be implemented in combination in a single embodiment. Conversely various features that are described in the context of a single embodiment can also be implemented in multiple embodiments separately or in any suitable subcombination. Moreover although features may be described above as acting in certain combinations and even initially claimed as such one or more features from a claimed combination can in some cases be excised from the combination and the claimed combination may be directed to a subcombination or variation of a subcombination.

Similarly while operations are depicted in the drawings in a particular order this should not be understood as requiring that such operations be performed in the particular order shown or in sequential order or that all illustrated operations be performed to achieve desirable results. In certain circumstances multitasking and parallel processing may be advantageous. Moreover the separation of various system modules and components in the embodiments described above should not be understood as requiring such separation in all embodiments and it should be understood that the described program components and systems can generally be integrated together in a single software product or packaged into multiple software products.

Particular embodiments of the subject matter have been described. Other embodiments are within the scope of the following claims. For example the actions recited in the claims can be performed in a different order and still achieve desirable results. As one example the processes depicted in the accompanying figures do not necessarily require the particular order shown or sequential order to achieve desirable results. In certain implementations multitasking and parallel processing may be advantageous.

