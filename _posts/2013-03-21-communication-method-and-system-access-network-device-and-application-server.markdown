---

title: Communication method and system, access network device, and application server
abstract: Embodiments of the present disclosure provide a communication method and system, an access network device, and an application server. The communication method includes: receiving, by an access network device, a service packet; and sending, by the access network device, the received service packet to an application server according to a policy, where the application server is arranged at an access network side, and is independent from the access network device or in the access network device, and the application server supports operation of at least one service. It can be seen that, an application server that supports operation of third-party applications is introduced at an access network side, so that a UE can directly perform service interaction with the access network side, which significantly improves the response time of a user request, decreases service delay, and improves the QoS of a service, thereby improving user experience.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09532238&OS=09532238&RS=09532238
owner: Huawei Technologies Co., Ltd.
number: 09532238
owner_city: Shenzhen
owner_country: CN
publication_date: 20130321
---
This application is a continuation of International Application No. PCT CN2012 073666 filed on Apr. 9 2012 which is hereby incorporated by reference in its entirety.

The embodiments of the present disclosure relate to the field of mobile communications technologies and in particular to a communication method and system an access network device and an application server.

In the field of the mobile communications technologies a user equipment User Equipment UE needs to establish a connection with an external network for example the Internet Internet through a wireless network and enjoys services of third party application services through the external network or a remote server.

As shown in the wireless network mainly includes an access network and a core network Core Network CN where management functions of radio resources are mainly implemented in the access network in a centralized manner and functions related to services and applications are mainly implemented in the core network in a centralized manner. Therefore the access network is a bridge connecting a UE and the core network . The service interaction of the UE with the external network is based on the connection among the UE the access network and the core network and is finally implemented through a gateway at a core network side. A remote server is arranged behind the gateway of the core network and is far away from the UE resulting in problems such as extended service delay and low quality of service Quality of Service QoS thereby influencing user experience.

Embodiments of the present disclosure provide a communication method and system an access network device and an application server so as to solve the problems of extended service delay and low QoS of a service thereby improving user experience.

In one aspect an embodiment of the present disclosure provides a communication method including receiving by an access network device a service packet sending by the access network device the received service packet to an application server according to a policy where the application server is arranged at an access network side and is independent from the access network device or in the access network device and the application server supports operation of at least one service.

In another aspect an embodiment of the present disclosure provides a communication method including receiving by an application server a service packet sent by an access network device where the application server is arranged at an access network side and is independent from the access network device or in the access network device and the application server supports operation of at least one service the application server processes the service packet.

In another aspect an embodiment of the present disclosure provides an access network device including a first interface unit configured to communicate with a user equipment a second interface unit configured to communicate with a core network and a third interface unit configured to communicate with an application server where the application server is arranged at an access network side and is independent from the access network device or in the access network device and the application server supports operation of at least one service and a processor connected to each of the first interface unit the second interface unit and the third interface unit and configured to receive a service packet through the first interface unit or the second interface unit and send through the third interface unit the received service packet to the application server according to a policy.

In another aspect an embodiment of the present disclosure provides an application server supporting operation of at least one service and arranged at an access network side and being independent from an access network device or in the access network device. The application server includes an interface unit configured to communicate with the access network device a storage unit configured to store service data of a service supported by the application server and a processing unit connected to each of the interface unit and the storage unit and configured to receive through the interface unit a service packet sent by the access network device and process the service packet.

In another aspect an embodiment of the present disclosure provides a communication system and the foregoing access network device and the foregoing application server are arranged at an access network side of the communication system.

In another aspect an embodiment of the present disclosure provides a computer readable storage medium including a program used to perform the above method.

In another aspect an embodiment of the present disclosure provides a computer readable storage medium including a program used to perform the above method.

It can be seen that according to the embodiments of the present disclosure an application server that supports operation of third party applications is introduced at an access network side so that a UE can directly perform service interaction with the access network side which significantly improves the response time of a user request decreases service delay and improves the QoS of a service thereby improving user experience.

To make the objectives solutions and advantages of the embodiments of the present disclosure more comprehensible the following clearly and completely describes the solutions according to the embodiments of the present disclosure with reference to the accompanying drawings in the embodiments of the present disclosure. Apparently the embodiments in the following description are merely a part rather than all of the embodiments of the present disclosure. All other embodiments obtained by persons skilled in the art based on the embodiments of the present disclosure without creative efforts shall fall within the protection scope of the present disclosure.

In an embodiment of the present disclosure the problems existing in the process of service interaction of existing third party applications are fully taken into consideration and a logical network element supporting operation of third party applications is introduced at an access network side. In this way a UE can perform service interaction with the access network side directly which significantly improves the response time of a user request decreases service delay improves the QoS of a service thereby improving user experience. Detailed descriptions are made in the following with reference to the accompanying drawings.

In addition to original functions the access network device needs to implement an additional packet bypass function so as to bypass a service packet from a UE or a core network to the application server for processing. The original functions of the access network device include management of radio resources forwarding of air interface data and maintenance of a UE status which are well known to persons skilled in the art and not described in detail herein again.

It should be noted that the access network device is a device that enables an UE to access the wireless network including but not limited to a Node B Node B an evolved Node B evolved Node B eNB a home Node B Home Node B HNB Home eNode B HeNB a radio network controller radio network controller RNC a base station controller Base Station Controller BSC and a base transceiver station Base Transceiver Station BTS .

In addition the third party applications according to this embodiment include but not limited to cache Cache acceleration related to the Web Web pages video transcoding machine to machine Machine to Machine M2M handshake signaling termination and content storage and distribution which may be provided by a third party and are not restricted by this embodiment in any manner. In addition the application server may be an open application server which offers an open platform for a third party application provider and supports expansion of various third party applications thereby further improving user experience.

More detailed descriptions are made on the access network device and the application server in the following with reference to accompanying drawings.

The policy for sending a service packet to the application server by the access network device includes sending all service packets received by the access network device to the application server or identifying with identity information whether a service packet can be sent to the application server sending to the application server a service packet that can be sent to the application server and sending to the core network a service packet that cannot be sent to the application server . The identity information may be some identity information carried in existing service packets including but not limited to subscriber profile identity Subscriber Profile ID SPID information quality of service class identifier QoS class identifier QCI information stateful packet inspection Stateful Packet Inspection SPI information or deep packet inspection Deep Packet Inspection DPI . The correspondence between the identity information and whether a service packet can be sent to the application server may be defined by an operator which is not limited by this embodiment in any manner.

A situation that a part of service packets are sent according to the SPID to the application server for processing is taken as an example where the SPID is a subscriber identity defined by an operator and currently have a value in the range of 1 to 256 and specific meanings may be defined by the operator currently merely some values are defined for a camping priority and an inter frequency inter RAT handover priority . The operator may predefine some SPIDs to present which bearers of a subscriber or which kinds of service packets can be sent to the application server for processing so that after receiving a service packet the access network device can determine according to the SPID of the subscriber whether to send the received service packet to the application server .

A situation that a part of service packets are sent according to the QCI to the application server for processing is taken as an example where the QCI includes nine classes an operator may predefine which class or which classes of services need to be sent to the application server for processing so that after receiving a service packet the access network device can determine according to the QCI of the service packet whether to send the received service packet to the application server .

A situation that a part of service packets are sent according to the SPI or the DPI to the application server for processing is taken as an example where an operator may predefine some rules for forwarding service packets to the application server for example a packet is forwarded according to a 5 tuple of the packet a source IP a destination IP a source port a destination port and a protocol type so that after receiving a service packet the access network device can determine according to forwarding rules whether to send the received service packet to the application server .

It should be noted that the processing unit may be a processor and the storage unit may be a memory. If the application server is integrated in the access network device functions of the processing unit of the application server can be implemented in the processor of the access network device that is the application server shares the processor with the access network device .

The procedure of processing a corresponding service packet by the processing unit varies with the service packet received by the processing unit . The procedure includes but not limited to the following cases 

When a policy of sending a service packet to the application server by the access network device is preset the policy is set according to a service type that can be currently supported by the application server and only a service packet of a service supported by the application server is sent to the application server . In this way the application server does not need to determine whether it supports the received service packet. The procedure for the processing unit to process the service packet is shown in including 

Step S Parse the service packet which is a process to peel off information of other protocol layers so as to obtain data of an application layer.

When a policy of sending a service packet to the application server by the access network device is preset if the policy is not set according to a service type currently supported by the application server the process for the processing unit to process the service packet includes the following steps as shown in 

Step S According to the parsed service packet determine whether the processing unit supports operation of a service corresponding to the service packet and if the processing unit supports operation of the service corresponding to the service packet perform step S if the processing unit does not support operation of the service corresponding to the service packet perform step S step S or step S.

If the result of parsing indicates that the processing unit supports operation of the service corresponding to the service packet the service corresponding to the service packet is run according to the parsed service packet and a running result is fed back to the access network device step S if the result of parsing indicates that the processing unit does not support operation of the service corresponding to the service packet the service packet is returned to the access network device step S so that the access network device sends the service packet out through a conventional channel or the service packet is sent to a core network step S and at this time a direct channel from the application server to the core network is required or instruction signaling is sent to the access network device step S where the instruction signaling is used to instruct the access network device to send the service packet to a core network. Because the access network device has received the service packet the access network device only needs to cache the service packet and sends according to the instruction information the service packet out through a conventional channel. When the application server cannot provide a service foregoing step S step S or step S is provided so as to ensure that the service is provided to a UE in a conventional manner and ensure that the service is not interrupted.

In addition if the parsed service packet includes update data of the service supported by the processing unit the update data is stored in the storage unit.

Considering that the service packet is transmitted between the access network device and the application server a user plane channel needs to be established between the access network device and the application server . One manner is as follows the user plane channel is preset and at this time a user plane protocol only needs to be defined so that the service packet is transmitted through the preset user plane channel according to the user plane protocol. Another manner is as follows a protocol of the third interface unit of the access network device and a protocol of the interface unit interacting with the interface unit of the application server are configured so that according to the configured protocols a user plane channel is established between the access network device and the application server if necessary so as to transmit the service packet through the user plane channel.

Each of the protocols of the third interface unit and the interface unit is an application and wireless network interface protocol so that the user plane channel is established between the access network device and the application server according to the application and wireless network interface protocol.

The control plane protocol includes a service network layer protocol and a transmission network layer protocol where the service network layer protocol includes control information and the transmission network layer protocol includes a physical layer protocol a data link layer protocol a network layer protocol and a transport layer protocol. The user plane protocol includes a service network layer protocol and a transmission network layer protocol. The service network layer protocol is similar to the existing service network layer protocol used for service packet transmission between a UE and a remote server and an access network does not process this part of protocol and merely performs transparent transmission which are well known to persons skilled in the art and not described in detail herein again in this embodiment. The transmission network layer protocol is used to implement transmission of a service packet and the transmission network layer protocol also includes a physical layer protocol a data link layer protocol a network layer protocol and a transport layer protocol.

In the transmission network layer protocol of the control plane protocol the network layer protocol may be an Internet protocol Internet Protocol IP and the transport layer protocol may be a stream control transmission protocol Stream Control Transmission Protocol SCTP a transmission control protocol Transmission Control Protocol TCP or a user datagram protocol User Datagram Protocol UDP . In the transport network layer protocol of the user plane protocol the network layer protocol may be an IP the transport layer protocol may include a UDP and a GPRS tunneling protocol user plane GPRS Tunneling Protocol User plane GTP U where the GTP U may be replaced by a UDP tunneling protocol an IP tunneling protocol or a data link layer tunneling protocol. This case is merely an example herein and is not intended to limit the present disclosure.

The foregoing control information includes but not limited to reset information an open API interface setting request message and a base station configuration update message which is described with a long term evolution Long Term Evolution LTE access technology as an example. Other access technologies such as a universal mobile telecommunications system Universal Mobile Telecommunications System UMTS are similar to it and are not described in detail herein again.

Preferably the control information includes a status information subscription request message used to instruct an access network device to send status information of a wireless network to an application server. In this may a third party application can flexibly adjust the processing of a service packet according to the status information. For example if the status information indicates that an air interface is congested a high definition video resource may be adjusted to a common video resource and sent to a UE. For another example when services related to most of service packets are point to point P2P communications and only a small part of services are video services more radio resources may be distributed to ensure video quality.

Preferably the control information includes a policy modification request message used to indicate a policy of sending a service packet to an application server by an access network device. In this way an operator can flexibly adjust according to a requirement of a third party application a policy of sending a service packet to the application server by the access network device.

It can be seen that the processor of the access network device is further configured to establish through the third interface unit a user plane channel between the access network device and the application server and the processing unit of the application server is further configured to establish through the interface unit a user plane channel between the access network device and the application server .

It should be noted that a service packet may come from a UE or come from a core network side so a user plane channel may be established in each of an uplink direction and a downlink direction. Of course an independent user plane channel may also be established. At this time to differentiate whether the service packet is data from a UE side or data from a core network side a direction identity field needs to be added in the service packet to identify a source direction of the service packet.

In addition considering that the number of services supported by the application server is usually more than one when a user channel in one direction the uplink direction or the downlink direction is considered if all services share one user plane channel an identity needs to be added in a service packet to identify a forwarding destination that is identify which service the service packet is provided to for running if no field is added the application server needs to identify and distribute service packets.

The hardware structure of the application server is described above and a software structure of the application server is described with reference to the accompanying drawings in the following. The processing unit of the server manages through the following software structure other units of the application server to implement functions of the whole application server. shows a software architecture of an application server provided in an embodiment of the present disclosure. As shown in the processing unit is a central processing unit Central Processing Unit CPU on which an operating system Operating System OS is run through a board support package board support package BSP . In this way a control plane processing program a user plane processing program a third party application program an operation manager Operation Manager OM program are run at a platform provided by the OS.

The control plane processing program is used to process a control plane message between the application server and the access network device and the following three basic kinds of control processes exist a basic management process a service bearer management process and an open information obtaining process. The basic management process is used to establish and maintain a control plane link between the application server and the access network device the service bearer management process is used to establish and maintain a user plane channel between the application server and the access network device and the open information obtaining process is used for the application server to subscribe to status information of a wireless network including status information of an air interface at an access network device side or status information of the access network device and used for reporting the status information from the access network device.

The user plane processing program provides processing of the user plane channel between the application server and the access network device and is used for service packet interaction between the access network device and the application server.

The third party application program terminates or forwards application layer data of a user or provides a specific service according to a specific application.

The OM program is used to coordinate and manage user plane processing control plane processing and a third party application and has at least a log test version management function.

As can be seen from the foregoing description in addition to original functions the access network device needs to implement the following additional functions 

1. Sending a service packet to the application server for processing. If an independent user plane channel to each third party application is established a packet is merely forwarded to a corresponding user plane channel if a user plane channel is established in each of the uplink and the downlink each channel indicates a direction otherwise a direction identity field needs to be used to identify whether the data is data from a UE or data from a core network . If third party applications share one user plane channel an identity used to identify a sending destination needs to be added and then the packet is sent if no identity is added packets need to be identified and distributed at a receiving end if a user plane channel is established in each of the uplink and the downlink each channel indicates a direction otherwise a direction identity field needs to be used .

2. Forwarding the packet after receiving the packet from the application server. If each third party application establishes an independent user plane channel the packet needs to be sent to a UE or a core network according to a direction if a channel is established in each of the uplink and the downlink each channel indicates a direction otherwise a direction identity field needs to be used . If third party applications share one user plane channel a packet needs to be forwarded according to a policy. Optional polices include but not limited to forwarding the packet according to a DPI identifying and forwarding the packet according to an identity used to identify a sending destination a specific bearer if a channel is established in each of the UE direction and the core network direction each channel indicates a direction otherwise a direction identity field needs to be used .

4. Receiving the packet from the access network device for processing and forwarding the service packet to a specific third party application. If each third party application establishes an independent user plane channel a packet on a corresponding channel is only forwarded to a corresponding third party application if a channel is established in each of the uplink and the downlink each channel indicates a direction otherwise a direction identity field needs to be used if third party applications share one user plane channel a packet needs to be forwarded according to a policy. Optional polices include but not limited to forwarding the packet according to a DPI and identifying and forwarding the packet according to a forwarding identity if a channel is established in each of the uplink and the downlink each channel indicates a direction otherwise a direction identity field needs to be used .

5. Sending a packet to the access network device for processing that is forwarding a user plane packet of a third party application to a user plane channel. If each third party application establishes an independent user plane channel a packet only needs to be forwarded to a corresponding channel if a channel is established in each of the uplink and the downlink each channel indicates a direction otherwise a direction identity field needs to be used if third party applications share one user plane channel an identity used to identify a forwarding destination needs to be added to the packet and then the packet is forwarded if no identity is added the packet needs to be identified and distributed at a receiving end if a channel is established in each of the uplink and the downlink each channel indicates a direction otherwise a direction identity field needs to be used .

Corresponding to the foregoing access network device an embodiment of the present disclosure further provides a communication method. As shown in the method includes the following steps 

S The access network device sends the received service packet to an application server according to a policy.

As described in the foregoing description the application server is arranged at an access network side and is independent from the access network device or in the access network device and the application server supports operation of at least one service.

It can be seen that a service packet from a UE side can be forwarded to the application server through the access network device and processed by the application server. In this way a response to the service packet from the UE side can be implemented at the access network side which significantly improves the response time of a user request decreases service delay and improves the QoS of a service thereby improving user experience.

Similar to the foregoing embodiment in step S the service packet received by the access network device may come from a UE side or come from a core network side.

Similar to the foregoing embodiment in step S the policy of sending a service packet to the application server by the access network device includes but not limited to sending all service packets received by the access network device to the application server or identifying with identity information whether a service packet can be sent to the application server sending to the application server a service packet that can be sent to the application server and sending to a core network a service packet that cannot be sent to the application server. The setting of the identity information is similar to the foregoing embodiment which is not detailed herein again.

Corresponding to the foregoing application server an embodiment of the present disclosure further provides another communication method. As shown in the method includes the following steps 

S An application server receives a service packet sent by an access network device where the application server is arranged at an access network side and is independent from the access network device or in the access network device and the application server supports operation of at least one service and

It can be seen that the application server that supports operation of a service is arranged at the access network side and receives and processes a service packet from the access network device. In this way a response to a service packet of a UE side can be implemented at the access network side which significantly improves the response time of a user request decreases service delay and improves the QoS of a service thereby improving user experience.

The procedure of processing the corresponding service packet in step S varies with a service packet received by the application server. The procedure includes but not limited to the procedure shown in and .

In addition if a parsed service packet includes update data of a service supported by a processing unit the update data is stored to a storage unit.

Before the access network device sends a service packet to the application server and the application server receives the service packet from the access network device a user plane channel needs to be established between the access network device and the application server. The manner of establishing the user plane channel is similar to what described above which is not detailed herein again.

Corresponding to the foregoing communication system an embodiment of the present disclosure further provides a communication method. As shown in the method includes the following steps 

S The access network device sends the received service packet to an application server according to a policy.

Before step S a user plane channel needs to be established between the access network device and the application server.

As described above the user plane channel may be preset so that after the access network device and the application server are powered on the user plane channel can bear user plane information. Alternatively according to an interface protocol between the access network device and the application server the user plane channel is established after the access network device and the application server are powered on or the access network device receives a service packet that needs to be forwarded to the application server.

In addition the number of user plane channels established may be one or more. For example if the transmission of uplink and downlink service data is taken into consideration a user plane channel may be established in each of the uplink and the downlink or only one user plane channel is established and a direction identity field is added in the service packet. For another example considering data of third party applications running on the application server a user plane channel may be established for each third party application or only one user plane channel shared by all third party applications may be established and at this time the received service packet needs to be identified and distributed at a receiving end or an identity field identifying a destination needs to be added in the service packet.

If the service packet comes from a UE the service packet usually includes a service request of the UE and if the application server has a service resource requested by the UE the application server sends the service resource to the access network device S . If the application server does not have the service resource requested by the UE the application server returns the service packet to the access network device so that the access network device sends the service packet out through a conventional channel S or the application server sends the service packet to a core network directly and at this time a direct channel from the application server to the core network is required S or the application server sends instruction signaling to the access network device S where the instruction signaling is used to instruct the access network device to send the service packet to a core network. Because the access network device has received the service packet in step S the access network device only needs to cache the service packet and sends according to the instruction information the service packet out through a conventional channel so that a service is provided to the UE in a conventional manner when the application server cannot provide the service.

When receiving the service resource requested by the UE the access network device sends the service resource to the UE S . When receiving the returned service packet or the instruction signaling the access network device continues to send the service packet to a core network S .

It should be noted that if the application server supports a service requested by the UE but does not have the service resource requested by the UE because a service request may continue to be sent through the core network to an external network then the requested service resource may be obtained through the external network. When the requested service resource is sent through the core network to the access network device and the access network device forwards the service resource to the application server the application server stores the service resource in step S to update the service resource in the application server. Of course the service resource for the updating may also be sent by the external network to the application server through the core network and the access network device regularly or in real time.

It can be seen that when receiving the service request of the UE the access network device sends the service request to the application server if the application server has the service resource requested by the UE the application server can provide a service for the UE directly which significantly shortens a path of service interaction and reduces the number of network elements involved in the service interaction. Therefore service delay is decreased the QoS of a service is improved and user experience is improved. Even though the application server does not support the service requested by the UE or does not have the service resource the application server may also continue to send through the core network the service request to a remote server so as to avoid the influence on use of the service of a user. From the perspective of the whole system each access network device usually allows access of multiple UEs and each UE usually has multiple service requirements. Therefore there is certainly a service that can be supported by the application server thereby decreasing service delay and improving the QoS of a service on the whole. Especially for a same service request of multiple UEs backhaul Backhaul resources can also be saved with the foregoing method. For example when the application server supports Web related Cache acceleration and many users have access or downloading needs for hot videos micro blogs and the like the application server provides this kind of services directly at this time which significantly saves backhaul resources solves the problem that a part of users cannot perform access due to insufficiency resources and decreases downloading and access delay thereby significantly improving user experience.

For another example in step S the access network device receives an M2M handshake request of the UE and a destination UE requested by the UE also accesses the access network device. In a conventional process the service request needs to pass through the core network and is fed by the access network device back to the destination UE. By using the method provided in this embodiment as long as the application server supports an M2M handshake service the service request does not need to pass through the core network thereby decreasing service delay and saving backhaul resources.

Features and advantages of the communication method the access network device the application server and the communication system provided in the embodiments are described with a long term evolution Long Term Evolution LTE communication system as an example. Other communication systems such as a universal mobile telecommunications system Universal Mobile Telecommunications System UMTS and a global system for mobile communications Global System for Mobile Communications GSM are similar to it and details are not described again in the following embodiments.

It should be noted that as for a HNB HeNB scenario because the coverage of a site is too small the application server may be deployed in a HNB HeNB gateway GW to lower a cost as for UMTS and GSM the application server may be deployed in or near the RNC BSC the HNB HeNB GW or the RNC BSC needs to bypass a received service packet to the application server for processing where the bypassed packets varies with different standards interface modes. As for the UMTS the bypassed packets are packets from an air interface direction and from an Iu PS interface direction and for the GSM the bypassed packets are packets from an air interface direction and from an A Iu PS interface direction. is a schematic diagram of a user plane data stream of the communication system shown in . The solid line circle around represents a user plane data stream that can be terminated by the application server that is if the user plane data stream can be terminated a third party application can directly generate a downlink packet and use an established GTP U. The dotted line circle around represents a user plane data stream that cannot be terminated by the application server. In the embodiment of the present disclosure the user plane data stream represented by the solid line circle around may be selected preferably according to a third party application supported by the application server. Compared with a conventional case that only the user plane data stream represented by the dotted line circle around exists service delay is decreased and the QoS of a service is improved thereby improving user experience.

Further referring to to facilitate packet transmission between the eNB and the application server a user plane channel is established in each of an uplink direction and a downlink direction in this embodiment to bear a service packet in an air interface direction and a service packet in an S direction respectively. For the clarity of description eNBs are shown separately in but in fact the two eNBs in is an entity physically. In addition a channel in the air interface direction and a channel in the S direction may be the same or different and a user plane channel is different from an S channel and a service packet needs to be transferred by the eNB.

An application and wireless network interface protocol is similar to what described above and a list of control information in the control plane protocols of the application and wireless network interface protocol is provided below as shown in Table. 1 and Table. 2 the process in Table. 1 is a process in which a response is required and the process in Table. 2 is a process in which a response is not required .

It should be noted that the UMTS and the GSM may reuse the message type in the tables but its name and meaning need to be modified. For example eNB related words need to be modified into specific network element names for example the RNC in the UMTS and other meaning remains the same but specific cells are different.

The detailed process of establishing a user plane channel is described in the following according to the foregoing control information and with reference to . As shown in 

After an eNB and an application server are powered on a control plane link is established between the eNB and the application server. Specifically the eNB initiates a process of establishing an SCTP link and after the SCTP link is successfully established a process of establishing an open application programming interface Open API Interface is initiated after the open API interface is successfully established the establishment of the control plane link is completed.

A user plane channel is established between the eNB and the application server. When a dedicated bearer with a UE is established if the eNB receives a service bearer establishment request sent by an MME the eNB triggers a process of establishing a service bearer to the application server so as to complete the process of establishing the user plane channel. Two user plane channels or one user plane channel may be established for the air interface direction and the S direction. If only one user plane channel is established it is required to identify the channel or the service packet is from an air interface direction or from an S direction. Regardless of whether the process succeeds or not an S tunnel namely a tunnel between an eNB and a core network is established. However if the user plane channel is not successfully established the eNB cannot forward the service packet to the application server. In addition regardless of whether the process of establishing a service bearer succeeds or not a service bearer establishment response needs to be sent to the MME to notify whether the user plane channel is established or not. The service bearer session management and radio resource distribution are well known to persons skilled in the art and not described in detail herein again.

If the eNB receives a bearer update request sent from the MME the eNB determines whether the bearer information of the application server needs to be updated and if yes the eNB initiates bearer update otherwise the eNB does not initiate the bearer update. The process is not shown in .

If the eNB triggers bearer release by itself or after receiving a message from the MME the eNB needs to instruct the application server to release the service bearer. Then a service bearer release response is sent to the MME to notify the situation of service bearer release to the MME.

In addition if the application server intends to subscribe to status information of the eNB the application server may initiate a process of subscribing to the status information if the subscription succeeds the eNB needs to report in a period manner or in an event manner the status information subscribed.

To sum up in the embodiments of the present disclosure an application server that supports operation of third party applications is introduced at an access network side so that a UE can directly perform service interaction with the access network side which significantly improves the response time of a user request decreases service delay improves the QoS of a service thereby improving user experience. Feasible networking solutions for adding an application server at the access network side include but not limited to a network networking structure of a single site or a networking structure in a cloud Cloud network scenario. Detailed descriptions are provided in the following 

Networking solution of a single site An application server independent from an access network device is added directly at the access network side. Alternatively the application server serves as a component unit of the access network device for example the application server is directly embedded in a baseband unit BaseBand Unit BBU in a manner similar to a baseband board. At this time an application server unit should comply with a board design standard and is embedded in the BBU and provides a link channel through a backboard.

Networking solution based on a Cloud network scenario The application server serving as a standard unit of a Cloud BB is embedded in a cabinet of the cloud base station Cloud BB and provides a third party application service.

Currently in the prior art to shorten a distance from a remote server and a UE to further decrease service delay a solution of moving a gateway down is put forward for example the gateway is moved down to an S GW or an access network side or the like. The solution can solve problems of long service time and low QoS of a service but cannot achieve the balance among mobility lawful interception charging bandwidth saving and other aspects. Especially for the processing of mobility once the UE moves and performs access from other access network devices a third party service behind the gateway cannot sense the change so service continuity cannot be ensured.

In the embodiment of the present disclosure in combination with a specific third party application the problems in the mobility lawful interception charging bandwidth saving and other aspects can be solved. An example is given in the following 

In the architecture provided in an embodiment of the present disclosure an eNB and an application server can implement establishment and maintenance of a user channel when a UE moves thereby ensuring service continuity in coordination with a third party service. The situation is described with an example 

For example for Web related services local Caches of this type of services are deployed on the application server remote Caches of this type of services and a service continuity control functional entity are deployed behind an SGi of a core network and a service termination functional entity is deployed between the P GW and the S GW content of the local Caches on the application server may have or may not have corresponding copies on the remote Caches but indexes of all the local Caches are stored in a remote service continuity control functional entity that is a remote Cache functional entity can obtain through calculation whether the local Caches are hit.

When receiving an HTTP request the application server forwards the HTTP signaling to a core network through a S U tunnel regardless of whether the local Caches are hit the remote service continuity control functional entity forwards the request to a remote server after receiving the request the remote server sends data to the UE the service continuity control functional entity makes a decision when the data passes through the entity if the Caches are not hit the data is cached and a Cache Index Index is generated regardless of whether the Caches are hit the content continues to be forwarded to the UE and at the same time whether the content is hit by the Caches on the application server is indicated by private associated information defined by a TCP extension header. After the content reaches the service termination functional entity through the P GW the associated information is checked by the entity if it indicates that the content is hit by the application server the content is discarded otherwise the content continues to be forwarded to the UE. If the content continues to be forwarded to the application server through the S GW and the eNB the content that is not hit previously by a local Cache is cached and a Cache Index is generated if the content is hit by a cache the original content is replaced fault tolerance processing .

When forwarding the HTTP request a local application server may add a private extension header in a GTP U packet that bears an application packet to indicate a local application identity and if the content is hit the GTP U packet needs to carry a Cache Index when passing through the service termination functional entity the Cache Index may change to be borne by a private TCP extension header when passing through the service continuity control functional entity the service continuity control functional entity records the application server corresponding to the request and information in the TCP extension header such as the Cache Index. When the UE moves from one eNB to another eNB if the application server is changed the remote service continuity control functional entity learns that the application server is changed and learns whether content in a new application server is cached in the local application server because all request information of the UE pass through the application server and the local application identity and the Cache Index are carried by the extension header of the GTP U In this way a service can be transmitted continuously. When the UE moves from a region where an application server is available to a region where an application server is unavailable or moves from a region where an application server is unavailable to a region where an application server is available because the control information of the UE is not terminated locally the function of the remote service continuity control can sense the change and learn whether to forward the content. As a result service continuity can also be ensured.

1. An application server gateway is deployed in a core network and implements coordination with a charging gateway and a lawful interception gateway. For charging a call details record is generated by an application server and reported to the application server gateway and the application server gateway summarizes and reports the call details record to the charging gateway. For lawful interception after the lawful interception is started a packet is copied by the application server and reported to the application server gateway and the application server gateway summarizes and reports the packet to the lawful interception gateway.

2. For a specific service such as the service described in the mobility processing because control information of an application layer is constantly sent to the application server and all packets of the application server pass through the P GW the original standard solution of the 3GPP can be used for charging and lawful interception. The charging and the lawful interception are implemented by the P GW so little impact is caused on an existing network element.

Persons of ordinary skill in the art can understand that all or part of the steps of implementing the foregoing method can be implemented by a program instructing relevant hardware. The program may be stored in a computer readable medium. The readable medium may be a ROM RAM a magnetic disk an optical disk or the like.

For example an embodiment of the present disclosure provides a computer program product including a computer readable medium. The readable medium includes a group of program codes used to perform any communication method described in the foregoing embodiments.

Persons skilled in the art should understand that the accompanying drawings show only exemplary embodiments of the present disclosure and the units and processes shown in the drawings are not necessarily mandatory in the present disclosure.

Persons skilled in the art should understand that the units in the apparatus provided in the embodiment may be distributed in the apparatus according to the description of the embodiment or may be arranged in one or more apparatuses which are different from those described in the embodiments. The units in the foregoing embodiment may be combined into one module or split into multiple subunits.

Finally it should be noted that the above embodiments of the present disclosure are merely intended for describing the solutions of the present disclosure other than limiting the present disclosure. Although the present disclosure is described in detail with reference to the foregoing embodiments persons of ordinary skill in the art should understand that they can still make modifications to the solution described in the foregoing embodiments or make equivalent substitutions to some features thereof and such modifications or substitutions cannot make the essence of the corresponding solution depart from the idea and scope of the solution of the embodiments of the present disclosure.

