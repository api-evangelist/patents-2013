---

title: Methods and apparatus to enhance queries in an affinity domain
abstract: Methods and apparatus to enhance queries in an affinity domain are disclosed herein. An example method of providing a query service in an affinity domain includes receiving a query including one or more template identifiers that indicate conformance with a standard related to content of a document; generating an expression including the one or more template identifiers to define a search of a registry; performing the search of the registry according to the expression, wherein the search is configured to identify documents including the one or more template identifiers; and conveying the identified documents to an entity associated with the query.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09015191&OS=09015191&RS=09015191
owner: General Electric Company
number: 09015191
owner_city: Schenectady
owner_country: US
publication_date: 20130830
---
This patent arises from a continuation of U.S. patent application Ser. No. 12 788 038 filed on May 26 2010 now U.S. Pat. No. 8 549 030 which is hereby incorporated herein by reference in its entirety.

The present disclosure relates generally to healthcare information systems and more particularly to methods and apparatus to enhance queries in an affinity domain.

Healthcare environments such as hospitals and clinics typically include information systems e.g. electronic medical record EMR systems lab information systems outpatient and inpatient systems hospital information systems HIS radiology information systems RIS storage systems picture archiving and communication systems PACS etc. to manage information such as for example patient medical histories imaging data test results diagnosis information management information financial information and or scheduling information.

Healthcare practitioners patients researchers etc. may desire access to patient information or other information at various points in a healthcare workflow. For example during and or after surgery medical personnel may access patient information such as images of an anatomy of a patient stored in a medical information system. In another example researchers may desire groups of medical records of one or more particular types for analysis and study.

An example method of providing a query service in an affinity domain includes receiving a query including one or more template identifiers that indicate conformance with a standard related to content of a document. Further the example method includes generating an expression including the one or more template identifiers to define a search of a registry. Further the example method includes performing the search of the registry according to the expression wherein the search is configured to identify documents including the one or more template identifiers. Further the example method includes conveying the identified documents to an entity associated with the query.

An example tangible machine readable medium has instructions stored thereon that when executed cause a machine to receive a query including one or more template identifiers that indicate conformance with a standard related to content of a document. Further the example tangible machine readable medium has instructions stored thereon that when executed cause a machine to generate an expression including the one or more template identifiers to define a search of a registry. Further the example tangible machine readable medium has instructions stored thereon that when executed cause a machine to perform the search of the registry according to the expression wherein the search is configured to identify documents including the one or more template identifiers. Further the example tangible machine readable medium has instructions stored thereon that when executed cause a machine to convey the identified documents to an entity associated with the query.

An example apparatus to provide a query service in an affinity domain includes a communication interface to receive a query including one or more template identifiers that indicate conformance with a standard related to content of a document. Further the example apparatus includes a first one of a plurality of query modules the first query module being associated with the standard associated with the one or more template identifiers. The example first query module includes a parameter mechanism to generate an expression including the one or more template identifiers to define a search of a registry. Further the example first query module includes a content matcher to perform the search of the registry according to the expression wherein the search is configured to identify documents including the one or more template identifiers. Further the communication interface of the example apparatus is to convey the identified documents to an entity associated with the query.

The foregoing summary as well as the following detailed description of certain implementations of the methods apparatus systems and or articles of manufacture described herein will be better understood when read in conjunction with the appended drawings. It should be understood however that the methods apparatus systems and or articles of manufacture described herein are not limited to the arrangements and instrumentality shown in the attached drawings.

Although the following discloses example methods apparatus systems and articles of manufacture including among other components firmware and or software executed on hardware it should be noted that such methods apparatus systems and or articles of manufacture are merely illustrative and should not be considered as limiting. For example it is contemplated that any or all of these firmware hardware and or software components could be embodied exclusively in hardware exclusively in software exclusively in firmware or in any combination of hardware software and or firmware. Accordingly while the following describes example methods apparatus systems and or articles of manufacture the examples provided are not the only way s to implement such methods apparatus systems and or articles of manufacture.

A variety of clinical data and healthcare information is available throughout various clinical medical and other types of data systems. Healthcare practitioners e.g. physicians surgeons technicians nurses administrative support staff etc. spend a significant amount of time analyzing various types of healthcare information including for example radiology images ultrasound images magnetic resonance imaging MRI scans etc. The purpose of an analysis may range from diagnosing a condition assessing a recovery process identifying abnormalities and or otherwise caring for a patient. Researchers and or other types of users may also access healthcare information systems for purposes of gathering clinical and or other types of data for research statistical analysis and or other purposes.

To enable practitioners patients researchers etc. which are sometimes referred to herein as document consumers gathering and or accessing data medical data systems typically present document consumers with one or more query options. Document consumers typically enter information into and or make selections from a user interface which facilitates communication between the document consumers and for example a database storing information e.g. medical images test results financial data or records etc. . In response to such queries a healthcare data system performs one or more searches of the records stored therein and presents search results to the querying document consumer.

The example methods apparatus systems and or articles of manufactures described herein improve the ability of a document consumer to query sources of healthcare data. The example methods apparatus systems and or articles of manufacture described herein provide one or more filtering mechanisms that enable a querying document consumer to more efficiently and accurately identify and or retrieve desired information e.g. one or more healthcare documents . In particular the example methods apparatus systems and or articles of manufacture enhance query results by filtering semantically structured sections in structured and semi structured documents. Further the example methods apparatus systems and or articles of manufacture described herein improve performance levels of one or more components of a healthcare information system that facilitate for example a query interface a search of content source s presentation of search results and other components involved in a query service. Further the example methods apparatus systems and or articles of manufacture described herein reduce computational and bandwidth overhead for devices being used by a document consumer as the example filtering mechanisms described herein provide more accurate search results. Additional examples aspects and advantages of the example methods apparatus systems and or articles of manufacture are described in greater detail below in connection with an example healthcare data system.

As described in greater detail below the example methods apparatus systems and or articles of manufacture described herein enable document consumers to query a healthcare data system using one or more filtering mechanisms configured to identify documents containing specified template information. In some examples the document consumer specifies one or more template identifiers to be used by the filtering mechanism s to limit or filter search results according to the specified template identifier s . Additionally or alternatively in some examples the document consumer specifies one or more lists of template identifiers to be used by the filtering mechanism s to limit or filter search results according to the specified list s of template identifiers.

A template identifier used by the example filtering mechanism s described herein is associated with a document e.g. a healthcare record and defined using any suitable code e.g. in a descriptor field or header . The template identifier associated with a document is an indication of the document s conformance with a certain standardized format and or a set of standardized rules. In other words the template identifier associated with a document includes information regarding whether or not the content of the document conforms to a certain standard and if so to which aspect or portion of the standard the document conforms.

For example the Health Level 7 HL7 Clinical Document Architecture CDA includes a plurality of template identifiers corresponding to the plurality of document formats conforming to CDA rules and constraints. For example a first template identifier can indicate that the corresponding document conforms to the HL7 Continuity of Care standard for clinical documents. Knowing that the document conforms to such a standard as indicated by the template identifier informs the document consumer and or a device or system receiving the template identifier that the document contains certain content and or types of content. To continue the above example when the template identifier indicates that the document conforms to the HL7 Continuity of Care standard the document consumer and or a device receiving the template identifier knows that the document includes certain sections regarding patient problems medications allergies immunizations laboratory results etc.

A second example CDA template identifier indicates that a CDA header associated with the document conforms to certain rules regarding the inclusion of contact information for people and or organizations referenced in the document. A third example CDA template identifier indicates that the document is a medical summary that conforms to certain rules regarding medical summaries such as for example the inclusion of a list of problems medications and allergies for a patient associated with the document. The example methods apparatus systems and or articles of manufacture described herein can utilize additional or alternative template identifiers associated with additional or alternative standards as the above examples are provided for purposes of illustration and not limitation.

The example methods apparatus systems and or articles of manufacture described herein may be utilized in for example an affinity domain including a plurality of healthcare data systems and or data sources associated with domain members. An affinity domain may refer to a group of member enterprises that have agreed to facilitate a sharing of data among members. For example the example filtering mechanisms described herein may be utilized in the Integrated the Healthcare Enterprise IHE Cross Enterprise Document Sharing XDS Integration Profile. In particular the example filtering mechanisms described herein can be implemented in association with a document registry of an XDS affinity domain. As described in greater detail below the document registry which enables querying of document repositories can use the example filtering mechanisms described herein to enhance a document consumer s ability to efficiently query the data sources of the affinity domain in which the registry is implemented. The example methods apparatus systems and or articles of manufacture described herein can be implemented in additional or alternative healthcare data systems as the XDS system described below is provided for purposes of illustration and not limitation.

The example healthcare data system of implements an IHE XDS integration profile to facilitate the sharing e.g. registration distribution access etc. of healthcare data among the healthcare enterprises referred to as an Affinity Domain in IHE XDS terminology via a common registry . The XDS profile includes a common set of standards or policies for the healthcare enterprises which agree to share medical data using a common infrastructure. While the example healthcare data system of is shown as implemented by a XDS integration profile any additional or alternative medical data sharing system e.g. any health information exchanges HIEs and or regional health information organizations RHIOs designed to enable a plurality of healthcare enterprises to exchange healthcare information can be used to implement the example methods apparatus systems and or articles of manufacture described herein. Moreover the example methods apparatus systems and or articles of manufacture described herein may be implemented on a healthcare data system without information sharing capabilities such as a standalone physician office or clinic.

The example hospital includes a healthcare information system one or more workstations and a repository . The healthcare information system includes one or more of a hospital information system HIS an electronic medical record system EMR a radiology information system RIS a lab information system a picture archiving and communication system PACS and an inpatient outpatient system . In the illustrated example the hospital information system the electronic medical record system the radiology information system the lab information system the PACS and the inpatient outpatient system are housed in the hospital and locally archived. However in other implementations one or more elements of the example healthcare information system may be housed one or more other suitable locations. Furthermore one or more components of the medical information system may be combined and or implemented together. For example the radiology information system and or the PACS may be integrated with the hospital information system the PACS may be integrated with the radiology information system and or the six example information systems and or may be integrated together. Preferably information e.g. test results observations diagnosis discharges admissions findings reports etc. is entered into the elements of the example healthcare information by healthcare practitioners e.g. radiologists physicians technicians administrators etc. before after and or during a patient examination and or testing session. In some examples the equipment e.g. an MRI machine of these systems e.g. the PACS stores the information e.g. an MRI scanned image automatically upon acquiring the information.

The hospital information system stores healthcare information such as clinical reports patient information practitioner information and or financial data received from for example personnel at a hospital clinic and or a physician s office. The EMR system stores information related to patients and or practitioners medical histories current treatment records etc. The radiology information system stores information such as for example radiology reports x ray images messages warnings alerts patient scheduling information patient demographic data patient tracking information and or physician and patient status monitors. Additionally the radiology information system enables exam order entry e.g. ordering an x ray of a patient and image and film tracking e.g. tracking identities of one or more people that have checked out a film .

The lab information system stores clinical information such as lab results test scheduling information corresponding practitioner s and or other information related to the operation s of one or more labs at the corresponding healthcare facility. The PACS stores medical images e.g. x rays scans three dimensional renderings etc. as for example digital images in a database or registry. Images are stored in the PACS by healthcare practitioners e.g. imaging technicians physicians radiologists after a medical imaging of a patient and or are automatically transmitted from medical imaging devices to the PACS for storage. In some examples the PACS may also include a display device and or viewing workstation to enable a healthcare practitioner to communicate with the PACS . The inpatient outpatient system stores information related to the admission and discharge of patients such as follow up schedules patient instructions provided by a practitioner prescription information presenting symptoms contact information etc.

While example types of information are described above as being stored in certain elements of the healthcare information system different types of healthcare data may be stored in one or more of the hospital information system the EMR system the radiology information system the lab information system the PACS and or the inpatient outpatient system . Further the information stored in these elements may overlap and or share types of data.

The hospital information system the EMR system the radiology information system the lab information system the PACS and or the inpatient outpatient system may be in communication via for example a Wide Area Network WAN such as a private network or the Internet. More generally any of the coupling s described herein such as the coupling s between the registry and any of the enterprises may be via a network. In such instances the network may be implemented by for example the Internet an intranet a virtual private network a wired or wireless Local Area Network and or a wired or wireless Wide Area Network. In some examples the healthcare information system also includes a broker e.g. a Mitra Imaging s PACS Broker to allow medical information and medical images to be transmitted together and stored together.

In some examples information stored in one or more components of the medical information system is formatted according to the HL7 clinical communication protocol the Digital Imaging and Communications in Medicine DICOM protocol and or any other suitable standard and or protocol. The equipment used to obtain generate and or store the information of the medical information system may operate in accordance with the HL7 clinical communication protocol the DICOM protocol and or any other suitable standard and or protocol.

The repository which is shown as an XDS repository in the example of facilitates the sharing of healthcare documents generated by the medical information system with other enterprises e.g. enterprises . In particular the repository receives images medical reports administrative information financial data insurance information and or other healthcare information from the healthcare information system and stores such information in for example a database or any suitable data structure. Thus to use XDS terminology the medical information is a document source that provides the repository clinical data to be shared among the enterprises . As shown in the example of each of the enterprises includes an XDS repository that functions in a similar manner as the repository of the hospital . Thus the XDS repositories collectively store healthcare documents and the content thereof that are capable of being shared across the affinity domain of the example healthcare data system of .

Further the repository receives metadata associated with the images medical reports administrative information financial data insurance information and or other healthcare information from the medical information system and forwards the metadata to the registry which stores the metadata in a database and or any other suitable storage mechanism. The metadata is used by the registry to index the healthcare information stored at the repository along with the information stored at the repositories of the other enterprises . The metadata corresponds to one of more types of identifying information e.g. identification numbers patient names record numbers social security numbers payment status indicators or any other identifying associated with for example medical reports stored at the repositories . The registry is capable of receiving queries into the contents of the repositories of the healthcare data system and using the indexed metadata to satisfy the queries.

In the illustrated example the registry receives such queries from a document consumer . The document consumer may be associated with one or more of the enterprises and or may have access to the registry via alternative s associations. For example the document consumers may be a researcher that was granted access to the contents of the repositories of the affinity domain defined by the example healthcare data system . In the example of the document consumer uses a first one of the workstation s to query the registry . The workstation s may access the registry via the repository or directly as illustrated in .

The workstation s may be any equipment e.g. a personal computer capable of executing software that permits electronic data e.g. medical reports and or electronic medical images e.g. x rays ultrasounds MRI scans clinical reports test results etc. to be acquired stored or transmitted for viewing and operation. The workstation s receive commands and or other input from a user e.g. a physician surgeon nurse or any other healthcare practitioner via for example a keyboard mouse track ball microphone etc. The workstation s include and or are coupled to one or more presentation devices e.g. a standard computer monitor speakers touch screen devices specialized monitors to view specific images such as x rays magnetic resonance imaging MRI scans etc. capable of presenting images video audio text etc. to one or more practitioners such as the document consumer .

Multiple workstations can communicate with each other the healthcare information system and or the XDS repository and registry to obtain shared medical information and convey the same to the user of the workstation s . Further the workstation s are capable of implementing a user interface to enable a healthcare practitioner to interact with the healthcare data system and or the registry and the components thereof. In the illustrated example the user interface enables a search of one or more components or elements of the healthcare data system and or one or more external databases containing relevant healthcare information. The document consumer can use such an interface to query medical resources using different criteria such as for example a patient name a patient identification number a social security number date s of treatment s type s of treatment etc.

Using the example methods apparatus systems and or articles of manufacture disclosed herein the document consumer can also query medical resources e.g. the repositories using criteria related to one or more template identifiers. The document consumer can specify via the user interface implemented by the workstation one or more template identifiers to be used as search criteria by the registry . The user interface may provide a list of available template identifiers from which the document consumer may make one or more selections a text entry box to receive one or more template identifiers as text and or any other suitable options for the document consumer to specify which template identifier s are to be included in the search criteria.

As described above template identifiers indicate to the document consumer and or a device receiving the template identifiers what type of content is included in the corresponding healthcare document. Thus the examples described herein expand the catalog of metadata that the registry exposes to the document consumer to include template identifiers of one or more standards. In the illustrated example of the template identifiers used as metadata by the registry are CDA identifiers. However additional or alternative standards that include template identifiers may be used by a query mechanism implementing the examples described herein.

To provide the enhanced querying described herein the registry of the example healthcare data system of includes a query manager . The example query manager can be implemented in additional or alternative elements and or locations in the example healthcare data system of and or any other type of medical data system. For example the query manager may be implemented in one or more of the XDS repositories the workstation s and or one or more elements of the medical information system e.g. the hospital information system the electronic medical record system the radiology information system the lab information system the PACS and or the inpatient outpatient system . As described in greater below in connection with the example query manager of provides for example the document consumer with enhanced query abilities by utilizing one or more filtering mechanisms. Generally the example filtering mechanisms described herein ensure that the document consumer receives search results that include documents having desired content and or types of desired content. The example query manager provides additional or alternative features benefits and or improvements as described below.

To handle such a query the example query manager includes a plurality of template identifier query modules each of which corresponds to a certain standard. That is the example query manager is capable of receiving and using different types of template identifiers corresponding to different standards and or standardization sets of rules. For purposes of illustration and not limitation illustrates a first one of the template identifier query modules that corresponds to the CDA standard. However the example query manager described herein can utilize template identifiers of any of a plurality of standards using the other template identifier query modules 

The example CDA template identifier query module includes a plurality of template identifier parameter mechanisms and a plurality of content matchers . In general a selected one of the parameter mechanisms defines a search to be performed by a selected one of the content matchers that generates search results . To define the search the selected one of the parameter mechanisms generates a logical expression or statement including the template identifier s received with the query request. The logical expression or statement reflects a search interaction or type of search between the received template identifier s that was indicated by for example the document consumer using a user interface of the workstation s e.g. by selecting one or more corresponding options from a drop down list by selecting one or more checkmark boxes etc. .

In the illustrated example of a single parameter mechanism generates a logical expression that causes the selected one of the content matchers to search for documents including the single received template identifier. That is the received template identifier is the sole template identifier parameter used in the search performed by the selected content matcher . As a result the search results associated with the received query will include document s known to the registry having metadata indicating that the identified document s include one or more instances of the received template identifier and thus include content defined by the received template identifier e.g. an active medication list a list of current allergies etc. .

In the illustrated example of a list parameter mechanism generates a logical expression that causes the selected one of the content matchers to search for documents including any e.g. using a logical OR operator or each e.g. using a logical AND operator of a plurality of template identifiers included in a received list. Whether to define the search interaction as an OR operation or an AND operation may be indicated in a selection associated with the received list of template identifiers. As a result when the list parameter mechanism is to define the search interaction as an OR operation the search results associated with the received list of template identifiers will include document s known to the registry having metadata indicating that the identified document s includes one or more instances of any of the template identifiers of the list. Further when the list parameter mechanism is to define the search interaction as an AND operation the search results associated with the received list of template identifiers will include document s known to the registry having metadata indicating that the identified document s includes one or more instances of each of the template identifiers of the list.

In the illustrated example the multi list parameter mechanism generates a logical expression that causes the selected one of the content matchers to search for documents including any of a first list of template identifiers and any of a second list of template identifiers. Thus the logical expression generated by the multi list parameter mechanism includes a first portion involving an OR operator applied to the first list of template identifiers a second portion involving an OR operator applied to the second list of template identifiers and a third portion involving an AND operation applied to the results of the first and second portions.

Moreover the example multi list parameter mechanism is capable of generating a logical expression or statement for more than two lists of template identifiers. For example when first second and third lists of template identifiers are received by the communication interface with an instruction to use the multi list parameter mechanism the logical expression generated by the multi list parameter mechanism includes a first portion involving an OR operator applied to the first list of template identifiers a second portion involving an OR operator applied to the second list of template identifiers a third portion involving an OR operator applied to the third list and a fourth portion involving an AND operation applied to the results of the first second and third portions. As a result the search results associated with the received lists of template identifiers will include document s known to the registry having metadata indicating that the identified document s includes any of the template identifiers specified in each of the received lists of template identifiers.

Additional or alternative parameter mechanisms to define additional or alternative search interactions between received template identifier s or lists of template identifiers can be implemented by the example CDA template identifier query module and or more generally the example query manager of and or .

A selected one of the content matchers uses the logical expression or statement generated by the selected one of the parameter mechanisms to perform a search of for example the metadata stored in the registry . As described above the registry stores metadata corresponding to the data stored in the repositories of the example healthcare data system of . In the illustrated example the metadata of the registry includes information regarding which template identifiers are associated with each of the documents stored in the repositories . The example content matchers use such metadata and the logical expression received from the parameter mechanisms which includes the template identifier s received at the communication interface to identify matching documents.

The example content matchers of include a template indexing mechanism . In general the example template indexing mechanism creates an index of CDA documents and searches for matches between the template identifier s of the received logical expression and the data of the index. Of course the example template indexing mechanism also adheres to the logical interaction s between the template identifiers as defined in the logical expression or statement generated by the parameter mechanisms as described above.

To generate the index of template identifier information the example template indexing mechanism includes a template indexer which may store the index described herein. As described above the example repositories of convey metadata associated with received healthcare documents to the registry . In the illustrated example of when the communication interface receives metadata and or other type s of identifying data indicating the corresponding healthcare document is a registered CDA document the metadata and or other identifying data is conveyed to the template indexer e.g. in addition to conveying the metadata to one or more additional or alternative components of the example query manager . The example template indexer determines whether the CDA document includes any template identifiers and if so adds the metadata corresponding to the CDA document and indication s of the included template identifier s to the index. In other words the example template indexer indexes CDA documents received at the registry with respect to the template identifier s found within or associated with the received CDA document. The example template indexer is described in greater detail below in connection with .

In response to receiving a query e.g. one or more template identifiers and a corresponding logical statement defined the specified search interaction therebetween generated by the selected one of the parameter mechanisms the example template indexing mechanism uses the index generated and maintained by the template indexer to search the registry for metadata matching the received template identifiers and or metadata associated with the received template identifiers. The example template indexer can use any suitable search algorithm to parse through the indexed metadata and to identify any template identifier metadata matching the template identifiers received in the query according to the logical statement or expression generated by the selected one of the parameter mechanisms . When such matching metadata is identified the example template indexing mechanism of assigns the matching metadata as the search results . In the illustrated example the search results are accessible by the communication interface which conveys the search results to for example a component of the registry capable of retrieving the corresponding document from one or more of the repositories . The registry may convey the retrieved document s to the workstation s being used by the querying document consumer and or any suitable device e.g. a device designated to receive the results in the query request and or in one or more secondary instructions designating a destination device using any suitable method e.g. electronic mail facsimile mail display information to be presented on the workstation s etc. . The search results can include a list of matching documents including links to matching documents and or copies of the matching documents.

In addition to the example template indexing mechanism the example content matchers of include a repository delegation mechanism . The example repository delegation mechanism of works in conjunction with one or more application programming interfaces APIs implemented at the one or more repositories . That is in the illustrated example the repositories include components or programs that in addition to supporting standard XDS transactions also provide one or more APIs to enable searches using for example CDA template identifiers.

When the repository delegation mechanism receives a query including one or more template identifiers the example repository delegation mechanism parses through the metadata of the registry to identify any matching metadata related to the received template identifier s . When matching metadata is identified in the search the example repository delegations mechanism calls one or more of the APIs implemented in one of the repositories . This function call can be via the communication interface using the search results as parameters in the function call. The APIs implemented in the repositories are capable of filtering the search results for example in a manner similar to the parameter mechanisms of the query manager . Therefore the filtering aspects of the query are satisfied by the APIs of the repositories 

In addition to the template identifier query modules described herein the example query manager includes other query module s to handle additional aspects of a query e.g. a keyword a specified date a patient name etc. . In some examples the additional aspects of the query are conveyed to the content matchers which may include components to handle searching of the registry using the additional aspects.

While an example manner of implementing the query manager of has been illustrated in one or more of the elements processes and or devices illustrated in may be combined divided re arranged omitted eliminated and or implemented in any other way. Further the example communication interface the example query modules the example template identifier parameter mechanisms including the example single parameter mechanism the example list parameter mechanism and the multi list parameter mechanism and the example content matchers including the template indexing mechanism and the repository delegation mechanism and or more generally the example query manager of may be implemented by hardware software firmware and or any combination of hardware software and or firmware. Thus for example any of the example communication interface the example query modules the example template identifier parameter mechanisms including the example single parameter mechanism the example list parameter mechanism and the multi list parameter mechanism and the example content matchers including the template indexing mechanism and the repository delegation mechanism and or more generally the example query manager of can be implemented by one or more circuit s programmable processor s application specific integrated circuit s ASIC s programmable logic device s PLD s and or field programmable logic device s FPLD s etc. When any of the appended claims are read to cover a purely software and or firmware implementation at least one of the example communication interface the example query modules the example template identifier parameter mechanisms including the example single parameter mechanism the example list parameter mechanism and the multi list parameter mechanism and the example content matchers including the template indexing mechanism and the repository delegation mechanism and or more generally the example query manager of are hereby expressly defined to include a tangible medium such as a memory DVD CD etc. storing the software and or firmware. Further still the example query manager of may include one or more elements processes and or devices in addition to or instead of those illustrated in and or may include more than one of any or all of the illustrated elements processes and devices.

Alternatively some or all of the example processes of may be implemented using any combination s of application specific integrated circuit s ASIC s programmable logic device s PLD s field programmable logic device s FPLD s discrete logic hardware firmware etc. Also some or all of the example processes of may be implemented manually or as any combination s of any of the foregoing techniques for example any combination of firmware software discrete logic and or hardware. Further although the example processes of are described with reference to the flow diagrams of other methods of implementing the processes of may be employed. For example the order of execution of the blocks may be changed and or some of the blocks described may be changed eliminated sub divided or combined. Additionally any or all of the example processes of may be performed sequentially and or in parallel by for example separate processing threads processors devices discrete logic circuits etc.

For purposes of illustration the document consumer may be a researcher that desires information related to a certain type of patient and or medical situation. For example the researching document consumer may be researching heart arrhythmias. To initially limit his or her search using known query options the researcher includes the term heart arrhythmia. However as described above previous query services are limited. Using the example query manager described herein the researcher can enhance his or her query by adding the template identifiers received at block to the query. As an example the researcher may include a first template identifier that confirms that corresponding documents include active medication lists for the patient associated with each document. By including such a template identifier in the query the researcher knows that returned results will be filtered to include only those healthcare documents that conform to the standard defined by the template identifier. In other words the example query module provides the researcher with documents that include active medications lists in accordance with the template identifier included in the query in addition or in lieu of traditional query terms.

The example communication interface of can recognize that the query includes template identifiers and in response determines which standard the received template identifiers are associated with. Based on the standard associated with the received template identifiers the communication interface selects one of the query modules to handle the received query block . In the illustrated example of the received template identifiers are associated with the HL7 CDA. That is the template identifiers will provide information regarding to which of a plurality of CDA standards the document conforms. Thus the example communication interface selects the CDA template identifier query module to handle the received query.

As described above the document consumer is also capable of providing instructions to the query manager regarding a search interaction between the template identifiers. The example communication interface of and the CDA template identifier query module is capable of identifying the search interaction specified in the query. Using the type of identified type of search interaction the example communication interface or the CDA template identifier query module selects one of the parameter mechanisms to handle the received query block . In the illustrated example the query sent by the document consumer includes multiple lists of template identifiers. Furthermore information sent with the query indicates that the document consumer desires healthcare documents that include any of the template identifiers specified in each of the received lists of template identifiers. Thus in the illustrated example the multi list parameter mechanism is selected to handle the received query.

As described above in connection with the example multi list parameter mechanism generates a logical statement or expression to define a search of the registry contents block . The logical statement or expression generated by the multi list parameter mechanism which includes the metadata corresponding to the template identifiers defines constraint s to be used in the search of the content of the registry metadata. In the illustrated example the constraint s are defined by logical operators arranged to find documents that include any of the template identifiers specified in each of the received lists of template identifiers e.g. as described above in connection with .

A selected one of the content matchers receives an output from the selected one of the parameter mechanisms which is the multi list parameter mechanism in the illustrated example. To select one of the content matchers the CDA query module may receive instructions reflecting a desired search method from the document consumer . Alternatively the CDA query module may have a default setting to select one of the content matchers e.g. the template indexing mechanism in the absence of instructions to the contrary. In some examples the template indexer may index received metadata related to template identifiers regardless of whether the template indexing mechanism is selected to perform the search of the registry for a particular query. That is the template indexer may be configured to analyze and index each template identifier received by the CDA query module and or more generally the query manager .

In the illustrated example the template indexing mechanism is selected from the content matchers . Using the logical expression including the template identifiers generated by the multi list parameter mechanism the example template indexing mechanism searches the metadata of the registry to identify documents matching the criteria of the logical expression block . As described above the example template indexing mechanism utilizes the template indexer to perform the search. Any matching documents are stored as the search results .

In some examples the repository delegation mechanism is selected to perform the search of the registry . When the CDA query module determines that the search was not performed by the repository delegation mechanism block such as when the template indexing mechanism is selected as described above the search results are conveyed to the document consumer via any suitable method or device block .

Otherwise when the repository delegation mechanism performed the search of the registry block the example repository delegation mechanism delegates filtering of search results to one or more of the repositories block . As described above the repositories include application program interface s API s dedicated to filtering search results including documents. For example the search results may be filtered using logical expression s similar to those generated by the parameter mechanisms .

When the temple indexing mechanism retrieves the new CDA documents the temple indexing mechanism scans the content of the CDA documents to extract template identifier values included therein block . For example the temple indexing mechanism may identify matches of an Xpath expression e.g. templatelD root associated with a document. The extracted template identifier s are then stored in a database and or any suitable storage device or structure block .

To index the identified and stored template identifier s the example template indexer associates each of the stored template identifier s with a unique ID associated with the CDA document block . The information generated by the template indexer i.e. the index described herein facilitates searching of the registry by providing the associations of the unique IDs and the template identifier s corresponding to the documents of the repositories . The temple indexing mechanism then gains access to the index such that the temple indexing mechanism can perform the search es described herein block .

The processor of is coupled to a chipset which includes a memory controller and an input output I O controller . As is well known a chipset typically provides I O and memory management functions as well as a plurality of general purpose and or special purpose registers timers etc. that are accessible or used by one or more processors coupled to the chipset . The memory controller performs functions that enable the processor or processors if there are multiple processors to access a system memory and a mass storage memory .

The system memory may include any desired type of volatile and or non volatile memory such as for example static random access memory SRAM dynamic random access memory DRAM flash memory read only memory ROM etc. The mass storage memory may include any desired type of mass storage device including hard disk drives optical drives tape storage devices etc.

The I O controller performs functions that enable the processor to communicate with peripheral input output I O devices and and a network interface via an I O bus . The I O devices and may be any desired type of I O device such as for example a keyboard a video display or monitor a mouse etc. The network interface may be for example an Ethernet device an asynchronous transfer mode ATM device an 802.11 device a DSL modem a cable modem a cellular modem etc. that enables the processor system to communicate with another processor system.

While the memory controller and the I O controller are depicted in as separate blocks within the chipset the functions performed by these blocks may be integrated within a single semiconductor circuit or may be implemented using two or more separate integrated circuits.

Certain embodiments contemplate methods systems and computer program products on any machine readable media to implement functionality described above. Certain embodiments may be implemented using an existing computer processor or by a special purpose computer processor incorporated for this or another purpose or by a hardwired and or firmware system for example.

Certain embodiments include computer readable media for carrying or having computer executable instructions or data structures stored thereon. Such computer readable media may be any available media that may be accessed by a general purpose or special purpose computer or other machine with a processor. By way of example such computer readable media may comprise RAM ROM PROM EPROM EEPROM Flash CD ROM or other optical disk storage magnetic disk storage or other magnetic storage devices or any other medium which can be used to carry or store desired program code in the form of computer executable instructions or data structures and which can be accessed by a general purpose or special purpose computer or other machine with a processor. Combinations of the above are also included within the scope of computer readable media. Computer executable instructions comprise for example instructions and data which cause a general purpose computer special purpose computer or special purpose processing machines to perform a certain function or group of functions.

Generally computer executable instructions include routines programs objects components data structures etc. that perform particular tasks or implement particular abstract data types. Computer executable instructions associated data structures and program modules represent examples of program code for executing steps of certain methods and systems disclosed herein. The particular sequence of such executable instructions or associated data structures represent examples of corresponding acts for implementing the functions described in such steps.

Embodiments of the present invention may be practiced in a networked environment using logical connections to one or more remote computers having processors. Logical connections may include a local area network LAN and a wide area network WAN that are presented here by way of example and not limitation. Such networking environments are commonplace in office wide or enterprise wide computer networks intranets and the Internet and may use a wide variety of different communication protocols. Those skilled in the art will appreciate that such network computing environments will typically encompass many types of computer system configurations including personal computers hand held devices multi processor systems microprocessor based or programmable consumer electronics network PCs minicomputers mainframe computers and the like. Embodiments of the invention may also be practiced in distributed computing environments where tasks are performed by local and remote processing devices that are linked either by hardwired links wireless links or by a combination of hardwired or wireless links through a communications network. In a distributed computing environment program modules may be located in both local and remote memory storage devices.

Although certain methods apparatus and articles of manufacture have been described herein the scope of coverage of this patent is not limited thereto. To the contrary this patent covers all methods apparatus and articles of manufacture fairly falling within the scope of the appended claims either literally or under the doctrine of equivalents.

