---

title: Method and system of machine-to-machine vertical integration with publisher subscriber architecture
abstract: An approach for machine-to-machine vertical integration with publisher-subscriber architecture is provided. The approach includes dynamically registering a plurality of sensors associated with a plurality of subscribers. The sensors are monitored as part of a sensor platform to maintain sensor data for the plurality of subscribers. Also, the sensor data are acquired from the plurality of sensors as a collective data set to determine one or more trends. The collective data set is tagged with metadata for the determined trend.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09536056&OS=09536056&RS=09536056
owner: Verizon Patent and Licensing Inc.
number: 09536056
owner_city: Basking Ridge
owner_country: US
publication_date: 20130830
---
Numerous sensor devices are capable of collecting and transferring sensor data over a network. These devices typically operate independently with little to no coordination among them. The widespread practice of data collection systems using unique data formats particular to the systems further contributes to the isolation of sensor devices. As such service providers and users face challenges in taking advantage of sensor data aggregated into a collective set.

Based on the foregoing there is a need for collecting and processing data from a multitude of sensor devices in an integrated manner.

An apparatus method and software for providing machine to machine vertical integration with publisher subscriber architecture is described. In the following description for the purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of the present invention. It is apparent however to one skilled in the art that the present invention may be practiced without these specific details or with an equivalent arrangement. In other instances well known structures and devices are shown in block diagram form in order to avoid unnecessarily obscuring the present invention. Although the various exemplary embodiments are described with respect to a sensor platform it is contemplated that these embodiments have applicability to other architectures.

Although the various exemplary embodiments are described with respect to cloud computing and services it is contemplated these embodiments have applicability to other computing technologies and architectures.

In certain embodiments vertical integration is functionally combining different components at various levels or forms of data acquisition under a centralized ecosystem created by sensor platform . Vertical integration provides seamless interaction between otherwise incompatible units. In one embodiment vertical integration in system involves the sensor platform building unique capability to integrate sensor device with applications via universal data formatting and device discovery. In other words sensor devices are endpoints with embedded intelligence allowing the sensor device to provide data to the sensor platform the sensor platform in turn contains intelligence specific to permitting applications to use data from the sensor platform . Sensor platform is thus a central service relative to a collection of sensor devices that provides the means of building communications intelligence between sensor device or direct sensors and applications all existing within a particular ecosystem. In one embodiment the intelligence includes converting data into universal formats for example converting data obtained from sensor device into a universal format then interfacing with applications that use data in the universal format.

In one embodiment gateway transmits sensor data to the sensor platform for the sensor platform to convert into a universal data format. For gateway to provide an interface between sensor devices and the sensor platform the sensor platform may provide a gateway with compatibility software to vertically integrate detected sensor devices with the sensor platform . In one embodiment gateway may provide consistency or uniformity in the process of transmitting sensor data to the sensor platform . For example gateway may assign identifiers to collected sensor data providing a means recognition of the data understandable by the sensor platform independent of users or the sensor devices . The gateway may also provide authentication or encryption means for collected data so that the sensor platform may use and analyze the data without compromising user security.

As used herein a sensor device refers to a separate physical device that interfaces with a computing device as in sensor device or a single hardware that has the functionality of a sensor and a computer e.g. a smart phone with a sensor application . It is noted that each of the sensor devices may utilize a computing device e.g. mobile phone laptop or netbook etc. to communicate over a personal area network PAN or a local area network . In one embodiment gateway may be deployed as a customer premise device e.g. a user gateway to detect announcement signals from the sensor device where the gateway automatically begins collecting data from the sensor device . For example the gateway may communicate with the sensor device and or a computing device associated with the sensor devices via a PAN whereby the gateway may continually scan the PAN for sensor announcement signals.

Upon detecting sensor devices the gateway may prompt sensor devices including itself to install software that vertically integrates the newly detected sensor devices with sensor platform . In this way sensor platform may automatically receive data from the sensor devices without prompting active user registration. The vertical integration between the sensor platform gateway and sensor device may include end to end architecture functions to construct one or more building communication interfaces between these three components to allow data flow from sensor device to the sensor platform .

According to one embodiment after at least one sensor device is automatically registered to a user and gateway the policy engine may facilitate communication among the various sensor devices within the gateway . The policy engine that may enhance data processing and control before the data reaches the sensor platform or other actuators by facilitating coordinated communication among the various sensor devices within the gateway . For example the gateway may be a user s mobile phone while the sensor device may be a glucose meter and the sensor device may be a health bracelet. The policy engine may then determine that the sensor device may communicate with sensor device and incorporate the glucose meter readings into health bracelet exercise trackers. In addition the policy engine may be configured on the fly to associate a short circuit control path to a nearby actuator or sensor. Nearby in this context refers to components that may have a relatively short communication path whose performance metrics are known by the policy engine and are selected by same to improve performance of the overall system. The gateway may then transmit the resulting processed data to the sensor platform so that data in the sensor platform is more readily usable by applications . According to one embodiment the gateway and policy engine may adapt to future device formats such that these systems may be compatible with future sensor devices and their data formats.

In certain embodiments gateway may automatically register sensor devices to the sensor platform . In one embodiment the sensor platform may prompt the gateway to register or scan only for certain types of data capable of being converted to a universal data type. For example a sensor platform interfacing with healthcare related applications may configure gateway to scan only for sensor devices collecting Food and Drug Administration FDA compliant data. Once the devices are registered with the sensor platform the sensor platform may coordinate for example a publisher subscriber chat room style communication among the various sensor device . There may exist a rendezvous point in this communication forum that is controlled by the policy engine through an access control list. This list may be configured changed or tuned over the course of the data communication session or running time to provide enhanced security or other performance improvements.

By extension of the registration gateway may be designated as pertaining to a user and or location. For example the sensor platform may recognize gateway as User s gateway or as Home. In one embodiment the sensor platform may include saving collected sensor data in a federated system that permits data from various sensor devices to be accessed according to user or user device identification. The gateway may receive and organize sensor data such that new sensors or sensor data feeds are pluggable thereby preparing any new data detected within a given PAN for processing in the sensor platform regardless of sensor or data type. In other words the gateway may operate in a scalable bus type model that forms the interface between raw sensor data feeds and the sensor platform .

Additionally the sensor platform may map services and devices to a particular user so that collected sensor data is associated with at least one user. In this way the sensor platform may serve as a centralized service that retrieves and accesses user and device information regardless of the user s location. Then user services and or applications may centrally access the data at the sensor platform provided that the sensor platform verifies that the services and or applications are authorized to access the user and or device information . The sensor platform may carry information on behalf of other sensors assigned to other users through a sharing arrangement that may be preconfigured or configured at run time. When forwarding information or when sending PAN information the sensor platform may need to digitally sign the data payload or portions of it to ensure a chain of evidence and provide traceability and authenticity for applications in certain markets. The sensor platform may be required to collect and report these signatures from time to time by the centralized server or other applications within the system.

Sensor platform can also utilize third party sensor data feeds or indirect sensors which may include data that has been already collected and processed by third parties and or data not directly associated with one or more users and or devices the third party sensor data feeds may be used to supplement or augment the trend analyses. For example the third party sensor data feeds can relate to environmental condition information e.g. outdoor temperature weather data etc. or other data that may be relevant.

As previously discussed the sensor platform may further provide vertical integration with applications so that applications may take advantage of the collective sensor data. In other words sensor platform may vertically integrate these applications by determining data formats used by the applications and converting collected sensor data to the data formats common among various applications . To this end sensor platform may include a data converter that converts raw sensor data into a universal format compatible with applications. In doing so applications may tap into the data resources of system without application providers needing to code separately for compatibility.

The popularity of user related sensor devices e.g. bracelets that can track exercise and sleep habits or mobile phones that utilize a pedometer application has created consumer friendly sensors for a wide range of services. For example a user wanting to improve his health may acquire a pedometer to monitor the number of steps the user takes. As a sensor device the pedometer may track the number of steps over a period of time e.g. week or month and the collected data is analyzed for upward and downward trends in the user s steps for the given period of time.

Vertical integration enables sensor devices to work in concert as data is fed into the common pool of sensor platform wherein the collective data can be used beyond the particular sensor device s targeted purpose. For example pedometers can collect activity data while sleep sensors independently collect data on sleep quality patterns and cycles despite correlations between exercise and sleep. Unaware of the interplay between this data a user of both devices may not readily set up a common application to monitor the relationship between the data sets outside of a unified system. Vertical integration would enable the seamless interfacing of different sensor devices. For instance sensor platform may permit pedometer data to be analyzed in conjunction with sensors that track the user s quality of sleep. Additionally this data may lend insight into marketing and business interests. For example the data from sensor devices may identify the spending habits of users as to correlate health and fitness habits with product recommendations. Additionally the system may determine that collected metadata indicates a geographic concentration of particularly active people. The system may then determine the information by analyzing data collected from mobile phone pedometers. Alternately the system may determine the concentration of active people through analysis of application usage of data facilitated by providing conversion of data into a common data format. In one instance fitness and marketing companies may then provide applications and plan marketing targets based on the collected metadata analysis. Various forms of this vertically integrated data may be used as part of the digital signature that is included by default in the metadata and collected as part of the notification process of the users interaction with the use of the data.

In another scenario the sensor platform may be deployed to improve healthcare professionals examinations of patients. For instance sensor devices may constantly monitor the vital signs of a particular user. When the user visits his doctor the doctor may ask about the user s health habits and form her own recordings of the user s health. Conventionally the doctor s records are separate from the user s sensor devices tracking despite possible overlap between the data sets. Therefore there is a clear lack of integration of systems and data under the traditional approaches. Alternatively a healthcare company may subscribe to sensor data and metadata acquired from sensor devices that are registered to their clients in the sensor platform . After the sensor platform collects and converts client sensor device data and metadata applications of the healthcare company may download this data and metadata into their database s . In certain situations that authenticity of the data may be used to develop a ranking of the data relative to the trust of the source or the trust of the delivery method. This authenticity allows the end user or end application to determine whether to discount or accredit the value of the data as the data is being received and or used. With this database the healthcare company may respond to members various health readings in real time or monitor client health statuses for insurance and payment purposes. When the same user s sensor devices are integrated into sensor platform the user s healthcare professional may have access to the user s sensor data immediately before and during the user s medical examination. This data may provide more accurate recordings than what the user may be able to provide based on his subjective memory or impressions. In addition the system may perform an automated task that actuates a mechanism such as an audible alarm or mechanical pump for example that is required in order to intervene within a timeframe that is well defined relative to the known responsively of the entire system.

In another healthcare use case the system may link a blood pressure monitor sensor device to sensor platform so that corresponding healthcare applications may provide a particular service to the user. As such the sensor platform and or user gateway may detect blood pressure sensor . It is noted that the blood pressure sensor may be part of a wearable device according one embodiment. The gateway may extract data measurements from the blood pressure sensor device and transfer the data to the sensor platform whereby healthcare application may deliver the data to the user s healthcare company. According to one embodiment the user s blood pressure readings are routinely reported to and monitored by the healthcare company by way of application by sensor platform . For example if a user s blood pressure reaches a predetermined unhealthy range the sensor platform may notify the user as well as a designated user e.g. user s family member based on profile information supplied by sensor platform s profile database or the user s healthcare company via application

Furthermore sensor platform may provide aggregate trend analysis across multiple users. This aggregate trend analysis may be classified according to subject matter. For example in addition to collecting one user s pedometer data platform may aggregate pedometer data from multiple pedometers and recognize patterns from the collective data set. In one instance aggregate pedometer data may indicate that people tend to run in the morning or people tend to bike on the weekends. Furthermore sensor platform may analyze the pedometer data with respect to location information e.g. global positioning system GPS coordinates. Such analysis may reveal certain patterns that are not detectable by individual data sets such as Californians run outdoors or urbanites tend to run indoors. In this manner platform can pool the data in a central repository where data produced for the same subject can be analyzed collectively. Vertically integrating applications in system may also provide the sensor platform with more input to analyze. For example the system may include application usage of sensor data in its analysis.

Also users may initiate uploading of sensor data to computing devices and social networking groups for further analysis or to compare personal measurements against that of other users. For instance users may subscribe to groups whose members encourage one another to meet fitness goals by comparing data to predetermined threshold values. Therefore popular usage creates a data intensive environment where users and applications independently create prolific sources of data.

In a further embodiment the system may elect to run various components of the system in concert or independently. For example the system may run one operation simultaneously but independently of another operation then engage two or more components running the operations to catch up with other components to operate the system as a whole. For example sensor devices may all independently collect data. In one embodiment the system may involve one or more gateways processing or storing the data. Then at a later time the gateways may transfer the data to the sensor platform where the data processing within sensor platform then catches up with data already processed by the sensor platform . In another instance sensor devices may all independently collect and transfer data to the sensor platform . Then sensor platform may engage yet a new application and determine a new data format. Then sensor platform may prompt data transfer from the sensor devices and convert data to a format compatible with the new data format of the application . In doing so the sensor platform responds to new information received within system by causing sensor device data transmission to catch up to new application interaction.

For illustrative purposes the networks may be any suitable wireline and or wireless network and be managed by one or more service providers. For example telephony network may include a circuit switched network such as the public switched telephone network PSTN an integrated services digital network ISDN a private branch exchange PBX or other like network. Wireless network may employ various technologies including for example code division multiple access CDMA enhanced data rates for global evolution EDGE general packet radio service GPRS mobile ad hoc network MANET global system for mobile communications GSM 4G long term evolution LTE Internet protocol multimedia subsystem IMS universal mobile telecommunications system UMTS etc. as well as any other suitable wireless medium e.g. microwave access WiMAX wireless fidelity WiFi satellite and the like. Meanwhile data network may be any local area network LAN metropolitan area network MAN wide area network WAN the Internet or any other suitable packet switched network such as a commercially owned proprietary packet switched network such as a proprietary cable or fiber optic network.

Although depicted as separate entities networks may be completely or partially contained within one another or may embody one or more of the aforementioned infrastructures. For instance the service provider network may embody circuit switched and or packet switched networks that include facilities to provide for transport of circuit switched and or packet based communications. It is further contemplated that networks may include components and facilities to provide for signaling and or bearer communications between the various components or facilities of system . In this manner networks may embody or include portions of a signaling system 7 SS7 network or other suitable infrastructure to support control and signaling functions. In addition the system may operate as separate parts that rendezvous and synchronize periodically to form a larger system with similar characteristics.

According to exemplary embodiments end user devices not shown may be utilized to communicate over system and may include any customer premise equipment CPE capable of sending and or receiving information over one or more of networks . For instance voice terminal may be any suitable plain old telephone service POTS device facsimile machine etc. whereas mobile device or terminal may be any cellular phone radiophone satellite phone smart phone wireless phone or any other suitable mobile device such as a personal digital assistant PDA pocket personal computer tablet customized hardware etc. Further computing device may be any suitable computing device such as a VoIP phone skinny client control protocol SCCP phone session initiation protocol SIP phone IP phone personal computer softphone workstation terminal server etc.

System is additionally detailed in co pending application entitled Machine To Machine Sensor Data which is incorporated herein by reference in its entirety.

The controller performs control logic functions and facilitates coordination among the other components of sensor platform . In one embodiment the bus is a communication vehicle that transmits data and metadata among the gateway applications and all the various components within the sensor platform . The identity module may register new user device and gateway pairs and store the information of current user device gateway pairs. An example embodiment of the identity module may include an identification system IS to provide assurance of associations between users and user devices as well as security for transmitted sensor data. The identification system is a security application that facilitates strong authentication to web sites applications and networks by providing access only after providing a registered identification system identity. According to one embodiment the identification system registration process may provide further security by requiring an activation code. Registration and authentication may occur several times over the course of the data identification system events without the applications being disrupted from their normal operation. This authentication may be controlled by a proxy mechanism which is part of the sensor platform.

The data formatter may receive data in various formats and convert this data into a universal format usable in applications . The data formatter may have a different connector for different types of data streams. According to one embodiment the data formatter may include one connector dedicated to a sensor data stream and another connector dedicated to a video data stream. Each of these connectors may feed into a respective formatter depending on the original data format. Once the data formatter converts the data feeds into a universal format a stream controller may usher the converted data and metadata into a connector that feeds the newly formatted data onto the bus . Bus may then distribute converted data to the applications .

The WAN receiver may contain both direct and indirect receiver components that accept data from both direct and indirect sensor devices though the bus . The application module may manage the various applications which downloads and monitors the data from the sensor platform tracking applications that fall to misuse and allotting system resources based on application activity. The metadata module may store and manage trend metadata that attached to the data sent from the various sensor devices and third party sensor data feeds .

The controller and subscriber module may be configured to determine the presence of one or more senor devices in the PAN network. The sensor module and controller may associate sensor devices found by subscriber module and controller in the PAN with one or more user accounts. Once a sensor device is associated with a user account controller may communicate the association communicate to sensor platform when the data is transmitted by way of networks PAN or WAN. It is contemplated that a single user account may be associated with multiple sensor devices within a single gateway . According to one embodiment the sensor data may be saved in the sensor platform s federated system according to the user account associations assigned to the data by the subscriber module and controller . Sensor agent module and controller may log and track the various sensor agents in the PAN network as well as monitor these sensor agents activity level or lack thereof. According to one embodiment the subscriber module and the controller may create new sensor agents in one or more gateway devices thus providing redundant federated data collection systems. According to another embodiment the sensor agent module may perform data conversion. For example the sensor agent module may convert the units for a thermostat from Fahrenheit to Celsius.

The policy module may determine the various data communication levels among the sensor agents in one or more gateway devices. The policy module may also determine the data communication that the sensor agents may engage in with the sensor platform through the networks WAN and PAN . The agent policy module and the controller may facilitate organized and coordinated communication among the various PAN sensor agents in the gateway device and the sensor platform and between gateway devices that are used to dynamically manage PAN networks over the course of the data collection event. This communication may allow each PAN sensor agent autonomous communication flexibility within the gateway device with other PAN gateway devices and the sensor platform. The agent policy module may be a medium of communication among the various PAN sensor agents as dictated by policy module and controller .

In one embodiment the controller and agent module may be configured to determine the presence of one or more agents including sensor agents. For example the gateway may include an agent application programming interface API that communicates with all the agents associated with a gateway . The controller and agent module may then interact with the API to determine the agents associated with a gateway . The access policy module may contain the access policy. For example access policy include an access control list e.g. in template form dictating possible communication access controls among sensor agents. For instance the access policy may include a set of settings relating to access rights. The controller and access policy module may then maintain and update the access policy for access by other modules of the policy engine .

Then the controller and agent settings module may determine each agent s control settings with respect to the access policy. For example the agent policy may permit sensor agents to select access to other sensor agents that process for example sensor data relating to temperature. The controller and agent settings module may determine whether a given sensor agent for example sensor agent A requests access to other agents that process temperature sensor data or if other sensor agents that process temperature sensor data may communicate with sensor agent A. The controller and access policy executer may then translate the settings into a format that can be applied to the access policy module . For example if the agent settings module dictates that sensor agent A may communicate with all sensor agents that process temperature sensor data the access policy executer may determine that sensor agents B C and F process temperature sensor data and translate the settings such that sensor agent A may communicate with sensor agents B C and F. By extension the access policy module may set up a chat room interface for the sensor agents A B C and F to communicate.

In one embodiment the agent policy module may include an agent identification module that identifies an agent to the policy engine . For example the controller may and agent identification module may register a unique identifier associated with an agent. Alternately or in addition the controller and agent identification module may identify agents according to sensors devices users and or sensor data associated with a given agent. Then the controller and agent terms module may extract agent access control setting terms from the policy engine . For example the controller and agent terms module may determine that a given agent A has setting terms that permit agent A to communicate with agent B.

The controller and agent terms module may further comprise of a means of tracking and recording the creation and removal of the terms. For instance the controller and agent terms module may continually determine new terms or determine outdated terms. Then the controller and agent terms module may revise agent terms to reflect current terms or suggest new terms for use. Furthermore the controller and agent terms module may track and record usage and popularity of the setting terms past present and future.

The controller and term execution module may then determine relevant terms for communication. For example the controller and term execution module may contact both agent A and agent B to initiate interaction. In addition the controller and term execution module may determine limitations within the setting terms. For instance agent A s access terms may dictate that agent A permits communication with agent B for only a subset of data associated with agent A. The controller and term execution module may recognize this limitation and translate the term for the controller and agent interface module when the controller and agent interface module set up a communication forum in accordance with the terms. These terms may also be discovered locally based on the reputation of the various components in the system.

In one embodiment for execution of system the controller of bus may receive through the gateway interface data output from the agents. For example the controller and gateway interface may interact with gateway through the PAN to receive the data output. The bus controller may also receive through the application interface requests for data from the applications . The controller may then prompt platform navigation module to match data stored to the data requests. For example the controller and platform navigation module may navigate the sensor platform to locate data stored in the sensor platform . As previously discussed data stored in the sensor platform may initially enter the sensor platform via the PAN and controller and gateway interface of bus . The monitor module may monitor the WAN for more applications or gateways and add communication channels for the applications and gateways to the platform. For example the controller gateway interface application interface and monitor module may interact such that the monitor module prompts additions to the gateway interface and or application interface as it detects new applications and gateways.

In one embodiment the controller and the data format module may determine the data format of received raw sensor data. The universal format module may contain a collection of universal formats. In one embodiment the system may include several universal data formats formulated for various types of files. For example text data and media data may include a number of different types of files for each type of input. The universal data format may be universal within the realm of media input. The controller and selection module may then determine a universal format that corresponds to the raw sensor data. Then the controller and conversion module may convert the raw sensor data into the universal format determined by the selection module .

The controller and data module may include the raw sensor data sensor data as output by agents and or data stored in the sensor platform . The controller and parameter module may determine one or more parameters to observe regarding the data. For example parameters for data from a glucose meter may include glucose level. Sensor data may also include parameters such as time of day or ambient temperature. In one embodiment the controller and parameter module may determine the one or more parameters based on parameters used by applications . For instance where application is an application that helps users reach their fitness goals by offering a support network of users with similar fitness goals. Parameters selected by parameter module may include glucose levels of one user relative glucose levels of a group of users associated with the one user. In providing the service of application controller may offer application data regarding the success of the application. In another embodiment the controller and parameter module may determine relationships or correlation between various threads of data and create parameters based on the relationships. For example by collecting data from various sources the controller and parameter module may detect glucose levels rising at the same time that ambient temperatures rise. The controller and parameter module may then target glucose level and ambient temperature as parameters.

The controller and analysis module may analyze data based on parameters. In one embodiment the controller and analysis module may conduct the analysis drawing from all the relevant data stored in the sensor platform or accessible by the sensor platform . Based on the analysis the controller and trend module may then determine if the data falls into any trend or pattern relating to the parameters or if various collections of data bear any relationship to one another. If the controller and trend module find a pattern or relationship the metadata tag module may create or identify a metadata tag for the data relating to the trend or relationship. The tag interface may then tag the data with the metadata tag.

According to one embodiment the interface may be a chat room or instant messaging session between agents in accordance with agent control access settings. In this chat room the controller may determine one or more characteristics of the data and or the agents. One or more access rules may be determined based on the characteristics relating to the communication among the agents the policy engine may be programmed or configured accordingly. In step the sensor data may translate sensor data for the corresponding sensor agent s as well as the sensor platform . That is because of the variety of different sensor devices data format conversion is performed to permit communication among the sensor agents and to enable the sensor platform to forward the converted data to a multitude of applications with different data requirements.

For step the controller may detect trends in the sensor data while taking into account processing or communication between sensor agents and subscriber information for example user profile information. Upon detecting possible trends the controller may create analytics based on the trends or analytics to verify the trends for step . To take a previous example the glucose meter and pedometer may be registered at one gateway each with a corresponding sensor agent. The glucose meter sensor agent and pedometer sensor agent may be in communication such that controller detects an inverse relationship for the data and creates an analytic to verify the trend.

The controller may create the universal data format based on the application grouping step and convert data to the created universal data format step so that sensor data of various formats is made readily usable by the applications within the grouping. For example the controller may create a universal video data format usable by all the applications that use video data. For another example the controller may determine a group of applications that are healthcare applications. The controller may then create a standard universal format readable by all the healthcare applications and convert received data of various types to the universal format. In doing so the controller expands the data usable by all the healthcare applications. In yet another example the controller may determine that a group of healthcare applications processes regulated healthcare data versus unregulated data . Data may be regulated for example by the Health Insurance Portability and Accountability Act. Then controller may create a universal data format for transferring the data whereas unregulated data may be stripped of user identity associations and transferred or used more freely.

In one embodiment the data is stored in a federated system according to subscriber information such that users or applications can access data associated with the subscriber regardless of user or subscriber location. For example where the subscriber is a user or device data associated with the user or device may be accessible in the federated system via presentation of the user and device information. In this way the controller may always monitor data for a subscriber regardless of the subscriber s location or service used. Then the data may be tagged with subscriber information wherein access to the sensor data is based at least in part on the subscriber information. In one embodiment the controller may then transmit the data to applications associated with the subscribers step . Furthermore the controller may determine the trends by processing the sensor data in conjunction with subscriber information. For example sensor data may include blood pressure data. Subscriber information may be user profile information including a user s age health history family health history and other body measurements. The controller may then determine trends by analyzing the sensor blood pressure data while taking into account the subscriber s information. In a further embodiment the controller may determine registration information for published data feeds associated with the metadata. For example the controller may determine that the subscribers have registered for published data feeds either of known or unknown origin. In this way the controller may receive new data as it becomes available.

The APE may communicate the data that it receives from the sensor devices into the sensor platform through the WAN agent . For example the system may employ a bus as the communication channel through which all of the information that comes in and out of the sensor platform utilizes. In one instance the bus may be an Extensive Messaging Presence Protocol XMPP bus. When the data is transmitted to the sensor platform through a gateway device application s WAN agent the bus will receive this data and feed it into the direct WAN receiver . When the bus receives data from a third party sensor feed it will transmit this data to the sensor platform through an indirect WAN receiver . Once at the sensor platform the sensor platform may perform a metrics analysis based for example on common data. Once the data reaches the sensor platform it may be stored converted to a new format and or used to create analytics. Additionally the sensor platform may communicate the data into a plurality of applications through the bus . Examples of such applications may include healthcare applications analytics or business process applications and others. The sensor platform may also have an identity provider component which allows for user authentication. For example universal identification systems may be one embodiment of an identity provider component .

Gateway may be associated with one or more locations users locations associated with users etc. For example gateway may be a mobile device belonging to a given user. For instance user A s cell phone may act as a gateway extracting and or monitoring the blood pressure and weight of user A. The monitoring may be continuous or comprised of incremental measurements. In another example gateway may include a device designated as a home gateway where the gateway provides a sensor contact point at user A s Home. The system may associate each gateway with its own collection of sensors . By way of example the home gateway device may contain data tags or signatures that provide certain additional features that are available for the sensors or agents that are within the home PAN. These tags allow the sensors to collect information that is normally associated with home activities such as for example sleeping or personal home care. This may include transient information that relates to home care providers such as identification tags and identification activities.

In one embodiment the gateway may include sensor agents that process the sensor data and encode the data with various levels of security or identification tags. For example the gateway may send to the sensor platform sensor data processed through the sensor agents where the data is coded as proprietary data or data specific for the healthcare solution. In this way the gateway may permit data storage in the sensor platform without compromising data security. In one embodiment the sensor platform may support various types of data formats. For example the sensor platform may permit regulated and unregulated data wherein regulated data may include specific regulatory compliant data e.g. Health Insurance Portability and Accountability Act HIPAA and unregulated data may include all data. For instance the sensor platform may detach data from user identifications associated with the data so that the data is anonymous. Such operations may include data anonymization or other encryption techniques.

In one embodiment the sensor platform may also convert data into universal formats so that the data is more freely accessible by various applications . For example the common or universal formats may be contingent on the formats compatible with applications . In one scenario the sensor platform may convert data into the Common Data Format CDF for applications that can interface with CDF. In another scenario the sensor platform may convert data into formats compatible with the Integrating the Healthcare Enterprise IHE and or Health Level 7 HL7 where applications relate to healthcare. In yet another scenario the sensor platform may create its own universal format depending on the needs of applications involved with system .

In one embodiment the sensor platform also receives data from third party sensor data feeds . For example the sensors may provide direct connections to the sensor platform via registered gateway whereas the third party sensor data feeds may include indirect connections to the sensor platform . In one instance the third party sensor data feed may not be associated with particular users or user devices. The third party sensor data feeds may include sensor data from for example consumer devices. The data for this type of case then may be associated with a particular manufacturer vendor and or company. For example a Company A scale may transmit a third party sensor data feed to sensor platform . In one case the third party sensor data feed may first transmit the third party sensor data feed to a third party sensor agent for processing prior to sending the data to the sensor platform . In another instance a particular vendor or manufacturer may supply a sensor that must be used within a defined time period that might represent a freshness sensor on a consumable product. The freshness data may be transported within the sensor platform share the same data feed and be coupled to the user identification. The sensor agent may detect an anomalous condition and prevent the dispensing or signal an alarm that can be acted upon within a smaller component of the sensor platform.

Each sensor device in the PAN may have a corresponding PAN sensor agent once the sensor devices have the gateway device application installed. Each PAN sensor agent is relatively autonomous and may have a unique policy which details which of the other agents in the gateway it may publish or subscribe to and the extent of the data within that publication or subscription. The PAN sensor agents collect data from the sensor devices and may engage in minor formatting conversions of the data. The WAN agent transmits data from the gateway into the sensor platform . The agent API is how the PAN sensor agents and WAN sensor agents send data into the APE . The APE is the communication venue for the various PAN sensor agents and WAN agents. The APE is a pluggable bus type system which allows the agents to publish their data while subscribing to the data of other agents . For example a PAN sensor agent may publish data. A WAN agent may subscribe to the data published by the PAN sensor agent . The policy engine contains all of the rules which determine the levels of communications or publications and subscriptions of each of the sensor agents . The policy engine directs all of the communication that takes place among all of the autonomous sensor agents within the APE . The APE may accommodate future agents within its pluggable bus type system including those agents that may require data conversions due to the flexibility of the pluggable system.

The system components as described herein make the provisioning and commissioning of the sensors and other system components by various business entities such as a fulfillment house an integral part of the normal operation of data collection within the system. As such the assignment or reassignment of a user to one or more users is accomplished as a form of data collection this instance being the collection and association of trust between an end user and the sensor. An example of the data collection is described below.

Given this structure the agent development system may include a script engine to facilitate the creation of new agents. In one embodiment the script agent may include a script agent and script interface . The script agent may include agent operations common to agents of the particular gateway. In this way the script agent may automate or readily include execution of tasks that a new agent may require. Then the script interface may make access to the native API readily available to further facilitate the process for agent developers in creating a new agent within a gateway or within system . In this way the script engine automates the steps for agent creation such that developers are left with the single analysis performed by the agent rather than needing to build the capability to interact with the rest of the gateway. The agent development system may also include a persistent message store to permit fast retrieval of messages to improve performance.

The processes described herein for machine to machine vertical integration may be implemented via software hardware e.g. general processor Digital Signal Processing DSP chip an Application Specific Integrated Circuit ASIC Field Programmable Gate Arrays FPGAs etc. firmware or a combination thereof. Such exemplary hardware for performing the described functions is detailed below.

The computer system may be coupled via the bus to a display such as a cathode ray tube CRT liquid crystal display active matrix display or plasma display for displaying information to a computer user. An input device such as a keyboard including alphanumeric and other keys is coupled to the bus for communicating information and command selections to the processor . Another type of user input device is a cursor control such as a mouse a trackball or cursor direction keys for communicating direction information and command selections to the processor and for controlling cursor movement on the display .

According to an exemplary embodiment the processes described herein are performed by the computer system in response to the processor executing an arrangement of instructions contained in main memory . Such instructions can be read into main memory from another computer readable medium such as the storage device . Execution of the arrangement of instructions contained in main memory causes the processor to perform the process steps described herein. One or more processors in a multi processing arrangement may also be employed to execute the instructions contained in main memory . In alternative embodiments hard wired circuitry may be used in place of or in combination with software instructions to implement exemplary embodiments. Thus exemplary embodiments are not limited to any specific combination of hardware circuitry and software.

The computer system also includes a communication interface coupled to bus . The communication interface provides a two way data communication coupling to a network link connected to a local network . For example the communication interface may be a digital subscriber line DSL card or modem an integrated services digital network ISDN card a cable modem a telephone modem or any other communication interface to provide a data communication connection to a corresponding type of communication line. As another example communication interface may be a local area network LAN card e.g. for Ethernet or an Asynchronous Transfer Mode ATM network to provide a data communication connection to a compatible LAN. Wireless links can also be implemented. In any such implementation communication interface sends and receives electrical electromagnetic or optical signals that carry digital data streams representing various types of information. Further the communication interface can include peripheral interface devices such as a Universal Serial Bus USB interface a PCMCIA Personal Computer Memory Card International Association interface etc. Although a single communication interface is depicted in multiple communication interfaces can also be employed.

The network link typically provides data communication through one or more networks to other data devices. For example the network link may provide a connection through local network to a host computer which has connectivity to a network e.g. a wide area network WAN or the global packet data communication network now commonly referred to as the Internet or to data equipment operated by a service provider. The local network and the network both use electrical electromagnetic or optical signals to convey information and instructions. The signals through the various networks and the signals on the network link and through the communication interface which communicate digital data with the computer system are exemplary forms of carrier waves bearing the information and instructions.

The computer system can send messages and receive data including program code through the network s the network link and the communication interface . In the Internet example a server not shown might transmit requested code belonging to an application program for implementing an exemplary embodiment through the network the local network and the communication interface . The processor may execute the transmitted code while being received and or store the code in the storage device or other non volatile storage for later execution. In this manner the computer system may obtain application code in the form of a carrier wave.

The term computer readable medium as used herein refers to any medium that participates in providing instructions to the processor for execution. Such a medium may take many forms including but not limited to non volatile media volatile media and transmission media. Non volatile media include for example optical or magnetic disks such as the storage device . Volatile media include dynamic memory such as main memory . Transmission media include coaxial cables copper wire and fiber optics including the wires that comprise the bus . Transmission media can also take the form of acoustic optical or electromagnetic waves such as those generated during radio frequency RF and infrared IR data communications. Common forms of computer readable media include for example a floppy disk a flexible disk hard disk magnetic tape any other magnetic medium a CD ROM CDRW DVD any other optical medium punch cards paper tape optical mark sheets any other physical medium with patterns of holes or other optically recognizable indicia a RAM a PROM and EPROM a FLASH EPROM any other memory chip or cartridge a carrier wave or any other medium from which a computer can read. In certain cases the computer readable media may include an unknown physical component wherein the information is uniquely defined by a special digital unique identifier and is available through multiple physical channels either simultaneously or exclusively.

Various forms of computer readable media may be involved in providing instructions to a processor for execution. For example the instructions for carrying out at least part of the exemplary embodiments may initially be borne on a magnetic disk of a remote computer. In such a scenario the remote computer loads the instructions into main memory and sends the instructions over a telephone line using a modem. A modem of a local computer system receives the data on the telephone line and uses an infrared transmitter to convert the data to an infrared signal and transmit the infrared signal to a portable computing device such as a personal digital assistant PDA or a laptop. An infrared detector on the portable computing device receives the information and instructions borne by the infrared signal and places the data on a bus. The bus conveys the data to main memory from which a processor retrieves and executes the instructions. The instructions received by main memory can optionally be stored on storage device either before or after execution by processor.

In one embodiment the chip set includes a communication mechanism such as a bus for passing information among the components of the chip set . A processor has connectivity to the bus to execute instructions and process information stored in for example a memory . The processor may include one or more processing cores with each core configured to perform independently. A multi core processor enables multiprocessing within a single physical package. Examples of a multi core processor include two four eight or greater numbers of processing cores. Alternatively or in addition the processor may include one or more microprocessors configured in tandem via the bus to enable independent execution of instructions pipelining and multithreading. The processor may also be accompanied with one or more specialized components to perform certain processing functions and tasks such as one or more digital signal processors DSP or one or more application specific integrated circuits ASIC . A DSP typically is configured to process real world signals e.g. sound in real time independently of the processor . Similarly an ASIC can be configured to performed specialized functions not easily performed by a general purposed processor. Other specialized components to aid in performing the inventive functions described herein include one or more field programmable gate arrays FPGA not shown one or more controllers not shown or one or more other special purpose computer chips.

The processor and accompanying components have connectivity to the memory via the bus . The memory includes both dynamic memory e.g. RAM magnetic disk writable optical disk etc. and static memory e.g. ROM CD ROM etc. for storing executable instructions that when executed perform the inventive steps described herein to controlling a set top box based on device events. The memory also stores the data associated with or generated by the execution of the inventive steps.

While certain exemplary embodiments and implementations have been described herein other embodiments and modifications will be apparent from this description. Accordingly the invention is not limited to such embodiments but rather to the broader scope of the presented claims and various obvious modifications and equivalent arrangements.

