---

title: Systems and methods for predictive download
abstract: A time a user of a client application is likely to access a preferred network connection is predicted. A pre-download index for one or more multimedia content items is calculated, where the pre-download index represents how likely the user is to interact with the one or more multimedia content items at approximately the predicted time. The indexed multimedia content items are ranked based on the pre-download index of each of the one or more multimedia content items. The ranked multimedia content items are provided to the client application at the predicted time.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09344876&OS=09344876&RS=09344876
owner: Facebook, Inc.
number: 09344876
owner_city: Menlo Park
owner_country: US
publication_date: 20131224
---
The technical field relates to the field of social networks. More particularly the technical field relates to network resource management in social networks.

Social networks provide many features. For instance many social networks allow users to communicate by exchanging electronic messages digital content and by providing other features such as electronic chat rooms and electronic message boards within a social context. Many social networks also allow users to indicate how they are related to one another. Accordingly social networks continue to grow in popularity.

Users may access social networks through a variety of devices. For instance users may access social networks through desktop computers laptop computers tablet computing devices data enabled mobile phones and other devices with data capabilities. Access may be provided through a standalone application such as a mobile application dedicated to the social network or a web page accessed through a web browser. Due to the fact that social networks rely heavily on computer networks for data transfer it may be difficult to provide files to a user in an efficient manner. The difficulty is compounded when the files to be provided to the user are extensive in size as is often true with for example multimedia content files or other files containing large amounts of data.

A computer implemented method a system comprising at least one processor and memory storing instructions configured to instruct the at least one processor to perform the computer implemented method and a computer storage medium storing computer executable instructions that when executed cause a computer system to perform the computer implemented method are disclosed. In the method a time a user of a client application is likely to access a preferred network connection is predicted. A pre download index for one or more multimedia content items is calculated where the pre download index represents how likely the user is to interact with the one or more multimedia content items at approximately the predicted time. The indexed multimedia content items are ranked based on the pre download index of each of the one or more multimedia content items. The ranked multimedia content items are provided to the client application at the predicted time.

In some embodiments the one or more multimedia content items are part of a download list being provided to the client application at approximately the predicted time. The one or more multimedia content items may comprise at least one of a video file a music file or a document file. The one or more multimedia content items may comprise at least one of a hyperlink to a music file a video file or a document file.

In an implementation one or more multimedia content items comprise a video advertisement. The video advertisement may be part of an advertising campaign associated with the predicted time.

In various embodiments providing includes selecting at least a portion of the ranked multimedia content items for download based on whether pre download indexes associated with the ranked multimedia content items satisfy a threshold value.

In some embodiments an error notification is received if a download of the one or more multimedia content items at the client application was not successful. In an implementation a reference to one or more unused multimedia content items is received and another pre download index of other multimedia content items similar to the unused multimedia content items is discounted in response to receiving the reference.

In various implementations the pre download index of each of the one or more multimedia content items is based on a behavior of the user. The pre download index of each of the one or more multimedia content items may be based on when the user is likely to use the client application. The pre download index of each of the one or more multimedia content items may be based on the likelihood of the each of the one or more multimedia content items is downloaded to a client system comprising the client application. The pre download index of each of the one or more multimedia items may be based on whether the user reacted favorably to other multimedia content items similar to the each of the one or more multimedia content items.

In some embodiments transfer of the ranked multimedia content items is limited at another time when the user is likely to access a non preferred network connection. The preferred network connection may comprise an 802.11 wireless network and the non preferred network connection may comprise a cellular data network. The preferred network connection may comprise an 802.11 wireless network or a Third Generation 3G cellular data network and the non preferred network connection may comprise a Fourth Generation 4G or a Fifth Generation 5G cellular data network.

In some embodiments the method may be executed by a social networking system. In some embodiments the one or more multimedia content items are provided by a content provider distinct from a social networking system.

Other features and embodiments are apparent from the accompanying drawings and from the following detailed description.

The figures depict various embodiments of the present invention for purposes of illustration only wherein the figures use like reference numerals to identify like elements. One skilled in the art will readily recognize from the following discussion that alternative embodiments of the structures and methods illustrated in the figures may be employed without departing from the principles described herein.

Social networking systems provide popular and easily accessible platforms to connect large numbers of people with different backgrounds and interests. Many social networking systems allow their users to exchange messages and to share music video and other files with each other. Various social networking systems also allow users to explore how they are related to one another. Moreover social networking systems can be made available on almost every type of computer system from devices as small as data enabled mobile phones to devices as large as desktop computer systems. As literally billions of people worldwide use some form of a social networking system social networking systems also provide an effective platform for distribution of digital content.

Providers of digital content may wish to distribute digital content through a social networking system. For example advertisers may wish to provide advertisements with multimedia elements including video and or audio content or interactive elements to users of a social networking system. As another example movie studios may wish to provide movie trailers and even movies to users of a social networking system. Similarly music studios book publishers video game publishers and other content providers or content distributors may wish to make digital content items of some form available to users of a social networking system.

However distributing digital content through a social networking system may be difficult to accomplish. In many cases digital content items may include large files with a substantial amount of information. A simple video advertisement for instance may include image data for each still image frame audio data compression data interactive hyperlinks and other data. Users such as users accessing wireless networks may attempt to access the social networking system through many different types of networks including for example 802.11 Wifi networks Third Generation 3G Fourth Generation 4G and Fifth Generation 5G networks each having different speeds bandwidth and throughput. In view of bandwidth and time constraints streaming a digital content item to a user accessing a wireless network may involve provision to the user of a relatively low quality version of the digital content item. Streaming the digital content item to such a user may also cause the user to unintentionally use paid wireless networks such as cellular data networks. Accordingly it would be desirable to optimize providing files to a user over a network in an effective and efficient manner.

The content module s may provide multimedia content items. Multimedia content items may include any digital content items. Multimedia content items may include text images audio video interactive content items etc. In some embodiments multimedia content items may include music files video files documents etc. Multimedia content items may include content that can be streamed over the network and or stored on one or more of the predictive download module s and or client module . In various embodiments multimedia content items may include files such as video files that would traditionally be downloaded or streamed to the client module . In some implementations the multimedia content items may include advertisements such as video advertisements. In a specific implementation the multimedia content items may include hyperlinks to music files video files documents etc. As a result the content module s need not provide actual music video documents etc. but rather could in some embodiments provide links to network locations of music video documents etc. on a cloud or other server.

In an implementation the content module s may be incorporated into the social networking environment shown in . For instance the content module s may be incorporated into an external system an example of which is shown having reference numeral in . In various embodiments the content module s may be incorporated into a social networking system an example of which is shown having reference numeral in . Though shows the reference numeral as depicting a single content system in various embodiments the content module s may comprise more than one content system.

The network may include a communications network such as a computer network. The network may provide multimedia content items from the content module s to one or more of the predictive download module s and the client module . The network may support wireless and or wired network protocols. In various embodiments the network may facilitate coupling of internal components within one or more of the content module s the predictive download module s and the client module .

In various embodiments the network may support a preferred network connection and a non preferred network connection for the client module . The preferred network connection and the non preferred network connection may be characterized by different access protocols for accessing the network . In some embodiments the preferred network connection may provide access to the network at a lower cost than the non preferred network connection . In various embodiments the preferred network connection may provide access to the network at a greater speed than the non preferred network connection . Moreover in certain embodiments the preferred network connection may provide access to the network using network access protocols that are more secure than the network access protocols of the non preferred network connection .

Examples of the preferred network connection and the non preferred network connection are presented herein. As one example the preferred network connection may comprise a wireless network connection compatible with IEEE 802.11 protocols e.g. a Wifi network while the non preferred network connection may comprise a wireless network connection using a cellular data network e.g. a 3G a 4G or a 5G network. As another example the preferred network connection may comprise a first type of cellular data network e.g. a 3G network while the non preferred network connection may comprise a second type of cellular data network e.g. a 4G network or a 5G network . As yet another example the preferred network connection may comprise a wired network connection while the non preferred network connection may comprise any wireless network connection.

Though shows only a preferred network connection and a non preferred network connection it is noted that the network may support more than two types of network connections. That is in various embodiments the network may support any number of network connections each characterized by different access protocols to the network . A multitude of connections could reflect varying degrees of network connection preferences based on one consideration or a combination of various considerations such as LAN capabilities WAN capabilities cost etc.

The predictive download module s may predict when the client module is to have access to the preferred network connection . More specifically the predictive download module s may analyze network connectivity of the client module to predict when the client module is likely to have access to the preferred network connection .

The predictive download module s may attempt to provide multimedia content items to the client module at the time when access to a preferred network connection is predicted. That is at one or more of the predicted times the predictive download module s may attempt to download one or more multimedia content items to the client module . If the client module does indeed have access to the preferred network connection the predictive download module s may provide portions of the download list to the client module . In a specific implementation the download list may include a set of Internet links to particular multimedia content items. The download list may be formatted in any suitable data format.

The predictive download module s may determine whether the download was successful or failed. In various embodiments the downloading process may continue as the client module continues to have access to the preferred network connection . The predictive download module s may also stop the download if it is determined that the client module does not have access to the preferred network connection if a specific multimedia content item in the download list is not compatible with the client module or upon the occurrence of other events that would indicate a reason to stop the download.

The predictive download module s may also take other actions if the download is stopped. For instance the predictive download module s may instruct the client module to delete multimedia content items that were incompletely downloaded cannot be played on the client module etc. In some embodiments the client module may notify the predictive download module s of specific multimedia content items that were not viewed used or otherwise consumed. In these embodiments the predictive download module s may not provide to the client module in the future other multimedia content items similar to the specific multimedia content items that were not used. and discuss the predictive download module s in greater detail.

The client module may include any computer system. In various embodiments the client module may include a desktop computer a laptop computer a tablet computing device a mobile phone with data capabilities a mobile device having data capabilities or any other device. The client module may include a client application module .

The client application module may allow users to interact with multimedia content items. In some embodiments the client application module may receive multimedia content items from the content module s and or the predictive download module s through the network . In an implementation the client application module may receive download lists of multimedia content items from the predictive download module s .

The client application module may also monitor the connection it uses to the network . More specifically in some embodiments the client application module may monitor whether it uses the preferred network connection or the non preferred network connection . The client application module may provide the predictive download module s with notifications about which network connection the client module is using to connect to the network .

In various embodiments the client application module may determine whether a particular download list of multimedia content downloaded properly to the client module . In the case that the particular download list of multimedia content did not download to the client module the client application module may notify the predictive download module s to that effect.

In some embodiments the client application module may determine whether a user actually interacted with a multimedia content item provided by the predictive download module s . The client application module may notify the predictive download module s of specific multimedia content items that were not interacted with. Such notification may allow the predictive download module s to more accurately predict the types of multimedia content items to provide to the client module in the future. and discuss the client application module in greater detail.

The network monitoring module may monitor network connectivity of the client module . In some embodiments the network monitoring module may receive notifications from the client application module about the type of network connection that the client module is using to connect to the network . More specifically the network monitoring module may receive notifications from the client application module about whether the client module is using the preferred network connection or the non preferred network connection . In various embodiments the network monitoring module may store in the client behavior datastore the information regarding the type of network connection being used by the client module .

The access prediction module may predict when the client application module is likely to have access to the preferred network connection . The access prediction module may obtain from the client behavior datastore historical data about the times the client application module was connected to the preferred network connection and the non preferred network connection . The access prediction module may provide to the content management module a list of predicted times that the client application module is likely to access the preferred network connection .

The content management module may manage multimedia content items stored in the content item datastore . The content management module may identify multimedia content items the client application module is likely to interact with when the client module is predicted to access the preferred network connection .

In some embodiments the content management module may calculate a pre download index for downloading one or more multimedia content items to the client module without requiring that the user of the client module request the multimedia content items. The pre download index may represent how likely a user is to interact with the multimedia content item at a precise or approximate predicted time. That is the pre download index may represent how likely the user is to interact with the multimedia content item on or within a time interval about the predicted time. The pre download index may reflect how appropriate a multimedia content item is for the client application module given myriad factors such as the characteristics of the client module the preferred network connection and or the non preferred network connection the user of the client application module and other considerations. In various implementations the pre download index may provide a basis to select certain multimedia content items for potential download to the client application module .

As an example the pre download index may be based on behavior of a user of the client application module . For example based on the pre download index the content management module may select for potential download the particular multimedia content items based on the extent to which multimedia content items correlate with a social networking newsfeed of the user. More specifically the content management module may select for potential download the particular multimedia content items based on a past history of stories the user interacted with the stories a user s friends interacted with stories similar to stories the user or the user s friends interacted with etc.

As another example the pre download index may be based on when a user is likely to use the client application module . For instance if a user is likely to use the client application module at a particular time of day the content management module may select based on the pre download index for potential download multimedia content items that are relevant to that time of day. That is if a user were likely to use the client application module only at night the content management module may select for potential download advertisements that are more likely to induce purchasing behavior at night.

As yet another example the pre download index may be based on a user s network connection. For example the content management module may select for potential download multimedia content items based on whether those multimedia content items are likely to be completely downloaded to the client module in the time that the user of the client application module is connected to the preferred network connection . That is if the user of the client application module were to be connected to the preferred network connection for only a half hour over which time the user is likely to be able to only download 100 Megabytes MB of data the content management module may select for potential download particular multimedia content items of less than 100 MB for the client application module .

In some embodiments the pre download index may be based on whether the user of the client application module reacted favorably to similar multimedia content items. For instance the content management module may select for potential download particular multimedia content items based on whether the user of the client application module actually interacted with similar multimedia content items. In this example the content management module may have discounted one or more pre download indexes of multimedia content item s similar to unused multimedia content item s .

In various embodiments the pre download index may be based on how relevant multimedia content items are to a user of the client application module . For example the content management module may select for potential download particular multimedia content items based on proximity of an advertising campaign that uses the multimedia content items. The advertising campaign may be associated with the predicted time. That is in some implementations the advertising campaign may be particularly relevant to users at about the predicted time e.g. a particular advertising campaign may be particularly relevant to users on an evening during the holiday season . As another example the advertisements may be particularly relevant at a particular time or range of times in a day e.g. mornings at noon evenings late nights . As yet another example the advertisements may be particular relevant during a particular season such as during summer or during the holiday shopping season. As yet another example the advertisements may be particularly relevant during a time frame around a specific event e.g. a month before a set of sports playoffs or the World Series .

As another example the content management module may select for potential download particular multimedia content items based on how viral the particular multimedia content items are. As yet another example the content management module may select for potential download particular multimedia content items based on the popularity e.g. the number of likes number of comments or the increase in the number of likes comments of the particular multimedia content items.

In some embodiments the pre download index may be based on some combination of the foregoing considerations for selection for potential download of the particular multimedia content items. The pre download index also may be based on factors not expressly listed herein.

In specific implementations the content management module may rank multimedia content items based on pre download indexes. The rankings may reflect how likely a user of the client application module is to interact with particular multimedia content items at a particular time. The content management module may also provide multimedia content items to the client application module . In some embodiments the provided multimedia content items may take the form of a download list of multimedia content items. At the predicted time the content management module may attempt to download the download list to the client application module .

The client behavior datastore may store data about the behavior of the client application module . In various embodiments the client behavior datastore may store data about users social networking data data related to network connectivity and other data about the behavior of the client application module .

The content item datastore may store particular multimedia content items. The content item datastore may also store download lists of multimedia content items to be provided to a particular client application module . In various embodiments the multimedia content items and the download lists of multimedia content items in the content item datastore may be provided by the content module s . In an embodiment the content item datastore may be implemented as any type of data storage unit including for example a cache.

At block the access prediction module may predict a time the user is likely to access the preferred network connection . The access prediction module may obtain information from the client behavior datastore about the types of network connections that the client module has used at various times. The information may have been based on notifications regarding network connectivity received by the network monitoring module . In an implementation the access prediction module may obtain times the client module has used the preferred network connection as well as the times the client module has used the non preferred network connection . Based on these times the access prediction module may determine whether the client module is likely to use a particular type of network connection at a particular time. The access prediction module may provide the predicted time to the content management module .

At block the content management module may identify multimedia content item s in the content item datastore the user is likely to interact with. Identification of the multimedia content item s may be based on user behavior network access patterns related to the client application module factors used to calculate the pre download index and other factors. As an example the content management module may identify a set of advertisements that may be relevant to a specific user. The advertisements may be especially relevant to the user at the predicted time.

At block the content management module may calculate a pre download index for each of the identified multimedia content items. As discussed the pre download index may be based on one or more of the characteristics of the client module the preferred network connection and or the non preferred network connection the user of the client application module and other characteristics. For example the pre download index may be based on one or more of behavior of a user of the client application module behavior of a user of the client application module the content management module may select particular multimedia content items based on when a user is likely to use the client application module a user s network connection whether the user of the client application module reacted favorably to similar multimedia content items how relevant multimedia content items are to a user of the client application module some combination of the foregoing and or factors not expressly listed herein.

At block the content management module may rank the indexed multimedia content item s based on their pre download indexes. The rankings may reflect how likely the user is to interact with the indexed multimedia content item at the predicted time. In some embodiments the content management module may select or prioritize only those indexed multimedia content items that have a pre download index beyond a particular threshold value. For instance the content management module may select the ten or some other number of the highest ranking indexed multimedia content items for download to the client application module . In some embodiments the content management module may also re rank the indexed multimedia content item s based on other factors of importance to the user.

At block the content management module may provide one or more of the ranked multimedia content item s to the client application module at the predicted time. The one or more ranked multimedia content item s may be selected based on which pre download indexes associated with the multimedia content item s satisfy a selected threshold value. At block the content management module may receive a notification from the client application module of unused multimedia content item s . For instance the content management module may receive the identities of specific multimedia content items that did not fully download to the client application module that were not executed by the client application module or otherwise were not used by the client application module .

At block the content management module may discount the pre download index of other multimedia content item s that are similar to the unused multimedia content item s . More specifically the content management module may search the content item datastore for other multimedia content item s that are similar to the unused multimedia content item s . The other multimedia content item s may share one or more characteristics with the unused multimedia content item s . For instance the other multimedia content item s may be of a size similar to the unused multimedia content item s . The other multimedia content item s may also share other similarities such as similar user targeting profiles similar content similar plots similar characters similar creators and other similarities with the unused multimedia content item s . In some embodiments the content management module may discount the pre download index of the other multimedia content item s .

The network information module may provide information about the network connection that the client application module is using. In some embodiments the network information module may monitor whether the client application module is coupled to the preferred network connection or the non preferred network connection . In an implementation the network information module may provide notifications to the predictive download module s about the network connectivity status of the client application module . The notifications may include the time of attempted access the type of network being accessed or whether the access attempt was successful. In various embodiments the network information module may provide the notifications at an interval periodically or upon the occurrence of an event such as a change in network connectivity status. The network information module may also provide the notifications in response to requests from the predictive download module s . In an implementation the network information module may incorporate one or more of the features of the network monitoring module shown in .

The content management module may manage multimedia content items stored in the content datastore . In an implementation the content management module may receive multimedia content items from the predictive download module s . The multimedia content items may be part of a download list provided to the client application module . In some embodiments the content management module may manage the download of the download list. The content management module may further add edit and remove multimedia content items in the content datastore . In some embodiments the content management module may provide multimedia content items to the content execution module . The content management module may also determine which multimedia content items in the content datastore a user has or has not interacted with. In some embodiments the content management module may provide the predictive download module s with references to the multimedia content items that the client application module did not use.

The content execution module may execute multimedia content items. In various embodiments the content execution module may play video files play audio files or display books documents and other files. In some embodiments the content execution module may facilitate user interaction with multimedia content items. The content execution module may also determine whether particular multimedia content items were successfully executed.

The playback reporting module may report to the predictive download module s whether the client application module successfully played back multimedia content item s in a download list. In some embodiments the playback reporting module may also report whether the client application module is using the preferred network connection at the predicted time whether a download list was successfully downloaded to the content datastore whether particular multimedia content items were successfully executed by the content execution module whether all multimedia content items in a download list were successfully used and other information.

The content datastore may store multimedia content items. In various embodiments the content datastore may be managed by the content management module . In an embodiment the content datastore may be implemented as any type of data storage unit including for example a cache.

At block at least a portion of a download list of multimedia content item s is received. In a specific implementation the content management module may receive a portion of a download list of multimedia content item s from the predictive download module s . The portion of the download list may include a portion of a specific multimedia content item or may include data that specifies that one or more multimedia content items are to be provided.

At decision point it is determined whether a client application module is using a preferred network connection. In an implementation the network information module may determine whether the client application module is connecting to the network through the preferred network connection . In the event that the client application module is not using the preferred network connection to connect to the network the process may continue to block . In the event that the client application module is using the preferred network connection to connect to the network the process may continue to block .

At block a download of the download list to a content datastore is initiated. In a specific implementation the content management module alone or in combination with the predictive download module s may initiate downloading the download list to the content datastore . The portions of the download list may include a portion of a specific multimedia content item or may include data that specifies that one or more multimedia content items are to be provided.

At decision point it is determine whether the download of the download list was successful. In a specific implementation the content management module may compare the version of the download list in the content datastore with the version of the download list that was provided by the predictive download module s . If the two files do not match the process may continue to block . If the two files match the process may continue to block

At block downloaded multimedia content item s are executed at a particular time. In some implementations the particular time may be at or about the time user of the client application module was predicted by the predictive download module s to have access to the preferred network connection . In a specific implementation the content execution module may execute the downloaded multimedia content item s in the download list. In various embodiments the content execution module may also allow a user of the client application module to interact with the downloaded multimedia content item s .

At decision point it is determined whether the execution was successful. In an implementation the content execution module may provide information regarding whether the downloaded multimedia content item s were successfully executed. The content execution module may also determine whether there were errors in executing the downloaded multimedia content items s . If the content execution module determines there were errors in executing the downloaded multimedia content items the process may continue to block . If the content execution module determines there were no errors in executing the downloaded multimedia content items the process may continue to decision point .

At decision point it is determined whether all multimedia content items in the download list were executed. In a specific implementation the content management module may compare the multimedia content items that were executed by the content execution module with the set of multimedia content items within the download list. If all multimedia content items in the download list were not executed the process may continue to block . If all multimedia content items in the download list were executed the process may continue to block .

At block the predictive download module s is notified of execution success. In a particular implementation the playback reporting module may notify the predictive download module s that all downloaded multimedia content items were successfully executed.

At block the predictive download module s is notified of errors. In various implementations the playback reporting module may notify the predictive download module s of errors in network connectivity downloading execution whether errors in predicting which multimedia content items would be executed by the client application module and or other errors. Such error reporting may allow the predictive download module s to more accurately predict access to the preferred network connection selection of multimedia content items for download lists the types of multimedia content items that are relevant to a given set of users and other items of interest.

The user device comprises one or more computing devices that can receive input from a user and transmit and receive data via the network . In one embodiment the user device is a conventional computer system executing for example a Microsoft Windows compatible operating system OS Apple OS X and or a Linux distribution. In another embodiment the user device can be a device having computer functionality such as a smart phone a tablet a personal digital assistant PDA a mobile telephone etc. The user device is configured to communicate via the network . The user device can execute an application for example a browser application that allows a user of the user device to interact with the social networking system . In another embodiment the user device interacts with the social networking system through an application programming interface API provided by the native operating system of the user device such as iOS and ANDROID. The user device is configured to communicate with the external system and the social networking system via the network which may comprise any combination of local area and or wide area networks using wired and or wireless communication systems.

In one embodiment the network uses standard communications technologies and protocols. Thus the network can include links using technologies such as Ethernet 802.11 worldwide interoperability for microwave access WiMAX 3G 4G CDMA GSM LTE digital subscriber line DSL etc. Similarly the networking protocols used on the network can include multiprotocol label switching MPLS transmission control protocol Internet protocol TCP IP User Datagram Protocol UDP hypertext transport protocol HTTP simple mail transfer protocol SMTP file transfer protocol FTP and the like. The data exchanged over the network can be represented using technologies and or formats including hypertext markup language HTML and extensible markup language XML . In addition all or some links can be encrypted using conventional encryption technologies such as secure sockets layer SSL transport layer security TLS and Internet Protocol security IPsec . In various embodiments the network may be implemented as the network .

In one embodiment the user device may display content from the external system and or from the social networking system by processing a markup language document received from the external system and from the social networking system using a browser application . The markup language document identifies content and one or more instructions describing formatting or presentation of the content. By executing the instructions included in the markup language document the browser application displays the identified content using the format or presentation described by the markup language document . For example the markup language document includes instructions for generating and displaying a web page having multiple frames that include text and or image data retrieved from the external system and the social networking system . In various embodiments the markup language document comprises a data file including extensible markup language XML data extensible hypertext markup language XHTML data or other markup language data. Additionally the markup language document may include JavaScript Object Notation JSON data JSON with padding JSONP and JavaScript data to facilitate data interchange between the external system and the user device . The browser application on the user device may use a JavaScript compiler to decode the markup language document . In an embodiment the user device may include a client application module . The client application module may be implemented as the client application module .

The markup language document may also include or link to applications or application frameworks such as FLASH or Unity applications the SilverLight application framework etc.

In one embodiment the user device also includes one or more cookies including data indicating whether a user of the user device is logged into the social networking system which may enable modification of the data communicated from the social networking system to the user device .

The external system includes one or more web servers that include one or more web pages which are communicated to the user device using the network . The external system is separate from the social networking system . For example the external system is associated with a first domain while the social networking system is associated with a separate social networking domain. Web pages included in the external system comprise markup language documents identifying content and including instructions specifying formatting or presentation of the identified content. The external system may also include content module s as described in more detail herein. In various embodiments the content module s may be implemented as the content module s .

The social networking system includes one or more computing devices for a social networking system including a plurality of users and providing users of the social networking system with the ability to communicate and interact with other users of the social networking system. In some instances the social networking system can be represented by a graph i.e. a data structure including edges and nodes. Other data structures can also be used to represent the social networking system including but not limited to databases objects classes. Meta elements files or any other data structure. The social networking system may be administered managed or controlled by an operator. The operator of the social networking system may be a human being an automated application or a series of applications for managing content regulating policies and collecting usage metrics within the social networking system . Any type of operator may be used.

Users may join the social networking system and then add connections to any number of other users of the social networking system to whom they desire to be connected. As used herein the term friend refers to any other user of the social networking system to whom a user has formed a connection association or relationship via the social networking system . For example in an embodiment if users in the social networking system are represented as nodes in the social graph the term friend can refer to an edge formed between and directly connecting two user nodes.

Connections may be added explicitly by a user or may be automatically created by the social networking system based on common characteristics of the users e.g. users who are alumni of the same educational institution . For example a first user specifically selects a particular other user to be a friend. Connections in the social networking system are usually in both directions but need not be so the terms user and friend depend on the frame of reference. Connections between users of the social networking system are usually bilateral two way or mutual but connections may also be unilateral or one way. For example if Bob and Joe are both users of the social networking system and connected to each other Bob and Joe are each other s connections. If on the other hand Bob wishes to connect to Joe to view data communicated to the social networking system by Joe but Joe does not wish to form a mutual connection a unilateral connection may be established. The connection between users may be a direct connection however some embodiments of the social networking system allow the connection to be indirect via one or more levels of connections or degrees of separation.

In addition to establishing and maintaining connections between users and allowing interactions between users the social networking system provides users with the ability to take actions on various types of items supported by the social networking system . These items may include groups or networks i.e. social networks of people entities and concepts to which users of the social networking system may belong events or calendar entries in which a user might be interested computer based applications that a user may use via the social networking system transactions that allow users to buy or sell items via services provided by or through the social networking system and interactions with advertisements that a user may perform on or off the social networking system . These are just a few examples of the items upon which a user may act on the social networking system and many others are possible. A user may interact with anything that is capable of being represented in the social networking system or in the external system separate from the social networking system or coupled to the social networking system via the network .

The social networking system is also capable of linking a variety of entities. For example the social networking system enables users to interact with each other as well as external systems or other entities through an API a web service or other communication channels. The social networking system generates and maintains the social graph comprising a plurality of nodes interconnected by a plurality of edges. Each node in the social graph may represent an entity that can act on another node and or that can be acted on by another node. The social graph may include various types of nodes. Examples of types of nodes include users non person entities content items web pages groups activities messages concepts and any other things that can be represented by an object in the social networking system . An edge between two nodes in the social graph may represent a particular kind of connection or association between the two nodes which may result from node relationships or from an action that was performed by one of the nodes on the other node. In some cases the edges between nodes can be weighted. The weight of an edge can represent an attribute associated with the edge such as a strength of the connection or association between nodes. Different types of edges can be provided with different weights. For example an edge created when one user likes another user may be given one weight while an edge created when a user befriends another user may be given a different weight.

As an example when a first user identifies a second user as a friend an edge in the social graph is generated connecting a node representing the first user and a second node representing the second user. As various nodes relate or interact with each other the social networking system modifies edges connecting the various nodes to reflect the relationships and interactions.

The social networking system also includes user generated content which enhances a user s interactions with the social networking system . User generated content may include anything a user can add upload send or post to the social networking system . For example a user communicates posts to the social networking system from a user device . Posts may include data such as status updates or other textual data location information images such as photos videos links music or other similar data and or media. Content may also be added to the social networking system by a third party. Content items are represented as objects in the social networking system . In this way users of the social networking system are encouraged to communicate with each other by posting text and content items of various types of media through various communication channels. Such communication increases the interaction of users with each other and increases the frequency with which users interact with the social networking system .

The social networking system includes a web server an API request server a user profile store a connection store an action logger an activity log an authorization server a predictive download module and content system s . In an embodiment the social networking system may include additional fewer or different components for various applications. Other components such as network interfaces security mechanisms load balancers failover servers management and network operations consoles and the like are not shown so as to not obscure the details of the system.

The user profile store maintains information about user accounts including biographic demographic and other types of descriptive information such as work experience educational history hobbies or preferences location and the like that has been declared by users or inferred by the social networking system . This information is stored in the user profile store such that each user is uniquely identified. The social networking system also stores data describing one or more connections between different users in the connection store . The connection information may indicate users who have similar or common work experience group memberships hobbies or educational history. Additionally the social networking system includes user defined connections between different users allowing users to specify their relationships with other users. For example user defined connections allow users to generate relationships with other users that parallel the users real life relationships such as friends co workers partners and so forth. Users may select from predefined types of connections or define their own connection types as needed. Connections with other nodes in the social networking system such as non person entities buckets cluster centers images interests pages external systems concepts and the like are also stored in the connection store .

The social networking system maintains data about objects with which a user may interact. To maintain this data the user profile store and the connection store store instances of the corresponding type of objects maintained by the social networking system . Each object type has information fields that are suitable for storing information appropriate to the type of object. For example the user profile store contains data structures with fields suitable for describing a user s account and information related to a user s account. When a new object of a particular type is created the social networking system initializes a new data structure of the corresponding type assigns a unique object identifier to it and begins to add data to the object as needed. This might occur for example when a user becomes a user of the social networking system the social networking system generates a new instance of a user profile in the user profile store assigns a unique identifier to the user account and begins to populate the fields of the user account with information provided by the user.

The connection store includes data structures suitable for describing a user s connections to other users connections to external systems or connections to other entities. The connection store may also associate a connection type with a user s connections which may be used in conjunction with the user s privacy setting to regulate access to information about the user. In an embodiment the user profile store and the connection store may be implemented as a federated database.

Data stored in the connection store the user profile store and the activity log enables the social networking system to generate the social graph that uses nodes to identify various objects and edges connecting nodes to identify relationships between different objects. For example if a first user establishes a connection with a second user in the social networking system user accounts of the first user and the second user from the user profile store may act as nodes in the social graph. The connection between the first user and the second user stored by the connection store is an edge between the nodes associated with the first user and the second user. Continuing this example the second user may then send the first user a message within the social networking system . The action of sending the message which may be stored is another edge between the two nodes in the social graph representing the first user and the second user. Additionally the message itself may be identified and included in the social graph as another node connected to the nodes representing the first user and the second user.

In another example a first user may tag a second user in an image that is maintained by the social networking system or alternatively in an image maintained by another system outside of the social networking system . The image may itself be represented as a node in the social networking system . This tagging action may create edges between the first user and the second user as well as create an edge between each of the users and the image which is also a node in the social graph. In yet another example if a user confirms attending an event the user and the event are nodes obtained from the user profile store where the attendance of the event is an edge between the nodes that may be retrieved from the activity log . By generating and maintaining the social graph the social networking system includes data describing many different types of objects and the interactions and connections among those objects providing a rich source of socially relevant information.

The web server links the social networking system to one or more user devices and or one or more external systems via the network . The web server serves web pages as well as other web related content such as Java JavaScript Flash XML and so forth. The web server may include a mail server or other messaging functionality for receiving and routing messages between the social networking system and one or more user devices . The messages can be instant messages queued messages e.g. email text and SMS messages or any other suitable messaging format.

The API request server allows one or more external systems and user devices to call access information from the social networking system by calling one or more API functions. The API request server may also allow external systems to send information to the social networking system by calling APIs. The external system in one embodiment sends an API request to the social networking system via the network and the API request server receives the API request. The API request server processes the request by calling an API associated with the API request to generate an appropriate response which the API request server communicates to the external system via the network . For example responsive to an API request the API request server collects data associated with a user such as the user s connections that have logged into the external system and communicates the collected data to the external system . In another embodiment the user device communicates with the social networking system via APIs in the same manner as external systems .

The action logger is capable of receiving communications from the web server about user actions on and or off the social networking system . The action logger populates the activity log with information about user actions enabling the social networking system to discover various actions taken by its users within the social networking system and outside of the social networking system . Any action that a particular user takes with respect to another node on the social networking system may be associated with each user s account through information maintained in the activity log or in a similar database or other data repository. Examples of actions taken by a user within the social networking system that are identified and stored may include for example adding a connection to another user sending a message to another user reading a message from another user viewing content associated with another user attending an event posted by another user posting an image attempting to post an image or other actions interacting with another user or another object. When a user takes an action within the social networking system the action is recorded in the activity log . In one embodiment the social networking system maintains the activity log as a database of entries. When an action is taken within the social networking system an entry for the action is added to the activity log . The activity log may be referred to as an action log.

Additionally user actions may be associated with concepts and actions that occur within an entity outside of the social networking system such as an external system that is separate from the social networking system . For example the action logger may receive data describing a user s interaction with an external system from the web server . In this example the external system reports a user s interaction according to structured actions and objects in the social graph.

Other examples of actions where a user interacts with an external system include a user expressing an interest in an external system or another entity a user posting a comment to the social networking system that discusses an external system or a web page within the external system a user posting to the social networking system a Uniform Resource Locator URL or other identifier associated with an external system a user attending an event associated with an external system or any other action by a user that is related to an external system . Thus the activity log may include actions describing interactions between a user of the social networking system and an external system that is separate from the social networking system .

The authorization server enforces one or more privacy settings of the users of the social networking system . A privacy setting of a user determines how particular information associated with a user can be shared. The privacy setting comprises the specification of particular information associated with a user and the specification of the entity or entities with whom the information can be shared. Examples of entities with which information can be shared may include other users applications external systems or any entity that can potentially access the information. The information that can be shared by a user comprises user account information such as profile photos phone numbers associated with the user user s connections actions taken by the user such as adding a connection changing user profile information and the like.

The privacy setting specification may be provided at different levels of granularity. For example the privacy setting may identify specific information to be shared with other users the privacy setting identifies a work phone number or a specific set of related information such as personal information including profile photo home phone number and status. Alternatively the privacy setting may apply to all the information associated with the user. The specification of the set of entities that can access particular information can also be specified at various levels of granularity. Various sets of entities with which information can be shared may include for example all friends of the user all friends of friends all applications or all external systems . One embodiment allows the specification of the set of entities to comprise an enumeration of entities. For example the user may provide a list of external systems that are allowed to access certain information. Another embodiment allows the specification to comprise a set of entities along with exceptions that are not allowed to access the information. For example a user may allow all external systems to access the user s work information but specify a list of external systems that are not allowed to access the work information. Certain embodiments call the list of exceptions that are not allowed to access certain information a block list . External systems belonging to a block list specified by a user are blocked from accessing the information specified in the privacy setting. Various combinations of granularity of specification of information and granularity of specification of entities with which information is shared are possible. For example all personal information may be shared with friends whereas all work information may be shared with friends of friends.

The authorization server contains logic to determine if certain information associated with a user can be accessed by a user s friends external systems and or other applications and entities. The external system may need authorization from the authorization server to access the user s more private and sensitive information such as the user s work phone number. Based on the user s privacy settings the authorization server determines if another user the external system an application or another entity is allowed to access information associated with the user including information about actions taken by the user.

The social networking system may include the predictive download module and or the content module s . In an embodiment the predictive download module may be implemented as the predictive download module s . The content module s may be implemented as the content module s .

The foregoing processes and features can be implemented by a wide variety of machine and computer system architectures and in a wide variety of network and computing environments. illustrates an example of a computer system that may be used to implement one or more of the embodiments described herein in accordance with an embodiment. The computer system includes sets of instructions for causing the computer system to perform the processes and features discussed herein. The computer system may be connected e.g. networked to other machines. In a networked deployment the computer system may operate in the capacity of a server machine or a client machine in a client server network environment or as a peer machine in a peer to peer or distributed network environment. In an embodiment the computer system may reside with the social networking system the device and the external system or a component thereof. In an embodiment the computer system may be one server among many that constitutes all or part of the social networking system .

The computer system includes a processor a cache and one or more executable modules and drivers stored on a computer readable medium directed to the processes and features described herein. Additionally the computer system includes a high performance input output I O bus and a standard I O bus . A host bridge couples processor to high performance I O bus whereas I O bus bridge couples the two buses and to each other. A system memory and a network interface couple to high performance I O bus . The computer system may further include video memory and a display device coupled to the video memory not shown . Mass storage and I O ports couple to the standard I O bus . The computer system may optionally include a keyboard and pointing device a display device or other input output devices not shown coupled to the standard I O bus . Collectively these elements are intended to represent a broad category of computer hardware systems including but not limited to computer systems based on the x86 compatible processors manufactured by Intel Corporation of Santa Clara Calif. and the x86 compatible processors manufactured by Advanced Micro Devices AMD Inc. of Sunnyvale Calif. as well as any other suitable processor.

An operating system manages and controls the operation of the computer system including the input and output of data to and from software applications not shown . The operating system provides an interface between the software applications being executed on the system and the hardware components of the system. Any suitable operating system may be used such as the LINUX Operating System the Apple Macintosh Operating System available from Apple Computer Inc. of Cupertino Calif. UNIX operating systems Microsoft Windows operating systems BSD operating systems and the like. Other implementations are possible.

The elements of the computer system are described in greater detail below. In particular the network interface provides communication between the computer system and any of a wide range of networks such as an Ethernet e.g. IEEE 802.3 network a backplane etc. The mass storage provides permanent storage for the data and programming instructions to perform the above described processes and features implemented by the respective computing systems identified above whereas the system memory e.g. DRAM provides temporary storage for the data and programming instructions when executed by the processor . The I O ports may be one or more serial and or parallel communication ports that provide communication between additional peripheral devices which may be coupled to the computer system .

The computer system may include a variety of system architectures and various components of the computer system may be rearranged. For example the cache may be on chip with processor . Alternatively the cache and the processor may be packed together as a processor module with processor being referred to as the processor core . Furthermore certain embodiments may neither require nor include all of the above components. For example peripheral devices coupled to the standard I O bus may couple to the high performance I O bus . In addition in some embodiments only a single bus may exist with the components of the computer system being coupled to the single bus. Furthermore the computer system may include additional components such as additional processors storage devices or memories.

In general the processes and features described herein may be implemented as part of an operating system or a specific application component program object module or series of instructions referred to as programs . For example one or more programs may be used to execute specific processes described herein. The programs typically comprise one or more instructions in various memory and storage devices in the computer system that when read and executed by one or more processors cause the computer system to perform operations to execute the processes and features described herein. The processes and features described herein may be implemented in software firmware hardware e.g. an application specific integrated circuit or any combination thereof.

In one implementation the processes and features described herein are implemented as a series of executable modules run by the computer system individually or collectively in a distributed computing environment. The foregoing modules may be realized by hardware executable modules stored on a computer readable medium or machine readable medium or a combination of both. For example the modules may comprise a plurality or series of instructions to be executed by a processor in a hardware system such as the processor . Initially the series of instructions may be stored on a storage device such as the mass storage . However the series of instructions can be stored on any suitable computer readable storage medium. Furthermore the series of instructions need not be stored locally and could be received from a remote storage device such as a server on a network via the network interface . The instructions are copied from the storage device such as the mass storage into the system memory and then accessed and executed by the processor . In various implementations a module or modules can be executed by a processor or multiple processors in one or multiple locations such as multiple servers in a parallel processing environment.

Examples of computer readable media include but are not limited to recordable type media such as volatile and non volatile memory devices solid state memories floppy and other removable disks hard disk drives magnetic media optical disks e.g. Compact Disk Read Only Memory CD ROMS Digital Versatile Disks DVDs other similar non transitory or transitory tangible or non tangible storage medium or any type of medium suitable for storing encoding or carrying a series of instructions for execution by the computer system to perform any one or more of the processes and features described herein.

For purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of the description. It will be apparent however to one skilled in the art that embodiments of the disclosure can be practiced without these specific details. In some instances modules structures processes features and devices are shown in block diagram form in order to avoid obscuring the description. In other instances functional block diagrams and flow diagrams are shown to represent data and logic flows. The components of block diagrams and flow diagrams e.g. modules blocks structures devices features etc. may be variously combined separated removed reordered and replaced in a manner other than as expressly described and depicted herein.

Reference in this specification to one embodiment an embodiment some embodiments various embodiments certain embodiments other embodiments one series of embodiments or the like means that a particular feature design structure or characteristic described in connection with the embodiment is included in at least one embodiment of the disclosure. The appearances of for example the phrase in one embodiment or in an embodiment in various places in the specification are not necessarily all referring to the same embodiment nor are separate or alternative embodiments mutually exclusive of other embodiments. Moreover whether or not there is express reference to an embodiment or the like various features are described which may be variously combined and included in some embodiments but also variously omitted in other embodiments. Similarly various features are described that may be preferences or requirements for some embodiments but not other embodiments.

The language used herein has been principally selected for readability and instructional purposes and it may not have been selected to delineate or circumscribe the inventive subject matter. It is therefore intended that the scope be limited not by this detailed description but rather by any claims that issue on an application based hereon. Accordingly the disclosure of the embodiments is intended to be illustrative but not limiting of the scope which is set forth in the following claims.

