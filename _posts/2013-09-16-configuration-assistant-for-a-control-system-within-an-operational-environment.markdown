---

title: Configuration assistant for a control system within an operational environment
abstract: A method configures an installation of a control system within an operational environment, where the control system may include distributed physical access control system. The method may provide options for installing peripheral devices compatible with a controller, and receive selections based on the provided options. The selections may be associated with an operational environment of at least one selected peripheral device. The method may generate instructions to command the controller to specify individual pins from a plurality of pins for connecting the controller to at least one selected peripheral device. The method may subsequently create a report to describe connections between the specified individual pins associated with the controller and wires associated with at least one selected peripheral device. An apparatus can implement the method to configure the installation of the control system in its operational environment.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09524174&OS=09524174&RS=09524174
owner: Axis AB
number: 09524174
owner_city: Lund
owner_country: SE
publication_date: 20130916
---
This disclosure generally relates to approaches for assisting in the installation and configuring of a control system in an operational environment. In various embodiments a configuration assistant can guide a user in installing and configuring a distributed physical access control system in a particular environment.

Data collection and control systems are increasingly being used across a spectrum of applications to monitor and or control various spaces facilities and or processes. These systems can take advantage of a wide variety of peripheral devices to facilitate various monitoring and control operations. While having a large variety of different types of peripheral devices can improve the functionality and flexibility of these control systems it can increase the complexity of installing and configuring such systems in their operational environments.

One embodiment disclosed below includes a method for configuring an installation of a control system within an operational environment. The method may provide options for installing peripheral devices compatible with a controller and receive selections based on the provided options. The selections may be associated with an operational environment of at least one selected peripheral device. The method may further generate instructions to command the controller to specify individual pins from a plurality of pins for connecting the controller to the at least one selected peripheral device. The method may create a report to describe connections between the specified individual pins associated with the controller and wires associated with the at least one selected peripheral device. When specifying individual pins from the plurality of pins the controller may be commanded to select the individual pins from the plurality of pins and electrically configure at least one individual pin from the plurality of pins.

In another embodiment the method may execute on the controller and may further include determining based on the generated instructions a pin configuration for connecting the controller to the at least one selected peripheral device establishing connections within the controller to individual pins based on the determined pin configuration and providing the created report to an administration device where the created report may be based on determined pin configuration.

In yet another embodiment determining the pin configuration may further include performing an algorithm to reduce the complexity of wiring between the controller and the at least one peripheral device. The plurality of pins may be separated into distinct groups which are arranged in terminal blocks. The algorithm may group connections associated with a particular peripheral device to the same terminal block. Moreover the algorithm may be an optimization algorithm to reduce the complexity of the connections between the controller and the at least one peripheral device. The optimization algorithm may select the individual pins which reduce connection lengths for each peripheral device.

In another embodiment subsequent reconfigurations of the control system which introduce additional peripheral devices may avoid the specification of individual pins which are already used in established connections. The specification of individual pins may further include options for not using specific pins for establishing connections.

In another embodiment the method may execute on an administration device and further include establishing a connection to the controller providing the generated instructions to the controller receiving pin configuration information from the controller and displaying the created report. The created report may be based on received pin configuration information. In a different embodiment the report may be displayed prior to the controller having established connections to the individual pins. In another embodiment the connection to the controller may be established over a network or alternatively established over a serial connection.

In yet another embodiment the method may execute on an administration device. The method may further include determining based on the generated instructions a pin configuration from the plurality of pins for connecting the controller to the at least one selected peripheral device. The method may further export a file which contains the determined pin configuration. The method may further establish a connection to the controller over a network and provide the exported file to command a controller to establish connections within the controller based on the determined pin configuration. The exported file may be provided to additional controllers in a peer to peer manner.

In another embodiment the selections may be based on specific types of peripheral devices or standard data communication protocols used by a class of peripheral devices. The selections may further comprise a number of doors in the operational environment and a number of controllers associated with each door. The report further comprises graphical layouts displaying representations of the pin configuration on the controller and the associated electrical connections to the wires associated with the peripheral devices. The method may display the created report illustrating the determined pin configuration.

An apparatus for configuring an installation of a control system within an operational environment is also disclosed below. The apparatus may include a processor and a memory coupled to the processor. The memory stores software instructions causing the processor to provide options for installing peripheral devices compatible with a controller and receive selections based on the provided options. The selections may be associated with an operational environment of at least one selected peripheral device. The processor may further generate instructions to command the controller to specify individual pins from a plurality of pins for connecting the controller to the at least one selected peripheral device. The processor may further create a report to describe connections between the specified individual pins associated with the controller and wires associated with the at least one selected peripheral device. In the specification of individual pins from the plurality of pins the controller may be further commanded to select the individual pins from the plurality of pins and electrically configure at least one individual pin from the plurality of pins.

In another embodiment the processor is included within the controller and the software instructions may further causes processor to determine based on the generated instructions a pin configuration for connecting the controller to the at least one selected peripheral device. The processor may further establish connections within the controller to individual pins based on the determined pin configuration and provide the created report to an administration device. The created report may be based on determined pin configuration.

In another embodiment determining the pin configuration may further causes the processor to perform an algorithm to reduce the complexity of wiring between the controller and the at least one peripheral device. The plurality of pins may separated into distinct groups which are arranged in terminal blocks. The algorithm may group connections associated with a particular peripheral device to the same terminal block may further include an optimization algorithm to reduce the complexity of the connections between the controller and the at least one peripheral device. The optimization algorithm may select the individual pins which reduce connection lengths for each peripheral device.

In another embodiment subsequent reconfigurations of the control system which introduce additional peripheral devices further causes the processor to avoid the specification of individual pins which are already used in established connections. The specification of individual pins may further include options for not using specific pins for establishing connections.

In yet another embodiment the processor may be included within an administration device and the software instructions further cause processor to establish a connection to the controller provide the generated instructions to the controller receive pin configuration information from the controller and display the created report. The created report may based on received pin configuration information. In another embodiment the report may be displayed prior to the controller having established connections to the individual pins. The connection to the controller may be established over a network or may be established over a serial connection.

In another embodiment the processor may be included within an administration device and the software instructions further cause processor to determine based on the generated instructions a pin configuration from the plurality of pins for connecting the controller to the at least one selected peripheral device. The processor may further export a file which contains the determined pin configuration.

In another embodiment the software instructions may further cause the processor to establish a connection to the controller over a network and provide the exported file to command a controller to establish connections therein based on the determined pin configuration. The exported file may be provided to additional controllers in a peer to peer manner.

In yet another embodiment the selections may be based on specific types of peripheral devices or standard data communication protocols used by a class of peripheral devices. The selections may further comprise a number of doors in the operational environment and a number of controllers associated with each door.

In another embodiment the report further may further include graphical layouts displaying representations of the pin configuration on the controller and the associated electrical connections to the wires associated with the peripheral devices. The processor may prepare the report to display the determined pin configuration.

The following detailed description refers to the accompanying drawings. The same reference numbers in different drawings may identify the same or similar elements.

Given the large variety of different peripheral devices which can be used within a control system installation and configuration of the system can become complex and may even present challenges for experienced installers.

Embodiments described below may ease the above noted complexity. These embodiments relate generally to processes and systems that can assist in the installation and configuring of a control system in an operational environment. In one embodiment a configuration assistant or wizard can guide the user by collecting information regarding one or more peripheral device which have been selected for use by the control system in a particular environment. The configuration assistant may be implemented in software and can run on a controller of the control system. Alternatively the configuration assistant may run on a separate processor which may be electrically coupled to the control system during the configuration process. In other embodiments the configuration assistant may execute on a separate processor offline and can generate files which may be used later for configuring for one or more control systems having similar operational environments.

To make it user friendly process the collected information may be gathered step by step from the user as options for subsequent selections may depend on prior selections. Further information may be obtained as to how the peripheral devices are implemented in their environment and or their electrical characteristics. After the last portion of information regarding the peripheral device s is entered the user may indicate the selection process is complete. The configuration assistant may then generate instructions which may be used to produce a pin configuration for the actual configuration of the controller. In one embodiment the instructions may be provided to the controller for generation of the pin configuration. In another embodiment the configuration assistant may determine the pin configuration for the selected peripheral devices providing instructions the controller. The pin configuration process determines I O pin connector assignments residing on the circuit board of the controller. The controller can internally configure itself to select the appropriate pins on its circuit board for each selected peripheral device. Based on the pin configuration the controller will have assigned each pin to correspond to each appropriate wire on the selected peripheral device s . This configuration may further include setting the appropriate protocols and or electrical characteristics of each pin so that the connections are compatible with each selected peripheral device.

Once the information for the pin configuration is established the configuration assistant may generate a report that can be used to guide the installer in physically connecting each peripheral device to a controller. The report may include a graphical presentation of the layout of the controller s circuit board which can be thought of as a map of how the wires from each selected peripheral device will be connected to the pins of the circuit board.

Embodiments described here may be applicable to any type of control system and operational environment. For example the configuration assistant may be used in a very simple control system having only a single controller and peripheral device. Such applications may be useful for residential environments where the installer may be a home owner with limited installation experience. In other applications the configuration assistant may ease the installation of a sophisticated distributed control system having multiple interacting controllers. In this type of application the installer may be an experienced professional challenged by a complex configuration of peripheral devices operating in a mission critical environment. Regardless of the complexity of the control system and or its operational environment the configuration assistant may ease its installation and or reconfiguration and thus reduce installation times and improve operational reliability.

Distributed control system may include a distributed computing system that includes system units A to N referred to collectively as system units or units and individually as unit . In one embodiment system unit includes a physical access control device. For example system unit may include a controller that controls access to a secure area such as a room or a group of rooms. System unit may receive credentials e.g. access card credentials via a reader device and to determine whether the credentials are authentic and are associated with authority to access the secure area. If so the controller may issue a command to open a lock on a door or perform other operations associated with granting access to the secure area. Other examples may include access to control various devices in an operational environment such as for example starting a fan initiating an alarm in a building management system activate a robot in an industrial automation system etc.

Distributed control system may include one or more distributed datasets. A distributed dataset includes data that is stored in a distributed and potentially redundant fashion in system units that are associated with the distributed dataset. In one embodiment distributed datasets are replicated on more than one device. For example the entire distributed dataset may be stored in all the units . In another embodiment one or more units may store a subset of the distributed dataset. Also a distributed dataset may be associated with all system units or may be associated with a subset of system units . In an embodiment a distributed data set includes the configuration files generated by the configuration assistant in offline mode which are described in more detail with respect to .

In one embodiment consensus is reached among units in order for a change to be made in the distributed dataset e.g. a consensus based distributed database . System unit may propose a change to a consensus based distributed dataset. If the change is accepted by a quorum of units associated with the distributed dataset a consensus may be reached and the change may be propagated to each local copy of the distributed dataset in each associated unit . Thus a consensus with respect to a change in the distributed dataset may be reached if a quorum of the associated units votes for the change A quorum may correspond to the smallest majority of the associated units . Thus if a distributed dataset is associated with N units a quorum may be reached if N 2 1 associated units votes for the change if N is an even number or if N 1 2 1 associated units votes for the change if N is an odd number. Requiring a smallest majority to reach a quorum may ensure that when considering two conflicting proposals at least one system unit receives both proposals and selects one of the proposals for consensus.

A consensus based distributed dataset may ensure that any system unit associated with the distributed dataset includes the information e.g. all the information in one embodiment managed by the distributed dataset. For example a distributed dataset may include access rules and the access rules may be available to any system unit associated with the distributed dataset. Thus as a result of the one or more distributed datasets in one embodiment control system may correspond to a decentralized system with no central controlling device such as a server device. In other embodiments control system may include both a decentralized system and a central controlling device such as a server device . Changes to control system may be configured at any system unit and if the change is associated with a distributed dataset the change may be propagated to other system units associated with the distributed dataset. Furthermore control system may exhibit robustness with respect to device failure as a single point of failure may be avoided. For example if a particular system unit fails the other units may continue to operate without loss of data or with the minimization of loss of data . In another embodiment a change may be made to the distributed dataset without consensus.

Network may enable units to communicate with each other and or may enable administration device to communicate with particular units . Network may include one or more circuit switched networks and or packet switched networks. For example network may include a local area network LAN a wide area network WAN a metropolitan area network MAN a Public Switched Telephone Network PSTN an ad hoc network an intranet the Internet a fiber optic based network a wireless network and or a combination of these or other types of networks.

Administration device allows an administrator to connect to a particular unit in order to configure control system change a configuration of control system receive information from control system and or otherwise administer control system . For example the configuration assistant may run on the administration device for installing and configuring the control system in its chosen environment. Administration device may include any device configured for communicating with one or more of units . For example administration device may include a portable communication device e.g. a mobile phone a smart phone a phablet device a global positioning system GPS device and or another type of wireless device a personal computer or workstation a server device a laptop tablet or another type of portable computer and or any type of device with communication capability. In one embodiment administration device may be part of unit . As such an administrator may administer control system from one or more of units .

Although shows exemplary components of environment in other implementations environment may include fewer components different components differently arranged components or additional components than depicted in . Additionally or alternatively any one device in environment or any group of devices may perform functions described as performed by one or more other devices in environment .

As shown in controller may include a bus a processor a memory a network interface a peripheral interface and a housing . Bus includes a path that permits communication among the components of controller . Processor may include any type of single core processor multi core processor microprocessor latch based processor and or processing logic or families of processors microprocessors and or processing logics that interprets and executes instructions. In other embodiments processor may include an application specific integrated circuit ASIC a field programmable gate array FPGA and or another type of integrated circuit or processing logic.

Memory stores information data and or instructions. Memory may include any type of dynamic volatile and or non volatile storage device. Memory may store instructions for execution by processor or information for use by processor . For example memory may include a random access memory RAM or another type of dynamic storage device a read only memory ROM device or another type of static storage device a content addressable memory CAM a magnetic and or optical recording memory device and its corresponding drive e.g. a hard disk drive optical drive etc. and or a removable form of memory such as a flash memory. In an embodiment memory may also store configuration information for any number of peripheral devices which are compatible with system unit .

Network interface may include a transceiver e.g. a transmitter and or a receiver that enables controller to communicate e.g. transmit and or receive data with other devices and or systems via wired communication links e.g. conductive wire twisted pair cable coaxial cable transmission line fiber optic cable and or waveguide etc. wireless communication links e.g. radiofrequency infrared and or visual optics etc. or a combination of wireless and wired communication links. Network interface may include a transmitter that converts baseband signals to radiofrequency RF signals and or a receiver that converts RF signals to baseband signals. Network interface may be coupled to an antenna for transmitting and receiving RF signals.

Network interface may include a logical component that includes input and or output ports input and or output systems and or other input and output components that facilitate the transmission of data to other devices. For example network interface may include a network interface card e.g. Ethernet card for wired communications and or a wireless network interface e.g. a WiFi card for wireless communications. Network interface may also include a universal serial bus USB port for communications over a cable a Bluetooth wireless interface a radiofrequency identification RFID interface a near field communications NFC wireless interface and or any other type of interface that converts data from one form to another form.

Peripheral interface may be configured to communicate with one or more peripheral devices . For example peripheral interface may include one or more logical components that include input and or output ports input and or output systems and or other input and output components that facilitate the transmission of data to peripheral devices . As an example peripheral interface may communicate with peripheral devices using a Serial Peripheral Interface Bus protocol e.g. the Wiegand protocol and or the RS 485 protocol . As another example peripheral interface may use a different type of protocol. In one embodiment network interface may also act as a peripheral interface for coupling peripherals to controller .

Housing may enclose the components of controller and may protect the components of controller from the environment. In one embodiment housing may include one or more of peripheral devices . In another embodiment housing may include administration device . Housing may define the boundaries of one system unit and or controller from other system units and or controllers in a system with multiple system units and or controllers system.

As described below controller may perform operations relating to the installation and configuration of the system unit in an operational environment. Controller may perform these operations as a result of hardwired circuitry of an ASIC. Controller may also or alternatively perform these operations in response to processor executing software instructions contained in a computer readable medium such as memory . A computer readable medium may include a non transitory memory device. Memory may be implemented within a single physical memory device or spread across multiple physical memory devices. The software instructions may be read into memory from another computer readable medium or from another device. The software instructions contained in memory may cause processor to perform processes described herein. Thus implementations described herein are not limited to any specific combination of hardware circuitry and software.

Returning to peripheral devices reader device may include a device that reads credentials from a user and provides the credentials to controller . For example reader device may include a keypad or keyboard configured to receive an alphanumeric personal identification number PIN from a user a card reader configured to read a card that stores a card code on a magnetic strip or another type of storage device such as a tag a fingerprint reader configured to read a user s fingerprint an iris reader configured to read a user s iris a microphone and a voice signature identifier configured to record a user s voice signature an NFC reader and or another type of reader device. Reader device may include any type security device that can provide credentials and may include one or more sensor devices such any sensor device described below with reference to sensor . For example reader device may include a camera used for facial recognition and or a microphone used for voice recognition. In these cases for example a user s voice and or face may be used as a user credential.

Lock device may include a lock controlled by controller . Lock device may lock a door e.g. prevent it from opening or closing a window an HVAC vent and or another type of access opening to a secure area. For example lock device may include an electromagnetic lock a mechanical lock with a motor controlled by controller an electromechanical lock and or another type of lock.

Sensor may include a sensing device. As examples sensor may include a door sensor to sense whether a door is open or closed a visible light monitoring device e.g. a camera an infrared IR light monitoring device a heat signature monitoring device an audio monitoring device e.g. a microphone and or another type of monitoring device an alarm sensor such as a motion sensor a heat sensor a pressure sensor and or another type of alarm sensor a tamper sensor such as a position sensor located inside unit and or a request to exit button located within a secured area associated with unit and or another type of sensor device. In the examples below sensor may be referred to as camera . 

Actuator may include an actuator device. As an example actuator may control an illumination device. As other examples actuator may include a burglar alarm activator a speaker to play messages or generate alarm signals a display device a motor to move sensor e.g. control the field of view of a camera or other monitoring device a motor for opening closing a door window HVAC vent and or another opening associated with a secure area a motor to secure lock device in a locked or unlocked position a fire extinguishing device and or another type of actuator device.

Although show exemplary components of unit in other implementations unit may include fewer components different components additional components or differently arranged components than depicted in . For example although a single reader device a single lock device a single sensor and a single actuator are shown in in practice peripheral devices may include multiple reader devices multiple lock devices multiple sensors and or multiple actuators . Peripheral devices may also not include one or more of the devices shown in . Additionally or alternatively peripheral devices may include any other type of security device not shown in . Additionally or alternatively any component of unit or any group of components may perform the task or tasks described as performed by one or more other components of unit .

Further although exemplary distributed control system includes a physical access distributed control system other implementations may control systems other than physical access. On the other hand distributed control system may include any type of physical access control systems e.g. in an operational environment such as a control system for opening and or closing a door or controlling physical access to a building or facility. Distributed control system may also include a system to control a fan e.g. start or stop to initiate an alarm in a building management system e.g. failed authentication successful authentication etc. or to control a robot arm in an industrial automation system.

In one embodiment processor IC may be configured to establish direct electrical connections to one or more pins in first group of pins . These direct electrical connections may be realized over electrical traces and by a switching facility not shown located within processor IC . This switching facility may be embodied for example by a crossbar switch. Processor IC may also control second group of pins using one or more relays . Direct electrical connections to the circuitry within processor IC are typically not established with second group of pins since the currents carried by these pins may exceed the limits of processor IC . Processor IC may also be coupled to one or more memory ICs to access instructions and or data. In alternative embodiments a physically separate memory controller not shown may serve as an interface between processor IC and memory IC .

Based on the information provided by the user described in more detail below in reference to the configuration assistant may generate instructions causing processor IC to create a pin configuration. In an embodiment the pin configuration assigns individual pins on the circuit board to appropriate wires connected the selected peripheral devices. For example the pin configuration can specify individual pins from first group of pins for each selected peripheral device. Specifying individual pins may include the actual selection of individual pins for a particular peripheral device. As explained in more detail below the selection of particular pins on circuit board may be motivated by reducing the complexity of the wiring for the installer. Specifying individual pins may further include defining the electrical configuration of the signals associated with the selected pins The electrical configuration may include particular protocol s compatible with a selected peripheral device and or various electrical characteristics which may be user selectable. User selectable electrical characteristics may include for example signal polarities voltage levels etc. and may be associated with a particular operating environment.

Processor IC can configure itself internally to provide the appropriate connections to the pins as specified in the pin configuration. For example given a particular selected peripheral device processor IC selects one or more individual pins from first group of pins and also defines the pin s electrical configuration. The configuration of processor IC may be performed for example by an internal crossbar switch.

In an embodiment the instructions generated by the configuration assistant can include calls to an Application Programming Interface API for accessing available resources within processor IC that facilitate the configuration of system unit . Moreover processor may use a data store containing specifications of devices compatible with system unit to assist in the creation of the pin configuration. The data store may be stored onboard controller in one or more memory ICs . In other embodiments at least a portion of the data store may be stored remotely and accessed over the network by processor IC .

Based on the pin configuration the configuration assistant may create a report to describe the connections between individual pins on circuit board and wires of each selected peripheral device. This report permits the installer to physically connect each device by indicating the location of the appropriate pin on the circuit board for each wire connected to the selected peripheral device. The report is further described below in the discussion of .

First group of pins and second group of pins may further be associated with structures to facilitate the connection of each of the individual pins with the corresponding wires of peripheral devices . For example one such structure is a terminal block which are modular insulated blocks that secure two or more wires together. Terminal blocks provide a convenient means of connecting individual pins to wires and further organizing these connections into identifiable groups. Referring to terminal blocks may be associated with first group of pins . Terminal blocks may be associated with second group of pins . Each terminal block may group a subset of the plurality of pins together helping to organize the wiring of the peripheral devices to circuit board . In some embodiments terminal blocks may include a lower section fixed to the circuit board and an upper section which may be removably attached into the lower section of the terminal block. After the individual wires have been connected to the upper section the upper section may be plugged into the lower section similar to a connector. These types of terminal blocks can provide the ability to quickly engage and disengage an entire subgroup of pins similar to a standard connector. However with the terminal block the connections to the individual pins are first established using individual wires by the installer prior to the terminal block being used as a connector.

The term pin refers to an individual conductor attached to circuit board which may be used by an installer to establish an electrical connection. A pin may also refer to the individual connectors within a terminal block fixedly mounted on circuit board . A pin provides a single electrical connection for signal power or ground. A pin is distinguished from a connector in that the pin only establishes one electrically conducting physical connection. A connector however establishes at least two physical connections which are electrically conducting. For example a standard 3.5 mm phone connector commonly used in audio applications for use with an audio jack has at least two separate physical connections for establishing both a signal connection and a ground connection upon insertion of the phone connector into the audio jack.

Processor IC represents an exemplary realization of processor and thus it may be take the form of any type of microprocessor controller ASIC FPGA any other suitable integrated circuit or any combination thereof. Memory ICs may store software instructions for running the configuration assistant and or instructions for creating pin configurations. Instructions for determining pin configurations may include API libraries and or optimization algorithms for simplifying and improving connection placement. Memory ICs may further store specification data for all the peripheral devices which are compatible with controller .

Wall encloses a secure area such as a room in a building. Door provides access for a user to secure area . In this embodiment controller is installed inside secure area . In other embodiments controller may be installed in an insecure area . Reader device is installed outside secure area and lock device is installed inside secure area to wall and door . Sensor in this example is a monitoring device mounted outside secure area in insecure area . Actuator includes a motor used to control the field of view of the monitoring device in this example.

When a user enters credentials into reader device e.g. by entering a PIN scanning an access card scanning an iris etc. controller may use the credentials to authenticate the identity of the user and may perform a lookup in an access rules table to determine whether to grant access to the user based on the identity of the user and the access rules. If controller determines that access should be granted controller activates lock device to unlock door thus granting access to the user to secure area .

Although shows exemplary components of physical layout in other implementations physical layout may include fewer components different components additional components or differently arranged components than depicted in . Additionally or alternatively any one component or group of components in physical layout may perform a task or tasks described as performed by one or more other components of physical layout .

In this example system units A to F do not include a central controlling device e.g. a server and may include one or more distributed datasets. For example system units A through F may maintain a distributed credentials table a distributed access rules table and or a distributed events log. Assume an administrator uses administration device to log into system unit A to add a user and to add credentials associated with a user. Those added credentials may be distributed to the other system units that control doors to rooms to which the user has access. If system unit B fails for example data collected by system unit B may continue to be available as a result of a distributed events log included in the other system units.

In each unit is associated with a controller . Further in the implementation of each controller is in a different location e.g. different room than other controllers . In other implementations some controllers and units may be located in different buildings different geographic regions different nations different continents etc. than other controllers and units . Despite their diverse locations in one embodiment units and controllers may be able to discover each other or make a best effort to do so form a peer to peer network and distribute datasets.

Although shows exemplary components of physical layout in other implementations physical layout may include fewer components different components additional components or differently arranged components than depicted in . For example in another embodiment a central controlling device e.g. a server may be used in conjunction with one or more distributed datasets. Additionally or alternatively one or more components of physical layout may perform one or more tasks described as performed by one or more other components of physical layout .

Bus includes path that permits communication among the components of administration device . Processor may include any type of single core processor multi core processor microprocessor latch based processor and or processing logic or families of processors microprocessors and or processing logics that interprets and executes instructions. In other embodiments processor may include an ASIC an FPGA and or another type of integrated circuit or processing logic.

Memory stores information data and or instructions which include code for the configuration assistant. Memory may include a dynamic volatile and or non volatile storage device. Memory may store instructions for execution by processor or information such as for example parameters for use by processor . For example memory may include a RAM a ROM a CAM a magnetic and or optical recording memory device etc.

Input device allows an operator to input information into administration device which may include performing sections for peripheral devices . Input device may include for example a keyboard a mouse a pen a microphone a touch screen display etc. Output device may output information to an operator of administration device . Output device may include a display a printer a speaker and or another type of output device which may be used to provide the report to the user which describes connections between the controller and the peripheral devices .

Communication interface may include e.g. a transmitter and or a receiver that enables controller to communicate e.g. transmit and or receive data with other devices and or systems via wired communication links wireless communication links or a combination of wireless and wired communication links. Communication interface may include a network interface card e.g. Ethernet card for wired communications and or a wireless network interface e.g. a WiFi card for wireless communications.

Administration device may perform operations relating to managing units in system . Administration device may perform these operations in response to processor executing software instructions contained in a computer readable medium such as memory . The software instructions contained in memory may cause processor to perform these operations.

Once the configuration assistant collects all of the information regarding system unit and its operating environment information may be generated to create a pin configuration and a report may be provided to assist the user installer to connect controller to the selected peripheral devices. An exemplary report is described below.

Process initially provides options for installing peripheral devices compatible with controller block and receives information regarding the selection of peripheral devices associated with their operational environment block . Interactions between block and block may take place as the collected information may be gathered step by step from the user since options for subsequent selections may depend on prior selections. For example subsequent selections and options in the configuration assistant may depend on what hardware devices were selected in a previous step such as the electrical protocols for a particular card reader. Additionally the configuration assistant can limit the number of options in several steps to simplify the process for the user where some limitations may be selected to include the most common and or sensible implementations. Some limitations could be based on the maximum possible number of specific peripheral devices which may be connected to controller . In a different example some configurations may be limited based on the number and or types of available connectors wiring and or other constrains an installer in the field could encounter. In various embodiments these limitations may be configurable by a system administrator. Alternatively such limitations may be hardcoded in the configuration assistant and thus may be defined for example by the producer of controller .

In another embodiment selections may be performed based on the electrical characteristics of peripheral devices compatible with controller . Here the selections may be based on standard data communication protocols used by a class of peripheral devices. For example the user may select a combination of data transmission standards e.g. RS232 RS485 or Vigan and or protocol i.e. OSDP HADP for each of the peripheral devices that are otherwise compatible with controller . In this embodiment the user does not directly request a specific peripheral device itself but instead the configuration assistant provides options for specific peripheral devices compatible with the user selected standards and or protocols. The options for peripheral device may be presented because the configuration assistant has knowledge of what peripheral devices work with the selected standard and or protocol. The selection process in the configuration assistant may be made using a tree structure but may also be implemented in a table form where all selectable permutations are present.

The configuration assistant may provide options allowing both simple and complex configurations and installations. As described in relation to a configuration for a simple system unit may include single door access control using a card reader and or a pin code reader. Other systems may be more complex and could include iris scanners or may employ other types of credentials by integrating surveillance cameras light and fan switches access to computer systems time clocks etc. Finally the configuration assistant can provide information regarding the operational environment of a selected perioral device . As noted above in the example shown for the door lock in the number of doors that the door lock controls may be specified. Alternatively the number of controllers associated with each door may be provided if multiple controllers are used. In a different example utilizing an image sensor the user may specify the sensor s field of view or for a thermal sensor the nominal ambient temperature of the room where the thermal sensor is placed.

Further referring to once all of the selections have been received the configuration assistant generates instructions to command controller to specify individual pins from the plurality of pins on circuit board for connecting the controller to the selected peripheral device s block . The individual pins are specified using a generated pin configuration which informs controller to select a particular pin residing on circuit board for which a connection will be established and may further specify an electrically configuration of the pin. The electrical configuration may include specifying whether the pin be assigned a signal a power line or a ground line. If a signal is specified the electrical configuration may further include the signal s electrical parameters e.g. voltage frequency current etc. associated standard s and or protocol s . As described below in reference to controller internally configures itself based on the pin configuration. As mentioned above the instructions generated by the configuration assistant to command the controller may in one embodiment include calls to an Application Programming Interface API . In another embodiment the configuration assistant generates instructions to command the controller in the format of for example a list a vector and or a table of parameters. The parameters together with their format would in this case when transferred to the controller be the generated instructions commanding the controller to specify individual pins for connecting the controller to the selected peripheral device s .

Process may create a report based on the pin configuration which permits the user to establish the actual connections between controller and peripheral devices block . The report may be provided on a display of the administrative device and or presented as a hardcopy. An exemplary report is illustrated in which can include graphical layouts displaying representations of the pin configuration on the controller and the associated electrical connections to the wires associated with the peripheral devices. In some embodiments the report may be generated after controller internally configures itself based on the pin configuration thus permitting that any manual modifications made after the configuration by the configuration assistant may be included in the report. In other embodiments the report may be generated prior to the internal configuration of controller and thus is capable of offline use. 

Process may then generate instructions to command controller to specify individual pins from the plurality of pins on circuit board for connecting the controller to the selected peripheral device s block . As noted above specifying individual pins may include the actual selection of individual pins for a particular peripheral device. Specifying individual pins may further include defining the electrical configuration of the signals associated with the selected pins The electrical configuration may include particular protocol s compatible with a selected peripheral device and or various electrical characteristics which may be user selectable. User selectable electrical characteristics may include for example signal polarities voltage levels etc. and may be associated with a particular operating environment. In other embodiments the specification of individual pins include options for not using specific pins for establishing connections.

Based on the instructions generated in block the controller may determine a pin configuration for connecting controller to the selected peripheral devices block . As noted above the pin configuration informs controller how to select a particular pin residing on circuit board for which a connection will be established and may further specify an electrically configuration of the pin. The electrical configuration may include specifying whether the pin be assigned a signal a power line or a ground line. If a signal is specified the electrical configuration may further include the signal s electrical parameters associated standard s and or protocol s . Controller may determine the pin configuration by performing an algorithm to reduce the complexity of wiring between controller and peripheral device s . The algorithm may simplify the wiring by grouping connections associated with a particular peripheral device to the adjacent sets of pins and or within one or more terminal blocks. The algorithm may include an optimization algorithm to reduce the complexity of the connections. One approach for reducing the complexity of the connections may be having the optimization algorithm select the individual pins which reduce connection lengths for each peripheral device. In this regard an exemplary algorithm may attempt to reduce a distance metric between connections for one or more peripheral devices. For example the algorithm may attempt to place connections associated with a particular peripheral device as close to each other as possible. If the closest connection is unavailable the next closest connection may be tried. In another embodiment a greedy algorithm may be used. The greedy algorithm builds up a solution piece by piece and typically selects the next option that offers the most obvious and immediate benefit without regard for any information from prior selections or subsequent selections. In other embodiments any type of optimization algorithms may be used to reduce the complexity of the connections between the controller and the peripheral devices .

The controller may then configure itself internally by establishing connections within the processor IC based on the pin configuration block . Also based on the pin configuration controller may create the report describing the connections between the controller and the selected peripheral devices block . Because the report is produced based on the pin configuration it may be created prior to the controller configuring itself. In some embodiments the internal configuration of the controller in block may be omitted. In this case the pin configuration may simply be written to a file and stored on board which could permit offline configurations of other controllers having the same peripheral devices deployed in similar environments. Alternatively the pin configuration file may be deployed to other system units over network to batch configure system units having similar configurations and environments. Finally the controller provides a report to assist the user in connecting the selected peripheral devices to the controller block . An example report is described above and shown in . In an embodiment the report may be provided to administration device over network . In another embodiment where the administration device is not a separate unit but is part of the system unit itself a report may be provided to the user in an alternative manner. For example the report may be shown on a display which is part of system unit

Finally aspects of process may be used to reconfigure system unit after an initial configuration is performed. Reconfiguration may permit a user to make alterations in the configuration of system unit without having to rework the entire configuration and installation. This may for example permit an installer to make minor changes to the electrical configuration e.g. change a polarity . In another example a reconfiguration may permit a user to add a new peripheral device without having to remove or reconfigure the connections already established with the existing peripheral devices. In such an embodiment the configuration assistant may avoid the specification of individual pins which are already used in established connections to existing peripheral devices.

Process may provide options to the user for installing peripheral devices block and receive selection s of peripheral devices associated with their operating environment block . As noted above the interaction with the user and administration device may take place using a GUI such as for example a web based interface. Blocks and are similar to blocks and as described above in . Process may then generate instructions to command controller to specify individual pins from the plurality of pins on circuit board for connecting the controller to the selected peripheral device s block . In this embodiment the administration device does not generate the pin configuration itself but offloads the task to controller by providing the appropriate instructions which are based in part on the selections made by the user. To simplify the generation of the instructions the configuration utility may use an API designed to work with controller for generating the pin configuration as provided above in the description of .

Once the pin configuration is generated administration device may receive the pin configuration from the controller block . Using information from the pin configuration administration device creates a report describing the electrical connections between each pin on circuit board and the appropriate wire on each selected peripheral device block . Administration device may display the report to the user block and or provide a hardcopy. An example report is discussed above in the description of .

Process may provide options to the user for installing peripheral devices which are compatible with controller block and receive selection s of peripheral devices associated with their operating environment block . As noted above the interaction with the user and administration device may take place using a GUI such as for example a web based interface. Blocks and are similar to blocks and as described above in . Process may then generate instructions to configure controller to specify individual pins from the plurality of pins on circuit board for connecting the controller to the selected peripheral device s block . In this embodiment the generated instructions to command the controller may include for example in a format which includes a list a vector and or a table of parameters. The parameters together with their format would in this case when transferred to the controller be the generated instructions commanding the controller to specify individual pins for connecting the controller to the selected peripheral device s . The administration device determines the pin configuration information itself and does not rely on controller . The determination of the pin configuration may be similar as described above in reference to block shown in block . Once determined the administration device exports the pin configuration to a file for later use block . Using the pin configuration information the administration device creates a report describing the electrical connections between each pin on circuit board and the appropriate wire on each selected peripheral device block . Administration device may subsequently display the report to the user as shown for example in and or provide a hardcopy. The exported configuration file may be provided to controllers on site at a later time so their processor ICs can be internally configured. This approach can be useful in situations where a controller is isolated from an external network in its operational environment. In other embodiments the exported configuration file may be provided to additional controllers in a peer to peer manner.

This application incorporates by reference the following applications filed the same day as the present patent application titled Event Timeline Generation titled Anonymous Decisions in an Access Control System titled Consensus Loss in Distributed Control Systems titled Joining a Distributed Database titled Distributed Events in an Access Control System titled Managing Application Data in Distributed Control Systems titled Distribution of User Credentials .

In the preceding specification various embodiments have been described with reference to the accompanying drawings. It will however be evident that various modifications and changes may be made thereto and additional embodiments may be implemented without departing from the broader scope of the invention as set forth in the claims that follow. The specification and drawings are accordingly to be regarded in an illustrative rather than restrictive sense.

For example while series of blocks have been described with respect to the order of the blocks and or signal flows may be modified in other implementations. Further non dependent blocks and or signal flows may be performed in parallel.

It will be apparent that systems and or methods as described above may be implemented in many different forms of software firmware and hardware in the implementations illustrated in the figures. The actual software code or specialized control hardware used to implement these systems and methods is not limiting of the embodiments. Thus the operation and behavior of the systems and methods were described without reference to the specific software code it being understood that software and control hardware can be designed to implement the systems and methods based on the description herein.

Further certain portions described above may be implemented as a component that performs one or more functions. A component as used herein may include hardware such as a processor an ASIC or a FPGA or a combination of hardware and software e.g. a processor executing software .

The terms comprises and or comprising as used herein specify the presence of stated features integers steps or components but does not preclude the presence or addition of one or more other features integers steps components or groups thereof. Further the term exemplary e.g. exemplary embodiment exemplary configuration etc. means as an example and does not mean preferred best or likewise.

No element act or instruction used in the present application should be construed as critical or essential to the embodiments unless explicitly described as such. Also as used herein the article a is intended to include one or more items. Further the phrase based on is intended to mean based at least in part on unless explicitly stated otherwise.

