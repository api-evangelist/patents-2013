---

title: Method and system for detecting and resolving conflicts in an automatic content recognition based system
abstract: A device that handles operations for automatic content recognition detects utilizing the automatic content recognition (ACR) operations, a conflict when a first overlay and a second overlay are concurrently presented on a channel on the device. The device may modify the presentation of the first overlay and/or the second overlay for the channel based on the detection. The device utilizes the ACR operations to determine an identity of the channel based on a unique identifier such as a channel logo. The device utilizes the ACR operations to determine a location where the first overlay and/or the second overlay is presented based on the channel identity and may relocate the first overlay and/or the second overlay from the determined location to a new location. If the conflict is detected, the device may be resize, defer or cancel presentation of one of the first overlay and/or the second overlay for the channel.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09154841&OS=09154841&RS=09154841
owner: Turner Broadcasting System, Inc.
number: 09154841
owner_city: Atlanta
owner_country: US
publication_date: 20131227
---
This application makes reference to claims priority to and claims the benefit of U.S. Application Ser. No. 61 798 439 which was filed on Mar. 15 2013.

Each of the above referenced applications is hereby incorporated herein by reference in its entirety.

Certain embodiments of the invention relate to digital audio video content recognition. More specifically certain embodiments of the invention relate to a method and system for detecting and resolving overlay conflicts in an automatic content recognition based system.

Smart or connected televisions TVs may receive data from data networks that allow a viewer to not only access broadcast digital content but to also receive multimedia content.

Further limitations and disadvantages of conventional and traditional approaches will become apparent to one of skill in the art through comparison of such systems with some aspects of the present invention as set forth in the remainder of the present application with reference to the drawings.

A method and system for detecting and resolving overlay conflicts in an automatic content recognition based system substantially as shown in and or described in connection with at least one of the figures as set forth more completely in the claims.

These and other advantages aspects and novel features of the present invention as well as details of an illustrated embodiment thereof will be more fully understood from the following description and drawings.

Certain embodiments of the invention may be found in a method and system for detecting and resolving overlay conflicts in an automatic content recognition based system. In accordance with various embodiments of the invention a device that handles operations for automatic content recognition is operable to detect utilizing the automatic content recognition operations a conflict on a channel with concurrent presentation of a first overlay and a second overlay on the device. The device may be referred to as an ACR enabled device. The device may modify the presentation of the first overlay and or the second overlay for the channel based on the detection. The device may utilize the automatic content recognition operations to determine an identity of the channel based on a unique identifier for example a channel logo that is associated with the channel and is presented on the channel. The device may utilize the automatic content recognition operations to determine a location where the first overlay and or the second overlay is presented for the channel based on the determined identity of the channel. In instances where the conflict is detected the device may utilize the automatic content recognition operations to determine one or more corresponding new locations for presenting the first overlay and or the second overlay for the channel in order to resolve the conflict. The one or more corresponding new locations may be based upon a region constraint map for a particular channel. The device may relocate the first overlay and or the second overlay from the determined location where the first overlay and the second overlay is presented to one or more corresponding new locations.

The device may utilize the automatic content recognition operations to determine a corresponding size of the first overlay and or the second overlay for the channel. If the conflict is detected the device may be operable to determine a new size of the first overlay and or the second overlay for the channel in order to resolve the conflict. The device may resize the first overlay and or the second overlay for the channel based on the determined new size. In one embodiment of the invention if the conflict is detected the device may defer presentation of one of the first overlay and or the second overlay for the channel. In another embodiment of the invention if the conflict is detected the device is operable to cancel presentation of one of the first overlay and or the second overlay for the channel.

Various embodiments of the invention provide a system architecture that implements the ACR abstraction layer based on utilizing a real time event manager RTEM to communicate with a plurality of real time fingerprint servers RTFSs . The RTEM may operate as a triggering mechanism that provides events i.e. event identifier and corresponding data to the plurality of real time fingerprint servers RTFSs each of which associates the event s to the corresponding fingerprints of the broadcast network. Each RTFS may employ a different fingerprinting technology. At least portions of the system architecture can be synchronized using a network broadcast time server which is also referred to as a network protocol time NTP server. That is the RTEM and the fingerprinting servers may operate based on a common reference clock provided by the NTP server. Each of the fingerprint servers may generate a set of video fingerprints in real time from a network television feed by utilizing a video fingerprint technology that is different from the technology utilized by any of the other fingerprint servers. The different fingerprinting technologies may be from different fingerprinting vendors for example. The fingerprint servers may also be referred to as real time fingerprint servers RTFSs . A monitor application in the ACR system may be operable to assign one or more interactive event identifiers to the RTEM by associating an NTP broadcast time to a fingerprint that is then propagated to other fingerprint systems e.g. fingerprint servers via an application programming interface API . The fingerprint servers may communicate the sets of video fingerprints and interactive event identifiers to corresponding fingerprint match systems which in turn may communicate with devices that utilize the same video fingerprint technology as the corresponding fingerprint server.

The assignment of the event identifiers is based on a broadcast NTP time corresponding to each identified event. The event identifiers may provide information about different interactive events that may take place in a connected television such as and ACR enable smart TV. A connected TV may refer to for example a television that has internet access and or is capable of running applications. The event identifiers may also be referred to as interactive event identifiers IDs for example. The event identifiers may be determined in real time from a director s input for live programming apriori from a predetermined network schedule or from previously ingested content with interactivity defined e.g. offline content . When determined from previously ingested content the interactive event identifiers may be determined using a video fingerprinting process that is separate from those utilized by the fingerprint servers. This process may rely on any of the video fingerprinting technologies utilized by the fingerprint servers or on a different technology altogether

The abstraction layer may refer to for example the ability of an ACR system to assign the same event identifiers to different sets of video fingerprints that are generated by different video fingerprint technologies. That is by appropriately timing the assignment of event identifiers to multiple sequences of video fingerprints that are generated from the same video content but with different video fingerprinting technologies a single ACR system is able to support video fingerprinting technologies from multiple vendors. This approach allows the ACR system to be both flexible and scalable with respect to fingerprint technology vendors.

Fingerprinting and more particularly ACR fingerprinting may refer to a process by which features of a video frame or a set thereof and or of an audio frame or a set thereof may be analyzed to create representations i.e. fingerprints for each piece of content for example. The fingerprints may be unique to each piece or sequence of content and may be highly robust against broadcast distortions such as re encoding aspect ratio frame rate up down conversion and pitch correction to name a few. The fingerprints may be stored in a reference database in the ACR system such that unidentified content e.g. content from a live network television feed or broadcast may be identified by comparing fingerprints taken of the unidentified content with the stored fingerprints.

Once the event identifiers have been assigned by the monitor application and communicated to the real time fingerprint servers via the real time event manager the real time fingerprint servers may communicate the video fingerprints and the assigned event identifiers to corresponding fingerprint match systems. In some instances the fingerprint match systems may be operated by a third party e.g. television manufacturers vendors etc. as hosted services over the Internet e.g. cloud computing etc. . Each of the fingerprint match systems may communicate with devices e.g. connected TVs tablets smartphones etc. that utilize the same video fingerprint technology utilized by the fingerprint server that corresponds to that fingerprint match system. These devices may be referred to as viewer or end user devices for example.

The fingerprint match systems receive video fingerprints from the end user devices and compare them to the ones received from the real time fingerprint servers. When a match occurs the fingerprint match systems may notify the end user devices that an interactive event is to take place if there is an event identifier that corresponds to the matched video fingerprints.

As described above automatic content recognition may be utilized across several platforms including connected TVs from various manufacturers as well as smartphones and tablets. Since television viewing may be rapidly evolving from a single screen experience to a multiple screen experience television networks may need to automatically identify the context of what a viewer is watching and the time in the program both during a live television broadcast and in subsequent viewings such as when a program is being reproduced by a digital video recorder DVR . In multi screen viewing experiences for example companion applications on second screen devices may also be utilized to interact with the television programming by using fingerprint technology that is available in the second screen device or by pairing the second screen device with the connected TV.

Having the ability to identify context and program timing may enable a network to increase audience engagement extend viewing times and provide program sponsors additional ways to engage with the audience such as offering viewers personalized advertising offers or creating a second screen experience during an advertisement break. These features may be implemented by having a central video fingerprint repository and management platform that facilitates triggering interactive events across various platforms regardless of the ACR vendor solution e.g. fingerprinting technology . For example an ACR system may utilize a single broadcast ACR solution to support connected TVs from multiple vendors as well as second screen devices running companion applications.

There may be instances in which the vendors of connected TVs and supporting services are not able to associate an event with a fingerprint. Instead those vendors may support the association of the content being viewed with a timeline. Accordingly an ACR system may need to support timeline association in addition to event to fingerprint association. For timeline association for example the ACR system may be operable to create and provide a timeline that spans the duration of a program or show. The timeline can be distributed to the corresponding connected TVs supported by the vendors through vendor servers. With the timeline available the connected TV can launch an event when the appropriate point in the timeline is reached.

Below are described various examples of aspects related to an ACR system that utilizes an architecture based on the abstraction layer. These exemplary aspects may comprise the system architecture processes APIs and or web based services.

The ACR system may comprise an offline fingerprint module a monitor application module a real time event manager RTEM a plurality of RTFSs . . . fingerprint match systems end user devices an applications and analytics module and a timeline event creation module . In some instances at least some of the functions of the monitor application module and of the RTEM may be combined and may be provided by a common device or component of the ACR system .

The ACR system may also comprise an NTP server that is operable to provide synchronization to various parts of the ACR system via a common reference clock. For example the NTP server may be operable to synchronize the operation of the RTEM with the operation of the RTFSs . . . . The operations of the NTP server may be based on for example the Internet Engineering Task Force IETF RFC 5905 Network Time Protocol Version 4 Protocol and Algorithms Specification. 

The offline fingerprint module may comprise suitable logic circuitry code and or interfaces that may be operable to handle the offline fingerprinting portion of the operations performed by the ACR system . The offline fingerprint module may be operable to receive pre recorded or offline content such as commercials programs and promotions for example. In this regard the offline fingerprint module may be able to ingest and process content with defined interactivity. The monitor application module may comprise suitable logic circuitry code and or interfaces that may be operable to process a network television feed and the content handled by the offline fingerprint module to create a real time timeline and or real time event triggers. During the process the monitor application module and or the timeline event creation module may interact with backend analytics databases that comprise user engagement data for example. Some of the operations that may be performed by the offline fingerprint module may comprise for example ingest operations storage operations monitoring operations and or content version comparison operations.

The RTEM may comprise suitable logic circuitry code and or interfaces that may be operable to manage real time events based on inputs provided by one or more sources. For example the RTEM may be operable to manage real time events based on events stored in an interactive timeline archive a network schedule and or those provided by an interactive director that may assign interactive event IDs to live programming as the network television feed is being fingerprinted in real time. Moreover the RTEM may be operable to trigger interactive events in legacy systems and or in web based systems. The RTEM may be referred to as a real time event trigger infrastructure for example. The RTEM may comprise a real time event inserter RTEI not shown which is operable to insert the events into the RTFSs . . . .

In accordance with an embodiment of the invention the RTEM may be operable to instruct the monitor application module and or the timeline event creation module to record the fingerprints associated with a live program as well as to store the corresponding set of events created during the live program in the interactive timeline archive. This enables playback of the program with interactivity even after expiration of the corresponding fingerprints in the vendor s third party database. This may occur in instances when there is a re broadcast of the live event at a subsequent date. In the case of timeline based devices the events may be stored and timeline retrieval may be enabled even during the active window of the corresponding fingerprints since there will be no available event to fingerprint association.

In accordance with an embodiment of the invention the RTEM may be operable to receive one or more inputs from a user e.g. an interactive director and to generate based on those inputs interactive event identifiers that can be communicated to the fingerprint servers where they can be associated with or assigned to the video fingerprints generated by the fingerprint servers. The RTEM may be operable to communicate the interactive event identifiers to a television system e.g. legacy system and or to a web system. The interactive event identifiers may be utilized in the television system and or in the web system to trigger interactive events. Moreover the communication of the interactive event identifiers may be based on one or more of an EBIF an HTTP live streaming HLS a satellite network protocol or some other protocol.

In an embodiment of the invention the Real time event manager may be operable to generate one or more signals that provide instructions to the RTFSs . . . to enable the identification of a network television station based on the logo symbol sign watermark and or text that are typically utilized to represent the network television station. The instructions may be related to information that is to be generated and or provided to the end user devices for network television station identification. The instructions may indicate the type of information that is to be provided to the end user devices and or when such information is to be provided. In some instances a portion of the ACR system other than the Real time event manager or in conjunction with the Real time event manager may generate the signals for providing instructions to the RTFSs . . . .

The RTFSs . . . may comprise suitable logic circuitry code and or interfaces that may be operable to handle fingerprinting and fingerprint communications to the fingerprint match systems . Since each vendor or television manufacturer is likely to utilize its own fingerprint technology each of the RTFSs . . . may be a dedicated server for each of the fingerprint technologies supported by the ACR system . In some embodiments of the invention a portion of the RTFSs . . . may be operable to perform video fingerprinting while the remaining portion of the RTFSs . . . may be operable to perform audio fingerprinting or some combination thereof. Fingerprint technologies from multiple vendors may utilize different computations to perform fingerprinting of video and or audio frames. For example each fingerprint technology may utilize a specific set of algorithms parameters operations and or data processing methods for example.

In an embodiment of the invention the RTFSs . . . may be operable to receive one or more signals from the Real time event manager and or from another portion of the ACR system to enable the identification of a network television station based on the logo symbol sign watermark and or text that are typically utilized to represent the network television station. The instructions may be utilized to determine and or provide locations to the end user devices to take fingerprints of the video content being displayed on a viewing screen. In some instances at least a portion of the fingerprinting locations may be provided by the Real time event manager and or by another portion of the ACR system through the instructions received by the RTFSs . . . . In other instances the fingerprinting locations may be determined by the RTFSs . . . based on locally and or remotely stored information. Each fingerprinting location may comprise coordinates in a video frame e.g. x coordinates y coordinates that indicate a particular region in the video frame to fingerprint.

The RTFSs . . . may provide the fingerprinting locations for communication to the end user devices for example in the form of fingerprint profiles. The fingerprint profiles may comprise fingerprinting locations and or other information to be utilized by an end user device for ACR fingerprinting. In some instances the fingerprint profiles may be generated by the RTFSs . . . in response to the instructions received. In other instances the fingerprint profiles comprising the fingerprinting locations may be received by the RTFSs . . . from the Real time event manager and or from another portion of the ACR system . The fingerprint profile of a particular end user device may be updated based on an indication that additional and or different locations may be needed during fingerprinting to identify the network television station logo or symbol being displayed on a viewing screen at the end user device . The update may be generated by the corresponding RTFS and then communicated to the end user device or may be received by the corresponding RTFS from the Real time event manager and or from another portion of the ACR system and then communicated to the end user device .

The indication that a fingerprint profile update may be needed may be the result of network operations that recognize that certain content is being broadcast by several network television stations concurrently e.g. State of the Union address . In such instances the fingerprinting locations being utilized may not analyze the region in a video frame where the logo of the network television station is displayed. Thus providing additional fingerprinting locations in this region may enable detection and identification of the logo and consequently of the network television station.

The indication that a fingerprint profile update may be needed may also be the result of feedback provided by an end user device . The feedback may indicate for example that the content being displayed has been identified but that the content may have originated in any one of several sources and the particular source of the content has not been identified. In such instances the fingerprinting locations being utilized may not analyze the region in a video frame where the logo of the network television station is displayed. Thus providing additional fingerprinting locations in this region may enable detection and identification of the logo and consequently of the source of the content.

In some instances the fingerprint profile and or the fingerprint profile update received by an end user device may comprise information that indicates to the end user device that any additional fingerprinting locations may be utilized automatically when the source e.g. network television station of a particular content is not initially identified.

In one or more embodiments of the invention the RTFSs . . . may be operable to communicate fingerprint profiles and or fingerprint profile updates to the end user devices through the fingerprint match systems . Feedback and or queries from the end user devices may be received by the RTFSs . . . for processing. The RTFSs . . . may in turn communicate information corresponding to the feedback and or queries from the end user devices to the Real time event manager and or to another portion of the ACR system for further processing.

The fingerprint match systems may comprise suitable logic circuitry code and or interfaces that may be operable to enable hosted services in the Internet for matching fingerprints produced by the RTFSs . . . with fingerprints produced by the end user devices . Each of the fingerprint match systems corresponds to a particular ACR or fingerprint technology. In this regard each of the fingerprint match systems may be supported by a third party such as a TV manufacturer for example.

The fingerprint match systems may be operable to compare fingerprints produced by the end user devices with fingerprints provided by the RTFSs . . . . When matches occur the fingerprint match systems may indicate that interactive events are to take place in the end user devices . These interactive events may allow a viewer to be presented with information on the screen or display of an ACR based device and to interact with the device based on the information presented.

The end user devices may comprise a plurality of devices such as connected TVs connected TV with paired devices e.g. tablets and second screen devices such as smartphones and tablets for example. The ACR based devices may be referred to as end user devices for example. Since each of the fingerprint match systems supports a different ACR or fingerprint technology those end user devices that support a particular fingerprint technology are operable to communicate with the corresponding fingerprint match systems that support the same fingerprint technology. Moreover when a secondary or paired device that supports a particular fingerprint technology is used that device may also be able to communicate with the corresponding fingerprint match system that support the compatible fingerprint technology.

The end user devices may be operable to receive and utilize a fingerprint profile and or a fingerprint profile update and to take fingerprints in a pre determined number of locations in a video frame. Each fingerprinting location may be defined by a set of coordinates that describe a region in the video frame where a fingerprint of the video content is to be taken. The end user devices may be operable to receive a series of fingerprint profiles and or fingerprint profile updates and may be operable to adjust ACR fingerprinting accordingly.

The applications and analytics module may comprise suitable logic circuitry code and or interfaces that may be operable to provide data to the end user devices determine what platforms are to be served and when these platforms are to be served handle communications with third party partners and advertisers handle communication with backend analytics databases and determine unique responses for a given device request e.g. fix targeting .

The timeline event creation module may comprise suitable logic circuitry code and or interfaces that may be operable to produce a timeline of the content in a program or show based on information provided by the monitor application module . The timeline event creation module may then provide the timeline created to the applications and analytics module to have the timeline disseminated to the appropriate End user devices that may not support event to fingerprint association. Once the End user devices have the timeline for a particular program or show they may monitor the program or show relative to the timeline and launch appropriate event requests when a specified point in the timeline indicates that a particular event is to take place.

Communication between the RTFSs . . . and the fingerprint match systems may occur through one or more wireless and or wireline communication links. Similarly communications between the fingerprint match systems and the end user devices and or the applications and analytics module may occur through one or more wireless and or wireline communication links. The communication links described above may support one or more communication protocols. For example communication protocols based on Internet Protocol IP may be typically used. Accordingly the RTFSs . . . the fingerprint match systems and the applications and analytics module may comprise suitable logic circuitry code and or interfaces to enable the use of the communication protocols.

In operation the monitor application module and or the RTEM may generate and or handle event identifiers or event triggers that correspond to specific times in a program. These event identifiers may be generated from live programming from a network schedule or from information provided by the offline fingerprint module . The event identifiers may be assigned to the appropriate fingerprints generated by the RTFSs . . . . Since each RTFS relies on a different fingerprint technology system synchronization is needed to appropriately assign the event identifiers to the right spot on a video and or audio sequence. Such synchronization may be achieved by the use of a common reference clock provided by the NTP server .

Each of the RTFSs . . . may communicate the event identifiers and the fingerprints to its corresponding one of the fingerprint match systems . The fingerprint match systems in turn receive fingerprints from their corresponding end user devices and try to match those fingerprints to the ones received from their corresponding RTFSs . . . . When a match occurs the event identifier and or other information may be passed to the appropriate ACR based device. With this information the ACR based device may obtain for example interactive information e.g. graphics from the applications and analytics module . For example a connected TV may receive code or data specific for that device from a content management system CMS via a cloud based content delivery network CDN . There may be other actions performed by the user in connection with the interactive event and or other information presented or produced in connection with the interactive event.

In operation the ACR system may generate a fingerprint profile that may be communicated to one of the end user devices . The fingerprint profile may be communicated through one or more of the Real time event manager one of the RTFSs . . . and one of the fingerprint match systems . The fingerprint profile may comprise locations where the end user device is to take fingerprints of the video content being reproduced by the device. Once the content is identified based on the fingerprints taken and subsequently matched in the corresponding fingerprint match system it may be determined that the source of the content is not known. Knowing the source of the content may be needed in some instances to enable interactive events associated with that source on the end user device. Otherwise an interactive event from for example one network television station may occur when a viewer is watching programming provided by a different network television station.

When the source of the content is not known the end user device may automatically utilize additional locations provided in the fingerprint profile or in a fingerprint profile update. These locations may correspond to the region in the video frame where the network television station logo or symbol is typically placed. Once these fingerprints are taken they may be compared to fingerprints of the network television station logo or symbol at the corresponding fingerprint match systems . When a match occurs and the logo is identified the end user device may be able to receive interactive event identifiers from the corresponding RTFS. Once these interactive event identifiers are received the end user device may communicate with the applications and analytics module to enable the interactive events to occur.

Also shown in are various end user devices such as connected TVs with paired devices and connected TVs without paired devices and mobile devices such as smartphones e.g. iPhone Android etc. and tablets e.g. iPad Samsung Galaxy etc. . A paired device associated with the connected TVs may be a tablet smartphone or other like devices for example.

The end user devices may be operable to utilize the same video fingerprinting technology e.g. video ACR utilized by the video RTFS and supported by the video fingerprint vendor . The video fingerprint vendor may be a vendor manufacturer or other third party service provider that may comprise suitable logic circuitry code and or interfaces operable to provide hosted services over the Internet e.g. cloud computing etc. for the end user devices . These services may comprise video fingerprint matching as well as the delivery of any interactive event IDs associated with a match. The services may also comprise the communication of fingerprint profiles and or other related information to the end user devices and or the reception of feedback and or queries from the end user devices to be communicated to the video RTFS . In addition the video fingerprint vendor may provide a network television station identifier and or network timing information e.g. heartbeat message or NTP based network timestamp that may be utilized by the end user devices for ACR related applications and or to maintain synchronization with the network television feed. The end user devices may comprise suitable logic circuitry code and or interfaces that may be operable to take and send video fingerprints to the video fingerprint vendor for matching.

The end user devices may be operable to utilize the same video fingerprinting technology utilized by the video RTFS and supported by the video fingerprint vendor . The video fingerprinting technology utilized by the end user devices may be different from that utilized by the end user devices . The video fingerprint vendor may be a vendor manufacturer or other third party service provider that may comprise suitable logic circuitry code and or interfaces operable to provide hosted services over the internet for the end user devices . These services may comprise video fingerprint matching as well as the delivery of any interactive event IDs associated with a match. The services may also comprise the communication of fingerprint profiles and or other related information to the end user devices and or the reception of feedback and or queries from the end user devices to be communicated to the video RTFS . In addition the video fingerprint vendor may provide a network television station identifier and or network timing information that may be utilized by the end user devices for ACR related applications and or to maintain synchronization with the network television feed. The end user devices may comprise suitable logic circuitry code and or interfaces that may be operable to take and send video fingerprints to the video fingerprint vendor for matching.

The end user devices and may be operable with a second device e.g. smartphones tablets that may be paired to the parent device. In this regard the second device may comprise suitable logic circuitry code and or interfaces that may be operable to take and send video and or audio fingerprints to a corresponding video fingerprint vendor for matching or enable suitable pairing with the parent device to provide analogous functionality.

The end user devices may utilize the same video fingerprinting technology utilized by the video RTFS and supported by the video fingerprint vendor . The video fingerprint vendor may be a vendor manufacturer or other third party service provider that may comprise suitable logic circuitry code and or interfaces operable to provide hosted services over the Internet for the end user devices . These services may comprise video fingerprint matching as well as the delivery of any interactive event IDs associated with a match. In addition the video fingerprint vendor may provide a network television station identifier and or network timing information that may be utilized by the end user devices for ACR related applications and or to maintain synchronization with the network television feed. The end user devices may comprise suitable logic circuitry code and or interfaces that may be operable to take and send video fingerprints to the video fingerprint vendor for matching.

The end user devices may utilize the same audio fingerprinting technology e.g. audio ACR utilized by the audio RTFS and supported by the audio fingerprint vendor . The end user devices may be referred to as second screen devices for example. The audio fingerprint vendor may be a vendor manufacturer or other third party service provider that may comprise suitable logic circuitry code and or interfaces operable to provide hosted services over the Internet for the end user devices . These services may comprise audio fingerprint matching as well as the delivery of any interactive event IDs associated with a match. The services may also comprise the communication of audio fingerprint profiles and or other related information to the end user devices and or the reception of feedback and or queries from the end user devices to be communicated to the audio RTFS . Audio fingerprint profiles may comprise information related to the characteristics e.g. segments frequencies of the audio fingerprints to be taken by the end user devices . In addition the audio fingerprint vendor may provide a network television station identifier and or network timing information that may be utilized by the end user devices for ACR related applications and or to maintain synchronization with the network television feed. The end user devices may comprise suitable logic circuitry code and or interfaces that may be operable to take and send audio fingerprints to the audio fingerprint vendor for matching.

The RTFSs . . . may comprise suitable logic circuitry code and or interfaces that may be operable to perform fingerprinting of content received from the network television feeds. Each video RTFS may utilize a different video fingerprinting technology or computation from that utilized by the other video RTFSs. Similarly when more than one audio RTFS is utilized its audio fingerprint technology or computation may be different from that utilized by the other audio RTFSs. That is since each vendor supports a different technology for handling fingerprinting dedicated RTFSs may be needed for each vendor and for that vendor s corresponding end user devices. The RTFSs . . . may be operable to send fingerprints interactive event IDs television network station identifiers and or network timing information to their corresponding fingerprint vendors through one or more networks e.g. wireline networks wireless networks and or by utilizing one or more communication protocols.

The RTFSs . . . . may be operable to handle instructions and or information that enable the identification of a network television station based on the logo symbol sign watermark and or text that are typically utilized to represent the network television station. In this regard the RTFSs . . . may be operable to handle instructions and or information as described above with respect to the RTFSs . . . that are illustrated in for example.

The RTEM may comprise suitable logic circuitry code and or interfaces that may be operable to perform real time event triggering. In this regard the RTEM may be operable to manage real time events based on inputs from different sources. For example the RTEM may comprise a pre recorded event trigger module to provide real time triggering from the monitor application module shown in a time scheduled event trigger module to schedule the occurrence of a trigger based on a broadcast schedule and a live event trigger module each of which is operable to handle a different type of input.

The pre recorded event trigger module may be operable to receive real time event triggers from the timeline event creation module described above with respect to . These interactive event IDs may be stored in the interactive timeline archive and may be utilized by the pre recorded event trigger module to assign interactive events via for example defined APIs to fingerprints generated as the network television feeds are fingerprinted by the RTFSs . . . .

The time scheduled event trigger module may be operable to receive a network or broadcast schedule and to assign based on the network schedule interactive events to fingerprints generated as the network television feed is fingerprinted by the RTFSs . . . . The network or broadcast schedule can be in XML format or in some other structured data format for example.

The live event trigger module may be operable to received interactive event IDs assigned by an interactive director to live programming. The interactive director may be an operator that is responsible for inserting events into the live broadcast. For pre produced content for example the interactive director may watch an episode and may determine when an interactive element is to take place when to push a trivia question when to push a fun fact when to drive social engagement and or when to share a clip or post a comment. For live content for example the interactive director may determine when to trigger a poll question and may manage the prompting of interactive games and determine when to trigger particular questions to engage viewers in a friendly competition. For advertisement for example the interactive director may determine when to bring up an offer when to prompt to prepare for interaction or interaction event and or determine how long to leave interactive content on screen based on frequency rules and or time of day. When advertisement is pre fingerprinted for example interactive advertisement activities may occur automatically.

The RTEM may also be operable to trigger interactive events in legacy television systems and or in web based systems. The infrastructure provided by the RTEM may support the triggering of interactive events against applications and set top boxes STBs via enhanced television binary interchange format EBIF hypertext transfer protocol HTTP live streaming HLS via ID3 tags and satellite delivery systems e.g. DISH DirectTV via the appropriate mechanism on the corresponding STB software platform. For HLS an ID3 tag may be utilized for sending interactive event IDs for example.

The RTEM may be operable to assign interactive event IDs to particular fingerprints in a sequence of audio or video fingerprints generated by the RTFSs . . . . The RTEM may also be operable to provide television network station identifiers and or network timing information associated with any sequence of fingerprints.

In the example shown in the RTFSs . . . may correspond to the RTFSs . . . the fingerprint vendors . . . may correspond to the fingerprint match systems and the end user devices . . . may correspond to the end user devices which are illustrated in .

The RTEM may be operable to handle instructions and or information that enable the identification of a network television station based on the logo symbol sign watermark and or text that are typically utilized to represent the network television station. In this regard the Real time event manager may be operable to handle instructions and or information as described above with respect to the Real time event manager that is illustrated in for example.

In operation the RTEM may generate and or handle one or more interactive event IDs that correspond to a particular set of fingerprints generated by the RTFSs . . . . The RTEM may have determined the interactive event IDs based on live event inputs time scheduled event inputs and or pre recorded event inputs. The RTEM may assign or associate the interactive event IDs to their appropriate fingerprints based on the synchronization of its operation to the operation of the RTFSs . . . via broadcast NTP. The RTEM may also provide television network station identifiers and or network timing information to the RTFSs . . . . The RTFSs . . . may communicate the fingerprints interactive event IDs the television network station identifiers and or the network timing information to their corresponding fingerprint vendors.

The client or end user devices may take and send fingerprints to their corresponding fingerprint vendors which in turn determine whether there is a match with the fingerprints received from the RTFSs. Upon detection or determination of a match the fingerprint vendors may return to the viewer device various pieces of information including but not limited to network timing information and any interactive event ID that is triggered as a result of the match.

The portion in may also illustrate the implementation of an abstraction layer that enables the ACR system to assign the same interactive event identifiers to different sets of video and or audio fingerprints that are generated from different fingerprint technologies. That is by appropriately timing the assignment of interactive event identifiers to multiple sequences of fingerprints that are generated from the same video content but with different fingerprinting technologies the ACR system may be able to support fingerprinting technologies from multiple vendors. Such implementation may provide flexibility by enabling a vendor to update its fingerprinting technology without affecting other fingerprinting technologies. Moreover the architecture of the ACR system may provide scalability by enabling new or additional fingerprint technologies from other vendors or from the same vendors to be added and supported.

Referring to there is shown a portion of the ACR system that may comprise the end user devices . . . and the fingerprint vendors . . . shown in . Also shown are application data servers an analytics module a rules engine a cloud based content delivery network CDN and a content management system CMS . In addition shows a user response module and third party partners advertisers .

The application data servers may comprise suitable logic circuitry code and or interfaces that may be operable to receive from a viewer device information related to an interactive event ID a network television station fingerprinted broadcast time CID and additional data and or a device type. The information may be provided by the viewer device in response to a match between a fingerprint taken by the device and a fingerprint taken by the corresponding RTFS. Once a match occurs and the viewer device obtains the appropriate information from its corresponding fingerprint vendor the viewer device may communicate the information to the application data servers which in turn returns the appropriate content that corresponds to the interactive event ID and related data in a callback. Content may be pushed to a second screen or device paired with a connected TV that is logged in to an appropriate application or Web page.

The application data servers may be operable to send information to the analytics module as to what kind of interactions e.g. clicks selections options viewing behavior on a given broadcaster s network are taking place in a viewer device. The application data servers may be operable to handle the flow of user response data with third party partners and or advertisers . The user response data may comprise but need not be limited to TV IDs coupon IDs and event IDs for example. Communication of the user response data between the application data servers and the third party partners advertisers may be handled by the user response module for example. The application data servers may be operable to acquire assets for example text banners graphics overlays and or video from the CMS .

The application data servers may also be operable to deliver event schedules to end user devices to deliver correct content uniform resource locator URL based on the type of viewer device to integrate with a variety of back end systems to integrate with polling servers not shown to integrate with gaming services such as leader boards and or to integrate with customer databases such as those used in connection with store user preferences and social circle members for example. With respect to integrating with back end systems the application data servers may for example integrate with social networks for storage of tweets for later playback and or to filter comments and push back to applications.

The rules engine may comprise suitable logic circuitry code and or interfaces that may be operable to determine which platforms e.g. end user devices are to be served and when are those platforms to be served by the application data servers . The rules engine may be preconfigured and or dynamically configured.

The CMS may comprise suitable logic circuitry code and or interfaces that may be operable to store the content that is delivered to the end user devices. For example content that may be delivered may comprise text banners graphics overlays and video. Other examples of content may comprise polls and fun facts clips to share games and trivia and advertising content. These examples are provided by way of illustration and not of limitation. Accordingly other examples of contents that may be utilized for user interactive events with the end user devices may also be stored in the CMS .

The CMS may comprise suitable logic circuitry code and or interfaces that may be operable to enable communication between the application data servers and the CDN . The CMS is operable to post assets to the CDN . ACR based devices are operable to download the assets such as graphics banners overlays video for example from the CDN .

The analytics module may comprise suitable logic circuitry code and or interfaces that may be operable to receive user interaction information from the application data servers or directly from the viewing devices. The analytics module may be operable to communicate with the fingerprint vendors . . . to receive information and determine what is being watched or viewed in various viewer devices. The analytics module may comprise one or more back end databases to store mange and or process user information.

In operation content may be provided by the application data servers to one of the end user devices . . . in response to receiving an interactive event ID a network television station device type and other data from that viewer device. Rules regarding which viewer device is to be served and when the device may be served may be determined by the rules engine . The content to be served by the application data servers to the viewer device may be stored in the CMS .

The analytics module may determine which viewers are interacting with content and what those viewers are watching based on information received from the application data servers or directly from the viewing devices. Viewer responses that result from interactive events may be handled by the user response module which in turn communicates with third party partners advertisers .

The third party partners advertisers may comprise and or be connected to advertisement servers and or one or more fulfillment systems. The advertisement servers may be utilized to deliver advertisement overlays to ACR based applications running on end user devices. The advertisement servers may also be operable to support the tracking of user impressions and click throughs and or to perform other advertising related functions.

The fulfillment systems may utilize one or more technologies to fulfill viewer requests that occur in connection with ACR based applications and user interaction. Examples of such technologies may comprise but need not be limited to coupon delivery technologies technologies for movie ticket purchases and delivery and or short message service multimedia messaging service SMS MMS gateways.

The end user device may comprise suitable logic circuitry interfaces and or code that may be operable to consume content and perform automatic content recognition. In some instances the end user device may be operable to present an overlay when an ACR event is triggered. For example the end user device may present the ACR overlay B when an ACR event is triggered. In an exemplary embodiment of the invention the end user device may comprise an ACR enabled smartTV. The end user device may be operable to communicate with the ACR system and or a cloud not shown via any available Internet access method such as for example cable modem DOCSIS based xDSL satellite WiMax . and so on.

The broadcast may be operable to provide content to the end user device via the MVPD for consumption. The broadcast and ACR system may comprise for example a xDSL infrastructure a wireless infrastructure such as a WiMAX a cable infrastructure and or a satellite infrastructure. The cable infrastructure may be operable to communicate content to the end user device utilizing cable technologies such as DOCSIS. The satellite infrastructure may be operable to communicate content to the end user device utilizing various satellite communication technologies.

The ACR system may be substantially similar to the ACR system which is described for example with respect to and .

The multichannel video programming distributor may comprise suitable interfaces and or devices that may be operable to deliver modulated broadcast feed from the broadcast system to the end user device . In this regard the multichannel video programming distributor may be operable to deliver live linear content to the end user device . The multichannel video programming distributor may comprise a radio frequency RF an intermediate frequency IF satellite cable and or IP based distribution system. The multichannel video programming distributor may be operable to receive live linear content from the broadcast system .

The multichannel video programming distributor infrastructure A may comprise suitable devices and or interfaces that may be operable to receive live linear content from the broadcast system . In this regard the MVPD infrastructure A may comprise for example xDSL wireless such as WiMax satellite and or cable equipment and infrastructure. For example the MVPD infrastructure A may receive live linear content from a satellite network an IP network a WiMax system an xDSL system and so on. The MVPD infrastructure A may be operable to communicate for example the modulated live linear content to the set top box B.

The cable and or satellite set top box B may comprise suitable logic circuitry interfaces and or code that may be operable to handle operations such as modulation demodulation and security for communication between the MVPD infrastructure A and the end user device . In instances where a cable infrastructure is utilized the cable and and satellite set top box B may comprise a cable modem. In instances where a satellite infrastructure is utilized the cable and and satellite set top box B may comprise a satellite demodulator. The cable and or satellite set top box B may also be operable to generate an overlay for example the STB overlay A.

The ACR engine may comprise suitable logic circuitry interfaces and or code that may be operable to provide automatic content recognition operation for the end user device . The ACR engine may be operable to monitor content and accordingly detect when an ACR event is triggered. In some instances the triggered ACR event may cause the end user device to present the ACR overlay B.

During operation the ACR engine may be operable to present the ACR overlay B concurrent with the presentation of the STB overlay A by the cable and and satellite set top box B. As illustrated in the concurrent presentation of the ACR overlay B and the STB overlay A creates a conflict since the ACR overlay B covers and obscures a portion of the STB overlay A.

In accordance with various embodiments of the invention the system may be operable to detect when there is a conflict with the presentation of at least two overlays and accordingly resolve the conflict.

The end user device may be operable to utilize automatic content recognition operations to detect when a conflict occurs on a channel with concurrent presentation of the ACR overlay B and the STB over overlay A on the end user device . Once the conflict is detected the end user device may be operable to control and or modify the presentation of the ACR enabled overlay B in order to resolve the conflict.

In an exemplary embodiment of the invention the end user device may utilize the automatic content recognition operations to determine an identity of the channel on which the conflict occurs. An identifier that is unique to the channel may be utilized to determine the identity of the channel. In this regard in accordance with various embodiments of the invention the end user device may be operable to determine the identity of a channel based on the unique identifier of the channel which may comprise for example a channel logo a sign a watermark text and or animation.

Based on the determined identity of the channel the end user device may determine the general location where overlays are normally placed for the channel. This may be accomplished automatically by revealing historical overlay patterns or via an overlay profile that is sent to the device and or the ACR system a priori. Accordingly the end user device may utilize that determined general location as the location where the STB overlay A may be located for the channel. Based on the determined location where the STB overlay A may be located for the channel the end user device may determine one or more locations where the ACR overlay B may be positioned so that it does not conflict with STB overlay A. The end user device may then position or relocate the ACR overlay at one of those locations to resolve or prevent the conflict.

In accordance with another embodiment of the invention the end user device may utilize the automatic content recognition operations to determine a corresponding size of the STB overlay A for the channel. When the conflict is detected the end user device may determine a new size of the ACR overlay B for the channel and time of presentation in order to prevent or resolve the conflict. In this regard the end user device may size or resize the ACR overlay for the channel based on the determined new size.

In accordance with another embodiment of the invention the end user device may be operable to defer presentation of ACR overlay B for the channel whenever the conflict is detected. In this regard the end user device may defer presentation and present the ACR overlay B at a subsequent time.

In another embodiment of the invention the end user device may be operable to cancel presentation of one of the ACR overlay B for the channel whenever the conflict is detected.

The network television station operations may comprise suitable logic circuitry code and or interfaces that may be operable to provide information to the broadcast ACR system with abstraction layer . The information provided may comprise information regarding the content or programming that is transmitted or broadcast to the end user device . In this regard the network television station operations may provide an indication to the broadcast ACR system with abstraction layer that the content received by the end user device may be content that is concurrently transmitted by one or more additional network television stations e.g. State of the Union address . The network television station operations may be operable to generate one or more signals that comprise the indication and to communicate the one or more signals to the broadcast ACR system with abstraction layer .

The broadcast ACR system with abstraction layer may correspond to at least a portion of the ACR system described above with respect to . The broadcast ACR system with abstraction layer may be operable to generate a fingerprint profile for the end user device . The fingerprint profile may comprise multiple fingerprinting locations and or other information that may be utilized by the end user device to perform ACR fingerprinting on video content.

The end user device may comprise suitable logic circuitry code and or interfaces that may be operable to perform ACR fingerprinting based on a fingerprint profile. In this regard a synchronous event manager on device may be operable to receive the profile information and request the embedded ACR subsystem in end user device to execute sampling with the new profile. The end user device may be for example a smart or connected TV with built in capabilities for ACR fingerprinting. In this regard the end user device may correspond to one of the end user devices described above with respect to and .

The vendor ACR cloud matching service or system may comprise suitable logic circuitry code and or interfaces that may be operable to perform ACR related functions on the vendor side. The vendor ACR cloud matching service or system may comprise for example control functions and or matching functions.

In operation the broadcast ACR system with abstraction layer may generate a fingerprint profile and may communicate the fingerprint profile to the end user device via the vendor ACR cloud matching service or system . The end user device may utilize the fingerprint profile to take fingerprints in a first region R of a video frame. As illustrated in there may be multiple fingerprinting locations X within R where the end user device may take fingerprints. The end user device may communicate the fingerprints to the broadcast ACR system with abstraction layer to determine whether a match has occurred. If a match has occurred that is when the programming being watched with the end user device has been identified through ACR fingerprinting the broadcast ACR system with abstraction layer may then determine whether the source of the programming is known. When the source of the programming is not known or is uncertain or based upon a time schedule the broadcast ACR system with abstraction layer may generate a new fingerprint profile or a fingerprint profile update to send to the end user device . The profile with logo may be issued by the ACR vendor and may be issued at a specific time as identified by the broadcast network.

The new fingerprint profile or a fingerprint profile update may comprise additional fingerprinting locations that correspond to a second region R where the logo or symbol of the network television stations that provides the programming is typically placed. The end user device may take the additional fingerprints along with the original and may send those additional fingerprints to the broadcast ACR system with abstraction layer for matching. In some instances after receiving the additional fingerprinting locations the end user device may query the broadcast ACR system with abstraction layer to receive approval to utilize the additional fingerprinting locations.

When the logo or symbol fingerprints match those of the network television station associated with the broadcast ACR system with abstraction layer the end user device may receive any interactive event identifiers that may be available for the programming being watched. That is only when the logo displayed is identified as corresponding to the network television station associated with the broadcast ACR system with abstraction layer may any interactive events related to the network television station occur on the end user device .

In some embodiments of the invention the network television station operations may provide an indication to the broadcast ACR system with abstraction layer that the programming provided to the end user device may be provided concurrently by other network television stations. When the same programming is provided by multiple sources ACR fingerprinting may identify the content received but not the source of the content. In this instance the fingerprint profile may comprise additional fingerprinting locations. The fingerprint profile may also comprise instructions to the end user device to utilize the additional fingerprinting locations automatically when the source of the programming is unknown or unclear. When such instructions are not provided to the end user device a priori the end user device may query the broadcast ACR system with abstraction layer to receive approval to utilize the additional fingerprinting locations.

The processor module may comprise suitable logic circuitry code and or interfaces that may be operable to perform the operations functions processes computations and the like described herein with respect to the RTEMs and . In this regard the processor module may be operable to enable an abstraction layer utilized for supporting fingerprint technologies from different vendors.

The processor module may be operable to handle events such as live events time scheduled events and pre recorded events. The processor module may be operable to assign interactive event IDs or similar information to video and or audio fingerprints generated by one or more RTFSs. Moreover the processor module may be operable to handle network timing information for synchronizing the operation of the RTFSs.

The processor module may comprise at least one processing device . The processing device may be a central processing unit CPU a digital signal processor DSP and or other type of integrated circuit that may be utilized to perform data processing operations.

The memory module may comprise suitable logic circuitry code and or interfaces that may be operable to store information utilized to enable the abstraction layer. The network module may comprise suitable logic circuitry code and or interfaces that may be operable to allow the RTEM to communicate with one or more RTFSs such as the RTFS and or with an offline infrastructure such as the offline fingerprint module described above with respect to . The network module may be operable to support one or more communication protocols such as wireline protocols and or wireless protocols. The network module may be operable to receive information related to time scheduled events and or pre recorded events.

The I O interface module may comprise suitable logic circuitry code and or interfaces that may be operable to interact with one of more sources of interactive events information such as an interactive director for example.

The processor module may comprise suitable logic circuitry code and or interfaces that may be operable to perform the operations functions processes computations and the like described herein with respect to the RTFSs . . . and the RTFSs . . . . In this regard the processor module may be operable to perform fingerprinting operations for a vendor specific technology that may be provided for broadcasting to the network module for example. Since the processor module or other similar module in one of the RTFSs may perform vendor specific fingerprinting operations that are different from those in other RTFSs the use of an abstraction layer at a real time event trigger infrastructure may enable a simplified implementation of an ACR system capable that supports multiple RTFSs with different vendor specific technologies.

The processor module may be operable to perform ACR or fingerprinting computations on a network television feed for audio and or video fingerprinting. In this regard the processor module may be operable to handle frame by frame fingerprinting operations for example. Moreover the processor module may be operable to handle network timing information for synchronizing the operation of the RTFS with that of a network time protocol server such as the network time protocol server .

The processor module may comprise at least one processing device . The processing device may be a CPU a DSP and or other type of integrated circuit or ASIC that may be utilized to perform data processing operations.

The memory module may comprise suitable logic circuitry code and or interfaces that may be operable to store information utilized to enable the abstraction layer. The memory module may be operable to store information generated in connection with fingerprinting computations.

The network module may comprise suitable logic circuitry code and or interfaces that may be operable to allow the RTFS to communicate with a corresponding one of the fingerprint match systems or with a corresponding one of the fingerprint vendors . . . described above. The network module may also be operable to support communication between the RTFS and a real time event manager . The network module may support one or more communication protocols such as wireline protocols and or wireless protocols.

In step an vendor ACR system such as the vendor ACR cloud matching service or system described above may provide a fingerprint profile to an end user device . In step the vendor system such as the vendor ACR cloud matching service or system may receive an indication that the same content that is being provided to the end user device is concurrently provided by other network television stations such as for example the State of the Union address. This may occur via a plurality of concurrent matches of the same content or via a flag or other indicator in the schedule or program guide.

In step the vendor system such as the vendor ACR cloud matching service or system may generate a new fingerprint profile or a fingerprint profile update that comprises additional fingerprinting locations that correspond to the region in a video frame where the logo or symbol of the network television station is typically displayed. This may be based upon information sent to the vendor ACR system such as the vendor ACR cloud matching service or system by the broadcast ACR system apriori that may comprise show or program scheduling information a time to invoke new profile an actual content of the logo and so on. The location may be different based on the content. For example for newscasts or other regular programming the logo may be typically placed on the lower right hand corner of the video frame. On the other hand for a programming guide the logo may be typically placed on the upper left hand corner of the video frame. In some embodiments of the invention the additional fingerprinting locations may correspond to more than one region where each region is related to one of the typical placements of the logo or symbol of the network television station.

In step the vendor ACR system such as the vendor ACR cloud matching service or system communicates the new fingerprint profile or fingerprint profile to the end user device to enable identification of the particular network television station providing the content.

In step a vendor ACR system such as the vendor ACR cloud matching service or system may receive an indication that the same content that is being provided to the end user device is also provided by other network television stations. An example may occur when a program or show is syndicated and is available at the same time of day from multiple network television stations. The indication may result when for example fingerprints taken by the end user device of the program or show result in multiple matches in a database.

At step the vendor ACR system such as the vendor ACR cloud matching service or system may generate a new profile or a profile update comprising additional fingerprinting locations corresponding to a region where network logo is displayed based on profile information provided by the broadcast ACR system. This may be in response to a real time request or sent to the vendor ACR cloud matching service or system. In this regard the vendor ACR cloud matching service or system may generate a new fingerprint profile or a fingerprint profile update that comprises additional fingerprinting locations that correspond to the region in a video frame where the logo or symbol of the network television station is typically displayed.

In step the vendor ACR system such as the vendor ACR cloud matching service or system communicates the new fingerprint profile or fingerprint profile update to the end user device to enable identification of the particular network television station providing the content displayed by the end user device.

In step an vendor ACR system such as the vendor ACR cloud matching service or system described above may generate a fingerprint profile for an end user device. The fingerprint profile may comprise one or more fingerprinting locations that correspond to a region where the logo or symbol of the network television station associated with the ACR system is typically displayed based upon information that may be provided by the broadcast ACR system .

In step the vendor ACR system such as the vendor ACR cloud matching service or system may generate an indication that the end user device may automatically utilize the fingerprinting locations corresponding to the region where the logo is displayed when the network television station identity is not known or is unclear.

In step the vendor ACR system such as the vendor ACR cloud matching service or system may communicate the fingerprint profile and the indication the end user device to enable identification of the particular network television station providing the content. In some instances the indication may be part of the fingerprint profile.

In an embodiment of the invention a device in an broadcast ACR system such as the ACR system or the broadcast ACR system with abstraction layer may be operable to handle automatic content recognition operations and to generate one or more signals that provide instructions. The device may be an real time event manager e.g. real time event manager a RTFS e.g. RTFSs . . . RTFSs . . . and or some other portion of an ACR system for example. The instructions may comprise instructions to determine one or more locations in a video frame to take fingerprints. The one or more locations may correspond to a pre determined or dynamically determined portion of the video frame in which a graphical item that represents a network television station may be displayed. The graphical item may comprise one or more of a logo a symbol a sign a watermark and text that represent the network television station.

The instructions may comprise instructions to generate a profile e.g. fingerprint profile comprising the determined one or more locations. The instructions may also comprise instructions to send the generated profile for communication to an end user device wherein the end user device is operable to utilize the profile to take fingerprints of content provided by the network television station. An example of such an end user device is one of the end user devices in one of the end user devices . . . in and the end user device in .

The signals generated by the broadcast ACR system may also provide instructions to generate an indication that the determined one or more locations are to be automatically utilized by the end user device to take fingerprints when one or more fingerprints previously taken by the end user device match fingerprints that correspond to content provided by the network television station. The instructions may also provide that the generated indication be sent for communication to the end user device.

In another aspect of the invention the device may be operable to receive an indication that one or more fingerprints previously taken by the end user device match fingerprints that correspond to content provided by the network television station and in response to the received indication the generated one or more signals may provide instructions to a portion of the vendor ACR system such as the vendor ACR cloud matching service or system to generate the profile. In general the vendor ACR system such as the vendor ACR cloud matching service or system is operable to issue profile instructions.

In another aspect of the invention the broadcast ACR system may be operable to generate one or more additional signals that provide instructions. These instructions may comprise instructions to generate additional profiles at a pre determined rate. The pre determined rate may be approximately one profile every five seconds or to keep a given profile active until further notice. Each additional profile may comprise one or more locations in a video frame to take fingerprints. The one or more locations of each additional profile may correspond to a pre determined or dynamically determined portion of the video frame in which a graphical item that represents the network television station is displayed. These instructions may also comprise instructions to send the generated additional profiles for communication to the end user device.

In another aspect of the invention the device may be operable to receive an indication that the content provided by the network television station is provided concurrently by other network television stations and in response to the received indication the generated one or more signals may provide instructions to a portion of the ACR system to generate the profile. The indication may be provided by for example the network television station operations shown in .

In another aspect of the invention the broadcast ACR system may be operable to receive an indication that one or more fingerprints previously taken by the end user device match fingerprints that correspond to content provided by the network television station and also match content provided by one or more additional network television stations. In this scenario the vendor ACR system such as the vendor ACR cloud matching service or system may be operable to query the Broadcast ACR system in real time to retrieve a updated fingerprint profile. The updated profile which may comprise information regarding location of specific logos pointers to the logo itself as a file and various other instructions time to invoke auto invoke etc is sent to the ACR vendor s control server. The ACR vendor s control server sends the updated profile to the TV and or end user device. In another embodiment of the invention the broadcast ACR system may be operable to send the enhanced profile information in advance of potential multi matches and permit the vendor ACR system such as the vendor ACR cloud matching service or system to automatically invoke the profiles as necessary upon detection of multi matches against networks which enhanced fingerprint profiles exist. In response to the received indication the one or more signals generate by the device may provide instructions to a portion of the ACR system to generate the profile.

With respect to the various aspects of the invention described above the profile may comprise a plurality of locations in the video frame to take fingerprints that correspond to a portion of the video frame that is different from the pre determined portion of the video frame in which the graphical item is displayed. The plurality of locations could comprise from about 16 locations to about 36 locations or possibly more.

In step the identity of a channel may be determined based on a unique identifier such as a logo utilizing ACR. In step a position where an overlay such as an STB overlay for the channel is generally placed may be determined automatically or via an overlay profile that may explicitly identify positions or locations. In step the channel identity and corresponding determined position where the STB overlay is generally placed may be stored. In step when the channel is being viewed and an ACR event is triggered and an ACR overlay is to be presented ACR may be utilized to determine whether the STB overlay is currently being presented. In step if the STB overlay is currently being presented determine where to position or reposition the ACR overlay how to size or resize the ACR overlay whether to defer presentation of the ACR overlay to a subsequent time or whether to cancel presentation of the ACR overlay based on the stored channel identity and corresponding position where the STB overlay is generally placed in order to prevent or resolve any conflict and prevent or resolve conflict based on this determination.

In step the identity of a channel may be determined based on a unique identifier such as a logo utilizing ACR. In step a position where an overlay such as an STB overlay for the channel is generally placed may be determined automatically or via an overlay profile that may explicitly identify positions or locations. In step the channel identity and corresponding determined position where STB overlay is generally placed may be stored. In step when the channel is being viewed and an ACR event is triggered and an ACR overlay is to be presented determine utilizing ACR whether the STB overlay is currently being presented. In step if the STB overlay is not currently being presented the ACR overlay may be presented. In step while the ACR overlay is being presented ACR detects that the STB overlay is being presented. In other words STB overlay was presented after the ACR overlay was presented. In step it may be determined where to reposition the ACR overlay how to resize the ACR overlay whether to defer presentation of the ACR overlay to a subsequent time or whether to cancel presentation of the ACR overlay based on the determined position where the STB overlay is generally placed in order to prevent or resolve any conflict and prevent or resolve conflict based on this determination.

In various exemplary embodiments of the invention a method and system for providing graphical item e.g. channel logo identification based on automatic content recognition. In this regard a device that is operable to handle automatic content recognition operations may be operable to generate one or more signals that provide instructions to determine one or more locations in a video frame to take fingerprints. The one or more locations correspond to a determined portion of the video frame in which a graphical item that represents a network television station is displayed. The generated one or more signals may provide instructions to generate a profile comprising the determined one or more locations and to send the generated profile for communication to an end user device wherein the end user device is operable to utilize the profile to take fingerprints of content provided by the network television station. The graphical item may comprise one or more of a channel logo a symbol a sign a mark an object a watermark and text that represent the network television station.

The generated one or more signals may also provide instructions to generate an indication that the determined one or more locations are to be automatically utilized by the end user device to take fingerprints when one or more fingerprints previously taken by the end user device match fingerprints that correspond to content provided by the network television station. The generated one or more signals may also provide instructions to send the generated indication for communication to the end user device.

The device may also be operable to receive an indication that one or more fingerprints previously taken by the end user device match fingerprints that correspond to content provided by the network television station. In response to the received indication the generated one or more signals provide instructions to generate the profile. The device is operable to generate one or more additional signals that provide instructions to generate additional profiles at a determined rate wherein each additional profile comprises one or more locations in a video frame to take fingerprints. The one or more locations of each additional profile corresponds to a determined portion of the video frame in which a graphical item that represents the network television station is displayed. The generated additional profiles for communication maybe sent to the end user device.

An exemplary determined rate is approximately one profile every five seconds. Other rates whether lesser or greater may also be utilized without departing from the spirit and scope of the invention.

The device may also be operable to receive an indication that the content provided by the network television station is provided concurrently by other network television stations. In response to the received indication the generated one or more signals provide instructions to generate the profile. The device may receive an indication that one or more fingerprints previously taken by the end user device match fingerprints that correspond to content provided by the network television station and also match content provided by one or more additional network television stations. In response to the received indication the generated one or more signals provide instructions to generate the profile. The profile may comprise a plurality of locations in the video frame to take fingerprints that correspond to a portion of the video frame that is different from the determined portion of the video frame in which the graphical item is displayed.

Another embodiment of the invention may comprise a server or computer system that is operable receive an indication that one or more fingerprints previously taken by an end user device match fingerprints that correspond to content provided by a network television station. In response to the received indication one or more instructions may be generated to generate a profile comprising one or more locations in a video frame that correspond to a determined portion of the video frame in which a graphical item that represents the network television station is displayed. One or more instructions may also be generated to send the generated profile for communication to the end user device wherein the end user device is operable to utilize the profile to take fingerprints of content provided by the network television station.

In various embodiment of the invention a device that is operable to handle operations for automatic content recognition is operable to detect utilizing the automatic content recognition operations a conflict that occurs on a channel when a first overlay and a second overlay are concurrently displayed on the device. The device may be operable to control and or modify the presentation of the first overlay and or the second overlay for the channel based on the detection in order to resolve the conflict. The device may be operable to utilize the automatic content recognition operations to determine an identity of the channel based on a unique identifier that is associated with the channel and is presented on the channel. The unique identifier of the channel may comprise a channel logo a sign a watermark text animation or the content itself. The unique identifier may comprise a graphical item.

The device may be operable to utilize the automatic content recognition operations to determine a location where the first overlay and or the second overlay is presented for the channel based on the determined identity of the channel. If the conflict is detected the device is operable to utilize the automatic content recognition operations to determine one or more corresponding new locations for presenting the first overlay and or the second overlay for the channel in order to resolve the conflict. The one or more corresponding new locations may be based upon a region constraint map for a particular channel. In instances when the conflict is detected the device may be operable to relocate the first overlay and or the second overlay from the determined location where the first overlay and the second overlay is presented to one or more corresponding new locations.

The device may also be operable to utilize the automatic content recognition operations to determine a corresponding size of the first overlay and or the second overlay for the channel. If the conflict is detected the device is operable to determine a new size of the first overlay and or the second overlay for the channel in order to resolve the conflict. In instances where the conflict is detected the device is operable to resize the first overlay and or the second overlay for the channel based on the determined new size.

In an embodiment of the invention the device may be operable to defer presentation of one of the first overlay and the second overlay for the channel whenever the conflict is detected. In this regard the device may defer presentation and present the one of the first overlay and the second overlay at a subsequent time. In another embodiment of the invention the device may be operable to cancel presentation of one of the first overlay and the second overlay for the channel whenever the conflict is detected.

Throughout this disclosure the use of the terms dynamically and or adaptively with respect to an operation means that for example parameters for configurations for and or execution of the operation may be configured or reconfigured during run time e.g. in or near real time based on newly received or updated information or data. For example an operation within a transmitter and or a receiver may be configured or reconfigured based on for example current recently received and or updated signals information and or data.

As utilized herein the terms circuits and circuitry refer to physical electronic components i.e. hardware and any software and or firmware code which may configure the hardware be executed by the hardware and or otherwise be associated with the hardware. As used herein for example a particular processor and memory may comprise a first circuit when executing a first one or more lines of code and may comprise a second circuit when executing a second one or more lines of code. As utilized herein and or means any one or more of the items in the list joined by and or . As an example x and or y means any element of the three element set x y x y . As another example x y and or z means any element of the seven element set x y z x y x z y z x y z . As utilized herein the term exemplary means serving as a non limiting example instance or illustration. As utilized herein the terms e.g. and for example set off lists of one or more non limiting examples instances or illustrations. As utilized herein circuitry is operable to perform a function whenever the circuitry comprises the necessary hardware and code if any is necessary to perform the function regardless of whether performance of the function is disabled or not enabled by some user configurable setting.

Other embodiments of the invention may provide a computer readable device and or a non transitory computer readable medium and or a machine readable device and or a non transitory machine readable medium having stored thereon a machine code and or a computer program having at least one code section executable by a machine and or a computer thereby causing the machine and or computer to perform the steps as described herein for detecting and resolving overlay conflicts in an automatic content recognition based system.

Accordingly the present invention may be realized in hardware software or a combination of hardware and software. The present invention may be realized in a centralized fashion in at least one computer system or in a distributed fashion where different elements are spread across several interconnected computer systems. Any kind of computer system or other apparatus adapted for carrying out the methods described herein is suited. A typical combination of hardware and software may be a general purpose computer system with a computer program that when being loaded and executed controls the computer system such that it carries out the methods described herein.

The present invention may also be embedded in a computer program product which comprises all the features enabling the implementation of the methods described herein and which when loaded in a computer system is able to carry out these methods. Computer program in the present context means any expression in any language code or notation of a set of instructions intended to cause a system having an information processing capability to perform a particular function either directly or after either or both of the following a conversion to another language code or notation b reproduction in a different material form.

While the present invention has been described with reference to certain embodiments it will be understood by those skilled in the art that various changes may be made and equivalents may be substituted without departing from the scope of the present invention. In addition many modifications may be made to adapt a particular situation or material to the teachings of the present invention without departing from its scope. Therefore it is intended that the present invention not be limited to the particular embodiment disclosed but that the present invention will include all embodiments falling within the scope of the appended claims.

