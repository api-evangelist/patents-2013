---

title: Time-interleaved analog-to-digital converter bandwidth matching
abstract: A time-interleaved Analog-to-Digital Converter (ADC) includes a set of time multiplexed sub-ADC circuits, each sub-ADC circuit comprising a sample-and-hold circuit. Each sample-and-hold circuit includes a bootstrap circuit for maintaining a constant voltage level between an input terminal of a switch and a gate terminal of the switch, the switch for switching between a track mode and a hold mode, and a capacitor bank associated with the bootstrap circuit such that a setting of the capacitor bank affects the voltage level.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09071270&OS=09071270&RS=09071270
owner: CREST SEMICONDUCTORS, INC.
number: 09071270
owner_city: San Jose
owner_country: US
publication_date: 20130531
---
The present application is a continuation of and claimed priority under 35 U.S.C. 120 to U.S. application Ser. No. 13 309 194 filed Dec. 1 2011 entitled TIME INTERLEAVED ANALOG TO DIGITAL CONVERTER BANDWIDTH MATCHING which is incorporated herein by reference in its entirety.

Electronic devices typically make use of both analog and digital signals. An analog signal is a continuous signal which may assume any value. A digital signal is one which may assume one of a discrete set of values. A signal may be in the form of an electrical current or a voltage. Electronic circuitry often includes devices for transferring analog signals into digital signals and vice versa. For example an Analog to Digital Converter ADC is used to capture an analog signal and produce an equivalent digital signal.

It is desirable to have an ADC that is able to convert an analog signal into a high resolution digital signal at very high speeds. However the speed at which an ADC is able to operate is limited by a variety of factors. One way to increase speed is to use a time interleaved ADC. A time interleaved ADC includes a number of sub ADC circuits in parallel. An incoming analog signal is time multiplexed and sent to each of the sub ADC circuits. The digital output of each of those sub ADC circuits is then recombined accordingly to produce a final digital signal.

Throughout the drawings identical reference numbers designate similar but not necessarily identical elements.

As mentioned above a time interleaved ADC circuit can be used to convert analog signals to digital signals at faster speeds. However one limitation of a time interleaved ADC is that each sub ADC circuit can have a different frequency response due to manufacturing variations in the on chip circuitry. Each sub ADC circuit includes a sample and hold circuit that is used to sample the input signal on a sampling clock edge and hold that sampled signal value for subsequent signal processing by the sub ADC circuit

The frequency response of the sample and hold circuit refers to how the output signal level is affected by frequency of the input signal. The resistance of the switch and the capacitor used to store the sampled signal form a low pass filter. A low pass filter causes the signal level to attenuate at higher frequencies. If the frequency response of each of the sub ADC circuits is different then the input signal will attenuate differently for each sub ADC circuit. This can lead to errors at higher frequencies where the low pass filter has a greater attenuation effect on the input signals.

In light of this and other issues the present specification discloses a time interleaved ADC circuit wherein each sub ADC includes a trimming mechanism to adjust the frequency response of each sub ADC circuit so that each sub ADC circuit exhibits a relatively similar frequency response. According to certain illustrative examples the frequency response of each sub ADC circuit is trimmed by adjusting the voltage between the input terminal of the switch and the control point terminal of the switch within the sample and hold circuit. In the case that the switch is a Metal Oxide Semiconductor Field Effect Transistor MOSFET device the voltage that is adjusted is between the gate terminal and the source terminal of the transistor. By adjusting the gate to source voltage of the transistor the intrinsic resistance of the transistor while in the ON state is adjusted. Specifically the gate to source voltage is decreased in order to cause an increase in the intrinsic resistance of the transistor in the ON state. The increase of the resistance affects the frequency response of the sub ADC circuit by decreasing the bandwidth.

To cause a decrease in the gate to source voltage of the sample and hold circuit the efficiency of a bootstrap circuit associated with the switch of that sample and hold circuit is reduced. The bootstrap circuit is used to maintain a relatively constant gate to source voltage across the switch. This is important to maintain the linearity of the sample and hold circuit. More detail on the bootstrap circuit will be described below.

The efficiency of the bootstrap is defined by the percentage of the final gate to source voltage compared to the desired swing which in this example is the supply voltage that charges the main capacitor within the bootstrap circuit. The efficiency of the bootstrap can be adjusted by adjusting the ratio of the main bootstrap capacitor to the gate capacitance of the switch and any parasitic capacitances on the bootstrapped control signal. Thus by adding additional load capacitance at the gate of the switch the efficiency of the bootstrap circuit is reduced. This in turn decreases the gate to source voltage which increases the intrinsic ON state resistance of the switch.

According to certain illustrative examples capacitance can be selectively added to the capacitance at the gate of the switch through use of a capacitor bank. The capacitor bank includes a set of capacitors in parallel. Each capacitor is connected to a switch that selectively allows that capacitor to contribute to the total capacitance of the capacitor bank. In some cases the capacitor bank may be binary weighted. Thus by setting the discrete capacitance of the capacitor bank the frequency response of each sub ADC circuit within the time interleaved ADC can be adjusted to match.

Through use of methods and systems embodying principles described herein a time interleaved ADC circuit can be manufactured with a mechanism to adjust the frequency response of each sub ADC circuit therein. Specifically after manufacture the frequency response of each sub ADC circuit can be determined. Then the capacitor bank for each of the sub ADC circuits is adjusted to decrease the bandwidth of each sub ADC circuit to match the bandwidth of the sub ADC circuit having the smallest bandwidth.

In the following description for purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of the present systems and methods. It will be apparent however to one skilled in the art that the present apparatus systems and methods may be practiced without these specific details. Reference in the specification to an example or similar language means that a particular feature structure or characteristic described in connection with that example is included as described but may not be included in other examples.

Referring now to the figures is a diagram showing an illustrative time interleaved ADC . According to certain illustrative examples the time interleaved ADC uses a timing signal to control the sample and hold signals of a number of sub ADCs . Specifically the timing signal is such that it causes each sample and hold circuit from the different sub ADCs to switch at different times. Thus each sample and hold circuit will sample the input signal at a different time interval. The output signals from the sub ADCs can then be sent to a demultiplexer to be recombined into the final output signal . The final output signal is thus a digital version of the analog input signal .

In the time interleaved ADC illustrated in the timing signal is used to divide the analog input signal into different sub signals according to time. Specifically at a first sampling instant the input signal is sampled by sub ADC . At the next sampling instant the input signal is sampled by sub ADC . This process continues as subsequent sampling instants are sampled by sub ADC and sub ADC . At the sampling instant immediately after the one sent to sub ADC the input signal is again sampled by sub ADC . Thus a given sub ADC samples every fourth sampling instant. Because each sub ADC only has to process every fourth sampling instant the overall sampling frequency of the time interleaved ADC can be increased.

A sample and hold circuit is a commonly used circuit within an ADC. The sample and hold circuit operates by alternating between a sample mode and a hold mode. While in the sampling mode the output of the sample and hold circuit follows the input of the sample and hold circuit. While in the hold mode the output of the sample and hold circuit maintains a constant value. This constant value is the value of the output at the time the sample and hold circuit switched from sampling mode to hold mode. Upon returning to sampling mode the output resumes to follow the level at which the input signal is and continues to track that input signal.

A sample and hold circuit typically involves among other things a switch and a capacitor. While the sample and hold circuit is in sampling mode the switch is closed. Thus the signal passes through the switch to the output. The voltage stored on the capacitor also tracks the input signal. When the sample and hold circuit switches to hold mode the switch is opened. The value that was stored on the capacitor at this point now becomes the output signal. Based on the characteristics of the capacitor and switch this value will begin to drop during the hold mode. However if the value of the capacitor is chosen correctly along with the hold time this drop will be negligible for the duration of the hold mode.

In the example of Sample and Hold Circuit is in a sampling mode. Both Switch P and Switch M are closed. Thus the difference between Input P and Input M will be stored across the capacitor . When Sample and Hold Circuit switches to hold mode the output of Sample and hold Circuit will be whatever value was stored in the capacitor at the instant in which the switches were open. This output will remain relatively constant throughout the duration of the hold mode despite whatever signal variations are still occurring on the inputs .

Sample and Hold Circuit is currently shown in the hold mode. Because the switches are open the input signals do not pass through to the capacitor . Thus the capacitor maintains whatever voltage level it was holding at the moment that Sample and Hold Circuit switched into hold mode. The duration of the hold mode is designed to be such that the rest of the circuitry within the sub ADC can determine the appropriate discrete digital signal to which the sampled value is closest and output that value.

As mentioned above the speed at which a sub ADC circuit is able to operate is dependent among other things upon the characteristics of the sample and hold circuit associated with that sub ADC. This is because the intrinsic resistance of the switch while in an on position in combination with the capacitor used to store a signal value creates a low pass filter. A low pass filter attenuates signals of a higher frequency while allowing signals of a lower frequency to be relatively un attenuated. Specifically as the input frequency of the signal being sampled by the sample and hold circuit increases the output signal will begin to attenuate. Due to manufacturing inconsistencies the intrinsic resistance of each switch in the ON position will be slightly different. This will cause the bandwidth of each sub ADC signal to be slightly different. This is problematic because at higher input signal frequencies the outputs of the sample and hold circuits for each of the sub ADCs will be attenuated in a slightly different manner. This can lead to errors in the analog to digital conversion process.

The intrinsic resistance of the switch while in an ON state is dependent upon the voltage between the gate terminal and the source terminal . This voltage is referred to as V. To maintain the linearity of the switch it is important that the Vbe relatively constant. However if the input signal varies while the signal which turns the switch on and off remains constant then the Vwill be different each time the switch is sampling a varying analog signal. For example a signal may vary between 0.5 volts and 1.5 volts. The gate signal that turns the switch to an ON state may have a value of 1.8 volts which is equivalent to the voltage supply Vof the circuit. If the switch is turned on while the input signal is at 1.5 volts then the Vis 0.3 volts 1.8 1.5 . However if the switch is turned on while the input signal is 0.5 volts then the Vwill be 1.3 volts. This difference in the Vleads to a difference in the ON state intrinsic resistance of the switch . This non linearity leads to problems in the analog to digital conversion process.

To maintain a relatively constant Vand thus a relatively constant ON state intrinsic resistance a bootstrap circuit is used. The bootstrap circuit uses a main bootstrap capacitor to store a copy of the source voltage V . That copy of the source voltage is then added to the input signal . While the main sampling switch is in an OFF state as shown in the S switches are closed while the S switches are open. Thus the Vsignal is applied across the bootstrap capacitor . At this time the control signal is essentially brought to zero. This will turn the switch to an OFF state.

Reducing the efficiency of the bootstrap circuit will decrease the Vof the switch . This in turn will increase the ON state intrinsic resistance of the switch . Increasing the ON state intrinsic resistance of the switch will affect the frequency response of the sample and hold circuit. Specifically it will reduce the bandwidth of the sample and hold circuit. The bandwidth of a low pass filter refers to the range of frequencies between 0 hertz and the frequency at which the signal attenuates to 3 decibels.

Conversely increasing the efficiency of the bootstrap circuit will increase the VGS of the switch . This in turn will decrease the ON state intrinsic resistance of the switch . By decreasing the ON state intrinsic resistance of the switch the bandwidth of the sample and hold circuit is increased.

To adjust the capacitance of either the bootstrap capacitance or the gate capacitance a trim load may be used. The trim load may be a circuit with an adjustable capacitive characteristic. The trim load may be controlled by a trim control signal . For example Trim Load is placed in parallel with the main bootstrap capacitor . To adjust the capacitance of Trim Load and provide additional capacitance to the bootstrap capacitor a trim control signal is used.

Additionally Trim Load is placed between the control signal and ground. This trim load is in addition to any parasitic capacitance at the gate terminal of the switch . To adjust the capacitance of Trim Load and provide additional capacitance to the gate capacitance a trim control signal is used.

A sample and hold circuit embodying principles described herein may include either a trim load in parallel with the bootstrap capacitor a trim load in parallel with the parasitic gate capacitance or a trim load at both places. In the case of a trim load in parallel with only the bootstrap capacitor the bandwidth of each sample and hold circuit within a time interleaved ADC may be increased to match the sample and hold circuit of the sub ADC exhibiting the highest bandwidth. In the case of a trim load in parallel with only gate capacitance the bandwidth of each sample and hold circuit within a time interleaved ADC may be decreased to match the bandwidth of the sample and hold circuit of the sub ADC exhibiting the lowest bandwidth. In the case of a trim load at both locations the bandwidth for each sub ADC sample and hold circuit may be adjusted either up or down so that each sample and hold circuit exhibits a matching bandwidth. In one example the trim load may be a capacitor bank.

In the capacitor bank illustrated in there are four capacitors in parallel. Each capacitor is configured to selectively add to the total capacitance through use of a switch . Switch is connected to C Switch is connected to C Switch is connected to C and Switch is connected to C . When a switch is in an ON state and current is allowed to flow through that switch then the capacitor associated with that switch will add to the total capacitance of the capacitor bank. If a particular switch is in an OFF state then the capacitor associated with that switch will not materially add to the total capacitance between the first endpoint and the second endpoint . By selecting a particular combination of capacitors to add to the total capacitance a set of discrete capacitance values will be added to wherever the capacitor bank is placed. Additional capacitance appropriately placed will effectively adjust the bandwidth of the frequency response of the sample and hold circuit.

In one example the capacitor bank may be a binary weighted capacitor bank. In such a capacitor bank each individual capacitor is twice the value of the next smallest capacitor. For example C may be twice the value of C C may be four times the value of C and C may be eight times the value of C . Thus a capacitor bank with four binary weighted capacitors can take on 16 discrete total capacitance values.

In one example a memory associated with the capacitor bank may be used to store the setting for each switch . This memory may be for example a One Time Programmable OTP memory. Other types of memory which can permanently store the setting of the capacitor bank may be used.

Using principles described herein the frequency response for each sub ADC within a manufactured time interleaved ADC may be determined. Each of the frequency responses will be slightly different due to manufacturing variations. Each of the frequency responses of the sub ADCs may then be adjusted by setting the trim load associated with the sample and hold circuit of those sub ADCs. For example the bandwidth of each sample and hold circuit may be reduced to match the bandwidth of the sample and hold circuit having the lowest bandwidth. Alternatively the bandwidth for each sample and hold circuit may be increased to match the bandwidth of the sample and hold circuit having the highest bandwidth. Furthermore if each sample and hold circuit within a time interleaved ADC has two capacitor banks one for increasing and one for decreasing bandwidth then the bandwidth of each sample and hold circuit can be adjusted to a predetermined level. Thus the bandwidth of some sample and hold circuits will be increased while the bandwidth of others are reduced such that the bandwidth for each sample and hold circuit is matched. The settings for each of the capacitor banks may then be stored in a memory. Thus these sample and hold circuits will maintain the frequency responses to which they are set during operation of the time interleaved ADC.

In conclusion through use of methods and systems embodying principles described herein a time interleaved ADC circuit can be manufactured with a mechanism to adjust the frequency response of each sub ADC circuit therein. Specifically after manufacture the frequency response of each sub ADC circuit can be determined. Then the capacitor bank for each of the sub ADC circuits is adjusted to decrease the bandwidth of each sub ADC circuit to match the bandwidth of the sub ADC circuit having the smallest bandwidth.

The preceding description has been presented only to illustrate and describe examples of the principles described. This description is not intended to be exhaustive or to limit these principles to any precise form disclosed. Many modifications and variations are possible in light of the above teaching.

