---

title: Automatic display of trip information in a mapping application
abstract: An interactive digital map of a geographic area is provided via a user interface of a computing device. A selection of a point on the digital map is received, where the selected point corresponds to a selected location within the geographic area. In response to receiving the selection of the point and without receiving a request for directions from a user via the user interface, an indication of a length of a trip between a current location of the computing device and the selected location is automatically obtained. The indication of the length of the trip along with the interactive digital map are displayed via the user interface.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09285234&OS=09285234&RS=09285234
owner: GOOGLE INC.
number: 09285234
owner_city: Mountain View
owner_country: US
publication_date: 20131029
---
This application claims priority to U.S. Provisional Patent Application No. 61 719 746 filed on Oct. 29 2012 and titled Interactive Digital Map on a Portable Device and U.S. Provisional Patent Application No. 61 732 905 filed on Dec. 3 2012 and titled Interactive Digital Map on a Portable Device the entire disclosures of which are hereby expressly incorporated by reference herein.

The present disclosure relates to techniques for providing geographic content on a computing device and more particularly to automatically providing an indication of a length of a trip between the current location of the computing device and a location on a digital map.

The background description provided herein is for the purpose of generally presenting the context of the disclosure. Work of the presently named inventors to the extent it is described in this background section as well as aspects of the description that may not otherwise qualify as prior art at the time of filing are neither expressly nor impliedly admitted as prior art against the present disclosure.

Today many portable devices support software applications that display interactive digital maps. Some of these software applications are developed primarily for providing interactive digital maps. Other software applications such as web browsers may display interactive digital maps along with other content. These software applications collectively can be referred to as mapping applications for convenience. Mapping applications generally provide multiple functions for interacting with the digital map such as changing the zoom level repositioning the viewport etc. Moreover mapping applications often provide additional information and services related to digital maps.

One example of such services is providing directions for travelling between a source and a destination by car public transit bicycle or on foot. A mapping application running on a client device can transmit a request specifying the source the destination and the mode of transport to a navigation server. The navigation server in response can provide the directions as a sequence of steps such as turn right onto 9Street or take the Purple Line to the Linden stop. Because the mapping application contacts one or several servers via a communication network to retrieve directions the user typically observes a delay when viewing directions or information related to directions.

When a user selects a location an interactive digital map displayed on a computing device a mapping application automatically displays an estimate of how long a trip between the current location and the selected location is. The estimate can include distance e.g. 4.2 miles time e.g. 53 minutes or both. The user can select the location in a number of ways such as tapping on the touchscreen clicking on or hovering over the desired location with a mouse cursor and interacting with geographic search results in an informational card for example. The mapping application can obtain and display an indication of the length of the trip prior to receiving a request for directions from the user. In an example scenario the user enters a search query when the mapping application displays a digital map of a certain geographic area in the viewport. The mapping application receives from a search server search results that indicate several locations within the geographic area and automatically without receiving a request from the user obtains estimates of how long trips to these locations from the current location will be. To this end the mapping application can query the navigation server. When the users then reviews the search results e.g. by scrolling through the corresponding informational cards the user immediately sees how long the trip to each location is likely to be. If the user then requests step by step directions to one or several of the locations indicated in the search results the mapping application can request the step by step directions from the navigation server.

An example embodiment of the techniques of the present disclosure is a method in a computing device for efficiently providing information related to directions to a user. The method includes i providing an interactive digital map of a geographic area via a user interface of the computing device ii receiving by one or more processors via a user interface of the computing device a selection of a point on the digital map where the selected point corresponds to a selected location within the geographic area iii in response to receiving the selection of the point and without receiving a request for directions from a user via the user interface automatically obtaining an indication of a length of a trip between a current location of the computing device and the selected location by the one or more processors and iv displaying via the user interface the indication of the length of the trip along with the interactive digital map.

Another example embodiment of the techniques of the present disclosure is a non transitory computer readable medium storing instructions for generating interactive digital maps via a user interface of a computing device disposed at a current location. The instructions execute on one or more processors to i provide an interactive digital map of a geographic area via a user interface of the computing device ii receive a search term via the user interface iii obtain several search results corresponding to the received search term where each of the several of search results corresponds to a respective location within the geographic area iv automatically and without receiving a user request via the user interface obtain indications of lengths of trips between the current location and the locations corresponding to the plurality of search results and v provide via the user interface indications of the lengths of the trips along with the interactive digital map.

Yet another example embodiment of the techniques of the present disclosure is a computing device including one or more processors a user interface including a display device and a non transitory computer readable medium storing instructions. The instructions when executed on the one or more processors cause the computing device to i provide an interactive digital map of a geographic area via the user interface ii receive via the user interface a selection of a point on the digital map where the selected point corresponds to a selected location within the geographic area iii in response to receiving the selection of the point and without receiving a request for directions from a user via the user interface automatically obtain an indication of a length of a trip between a current location of the computing device and the selected location and iv display via the user interface the indication of the length of the trip along with the interactive digital map.

Using some or all of the techniques of the present disclosure a software application on a portable device provides an intuitive and efficient user interface for interacting with a digital map. As discussed in more detailed below this software application the mapping application in some states may provide an interactive digital map in one window or sheet and information related to places of interest driving directions transit directions etc. in another independently operable interactive informational sheet. Depending on the current state of the mapping application the informational sheet can take up a relatively small or a relatively large portion of the available screen real estate. Further the mapping application allows the user to efficiently navigate through generations of informational sheets without completely occluding the map. For example the user can swipe left and right to step through directions route options search results etc. When the user makes a selection via the informational sheet information in the map sheet is immediately updated according to some scenarios. Conversely the mapping application provides interactive personalized icons smart map icons on the digital map and the user can tap on such an icon to bring up an informational sheet or update data in an informational sheet.

Still further the mapping application provides a multi purpose dialogue box an omnibox with an input field and one or more buttons for entering search terms requesting directions etc. The mapping application can dynamically updates the selection of controls within the omnibox and the input format of the input field depending on the user interaction with the digital map.

The mapping application also can implement additional features to simplify and otherwise improve user interaction with map content geographic search results driving directions step by step navigation transit directions walking directions etc. For example as discussed below the mapping application can automatically provide geographic input suggestions relevant to the particular input field with which the user is interacting provide a substantially real time user experience when the user requests transit directions and present search results in an intuitive manner via one or more windows.

The map server may be communicatively coupled to multiple databases such as for example i a schematic and satellite database storing street and road information topographic data satellite imagery etc. ii a transit database storing information related to public transport routes schedules alerts prices etc. iii a place page data storing information about businesses including addresses hours of operations customer reviews etc. iv a traffic database storing current traffic conditions and other databases. In general the map server can receive information related to geographic locations from any number of suitable databases web services etc. One or more operators can periodically update each of the databases at respective frequencies. For example the traffic database may store real time data whereas the schematic and satellite database may be updated relatively infrequently such as once a week.

The schematic and satellite database can store data in a raster format a vector format or both. Further in some implementations the data is organized into map tiles at multiple zoom levels to facilitate serving map data to client devices. Depending on the implementation the map data server can provide map and directions data to client devices separately or together in map tiles for example.

In an example implementation the computing device is a portable device that includes a memory one or more processors CPU a graphics processing unit GPU a network interface unit and an I O module . The memory may be tangible non transitory memory and may include any types of suitable memory modules including random access memory RAM read only memory ROM flash memory other types of persistent memory etc. In addition to the mapping application the memory stores an operating system OS and one or more applications or modules. The operating system may be any type of suitable operating system such as Android or iOS for example. The I O module may be a touchscreen for example. More generally these techniques can be implemented in other types of devices such as laptop or desktop computers car navigation units etc.

The mapping application generates a digital map using vector graphics data raster tiles or map data in any other suitable format for display on a screen. In some cases the map generating routine generates a 3D mesh to be textured using photographic images or other suitable description of 3D geometry for a geographic area.

Depending on the implementation the mapping application is a separate executable made up of compiled instructions that execute directly on the operating system instructions in a scripting language or another suitable format that are interpreted at run time by another application such as a web browser a plugin that extends the functionality of another software application etc. In one example implementation the mapping application is an app downloaded onto the portable computing device from a web server. In another implementation the mapping application is a web browser. In yet another implementation the mapping application is a cloud application that executes primarily on one or more cloud servers not shown and exchanges input and output data with the computing device in real time.

In operation the mapping application requests map data and depending on the scenario supplemental data including traffic information directions business information etc. from the map data server . The mapping application temporarily stores this information in the memory as map data and supplemental data respectively.

In this example the mapping application includes several components coupled to the network interface as a map data interface configured to request map data in a vector raster or any other suitable format an automatic suggestions interface configured to transmit partially and or fully completed user input to a suggestions server and receive suggestions along with other information such as indications of the sources of the suggestions from the suggestions server and an interface configured to retrieve directions navigation and traffic data from the corresponding servers.

The mapping application further can include a primary window controller and a secondary window controller to control a primary window in which a digital map is displayed and a secondary window in which additional information is displayed respectively. An omnibox controller is configured to control states of controls in an omnibox and a format of the input field for example. The components and are coupled to the input output module discussed above.

With continued reference to the mapping application also can include a map icon controller to manage the selection placement and activation of icons and smart i.e. interactive icons. A layers controller determines the type of map data to be presented as part of the digital map. For example the layers controller may display traffic data over a base map in a certain scenario. Further a directions and navigation controller can retrieve and display driving walking and transit directions provide step by step navigation and a search results manager can process search queries format and present search results in compact or detailed informational sheets etc. During operation the components and can utilize configuration data that includes for example input field profiles that specify the format of input fields automatic suggestions configuration and other parameters.

A self positioning button overlays the map image . When the user clicks on the button a positioning indicator appears in the appropriate location on the digital map provided the computing device supports geopositioning. In an example implementation the positioning indicator is illustrated as being enclosed in a circle with the radius of the circle being indicative of the degree of certainty during geopositioning.

The mapping application displays personalized tappable smart map icons which correspond to various points of interest or more generally locations. As discussed in more detail with reference to the mapping application may display a bubble over the location corresponding to the selected icon or a compact informational sheet at the bottom of the screen depending on the state of the map The mapping application may provide different selections of icons for different zoom levels. When multiple icons are mapped to the same area of the screen the mapping application may select the icon to be displayed using the following priorities listed in the descending order My Location icon Selected Place pin Search Result icons Home Work icon Starred location and a basic smart map icon.

When the mapping application is launched the computing device may display a splash screen while the application is being loaded. The mapping application then may display the map with the viewport centered at the user s current location. If location services are disabled the mapping application may set the viewport to the user s most recent session. If no such location is available the mapping application may center the viewport around a famous location such as Stonehenge to indicate to the user that the displayed location is not nearby.

For some features the mapping application provides multiple ways to activate a function. For example the mapping application may provide a directions button in the omnibox to bring up a start page for directions as well as a directions button on the informational sheet for a business or another type of location.

In response to a two finger swipe gesture illustrated schematically with arrows the mapping application may reveal a layers selection screen of . In this manner the mapping application allocates more real estate to map data and obscures less of the map . In other implementations other single or multi finger gestures may be used. Alternatively a button or a tab may be provided on the screen for tapping or dragging respectively.

As illustrated in the screen includes several buttons for adding respective layers of information to the digital map . In particular the screen includes a traffic button a public transit button a satellite button and an earth view button . In one implementation the mapping application displays button for only those layers of information that are available. For example if traffic information is not available the screen does not include the button . When the user selects one of the buttons the mapping application displays information in the selected layer over the map . In at least some of the cases multiple layers can be applied to the map .

The mapping application may prefetch information about the available layers of information when map data for a geographic region is retrieved. In this manner the mapping application can transition from the screen of to the screen without a noticeable delay.

Now referring to the omnibox of may appear in various configurations including configurations and . In general different configurations of the omnibox are associated with different selections of icons controls and functions and correspond to different states of the mapping application . For example in the default state of the mapping application when the user is signed in the configuration includes a search indicator or icon an input box for entering search terms a directions button and a signed in profile button . In the default state when the user is signed out the configuration also includes a search icon an input box for entering search terms and a directions button but the profile button is replaced with an application settings button . Further in the search state the configuration includes a search icon a search box that lists the entered search terms a list view button if multiple results are available and an exit button . Still further in the direction state the omnibox displays the directions icon a directions summary including the mode the start location and the destination location and an exit button . In this state the user can tap on the directions summary to edit directions or exit by clicking on the exit button. In some scenarios the directions icon is tappable. For example the mapping application may display an alternate routes in response to the user tapping on this icon.

Transitions between states of the mapping application can occur in response to completion of an operation such as a navigation session or the user operating the exit button for example. More particularly the mapping application may return to the previous state in response to the user tapping on the exit button. As another example the mapping application supports the following sequence of transitions i returning to directions during navigation if the user exits navigation prior to reaching her destination and ii when the user clears the directions the application returns to the previously accessed map. Further upon clearing search results the mapping application returns the user to a base map with an empty omnibox.

In a certain implementation the mapping application clears all of its states in response to a long press on the exit button. The mapping application can return to a default state such as the state illustrated in .

The mapping application in some cases updates the format of the input box and or the selection of controls and in response to the user activating a certain icon displayed on the digital map . Further the mapping application may automatically update the digital map in response to the user activating a control within the omnibox .

The mapping application may provide an orient myself function as an icon or a recognized gesture for example. When the user invokes the orient myself function the notational virtual camera automatically tilts to display more information in front thereby creating a sense of perspective. When the map is rotated or tilted such that it is no longer north up or 2D the mapping application can display a compass icon. In the navigation mode however the compass icon is also visible. When the compass icon is toggled the mapping application switches between north up 2D and head up 3D modes.

The mapping application can efficiently manage screen real estate by selectively activating for example a compact informational sheet within a secondary window that obscures a small fraction of the screen and provides additional information or a larger more detailed informational sheet in the secondary window that obscures more of the screen. Selection of informational sheets may depend on the state of the mapping application . In the meantime the primary window may display a digital map of an area and may be largely independent of the secondary window.

For example as illustrated in the user may click on a smart map icon or a pin such as the pin in the search state and the mapping application in response may display a compact informational sheet in the secondary window located in the lower portion of the screen or elsewhere on the screen . The primary window displays the digital map . In this example the digital map is partially occluded by the compact informational sheet and the omnibox 

The compact informational sheet in general includes basic information about the selected location such as a name of the place to which the pin corresponds review information in this case 23 positive reviews out of 30 a price range and business hours. Further the compact informational screen may include a tappable icon for requesting directions. The compact informational screen includes estimated time of arrival ETA for reaching the selected place by car according to one implementation. Thus even before the user requests detailed information the mapping application indicates how long the user would take to reach the destination. In this example the mapping application calculates the ETA in terms of driving if car was the last transportation mode the user used. If the distance is above a certain threshold e.g. 400 miles the mapping application does not display ETA and displays the number of miles or kilometers depending on the region to the destination instead.

It is noted that the state of omnibox on the screen need not change during interaction with the pin . More generally the mapping application need not update the omnibox when the user interacts with smart map icons.

The user can deselect the place and cause the mapping application to remove the compact informational sheet by tapping outside the pin . However during an ongoing search or a directions viewing session for example tapping on the smart map icon causes the application to display an informational bubble according to one implementation illustrated in . If the user then selects the bubble by tapping for example the mapping application displays a detailed informational sheet illustrated in . In another scenario the mapping application transitions from the screen of to the screen of when the user pulls the compact informational sheet upward to reveal the detailed informational sheet . The mapping application may collapse the detailed informational sheet and return to the screen of in response to the user tapping on the map outside the detailed informational sheet .

As illustrated in the detailed informational sheet can include most or all of the information included in the compact informational sheet along with a button to call the place directly when the phone number is available buttons to bookmark the place and share the place with other users and an entry point for accessing website menus and other information possibly via another application such as a web browser . The detailed informational sheet can occupy approximately of the available screen real estate. Further the detailed informational sheet may include one or several photographs of the place.

As the user scrolls through generations of the compact informational sheet the viewport in the map sheet automatically pans and adjusts the zoom level when necessary. In some scenarios for example the user scrolls through informational sheets that correspond to different locations on the digital map . To this end the user may swipe the informational sheet to the right or to the left. If the location to which a new generation of the informational sheet corresponds is outside the currently active viewport the zoom level and or the position of the viewport may be automatically updated.

In one implementation the compact informational sheet travels up to the top of the screen and sticks while the area underneath remains scrollable when the user scrolls vertically through the compact informational sheet . More particularly the compact informational sheet may include information that can be exposed if the user pushes the compact informational sheet upward.

Depending on the implementation the mapping application can prefetch detailed information necessary to generate the detailed informational sheet when the user clicks on the corresponding smart map icon or pin but before the user explicitly requests a transition from the compact informational screen to the detailed informational sheet . In this manner the mapping application can implement quick and seamless transitions between views. In another implementation however the mapping application requests detailed information only after the user explicitly expresses interest in this information by tapping on the compact informational screen for example .

More particularly in response to the user selecting a geographic area for which map data is unavailable on the client computing device the mapping application may request map data along with at least some of the information required to display a compact informational sheet and or a detailed informational sheet for the locations within the selected geographic area. For example in one implementation the mapping application requests for every selectable or searchable location within the selected geographic area only the information necessary to display a compact informational sheet if needed. This limited information may include the address hours of operation a thumbnail photo for example. When the user selects the corresponding location on the map the mapping application displays the corresponding compact informational sheet without sending a request to the map data server . However if the user requests further information such as the information for displaying a detailed informational sheet the mapping application sends a request to the server.

In other words the mapping application prefetches information ahead of an explicit request from the user to display the information. Thus in this example implementation the user sees little or no delay in retrieving a compact informational sheet for a location within the viewport but the user may see some delay when requesting all of the available information.

It is noted that this technique also can be implemented as part of search functionality and in other contexts where geographically relevant information is not automatically provided with the digital map.

As indicated above the mapping application displays a directions button in the omnibox when no search results are shown. When the user clicks on this button the mapping application brings up a directions start page illustrated as a screen in according to one example implementation.

Generally speaking when a user activates the navigation icon the mapping application transitions to a screen in which the user specifies the source and the destination of the journey. If the user completes the selection of endpoints by clicking on one of the suggested locations the application immediately requests and displays the directions. To this end the application maintains a window e.g. near the top of the screen in which the user modifies the sources the destination the arrival departure time etc. and displays instant directions in another window e.g. occupying the lower portion of the screen . To initiate the request the mapping application need not receive an explicit request to search. Further when the user selects a different time in another window or another generation of the screen the update is performed immediately to improve user experience.

As illustrated in the screen includes a my location button illustrated as a chevron a tappable destination button and a swap button. The user can select the source and the destination from among various options displayed below in suggestion boxes and for example. When the user clicks on the source or destination button the application displays a screen for entering a location. The mapping application can indicate using colors for example whether additional information is required. For example the source and destination fields may become a darker shade grey once the user fills in the destination via the edit screen.

According to one implementation the mapping application transmits a directions query to the directions server as soon as the user completes entering the source and the destination. As illustrated in the mapping application displays multiple route options in respective directions cards and . Each of the cards and includes a respective button and for retrieving the details. The mapping application may rank and color code the cards and to indicate whether the routes are fast slow optimal given current traffic conditions etc. The user may activate a route options menu to indicate whether the user wants to avoid tolls avoid highway travel etc.

When the user activates one of the buttons or the mapping application generates a screen illustrated in . The screen includes a driving direction summary sheet with a Start Navigation button .

When multiple route options are returned in response to a search for directions the user can select the desired route so that the details occupy most of the screen when needed and inspect different options by swiping left or right. The application also highlights traffic along the route for certain zoom levels and activates the entire traffic layer i.e. for the entire viewport when the user zooms out beyond a certain level. When the user selects a new route traffic along the new route is immediately shown.

The mapping application displays a route overlaying the digital map see with different segments of the route being illustrated differently such as using different colors to indicate traffic not shown in .

Further when a user selects a location on the digital map on the screen e.g. by tapping on a place or running a search the mapping application in some embodiments automatically prefetches the directions to the target location from the current location of the computing device or another location depending on the configuration . The directions can be driving directions walking directions or public transit directions for example. As briefly mentioned above with reference to for example the mapping application can then provide an indication of how long the user would take to reach the target location. This indication can include an indication of time distance or both. Thus even before the user requests detailed directions for travelling from the current location to the target location the mapping application can provide some indication of the length of the trip. In his manner the mapping application allows the user to quickly make a decision regarding the target location such as whether the user wants to travel there without requesting and reviewing detailed directions.

As also indicated above the mapping application and or the directions server can calculate the indication of the trip length in terms of the last transportation mode the user selected. Further the decision whether to display the indication of length in terms of distance or time can be based on whether the distance is above a certain threshold value.

In some embodiments the mapping application obtains from the directions server or geographic query server that provides geographic search results only an indication of the length of the trip without obtaining the detailed step by step directions prior to the user requesting the step by step directions. In this manner the mapping application does not retrieve step by step directions until the user explicitly requests these directions.

Further the mapping application in some embodiments can receive a set of search results in response to a search query. Each search result can correspond to a location in the geographic area depicted within the current viewport. The mapping application can automatically receive an indication of the length of the trip to the corresponding location along with every search result or in another implementation the mapping application automatically requests these indications from the directions server without the user requesting these indications or the detailed directions. In any case the mapping application can display these indications along with the search results to allow the user to make a more informed choice from among the multiple search results. Thus if the search results indicate locations of coffee shops within the viewport the user can immediately see how far away these shops are from the current location. Once the user selects one of the locations by for example pulling up the corresponding informational card and clicking on the directions icon the mapping application can request the detailed directions.

When the user selects transit directions using the Transit button on the screen for example the mapping application may display a screen such as the screen of for example provided the source and the destination have been entered or selected from among the suggestions . The screen includes individually selectable route summary cards and each providing an overview of the respective route with time information cost etc. The mapping application also provides separate buttons and for Departure Time and route Options respectively. Because the ability to quickly change the departure time is particularly important for schedule driven transit directions the mapping application allows the user to simply tap on the button to access a time selection control such as the time barrel illustrated in for example. The mapping application may update a sheet that includes the To and From fields the swap button and the buttons and separately from the electable route summary cards and so that either one of these portions may change without affecting the other portion.

When the user completes entry of departure time the mapping application immediately without requesting confirmation from the user or requiring that the user activate another button on the screen sends an updated query to the directions server and updates the route summary cards. Similarly when the user updates the selection of endpoints by clicking on the To and From fields the mapping application immediately requests and displays the updated transit directions. More generally the mapping application may be configured to update the route summary cards and in response to any action such as changing of the transportation mode modifying route options swapping start and end points etc.

Referring to when the user selects one the routes the mapping application may display a screen in which a route is displayed schematically over a digital map and a detailed route card which may be larger than a route summary card . In addition to the overview of transit directions the detailed route card may include a scrollable area listing each step of the directions. In an implementation some of the stops and steps are selectable for a more detailed view.

In one implementation the mapping application allows the user to update the route cards such as the route summary cards of with fresh results by pulling the cards down and releasing the card after a predefined time period. For clarity this procedure is illustrated in . In other implementations the mapping application refreshes the results automatically or provides a button for the user to trigger a refresh for example. It is noted that during a refresh procedure the mapping application does not modify the sheet that includes the From and To fields the time selection etc. Thus the user can still see the source and the destination of the route during the update.

As a more specific example illustrates a screen in which sheet is displayed the same but is greyed out whereas a time selection barrel is displayed in an interactive manner.

Now referring to screens and include example expandable listings of transit directions which the mapping application may display when the user selects one of the options. In these screens transit lines may be highlighted using the corresponding colors of the providers e.g. using the colors of subway lines of the municipality .

The user can click on an expansion button to bring up the details of the corresponding step as illustrated in . Then as illustrated in the user can step through the directions by swiping a directions step card left or right.

For some of the stations listed in informational cards etc. the mapping application may display an informational card listing such information as for example name of the station address save share buttons service alerts a street view photograph etc. In one implementation the mapping application displays a map in a fixed place e.g. at the top of the screen and displays scrollable information about the station below. This layout may be generally similar to the screen of for example. Further the available forms of transit can be grouped using additional cards with each card showing available lines and with each line showing the next N upcoming departures. Still further the mapping application may provide a button to request additional schedules.

The mapping application also may configure informational cards according to the type of selected transport and other types of context for example more departures may be requested for buses than for trains. On the other hand for walking directions the mapping application may not display some of the buttons provided for buses or trains.

Referring back to when multiple route options are returned in response to a search for directions the user can select the desired route so that the details occupy most of the screen when needed and inspect different options by swiping left or right. The mapping application also may highlight traffic on the map portion of the screen see for example along the route for certain zoom levels and activates the entire traffic layer i.e. for the entire viewport when the user zooms out beyond a certain level. When the user selects a new route traffic along the new route is immediately shown. The highlighted route on the map also gets updated when the informational card changes.

In general in navigation mode the mapping application provides a sequence of instructions each displayed in a respective box overlaying the map. The user swipes left and right to view the previous step or the next step respectively. Every time a new turn is revealed the digital map may automatically zoom into that turn. To celebrate arrival at the destination the virtual camera may be spun about the destination point.

In some implementations the mapping application automatically assigns different priorities to interactive icons. For example the mapping application may first display a digital map with certain smart map icons but when the user requests navigation instructions the mapping application may set a new threshold to eliminate some of the information along the route. In other words the mapping application removes information the user is less likely to need during navigation. Further the mapping application may make some of the labels larger e.g. relevant labels related to parts of the route or places near the route . Still further the mapping application may remove building footprints during navigation.

The mapping application may selectively enter the follow mode during navigation to automatically pan the digital map as the portable client device moves.

In some implementations the mapping application recognizes a shake gesture characterized by sudden or abrupt movement of the device as a request to report a problem. In particular the mapping application may determine the context in which the shake gesture is detected and provide a dialogue box for reporting the problem according to the context. Thus for example shaking the device when the mapping application displays an informational sheet for a particular location configures the dialogue box for reporting a problem related to the data in the informational sheet e.g. wrong business hours wrong telephone .

In some implementations the search results manager operating in the mapping application or another suitable component efficiently manages the order of informational sheets to reduce the number of swipes or clicks a user needs to perform to reach the desired sheet. For example after the user submits a term for geographic searching such as pizza hardware store or theater the mapping application receives an ordered list of search results. A typical search result may include for example the location of the corresponding business or other geographic entity and the name of the geographic entity. In some implementations and when relevant the search result also includes business information such as business hours the number and type of reviews price range etc. A search result may correspond to a location within the currently displayed viewport or outside the currently displayed viewport but within a certain distance from the center of the digital map or the current location. The distance may be dependent on the zoom level. The search results may arrive at the mapping application with priority information to define an ordered list.

In the scenario illustrated in the mapping application receives a ordered list of N search results. Referring first to a screen includes indicators for several of the search results corresponding to locations within the currently active viewport. It is noted that some of the search results are outside the active viewport and accordingly are not visible in the screen . The initial order of the list is Results Results . . . Results N as indicated below the screen in .

In the scenario illustrated in the user activates Result and the mapping application places a location marker over the indicator corresponding to Result and activates a compact informational sheet . The mapping application updates the list as illustrated in by placing item Result at the head and removing this item from its original position. In this case item Result also corresponds to the current position of a list pointer.

The user may place her finger on the compact informational sheet and swipe and left to traverse the search results in the order specified by the list . For example when the screen is displayed the user can swipe left to select Result swipe again to then select Result etc. According to one implementation if the user swipes right when the screen is displayed the last item in the list may be selected. In this sense the list can be viewed as a circular list. In another implementation however the list is not circular and the user can swipe in only one direction once the end of the list is reached. When a new item in the list is selected the mapping application may automatically update the digital map by placing the marker over the indicator corresponding to the newly selected search result. If necessary the mapping application automatically repositions the viewport e.g. pans changes the zoom level etc. .

Now referring to when the user taps on Results the mapping application automatically unselects Results places the marker over Results updates the compact informational sheet to display information about Results and updates the list to add item Results to the tail of the sub list of locations viewed by the user. More particularly items Results and Results define the sub list of viewed search results and item Results corresponds to the current position of the list pointer. Item Results is also removed from its original position in the list . The remaining items Results Results Results etc. follow the item at the current position of the list pointer. As a further example the user may then tap on Results and the mapping application in response updates the location marker the compact informational sheet etc. The list is updated as illustrated in .

Next illustrates the scenario in which the user selects Results which is located outside the current viewport. The mapping application again updates the list to place item Results at the tail of the sub list of viewed search results removes the item from its original location and associates the current position of the list pointer with item Results .

In other words when the user selects an item on the map the list is automatically rearranged to place all the items previously selected by the user on one side of the currently selected item e.g. with the most recently selected item being closes to the currently selected item and the other items on the other side e.g. in the ascending original order . In this manner the options reflect both the interaction history and the original ranking of the features.

Referring generally to the user sometimes may places his fingers on the touchscreen to as to cover a relatively large area at once. If the area includes more than one indicator the indicator may be selected according to the rank of the corresponding location relative to other locations rather than proximity of the indicator to the center of the area of contact for example. Thus if the area of contact with the user s finger includes both Results and Results the mapping application may select Results if the rank of the corresponding location is higher than the rank of location corresponding to Results even the center of the area of contact is closer to Results . The rank can correspond to any suitable metric or a combination of metrics such as the percentage of positive reviews for example.

When the autosuggest server provides automatic suggestions to the client device the mapping application may indicate the respective sources of these suggestions using icons for example. illustrates a screen in which the user begins typing into the input field and the mapping application receives and displays automatic suggestions that are consistent with the partial input. Icon may indicate that the search results comes exclusively or primary from the normal search whereas icon may indicate that the corresponding search result is a location which the user previously approved. In other scenarios a certain icon may indicate previously searched for places another icon may indicate starred places etc.

Generally with respect to automatic suggestions the mapping application can emphasize different points in source and destination boxes and more generally configure autosuggest boxes differently for different contexts. For example when the user inputs endpoints for driving directions via from and to input fields the directions and navigation controller can configure these input fields differently according to respective input field profiles see to generate more accurate predictions. As a more specific example in the morning the from field can be configured so that the suggestion is more likely to reflect the user s home or a place near the user s home. On the other hand the from field at night can be configured so that that the suggestion is more likely to reflect the user s place of work or a place near the place of work.

Further in some implementations the mapping application provides suggestions even before the user types anything at all into a text input field. To provide a suggestion the mapping application may utilize such signals as for example the user s current location time of day time of year the user s starred locations etc.

Next at block the current state of the digital map is determined. For example the digital map may be in a default state a search state a directions state etc. The format of the input field or box of the UI element is automatically updated at block . For example the format may change from a single line input to a multi line input. Further at block the selection of controls available in the UI element also can be updated. For example a list button may appear to allow the user to view complete search results for example. User input via the input field and or selection of one or more controls are received at block .

Next is a flow diagram of an example method for efficiently managing screen real estate. The method begins at block where an interactive digital map of a geographic area is displayed within a viewport of a primary window. A location indicator correspond to a selected location is displayed at block . The selected location can correspond to a geographic search result for example or a location corresponding to an interactive map icon provided on the digital map. Next at block information related to the selected location is displayed within a secondary window.

If at block user interaction with the digital map displayed in the primary window is detected information in the secondary window can be automatically updated. For example if the user taps on an interactive map icon information about the selection location can be automatically displayed in the secondary window without receiving an additional user command block . On the other hand if user interaction with the secondary window is detected at block the primary window can be automatically updated at block without receiving an additional user command. For example the zoom level or the position of the viewport in the primary window can be updated. In another scenario the location marker or another type of marker can be automatically repositioned in the primary window when the user selects a new informational sheet or a new generation of the informational sheet in the secondary window .

At block an ordered list of search results is received from the network server. Some or all of these search results are provided via the user interface depending on the position of the viewport block . For example each search result can be depicted as an indicator e.g. a dot a pin another type of icon over a digital map with the currently selected search result optionally being displayed in an informational sheet. At block a selection of one of the search results is received. The user can tap or click on the corresponding indicator for example.

At block the order of the list of search results is updated in view of the selection and the original order of the list. As discussed above with reference to the currently selected location can be placed at the tail of a sub list of items visited by the user with the rest of the list following the currently selected location according to the original order.

Now referring to an example method for providing context specific geographic suggestions begins at block where a digital map is displayed. At block a UI element for receiving multi field input is displayed. The UI element can be a dialogue box for specifying the origin and the destination of a trip that can be displayed in a directions or navigation mode for example.

At block the input fields are automatically configured for input and automatic suggestions so that each input field is configured individually according to its function. For example the to and from fields are configured differently to make certain suggestions more likely.

Referring to a method is for providing transit directions begins. At block a user request to activate a UI element for obtaining transit directions is received. For example the user may activate an interactive icon in an omnibox. A UI element for specifying a source and a destination is provided at block and a source and a destination are received at block . At block prior to receiving an explicit command from the user a query is transmitted to a directions server with the source and the destination. In other words the query is transmitted instantly upon the user completing input.

In one implementation the estimated trip time is received along with driving directions from a directions server. In another implementation the mapping application calculated the estimated trip time locally using the received directions.

The following additional considerations apply to the foregoing discussion. Throughout this specification plural instances may implement components operations or structures described as a single instance. Although individual operations of one or more methods are illustrated and described as separate operations one or more of the individual operations may be performed concurrently and nothing requires that the operations be performed in the order illustrated. Structures and functionality presented as separate components in example configurations may be implemented as a combined structure or component. Similarly structures and functionality presented as a single component may be implemented as separate components. These and other variations modifications additions and improvements fall within the scope of the subject matter of the present disclosure.

Additionally certain embodiments are described herein as including logic or a number of components modules or mechanisms. Modules may constitute either software modules e.g. code stored on a machine readable medium or hardware modules. A hardware module is tangible unit capable of performing certain operations and may be configured or arranged in a certain manner. In example embodiments one or more computer systems e.g. a standalone client or server computer system or one or more hardware modules of a computer system e.g. a processor or a group of processors may be configured by software e.g. an application or application portion as a hardware module that operates to perform certain operations as described herein.

In various embodiments a hardware module may be implemented mechanically or electronically. For example a hardware module may comprise dedicated circuitry or logic that is permanently configured e.g. as a special purpose processor such as a field programmable gate array FPGA or an application specific integrated circuit ASIC to perform certain operations. A hardware module may also comprise programmable logic or circuitry e.g. as encompassed within a general purpose processor or other programmable processor that is temporarily configured by software to perform certain operations. It will be appreciated that the decision to implement a hardware module mechanically in dedicated and permanently configured circuitry or in temporarily configured circuitry e.g. configured by software may be driven by cost and time considerations.

Accordingly the term hardware should be understood to encompass a tangible entity be that an entity that is physically constructed permanently configured e.g. hardwired or temporarily configured e.g. programmed to operate in a certain manner or to perform certain operations described herein. Considering embodiments in which hardware modules are temporarily configured e.g. programmed each of the hardware modules need not be configured or instantiated at any one instance in time. For example where the hardware modules comprise a general purpose processor configured using software the general purpose processor may be configured as respective different hardware modules at different times. Software may accordingly configure a processor for example to constitute a particular hardware module at one instance of time and to constitute a different hardware module at a different instance of time.

Hardware and software modules can provide information to and receive information from other hardware and or software modules. Accordingly the described hardware modules may be regarded as being communicatively coupled. Where multiple of such hardware or software modules exist contemporaneously communications may be achieved through signal transmission e.g. over appropriate circuits and buses that connect the hardware or software modules. In embodiments in which multiple hardware modules or software are configured or instantiated at different times communications between such hardware or software modules may be achieved for example through the storage and retrieval of information in memory structures to which the multiple hardware or software modules have access. For example one hardware or software module may perform an operation and store the output of that operation in a memory device to which it is communicatively coupled. A further hardware or software module may then at a later time access the memory device to retrieve and process the stored output. Hardware and software modules may also initiate communications with input or output devices and can operate on a resource e.g. a collection of information .

The various operations of example methods described herein may be performed at least partially by one or more processors that are temporarily configured e.g. by software or permanently configured to perform the relevant operations. Whether temporarily or permanently configured such processors may constitute processor implemented modules that operate to perform one or more operations or functions. The modules referred to herein may in some example embodiments comprise processor implemented modules.

Similarly the methods or routines described herein may be at least partially processor implemented. For example at least some of the operations of a method may be performed by one or processors or processor implemented hardware modules. The performance of certain of the operations may be distributed among the one or more processors not only residing within a single machine but deployed across a number of machines. In some example embodiments the processor or processors may be located in a single location e.g. within a home environment an office environment or as a server farm while in other embodiments the processors may be distributed across a number of locations.

The one or more processors may also operate to support performance of the relevant operations in a cloud computing environment or as an SaaS. For example as indicated above at least some of the operations may be performed by a group of computers as examples of machines including processors these operations being accessible via a network e.g. the Internet and via one or more appropriate interfaces e.g. APIs .

The performance of certain of the operations may be distributed among the one or more processors not only residing within a single machine but deployed across a number of machines. In some example embodiments the one or more processors or processor implemented modules may be located in a single geographic location e.g. within a home environment an office environment or a server farm . In other example embodiments the one or more processors or processor implemented modules may be distributed across a number of geographic locations.

Some portions of this specification are presented in terms of algorithms or symbolic representations of operations on data stored as bits or binary digital signals within a machine memory e.g. a computer memory . These algorithms or symbolic representations are examples of techniques used by those of ordinary skill in the data processing arts to convey the substance of their work to others skilled in the art. As used herein an algorithm or a routine is a self consistent sequence of operations or similar processing leading to a desired result. In this context algorithms routines and operations involve physical manipulation of physical quantities. Typically but not necessarily such quantities may take the form of electrical magnetic or optical signals capable of being stored accessed transferred combined compared or otherwise manipulated by a machine. It is convenient at times principally for reasons of common usage to refer to such signals using words such as data content bits values elements symbols characters terms numbers numerals or the like. These words however are merely convenient labels and are to be associated with appropriate physical quantities.

Unless specifically stated otherwise discussions herein using words such as processing computing calculating determining presenting displaying or the like may refer to actions or processes of a machine e.g. a computer that manipulates or transforms data represented as physical e.g. electronic magnetic or optical quantities within one or more memories e.g. volatile memory non volatile memory or a combination thereof registers or other machine components that receive store transmit or display information.

As used herein any reference to one embodiment or an embodiment means that a particular element feature structure or characteristic described in connection with the embodiment is included in at least one embodiment. The appearances of the phrase in one embodiment in various places in the specification are not necessarily all referring to the same embodiment.

Some embodiments may be described using the expression coupled and connected along with their derivatives. For example some embodiments may be described using the term coupled to indicate that two or more elements are in direct physical or electrical contact. The term coupled however may also mean that two or more elements are not in direct contact with each other but yet still co operate or interact with each other. The embodiments are not limited in this context.

As used herein the terms comprises comprising includes including has having or any other variation thereof are intended to cover a non exclusive inclusion. For example a process method article or apparatus that comprises a list of elements is not necessarily limited to only those elements but may include other elements not expressly listed or inherent to such process method article or apparatus. Further unless expressly stated to the contrary or refers to an inclusive or and not to an exclusive or. For example a condition A or B is satisfied by any one of the following A is true or present and B is false or not present A is false or not present and B is true or present and both A and B are true or present .

In addition use of the a or an are employed to describe elements and components of the embodiments herein. This is done merely for convenience and to give a general sense of the description. This description should be read to include one or at least one and the singular also includes the plural unless it is obvious that it is meant otherwise.

Upon reading this disclosure those of skill in the art will appreciate still additional alternative structural and functional designs for providing an efficient and intuitive user interface for navigating digital maps through the disclosed principles herein. Thus while particular embodiments and applications have been illustrated and described it is to be understood that the disclosed embodiments are not limited to the precise construction and components disclosed herein. Various modifications changes and variations which will be apparent to those skilled in the art may be made in the arrangement operation and details of the method and apparatus disclosed herein without departing from the spirit and scope defined in the appended claims.

