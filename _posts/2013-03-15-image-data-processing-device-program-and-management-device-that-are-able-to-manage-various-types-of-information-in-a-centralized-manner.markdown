---

title: Image data processing device, program, and management device that are able to manage various types of information in a centralized manner
abstract: An image data processing device may be configured to be used in a system. The system may comprise the image data processing device, a management device and a plurality of electronic devices. The image data processing device may comprise a communication unit configured to communicate with the electronic device by using the first communication scheme. The image data processing device may cause, in a case where the communication unit receives the judgment information from the electronic device, a storing unit to store the received judgment information. The image data processing device may execute the image data processing in a case where it is determined that the processor is able to execute the image data processing based on the judgment information stored by the storing unit.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08947712&OS=08947712&RS=08947712
owner: Brother Kogyo Kabushiki Kaisha
number: 08947712
owner_city: Nagoya, Aichi
owner_country: JP
publication_date: 20130315
---
This application claims priority to Japanese Patent Application No. 2012 082821 filed on Mar. 30 2012 the contents of which are hereby incorporated by reference into the present application.

The technique disclosed in this description relates to image data processing device program and management device that are able to manage various types of information in a centralized manner.

A system in which a plurality of image forming apparatuses is communicably connected to a server via a network and the server manages the state of the plurality of image forming apparatuses in a centralized manner is known. In such a system when a user logs in to an image forming apparatus the image forming apparatus sends a request to the server to borrow a print volume. The server lends the print volume to the image forming apparatus when the logged in user is allowed to borrow the print volume. The image forming apparatus returns the number of sheets obtained by subtracting the number of sheets used for printing from the borrowed print volume to the server after executing printing.

An image forming apparatus may not be always connected to a network. In this case it is difficult for a server to manage the state of the image forming apparatus in a centralized manner. This description provides a technique that can solve such a problem.

An art disclosed by the present specification is an image data processing device configured to be used in a system. The system may comprise the image data processing device a management device and a plurality of electronic devices. The management device may be configured to store for each of the plurality of electronic devices judgment information corresponding to the electronic device. The judgment information may be for causing a processor to judge whether or not the processor is able to execute an image data processing. Each of the plurality of electronic devices may be configured to execute a communication by using a first communication scheme with the image data processing device. Each of the plurality of electronic devices may be configured to execute a communication by using a second communication scheme with the management device. The first communication scheme may differ from the second communication scheme. Each of the plurality of electronic devices may be configured to receive the judgment information corresponding to the electronic device thereof from the management device. The image data processing device may comprise a communication unit and the processor. The communication unit may be configured to communicate with the electronic device by using the first communication scheme. The processor may be configured to perform A causing in a case where the communication unit receives the judgment information from the electronic device a storing unit to store the received judgment information and B processing the image data. The above B may execute the image data processing in a case where it is determined that the processor is able to execute the image data processing based on the judgment information stored by the storing unit.

In the image data processing device disclosed in this specification it is possible to relay communication of the judgment information between the management device and the image data processing device by using the electronic device that communicates with the image data processing device by the first communication scheme and communicates with the management device by the second communication scheme. The management device stores the judgment information for judging whether it is possible to execute the image data processing. Thus the image data processing module may execute an image data processing based on the judgment information stored in the management device. An example of the image data processing based on the judgment information includes a process for executing a printing within a range of printable volume if the judgment information is information for representing the printable volume. It is possible to control the image data processing in the image data processing device by the judgment information stored in the management device.

Definitions of the wordings data and information will be described. Data means data itself which is used by a computer of an image data processing device or an electronic device. Information is information which is used by a computer when making various judgments and means conceptual information when data is provided to the computer as a medium rather than the data itself. In this description data and information are explicitly distinguished and used as described above.

Further a control method and a computer program for realizing the image data processing device described above and a computer readable recording device which includes the computer program are also novel and useful.

An NFC sending and receiving abbreviated as S R unit of the MFP performs NFC communications to respectively with the first mobile phone the second mobile phone and the administrator mobile phone so as to send and receive a digital signal that constitutes various items of data. Moreover a communication unit of the server performs wireless LAN communications to respectively with the first mobile phone the second mobile phone and the administrator mobile phone via the access point . That is the MFP is configured to be capable of performing data communication with the server via the first mobile phone the second mobile phone and the administrator mobile phone . Further the MFP is set to be not capable of performing wireless LAN communication using a wireless S R unit although the MFP includes a wireless S R unit . The MFP is also configured to be capable of performing data communication with the server via the first mobile phone the second mobile phone and the administrator mobile phone similarly to the MFP . However communication paths of the MFP are not shown in to simplify the drawing. An example of the wireless LAN scheme includes a communication scheme which is specified according to IEEE 802.11a b g n standards.

An overview of the printing system will be described. The printing system is a system in which the server can manage the judgment information of each user in a centralized manner. Since each mobile phone is possessed by each user the judgment information of each user is judgment information corresponding to each of the first mobile phone and the second mobile phone . The judgment information is information for judging restrictions for example a printable volume when the MFPs and execute various processes. Since the judgment information is managed by the server in a unified manner rather than managing the same by the respective MFPs and it is possible to control the right of each user on MFP operations.

A configuration of the MFP will be described. The MFP includes as its main components a central processing unit abbreviated as CPU a memory unit a wireless S R unit NFC S R unit a button inputting unit a panel a printer and a scanner . These components can communicate with each other via an input output port .

The CPU executes a program stored in the memory unit . In the following description the CPU that executes a program such as an operating system abbreviated as OS may be described by a program name. For example the description the OS may mean the CPU executing the OS . 

The memory unit includes a combination of a random access memory abbreviated as RAM a read only memory abbreviated as ROM a flash memory a hard disk abbreviated as HDD a buffer included in the CPU and the like. The memory unit stores the program . The program includes the OS and the like. The OS includes a program or the like for causing the NFC S R unit to execute communication. Further the OS is also a program that provides an application programming interface abbreviated as API that allows each program to acquire information that is acquired by various items of hardware or allows each program to issue instructions to various items of hardware.

The memory unit stores a mobile phone ID judgment information update information wireless LAN restriction information a log in flag image data an administrator mobile phone ID an MFP ID and the like.

The mobile phone ID is information for identifying each of the first mobile phone the second mobile phone and the administrator mobile phone . The judgment information is information for judging which the MFP can execute various processes. An example of the information included in the judgment information includes a printable volume for example 100 sheets a printable paper size for example printable only A4 size and a printable color mode for example black and white printing only . The judgment information is stored in association with the mobile phone ID.

The update information is information for updating the judgment information. An example of the information included in the judgment information includes the number of printed sheets. An example of a method of updating the judgment information includes a method of subtracting the number of printed sheets from the printable volume.

The wireless LAN restriction information is information on whether wireless LAN communication of the wireless S R unit will be restricted or not. The log in flag is information that stores which mobile phone is logged in to the MFP . Since each mobile phone is possessed by each user the expression a mobile phone logs in to the MFP has the same meaning as the expression a user logs in to the MFP . The log in flag is stored in the memory unit in association with the mobile phone ID.

The image data is data which is used in the printing process of the printer . The administrator mobile phone ID is information for identifying the administrator mobile phone . The administrator mobile phone is a predetermined mobile phone that sends the update information as a proxy. The MFP ID is information for identifying the MFP . A manufacturing serial number of the MFP may be used as the MFP ID for example.

The button inputting unit includes keys for executing respective functions of the MFP . The button inputting unit may be integrated with the panel as a touch panel. The panel displays various items of functional information of the MFP . The wireless S R unit performs wireless LAN communication pursuant to an infrastructure mode of the wireless LAN scheme. That is the wireless S R unit performs wireless LAN communication according to such a scheme that data communication is performed via an access point using radio waves. However in this embodiment the wireless S R units of both MFPs and are configured so as not to perform wireless LAN communication. The NFC S R unit performs NFC communications to with the first mobile phone the second mobile phone and the administrator mobile phone . The NFC communications to are near field wireless communications according to an NFC interface protocol communication scheme and are very short ranged communications in each of which a communication range is within approximately 1 meter. In order to establish the NFC communications to various items of information for example an IP address an SSID and the like for setting communication are not necessary. The wireless LAN communications to and are communication in which a communication range is larger than the NFC communications to . Communication speeds of the wireless LAN communications to and are higher than communication speeds of the NFC communications to . The printer is a unit that executes printing using the image data stored in the memory unit . The scanner is a unit that executes reading of documents.

The MFP has the same configuration as the MFP and however the MFP is not shown in to simplify the drawing.

The first and second mobile phones and are mobile phones which are used by general users of the MFPs and . General users are those who do not have the right to perform various settings on the MFPs and and who are not users performing maintenance of the MFPs and . The administrator mobile phone is a mobile phone that is used by an administrator of the MFPs and . The administrator is at least one of the user who has the right to perform various settings on the MFPs and and the user who performs maintenance on the MFPs and . Further the administrator mobile phone is a mobile phone that can send the update information described later to the server as a proxy for the first and second mobile phones and .

The configuration of the first mobile phone will be described. As shown in the first mobile phone includes as its main components a speaker a microphone a CPU a memory unit a button inputting unit a panel a mobile phone S R unit a mobile phone antenna unit an NFC S R unit a wireless S R unit and a camera unit . The CPU executes a program stored in the memory unit . These components can communicate with each other via an input output port .

The speaker and the microphone are units for making calls and inputting voice. The first mobile phone ID is stored in the memory unit . The first mobile phone ID is information for identifying the first mobile phone .

The wireless S R unit performs wireless LAN communication pursuant to an infrastructure mode of the wireless LAN scheme with the access point . The NFC S R unit performs NFC communication with the MFP . The mobile phone S R unit performs wireless communication according to a mobile phone communication scheme with a base station not shown via the mobile phone antenna unit . The button inputting unit is a unit that accepts the operations of the user of the first mobile phone . The button inputting unit may be integrated with the panel as a touch panel. The panel displays various items of functional information of the first mobile phone . The camera unit is a unit that captures an image of a predetermined range using CCDs or the like to acquire image data.

Since the configuration of the second mobile phone and the administrator mobile phone is the same as the configuration of the first mobile phone illustration and description of the detailed configuration thereof are not provided.

The configuration of the server will be described. The server includes as its main components a CPU a memory unit and a communication unit . These components can communicate with each other via an input output port . The memory unit includes a combination of a RAM a ROM a flash memory a HDD and the like. Moreover the memory unit stores a management table . show an example of the management table . The management table stores a registration mobile phone ID judgment information a logged in flag and a logged in MFP ID . The registration mobile phone ID is a mobile phone ID of a mobile phone which is registered as a subject of centralized management of the server . In the example of this embodiment the first mobile phone ID and the second mobile phone ID are stored as the registration mobile phone ID .

The judgment information is information for judging whether an MFP can execute printing. Examples of the judgment information include print volume restriction information print paper restriction information print color restriction information and the like. The print volume restriction information is information indicating such restrictions that the user of the first mobile phone ID can perform printing up to 100 sheets and the user of the second mobile phone ID can perform printing up to 500 sheets for example. The print paper restriction information is information indicating such restrictions that the user of the first mobile phone ID can perform printing on an A3 size paper up to 20 sheets and the user of the second mobile phone ID can perform printing on an A3 size paper up to an unlimited number of sheets for example. The print color restriction information is information indicating such restrictions that the user of the first mobile phone ID can perform printing up to 10 sheets in a color mode and the user of the second mobile phone ID can perform printing up to an unlimited number of sheets in a color mode for example.

The logged in flag is information for identifying a mobile phone that is used by a user being logged in to the MFP. The logged in flag corresponding to the registration mobile phone ID of a mobile phone of the user being logged in to the MFP is set to ON. The logged in MFP ID is information for identifying an MFP to which a mobile phone is being logged in.

Definitions of the wordings data and information in this description will be described. Data means data itself which is used by a CPU of an MFP or a mobile phone. Information is information which is used by a CPU when making various judgments and means conceptual information when data is provided to the CPU as a medium rather than the data itself. In this description data and information are explicitly distinguished and used as described above. For example although data that is sent by a data sending device for example the first mobile phone and data that is stored by a data receiving device for example the MFP that receives the data have different contents both data may represent the same information. As a specific example the first mobile phone may send judgment information inability to perform color printing as data of one byte and the MFP having received the data may convert the data into data of 10 bytes representing inability to perform color printing and store the same in the memory unit .

The operation associated with the NFC communication performed by the MFP will be described with reference to . The operation performed by the MFP is the same as the operation described below. When the MFP is powered on the process shown in the flowchart of starts. In S of the CPU judges whether an access is realized by NFC communications to . The access by the NFC communications to starts when the first mobile phone the second mobile phone and the administrator mobile phone approach within a predetermined range around the NFC S R unit . The predetermined range may be approximately 10 cm for example. When the access is not realized by NFC communication S NO the flow returns to S. When the access is realized by NFC communication S YES the flow proceeds to S.

In S the CPU receives a mobile phone ID of a mobile phone of the NFC communication destination. In S the CPU judges whether the mobile phone of the NFC communication destination is the administrator mobile phone . The judgment may be performed based on whether the mobile phone ID of the mobile phone of the NFC communication destination is identical to the administrator mobile phone ID stored in the memory unit . When the access is made from the administrator mobile phone S YES the flow proceeds to S. In S the CPU judges whether the update information of the first mobile phone or the update information of the second mobile phone is stored in the memory unit . When the update information is not stored S NO the flow returns to S. When the update information is stored S YES the flow proceeds to S. In S the CPU executes an MFP return process. The content of the MFP return process will be described later.

On the other hand when it is judged in S that the mobile phone of the NFC communication destination is not the administrator mobile phone S NO the flow proceeds to S. In S the CPU judges whether the mobile phone of the NFC communication destination is a mobile phone being logged in to the MFP . The judgment may be made based on whether the mobile phone ID of the mobile phone of the NFC communication destination is stored in the memory unit in association with the log in flag. When the mobile phone of the NFC communication destination is a logged in mobile phone S YES the flow proceeds to S.

In S the CPU judges whether the mobile phone logs out. For example a logout button which is a button for accepting an input that instructs execution of log out is displayed on the panel and it may be judged whether the logout button is touched on. When the mobile phone does not log out S NO the flow returns to S. When the mobile phone logs out S YES the flow proceeds to S.

In S the CPU judges whether the update information of the mobile phone of the NFC communication destination is stored in the memory unit . When the update information is not stored S NO the flow returns to S. When the update information is stored S YES the flow proceeds to S. In S the CPU executes the MFP return process. The content of the MFP return process will be described later. After that the flow returns to S.

On the other hand when it is judged in S that the mobile phone of the NFC communication destination is not logged in to the MFP S NO the flow proceeds to S. In S the CPU judges whether another mobile phone other than the mobile phone of the NFC communication destination is logged in to the MFP . The judgment may be made based on whether the mobile phone ID of the other mobile phone is stored in the memory unit in association with the log in flag. When the other mobile phone is logged in S YES the flow proceeds to S. In S the CPU displays an error message on the panel indicating that it is not possible to log in to the mobile phone of the NFC communication destination since the other mobile phone is logged in. As a result since it is possible to restrict the number of mobile phones that can log in to the MFP to one it is possible to prevent multiple logins. On the other hand when the other mobile phone is not logged in S NO the flow proceeds to S .

In S the CPU judges whether the update information of any mobile phone is stored in the memory unit . When the update information is not stored S NO the flow proceeds to S. When the update information is stored S YES the flow proceeds to S. In S the CPU executes the MFP return process. The content of the MFP return process will be described later.

In S the CPU judges whether wireless LAN communication is restricted. The judgment is made based on whether wireless LAN restriction information is stored in the memory unit . When the wireless LAN communication is not restricted S NO the flow returns to S. As a result when the wireless LAN communication is not restricted it is possible to perform control so that the MFP does not receive the judgment information stored in the server . Thus it is possible to prevent the judgment information that is stored in the server and received by the MFP from being unnecessarily sent via a wireless LAN. Moreover when the wireless LAN communication is restricted S YES the flow proceeds to S.

In S the CPU sends judgment information requesting instruction information and the MFP ID to the mobile phone of the NFC communication destination. The judgment information requesting instruction information is information indicating a request for the judgment information on the mobile phone of the NFC communication destination. the MFP ID is read from the memory unit . In S the CPU judges whether the judgment information on the mobile phone of the NFC communication destination is received from the mobile phone of the NFC communication destination. When the judgment information is not received S NO the flow proceeds to S. In S the CPU judges whether a time out event has occurred. The judgment on the occurrence of the time out event may be made based on whether a predetermined period of time has elapsed after the judgment information requesting instruction information is sent in S. When the time out event has not occurred S NO the flow returns to S. When the time out event has occurred S YES the flow returns to S. In S the CPU displays an error message on the panel indicating that the time out event has occurred. After that the flow returns to S.

On the other hand when the judgment information on the mobile phone of the NFC communication destination is received in S S YES the flow proceeds to S. In S the CPU stores the received judgment information in the memory unit in association with the mobile phone ID of the mobile phone of the NFC communication destination.

In S the CPU displays a message on the panel indicating that the mobile phone of the NFC communication destination has successfully logged in to the MFP and needs to log out after executing the printing process. In S the CPU stores the log in flag in the memory unit in association with the mobile phone ID of the mobile phone of the NFC communication destination. As a result the fact that the mobile phone of the NFC communication destination is logged in to the MFP is stored in the MFP . After that the flow returns to S.

The MFP return process will be described with reference to the flowchart of . The MFP return process is a process that starts in S S and S. In S the CPU judges whether wireless LAN communication is restricted. The judgment is made based on whether wireless LAN restriction information is stored in the memory unit . When the wireless LAN communication is not restricted S NO the flow ends. When the wireless LAN communication is restricted S YES the flow proceeds to S.

In S the CPU sends all items of update information stored in the memory unit to the mobile phone of the NFC communication destination using NFC communication. In this case the update information is sent together with the corresponding mobile phone ID. In S the CPU displays a message that instructs the user to maintain the NFC communication state. For example a character string Keep holding your mobile phone over the MFP may be displayed on the panel . In S the CPU judges whether return completion information is received from the mobile phone. The return completion information is information indicating that the update information has been sent to the server . When the return completion information is not received S NO the flow proceeds to S.

In S the CPU judges whether a time out event has occurred. The judgment on occurrence of the time out event may be made based on whether a predetermined period of time has elapsed after the update information is sent to the mobile phone in S. When the time out event has not occurred S NO the flow returns to S. When the time out even has occurred S YES the flow proceeds to S. In S the CPU displays an error message on the panel indicating that the time out event has occurred. After that the flow ends.

On the other hand when the return completion information is received in S S YES the flow proceeds to S. In S the CPU stops displaying the character string that was displayed in S on the panel . In S the CPU erases the update information sent to the mobile phone of the NFC communication destination from the memory unit . In S when the judgment information and the log in flag of the mobile phone corresponding to the update information erased from the memory unit are stored in the memory unit the CPU erases the judgment information and the log in flag stored in the memory unit from the memory unit . In S the CPU sends log out completion information to the mobile phone of the NFC communication destination indicating that all mobile phones have logged out. After that the flow ends.

The printing process performed by the MFP will be described with reference to . The printing process is a process that is performed in parallel with the processes of . When the MFP is powered on the printing process starts. In S the CPU judges whether the input of a print executing instruction has been accepted. For example a print executing button may be displayed on the panel and the input of the print executing instruction may be accepted when the print executing button is touched on. When the print executing instruction is not accepted S NO the flow returns to S. When the print executing instruction is accepted S YES the flow proceeds to S.

In S the CPU judges whether printing can be allowed for the user of the mobile phone that is logged in to the MFP . The judgment may be made using the judgment information on the logged in mobile phone. Specifically when the judgment information indicates that printing of up to 10 sheets is allowed printing up to 10 sheets or less is allowed and printing 11 sheets or more is not allowed. When printing is not allowed S NO the flow proceeds to S and the CPU displays an error message on the panel indicating that printing cannot be executed. After that the flow ends. On the other hand when it is judged that printing is allowed S YES the flow proceeds to S. In S the CPU executes printing on the printer using the image data stored in the memory unit . The printing in S may be performed using the judgment information on the logged in mobile phone and the update information that is generated according to the print execution content. As a specific example printing of 5 sheets is allowed in the first printing operation and when printing of 5 sheets is finished the update information indicating that 5 sheets have been printed is stored in the memory unit in association with the logged in mobile phone in S described later. Here a case where for the logged in mobile phone the printable volume included in the judgment information indicates that printing of up to 10 sheets is allowed and the update information indicates that 5 sheets have been printed will be considered. In this case in the second printing operation although printing of 5 sheets or less is allowed printing of 5 sheets or more is not allowed. Moreover the judgment information of the logged in mobile phone may be updated according to the print execution content. That is the printable volume of the logged in mobile phone may be subtracted by one whenever one sheet is printed and further printing is not allowed in the points in time when the printable volume reaches 0. As a specific example a case where the printable volume of the logged in mobile phone indicates that printing of up to 10 sheets is allowed and the input of the print executing instruction of 11 sheets is accepted will be considered. In this case the printable volume is subtracted by one whenever one sheet is printed and the printable volume reaches 0 when the tenth sheet is printed. Thus printing of the eleventh and subsequent sheets is not allowed.

In S the CPU generates the update information based on print execution results. The generated update information may be the number of printed sheets for example. The CPU stores the generated update information in the memory unit in association with the judgment information and the mobile phone ID of the logged in mobile phone. After that the flow ends.

A wireless LAN communication setting process performed by the MFP will be described with reference to . The wireless LAN communication setting process is a process that is performed in parallel with the processes of . The wireless LAN communication setting process starts when the user of the MFP inputs an instruction to perform a wireless communication setting process via the button or the panel . In S the CPU judges whether the input of the wireless LAN communication settings is accepted. For example a setting button may be displayed on the panel and the input of the wireless LAN communication settings may be accepted when the setting button is touched on. When the input of the wireless LAN communication settings is not accepted S NO the flow returns to S. When the input of the wireless LAN communication settings is accepted S YES the flow proceeds to S.

In S the CPU judges whether setting to restrict wireless LAN communication is made. When the setting to restrict wireless LAN communication is made S YES the flow proceeds to S. In S the CPU stores the wireless LAN restriction information in the memory unit . As a result it is not possible to execute wireless LAN communication between the MFP and the server . Thus it is possible to realize a stand alone state in which the MFP does not perform wireless LAN communication. As a result the occurrence of a situation in which information that should not be sent from the MFP is sent via wireless LAN communication a situation in which information that should not be received by the MFP is received via wireless LAN communication can be prevented. In this case for the server to manage the judgment information in a centralized manner it is necessary to execute various communication via the first mobile phone the second mobile phone and the administrator mobile phone .

On the other hand when the setting to restrict wireless LAN communication is not made S NO the flow proceeds to S. In S the CPU erases the wireless LAN restriction information from the memory unit . As a result it is possible to execute wireless LAN communication between the MFP and the server .

The operation performed by the first mobile phone the second mobile phone and the administrator mobile phone will be described with reference to . In this embodiment the operation performed by the first mobile phone will be described as an example. When the first mobile phone is powered on the process shown in the flowchart of starts. In S the CPU judges whether an access is realized by NFC communication . When the access is not realized by the NFC communication S NO the flow returns to S. When the access is realized by the NFC communication S YES the flow proceeds to S. In S the CPU receives the MFP ID of the MFP of the NFC communication destination.

In S the CPU judges whether the update information and the mobile phone ID corresponding to the update information have been received from the MFP. When the update information and the mobile phone ID have not been received S NO the flow proceeds to S. When the update information and the mobile phone ID have been received S YES the flow proceeds to S. In S the CPU executes a mobile phone return process. The content of the mobile phone return process will be described later.

In S the CPU judges whether the judgment information requesting instruction information and the MFP ID have been received from the MFP. When the judgment information requesting instruction information and the MFP ID have not been received S NO the flow returns to S. When the judgment information requesting instruction information and the MFP ID have been received S YES the flow proceeds to S. In S the CPU establishes wireless LAN communication with the access point . As a result communication between the first mobile phone and the server is established. In S the CPU sends second judgment information requesting instruction information the first mobile phone ID and the MFP ID to the server indicating that the CPU requests the judgment information from the server . As a result a request for the judgment information on the first mobile phone ID is sent to the server .

In S the CPU judges whether the judgment information on the first mobile phone ID has been received from the server . When the judgment information has been received S YES the flow proceeds to S. In S the CPU sends the judgment information on the first mobile phone ID to the MFP using NFC communication. After that the flow returns to S. On the other hand when it is judged in S that the judgment information on the mobile phone ID has not been received S NO the flow proceeds to S. In S the CPU judges whether a time out event has occurred. The judgment on occurrence of the time out event may be made based on whether a predetermined period of time has elapsed after the second judgment information requesting instruction information the first mobile phone ID and the MFP ID have been sent in S. When the time out event has not occurred S NO the flow proceeds to S. When the time out event has occurred S YES the flow returns to S.

In S the CPU judges whether first error information have been received from the server . The first error information is information indicating that the first mobile phone is not registered in the server as a registered mobile phone which is a mobile phone that relays the judgment information stored in the server to the MFPs and . When the first error information has not been received S NO the flow proceeds to S. When the first error information has been received S YES the flow returns to S. In S the CPU judges whether second error information and a logged in MFP ID have been received from the server . The second error information is information indicating that a new login is not allowed since the first mobile phone is logged in to the MFP or . The logged in MFP ID is information for identifying the MFP to which the first mobile phone is logged in. When the second error information and the logged in MFP ID have not been received S NO the flow returns to S. When the second error information and the logged in MFP ID have been received S YES the flow proceeds to S. In S the CPU displays a message on the panel indicating that the first mobile phone has failed to log in to the MFP that is in the NFC communication since the first mobile phone is logged in to the MFP that is identified by the logged in MFP ID . After that the flow returns to S.

The MFP return process S will be described with reference to the flowchart of . The MFP return process starts in S. In S the CPU displays a message that instructs the user to maintain the NFC communication state. For example a character string Keep holding your mobile phone over the MFP may be displayed on the panel .

In S the CPU establishes wireless LAN communication to the access point . As a result communication is established between the first mobile phone and the server . In S the CPU sends the update information received from the MFP in S the mobile phone ID corresponding to the update information the first mobile phone ID and the MFP ID to the server using the wireless LAN communication .

In S the CPU judges whether return completion information indicating that the server has received the update information the mobile phone ID corresponding to the update information the first mobile phone ID and the MFP ID has been received from the server . When the return completion information has not been received S NO the flow proceeds to S. In S the CPU judges whether a time out event has occurred. The judgment on occurrence of the time out event may be made based on whether a predetermined period of time has elapsed after various items of information have been sent to the server in S. When the time out event has not occurred S NO the flow returns to S. When the time out event has occurred S YES the flow proceeds to S. In S the CPU displays an error message on the panel indicating that the time out event has occurred. After that the flow ends.

On the other hand when it is judged in S that the return completion information has been received from the server S YES the flow proceeds to S. In S the CPU sends the return completion information to the MFP using the NFC communication . In S the CPU judges whether log out completion information has been received from the MFP. When the log out completion information has not been received S NO the flow proceeds to S. In S the CPU judges whether a time out event has occurred. The judgment on occurrence of the time out event may be made based on whether a predetermined period of time has elapsed after the return completion information is sent to the MFP in S. When the time out event has not occurred S NO the flow returns to S. When the time out event has occurred S YES the flow proceeds to S. In S the CPU displays an error message on the panel indicating that the time out event has occurred. After that the flow ends.

On the other hand when it is judged in S that the log out completion information has been received from the MFP S YES the flow proceeds to S. In S the CPU stops displaying the character string that was displayed in S on the panel . After that the flow ends.

The processes of performed by the second mobile phone are the same as the processes of performed by the first mobile phone . Thus the description thereof will not be provided.

The operation performed by the administrator mobile phone will be described with reference to . When the administrator mobile phone is powered on the process shown in the flowchart of starts. In S the CPU of the administrator mobile phone judges whether an access is realized by wireless LAN communication . When the access is not realized by the wireless LAN communication S NO the flow returns to S. When the access is realized S YES the flow proceeds to S. In S the CPU of the administrator mobile phone receives the mobile phone ID and the logged in MFP ID from the server . Moreover a message indicating that a mobile phone specified by the mobile phone ID is left unused in the state of being logged in to the MFP that is specified by the logged in MFP ID is displayed on the panel of the administrator mobile phone .

In S the CPU of the administrator mobile phone judges whether the input of an instruction to deputize logout for the mobile phone specified by the mobile phone ID has been accepted. To deputize herein means to function as a proxy. For example to deputize logout means to perform the logout process as a proxy for the mobile phone that had logged in. For example a logout deputizing button may be displayed on the panel and the input of the instruction to deputize logout may be accepted when the administrator touches on the logout deputizing button. When the input of the instruction to deputize logout is accepted S YES the flow proceeds to S. In S a character string that instructs to initiate NFC communication between the MFP that is indicated by the MFP ID received from the server and the administrator mobile phone is displayed on the panel in order to deputize logout. Specifically a character string Please log out user xxx by holding the phone over MFP xxx is displayed on the panel . When the administrator having seen the character string holds the administrator mobile phone over the MFP logout of the mobile phone that is specified by the mobile phone ID received from the server is executed. On the other hand when the instruction to deputize logout is not accepted S NO the flow ends.

The operation performed by the server will be described with reference to . When the server is powered on the process shown in the flowchart of starts. In S the CPU judges whether the second judgment information requesting instruction information the mobile phone ID and the MFP ID have been received. When the second judgment information requesting instruction information the mobile phone ID and the MFP ID have been received S YES it is judged that it is requested to acquire the judgment information and the flow proceeds to S.

In S the CPU judges whether the received mobile phone ID is an ID that is included in the registration mobile phone ID stored in the management table . When the mobile phone ID is stored S YES the flow proceeds to S. When the mobile phone ID is not stored S NO the flow proceeds to S. If the received mobile phone ID is not included in the registration mobile phone ID stored in the management table it means that the mobile phone corresponding to the mobile phone ID is not registered in the server as a registered mobile phone which is a mobile phone that relays the judgment information stored in the server to the MFPs and . In S the CPU sends the first error information to the mobile phone of the wireless LAN communication destination. After that the flow returns to S.

In S the CPU judges whether the logged in flag corresponding to the mobile phone ID received in S is ON in the management table . When the logged in flag is ON S YES it is judged that the mobile phone that has issued the request to acquire the judgment information is logged in to another MFP and the flow proceeds to S. In S the CPU sends the logged in MFP ID corresponding to the mobile phone ID received in S and second error information to the mobile phone of the wireless LAN communication destination. The second error information is information indicating that a request for a new login is not allowable since the mobile phone corresponding to the mobile phone ID received in S is logged in to the MFP or . In S the CPU sends the mobile phone ID received in S and the logged in MFP ID corresponding to the mobile phone ID received in S to the administrator mobile phone . After that the flow returns to S.

On the other hand when it is judged in S that the logged in flag corresponding to the mobile phone ID received in S is not ON S NO the flow proceeds to S. In S the CPU reads the judgment information corresponding to the mobile phone ID received in S from the management table and sends the judgment information to the mobile phone that has sent the judgment information acquisition request. In S the CPU sets the logged in flag in the management table corresponding to the mobile phone ID received in S to ON and stores the MFP ID received in S in association with the mobile phone ID received in S as the logged in MFP ID . In S the CPU sends the mobile phone ID and the MFP ID received in S to the administrator mobile phone . As a result information on which mobile phone has logged in to which MFP is notified to the administrator.

On the other hand when it is judged in S that the mobile phone ID and the MFP ID have not been received S NO the flow proceeds to S. In S the CPU judges whether the update information the mobile phone ID corresponding to the update information the mobile phone ID of the destination mobile phone and the MFP ID have been received. When these items of information have not been received S NO the flow returns to S. When these items of information have been received S YES the flow proceeds to S.

In S the CPU retrieves the registration mobile phone ID from the management table . The registration mobile phone ID is information corresponding to the mobile phone ID corresponding to the update information received in S. Moreover the CPU updates the judgment information corresponding to the retrieved registration mobile phone ID using the update information received in S. In S the CPU sets the logged in flag corresponding to the retrieved registration mobile phone ID to OFF. That is the update information the mobile phone ID and the MFP ID received from the mobile phone also serve as the information indicating that the mobile phone corresponding to the mobile phone ID has logged out of the MFP. In S the CPU sends the return completion information to the mobile phone. After that the flow returns to S.

A first operation example of the printing system will be described with reference to the flowcharts of . In the first operation example a series of operations until user A who is the user of the first mobile phone logs out after logging in to the MFP and executing printing will be described. A case where wireless LAN restriction information is stored in the memory unit and wireless LAN communication cannot be executed will be described as an example. Moreover a case where the management table in the state shown in is stored in the server will be described as an example. Further a case where the first mobile phone is the mobile phone possessed by the user A will be described as an example. Furthermore a case where no update information is stored in the memory unit will be described as an example.

The operation during a period T will be described. The period T is a period that ends when the first mobile phone logs in to the MFP . When the user A holds the first mobile phone over the MFP the first mobile phone accesses by the NFC communication S YES . Since the access is realized by the NFC communication S YES the MFP receives the first mobile phone ID of the first mobile phone of the NFC communication destination S . In this state the first mobile phone of the NFC communication destination is not the administrator mobile phone S NO the first mobile phone is not logged in to the MFP S NO no update information is stored in the memory unit S NO and the wireless LAN communication is restricted S YES . Thus the MFP sends judgment information requesting instruction information and a MFP ID to the first mobile phone S .

Upon receiving the judgment information requesting instruction information and the MFP ID from the MFP S YES the first mobile phone establishes wireless LAN communication with the access point S . The first mobile phone sends second judgment information requesting instruction information the first mobile phone ID and the MFP ID to the server S .

The server receives the second judgment information requesting instruction information the first mobile phone ID the MFP ID from the first mobile phone S YES . Since the first mobile phone ID received is included in the registration mobile phone ID that is stored in the management table see S YES it is judged that the first mobile phone is the subject of the centralized management of the server . Since the logged in flag corresponding to the first mobile phone ID is OFF S NO see region R in it is judged that the first mobile phone is not logged in to any of the MFPs. The judgment information corresponding to the first mobile phone is read from the management table see region R in and sent to the first mobile phone S . The server sets the logged in flag in the management table corresponding to the first mobile phone ID to ON see region R in and stores the MFP ID received in S as the logged in MFP ID see region R in S .

Upon receiving the judgment information on the first mobile phone ID from the server S YES the first mobile phone sends the first mobile phone ID and the judgment information on the first mobile phone ID to the MFP S .

Upon receiving the judgment information on the first mobile phone from the first mobile phone S YES the MFP stores the received judgment information in the memory unit in association with the first mobile phone ID S . The MFP displays a message on the panel indicating that the first mobile phone has successfully logged in to the MFP and needs to log out after executing the printing process S . The MFP stores the log in flag in the memory unit in association with the first mobile phone ID S .

The operation during a period T will be described. The period T is a period in which the MFP executes printing. When the user A operates the button inputting unit to input print instruction information S YES the MFP judges whether printing can be allowed S . The judgment information on the first mobile phone includes print volume restriction 100 sheets print paper restriction A3 size up to 20 sheets and print color restriction color printing up to 10 sheets. Moreover update information is not yet stored. Thus printing of the user A is allowed S YES and printing is executed S .

In the period during when the printing in S is executed the judgment information stored in the memory unit is updated according to the print execution content. For example the number of sheets indicated by the print color restriction in the judgment information is decreased by one whenever the user A executes color printing. Moreover the print color restriction in the judgment information is updated to color printing inhibited at the point in time when the user A has finished color printing of 10 sheets. In this case the user A cannot perform color printing any more. Further the number of sheets indicated by the print paper restriction in the judgment information is decreased by one whenever the user A executes printing on A3 size paper. Moreover the print paper restriction in the judgment information is updated to A3 size printing inhibited at the point in time when the user A has finished printing on 20 sheets of A3 size paper. In this case since the user A cannot perform printing on A3 size paper any more it is necessary to switch to printing of another size for example A4 size in order to continue printing.

When printing ends the MFP generates update information S . For example when the user A has executed color printing on 5 sheets of A3 size paper update information having such content that print volume 5 sheets paper size A3 and print color color is generated. The generated update information is associated with the judgment information of the first mobile phone and the first mobile phone ID and stored in the memory unit .

The operation during a period T will be described with reference to . The period T is a period that ends when the first mobile phone logs out of the MFP . When the user A holds the first mobile phone over the MFP the first mobile phone realizes an access by NFC communication S YES . Since the access is realized by the NFC communication S YES the MFP receives the first mobile phone ID of the first mobile phone of the NFC communication destination S . In this state the first mobile phone is logged in to the MFP S YES the user A has touched on the logout button S YES and the update information on the first mobile phone of the NFC communication destination is stored in the memory unit S YES . Thus the MFP executes the MFP return process S .

Since the wireless LAN communication is restricted S YES the MFP sends the update information stored in the memory unit and the first mobile phone ID corresponding to the update information to the first mobile phone S . The MFP displays a character string Keep holding your mobile phone over the MFP on the panel S .

Upon receiving the update information and the first mobile phone ID corresponding to the update information from the MFP S YES the first mobile phone executes the mobile phone return process S . The first mobile phone displays a character string Keep holding your mobile phone over the MFP on the panel S and establishes communication with the server S . The first mobile phone sends the update information the first mobile phone ID corresponding to the update information the first mobile phone ID of the destination mobile phone and the MFP ID to the server S .

Upon receiving the update information the first mobile phone ID corresponding to the update information the first mobile phone ID of the first mobile phone of the destination and the MFP ID from the first mobile phone S YES the server updates the judgment information of the first mobile phone corresponding to the update information using the received update information S . For example when the update information includes print volume 5 sheets paper size A3 and print color color the judgment information of the first mobile phone is updated to print volume restriction 95 sheets print paper restriction A3 size up to 15 sheets and print color restriction color printing up to 5 sheets see region R in . The server sets the logged in flag corresponding to the first mobile phone to OFF S see region R in . The server sends return completion information to the first mobile phone S .

Upon receiving the return completion information from the server S YES the first mobile phone sends the return completion information to the MFP S . Upon receiving the return completion information S YES the MFP stops displaying the character string Keep holding your mobile phone over the MFP on the panel S . The MFP erases the update information of the first mobile phone and the first mobile phone ID from the memory unit S . The MFP erases the judgment information and the log in flag of the first mobile phone from the memory unit S . The MFP sends log out completion information to the first mobile phone to inform that logout has been completed S .

Upon receiving the log out completion information from the MFP S YES the first mobile phone stops displaying the character string Keep holding a mobile phone over the MFP on the panel S .

A second operation example of the printing system will be described with reference to the sequence diagram of . In the second operation example an operation in which user A who is the user of the first mobile phone sends the update information of user B who is the user of the second mobile phone to the server will be described. Moreover a case where the update information associated with the second mobile phone ID is stored in the memory unit will be described as an example. That is a case where the user B who has logged in to the MFP using the second mobile phone and executed printing has forgotten to log out will be described.

When the user A holds the first mobile phone over the MFP an access is realized by NFC communication S YES . Since the access is realized by the NFC communication S YES the MFP receives the first mobile phone ID of the first mobile phone of the NFC communication destination S . The update information associated with the second mobile phone ID which is the update information of the user B is stored in the memory unit S YES . Thus the MFP executes the MFP return process S .

The content of the MFP return process performed for the update information of the user B will be described. The MFP sends the update information of the user B and the second mobile phone ID corresponding to the update information to the first mobile phone S . Upon receiving the update information of the user B and the second mobile phone ID corresponding to the update information from the MFP S YES the first mobile phone displays a character string on the panel S and establishes wireless LAN communication with the access point S . The first mobile phone sends the update information of the user B the second mobile phone ID corresponding to the update information the first mobile phone ID of the first mobile phone of the destination and the MFP ID to the server S . Upon receiving the update information of the user B the second mobile phone ID the first mobile phone ID and the MFP ID from the first mobile phone S YES the server updates the judgment information corresponding to the second mobile phone using the update information of the user B S . The subsequent processing contents of the MFP return process performed for the update information of the user B are the same as the processing contents in region R of the sequence diagram of in the first operation example. Thus the description thereof will not be provided.

When the MFP return process S ends the login process of the first mobile phone to the MFP is performed. The content of the login process of the first mobile phone will be described. The MFP sends judgment information requesting instruction information and the MFP ID to the first mobile phone S . Upon receiving the judgment information requesting instruction information and the MFP ID from the MFP S YES the first mobile phone establishes wireless LAN communication with the access point S . The first mobile phone sends second judgment information requesting instruction information the first mobile phone ID and the MFP ID to the server S . The server receives the second judgment information requesting instruction information the first mobile phone ID and the MFP ID from the first mobile phone S YES . The subsequent processing contents of the login process of the first mobile phone are the same as the processing contents in region R of the sequence diagram of in the first operation example. Thus the description thereof will not be provided.

In this manner when the user A initiates the NFC communication with the MFP using the first mobile phone the first mobile phone can send the update information the update information of the user B corresponding to the second mobile phone to the server as a proxy for the second mobile phone . As a result it is possible to prevent the occurrence of a situation in which the update information of the user B is left unused in a state of being stored in the memory unit without being sent to the server .

A third operation example of the printing system will be described with reference to the sequence diagram of . In the third operation example an operation in which an administrator who is the user of the administrator mobile phone sends the update information of user A who is the user of the first mobile phone to the server will be described. A case where the first mobile phone is caused to log in to the MFP in a period where the first mobile phone is logged in to the MFP will be described as an example. Moreover a case where the update information associated with the first mobile phone ID is stored in the memory unit of the MFP will be described as an example. That is a case where the user A who has logged in to the MFP using the first mobile phone and executed printing has forgotten to execute logout and the user A tries to log in to the MFP using the first mobile phone will be described.

When the user A holds the first mobile phone over the MFP an access is realized by NFC communication S YES . The MFP receives the first mobile phone ID of the first mobile phone of the NFC communication destination S . The MFP sends judgment information requesting instruction information and the MFP ID of the MFP to the first mobile phone S . Upon receiving the judgment information requesting instruction information and the MFP ID from the MFP S YES the first mobile phone sends second judgment information requesting instruction information the first mobile phone ID and the MFP ID to the server S .

The server receives the first mobile phone ID and the MFP ID from the first mobile phone S YES . Since the logged in flag corresponding to the first mobile phone ID is ON S YES and the logged in MFP ID corresponding to the first mobile phone ID is MFP ID of MFP it is judged that the first mobile phone is logged in to the MFP . The server sends the logged in MFP ID MFP ID of MFP and second error information to the first mobile phone S . Moreover the server sends the first mobile phone ID and the logged in MFP ID MFP ID of MFP to the administrator mobile phone S .

The first mobile phone receives the second error information and the logged in MFP ID S YES . The first mobile phone displays a message Failed to log in to the MFP since the mobile phone is being logged in to the MFP on the panel S .

The administrator mobile phone is accessed by wireless LAN communication S YES . The administrator mobile phone receives the first mobile phone ID and the logged in MFP ID MFP ID of MFP from the server S . Moreover a message indicating that the first mobile phone remains in a state of being logged in to the MFP is displayed on the panel of the administrator mobile phone . When the administrator inputs an instruction to deputize logout S YES and holds the administrator mobile phone over the MFP the mobile phone return process is executed S . The content of the mobile phone return process is the same as the processing content during the period T in the first operation example and the description thereof will not be provided.

In this manner the administrator mobile phone can execute logout of the first mobile phone from the MFP as a proxy for the first mobile phone . Thus the user A can log in to the MFP using the first mobile phone .

Advantages of the printing system according to this embodiment will be described. In the MFP disclosed in this description when setting to restrict wireless LAN communication is set S YES only the NFC S R unit serves as communication means. Moreover direct communication with the access point cannot be realized in the NFC communication executed by the NFC S R unit . As a result since a state in which the MFPs and are not directly connected to the access point can be created it is possible to secure communication security. Moreover it is possible to relay communication of the judgment information between the server and the MFPs and using the NFC communications to and the wireless LAN communications to executed by the first mobile phone the second mobile phone and the administrator mobile phone . As a result the MFPs and can execute the printing process based on the judgment information stored in the server S . Thus the server can control the printing process of the MFPs and while securing the communication security of the MFPs and .

It is possible to relay communication of the update information between the server and the MFPs and using the NFC communications to and the wireless LAN communications to executed by the first mobile phone the second mobile phone and the administrator mobile phone . As a result it is possible to update the judgment information managed by the server based on the results of the printing process S .

It is possible to make settings as to whether or not to restrict wireless LAN communication between the MFPs and and the access point S . As a result it is possible to control the printing process performed by the MFPs and which are restricted to perform wireless LAN communication with the access point according to the judgment information stored in the server .

With a simple operation of moving the first mobile phone the second mobile phone and the administrator mobile phone so as to approach the MFP or the approaching mobile phone can be selected as a communication counterpart S S . That is it is possible to intuitively select a communication counterpart MFP among the MFPs and using the NFC communication scheme.

It is possible to relay communication of the judgment information between the server and the MFPs and using the first mobile phone the second mobile phone and the administrator mobile phone . As a result even when the server is present outside the communication range of the NFC communications to it is possible to control the image data processing of the MFPs and based on the judgment information stored in the server .

In response to an event in which a mobile phone being logged in to the MFP initiates NFC communication S YES it is possible to send the update information stored in the memory unit to the server S . Thus since the need to input an operation of sending the update information to the server to the button inputting unit or the like can be eliminated it is possible to improve user s convenience.

There is a case where the NFC communications to cannot be established between the MFP and respective one of the first mobile phone the second mobile phone and the administrator mobile phone before the MFP sends the update information to the server via the first mobile phone the second mobile phone and the administrator mobile phone after the MFP receives the judgment information from the server via the first mobile phone the second mobile phone and the administrator mobile phone and executes image data processing. In this case when the NFC communications to are resumed subsequently it is possible to send the update information stored in the memory unit of the MFP to the server via the first mobile phone the second mobile phone and the administrator mobile phone . Thus it is possible to prevent the occurrence of a situation where the update information is left unused in a state of being stored in the memory unit without being sent to the server .

When a mobile phone logs in to the MFP successfully it is possible to display a message on the panel of the MFP indicating that the mobile phone needs to log out after executing the printing process S . As a result when the MFP executes the image data processing the user can be made aware of the fact that the user needs to maintain the state where the NFC communications to are allowed until the update information is completely sent. Moreover even when a state where the NFC communications to are not allowed is temporarily created before the update information is sent the user can be made aware of the fact that it is only necessary to reestablish the NFC communications to later. Thus it is possible to prevent the occurrence of a situation where the update information is left unused in a state of being stored in the memory unit without being sent to the server .

When another mobile phone different from the mobile phone which is the source of the judgment information initiates NFC communication with the MFP the other mobile phone can send the update information stored in the memory unit to the server as a proxy for the mobile phone which is the source of the judgment information. As a result it is possible to prevent the occurrence of a situation where the update information is left unused in a state of being stored in the memory unit of the MFP without being sent to the server .

When the update information associated with a mobile phone for example the first and second mobile phones and other than the administrator mobile phone is stored in the memory unit of the MFP S YES it is possible to send the update information to the server using the administrator mobile phone . As a result it is possible to prevent the occurrence of a situation where the execution result information is left unused in a state of being stored in the memory unit of the MFP without being sent to the server .

While specific embodiments of the present invention have been described in detail above such description is for illustrative purposes only and is not intended to limit the scope and claims of the invention. Techniques described in the claims of the invention include various modifications and changes made to the specific examples illustrated above. Modifications will be described below.

Although a mode in which the server updates the judgment information using the update information received from the MFP S has been described the present invention is not limited to such a mode. The MFP may generate updated judgment information S by updating the judgment information according to the print execution content S . Specifically when the judgment information indicates that printing of up to 10 sheets is allowed and printing of 5 sheets has been allowed and printing of 5 sheets have been finished in S the CPU may subtract 5 sheets from the judgment information and generate updated judgment information which is the judgment information indicating that printing of up to 5 sheets is allowed. Moreover the MFP may send the updated judgment information instead of the update information S . The server may execute a process of overwriting the judgment information stored in the management table with the updated judgment information instead of executing the process S of updating the judgment information using the update information. As a result it is possible to reduce the load of the updating process of the server . Moreover the mobile phone may generate updated judgment information by updating the judgment information using the update information received from the MFP. The mobile phone may send the updated judgment information instead of the update information S . Further the server may execute a process of overwriting the judgment information stored in the management table with the updated judgment information instead of executing the process S of updating the judgment information using the update information. As a result it is possible to reduce the load of the updating process of the server .

In this embodiment although a case where the number of mobile phones that can log in to the MFP is restricted to one has been described the present invention is not limited to such a mode a plurality of mobile phones may be allowed to log in to the MFP simultaneously. When such control is performed S and S may be omitted from the flowchart of .

The update information on the first mobile phone stored in the MFP may be allowed to be sent to the server only when the first mobile phone is used. Similarly the update information on the second mobile phone stored in the MFP may be allowed to be sent to the server only when the second mobile phone is used. When such control is performed S and S may be omitted from the flowchart of .

Although a case where the NFC communication executed by the NFC S R unit is communication which does not use authentication information has been described the present invention is not limited to such a mode. NFC communication which uses authentication information such as a PIN code may be used.

The operation in S of informing that login has been performed successfully and it is necessary to perform logout may be performed at any point in time. For example the informing operation may be performed immediately before or after the step S of sending the judgment information requesting instruction information and may be performed immediately before or after the step S of storing the judgment information in the memory unit . The operation in S of informing that login has been performed successfully and it is necessary to perform logout is not limited to a mode in which a character string is displayed on the panel of the MFP. A mode may be employed in which an audible sound is output. Moreover a mode may be employed in which instruction information for displaying a character string is sent to the mobile phone of the NFC communication destination. Or a mode may be employed in which the character string is displayed on the panel of the mobile phone. Further instruction information for outputting an audible sound may be sent to the mobile phone of the NFC communication destination so as to cause the mobile phone to output an audible sound.

Various communication schemes may be used for the NFC communications to . For example short range data communication using infrared rays infrared data association IrDA radio frequency identification abbreviated as RFID TransferJet registered trademark and Bluetooth registered trademark may be used. The communication scheme of the wireless LAN communications to and is not limited to a wireless LAN scheme and various other schemes may be used. For example the Wi Fi that is pursuant to the IEEE 802.11 series the wide area network abbreviated as WAN and the Internet may be used.

The MFPs and may perform such control of forcibly logging a mobile phone out when a predetermined period has elapsed without logout processing being performed after the mobile phone has logged in. The forced logout process involves erasing the judgment information and the log in flag for the mobile phone in which a predetermined period has elapsed without logout processing being performed after the mobile phone has logged in from the memory unit .

When a predetermined period has elapsed in a state where the logged in flag in the management table is ON the server may send the mobile phone ID of the mobile phone corresponding to the logged in flag in the ON state and the MFP ID corresponding to the logged in flag in the ON state to the administrator mobile phone . Upon receiving the mobile phone ID and the MFP ID from the server S the administrator mobile phone may accept the input of the instruction to deputize logout S . In this manner the administrator can execute the logout processing as a proxy by holding the administrator mobile phone over the MFP.

The MFPs and may not have the wireless S R unit and may be configured to be not capable of executing wireless LAN communication with the access point . In this case the wireless LAN communication setting process of may be omitted.

The technique disclosed in this description can also be applied to a case where the wireless LAN communication of the wireless S R unit is enabled in the MFPs and . In this case in normal time by communicating with the server by wireless LAN communication via the access point the image data processing of the MFPs and is controlled according to the judgment information stored in the server. Moreover when such an abnormality that wireless LAN communication cannot be established between the MFPs and and the server occurs due to a fault of the wireless S R unit or a fault of the access point by allowing the first or second mobile phone or to relay the judgment information the image data processing of the MFPs and can be controlled according to the judgment information stored in the server. In this manner since it is possible to provide a plurality of communication systems even when an abnormality occurs in the wireless LAN communication the server can manage the MFPs and in a centralized manner.

The device used in the printing system is not limited to such a multifunction device such as the MFPs and . For example a printer a scanner a copying machine a FAX machine and the like may be used.

Although the MFP stores the information for identifying the administrator mobile phone in the memory unit as the administrator mobile phone ID the present invention is not limited to such a mode. Information for identifying an optional mobile phone such as the information for identifying the first or second mobile phone or may be stored as the administrator mobile phone ID. For example when the information for identifying the first mobile phone is stored in the memory unit as the administrator mobile phone ID the first mobile phone performs the function of the administrator mobile phone as well as the function of the mobile phone for general users. Further when an access is realized from a mobile phone having the administrator mobile phone ID S YES the MFP may accept the input that gives an instruction as to whether the accessing mobile phone will be treated as an administrator mobile phone or a mobile phone for general users. When an instruction to treat the mobile phone as the administrator mobile phone is input from the user the flow may proceed to S and the process corresponding to the administrator mobile phone may be executed. When an instruction to treat the mobile phone as the mobile phone for general users is input from the user the flow may proceed to S and the process corresponding to the other mobile phones may be executed.

The MFP ID is not limited to the manufacturing serial number. Any information that can identify individual MFPs may be used and for example the MAC address may be used.

The first mobile phone the second mobile phone and the administrator mobile phone included in the printing system are merely examples. The technique of the present application can be applied to a case where four mobile phones or more are included in the printing system . The MFPs and included in the printing system are merely examples. The technique of the present application can be applied to a case where three MFPs or more are included in the printing system .

In each of the above mentioned embodiments functions are realized by the CPU or the CPU performing process in accordance with a program. However at least one of the functions may also be realized with hardware such as a logic circuit.

MFPs and are examples of an image data processing device . A server is example of a management device . NFC communications to are examples of first communication scheme . Wireless LAN communications to are examples of a second communication scheme . A first mobile phone and a second mobile phone are examples of an electronic device . A CPU is an example of a processor . An NFC S R unit is an example of a communication device . A CPU executing S is an example of A causing . A CPU executing S is an example of B processing . A CPU executing S is an example of C causing . A CPU executing S is an example of D controlling . A wireless S R unit is an example of a second communication scheme communication module . A button inputting unit is an example of an input reception module . A CPU executing S is an example of E causing . A CPU executing S is an example of F performing . An administrator mobile phone is an example of a proxy electronic device . A first mobile phone ID a second mobile phone ID and an administrator mobile phone ID are examples of identification information .

