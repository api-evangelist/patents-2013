---

title: Method and apparatus for co-location of two radio frequency devices
abstract: A method for avoiding signal interference between a first RF circuit and a second RF circuit is provided. The first and second RF circuits are co-located and the first RF circuit is configured to operate in a first frequency range. The second RF circuit is configured to operate in a second frequency range, where the first frequency range overlaps, at least in part, the first frequency range. The method initiates with a controller that is coupled to the first RF circuit and the second RF circuit. Then, the second RF circuit is configured to avoid RF signal collisions with the first RF circuit. An apparatus where two RF devices are co-located without causing interference for each other is also provided.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09264152&OS=09264152&RS=09264152
owner: Broadcom Corporation
number: 09264152
owner_city: Irvine
owner_country: US
publication_date: 20130617
---
This application is a continuation of U.S. Non Provisional Application Ser. No. 13 552 826 filed Jul. 19 2012 which is a continuation of U.S. Non Provisional application Ser. No. 13 296 143 filed Nov. 14 2011 which is a continuation of U.S. Non Provisional application Ser. No. 12 758 403 filed Apr. 12 2010 which is a continuation of U.S. Non Provisional Application Ser. No. 11 976 182 flied Oct. 22 2007 which is a continuation of U.S. Non Provisional Application Ser. No. 10 233 237 filed Aug. 29 2002 which claims priority from U.S. Provisional Application No. 60 346 315 filed Dec. 28 2001 and entitled Co Location of Two RF Devices all of which are incorporated herein by reference in their entirety.

The present invention relates generally to wireless communication between devices and more particularly to locating two radio frequency RF devices that share the same RF band in a common apparatus where the two co located devices communicate with each other so that transmissions can occur simultaneously without substantial interference.

Bluetooth is a short range radio technology operating in the license free Industrial Scientific and Medical ISM frequency band between the frequencies of about 2400 Mega Hertz MHz to about 2483.5 MHz. As originally developed Bluetooth was to replace cables which connect devices such as mobile phone handsets headsets and portable computers. The promise of the Bluetooth technology has since grown to enabling wireless communications between any electrical device. Thus the notion of a wireless personal area network WPAN of a 10 meter connectivity bubble centered around the individual is developing.

At the same time wireless local area networking WLAN is becoming accepted as a wireless Ethernet solution. The protocols for WLAN s such as Institute of Electrical and Electronics Engineers IEEE 802.11b operate in the ISM frequency band as Bluetooth devices. A WLAN is an extension or replacement of wired networks for numerous computing devices. For example a laptop that is WLAN enabled can connect to a particular network through an access point. Accordingly WLAN technology is being embraced by businesses. With Bluetooth technology directed towards individuals and WLAN technology directed toward businesses the two technologies are complementary. Therefore a portable device such as a portable computer mobile phone personal digital assistant PDA etc. may contain both a WLAN RF device and a Bluetooth RF device. As a result the co located RF devices must co exist without interfering with each other.

The transmission technique used by the RF devices of is a spread spectrum technique. Two spread spectrum modulation techniques are commonly used by devices transmitting in the ISM band. One of the modulation techniques frequency hopping spread spectrum FHSS is typically used by Bluetooth enabled devices. Under FHSS a device can transmit high energy in a relatively narrow band for a limited time. The Bluetooth standard uses channels of 1 MHz in width at a hop rate of approximately 1600 times per second. There are 79 different channels used by the Bluetooth standard in the SSM frequency band. FHSS devices such as Bluetooth enabled devices are changing i.e. hopping channels according to a mapping algorithm following a different sequence depending on the link control state.

The second modulation technique direct sequence spread spectrum DSSS is typically used by IEEE 802.11b. Under the DSSS technique a device occupies a wider bandwidth with relatively low energy in a given segment of the band. The DSSS technique does not hop however it may change frequency bands if an access point through which a connection is made to a network is changed. IEEE 802.11b uses a 22 MHz passband to transmit data. Thus the 802.11b standard can utilize any of eleven 22 MHz subchannels across the ISM frequency band.

While attempts have been made to communicate the times to the Bluetooth device when the 802.11b device is actively transmitting the system performance of the Bluetooth device is drastically reduced. Since the Bluetooth device has no knowledge of what frequency the 802.11b device is using the Bluetooth device is blocked from the entire ISM frequency until the 802.11b device completes the transmission to avoid a collision. Thus one attempt to avoid the collisions of co located devices is to prevent the Bluetooth device from activity while the 802.11b device is active. In another attempt to address the problem the Bluetooth device keeps track of which channels have interference through a table in memory recording good and bad transmissions and their frequencies. The Bluetooth device will avoid the channels where transmission is unsuccessful or has a high noise level based upon the past history as represented in the table. However since the 802.11b device is not always transmitting the Bluetooth device may not capture the frequency the 802.11b device transmits at. The Bluetooth device does not have the capability of actually determining which frequency the 802.11b device is occupying as it is guessing . Therefore when the Bluetooth RF device and the 802.11b RF device are co located that is in the same apparatus such as a portable computer the potential for interference between them is high since the devices will be transmitting and receiving on the same frequencies from time to time. The interference caused from the collisions when the same frequencies are used will degrade performance for both RF devices. While the short comings for two co located devices are described in terms of Bluetooth technology and 802.11b technology they can be extended for any RF technologies co located in the same device.

In view of the foregoing there is a need for a method and apparatus that allows co located RF devices to transmit and receive simultaneously without causing substantial interference with each other resulting in signal loss.

Broadly speaking the present invention fills this need by providing a method and an apparatus for allowing one of the co located radio frequency RF devices to communicate the RF range in which it operates so that the other RF device may avoid that range. The present invention also provides a method for the propagation of the frequency range to external RF devices.

In one embodiment of the present invention a method for avoiding signal interference between a first RF device and a second RF device is provided. The first and second RF devices are co located and the first RF device is configured to operate within a semi stationary range of a frequency band. The second RF device is configured to operate by changing channels within the frequency band. The method initiates with a communication interface being provided between the first RF device and the second RF device. Then the second RF device receives the semi stationary range and a mode for the first RF device through the communication interface. Next the second RF device is adapted to avoid the semi stationary range of the frequency band of the first RF device when the mode of the first RF device is in an active mode.

In another embodiment of the invention a method for avoiding signal interference between a first radio frequency RF device co located with a second RF device is provided. The first RF device is configured to operate within a semi stationary range of a frequency band. The second RF device is a slave to a third RF device. The method initiates with a communication interface being provided between the first RF device and the second RF device. Then the semi stationary range of the frequency band for the first RF device is received through the communication interface at the second RF device. Next a propagation of the semi stationary range through the second RF device to the third RF device is caused. The third RF device is adapted to avoid the semi stationary range of the frequency band for the first RF device in response to the propagation.

In accordance with yet another aspect of the invention an apparatus is provided. The apparatus includes a first radio frequency RF device the first RF device is configured to operate within a defined range of a frequency band. A second RF device is co located with the first RF device. The second RF device is configured to operate by changing channels within the frequency band. A communication interface is provided between the first RF device and the second RF device. The communication interface enables the second RF device to determine the defined range of the frequency band that the first RF device operates within and a mode of the first RF device. The second RF device avoids the defined range of the frequency band when the second RF device changes channels if the first RF device is in an active mode.

It is to be understood that the foregoing general description and the following detailed description are exemplary and explanatory only and are not restrictive of the invention as claimed.

Several exemplary embodiments of the invention will now be described in detail with reference to the accompanying drawings. are discussed above in the Background of the Invention section.

The embodiments of the present invention separates in time and frequency two radio frequency RF signals from separate RF devices co located in the same apparatus. As used herein co located refers to devices within the same apparatus. As will be explained in more detail below the frequency that one RF device is using when the RF device is in an active mode i.e. transmitting and receiving is communicated to the other RF device. Thus a master slave relationship exists between the two co located RF devices. For illustrative purposes the embodiments below are discussed with respect to one RF device being an Institute of Electrical and Electronics Engineers IEEE 802.11b device and the other RF device being configured to execute the Bluetooth standard. However it will be apparent to one skilled in the art that the methods and apparatus discussed herein are can be applied to other RF technologies such as Ultrawideband Zigbee digital enhanced cordless telecommunications DECT and global positioning system GPS .

Still referring to where RF device is a Bluetooth enabled device RF device can communicate with an external Bluetooth enabled device such as RF device . It will be apparent to one skilled in the art that Bluetooth enabled RF device may be a mouse keyboard personal digital assistant PDA mobile phone etc. which communicates with portable computer . Here Bluetooth RF device transmits short range RF through antenna to another Bluetooth device which receives the short. range RF through antenna . Additionally where RF device is Bluetooth enabled bus is any bus capable of interfacing with RF device such as a universal serial bus USB .

RF device and RF device of communicate with each other through communication interface in one embodiment. Communication interface is a physical bus such as a Philips IC bus or an Intel System Management SM bus. It should be appreciated that RF device and RF device contain appropriate bus interfaces to enable communication between device and . RF device can request and receive the frequency that RF device operates at through communication interface . Alternatively RF device and RF device can communicate with each other through a common central processing unit CPU shared by the RF devices as described below with reference to . In addition to requesting and receiving the operating frequency of RF device RF device can request and receive a signal indicating whether RF device is in an active mode through communication interface .

Still referring to RF device sends a request to the API of driver for the frequency the 802.11b device is operating at. One skilled in the art will appreciate that this request is accomplished by driver communicating with driver . In response to the request a frequency range the RF device is operating at is sent to driver through bus . Additionally a signal indicating that RF device is in an active mode i.e. transmitting or receiving may also be transmitted to driver through this pathway. Thus driver through API in communication with API can access what frequency RF device is operating at and when RF device is active. As will be explained in more detail below where RF device is an 802.11b device the frequency of operation for an 802.11b device is semi stationary. That is the 802.11b device operates within a defined range of the Industrial Scientific and Medical ISM frequency band that does not change unless an access node is changed. Accordingly RF device can receive the information on the semi stationary frequency range that RF device is operating on so as to avoid the semi stationary frequency range to eliminate interference generated from the co located devices.

However where the Bluetooth device is configured to receive the semi stationary frequency band that the 802.11b device is operating in and the time period that the 802.11b device is active as discussed with reference to the bandwidth of the Bluetooth device is substantially maintained. The intersection of bar and bar represent the semi stationary frequency band when the 802.11b device is active. Thus the Bluetooth device can avoid the semi stationary frequency when the 802.11b device is active and while the 802.11b device is not active the Bluetooth device is free to hop in the semi stationary band without a performance penalty. In turn the performance of the Bluetooth device is substantially maintained.

It should be appreciated that the master slave relationship fits well with the properties of the 802.11b protocol and the Bluetooth standard. That is since the 802.11b device is slower moving i.e. semi stationary and does not utilize the entire ISM band at the same time it is well suited to act as the pace setter i.e. the master. The fast hopping Bluetooth device which uses less bandwidth is well suited for the slave.

Bluetooth technology also employs a master slave relationship which should not be confused with the master slave concept described above. Where two Bluetooth devices such as a portable computer and a PDA are in communication with each other the device initiating the communication acts as the master. Bluetooth masters set the frequency hopping sequence while Bluetooth slaves synchronize to the master in time and frequency. A Bluetooth master can support up to seven active Bluetooth slaves.

Still referring to Bluetooth device initiates communication with external Bluetooth device therefore Bluetooth device is the master. It should be understood that at the same time Bluetooth device is a slave to 802.11b device as described above. Thus Bluetooth device controls the frequency at which the slave responds and when the slave responds. The semi stationary range that the 802.11b device operates at is thereby avoided in the frequency hopping of Bluetooth device . As Bluetooth device transmissions are controlled as to frequency and time by Bluetooth device Bluetooth device also avoids the semi stationary range that the 802.11b device operates at. It should be appreciated that while one Bluetooth slave is illustrated in up to seven slaves can be supported by a Bluetooth master. Additionally Bluetooth device can be associated with another external Bluetooth enabled RF device.

Where external Bluetooth device of initiates communication with Bluetooth device Bluetooth device is the master. Here the frequency data that 802.11b device operates at and the activity mode received by Bluetooth device via communication interface is propagated to external Bluetooth device . By propagating the data to Bluetooth device which is the master of Bluetooth device the frequency hopping algorithm for Bluetooth device can be adjusted to avoid channels in the semi stationary range used between 802.11b device and access node . If the 802.11b device should change networks the new semi stationary range is propagated to external Bluetooth device . One skilled in the art will appreciate that the Link Manager protocol of the Bluetooth protocol stack is used to communicate the frequency data and the activity mode received by Bluetooth device to external Bluetooth device . A Link Manager protocol data unit PDU containing data indicating if certain channels can or can not be used is sent from device to external device . This PDU is sent whenever the active signal changes state. In one embodiment the PDU may be sent indicating a de active signal.

Propagating the channel information described above is optional due to the performance impacts because of the restriction of what frequencies to use. The propagation increases the performance of a IEEE 802.11b link while reducing the bandwidth of the Bluetooth link when an 802.11b RF device and a Bluetooth RF device are co located. Referring to in one embodiment only Bluetooth device is restricted from the 22 MHz semi stationary frequency band that the 802.11b device operates at. Here the bandwidth between Bluetooth device and external Bluetooth device is reduced by approximately 28 22 79 times the duty cycle of the active signal. In another embodiment both device and external device are restricted as to what frequency to use with device only restricted when the 802.11b device is active. Therefore device must propagate the state of the active signal to external device . Here the bandwidth of the link between the Bluetooth devices is reduced by approximately 57 22 79 2 times the duty cycle of the active signal. In yet another embodiment external device is restricted all of the time irrespective of the state of the active signal. Device does not communicate the state of the active signal to external device in this embodiment. The bandwidth between Bluetooth device and external Bluetooth device is reduced by approximately 28 22 79 times the duty cycle of the active signal. It should be appreciated that the reduction in bandwidth described herein is applicable when co located Bluetooth device is a slave to external Bluetooth device .

The flowchart diagram of then moves to decision operation where it is determined if the second RF device is a slave to an external RF device. If the second RF device is not a slave to an external RF device then the method proceeds to operation where the second RF device is adapted to avoid the semi stationary range when the first RF device is active. For example the algorithm for determining the frequency hopping of a RF device employing FHSS is adjusted to avoid the semi stationary range that the first RF device uses. Furthermore the second RF device only needs to avoid the semi stationary range when the first RF device is active. That is when the mode indicates an active mode the modified frequency hopping is implemented.

If the second RF device is a slave to an external RF device then the method advances to operation where the semi stationary range is propagated through the second RF device to the external device. In the context of Bluetooth devices where the second RF device is a Bluetooth slave to a third RF device i.e. a Bluetooth master the semi stationary range must be propagated to the third RF device. Thus the third RF device is adapted to avoid the semi stationary range of the frequency band for the first RF device as described above.

In summary the present invention provides a method and an apparatus for avoiding signal interference for co located RF devices. The invention has been described herein in terms of several exemplary embodiments. Other embodiments of the invention will be apparent to those skilled in the art from consideration of the specification and practice of the invention. The embodiments and preferred features described above should be considered exemplary with the invention being defined by the appended claims.

With the above embodiments in mind it should be understood that the invention may employ various computer implemented operations involving data stored in computer systems. These operations are those requiring physical manipulation of physical quantities. Usually though not necessarily these quantities take the form of electrical or magnetic signals capable of being stored transferred combined compared and otherwise manipulated. Further the manipulations performed are often referred to in terms such as producing identifying determining or comparing.

Any of the operations described herein that form part of the invention are useful machine operations. The invention also relates to a device or an apparatus for performing these operations. The apparatus may be specially constructed for the required purposes or it may be a general purpose computer selectively activated or configured by a computer program stored in the computer. In particular various general purpose machines may be used with computer programs written in accordance with the teachings herein or it may be more convenient to construct a more specialized apparatus to perform the required operations.

The invention can also be embodied as computer readable code on a computer readable medium. The computer readable medium is any data storage device that can store data which can be thereafter be read by a computer system. Examples of the computer readable medium include hard drives network attached storage NAS read only memory random access memory CD ROMs CD Rs CD RWs magnetic tapes and other optical and non optical data storage devices. The computer readable medium can also be distributed over a network coupled computer systems so that the computer readable code is stored and executed in a distributed fashion.

Although the foregoing invention has been described in some detail for purposes of clarity of understanding it will be apparent that certain changes and modifications may be practiced within the scope of the appended claims. Accordingly the present embodiments are to be considered as illustrative and not restrictive and the invention is not to be limited to the details given herein but may be modified within the scope and equivalents of the appended claims.

