---

title: Setting up a full-duplex communication session and transitioning between half-duplex and full-duplex during a communication session within a wireless communications system
abstract: In an embodiment, an originating device sends a request, to a server, to initiate a full-duplex session with a target device. Responsive to the full-duplex request, a half-duplex session is set-up from the originating device to the target device before the full-duplex session is set-up. The target device indicates its acceptance of the half-duplex session, receives half-duplex media from the originating device and selectively indicates its acceptance of the full-duplex session. In another embodiment, during a session currently supported either by half-duplex or full-duplex, the server arbitrating the session receives a request from one of the session participants to transition the session to another duplex-type. The server then selectively transitions the duplex-type of the session.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09520982&OS=09520982&RS=09520982
owner: QUALCOMM Incorporated
number: 09520982
owner_city: San Diego
owner_country: US
publication_date: 20130731
---
The present Application for Patent is a divisional of U.S. patent application Ser. No. 12 538 618 entitled SETTING UP A FULL DUPLEX COMMUNICATION SESSION AND TRANSITIONING BETWEEN HALF DUPLEX AND FULL DUPLEX DURING A COMMUNICATION SESSION WITHIN A WIRELESS COMMUNICATION SYSTEM filed on Aug. 10 2009 which in turn claims priority to Provisional Application No. 61 188 590 entitled SYSTEM AND METHOD FOR TRANSITIONING BETWEEN HALF DUPLEX AND FULL DUPLEX COMMUNICATION SESSIONS BETWEEN WIRELESS COMMUNICATION DEVICES filed on Aug. 11 2008 each of which is assigned to the assignee of the subject application and is incorporated herein by reference in its entirety.

Embodiments of the invention are directed to setting up a full duplex communication session and transitioning between half duplex and full duplex during a communication session within a wireless communications system.

Communication sessions can conventionally be initiated either as half duplex sessions e.g. PTT or full duplex sessions e.g. VoIP . When a synchronous full duplex communication is desired between two telecommunication devices such as a telephone call between two telephones it is common to have one device attempt to start the communication and bridge the connection by contacting the other device. The telephone system then will either send a signal and or bridge a full duplex communication channel on a circuit switch to the other device and the contacted device will then broadcast an alert such as a ring or other audible alert and can also give a visual alert such as flashing lights or activity on a display to inform a person near the device that another communication device is attempting to bridge a communication. A person will then answer the contacted device and the full duplex communication will then be bridged or if the communication was already bridged the channel will be maintained.

In existing phone systems the system overhead to start and then attempt to bridge the full duplex phone call can be significant. The call commencing process typically begins with a person signifying that they intend to make a phone call such as by lifting up a telephone handset or pressing a button for an active line and then the telephone system accepts the telephone number determines the intended number sends the appropriate alerting signal or bridges a communication channel to the other device and waits for acceptance of the call. This process averages 10 seconds and utilizes system overhead during the entire process. There exists some functionality in the calling devices such as speed dialing that can hasten parts of the calling process but this only partially reduces the calling time.

There is a wireless telecommunication service that provides a quick one to one or one to many communication half duplex voice communication that is generically referred to as Push To Talk PTT capability. The specific PTT group of recipient devices for the communicating wireless device is commonly set up by the carrier and a PTT communication connection is typically initiated by a single button push on the wireless device that activates a half duplex communication link between the speaker and each member device of the group and once the button is released the device can receive incoming PTT transmissions. In some arrangements the PTT speaker will have the floor where no other group member can speak while the speaker had engaged the PTT button at his or her device. Once the speaker releases the PTT button any other individual member of the group can engage their PTT button and they will have the floor.

A PTT communication system does not utilize a ringing system similar to a standard telephone system but rather opens up a communication channel to a target wireless device upon a group member being granted the floor to talk and the floor holder simply starts to talk with the voice being received at and broadcasted to the target devices. Thus in a walkie talkie style the voice from the originating wireless device is simply broadcast from the receiving wireless device with no answer required at the receiving wireless device. As the original voice communication was half duplex for a target device to talk back to the originating wireless device or other group members the user of the target device presses the PTT button sends a floor request to attempt to get the floor for the session. Thus multiple group member devices of a PTT group do not concurrently exchange media in a half duplex session as in full duplex.

In an embodiment an originating device sends a request to a server to initiate a full duplex session with a target device. Responsive to the full duplex request a half duplex session is set up from the originating device to the target device before the full duplex session is set up. The target device indicates its acceptance of the half duplex session receives half duplex media from the originating device and selectively indicates its acceptance of the full duplex session. In another embodiment during a session currently supported either by half duplex or full duplex the server arbitrating the session receives a request from one of the session participants to transition the session to another duplex type. The server then selectively transitions the duplex type of the session.

Aspects of the invention are disclosed in the following description and related drawings directed to specific embodiments of the invention. Alternate embodiments may be devised without departing from the scope of the invention. Additionally well known elements of the invention will not be described in detail or will be omitted so as not to obscure the relevant details of the invention.

In this description the terms communication device wireless device wireless communications device PTT communication device handheld device mobile device and handset are used interchangeably. The terms call and communication are also used interchangeably. The term application as used herein is intended to encompass executable and non executable software files raw data aggregated data patches and other code segments. The term half duplex means communication of data in only one direction at a time not simultaneously or bi directionally thus once a communicating device begins receiving a half duplex signal it must wait for the transmitter to stop transmitting before replying as is common in a PTT communication system. The term full duplex means that communications can simultaneously occur in both directions between communicating devices as is common in a voice telephone call. Further like numerals refer to like elements throughout the several views and the articles a and the includes plural references unless otherwise specified in the description.

The words exemplary and or example are used herein to mean serving as an example instance or illustration. Any embodiment described herein as exemplary and or example is not necessarily to be construed as preferred or advantageous over other embodiments. Likewise the term embodiments of the invention does not require that all embodiments of the invention include the discussed feature advantage or mode of operation.

Further many embodiments are described in terms of sequences of actions to be performed by for example elements of a computing device. It will be recognized that various actions described herein can be performed by specific circuits e.g. application specific integrated circuits ASICs by program instructions being executed by one or more processors or by a combination of both. Additionally these sequence of actions described herein can be considered to be embodied entirely within any form of computer readable storage medium having stored therein a corresponding set of computer instructions that upon execution would cause an associated processor to perform the functionality described herein. Thus the various aspects of the invention may be embodied in a number of different forms all of which have been contemplated to be within the scope of the claimed subject matter. In addition for each of the embodiments described herein the corresponding form of any such embodiments may be described herein as for example logic configured to perform the described action.

A High Data Rate HDR subscriber station referred to herein as an access terminal AT may be mobile or stationary and may communicate with one or more HDR base stations referred to herein as modem pool transceivers MPTs or base stations BS . An access terminal transmits and receives data packets through one or more modem pool transceivers to an HDR base station controller referred to as a modem pool controller MPC base station controller BSC and or packet control function PCF . Modem pool transceivers and modem pool controllers are parts of a network called an access network. An access network transports data packets between multiple access terminals.

The access network may be further connected to additional networks outside the access network such as a corporate intranet or the Internet and may transport data packets between each access terminal and such outside networks. An access terminal that has established an active traffic channel connection with one or more modem pool transceivers is called an active access terminal and is said to be in a traffic state. An access terminal that is in the process of establishing an active traffic channel connection with one or more modem pool transceivers is said to be in a connection setup state. An access terminal may be any data device that communicates through a wireless channel or through a wired channel for example using fiber optic or coaxial cables. An access terminal may further be any of a number of types of devices including but not limited to PC card compact flash external or internal modem or wireless or wireline phone. The communication link through which the access terminal sends signals to the modem pool transceiver is called a reverse link or traffic channel. The communication link through which a modem pool transceiver sends signals to an access terminal is called a forward link or traffic channel. As used herein the term traffic channel can refer to either a forward or reverse traffic channel.

With reference to the figures in which like numerals represent like elements throughout illustrate and overview of the use of a half duplex communication between communication devices and shown here as mobile telephones as the initial contact attempt prior to the bridging of a full duplex communication therebetween. In other words an embodiment of the invention is directed to establishing a temporary half duplex session from the originator to one or more target devices during setup or initiation of a server arbitrated communication session that may eventually transition to a full duplex session. illustrate a broad overview of this concept which is described in more detail below with respect to other embodiments of the invention.

Also in one embodiment voice can be sent from the originating device along the half duplex PTT communication channel to audibly send information to the user at the target device at the quick call request. The alert for the quick call request can be similar to a typical telephone ring but can be an audible or physical e.g. vibration alert and can last for a predetermined duration such as 5 seconds in order to give the user of the target device a reasonable time to determine if he she desires to complete the quick call. Thus if the alert from the initial PTT call is an audible ringer being sent from the originating wireless communication device the target device can simply hit the answer button as would be done with a regular phone call and the use of the PTT communication to setup the phone call could be completely transparent to the users of the devices and .

In this embodiment once the acceptance of the quick call is received a full duplex channel C is established between the communication device and as shown in . The full duplex communication C is bridged between the communication devices and over a wireless network which may be the group telecommunication network or any other full or partially wireless network. As more fully described below the originating device and the target device can have IP addresses and thus the control of the full duplex communication channel can be relinquished by the group communication server and maintained as VoIP packet traffic between the respective assigned addresses of the communication devices and . Alternatively as shown in another device such as active call controller can be used to handle the established full duplex communications to lessen overhead on the group communication server to maintain the full duplex channels. However the group communication server and group communication network can maintain and or control the full duplex communication completely.

In an example as will be described in more detail below the channels C of the full duplex communication session may correspond to the call originator maintaining its half duplex channel A and having the initial call target s obtain their own channel. In this manner the call originator s half duplex channel need not be torn down and brought up again during the transition from half duplex to full duplex.

In an embodiment a group communication computer device shown here as group communication server which is present on a server side LAN across the wireless network is configured to indicate that the wireless device is present i.e. accessible on the wireless network . The group communication server can share this information with the set of target wireless telecommunication devices designated by the first wireless telecommunication device or can also share this information with other computer devices resident on the server side LAN or accessible across the wireless network . The group communication server can have an attached or accessible database to store the group identification data for the wireless devices. Thus the group communication server handles the arbitration of group communication sessions within the network. Further the group communication server can be representative of multiple group communication servers within the network with each group communication server arbitrating sessions in different regions of the network. It should be appreciated that the number of computer components resident on server side LAN or across the wireless network or Internet generally are not limited.

In an example a direct communication such as a PTT communication can be established through a half duplex channel between the communicating wireless telecommunication device and one or more other wireless telecommunication devices of the target set. The group communication computer device can also inform the wireless telecommunication device of the inability to bridge a direct communication to the target set upon none of the wireless telecommunication devices or at least one of the target set not having informed the group communication computer device of their presence on the wireless network . Further while the group communication computer device is shown here as having the attached database of group identification data the group communication computer device can have group identity data resident thereupon and perform all storage functions described herein.

Thus in an embodiment an attempt to ultimately bridge a full duplex synchronous communication is accomplished by initially sending a half duplex push to talk communication request from an originating member of a PTT group to another target communication device such as mobile phone . The target communication device will then receive the PTT communication with the quick call data from the originating communication device or not if the target communication devices are embodied so as to control such functionality and determine whether or not to answer the quick call as shown in . In this embodiment the bridge attempt is the receipt of the half duplex communication at the target communication device s as opposed to the bridging of a full duplex voice channel to the originating device as in making a traditional phone call. However the voice or other data e.g. an announce message configured to announce the communication session carried in the half duplex transmission from the originating communication device does require immediate delivery so such communication bridge attempt is still an attempt at a synchronous communication.

Also in the embodiment in there is shown an active call controller that can be used to host and or control the full duplex communication channels after a transition from the half duplex communication mediated by the group communication server . This embodiment thus provides the group communication server the ability to handoff the full duplex communication channels once established to lessen the overhead of the server .

Although a group communication is typically half duplex voice data among members of the communication group the group communication can be voice applications graphic media such as pictures in JPEG TIF and the like or audio files such as MP3 MP4 WAV and the like. The media can also be streaming media such as a multimedia application PowerPoint MOV file and the like .

Thus in overview there is provided a system for bridging a full duplex communication channel between two wireless communication devices such as communication devices and in across a wireless communication network . Originating communication device is configured to bridge one or more full duplex communication channels with one or more communication devices across a wireless communication network and the origination communication device is further configured to selectively send a half duplex communication to one or more communication devices such as a PTT communication. At least one wireless communication device is likewise configured to bridge one or more full duplex communication channels with one or more communication devices at least partially across the wireless communication network and that wireless communication device is further configured to selectively receive a half duplex communication from one or more communication devices . A group communication server controls group communications between the plurality of wireless communication devices on the wireless communication network wherein the group communications are initially comprised of a half duplex communication from an originating wireless communication device mobile phone directed to other member wireless communication devices of the communication group. Upon a wireless communication device sending a half duplex communication to a target wireless communication device through the group communication server the target wireless communication device then accepts and sends an acceptance to the originating wireless communication device through the group communication server the group communication server then bridging a full duplex communication between the originating wireless communication device and the target wireless communication device .

In one embodiment the half duplex communication and ultimate establishment of a full duplex communication occur from the exchange of voice over Internet Protocol VoIP data packets between the communicating devices. Consequently the group communication server can be further configured to obtain the assigned network addresses typically assigned by a PDSN to the originating wireless communication device and target wireless communication device to relinquish control of the full duplex communication once established. In the case of full duplex it will be appreciated that the group communication server still receives media from group members and forwards the media to other group members but the group communication server is not responsible for floor arbitration when operating in full duplex. As shown in the group communication server can further be configured to relinquish control of the full duplex communication to another computer device such as active call controller or other media controller.

In one embodiment the originating wireless communication device can be further configured to selectively force the target wireless communication device to accept the full duplex or half duplex communication and cause the communication to be established. For example a mobile device that is intended to be used by a child can be configured to allow the parent to cause the mobile device to open up the full duplex or half duplex communication to the originating device such that the parent can force the child s phone to answer. The parent can use this feature to monitor the activity of the child for example this feature can also be used in child abduction cases in which the child retains his her mobile device.

The group communication server s are connected to a wireless service provider s packet data service node PDSN such as PDSN shown here resident on a carrier network . Each PDSN can interface with a base station controller of a base station through a packet control function PCF . The PDSN will typically assign network addresses to wireless communication devices such as IP network addresses for VoIP communications. The PCF is typically located in the base station . The carrier network controls messages generally in the form of data packets sent to a mobile switching center MSC . The carrier network communicates with the MSC by a network the Internet and or POTS plain ordinary telephone system . Typically the network or Internet connection between the carrier network and the MSC transfers data and the POTS transfers voice information. The MSC can be connected to one or more base stations . In a similar manner to the carrier network the MSC is typically connected to the base transceiver station sometimes referred to as branch to source BTS by both the network and or Internet for data transfer and POTS for voice information. The BTS ultimately broadcasts and receives messages wirelessly to and from the wireless devices such as cellular telephones by short messaging service SMS or other over the air methods known in the art. It should also be noted that carrier boundaries and or PTT operator network boundaries do not inhibit or prohibit the sharing of data as described herein.

Cellular telephones and mobile telecommunication devices such as wireless telephone are being manufactured with increased computing capabilities and are becoming tantamount to personal computers and hand held PDAs. These smart cellular telephones allow software developers to create software applications that are downloadable and executable on the processor of the wireless device. The wireless device such as cellular telephone can download many types of applications such as web pages applets MIDlets games and data. In wireless devices that have designated a communication group the wireless communication device can directly connect with the other member of the set and engage in voice and data communication sessions. However all such communication sessions may be server arbitrated which means that the communication sessions will occur through or be at the control of the group communication server . Each data packet of the devices need not necessarily have to travel through the group communication server itself but the group communication server must be able to ultimately control the communication session because it will typically be the only server side component that is aware of and or can retrieve the identity of the members of the communication group or direct the identity of the members of the communication group to another computer device.

The wireless device includes a computer platform that can handle voice and data packets and receive and execute software applications transmitted across the wireless network to include the group communications. The computer platform includes among other components an application specific integrated circuit ASIC or other processor microprocessor logic circuit programmable gate array or other data processing device. The ASIC is installed at the time of manufacture of the wireless device and is not normally upgradeable. The ASIC or other processor executes an application programming interface API layer which includes the resident application environment and can include the operating system loaded on the ASIC . Resident programs can be held in the memory of the wireless device. An example of a resident application environment is the binary runtime environment for wireless BREW software developed by QUALCOMM for wireless device platforms.

As shown here while the wireless device can be a mobile telephone with a graphics display in alternative embodiments the wireless device can correspond to any type of wireless device with a computer platform as known in the art such as a personal digital assistant PDA a pager with a graphics display or even a separate computer platform that has a wireless communication portal and may otherwise have a wired connection to a network or the Internet. Further the memory can include read only or random access memory RAM and ROM EPROM EEPROM flash cards or any memory common to computer platforms. The computer platform can also include a local database for storage of software applications not actively used in memory . The local database is typically comprised of one or more flash memory cells but can be any secondary or tertiary storage device as known in the art such as magnetic media EPROM EEPROM optical media tape or soft or hard disk.

In this embodiment of the wireless device the computer platform of also includes a communication interface that can open communication channels from the wireless device e.g. for voice calls full duplex calls half duplex calls PTT sessions VoIP sessions etc. . The communication interface can also be part of the standard communication interface for the wireless device which ordinarily carries the voice and data transmitted to and from the wireless device. The communication interface typically includes hardware as is known in the art.

In an example when embodied as the target wireless communication device including a microphone for recording sound and the target wireless communication device able to be forced to respond to the request for a quick call and open up the full duplex communication the originating wireless communication device can further be configured to selectively activate the microphone at the target communication device upon the forcing of the full duplex communication. The target communication device can accordingly be further configured to selectively allow the forcing of the establishment of the full duplex channel and selectively allow the activation of the microphone such as through a predetermined setting on the device.

The session target e.g. PTT Client receives the incoming call announce message in and then determines whether the session target is busy such that the call cannot be accepted . For example if the session target is already engaged in another communication session the session target may reject the announced session. Otherwise if the session target determines that it is not busy the session target sends a call accept message on a reverse link channel e.g. a reverse link access channel to the BSC to be forwarded to the GCS . In an example the call acceptance of and can be automatic or forced in the sense that a user of the PTT client need not be given an opportunity to reject the session. Alternatively the user of the PTT client can voluntarily elect to accept the session.

Assuming that the BSC determines that sufficient resources are available for supporting the communication session the BSC forwards the call accept message to the GCS . Upon receiving a call accept message from a first responder to the announce message the GCS sends a floor grant message to the session originator and the session originator acknowledges receipt of the floor grant message .

At this point along with the floor grant ACK message the session originator begins forwarding media to be sent to the at least one session target in a half duplex manner In other words the session target does not necessarily yet have a traffic channel TCH on which to transmit media back to the session originator in a full duplex manner. Thus at this point once the session originator has the floor the communication session at this point is half duplex even though the session requested for initiation at was a full duplex session. Accordingly a temporary half duplex session is established to facilitate the forwarding of initial media from the session originator to the session target before the full duplex session is established.

Accordingly the GCS receives the media e.g. voice and or other data from the session originator and forwards the media to the BSC for transmission to the session target . While participating in the half duplex session that is initially set up between the session originator and session target the session target either i automatically answers the call to obtain call resources for full duplex participation or alternatively ii prompts a user of the session target to request whether the user wishes to participate in the session as a listener only or as an active participant. In this example assume that the session target determines to answer the call and partake in the session in a full duplex manner. Accordingly at some point assume that the session target obtains the requisite resources to participate in the session in a full duplex manner. In other words if necessary the session target can obtain a TCH on which to send media back to the session originator e.g. although the session target may already have a TCH in which case bringing up an additional TCH is not necessary . At this point the session target sends another call accept message to the BSC which is forwarded to the GCS . As will be appreciated the call accept messages of and are both sent in response to the announce message from with the first call accept message of indicating the target s acceptance of the temporary half duplex session and the second call accept message of indicating the target s acceptance and readiness to participate in the session via full duplex. In an alternative embodiment while not shown in the announce message of can represent two separate announce messages such that a first announce message can be sent to announce the half duplex communication session and a second announce message can be sent at a later point in time but before to announce the full duplex communication session.

The GCS then becomes aware that the half duplex session can transition to a full duplex session. As such the GCS sends a call grant message to each active session participant e.g. the session originator and session target and . The call grant message includes instructions with regard to the network entity that will be handling the arbitration of the full duplex session which is not necessarily the GCS . For example the session can be handed over to an active call controller or to the PTT clients and such as for example if embodied with network address assignment for VoIP communications . In an example the call resources allocated to the session originator for the temporary half duplex session can be maintained and re used during the full duplex session such that the originator s call resources need not be torn down and brought up again. Thus the half duplex session may only be terminated in the sense that a return path is added upon conversion to full duplex in an example.

Accordingly shows how delay sensitive call setup procedures typically associated with half duplex sessions can be used to set up a full duplex communication session more quickly such that a temporary half duplex session is established followed by an eventual conversion to full duplex. In an example the process of can be implemented for full duplex sessions that are deemed to be delay sensitive e.g. quick calls . Alternatively it is possible that the process of can be used for setting up any full duplex communication session.

After accepting the half duplex communication session in the session target determines whether the announced half duplex communication session has the potential to be transitioned to a full duplex session. In other words announced half duplex communication sessions are typically half duplex in nature. Indeed even in the session begins as half duplex even if an eventual transition to full duplex is made. Thus in the session target determines whether this particular half duplex communication session has the potential for a transition to a full duplex session e.g. based on a header configuration in the PTT announce message etc. . If the session target determines that the half duplex communication session is a typical half duplex session e.g. the goal of the session is to be half duplex and not to later transition to full duplex in the process returns to and the session target participates in the session via half duplex protocols as is known in the art.

Alternatively if the session target determines that the communication session is initially a half duplex session but has the further potential of being transitioned to a full duplex session in then the session target prompts a user thereof with regard to whether the user wishes to answer the call . In other words to answer the call in this case means to participate in the communication session as another speaker which means to transition the session to full duplex. In an alternative example the prompting of can be skipped and the session target can be forced to transition the session to full duplex e.g. if the incoming communication request of is configured to force acceptance of the session . The session target determines whether the user has accepted the prompt . If not the session target either transmits a call reject message to the GCS . In this case the call reject message can be configured either i to reject the full duplex nature of the call while permitting the session target to continue to participate in the PTT session in a half duplex nature as a listener or ii to reject the session entirely and drop the session altogether. Alternatively instead of transmitting a call reject message the session target can simply refrain from sending a second call accept message at where the GCS will interpret the lack of a second call accept message as a rejection of the full duplex transition. In another embodiment the second call accept full duplex is made optional and the originator can consider reception of media from the target as an implicit acknowledgment that the target has accepted full duplex mode.

Otherwise if the session target determines to answer the call e.g. either automatically or upon request by a user thereof and participate in the full duplex session the session target sends a call accept message to the GCS that indicates that the temporary half duplex session can now transition to a full duplex session e.g. as in of . The call accept message of or of and or of can be configured in the same manner in an example with the GCS interpreting a first received call accept message as an acceptance of the half duplex portion of the session and a second received call accept message as an acceptance of the full duplex transition for the session. While not shown in during this period before the full duplex transition is made the session target can monitor a downlink channel and receive media from the session originator in a half duplex manner. In the session target determines the requested full duplex session has been set up within a threshold period of time. If not the session target transmits a call reject message to the GCS . Otherwise the full duplex session is established and the set up process of terminates.

After sending the announce message to the target device in the group communication server determines whether the target device has accepted the full duplex communication session . For example the determination of can be that the target device has accepted the full duplex communication session if the target device sends a call acceptance message in of . If the full duplex communication session is not accepted by the target device at decision then the failure indication is output e.g. to the originating device and the process is terminated. Otherwise if the full duplex communication session is accepted at decision then a full duplex communication channel is bridged between the originating communication device and the target communication device . A determination is then made as to whether the full duplex communication channel has successfully been bridged . If the full duplex communications channels is determined not to have been successfully bridged at decision then a failed communication is output to the originating device . Otherwise if the full duplex communication is determined to have been successfully bridged at decision then the bridged full duplex communication is handed over to the originating wireless communication device and target communication device . For example the handover of the full duplex communication in may mean that VoIP packets are exchanged between the network addresses of the communication devices without further arbitration by the group communication server such that the set up of the full duplex communication session terminates . For example if the full duplex session is a VoIP session the exchange of media during the VoIP session can be handled by a different network entity in at least one embodiment.

While have been described whereby a full duplex communication session is set up as an initial half duplex session that later transitions to full duplex other embodiments are directed to transitions from full duplex sessions to half duplex sessions and or from half duplex sessions to full duplex sessions.

In this embodiment it is assumed that the call originator and call target are both provisioned with PTT full duplex clients for selectively switching their session between full duplex and half duplex. In particular the example of illustrates the duplex switch occurring based on an ASK message whereby the ASK message can be configured to request a transition to from half duplex to full duplex e.g. ASK full duplex or from full duplex to half duplex e.g. ASK half duplex .

While is illustrated and described such that transitions between half duplex and full duplex are triggered by an explicit message e.g. an ASK message from one of the call participants other embodiments need not rely on explicit requests for a duplex transition for triggering the duplex transition and instead can be server initiated. For example the duplex transition trigger can be contention based such that if a user tries to repeatedly and unsuccessfully grab the floor during a half duplex portion of the session while the floor is held by another participant a transition to full duplex can be initiated without user intervention. In another alternative example the duplex transition trigger can be based upon resource utilization such that as full duplex calls tend to be more resource intensive such as including the bandwidth necessary to transmit background noise a transition from full duplex to half duplex can be made based on voice activity and other metrics e.g. if only one participant in full duplex is speaking for a period of time the call may transition to half duplex to conserve resources etc. . In a server initiated duplex transition the server can either make a recommendation to one or more session participants e.g. the originator etc. that a transition to half duplex is beneficial e.g. a lower cost on a bill or alternately an automatic transition can be made by the server arbitrating the session e.g. the media control unit and or regional dispatcher .

Returning to upon receiving the ANNOUNCE full duplex message that announces the communication session in assume that the call target accepts the call . The regional dispatcher receives the indication of the call target s acceptance and forwards a STATUS success message to the call originator to indicate that the call can begin . The call originator indicates that the call has successfully been established to a user thereof e.g. by playing a tone displaying a visual message etc. and the call originator accepts the call by sending an ACK accept message back to the regional dispatcher .

Next the regional dispatcher sends instructions to a media control unit e.g. a server that works with the regional dispatcher for handling the exchange of media for a particular communication session to handle the actual exchange of media between the call originator and call target during the communication session . The media control unit sends a CONTACT mcu info message to the call originator and the call target that includes information with regard to how each call participant can send information to the media control unit . The call originator and call target each send CONTACT ACK accept messages responsible to the CONTACT messages from and in and respectively. Next the media control unit arbitrates the exchange of media between the call participants during a full duplex portion of the communication session . In other words the media exchanged between the call originator and call target can flow in either direction or in both directions.

In the embodiment of the media control unit uses specially configured signaling messages e.g. ATN full duplex and ATN half duplex messages to notify the wireless communication devices when a communication session has been requested to be transitioned to full duplex or half duplex and the PTT full duplex clients at the devices and use ATX accept messages to accept the duplex transitions. While not shown in it is also possible that one or more session participants can reject the duplex transition which will result in either the server refraining from performing the duplex transition or dropping the session participants that rejected the duplex transition from the session after the duplex transition is made. The media control unit can also use an FYI updated message to notify the PTT full duplex client that requested the duplex transition that the call has been transitioned to the requested duplex mode.

Accordingly the call originator determines whether to request that the communication session be transitioned from full duplex to half duplex with the call originator to be the floor holder after the duplex transition . As noted above a transition from full duplex to half duplex can be desired so as to conserve system resources e.g. if only the call originator has been doing most of the speaking to reduce the cost of the session to the call originator etc. While this determination is shown in as being made by the call originator it will be appreciated that the call target may also have the option of requesting such a transition in at least one embodiment although this aspect has been omitted from for convenience of explanation. In other words other embodiments can permit non originators to request and potentially achieve duplex transitions.

If the call originator determines not to request that the communication session be transitioned from full duplex to half duplex in the process returns to and the full duplex session continues. Otherwise if the call originator determines to request that the communication session be transitioned from full duplex to half duplex in the call originator sends an ASK half duplex message to the media control unit and the media control unit sends an ATN half duplex message to the call target . The ATN half duplex message functions as a request for the call target to consent to the transition from full duplex to half duplex or at least to inform the call target that the duplex transition is taking place. Accordingly assume the target device responds to the ATN half duplex message by sending an ATX accept message and the media control unit sends a FYI updated message to the call originator to indicate that the communication session can now be transitioned to half duplex . The call originator thereby sends a floor request message to the media control unit and the media control unit sends a floor grant message back to the call originator . The call originator thereafter sends media over its allocated half duplex channel to the media control unit which then forwards the media to the call target .

During this half duplex portion of the communication session the call target determines whether to transition the call back to full duplex e.g. so that a user of the call target can speak . If the call target determines not to request that the communication session be transitioned from half duplex to full duplex in the process returns to and the half duplex session continues. Otherwise if the call target determines to request that the communication session be transitioned from half duplex to full duplex in the call target sends an ASK full duplex message to the media control unit and the media control unit sends an ATN full duplex message to the call originator . The ATN full duplex message functions as a request for the call originator to consent to the transition from half duplex to full duplex or at least to inform the call originator that the duplex transition is taking place. Accordingly assume the call originator responds to the ATN full duplex message by sending an ATX accept message and the media control unit sends a FYI updated message to the call originator to indicate that the communication session can now be transitioned to full duplex . Thereafter media can be exchanged between the call originator and call target via full duplex protocols .

In the embodiment of the full duplex and half duplex requests are specially signaled to the users of the devices e.g. after the ATN message is received in and or such that the devices other than the device requesting the transition report a transition notification or prompt to the user thereof such as through a series of audible alerts e.g. three audible pulses in the PTT communication which will indicate to the user that another session participant wishes to change the duplex characteristic of the session e.g. the originator of the PTT full duplex communication desires to engage in a full duplex communication with the PTT full duplex call target etc. . For example the audible alerts can be classic ringtones voice dial tones or other alerts sent in the PTT communication to notify a user of the other session participants requested duplex . The acceptance of the duplex transition can then be made with a non PTT button press such as the SEND button or menu selection e.g. so that the user can be sure to be made aware of the current duplex nature of the session . Alternatively the user of these devices can receive the duplex transition alert but need not be given the opportunity to reject the duplex transition such that the duplex transition is forced upon the users thereof. In either case even if the session participants are forced into a duplex transition the session participants will generally always be kept aware with regard to whether their microphone and other communication interfaces are on and broadcasting to the other party e.g. although in at least one embodiment an administrative session participant such as a parent may be permitted to snoop upon another session participant such as a child by forcing a full duplex transition without the child being notified so its audio can be listened in on .

While shows in some instances session participants requesting a transition from half duplex to full duplex in order to send information to other session participant s it will be appreciated that these session participants could alternatively simply request the floor of the half duplex session as is known in art. In this case if floor requests are repeated denied to these session participants the session participants may then request a duplex transition.

Referring to when the ANNOUNCE full duplex message is sent to the call target in e.g. as in of a user of the call target is prompted to accept the full duplex communication session to allow sourcing of its media while media from the call originator e.g. the full duplex transition initiator can be played out at the same time in a half duplex fashion and . Thus the half duplex media is still played out and while the transition is being effected by the media control under . Once the full duplex session is established in it will be appreciated that the uni directional path from and can transition into the bi directional or full duplex path. Similarly during a later transition to full duplex through after an intervening transition to half duplex to a half duplex or uni directional channel from the call target to the call originator can be established and . In this case a half duplex channel is established in each direction before the full duplex channel is established. It will be appreciated that the establishment of a uni directional or half duplex channel in and from originator to target prior to establishing the initial full duplex session in is similar to in the sense that a temporary half duplex session whereby the originator can speak to the target is set up while waiting for the full duplex session to begin.

Referring to the group communication server determines whether full duplex channel for the full duplex communication session is established . If the group communication server determines that the full duplex channel for the full duplex communication session is not established in then an error is output indicating the failure to perform the full duplex transition is sent to the session participant that requested the full duplex transition e.g. a message is sent to the session participant requesting the transition to full duplex that indicates that the transition will not occur and the full duplex transition process terminates . In an example the transition to full duplex may fail if the target device ultimately rejects the full duplex request and or if there is a technical failure in establishing the full duplex communication. However the full duplex transition failure does not necessarily terminate the initial half duplex session.

Otherwise if the group communication server determines that the full duplex channel for the full duplex communication session is established in then the communication session is handed over to an appropriate device such as active call controller and the communication session is thereafter supported as a full duplex session at least between devices and and the process of terminates . Alternatively while not shown in it is also possible that the group communication server arbitrates the full duplex session e.g. a VoIP session in which case there is no handoff of arbitration responsibilities in and the group communication server continues to arbitration the session as full duplex.

Otherwise if the target device is available at the group communication server sets up the half duplex communication session . Half duplex media e.g. such as voice data from the requesting device is received and buffered at the group communication server and then the initial full duplex communication session is requested by the group communication server to be terminated by the appropriate device controlling the full duplex communication session e.g. such as active call controller . Alternatively if the group communication server itself was controlling the full duplex communication session it is appreciated that the request of need not be sent and the full duplex communication session can simply be dropped by the group communication server .

After terminating the full duplex portion of the session in the buffered half duplex media from is delivered to the target device s .

Referring to the target device determines whether its user has accepted the full duplex communication session . If the target device determines that the user has not accepted the full duplex communication session the full duplex communication session is terminated and the full duplex channel set up in is dropped . Otherwise if the target device determines that its user has accepted the full duplex communication session in then the communication interface is un muted and the user can engaged in the established full duplex communication session . In an example the target device can reject the full duplex request by simple inaction in acceptance e.g. if the user has not accepted in seconds or can press a button such as the PTT button to expressly maintain the half duplex communication session. Accordingly in the process of the half duplex session need not be dropped at least until the user of the target device has an opportunity to decide whether or not to accept the full duplex session.

In another embodiment the target communication device is embodied with selective control of forcing the full duplex communication the method can include the target communication device selectively allowing the forcing of the establishment of the full duplex communication and thereby selectively allowing the activation of the microphone e.g. in contrast to which shows the microphone remaining muted until the target user optionally accepts the full duplex session after the full duplex session is established. In such embodiment the user of the originating wireless communication device will be able to hear audio collected at the microphone at the target communication device . It will be appreciated that the target user s privacy can suffer in this instance but this can be desirable under certain conditions. For example a parent having the originating mobile telephone can force the microphone of a child s mobile telephone open for a full duplex communication and the parent can talk and hear audio at the child s telephone.

Further while above described embodiments of the invention include references to signaling messages that are specific to particular implementations and or protocols e.g. ASK ATN CALL ANNOUNCE etc. it will be appreciated that these signals can be modified as appropriate in embodiments directed to other implementations and or protocols. In other words the CALL message may correspond to any type of call request message in other embodiments of the invention the ANNOUNCE message may correspond to any type of messages that announces a communication session in other embodiments of the invention and so on.

Those of skill in the art will appreciate that information and signals may be represented using any of a variety of different technologies and techniques. For example data instructions commands information signals bits symbols and chips that may be referenced throughout the above description may be represented by voltages currents electromagnetic waves magnetic fields or particles optical fields or particles or any combination thereof.

Further those of skill in the art will appreciate that the various illustrative logical blocks modules circuits and algorithm steps described in connection with the embodiments disclosed herein may be implemented as electronic hardware computer software or combinations of both. To clearly illustrate this interchangeability of hardware and software various illustrative components blocks modules circuits and steps have been described above generally in terms of their functionality. Whether such functionality is implemented as hardware or software depends upon the particular application and design constraints imposed on the overall system. Skilled artisans may implement the described functionality in varying ways for each particular application but such implementation decisions should not be interpreted as causing a departure from the scope of the present invention.

The various illustrative logical blocks modules and circuits described in connection with the embodiments disclosed herein may be implemented or performed with a general purpose processor a digital signal processor DSP an application specific integrated circuit ASIC a field programmable gate array FPGA or other programmable logic device discrete gate or transistor logic discrete hardware components or any combination thereof designed to perform the functions described herein. A general purpose processor may be a microprocessor but in the alternative the processor may be any conventional processor controller microcontroller or state machine. A processor may also be implemented as a combination of computing devices e.g. a combination of a DSP and a microprocessor a plurality of microprocessors one or more microprocessors in conjunction with a DSP core or any other such configuration.

The methods sequences and or algorithms described in connection with the embodiments disclosed herein may be embodied directly in hardware in a software module executed by a processor or in a combination of the two. A software module may reside in RAM memory flash memory ROM memory EPROM memory EEPROM memory registers hard disk a removable disk a CD ROM or any other form of storage medium known in the art. An exemplary storage medium is coupled to the processor such that the processor can read information from and write information to the storage medium. In the alternative the storage medium may be integral to the processor. The processor and the storage medium may reside in an ASIC. The ASIC may reside in a user terminal e.g. access terminal . In the alternative the processor and the storage medium may reside as discrete components in a user terminal.

In one or more exemplary embodiments the functions described may be implemented in hardware software firmware or any combination thereof. If implemented in software the functions may be stored on or transmitted over as one or more instructions or code on a computer readable medium. Computer readable media includes both computer storage media and communication media including any medium that facilitates transfer of a computer program from one place to another. A storage media may be any available media that can be accessed by a computer. By way of example and not limitation such computer readable media can comprise RAM ROM EEPROM CD ROM or other optical disk storage magnetic disk storage or other magnetic storage devices or any other medium that can be used to carry or store desired program code in the form of instructions or data structures and that can be accessed by a computer. Also any connection is properly termed a computer readable medium. For example if the software is transmitted from a website server or other remote source using a coaxial cable fiber optic cable twisted pair digital subscriber line DSL or wireless technologies such as infrared radio and microwave then the coaxial cable fiber optic cable twisted pair DSL or wireless technologies such as infrared radio and microwave are included in the definition of medium. Disk and disc as used herein includes compact disc CD laser disc optical disc digital versatile disc DVD floppy disk and blu ray disc where disks usually reproduce data magnetically while discs reproduce data optically with lasers. Combinations of the above should also be included within the scope of computer readable media.

While the foregoing disclosure shows illustrative embodiments of the invention it should be noted that various changes and modifications could be made herein without departing from the scope of the invention as defined by the appended claims. The functions steps and or actions of the method claims in accordance with the embodiments of the invention described herein need not be performed in any particular order. Furthermore although elements of the invention may be described or claimed in the singular the plural is contemplated unless limitation to the singular is explicitly stated.

