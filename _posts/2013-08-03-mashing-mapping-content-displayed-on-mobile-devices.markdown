---

title: Mashing mapping content displayed on mobile devices
abstract: A method and apparatus for mapping addressable information (e.g. locations denoted by name or address, street addresses, landmarks, etc.) off of disparate applications on a mobile device, onto an existing map on the mobile device, are disclosed. An application on a mobile device may display addressable information (e.g. a website displaying a location name and/or address, an email containing an address, etc.) In response to a user's selecting the addressable information and invoking a mapping command, a map-display application (e.g. Google Maps®, Yahoo! Maps®, Windows Live Search Maps®, MapQuest®, iPhone® maps, Waze® etc.) may be automatically presented (e.g. launched, become visible, displayed, etc.) displaying the addressable information in addition to at least one prior mapping content previously displayed by the map-display application.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09532164&OS=09532164&RS=09532164
owner: Empire IP LLC
number: 09532164
owner_city: Austin
owner_country: US
publication_date: 20130803
---
This patent application claims priority to U.S. patent application Ser. No. 11 974 258 filed Oct. 12 2007

The present invention relates to mapping on electronic devices. More particularly the present invention relates to relaying address information to a mapping application and or mapping service for display on a common map.

Popular mapping services include Google Maps Yahoo Maps Windows Live Search Maps MapQuest Waze iOS based maps and others. Mapping services are typically available to a user through a web browser or a mapping application running on a computer or a portable electronic device such a smart phone personal digital assistant etc. Such mapping services allow a user to obtain a map corresponding to a given address or landmark. In the prior art a digital map on an electronic device may display various content for example location names addresses user photos comments ratings etc.

In the prior art new mapping content may only be generated from within the mapping application. New mapping content origination outside of the mapping application for example a location name selected in a separate application maybe automatically displayed on a new digital map wherein the new digital map does not contain any other mappable information previously displayed.

The present invention provides a method for combining mappable data from disparate sources onto a single digital map in a mapping application on a hand held electronic device. A digital map displayed in a mapping application e.g. an iOS based or Android based smart phone may include various mappable content. A second set of mappable content found outside the mapping application may be transmitted to the mapping application for mapping in conjunction with any of the existing i.e. previously displayed mapping content.

Referring to a mobile device e.g. iPhone iPad iTouch Android based smart phone etc. may display a digital map in a mapping application e.g. Google Maps Waze iOS based mapping applications etc. The digital map may include a point of interest POI indicator A commonly displayed at its geo location on the digital map . Additional text picture content may be displayed in conjunction with the POI e.g. containing advertising user comments ratings or general information such as Casa de Paella Best Paella outside Barcelona in this illustration. 

Referring now to the user of the electronic device may launch another application e.g. Facebook . The other application may contain generally mappable information such as street names e.g. 1290 Washington St. etc. In the prior art a user s selecting the generally mappable information may display a menu allowing the user to select displaying the mappable information on a digital map in a map display application. However in the prior art the mappable information would display on a separate map not containing any previous mapping information.

Referring now to the same digital map in the mapping application described in may be displayed with a new POI B depicting the mappable information commonly at a geo location indicated by the mappable information in displayed in addition to the previous content POI A and POI content . In one possible embodiment additional content depicting the new POI B may be displayed e.g. with further information on the POI B such as user ratings reviews and other forms of media. 

In one possible embodiment the generally mappable information may be passed into a search engine associated with the mapping application and the search engine may produce a result set some or all of which may be mapped e.g. as POI B and POI content . In a related presently preferred embodiment the mapping application may be closed minimized reduced to a background process by the OS of the mobile device during the intermediary step of opening the other application The mapping application may save its state including any search queries their results and any mapping data displayed such that when it is restored into full view any new mapping data would be displayed in conjunction with the original displayed mapping data.

Flow diagram assumes a mobile device having at least one application for displaying digital maps and at least one application for displaying mappable content e.g. location names street addresses that is not the same as the application for displaying digital maps. At step a mapping application displayed at least some original mapping content e.g. places on a map business names etc. may be minimized replaced at step by a non mapping application from the user s perspective. e.g. the user of the mobile device may launch the non mapping application which may overtake the mapping application on the display of the device. The non mapping application may display at least some text or content that could be displayed on a map e.g. address location name POI description set of Long Lat coordinates etc. 

At step the user may select the text or content e.g. by highlighting it clicking on it etc. and in response a menu may become visible to the user with an option to display on a map. Alternatively if the text content is hyperlinked step may be executed with a single click without use of a menu.

At step the mapping application may be re opened i.e. brought to the forefront of the display becoming an active application visible to the user. At step the selected text content at step may be passed in as a search query to the mapping application e.g. if the selected text was Peet s Coffee San Francisco this text would be passed in and treated as a search query causing the mapping application to conduct a query search at step . in the present example all the Peet s Coffee in San Francisco returned with their corresponding geo locations. 

At step it may be determined whether the search query has produced a valid result set. If it its determined no valid mappable results exist e.g. the user search for The Kremlin in San Francisco this flow may be terminated. If it is determined at step that at least some new mappable content exists at step the new mappable content may be displayed on the original map along with the original content.

In one possible embodiment zoom level of the map may be adjusted so that the new mappable content is visible to the user. At step it may be determined whether the new mappable content is visible on the existing map at the current zoom level. In an affirmative case this flow may end at step . Otherwise steps and the map may be zoomed out until the new mappable content is visible to the user at step the zoom level may be incremented by one level until at step it is determined the reached zoom level is such where both the new mappable content and the original content are visible to the user. In an alternate possible embodiment steps may be replaced by a computation of a new zoom level achieving the same result and the new zoom level may be automatically implemented.

Referring now to in an alternate embodiment a mapping component may receive location information corresponding to multiple physical locations derive physical coordinates of locations in location information and relay derived coordinates to a mapping application for plotting locations on a map. At step data containing location information location data may be received by the mapping component. At step the location data may be stored. Steps and may be repeated until the user issues a command at step to map the location data received and stored. At step location data stored at step may be normalized i.e. broken into distinct location data segments where a location data segments may contain information denoting a single location. At steps through location data segments may be analyzed to either derive the address location reference in every location data segment or reject a location data segment that may not contain a valid address location reference. At step a location data segment stored in memory may be retrieved. If at step it is determined that the location data segment represents a valid address at step step may be repeated for the next location data segment until all location data segments have been examined. If at step it is determined the location data segment is not a valid address the retrieved location data segment may be parsed e.g. extraneous characters may be removed etc. at step to retrieve an address or landmark name or reference e.g. name of place street address etc. Additionally or alternatively at step an interpretation of the location data or location data segment may be performed. For example an interpretation may include a guess at the intended location or address. At step coordinates for the landmark name address may be retrieved for example from an on line mapping service database etc. At step if the coordinates of the address retrieved at step are valid the coordinates may be stored if the address coordinates are invalid the location data segment may be discarded e.g. the user may have drag and dropped the wrong text as an address or a location name that could not be parsed or resolved etc. At step if there are location data segments remaining to be processed step may be called otherwise at step coordinates of all addresses obtained at steps through may be relayed to an application for plotting e.g. a desktop application a web based mapping application a PDA based application etc. 

In an alternate embodiment context menus may be used to relay location information to a mapping application. Referring now to a context menu or shortcut menu or any menus which pop up in response to a user s action such as clicking an item in a graphical user interface offering a list of options which vary depending on the context of the action the application running and the item selected. Context menu may include functionality common to a browser based context menu such as Open Save Target As . . . Add to Favorites . . . etc. may be displayed in response to a user s right clicking on a selected text in a browser application . Context menu may include a menu function e.g. labeled Add to New Map for adding the selected text to a new map. A user s selection of function Add to New Map in context menu may cause display application to display a new map and plot a location indicator corresponding to the location of the text selected in browser . In an alternate embodiment a user s selection of context menu function Add to New Map may spawn a new instance of display application showing a new map with location indicator plotted.

A browser application may contain text for example text describing a location or an address or a name of a place etc. which the user may select for example by using a pointing device or keyboard to highlight the text. The user may bring up a context menu associated with the browser application for example by right clicking the mouse or pressing a certain key combination on the keyboard etc. The user may select a function for example labeled Add to Existing Map from the context menu . Function Add to Existing Map may add the location described in text to an existing map in a display application as a location indicator . In the presently preferred embodiment operating system API may be used to identify an existing running display application and information pertaining to selected location in text may be relayed to existing display application and plotted as location indicator on map . In alternate embodiments in cases of multiple display applications and or one or more display applications s displaying one or more maps other algorithms may be used to choose the specific map or maps in the specific display application or applications where the new location indicator may be displayed. For example the display application displayed on top of other applications may be selected to display new location indicator or a display application displaying a map whose range of coordinates is closest to the coordinates of new location indicator may be selected or the last map of the last display application used may be selected for displaying new location indicator etc.

Referring now to a browser may contain multiple tabs for example tabs and . In this example tab may display the content of a web page. Tab may point to a webpage LDMC Main Page which may contain a listing of museums in New York City. The user may use a pointing device or the keyboard to select text describing various listings e.g. names of museums and drag and drop the selected text to tab . In this example the user has selected three museums from a listing of dozens of museums and dragged the text selected herein indicated by a drag and drop mouse pointer graphic usually denoting a drag and drop operation in computers to a tab in browser . A mapping component for example an ActiveX control not shown associated with tab may receive the selected and drag and dropped text . In alternate embodiments the user may select portions of text e.g. a single line or hotel name at the time and drag and drop the selected portions to tab

Referring now to the user may select tab in this example labeled MTA NYC Transit Subway and displaying a web page which may show a listing of New York subway stations. The user may select text off of web page and drag and drop denoted by mouse pointer graphic the selected text onto tab to be processed by a mapping component not shown associated with tab . Note that a text selection on a web page may capture superfluous data in this example words like 2 M20 M22 M1 etc. which may be removed or suitably interpreted or ignored by a mapping component not shown associated with tab which may receive the text for plotting on a map.

Referring now to the user may select tab and use an online mapping service in this example Google Maps but in other examples other online mapping services may be used to search for and plot on a map the locations produced by a search query in this example barnes and noble booksellers which may display a list of all Barnes and Noble bookstores in New York City. The displayed list of locations may be selected by the user and transferred represented by drag and drop mouse pointer graphic onto a tab . A mapping component not shown associated with tab may receive the selected data list of locations .

Referring now to the user may select tab in browser to display a web page . Web page may contain a list of all locations selected in Refer to for location lists and and drag and dropped onto tab and processed by a mapping component not shown associated with tab . Web page may display a map showing points corresponding to the location list displayed in web page in this example points are denoted by thick solid down arrows with a location identifier a number shown in this example in the middle . In the presently preferred embodiment titles and may correspond to the titles of the tabs and respectively from which lists of locations were dragged and dropped. A list of locations dragged and dropped from a web page corresponding to a tab may be displayed in association with the title of the tab. In this example title LMDC Main Page may correspond to the title of tab from whose web page location list refer to may have been dragged and dropped onto tab and thus onto web page . In alternate embodiments other titles may be used.

In the presently preferred embodiment location selection controls such as location check box controls and may be associated with location names and respectively. The user may check a location check box control corresponding to location name which may cause a location indicator associated with location name to display on the map . The user may un check checkbox control which may cause a location indicator corresponding to location Rector Street in this example to not display on map or to de emphasize location identifier . In alternate embodiments locations listed and their corresponding location indicators on the map may be denoted by location indicators in various different colors shapes etc In alternate embodiments different maps and map mash ups may be displayed along with on top of map e.g. traffic driving directions among the plotted points etc. 

A mapping component may be a part of a map display application providing the map display application with the functionality of receiving location information from other applications on the user s system. In one embodiment the map display application may be a web browser and the mapping component may be an ActiveX control in the web browser enabling the web browser to receive location information from external sources. In another embodiment the mapping component may be code providing the map display application with OLE DDE Object Linking and Embedding Dynamic Data Exchange functionality enabling the map display application to receive location information from external sources. 

An instant messenger application IM may contain text referring to a location location text e.g. War Memorial Opera House . The user may select the location text and relay it e.g. via a drag and drop operation denoted in this example by a drag and drag graphic or via copy paste operation etc. to a display application Display application may display a map which may include point corresponding to the address of location text . Display application may display a legend for map including location text displayed as legend text . In the presently preferred embodiment text legend may include a location identifier such as 1 which may correspond to the location indicator on map . In alternate embodiments symbols and colors may be used instead of or in addition to serial numbers to correlate legend text with location indicator

In the presently preferred embodiment the user may use context menus to relay or transfer location data to a display application. Email application may contain location text in this example the text Grove and Franklin . The user may initiate a context menu typically by right clicking the mouse or using a keyboard key combination. Context menu may include functionality in this example titled Add to Existing Map . Selecting functionality from context menu may cause a location indicator to be plotted on a map in mapping application . Location indicator may correspond to the address of the location text in eMail application . Legend text which in this example may read Grove and Franklin San Francisco Calif. may correspond to location text and location indicator

In alternate embodiments a location lookup may be performed by display application deriving the address and or coordinates of location text and prior to plotting location indicators and on map . The location lookup may be performed against an online service a local database etc. For example upon receiving location text War Memorial Opera House display application may perform a search of online databases and mapping services to derive the coordinates of a place called War Memorial Opera House and then plot the corresponding location indicator on the map . In alternate embodiments display application may relay location text to an online mapping service and receive and display map with location plotted from the mapping service. In another example location text Grove and Franklin relayed to display application may be further relayed to an online mapping service which may return location text Grove and Franklin San Francisco having correlated street names with city names. It should be noted that in the example above the user may drag and drop location text from IM onto display application and the user may use context menu to relay location text from email application to display application . This specific example is shown for illustrative purposes only. Alternate embodiments may operate where the user uses context menus in conjunction with IM applications and drag and drop operations in conjunction with email applications.

Referring now to portable device may display an email application . In this example email application may be an email from another user and may include location text Grove and Franklin . The user of portable device may select location text using a pointing device such as a stylus touch screen the keyboard or any other means of selecting text. In alternate embodiments the operating system of portable device may pre select address related location text automatically as it is becoming an increasingly common practice for portable devices to automatically pre select or highlight or hyperlink text displayed if the text matches certain criteria such as famous names of people locations etc. In the presently preferred embodiment the user may bring up a context menu for example by using a pointing device such as a stylus by pressing a key or a key combination or in whatever other way that is supported by portable device . The context menu may include functionality for mapping the selected location text . Mapping functionality may add the selected location text to the portable device s memory for example clipboard. Selected location texts in the portable devices memory clipboard may later be used to generate a map which may display and other location text as points or with location indicators.

In alternate embodiments portable device may include a designated control for example button location add button for adding locations to a map with a single click. Pressing the designated location add button may add selected location text to memory as a location to be mapped without the need to display a context menu and select mapping functionality from the menu. In alternate embodiments various key combinations may be designated to achieve the functionality of adding a selected location text to memory as location to be mapped with minimal clicks and without the use of a context menu.

Referring now to an email application on portable device may contain text referencing a location. In this example the user may select location text War Memorial Opera House from within the displayed contents of email . The user may bring up context menu for example by using a pointing device such as a stylus by pressing a key or a key combination or in whatever other way that is supported by portable device . Context menu may include functionality for adding the selected location text to a common map. In the presently preferred embodiment the selected location text may be added to the portable device s memory clipboard for later mapping along with other location data added to the memory clipboard at various other times. In an alternate embodiment portable device may include a control designated for adding a selected location text to a memory of locations to be mapped with a single click. For example control for adding location text to a mapping queue may be a button or a designated collection of buttons for example pressing a pre assigned keyboard key combination such as Alt and M . 

Referring now to a map display application on portable device may display a map . Map may include one or more location indicators and corresponding to location texts e.g. location text in and location text in that have been flagged by the user as to be mapped. A legend correlating location names 1 Grove and Franklin and 2 War Memorial Opera House with location indicator and respectively on map may be displayed. The titles of locations names and may be similar to the location texts they represent e.g. location text in and location text in . 

In alternate embodiments a designated mapping control for example a button on the portable device may cause map display application to launch and display a map containing all location texts added to memory in prior steps. In alternate embodiments upon adding a first location text to a mapping queue for example adding location text in map display application may launch automatically load the proper map based on the coordinates of the first location text for example from an online mapping service and plot the location indicator on the map . Successive location texts added to a mapping queue e.g. location text in may be plotted automatically as location indicator on map . In alternate embodiments map display application may remain memory resident i.e. in a running state but not necessarily visible to the user whereupon a new location text being flagged as to be mapped for example via pressing mapping button or menu functionality in may trigger the map display application to display the new location indicator on the map .

While the above embodiments have the mapping program separate from the displaying program in one alternate embodiment the mapping application may be a module of the map display application. In yet another embodiment the map display application may be a module of the mapping application. In yet another embodiment the mapping application and map display application may be integrated as a map generating and map display application. The latter embodiments in which a map display application and a mapping application are integrated may be particularly applicable but not exclusive to portable devices such as cell phones PDAs GPS devices etc.

If at step it is determined there is no default map various algorithms may be used to select a map display application and send to it the mapping data. In one embodiment if at step it is determined that there is at least one map display application open or accessible available map display application at step the handle to the available map display application may be obtained. In alternate embodiments various logic may be used to select a map display application from amongst a plurality of available map display applications e.g. choosing the map display application used last or choosing the map display application that displays a map most closely related to the coordinates of the mapping data or allowing the user to select a map display application from a list of map display applications etc. At step mapping data may be submitted to the map display application. At step the map display application selected at step may be recorded and designated as default such that it may be recognized in future iterations of step as the default map.

If at step it is determined no available map display applications exist at step a new instance of a map display application may be launched e.g. the launched map display application may be a map display application designated by the operating system as the default applications for receiving maps or the launched map display application may be the last map display application used etc. At step mapping data may be transmitted to the map display application. At step the map display application launched at step may be recorded and designated as default such that it may be recognized in future iterations of step as the default map.

Referring now to an alternate embodiment for selecting the optimal map display application to receive mapping data is illustrated. At step mapping data may be received. At step the user may invoke a mapping command to map the received mapping data. If at step it is determined that there is no available map display application at step a map display application may be launched. At step the mapping data may be transmitted to the map display application.

If at step it is determined that one or more available map display applications exist an optimization algorithm optimization algorithm at steps may be run to automatically select the map display application best suited to receive the mapping data. With the first iteration of step the handle of the first available map display application may be obtained. In successive iterations of step the handle of the next available map display application current map display application may be obtained until at step it is determined there are no other available map display applications. Map display applications examined at steps may be compared to one another to identify the map display application whose displayed map is closest in geography to the location of the mapping data. If it is determined at step that the current map display application represents a closer geography to the location of the mapping data than previously selected recorded map display applications at step the current map display application may be recorded as the new default map display application otherwise at step the optimization algorithm may be repeated until all available map display applications have been examined. At step the mapping data received at step may be submitted for display in a map display application recorded at step such that given multiple available map display applications the user s location may be displayed on the map display application whose map is most relevant to the new location the user has inputted.

In other embodiments various different optimization algorithms may be used to automatically add a new location inputted by the user to a map most relevant to the user from amongst available maps on the user s system.

Context menu may include a function allowing the system to automatically select the optimal map onto which to plot mapping data . Automatic mapping function e.g. labeled Auto Map may execute an optimization algorithm that may recurse through maps and available to the user e.g maps in map display applications displayed on the user s desktop such as maps displayed in browsers etc. and select the optimal map for receiving and displaying the new mapping data.

In the presently preferred embodiment the map displaying the geography closest to the location in mapping data may be selected. Various logic may be used to further optimize the map selection algorithm. For example in one embodiment a map that can display the location in mapping data with the least amount of zooming or panning from its original state may be selected over other maps e.g. between two available maps one of downtown San Francisco and one of Silicon Valley if mapping data contains an address somewhere within San Francisco the former map may be chosen because it can show mapping data with the least amount of panning .

In an alternate embodiment the map that had been used last to receive input of mapping data may be selected automatically to receive the current mapping data . For example if the user is planning a trip to a city the user may successively select mapping data from various sources for display on the a common map even if some of the locations in the mapping data may be closer to the geography displayed in a different map.

In an alternate embodiment the user may designate various rules and criteria for the automatic selection of a map to receive mapping data. For example the user may designate a certain location such as their hotel while on a business trip as a point of reference that must be included in the map selected to receive input of new mapping data. For example if the user has designated a hotel in Manhattan as the point of reference and has chosen a location in Upstate New York as new mapping data the map displaying the hotel in Manhattan may be automatically chosen to receive and display the new mapping data though substantial panning may be required to show the new location over another map that may include parts of Manhattan but does not include the specific hotel in this example.

In the presently preferred embodiment the map selected to receive the new mapping data may be automatically adjusted to accommodate for example by zooming or panning to include the new location in the mapping data.

Referring now to in another presently preferred embodiment a map display application may display a map portal generated by a mapping application collectively referred to herein as mapping application e.g. Yahoo Maps Google Maps Mapquest Microsoft Live Search Maps etc. A mapping application may receive mapping data from the user and may automatically select the optimal map for displaying the mapping data from a list of stored user maps. A mapping application may display a saved list of user maps . As matter of common practice the user may be required to log into the mapping application to identify them selves uniquely and gain access to their saved list of maps.

A desktop application may contain mapping data . In one embodiment desktop application may be an email contact management application such as Microsoft Outlook or Lotus Notes . Upon transmittal of mapping data to mapping application for example via a user action such as drag and drop copy and paste context menu selection etc. through a mapping component associated with the mapping application the mapping application may select a map on which to display the mapping data automatically. The mapping application may use various algorithms to select the optimal map on which to display the mapping data. For example the map selected may be the map whose area of coverage includes the location in the new mapping data or the map that requires the least amount of display change to include the new mapping data or a map designated by the user as default for receiving mapping data etc.

In an alternate embodiment desktop application may contain mapping data as part of contact information in a file format standard for personal data interchange such as in the format of an electronic business cards vCards . Prior to transmitting mapping data to mapping application mapping data may be processed through a filter to isolate the relevant location information in this example 123 Franklin Street San Francisco Calif. 94111 and submit only the relevant mapping information to the mapping application. In an alternate embodiment the mapping application may recognize mapping data as being in a known vCard format and may process the mapping data accordingly.

In alternate embodiments application may be any application capable of displaying data that may be mapped with no restriction as to the application type.

Computing device may include a mapping component e.g. a standalone application a web browser plug in an ActiveX control a DLL a COM object a web object a part of a an application displaying and or generating maps etc. 

Computing device may include a display application e.g. a web browser a web user agent etc. capable of displaying a map generated by a mapping application e.g. a mapping service such as Google Maps Yahoo Maps Windows Live Search Maps MapQuest etc. 

Display application may communicate with mapping application over network . e.g. the internet intranet etc. 

Mapping component may receive user input containing address location information. User input may include address location information dragged and dropped into mapping component . User input may include address location information received by mapping component when a user selects a mapping command by invoking a control or by making a menu selection. Mapping component may relay transmit the received address location information to display application . Display application may transmit address location information and any additional information required for mapping to mapping application over network . Mapping application may transmit to display application a map displaying the address location information. Display application may display the map to the user of computing device .

In an alternate embodiment mapping component may be a module of display application . In yet another embodiment display application may be a module of mapping component .

Referring now to in another embodiment mapping component display application and mapping application may all reside on an electronic device e.g. device may be a GPS unit or PDA able to generate maps with no access to a network or other devices servers. In yet another embodiment mapping component display application and mapping application may all be a single application or modules of one another.

The examples above demonstrate the power and flexibility of the present invention in providing and presenting mapping disparate location information.

The invention has been described with reference to particular embodiments. However it will be readily apparent to those skilled in the art that it is possible to embody the invention in specific forms other than those of the preferred embodiments described above. This may be done without departing from the spirit of the invention.

Thus the preferred embodiment is merely illustrative and should not be considered restrictive in any way. The scope of the invention is given by the appended claims rather than the preceding description and all variations and equivalents which fall within the range of the claims are intended to be embraced therein.

