---

title: Advertisement delivery management apparatus and advertisement delivery management method
abstract: An advertisement delivery management apparatus according to an embodiment includes a predicted information storage unit, an allocating unit, and a reallocating unit. The predicted information storage unit stores information including user attributes of a plurality of delivery target users predicted as future advertisement delivery destinations. The allocating unit allocates the delivery target user to an advertisement delivery order request based on the information stored in the predicted information storage unit. The reallocating unit performs a reallocating process of exchanging the delivery target user allocated to the order request with a non-allocated user who is the delivery target user that has not been allocated to the order request.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09514480&OS=09514480&RS=09514480
owner: YAHOO JAPAN CORPORATION
number: 09514480
owner_city: Tokyo
owner_country: JP
publication_date: 20131205
---
The present application claims priority to and incorporates by reference the entire contents of Japanese Patent Application No. 2012 270219 filed in Japan on Dec. 11 2012.

The present invention relates to an advertisement delivery management apparatus and an advertisement delivery management method.

In recent years with a rapid spread of networks such as the Internet advertisement delivery using a network has been actively performed. As one form of the advertisement delivery display advertisement is known in which an advertisement is displayed using an image a video or the like on a certain space within a page hereinafter referred to as an advertisement delivery target page serving as a target of advertisement delivery.

In the display advertisement effective advertisement delivery is realized by delivering an advertisement to a user having a user attribute sex age interest or the like designated by an advertiser for example see Japanese Patent Application Laid Open No. 2011 238020 .

In the above described advertisement delivery when a user attribute of a user who accesses the advertisement delivery target page is the user attribute designated by the advertiser an advertisement is delivered. Thus it is desirable to predict a delivery target user serving as a future advertisement delivery destination as a future log along with a user attribute thereof and to accept an order from an advertiser based on the future log.

However when the delivery target user serving as a future advertisement delivery destination has a plurality of user attributes the delivery target user is allocated in the order of the advertisement delivery orders. As a result the delivery target users may not be allocated appropriately.

According to an exemplary embodiment an advertisement delivery management apparatus includes a predicted information storage unit an allocating unit and a reallocating unit. The predicted information storage unit stores information including user attributes of a plurality of delivery target users predicted as future advertisement delivery destinations. The allocating unit allocates the delivery target user to an advertisement delivery order request based on the information stored in the predicted information storage unit. The reallocating unit performs a reallocating process of exchanging the delivery target user allocated to the order request with a non allocated user who is the delivery target user that has not been allocated to the order request.

The above and other objects features advantages and technical and industrial significance of this invention will be better understood by reading the following detailed description of presently preferred embodiments of the invention when considered in connection with the accompanying drawings.

Hereinafter a mode hereinafter referred to as an embodiment for implementing an advertisement delivery management apparatus and an advertisement delivery management method according to the present application will be described in detail with reference to the drawings. The advertisement delivery management apparatus and the advertisement delivery management method according to the present application are not limited to this embodiment. In the following description database will be described as DB. 

First an advertisement delivery management process according to an embodiment will be described. are diagrams for describing an advertisement delivery management process according to the embodiment. The advertisement delivery management process allows delivery target users to be allocated and reallocated to orders from an advertiser.

As illustrated in an advertisement delivery management system according to the embodiment includes an advertisement delivery management apparatus an information delivery apparatus an advertiser terminal and a user terminal . The advertisement delivery management apparatus the information delivery apparatus the advertiser terminal and the user terminal are connected to each other via a communication network . The communication network is an Internet protocol IP network such as the Internet for example. Although a plurality of advertiser terminals and a plurality of user terminals are present only one advertiser terminal and one user terminal are illustrated in for convenience in description.

The advertiser terminal is a terminal apparatus of an advertiser who wants to deliver advertisements and transmits to the advertisement delivery management apparatus an order hereinafter referred to as an order request for an advertisement that is to be delivered to the user terminal of a user having a predetermined user attribute. Specifically the advertiser terminal transmits an order request to the advertisement delivery management apparatus including advertisement information that the advertiser wants to be posted on an advertisement delivery target page and information on a user attribute designated as a delivery destination. Examples of advertisement information include two dimensional contents such as a banner advertisement a text advertisement or a video advertisement and three dimensional contents.

The user terminal is a terminal apparatus of a user who accesses the advertisement delivery management apparatus and the information delivery apparatus . When there is an access from the user terminal the information delivery apparatus transmits an advertisement delivery target page such as a Web page to the user terminal . The advertisement delivery target page includes a uniform resource locator URL of advertisement information and the user terminal transmits an advertisement request to the advertisement delivery management apparatus based on the URL. The URL of the advertisement information may be the URL of the information delivery apparatus rather than the URL of the advertisement delivery management apparatus . In this case the user terminal requests the information delivery apparatus for the advertisement information based on the URL of the advertisement information. Upon receiving the request the information delivery apparatus transmits a request to the advertisement delivery management apparatus for transmitting the advertisement information to the user terminal . The advertisement delivery management apparatus transmits advertisement information corresponding to the transmission request from the information delivery apparatus to the user terminal .

The advertisement delivery management apparatus executes the processes ranging from the process of accepting an advertisement delivery order to the process of delivering an advertisement by performing an order request accepting process an allocating process of allocating a user attribute to an accepted order request and a process of delivering advertisement information designated by the order request. Further the advertisement delivery management apparatus performs a reallocating process of reallocating the user attribute at a predetermined point in time after performing the process of allocating the user attribute to the order request.

The advertisement delivery management apparatus stores information including the user attributes of a plurality of delivery target users predicted as a future advertisement delivery destination in a DB as a future log and executes the order request accepting process and the user attribute allocating process based on the future log.

In the example illustrated in delivery target users to are allocated to order requests and . Specifically the order request is an order request that requests advertisement delivery to two delivery target users having a user attribute A and the order request is an order request that requests advertisement delivery to one delivery target user having a user attribute E. These order requests and are sequentially accepted by the advertisement delivery management apparatus .

The advertisement delivery management apparatus allocates the two delivery target users and having the user attribute A to the order request and allocates one delivery target user having the user attribute E to the order request

After that the advertisement delivery management apparatus performs a user attribute reallocating process at a predetermined point in time. The reallocating process is performed in such a way that the score hereinafter referred to as an allocation score corresponding to an allocation state of the delivery target users to to the order requests and increases. In this embodiment an example in which the total number of user attributes of the delivery target users and hereinafter sometimes referred to as non allocated users who are not allocated to the order requests and is defined as the allocation score will be described.

The non allocated user has three user attributes A B and D and the non allocated user has four user attributes A and C to E. Thus the allocation score which is the total number of user attributes of the non allocated users and is 7. 

The advertisement delivery management apparatus performs the reallocating process based on three party exchange by allocating a non allocated user to an allocatable order request allocating a delivery target user allocated to this order request to another order request and changing a delivery target user allocated to the another order request to a non allocated user.

Specifically as illustrated in the advertisement delivery management apparatus allocates the non allocated user to the allocatable order request allocates the delivery target user allocated to this order request to the order request and changes the delivery target user allocated to the order request to a non allocated user. With such a change the allocation score increases from 7 to 8. 

On the other hand it is assumed that the non allocated user is allocated to the allocatable order request the delivery target user allocated to the order request is allocated to the order request and the delivery target user allocated to the order request is changed to a non allocated user. In this case the allocation score is still 7. 

Thus the advertisement delivery management apparatus performs the reallocating process in the former combination where the allocation score increases from 7 to 8 among the modes of three party exchange described. Since the allocation score is the total number of user attributes the larger the allocation score is the more number of choices for allocation of the delivery target user to a new order request can be increased. Therefore it is possible to appropriately allocate the delivery target user to the advertisement delivery order.

In the above description although the advertisement delivery management apparatus performs the reallocating process in such a combination of three party exchange that the allocation score increases the reallocating process is not limited to such a three party exchange. For example instead of three party exchange two party exchange may be used such that a delivery target user hereinafter referred to as an allocated user allocated to an order request is exchanged with a non allocated user. Moreover four or more parties may be exchanged. In this case similarly the advertisement delivery management apparatus performs the reallocating process in such a manner that the allocation score increases.

By performing the reallocating process based on n party exchange n is an integer of 2 or more such that the allocation score increases it is possible to increase the possibility of accepting future order requests and to suppress the loss of sales opportunity.

Although the advertisement delivery management apparatus can increase the possibility of accepting future order requests more appropriately by performing the reallocating process based on the allocation score the reallocating process may be performed without being based on the allocation score. Even in such a case since the reallocating process is performed after the delivery target user allocating process is performed it is possible to increase the possibility of accepting future order requests.

That is since the delivery target user allocating process is performed whenever an order request is accepted the delivery target user is not necessarily allocated appropriately. However by reallocating delivery target users collectively to a plurality of accepted order requests it is possible to allocate delivery target users appropriately.

Hereinafter a specific configuration and a specific process of the advertisement delivery management apparatus that executes the above described advertisement delivery management process will be described with reference to the drawings.

The communicating unit is an interface such as a network interface card NIC . The control unit transmits and receives various items of information between the advertiser terminal and the user terminal via the communicating unit and the communication network . The advertisement information DB the user information DB the past log DB and the future log DB are for example storage devices such as a hard disk a semiconductor memory device such as a random access memory RAM or a flash memory and an optical disc.

The control unit is realized by an integrated circuit such as an application specific integrated circuit ASIC or a field programmable gate array FPGA for example. Moreover the control unit functions as the advertisement delivery unit the future log prediction unit the accepting unit the score determining unit the allocating unit and the reallocating unit when a central processing unit CPU or a micro processing unit MPU executes a program stored in an internal storage device using a RAM as a work area. The configuration of the control unit is not limited to such a configuration and other configurations may be employed as long as the control unit performs the information processing to be described below.

When an advertisement information delivery request is received from the user terminal the advertisement delivery unit acquires advertisement information corresponding to the user attribute of the user of the user terminal from an advertisement information table stored in the advertisement information DB and transmits the acquired advertisement information to the user terminal which is a delivery requestor via the communicating unit .

The advertisement ID is identification information that is allocated to each of the accepted order requests. The user attribute is a user attribute designated by the order request the posting period is an advertisement information delivery period designated by the order request and the number of postings is the number of deliveries of advertisement information designated by the order request. Moreover the advertisement information is advertisement information designated by the order request.

For example an advertisement ID A0001 indicates that a user attribute is vehicle an advertisement information delivery period is Jan. 1 to Jan. 31 2013 the number of deliveries of advertisement information is 1000 times and the advertisement information is banner advertisement Ya for delivery target. When the number of deliveries of advertisement information exceeds 1000 times even within the advertisement information delivery period the process of delivering advertisement information to an order request ends.

When the user of the user terminal that outputs an advertisement information delivery request has the user attribute vehicle the advertisement delivery unit acquires advertisement information banner advertisement Ya of the advertisement ID A0001 from the advertisement information table of the advertisement information DB for example and transmits the advertisement information to the user terminal which is a delivery requestor.

The user attribute of the user of the user terminal is determined based on the user information table of the user information DB . is a diagram illustrating an example of the user information table stored in the user information DB . As illustrated in the user information table includes information such as user ID psychographic attribute and demographic attribute. 

The user ID is identification information for identifying the user who uses the user terminal . The user ID corresponds to a user identification information that is set in a hypertext transfer protocol cookie HTTP cookie transmitted and received between the advertisement delivery management apparatus and the user terminal for example.

The psychographic attribute is information indicating the view of value a life cycle a personality a preference and the like of the user. The psychographic attribute is classified into attribute categories such as vehicle cosmetics clothes and travel. In the example illustrated in for each attribute category 1 is stored when the user s preference is relatively high and 0 is stored in the other cases. The psychographic attribute is not limited to the examples of the attribute categories illustrated in and various attribute categories such as economy politics a baseball a football other sports sweets a personal computer home appliances and furniture may be included.

The demographic attribute indicates demographic attribute information of the user. The demographic attribute is classified into attribute categories such as sex and age. In the sex field illustrated in 1 is stored when the user is a female and 2 is stored when the user is a male. Moreover the age of the user is stored in the age field. The demographic attribute is not limited to the examples of the attribute categories illustrated in and various attribute categories such as an occupation a family structure an annual income an address a birthplace and an educational background may be included.

When a user of the user ID U0001 illustrated in for example transmits an advertisement information delivery request from the user terminal it is determined that the user attributes of the user are vehicle travel male 21 years old and the like. Moreover when a user of the user ID U0002 illustrated in for example transmits an advertisement information delivery request from the user terminal the advertisement delivery unit determines that the user attributes of the user are clothes female 44 years old and the like.

Moreover the advertisement delivery unit sets the user ID of the user who has transmitted the advertisement information delivery request in the access log table of the past log DB . is a diagram illustrating an example of the access log table stored in the past log DB .

As illustrated in the access log table is a table in which information hereinafter sometimes referred to as a past log that associates the date and time when the user transmits the advertisement information delivery request to the advertisement delivery management apparatus with the user ID is set. The advertisement delivery unit updates the access log table whenever the advertisement information delivery request is received from the user terminal .

When the information delivery apparatus transmits an advertisement information transmission request to the user terminal similarly the advertisement delivery unit acquires advertisement information corresponding to the user attribute of the user of the user terminal from the advertisement information table of the advertisement information DB and transmits the acquired advertisement information to the user terminal via the communicating unit . The transmission request from the information delivery apparatus includes the user ID of the user of the user terminal and the advertisement delivery unit acquires the advertisement information corresponding to the user attribute of the user of the user terminal from the advertisement information table based on the user ID.

The future log prediction unit determines a plurality of delivery target users predicted as a future advertisement delivery destination based on the access log table stored in the past log DB and sets the user information of the determined delivery target user in the future log table of the future log DB .

The delivery target ID is identification information that is allocated to each delivery target user predicted as a future advertisement delivery destination. The delivery target user is an imaginary user that is different from the user set in the user information table of the user information DB .

The allocation state is information indicating whether the user is a delivery target user who is allocated to the order request. 1 is set when the user is the delivery target user who is allocated to the order request and 0 is set when the user is the delivery target user who is not allocated to the order request.

The allocation target is an advertisement ID of an order request to which the delivery target user is allocated. For example the order request having the advertisement ID A0002 is allocated to the delivery target user having the delivery target ID F0005. 0 is set when the order request is not allocated.

The psychographic attribute and the demographic attribute are the same items as the user information table of the user information DB . The user set in the user information table may be estimated as the delivery target user and the delivery target ID may be used as the user ID. In this case the information psychographic attribute and demographic attribute can be acquired from the user information table based on the user ID.

The future log prediction unit can estimate the delivery target user who will be an advertisement delivery destination in a predetermined future period from the access log in the same period of one year before or the access log in a predetermined period immediately before. For example the future log prediction unit can estimate the user who has transmitted the advertisement information delivery request in the previous one month as a delivery target user in a future one month.

The future log prediction unit can determine the trend of the delivery target user serving as the future advertisement delivery destination by statistically processing the past log set in the access log table and predict the future log based on the determination results. In this case the trend of the delivery target user may be determined by taking variation information such as for example weather or temperature into consideration.

Although the future log prediction unit can set the predicted future log in the future log table the future log acquired from an external apparatus via the communicating unit may be set in the future log table.

The accepting unit determines whether or not to accept an order request from the advertiser terminal based on the future log set in the future log table. When it is determined that the order request is to be accepted the accepting unit transmits an order acceptance response to the advertiser terminal .

The order request from the advertiser terminal includes designation information such as the user attribute and the number of postings as described above. The accepting unit counts the number of non allocated users having the user attribute designated by the order request among a plurality of delivery target users set in the future log table. When the counted number is equal to or larger than the number of postings designated by the order request the accepting unit accepts the order request from the advertiser terminal .

For example when the user attribute designated by the order request is vehicle and the number of postings is 100 the accepting unit counts the number of delivery target users in which 1 is set in the attribute category vehicle in the future log table. The accepting unit accepts the order request from the advertiser terminal when the counted number is 100 or more and does not accept the order request from the advertiser terminal when the counted number is smaller than 100. 

The accepting unit counts a combination of two or more user attributes of which the frequency designated by the order request is a threshold value or more as one user attribute hereinafter sometimes referred to as a combined user attribute . For example a combination of clothes and travel has a high frequency designated by the order request the accepting unit counts the combination of clothes and travel as one user attribute.

Information on the order request accepted by the accepting unit is set in the advertisement information table of the advertisement information DB and the accepting unit can determine the combination of two or more user attributes of which the frequency designated by the order request is a threshold value or more based on the advertisement information table.

For example the accepting unit determines the sum of the number of postings designated by the past order request as a first sum value based on the advertisement information table and determines the sum of the number of postings designated by the past order request as a second sum value for each combination of two or more user attributes. The accepting unit counts a combination of user attributes of which the ratio of the second sum value to the first sum value is a predetermined threshold value or more as one user attribute.

When the combination of clothes and travel has a high frequency designated by the order request and the future log table is in a state as illustrated in the user attribute of the delivery target user of the delivery target ID F0002 becomes clothes travel rather than clothes and travel. 

The combination of two or more user attributes of which the frequency designated by the order request is a threshold value or more may not be determined by the accepting unit but may be set separately in the user information DB from an external apparatus or the like.

When the number of non allocated users is a predetermined value or smaller or when the number of non allocated users having a combined user attribute is a predetermined value or smaller the accepting unit may divide the combined user attribute into a plurality of user attributes. By doing so it is possible to increase the total number of user attributes and as a result to increase the possibility of accepting other order requests although the possibility of accepting the order request that designates the combined user attribute decreases.

The score determining unit determines an allocation score corresponding to an allocation state for an order request of the delivery target user set in the future log table. The score determining unit uses the combined user attribute as one user attribute similarly to the accepting unit .

The score determining unit determines the allocation score according to a method of determining a set determination mode. The determination mode includes first to fourth determination modes for example and a determination mode in which these modes are combined may be provided. The determination mode is set for example by an administrator of the advertisement delivery management apparatus from an operating unit not illustrated of the advertisement delivery management apparatus .

The first determination mode is a mode in which the total number of user attributes of the non allocated users is used as the allocation score. When the first determination mode is set the score determining unit counts a total number of user attributes of the non allocated users among the plurality of delivery target users set in the future log table. The non allocated user is a delivery target user in which the allocation state in the future log table is set to 0. 

The total number of user attributes is the sum of the number of user attributes of the non allocated users. For example when there are 1000 non allocated users the sum of the number of user attributes of 1000 non allocated users is the total number of user attributes. 

The number of user attributes is the number of delivery target users that are validly set for individual attribute categories of the user attribute. The attribute category means vehicle cosmetics clothes travel and the like for the psychographic attribute and means sex age and the like for the demographic attribute. 

Moreover the delivery target user set validly is a delivery target user in which 1 is set in the corresponding attribute category for the psychographic attribute and is a delivery target user in which information is set in the attribute category for the demographic attribute. 

For example it is assumed that the psychographic attribute includes only four attribute categories of vehicle cosmetics clothes and travel and the demographic attribute includes only two attribute categories of sex and age. In this case the largest value of the number of user attributes is 6. 

The delivery target user who is not allocated to the order request is the delivery target users having the delivery target IDs F0001 F0003 F0004 and F0006 as illustrated in . In this case as illustrated in the numbers of user attributes of the delivery target users corresponding to the delivery target IDs F0001 F0003 F0004 and F0006 are 4 2 3 and 6 respectively. Thus the total number of user attributes which is the sum of numbers of user attributes of the delivery target users who are not allocated to the order request is 15 4 2 3 6 as illustrated in and the allocation score is 15. 

The score determining unit may use the total number of user attributes for psychographic attribute only as the allocation score and may use the total number of user attributes for the demographic attribute only as the allocation score. Moreover the score determining unit may use the total number of user attributes for only part of the attribute categories of the psychographic attribute and the demographic attribute as the allocation score.

Next the second to fourth determination modes will be described. These second to fourth determination modes are modes in which the number of individual user attributes of the non allocated user or a value based on the proportion is used as the allocation score.

Specifically the second determination mode is a mode in which the proportion of non allocated users having the user attribute in which the proportion of the non allocated user is smallest is used as the allocation score. The third determination mode is a mode in which the ratio of the proportion of the non allocated user to a predicted proportion of individual user attributes is calculated for each user attribute and the smallest value of the calculated ratios is used as the allocation score.

The fourth determination mode is a mode in which the ratio of the proportion of the non allocated user to a predicted proportion of individual user attributes is calculated for each user attribute and the sum of the calculated ratios is used as the allocation score. In the respective determination modes proportion may be written as number as will be described below.

First the second determination mode will be described. When the second determination mode is set the score determining unit detects a user attribute hereinafter sometimes referred to as a smallest stock user attribute of the attribute category in which the number of non allocated users among the delivery target users set in the future log table is smallest. The score determining unit calculates the number Aof non allocated users having the smallest stock user attribute.

For example when the number of non allocated users having the user attribute of the attribute category travel among the attribute categories set in the future log table illustrated in is smallest and is 40 the smallest stock user attribute is the user attribute of the attribute category travel. In this case the score determining unit determines that the number Aof non allocated users having the smallest stock user attribute is 40. 

Moreover the score determining unit may calculate the proportion Aof the non allocated user having the smallest stock user attribute instead of the number Aof non allocated users having the smallest stock user attribute. The proportion Ais the ratio of the number Aof non allocated users to a total number Aof user attributes of the non allocated users.

Next the third determination mode will be described. When the third determination mode is set the score determining unit calculates the proportion E 1

The predicted proportion Eof the user attribute is the ratio of the total number of user attributes to the number of delivery target users having the user attribute. The total number of user attributes is the sum of the number of delivery target users of each user attribute. Moreover the delivery target user includes a non allocated user and an allocated user.

In the future log illustrated in for example it is assumed that the numbers of delivery target users having the user attributes of the attribute categories vehicle cosmetics clothes and travel are 200 170 130 and 280 respectively and the total number of user attributes is 2200 200 170 130 280 . . . . Moreover it is assumed that the attribute numbers of the attribute categories vehicle cosmetics clothes and travel are 1 2 3 and 4 respectively.

In this case the proportion Eof the user attribute of the attribute category vehicle is 0.091 200 2200 the proportion Eof the user attribute of the attribute category cosmetics is 0.077 170 2200 the proportion Eof the user attribute of the attribute category clothes is 0.059 130 2200 and the proportion Eof the user attribute of the attribute category travel is 0.127 280 2200 . 

Moreover when the third determination mode is set the score determining unit calculates the proportion A 1

In the future log illustrated in it is assumed that the numbers of non allocated users having the user attributes of the attribute categories vehicle cosmetics clothes and travel are 120 70 90 and 190 respectively and the total number of user attributes is 1400 120 70 90 190 . . . . 

In this case the stock proportion Aof the user attribute of the attribute category vehicle is 0.086 120 1400 and the stock proportion Aof the user attribute of the attribute category cosmetics is 0.050 70 1400 . Moreover the stock proportion Aof the user attribute of the attribute category clothes is 0.064 90 1400 and the stock proportion Aof the user attribute of the attribute category travel is 0.135 190 1400 . 

After calculating the predicted proportion Eand the stock proportion Aof the user attribute the score determining unit uses a smallest ratio Pamong the ratios P A E of the stock proportion Ato the predicted proportion Eof the individual user attributes as the allocation score. The ratio Pis the proportion of the user attribute after the stock proportion Ais adjusted based on the predicted proportion E and will be referred to as an adjusted ratio P.

For example in the future log illustrated in as described above it is assumed that the predicted proportions E E E and Eof the user attributes are 0.091 0.077 0.059 and 0.127 respectively and the stock proportions A A A and Aare 0.086 0.050 0.064 and 0.135 respectively.

In this case the adjusted ratios P P P and Pare 0.95 0.85 1.09 and 1.63 respectively. Thus the smallest adjusted ratio Pamong the adjusted ratios P P P and Pis the adjusted ratio Pcorresponding to the user attribute of the attribute category cosmetics and the score determining unit uses the smallest adjusted ratio P 0.85 as the allocation score.

In the above description although the score determining unit uses the smallest ratio among the ratios P A E of the stock proportion Ato the predicted proportion Eof the individual user attributes as the allocation score the smallest ratio among the ratios P A E of a stock number Ato a predicted number Eof individual user attributes may be used as the allocation score. Here i is the attribute number as described above.

The predicted number Eof individual user attributes is the number of delivery target users of individual user attributes in the future log table and the stock number Aof individual user attributes is the number of non allocated users of individual user attributes in the future log table. Moreover the ratio Pis the proportion of the user attribute after the stock number Ais adjusted according to the predicted number E and will be referred to as an adjusted ratio P.

For example in the future log illustrated in as described above it is assumed that the predicted numbers of user attributes E E E and Eare 200 170 130 and 280 respectively and the stock numbers A A A and Aare 120 70 90 and 190 respectively.

In this case the adjusted ratios P P P and Pare 0.6 0.41 0.69 and 0.68 respectively. Thus the smallest adjusted ratio Pamong the adjusted ratios P P P and Pis the adjusted ratio Pcorresponding to the user attribute of the attribute category cosmetics and the score determining unit uses the smallest adjusted ratio P 0.41 as the allocation score.

Next the fourth determination mode will be described. When the fourth determination mode is set the score determining unit calculates the adjusted ratio P A E which is the ratio of the stock proportion Ato the predicted proportion Eof the individual user attributes similarly to the third determination mode. The score determining unit uses the sum P P of the adjusted ratios Pas the allocation score.

For example in the future log illustrated in as described above it is assumed that the predicted proportions of user attributes E E E and Eare 0.091 0.077 0.059 and 0.127 respectively and the stock proportions A A A and Aare 0.086 0.050 0.064 and 0.135 respectively.

In this case the adjusted ratios P P P and Pare 0.95 0.85 1.09 and 1.63 respectively. Thus the score determining unit uses the sum P 0.95 0.85 1.09 1.63 4.52 of the adjusted ratios as the allocation score.

In the above description the score determining unit may use the sum P P of the ratios P A E of the stock number Ato the predicted number Eof the individual user attributes as the allocation score.

For example in the future log illustrated in as described above it is assumed that the predicted numbers of user attributes E E E and Eare 200 170 130 and 280 respectively and the stock numbers A A Aand Aare 120 70 90 and 190 respectively. In this case the adjusted ratios P P P and Pare 0.6 0.41 0.69 and 0.68 respectively. Thus the score determining unit uses the sum P 0.6 0.41 0.69 0.68 2.38 of the adjusted ratios as the allocation score.

Using the number of users A the smallest adjusted ratio Por P and the sum Por Pof the adjusted ratios as the allocation score means that these values are substantially used as the allocation score and does not mean that these values are limited to be used as the allocation score.

Whenever an advertisement delivery order request is accepted by the accepting unit the allocating unit allocates the delivery target user to the order request. The allocating process is performed such that a decrease in the allocation score determined by the score determining unit before and after the delivery target user is allocated in response to the advertisement delivery order request is minimized. The allocating unit uses the combined user attribute as one user attribute similarly to the accepting unit .

Specifically the allocating unit selects the number of non allocated users having the user attribute designated by the advertisement delivery order request corresponding to the number of postings designated by the order request from the future log table and acquires a decrease in the allocation score before and after the selected non allocated users are allocated to the order request from the score determining unit .

There is a plurality of combinations of non allocated users corresponding to the number of postings designated by the order request except for the case where only the number of non allocated users having the user attribute designated by the advertisement delivery order request corresponding to the number of postings designated by the order request are set in the future log table. For example when the number of non allocated users having the user attribute designated by the advertisement delivery order request is 10 and the number of postings designated by the order request is 5 there are 252 combinations of non allocated users.

The allocating unit acquires a decrease in the allocation score before and after all combinations of non allocated users corresponding to the number of postings designated by the order request are allocated to the order request from the score determining unit and determines a combination of non allocated users in which the decrease in the allocation score is smallest. The allocating unit selects the combination of non allocated users in which the decrease is determined to be smallest and allocates the combination of non allocated users to the order request.

Moreover the allocating unit may select the number of non allocated users having the user attribute designated by the order request corresponding to the number of postings designated by the order request so that the decrease in the allocation score is minimized under a predetermined limit.

As the predetermined limit for example a limit may be provided in such a way that non allocated users are allocated so that the decrease in the allocation score is minimized within a range that the decrease rate of the user attributes other than the user attribute designated by the order request is a predetermined rate or smaller.

Moreover as the predetermined limit a limit may be provided in such a way that non allocated users are allocated so that the decrease in the allocation score is minimized within a range that the decrease rate in an expected value for realizing a state where all user attributes are allocated when user attributes are designated randomly or according to predetermined rules in the advertisement delivery order request is a predetermined value or smaller.

The reallocating unit performs a reallocating process of exchanging an allocated user who is a delivery target user allocated to the advertisement delivery order request by the allocating unit with a non allocated user so that the allocation score determined by the score determining unit increases. The reallocating unit uses the combined user attribute as one user attribute similarly to the allocating unit .

The reallocating unit performs the reallocating process by performing three party exchange. Specifically the reallocating unit allocates a non allocated user to an allocatable order request hereinafter referred to as a first order request and allocates a delivery target user allocated to the first order request to another order request hereinafter referred to as a second order request . Then the reallocating unit changes the delivery target user allocated to the second order request to a non allocated user.

For example it is assumed that the advertisement information table is in the state illustrated in and the future log table is in the state illustrated in . Moreover in it is assumed that the psychographic attribute includes only four attribute categories of vehicles cosmetics clothes and travel and the demographic attribute includes only two attribute categories of sex and age. Moreover it is assumed that the non allocated users are delivery target users having the delivery target IDs F0001 F0003 F0004 and F0006. In this case as illustrated in the total number of user attributes is 15 and in the first determination mode the score determining unit determines that the allocation score is 15. 

When the reallocating process is performed first the reallocating unit selects the delivery target user having the delivery target ID F0001 for example as one non allocated user. The delivery target user having the delivery target ID F0001 has the user attribute travel then the reallocating unit selects the order request having the advertisement ID A0002 for example in which the user attribute travel is designated as the first order request. Moreover the reallocating unit selects a delivery target user having the delivery target ID F0005 illustrated in as a delivery target user allocated to the first order request for example.

Since the delivery target user having the delivery target ID F0005 has the user attribute vehicle the reallocating unit selects the order request having the advertisement ID A0001 for example in which the user attribute vehicle is designated as the second order request. Moreover the reallocating unit selects the delivery target ID F0007 as a delivery target user allocated to the second order request for example.

In an exchange in which the delivery target user having the delivery target ID F0001 is allocated to the order request having the advertisement ID A0002 the allocation of the delivery target user having the delivery target ID F0005 is changed to the order request having the advertisement ID A0001 and the delivery target user having the delivery target ID F0007 is changed to the non allocated user the allocation score is 16 in the first determination mode. Thus the reallocating unit executes the reallocating process in such an exchange combination.

The reallocating unit determines an increase or decrease in the allocation score of all non allocated users caused by the exchange and executes the reallocating process in such an exchange combination when the allocation score increases. Since the allocation score is the total number of user attributes the larger the allocation score the more the number of choices for allocation of the delivery target user to a new order request can be increased.

The reallocating unit may execute the reallocating process in respective two or more non allocated users rather than executing the reallocating process in the respective individual non allocated users. Moreover in the above description although the reallocating unit performs the reallocating process in the three party exchange combination two party exchange or four or more party exchange where non allocated users are exchanged with allocated users may be performed instead of the three party exchange. In this case similarly the reallocating unit performs the reallocating process in such a combination that the allocation score increases.

For example when the reallocating process is performed based on two party exchange first the reallocating unit selects the delivery target user having the delivery target ID F0001 for example as one non allocated user. Since the delivery target user having the delivery target ID F0001 has the user attribute travel the reallocating unit selects the order request having the advertisement ID A0002 in which the user attribute travel is designated for example. Then the reallocating unit selects the delivery target ID F0005 as the delivery target user allocated to the order request having the advertisement ID A0002 for example.

When the delivery target user having the delivery target ID F0001 is allocated to the order request having the advertisement ID A0002 and the delivery target user having the delivery target ID F0005 is changed to a non allocated user the allocation score is 16 in the first determination mode. Thus since the allocation score increases the reallocating unit executes the reallocating process in such an exchange combination.

The reallocating unit may perform the reallocating process by changing the order of the allocating process to the order request instead of the reallocating process based on n party exchange n is an integer of 2 or more . For example it is assumed that the order requests having the advertisement IDs A0001 A0002 A0003 and A004 are accepted in that order by the accepting unit and the allocating unit performs the delivery target user allocating process in that order. In this case the reallocating unit can execute the reallocating process if the allocation score increases when the delivery target user reallocating process is performed in the order of the advertisement IDs A0004 A0003 A0002 and A0001 for example.

In the case of reallocation based on n party exchange the reallocating unit performs the reallocating process so that the allocation score increases in the respective individual non allocated users or in a plurality of non allocated users. In this case reallocation may be executed in such an exchange combination that an increase in the allocation score is maximized for respective non allocated users. Moreover the reallocating unit may execute the reallocation in such an exchange combination that an increase in the score is a predetermined value or more.

The allocating process of the reallocating unit is performed using all allocated users in the future log table as exchange candidates at a predetermined point in time. That is the reallocating unit performs the allocating process using all delivery target users in which 1 is set are the allocation state in the future log table as exchange candidates. The reallocating unit may exclude allocated users who are selected as exchange candidates in the reallocating process from exchange candidates. Moreover the reallocating unit may exclude allocated users who are selected as exchange candidates in a predetermined number of reallocating processes from exchange candidates.

The point in time hereinafter referred to as a reallocation point in time when the reallocating unit performs the reallocating process can be set by an administrator of the advertisement delivery management apparatus using an operating unit not illustrated . The reallocation point in time may occur repeatedly every predetermined period or may occur based on the number of order requests the number of user attributes the number or proportion of non allocated users and the like for example.

For example the reallocating unit may perform the reallocating process in every predetermined period. For example the reallocating unit may perform the reallocating process in a period where a few order requests are received from the advertiser terminal for example in the night . In this way the reallocating process can be performed in a period where the processing load of the control unit is low.

The reallocating unit may perform the reallocating process whenever the allocating unit performs an allocating process for a predetermined number of order requests. Moreover the reallocating unit may perform the reallocating process when the accumulated number of user attributes designated by the order requests having been subjected to the allocating process is a predetermined number or more. By doing so the reallocating process is not performed when the number of order requests or designated user attributes is small and thus the processing load of the control unit can be reduced.

Further the reallocating unit may perform the reallocating process when the number of non allocated users is a predetermined value or smaller. By doing so the reallocating process is not performed when there are many non allocated users and thus the processing load of the control unit can be reduced.

The reallocating unit acquires the allocation score from the score determining unit in the same determination mode as the determination mode set in the allocating unit . For example when the allocating unit performs the allocating process based on the allocation score in the first determination mode the reallocating unit performs a reallocating process based on the allocation score in the first determination mode.

Next the procedure of the advertisement delivery management process of the advertisement delivery management apparatus according to the embodiment will be described. is a diagram illustrating an example of the flow of the advertisement delivery management process of the advertisement delivery management apparatus according to the embodiment. The flow of the advertisement delivery management process is a process that is repeatedly executed by the control unit of the advertisement delivery management apparatus and the processes of the accepting unit the allocating unit and the reallocating unit in the control unit will be mainly described.

As illustrated in when the advertisement delivery management process starts the control unit of the advertisement delivery management apparatus determines whether the order request is received from the advertiser terminal step S . When it is determined that the order request is received from the advertiser terminal Yes in step S the control unit determines whether the order request from the advertiser terminal is to be accepted based on the future log set in the future log table step S . The control unit counts the number of user attributes designated by the order request among the user attributes of non allocated users set in the future log table for example and determines that the order request is to be accepted when the counted number is equal to or larger than the number of postings designated by the order request.

When it is determined that the order request from the advertiser terminal is to be accepted Yes in step S the control unit sets the information included in the order request to the advertisement information table to update the advertisement information table step S . The information included in the order request includes a user attribute a posting period the number of postings and advertisement information and these items of information are set in the advertisement information table.

Subsequently the control unit performs a delivery target user allocating process step S . With this allocating process the non allocated user having the user attribute designated by the order request is allocated to the order request.

Subsequently the control unit updates the future log table based on the result of the allocating process of step S step S . Specifically the control unit changes the non allocated user allocated to the order request among the non allocated users set in the future log table to an allocated user. The change from the non allocated user to the allocated user is performed by changing the allocation state from 0 to 1. 

After that the control unit transmits an order acceptance response to the advertiser terminal via the communicating unit step S and ends the advertisement delivery management process. On the other hand when it is determined in step S that the order request from the advertiser terminal is not to be accepted No in step S the control unit transmits an order reject response to the advertiser terminal via the communicating unit step S and ends the advertisement delivery management process.

When it is determined in step S that the order request from the advertiser terminal is not to be received No in step S the control unit determines whether it is the point in time for the reallocating process step S . When it is determined that it is the point in time for the reallocating process Yes in step S the control unit performs the delivery target user reallocating process step S .

When the process of step S ends or when it is determined in step S that it is not the point in time for the reallocating process No in step S the control unit ends the advertisement delivery management process.

Next an example of the reallocating process of step S will be described in detail with reference to . is a diagram illustrating an example of the flow of the reallocating process of the advertisement delivery management apparatus according to the embodiment.

As illustrated in when the delivery target user allocating process starts the control unit of the advertisement delivery management apparatus selects one non allocated user among the delivery target users in the future log table step S .

Subsequently the control unit determines the allocation score based on three party exchange step S . Specifically the control unit selects one allocated user hereinafter referred to a first allocated user allocated to a first order request among the delivery target users in the future log table and one allocated user hereinafter referred to as a second allocated user allocated to a second order request. Then the control unit determines the allocation score for the three party exchange in which one non allocated user selected in step S is allocated to the first order request the first allocated user is allocated to the second order request and the second allocated user is changed to a non allocated user.

The control unit determines whether the allocation score has increased before and after the three party exchange in step S step S . In this process when it is determined that the allocation score based on three party exchange has increased Yes in step S the control unit executes reallocation in the three party exchange combination where the allocation score increases step S .

On the other hand when it is determined in step S that the allocation score is not increased before and after the three party exchange No in step S the control unit determines whether an allocated user to be exchanged is present step S . In this process when an allocated user who is not subjected to the process of step S is present the control unit determines that an allocated user to be exchanged is present. When the allocated user to be exchanged is present Yes in step S the control unit proceeds to step S.

When the allocated user to be exchanged is not present No in step S or when the process of step S ends the control unit proceeds to step S.

In step S the control unit determines whether a non allocated user who is not subjected to the three party exchange process is present step S . The control unit proceeds to step S when the non allocated user who is not subjected to the three party exchange process is present Yes in step S and ends the reallocating process in other cases No in step S .

In the above embodiment although the allocation score is determined based on non allocated users the score determining unit may determine the allocation score based on allocated users. In this case the allocation score can be also calculated according to the first to fourth determination modes and the like. For example in the first determination mode the score determining unit uses a reciprocal of the total number of user attributes of allocated users as the allocation score. In the second determination mode the score determining unit uses a proportion of the allocated users having the user attribute in which the proportion of the allocated user is largest as the allocation score. In the third and fourth determination modes the score determining unit determines the allocation score in the same method.

The score determining unit may determine the allocation score switchably based on allocated users and non allocated users according to predetermined conditions. For example the score determining unit determines the allocation score based on allocated users when the number of allocated users is larger than the number of non allocated users. On the other hand when the number of allocated users is equal to or smaller than the number of non allocated users the allocation score is determined based on non allocated users. In this way for example when the allocation score is determined based on the total number of user attributes the processing load of the advertisement delivery management apparatus can be reduced.

In the above described embodiment although the reallocating unit acquires the allocation score from the score determining unit in the same determination mode as the determination mode set in the allocating unit the allocation score may be acquired from the score determining unit in a determination mode different from the determination mode set in the allocating unit .

The reallocating unit may execute the reallocating process when the number or the proportion of non allocated users is a predetermined value or smaller. By doing so since the reallocating process is not performed when it is possible to sufficiently perform the process of receiving the order requests the processing load of the control unit can be reduced. The proportion of non allocated users is the ratio of the number of non allocated users to the number of delivery target users set in the future log table for example.

In the advertisement delivery management apparatus according to the embodiment the future log DB an example of a predicted information storage unit stores information including user attributes of a plurality of delivery target users predicted as future advertisement delivery destinations the allocating unit an example of an allocating unit allocates the delivery target user to an advertisement delivery order request based on the information stored in the future log DB and the reallocating unit an example of a reallocating unit performs a reallocating process of exchanging the delivery target user allocated to the advertisement delivery order request with a non allocated user who is a delivery target user that has not been allocated to the advertisement delivery order request.

With this configuration by reallocating the delivery target users after the delivery target users are allocated to the advertisement delivery order request it is possible to appropriately allocate the delivery target users to the advertisement delivery order request. In this way since the number of choices for allocation of delivery target users to the order request increases and the possibility of accepting future order requests increases it is possible to suppress a loss of sales opportunity. For example when the delivery target users are allocated whenever the advertisement delivery order request is accepted overall allocation may not be realized appropriately. However even in such a case by reallocating the delivery target users the delivery target users are appropriately allocated.

The score determining unit an example of a score determining unit determines an allocation score corresponding to an allocation state of the plurality of delivery target users with respect to the advertisement delivery order request and the reallocating unit performs a reallocating process so that the allocation score increases.

With this configuration since the reallocating process can be performed based on the allocation score corresponding to the allocation state of the plurality of delivery target users it is possible to suppress the reallocating process from becoming complex.

The score determining unit determines a score corresponding to a total number of user attributes of the non allocated users or a score corresponding to the number of non allocated users for individual user attributes as the allocation score.

With this configuration it is possible to appropriately increase the number of choices for allocation of the delivery target users with respect to the order request. For example by increasing the total number of user attributes of the non allocated users it is possible to increase the number of choices for allocation of the delivery target users to the order request. Moreover by appropriately setting the number or the proportion of non allocated users for individual user attributes it is possible to suppress a decrease in the possibility of accepting future advertisement delivery order requests.

The reallocating unit performs the reallocating process if the allocation score increases when the reallocating process is performed in such a way that the non allocated user is allocated to a first order request a delivery target user allocated to the first order request is allocated to a second order request and a delivery target user allocated to the second order request is changed to a non allocated user.

With this configuration it is possible to suppress complexity of the exchange process and reduce the processing load while improving the possibility of increasing the allocation score. In such three party exchange since one non allocated user and two allocated users are involved it is possible to increase the number of exchange combinations as compared to two party exchange. In this way it is possible to improve the possibility of increasing the allocation score.

The reallocating unit performs the reallocating process every predetermined period or whenever a predetermined number of order requests are received.

With this configuration since reallocation can be performed periodically it is possible to increase the number of choices for allocation of the delivery target users to the order request and to increase the possibility of accepting future order requests. Moreover by accepting order requests in the daytime and performing the reallocating process in the night it is possible to deliver the processing load of the advertisement delivery management apparatus . Moreover the exchange process is executed whenever a predetermined number of order requests are received.

The reallocating unit performs the reallocating process when the number of non allocated users is a predetermined value or smaller.

With this configuration by not performing the reallocating process when there are many non allocated users it is possible to reduce the processing load of the advertisement delivery management apparatus .

The reallocating unit performs the reallocating process by using a combination of two or more user attributes of which the frequency designated in the advertisement delivery order request is a threshold value or more as one user attribute.

With this configuration the user attributes can be allocated to the order request using a combination of two or more user attributes of which the frequency designated in the order request is a threshold value or more. In this way it is possible to increase the possibility of accepting future advertisement delivery orders and to suppress the loss of sales opportunity.

The advertisement delivery management apparatus may be realized as a plurality of server computers and depending on a function may be realized by calling an external platform using an application programming interface API or network computing. That is the configuration of the advertisement delivery management apparatus can be flexibly changed. Moreover the advertisement delivery management apparatus and the information delivery apparatus may be realized as one server computer.

According to an aspect of the embodiment it is possible to provide an advertisement delivery management apparatus and an advertisement delivery management method capable of appropriately allocating delivery target users to advertisement delivery orders.

Although the invention has been described with respect to specific embodiments for a complete and clear disclosure the appended claims are not to be thus limited but are to be construed as embodying all modifications and alternative constructions that may occur to one skilled in the art that fairly fall within the basic teaching herein set forth.

