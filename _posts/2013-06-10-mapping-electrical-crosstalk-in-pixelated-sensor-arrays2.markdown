---

title: Mapping electrical crosstalk in pixelated sensor arrays
abstract: The effects of inter pixel capacitance in a pixilated array may be measured by first resetting all pixels in the array to a first voltage, where a first image is read out, followed by resetting only a subset of pixels in the array to a second voltage, where a second image is read out, where the difference in the first and second images provide information about the inter pixel capacitance. Other embodiments are described and claimed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09596460&OS=09596460&RS=09596460
owner: CALIFORNIA INSTITUTE OF TECHNOLOGY
number: 09596460
owner_city: Pasadena
owner_country: US
publication_date: 20130610
---
This application is a divisional of U.S. patent application Ser. No. 12 009 959 filed on Jan. 18 2008 and incorporated herein by reference in its entirety.

The invention claimed herein was made in the performance of work under a NASA contract and is subject to the provisions of Public Law 96 517 35 USC 202 in which the Contractor has elected to retain title.

For some systems employing pixilated sensor arrays or MEMS Micro Electrical Mechanical Systems arrays it is desirable to measure the capacitance at each element pixel in the array. For example the detection of electromagnetic radiation comprises several steps including photon capture collection of photo generated charges and sensing the corresponding voltages. Capacitive coupling between pixels may induce errors in their corresponding sensed voltages which may lead to inaccurate image values. This capacitive coupling may affect the electronic gain and linearity of each pixel. Capacitive coupling causes the photo generated charge on a pixel to induce a voltage on one or more adjacent or nearby pixels leading to cross talk when the voltages are sensed.

For some systems employing pixilated sensor arrays or MEMS Micro Electrical Mechanical Systems arrays it is desirable to measure the capacitance at each element pixel in the array. For example the detection of electromagnetic radiation comprises several steps including photon capture carrier diffusion collection of photo generated charges and sensing the corresponding voltages. Capacitive coupling between pixels may induce errors in their corresponding sensed voltages which may lead to inaccurate image values. This capacitive coupling may affect the electronic gain and linearity of each pixel. Capacitive coupling causes the photo generated charge on a pixel to induce a voltage on one or more adjacent or nearby pixels leading to cross talk in the sensed voltages in each pixel.

It is desirable to provide a map of capacitive coupling for all elements in a pixelated array which may be useful in calibration procedures.

In the description that follows the scope of the term some embodiments is not to be so limited as to mean more than one embodiment but rather the scope may include one embodiment more than one embodiment or perhaps all embodiments.

Depicted in pictorial form in is a subset array of pixels denoted by dashed rectangle . This subset is modeled as indicated in dashed rectangle as a set of nodes each one having a node capacitance to ground substrate . A node with a capacitor to ground represents a pixel. The model of indicates capacitive coupling between center pixel and its four nearest neighbor pixels. The model indicated by is overly simplified because it does not explicitly show all pairs of coupling capacitors between the pixels and does not show capacitive coupling to pixels that are not nearest neighbors. In practice there may be capacitive coupling between a pixel and its next to nearest neighboring pixels as well as other pixels.

Pixel is modeled at the circuit level within dashed rectangle . Pixel comprises reset transistor photodetector and transistor configured as a source follower buffer . The source terminal of transistor is connected to other circuit components such as a readout circuit but for simplicity such a connection is not shown. The output voltage V is taken at the source terminal of transistor . When the reset voltage on the gate of transistor is HIGH transistor is turned ON to provide a reset voltage to photodetector so that the capacitance of photodetector is charged. In the capacitance for photodetector is shown as a capacitor from a node to ground. After reset transistor is turned OFF. During image capture photons absorbed by photodetector cause electron hole pairs which discharge the capacitance. During readout the output voltage Vis indicative of this charge.

Pixels for other embodiments may be modeled differently than as illustrated in . That is some embodiments may utilize pixels in which the model of is not applicable or where other models may be more accurate.

Embodiments provide results indicative of capacitive coupling in a sensor array by reading out all pixel voltages when each pixel in the array has been reset to a first reset voltage and by reading out all pixel voltages when a second reset voltage different from the first reset voltage is used to reset only those pixels in a subset of the pixels in the array. The pixels not in the subset are reset to the first reset voltage. During this procedure it is not necessary that the array is sensing an applied image so that the embodiments may be utilized when the sensor array is kept dark. This procedure may be repeated for various subsets so that for some embodiments each pixel would have had an opportunity to be reset at the second reset voltage. Signal processing schemes may be applied to these pixel voltages to provide metrics indicative of the capacitive coupling.

To describe one or more embodiments in more detail it is convenient to consider that the pixels and their corresponding voltages in a sensor array may be indexed according to their row and column numbers. Accordingly let v i j denote the output voltage of a pixel at position i j obtained from a readout when all pixels in the array have been reset to voltage v and let v i j denote the output voltage of a pixel at position i j obtained from a readout when all pixels but some subset in the array have been reset to voltage v and where the pixels in the subset have been reset to voltage v.

Suppose the index i ranges over the integer set 1 2 . . . N and the index j ranges over the integer set 1 2 . . . M. To make the notation concise these integer sets may be denoted as I and J respectively. Accordingly the set v i j i I j J may be considered an image and likewise the set v i j i I j J may be considered another image. An ensemble of such images may be accumulated so that average or baseline images may be provided. That is for some embodiments multiple readouts of the entire array of pixels are made to provide an ensemble of voltages v i j and v i j followed by averaging to provide an average of v i j over the ensemble and an average of v i j over the ensemble. Additional notation could be added to v i j and v i j to denote their averages but for ease of presentation such additional notation will not be introduced. In light of this it should be noted that when considering the description below that for some embodiments v i j and v i j may represent averages over an ensemble of measurements.

A difference v i j v i j may be calculated for each index pair i j to provide a set of differences. This set of differences which may be termed a difference image is indicative of the capacitive coupling between pixels and may depend upon the particular choice of subset of pixels that were reset to the voltage v. It is convenient to denote this dependence by introducing s to represent a subset of pixels. The difference d i j s v i j v i j may then be calculated for each pair i j for some subset s. This gives a set of differences s d i j s i I j J. A family of such sets may be provided by performing the above described procedure for a family of subsets. The family of subsets may be chosen to cover the entire array.

As a particular example a subset may be chosen such that each pixel in the subset is separated from its nearest neighbor by 6 pixels. That is we might choose a subset comprising pixels at positions i j i 1 7 14 21 . . . j 1 7 14 21 . . . . There will be edge effects so for simplicity assume that N and M are multiples of 7. This subset may be denoted as s. Another subset may be chosen by shifting this subset by one position either in a row direction or a column direction unless of course the edge of the array has already been bumped into. For example a second subset may be the set of positions i j i 2 8 15 22 . . . j 1 7 14 21 . . . . This subset may be denoted as s. This process may be repeated each time shifting a subset to obtain a new subset so that the family of all subsets covers the entire array.

In the absence of a gradient in either the first or second reset voltages across the imager or alternatively in the presence of an identical gradient in both the first and second reset voltages the voltage coupling for each pixel may be directly determined from the difference image s d i j s i I j J. For the ideal case in which there is no capacitive coupling the image would only have the difference voltage for the pixels that had the second reset voltage applied. If coupling is present then this difference image will directly give the sum of the coupling voltages from all coupling interactions in pixels surrounding the reset pixel. Thus there is not only the effect of the reset pixel on the nearest neighbor pixels but also the sum of the change in the nearest neighbors and the central reset pixel on the next nearest neighbor and vice versa.

There may be embodiments for which a gradient in the first reset image is not cancelled out by the second reset image or vice versa. If the gradient is in voltage only the resulting image still gives the voltage to voltage coupling accurately but at voltage differences that correspond to the gradient. If the gradient is in the illumination then the voltage to voltage coupling may be analyzed by an iterative solution that uses the preferred electronic gain calculation to convert the gradient in illumination to a voltage followed by calculating the induced coupling and then re calculating the correct electronic gain per pixel. This procedure may be repeated until convergence is achieved. This latter approach should also be performed if there is significant non linearity in the output voltage of the pixels relative to the two pixel values in the before and after images.

For some embodiments the set s d i j s i I j J may be processed to mitigate effects due to local spatial variation in the array. For some embodiments this procedure may be described as follows. The array may be divided into a contiguous family of cells each cell being a contiguous set of pixels that includes one and only one pixel belonging to the subset s. That is there is a one to one correspondence between the pixels in the set s and the set of cells. Except near the edges of the array for some embodiments the center of a cell may be the pixel in that cell belonging to s. Generally given a pixel position k l that belongs to the subset s the cell associated with k l are those i j for which the distance between k l and i j is less than or equal to the distance between i j and any other pixel in the subset s. illustrates this where the dots in array represent a portion of the subset of pixels s that are reset to v. The dashed lines divide the array into cells. Not all cells are shown. 

About each pixel belonging to the subset s a locus of pixels may be defined where the locus is inside the cell associated with the pixel. For example locus is drawn around pixel in . Of course the locus is not continuous but is meant to represent the set of pixels within a cell that are at some given distance from the pixel in the cell belonging to the subset s. For cells near the edge the corresponding locus may be truncated by the edge.

For any pixel position i j there is one and only one cell containing i j and that cell contains a pixel position that also belongs to the subset s. Denote this pixel position as i j . It depends also upon the choice of subset s. Note that if the pixel position i j belongs to the subset s then i i and j j. For the particular example in i j is in the center of the shown cells. For the cell containing i j an average over the locus associated with that cell may be calculated. More specifically for any pixel position i j let i j s denote the average of the values d m n s on the locus of points m n associated with the cell containing i j . With this notation in mind some embodiments provide the values

For each subset s the set circumflex over s circumflex over d i j s I I j J may be calculated as discussed above. Furthermore a family of these sets may be calculated for a family of subsets s that cover the array. This family of sets may provide information about the capacitive coupling among pixels in an array and to what degree capacitive coupling is important as a function of intra pixel distance. For example for a particular subset s all circumflex over d i j s for which i j and i j are nearest neighbors provides information about the capacitive coupling among nearest neighbors all circumflex over d i j s for which i j and i j are next to nearest neighbors provides information about the capacitive coupling among next to nearest neighbors and so forth. As a result histograms may be generated based upon this family of sets yielding information about the degree of capacitive coupling. For some arrays such histograms may show that capacitive coupling is not important for sufficiently large intra pixel distance. For example for some embodiments capacitive coupling has been found to be important only for nearest neighbors.

Some embodiments may provide a voltage to voltage coupling factor for next neighbors and next to nearest neighbors. For example for a regular two dimensional array ignoring edge effects pixel i j has four nearest neighbors pixels i 1 j i 1 j i j 1 and i j 1 and four next to nearest neighbors pixels i 1 j 1 i 1 j 1 i 1 j 1 and i 1 j 1 . Let k and l denote relative pixel index values such that d k l s references voltage differences for the nearest and next to nearest neighbors to pixel i j . That is the k l index pairs 1 0 1 0 0 1 and 0 1 delineate the nearest neighbors to pixel i j and the k l index pairs 1 1 1 1 1 1 and 1 1 delineate the next to nearest neighbors to pixel i j . With this notation some embodiments may provide coupling factors D k l s where

One may obtain ratios for the coupling capacitors relative to their adjacent diode capacitors for the pixel array of interest using the set of coupling factors even for the general case where all of the diode capacitances and all of the coupling capacitances are assumed to vary among each other. One may use iterative algorithms e.g. simulated annealing to independently calculate the capacitance values. There may be simpler algorithms e.g. perturbation methods for more restricted assumptions such as for the assumption of equal diode capacitances and equal coupling capacitances. An imager average nodal capacitance may be available from conversion gain measurements. Deviations of diode capacitance values may be small relative to the average and coupling capacitance values may be small relative to the diode capacitances.

One may obtain ratios for the coupling capacitors relative to their adjacent diode capacitors even for the general case where all of the diode capacitances and all of the coupling capacitances are assumed to vary among each other. One may use iterative algorithms e.g. simulated annealing to independently calculate the capacitance values. There may be simpler algorithms e.g. perturbation methods for more restricted assumptions such as for the assumption of equal diode capacitances and equal coupling capacitances. An imager average nodal capacitance may be available from conversion gain measurements. Deviations of diode capacitance values may be small relative to the average and coupling capacitance values may be small relative to the diode capacitances.

Green s function methods or matrix inversion methods may be used to calculate both diode and coupling capacitances under more constrained experimental conditions such as for example a uniform flat field only single pixel reset and uniformity of all coupling capacitances and separately uniformity of all diode capacitances. Separate kernels may be used to obtain the corresponding charge to voltage coupling factors.

Various modifications may be made to the disclosed embodiments without departing from the scope of the invention as claimed below. For example instead of setting all the pixels to the first voltage vbefore selectively setting a subset to the second voltage v for some embodiments a flat field may be imaged so that all the pixels accumulate a first charge g. For such embodiments one may perform an iterative analysis where to calculate an implied voltage coupling calculate the implied capacitance correction then perform a localized background subtraction to remove illumination non uniformities and then re calculate the voltage coupling until convergence of the calculated coupling value. Furthermore for some embodiments instead of setting the subset of pixels to the second voltage v a beam spot may be used to illuminate only the pixels in the subset one at a time or a patterned beam may be used to evenly illuminate the pixels in the subset more than one at a time so that the subset accumulates a second charge q. Similar remarks as discussed with respect to analysis for the flat field also apply to the analysis of the subset of pixels.

Furthermore some embodiments may not utilize a flat illumination field and for some embodiments the subset of pixels need not be a regular spaced sub array.

Some of these procedures are illustrated in the flow diagram of where in process all the pixels are set to the first voltage v or in the case of a different procedural mode all the pixels are instead illuminated with a flat field so that all the pixels accumulate the first charge g. In process the image is acquired. In process some pre selected subset of the pixels in the array are set to the second voltage v or in the case of a different procedural mode the pixels in this subset are instead illuminated to accumulate the second charge q. In process a new image is acquired and a difference image is formed by taking the difference between the previously acquired image and the new image. In process the subset of pixels is shifted as discussed earlier and control is brought back to process . The procedure stops when the family of all subsets has covered the array.

Throughout the description of the embodiments various mathematical relationships are used to describe relationships among one or more quantities. For example a mathematical relationship or mathematical transformation may express a relationship by which a quantity is derived from one or more other quantities by way of various mathematical operations such as addition subtraction multiplication division etc. Or a mathematical relationship may indicate that a quantity is larger smaller or equal to another quantity. These relationships and transformations are in practice not satisfied exactly and should therefore be interpreted as designed for relationships and transformations. One of ordinary skill in the art may design various working embodiments to satisfy various mathematical relationships or transformations but these relationships or transformations can only be met within the tolerances of the technology available to the practitioner.

Accordingly in the following claims it is to be understood that claimed mathematical relationships or transformations can in practice only be met within the tolerances or precision of the technology available to the practitioner and that the scope of the claimed subject matter includes those embodiments that substantially satisfy the mathematical relationships or transformations so claimed.

