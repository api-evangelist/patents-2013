---

title: High density hybrid storage system
abstract: A system includes a linear storage media tier; a second storage tier having higher performance than the linear storage media tier; a data controller for moving data between the tiers; and a host interface responsive to disk and/or network storage commands. The linear storage media tier includes: a rest area for storing reels having linear media thereon, at least one linear media drive configured for reading and/or writing the linear media, and at least one robot for transporting the linear storage media between the rest area and the at least one linear media drive. The robot moves along a first surface via contact with the surface. A system according to another embodiment includes a linear storage media tier characterized by having a read access time to any block of data stored on any reel in the rest area in less than 10 seconds.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09263082&OS=09263082&RS=09263082
owner: International Business Machines Corporation
number: 09263082
owner_city: Armonk
owner_country: US
publication_date: 20130130
---
The present invention relates to data storage systems and more particularly to hybrid storage systems having tiers of data storage.

In magnetic storage systems data are read from and written onto a magnetic recording medium utilizing magnetic transducers. Data are written on the magnetic recording medium by moving a magnetic recording transducer to a position over the medium where the data are to be stored. The magnetic recording transducer then generates a magnetic field which encodes the data into the magnetic medium. Data are read from the medium by similarly positioning the magnetic read transducer and then sensing the magnetic field of the magnetic medium. Read and write operations may be independently synchronized with the movement of the medium to ensure that the data can be read from and written to the desired location on the medium.

In a tape drive system magnetic tape is moved over the surface of the tape head at high speed. Usually the tape head is designed to minimize the spacing between the head and the tape. The spacing between the magnetic head and the magnetic tape is crucial so that the recording gaps of the transducers which are the source of the magnetic recording flux are in near contact with the tape to effect writing sharp transitions. Also when the read element is in near contact with the tape effective coupling of the magnetic field from the tape to the read element is possible.

In the near future with the adoption of improved media the cost of storing information on a per byte basis on tape is expected to decline by a factor of five or more with respect to magnetic disk. Also short term and long term reliability will continue to favor tape based storage. Furthermore as more mass storage is allocated to cloud networks most storage will be in large libraries rather than on individual drives which is a consideration favoring tape based storage. One historical disadvantage of tape based storage with respect to disk based storage was the relatively poor access time associated with tape based storage with the time required to bring the tape to the tape drive and then spool the tape to the file location typically averaging about 40 seconds.

A system according to one embodiment includes a linear storage media tier a second storage tier having higher performance than the linear storage media tier a data controller for moving data between the tiers and a host interface responsive to disk and or network storage commands. The linear storage media tier includes a plurality of reels having linear media thereon a rest area for storing the reels when the reels are not in use at least one linear media drive configured for reading and or writing the linear media and at least one robot for transporting the linear storage media between the rest area and the at least one linear media drive. The robot moves along a first surface via contact with the surface.

A system according to another embodiment includes a linear storage media tier and a host interface responsive to disk and or network storage commands. The linear storage media tier includes a plurality of reels having linear media thereon a rest area for storing the reels when the reels are not in use at least one linear media drive configured for reading and or writing the linear media. A performance of the linear storage media tier is characterized by having a read access time to any block of data stored on any reel in the rest area in less than 10 seconds.

Other aspects and embodiments of the present invention will become apparent from the following detailed description which when taken in conjunction with the drawings illustrate by way of example the principles of the invention.

The following description is made for the purpose of illustrating the general principles of the present invention and is not meant to limit the inventive concepts claimed herein. Further particular features described herein can be used in combination with other described features in each of the various possible combinations and permutations.

Unless otherwise specifically defined herein all terms are to be given their broadest possible interpretation including meanings implied from the specification as well as meanings understood by those skilled in the art and or as defined in dictionaries treatises etc.

It must also be noted that as used in the specification and the appended claims the singular forms a an and the include plural referents unless otherwise specified.

The following description discloses several preferred embodiments of data storage systems as well as operation and or component parts thereof.

In one general embodiment a system includes a linear storage media tier a second storage tier having higher performance than the linear storage media tier a data controller for moving data between the tiers and a host interface responsive to disk and or network storage commands. The linear storage media tier includes a plurality of reels having linear media thereon a rest area for storing the reels when the reels are not in use at least one linear media drive configured for reading and or writing the linear media and at least one robot for transporting the linear storage media between the rest area and the at least one linear media drive. The robot moves along a first surface via contact with the surface.

In another general embodiment a system includes a linear storage media tier and a host interface responsive to disk and or network storage commands. The linear storage media tier includes a plurality of reels having linear media thereon a rest area for storing the reels when the reels are not in use at least one linear media drive configured for reading and or writing the linear media. A performance of the linear storage media tier is characterized by having a read access time to any block of data stored on any reel in the rest area in less than 10 seconds.

Conventional linear media e.g. tape systems are designed for sequential access performance and thus can have random read access times in excess of 1 minute which limits their usage as disk access software stacks typically have a maximum access time limit of 20 30 seconds after which it times out. Reducing the tape length can potentially achieve mean access times close to this limit but leaves no room for unanticipated delays makes it difficult to support a queue and significantly increases costs.

A new system architecture for linear media storage that supports access times short enough to communicate through a disk access software stack without causing timeouts is desirable and described herein. The embodiments and or methods described and or suggested herein preferably solve at least two problems associated with achieving liner media access times short enough for use with a disk software stack random reads and random writes. According to one approach random reads may be improved by designing a robot access mechanism and a linear tape storage and read write system capable of retrieving a block of data from a random location in the system in a time substantially shorter than the disk stack timeout of the software in use therewith. One such robotic system is described in more detail below with reference to . In brief such a system uses a set of mobile robots to move linear media holders from a storage area to a read device such as a media drive. In some embodiments a read device may include one or more winding stations which pre position the linear media near the desired target location prior to threading the media into the media drive. Such an arrangement allows for improved throughput by pipelining operations. Other approaches include high speed pick and place robots.

The time to locate a data set on the linear media in various embodiments may be much faster than current systems. One aspect to achieving this is to be able to utilize the media in short lengths in combination with a fast locate mechanism. Media lengths in the tens of meters combined with locate speeds of 20 m s or more can achieve locate speeds shorter than 1 second on average once the medium is mounted to a media drive. Thus the total time from receipt of a read request until the data is returned to the host may be designed to be significantly shorter than the disk stack timeout mentioned above. Such a fast access speed allows the system to support queuing thus the performance can be scaled by adding additional read units e.g. media drives. Some embodiments of such a system can achieve read access times of about 2 seconds or less on average.

Moreover though conventional linear media systems are not optimized for random write operations various embodiments and or methods described and or suggested herein may accommodate random writes by converting them to a sequential write steam such as by using log structure writes but is not limited thereto. Such a system may preferably allow random writes to occur nearly at the speed of sequential writes. Thus the random write speed can significantly exceed the random read speed. Moreover a management layer may be used to process the writes and convert them to sequential format. This may reduce the cost of the system as fewer write drives are required to achieve a given level of random write performance. Alternatively this may increase the read throughput of the system because more of the media drives may be allocated for reading operations that writing operations e.g. where such drives are capable of both reading and writing.

To facilitate conversion of random writes to sequential writes an embodiment may include a system having a write buffer cache preferably in addition to a read cache to improve the read performance of the system. Both of these caches may preferably utilize any media with higher random access performance than the linear media such as one or more random access and or direct access media which may include hard disks solid state storage dynamic random access memory DRAM flash memory nonvolatile memory NVM etc. and or others noted herein and or known in the art.

Thus the linear media can be thought of as present in a linear storage media tier and the buffer caches may be thought of as a second storage tier having higher performance than the linear storage media tier. Referring to the present description performance may preferably be in terms of delay from a data request e.g. from a host or storage network to the actual reading and or writing of the data on the desired storage medium per such request. Without wishing to limit the invention in any way in various approaches a read and or write request received by a storage system may initiate a process or operation in response to the request.

Moreover the second storage tier may itself include a plurality of performance storage tiers such as a combination of hard disk and or solid state storage. Furthermore the linear storage media tier may also include a plurality of performance storage tiers. Therefore depending on the desired embodiment different tasks for the second storage tier and or the linear storage media tier may be performed in different performance storage tiers therein having higher lower or the same performance as each other.

Referring now to the functional block diagram includes a linear storage media tier which includes the Linear Media Storage Modules and a second storage tier which includes the Write Buffer Cache and or the Read Cache .

With continued reference to a Host or Storage Network and a Management Interface both of which are connected to the storage system . The Host or Storage Network may preferably control operations for the storage system e.g. convey write requests read requests etc. while the Management Interface preferably controls logistical information of the storage system including but not limited to data ownership data partitioning data sensitivity etc. Although not shown the Host or Storage Network and or Management Interface may also be connected or accessible to a host a user an administrator computing device etc. which may provide requests to be processed by the storage system .

According to various approaches such requests may include write requests read requests etc. or any other request which would be apparent to one skilled in the art upon reading the present description. In a preferred approach the system may include a host interface that is responsive to disk and or network commands explained in further detail below . In addition and or alternatively the host interface may be responsive to tape storage commands e.g. from the Host or Storage Network . In an illustrative approach the host interface may be responsive to disk and or network storage commands from a disk and or network storage interface e.g. on a host in a storage controller of a storage network etc. in communication therewith. In one illustrative approach communications between the Host or Storage Network and the storage system may be made via any known mechanism including fibre channel bussing a network such as a storage area network SAN Serial ATA SATA Serial Attached SCSI SAS Representational State Transfer REST systems Network Attached Storage NAS object storage etc. and combinations thereof.

Referring to the present description the Host or Storage Network and or Management Interface may be connected to the storage system via a wire cable fibre bus configuration wirelessly etc. depending on the desired embodiment. Moreover any other connection with reference to the description of may include a fibre wire cable bus configuration wirelessly etc. depending on the desired embodiment.

According to an exemplary embodiment the Host or Storage Network of may be represented by any of the networks of . Moreover a host interface not shown and or storage system of may be represented by the user devices and or data server of respectively. Thus as illustrated in the networks connecting user devices and data server may represent the Host or Storage Network connection between the host interface not shown and storage system of .

With continued reference to the functional block diagram further includes a Front End Driver which may be or be part of the host interface. Thus the Front End Driver is connected to the Host or Storage Network and preferably relays data and or commands received from the Host or Storage Network to a data controller such as the Cache Manager . According to various approaches the Front End Driver may include any driver which would be apparent to one skilled in the art upon reading the present description and or that can be readily created by one skilled in the art upon reading the present description.

The Cache Manager may process stored data and or received data. The Cache Manager and or any other component of the storage system may be implemented in hardware and or software and may make use of a processor not shown for executing commands of a type known in the art such as a central processing unit CPU a field programmable gate array FPGA an application specific integrated circuit ASIC etc. Of course any arrangement of a storage system may be used as will be apparent to those of skill in the art upon reading the present description.

In different approaches the Cache Manager may process data stored in the Linear Media Storage Modules the Redundant Array of Independent Disks RAID Module the Mapping Tables etc. In other approaches the Cache Manager may process data received from the Host or Storage Network e.g. via a write request. Thus depending on different process requests relayed from the Host or Storage Network the Cache Manager may perform different operations. For example a write request may initiate a write process as will soon become apparent where a read request may initiate a read process which will be explained in further detail below. According to other approaches requests received by the Cache Manager may also include written data write mapping erase requests status requests etc. or combinations thereof.

With continued reference to a write request may be received by the Cache Manager preferably regarding data to be stored within the storage system . According to an example which is in no way intended to limit the invention a write request received by the Cache Manager may include random access input write data. In other approaches a write request may include linear data sequential data random data etc. or any other form of data which would be apparent to one skilled in the art upon reading the present description.

The Cache Manager may determine whether a RAID function and or other reconstruction operations should be applied to the write request data e.g. by using the RAID Module preferably before the data is written. As illustrated in the Cache Manager is connected to the RAID Module whereby data may be encoded and or decoded therebetween e.g. by applying the RAID function. The RAID function may preferably be applied to received write data as reliability of the overall system may be enhanced by the inclusion of the RAID function. Moreover the RAID function may be used to protect data regardless of its desired storage location. In another approach the RAID function may be applied to data stored within the storage system before being returned e.g. in response to a read request. According to one approach the RAID function may change data from random data to sequential data but may incorporate any other combination of data forms listed herein.

The Cache Manager preferably presents itself to attached hosts as a disk storage controller. The Cache Manager can expose the storage space as virtual disks VDISK which allows the thin provisioning and extensibility of storage.

According to another approach although the data and or meta data may be RAID protected on the second storage tier it may also be desirable to have the data written to linear media to be self describing. By self describing what is meant is that it is possible to recover all the state information required to properly identify a data block by reading information from the linear media tier. In one illustrative embodiment the system will conform a self describing index of the data contained within the linear storage tier which can be used to efficiently recover mapping information describing the set of extents written to that tier and unambiguously identify them as belonging to a particular virtual disk as well as to identify the logical block address LBA or equivalently the logical extent number within the VDISK. In a further approach the VDISK may be managed and or updated by the VDISK Manager .

In a preferred approach data pertaining to a write request may be stored in the linear storage media tier e.g. written to linear tape in the Linear Media Storage Modules . However according to different approaches data pertaining to a write request may be stored in the Write Buffer Cache the Read Cache etc. or any combination thereof e.g. in part a majority etc. depending on the desired embodiment. In one approach data may be stored in a given media within the storage system depending on the data s importance size request frequency etc. According to an example which is in no way intended to limit the invention the storage system may receive random access input write data for a write request e.g. from a host and convert the random access input write data to sequential data as described above. Moreover the sequential data may then be stored on the linear media in the Linear Media Storage Modules . If the data is expected to be read out soon and or frequently the write data may also and or alternatively be stored in the read cache for faster access.

With continued reference to the Cache Manager may also control movement of data between the second storage tier e.g. the Write Buffer Cache and the linear storage media tier e.g. the Linear Media Storage Modules . In one approach the Cache Manager may select data from separate write requests to be combined together for a common write operation. Thus the Cache Manager may preferably allow for the write data associated with several random access write requests to be accumulated in the second tier prior to being moved e.g. written to the linear storage media tier. In one approach the write data accumulated in the Write Buffer Cache may be accumulated in the second storage tier such that at least an integer number of full wraps of tape on a tape reel are written to the linear media in a single pass regardless of the tape reel dimensions. Thus if the write data accumulated in the second tier does not equate to at least an integer number of full wraps of tape on the tape reel the write data may preferably be held in the second tier until the write data accumulated therein does equate to at least an integer number of full wraps of tape on the tape reel. This may reduce the overall write time and increase the system s write efficiency by combining and thereby minimizing tape reel retrievals explained in further detail below . Perhaps more importantly this helps increase the areal density of the tape corresponding to an increase in capacity. However in other approaches which are in no way intended to limit the invention the write data accumulated in the second tier may be held there until a different benchmark is met including but not limited to a time limit an urgency level user override a request etc.

In a further embodiment the write data is streamed directly to the linear storage media tier rather than being accumulated in the second tier prior to being moved to the linear storage media tier. In such approach a second tier may or may not be present in the system.

Therefore incorporating a data controller e.g. the Cache Manager may allow the media block size to be larger than conventional request block sizes. This creates a more efficient linear media write process because a larger write request which may incorporate multiple smaller write requests is more efficient than performing each of the multiple smaller write requests individually within the Linear Media Storage Modules as will soon become apparent.

The Linear Media Storage Modules may include any configuration described and or suggested herein particularly in view of the description of below. Thus referring to linear media i.e. tape may preferably be wound on tape reels also referred to herein as spools. The tape reels may lie on a lower surface such as a floor of a rest area for storing the reels when the reels are not in use. According to different approaches the rest area may have one level more than one level etc. as explained below and may further include but is not limited to ramps to preferably provide for the movement of linear media between the levels. The rest area is preferably a horizontal surface on which the tape reels rest however in other approaches the rest area may incorporate a vertical angled terraced stacked etc. surface or combinations thereof. In such alternate approaches the tape reels may be attached to and or supported by the rest area by using hooks lips magnets shelves sleeves posts etc. or some other design to counteract the force of gravity on the tape reels if desired.

With reference to the mobile robots may maneuver on an upper surface via contact with that surface such as having drive wheels and magnetic attraction between the mobile robot and the upper surface or portions of the upper surface see . Therefore a library of tape reels may lie on a lower surface such as a floor while a mobile robot maneuvers on the upper surface. The robots can pick up tape reels and move them to other locations such as from the rest area to a winding station or a media drive depending on the desired embodiment.

Referring again to the Linear Media Storage Modules of they may also have a mechanism for selectively moving the reels from the rest area for engagement with at least one robot. According to various approaches the mechanism may include a retractable arm a magnet a suction device etc. As illustrated in the mechanism may include but is not limited to a reel gripper which may move the reels vertically from a horizontal rest area for engagement with the at least one mobile robot thereabove.

With continued reference to the data storage system may include a Robot Control . As illustrated in the Robot Control is preferably in communication with the Linear Media Storage Modules and may control and or manage the mobile robots therein. In various approaches the Robot Control may control and or manage normal operating conditions high traffic conditions damage situations overflow high priority requests etc. or any other situation which would be apparent to one skilled in the art upon reading the present description. The Robot Control may additionally be connected to any other portions of the Storage System e.g. to receive commands updates information etc. therefrom. Additionally the Robot Control may be connected to a host a user an administrator computing device etc. which may provide requests to be processed by the Robot Control . Moreover the linear storage media tier may have a control unit not shown which may implement host communication data management control functions etc.

Furthermore as referred to above the Cache Manager may allow for a more efficient linear media write process due to the fact that a large write request includes multiple smaller write requests in some embodiments. For example which is in no way intended to limit the invention a larger write request out to the linear storage media tier incorporating multiple smaller write requests from a host includes aggregating the smaller write requests into the larger write request and finding loading writing and replacing a tape reel only once whereas if each of the multiple smaller write requests were performed individually multiple tape reels would be found loaded written to and replaced for each of the multiple smaller write requests. Therefore including such functionality in the data controller e.g. Cache Manager reduces the write time power consumption wear etc. thereby improving system performance and allowing for separate optimization of performance and capacity.

To further increase a storage system s performance additional drives may be included in any tier of the system.

In one illustrative embodiment access performance of the linear storage media tier is characterized by allowing data to be retrieved from anywhere in the system within an access time limit of the disk and or network storage interface.

In another illustrative embodiment a performance of the linear storage media tier of a memory storage system may be characterized by having a read access time to a block of data stored on a given reel in the rest area in less than 10 seconds. More preferably the performance of the linear storage media tier may be characterized by having a read access time to any block of data stored on any reel in the rest area in less than 30 seconds preferably less than 20 seconds and ideally less than 10 seconds. The fast read access times and write times for the linear storage media tier may allow it to function in combination with a higher performance tier e.g. the second tier. Thus one or more of the Linear Media Storage Modules may include at least two drives e.g. linear media drives. According to one approach at least one of the linear media drives may be configured for both reading and writing the linear media. Thus a read and or write request may not be limited based on which drives are being used at a given time and multiple operations may be processed at the same time regardless of whether they are read or write operations. In one illustrative example read operations may be directed to drives not already performing operations. This allows for reading and writing to occur simultaneously thereby avoiding an interruption to the write process while also preventing the reading process from being delayed until the writing has been completed or vice versa. For example if a drive is used for a write or read operation request it may subsequently be used for a write or read operation request if desired.

Although physical drives may be capable of both reading and writing linear media it may be preferable for a given drive or drives to perform only one of these operations i.e. reading or writing for an extended period of time. Additionally there may be a cost advantage in having separate linear media drives due to the reduced amount of electronics heads etc. Moreover since the sequential write method provides higher effective random write performance system cost may be reduced by combining a number of write drives with a larger number of read only drives. Thus it may be preferable for at least a subset a majority all etc. of the drives in a linear storage media tier to be optimized for writing or reading exclusively.

As explained herein achieving access times less than about 10 seconds and preferably near about 1 second allows for the use of queuing. The response time for a queued IO can also be improved by overlapping operations thereby further improving performance by increasing throughput. Thus a plurality of mobile robots may be used in a system e.g. the linear storage media tier which may utilize the plurality of robots in overlapping operations to increase a data throughput of the system.

With continued reference to write data corresponding to write requests may be accumulated in the Write Buffer Cache of the second tier prior to being moved e.g. written to the linear storage media tier thus the Write Buffer Cache may serve as a queue. In a preferred approach the Write Buffer Cache may format the write data as log writes before sending the write data to the Media Volume Manager connected thereto as shown in . Log writes preferably allow for data to be sequentially written to the linear media regardless of the data s form received by the write request. Thus data pertaining to multiple write requests accumulated in the second tier may implement a log format and be written sequentially.

According to an illustrative example which is in no way intended to limit the invention write requests A Dand Fmay be received and grouped by the Cache Manager in the Write Buffer Cache before being written to the linear storage media tier. The data pertaining to write requests A Dand Fmay be continuations of the data from previously executed write requests A Dand Frespectfully which may already be written to separate locations within the linear storage media tier e.g. on different portions of different tape reels. Rather than performing write requests A Dand Fonly after retrieving the data from each write request A Dand Findividually log writes allow for the data pertaining to write requests A Dand Fto be written sequentially on the most efficiently accessible portion of linear media within the linear storage media tier or any other desired location within the linear storage media tier. The locations of the data pertaining to write requests A Dand Fon the linear storage media may be stored in the mapping tables .

In a system utilizing mobile robots to pick and place the linear media as illustrated in having more than one robot service a drive in overlapping operations can improve the read throughput. This is possible because a first robot can be returning a first tape from the drive to the rest location while a second robot is delivering a second tape from its rest location to the drive. Therefore as described above in reference to a system may include at least one at least two multiple etc. mobile robots for transporting the linear storage media between the rest area and the at least one linear media drive. The mobile robots may preferably transport the linear storage media by retrieving at least one tape reel and moving it to a desired location e.g. a winding station a drive the rest area etc. According to various approaches the mobile robots may include but are not limited to any mobile robot described and or suggested herein depending on the desired embodiment.

Other operations may be overlapped as well. For example referring back to at least one winding station may be included for performing coarse locate operations on the tape reels prior to the reels being mounted to the tape drive for read and or write operations and subsequent rewind operations. In a preferred approach coarse locate operations may include locating particular portions of the tape stored on a given tape reel in a minimized time. Moreover the coarse locate operations may be conducted while other reels are being read and or written to thereby overlapping operations. For example which is in no way intended to limit the invention a tape reel may have a particular data set written thereon up to a certain location between ends of the tape medium at a certain wrap. To prepare the tape reel for writing thereon the coarse locate operation may quickly wind the tape until reaching a position believed to be slightly before the end of the written data. If the winding station has a head the winding station may then proceed in a slower fashion until the end of the written data is located. If the winding station does not have a head the media drive that subsequently receives the tape reel can quickly find the end of data on the tape because of the pre positioning. Thus the coarse locate operation may locate the end of written data faster than is possible using the drives directly without passing the end of the written data thereby preventing unnecessary time delay in locating the end of the written data.

In another example which is in no way intended to limit the invention coarse locate operations may be used to reduce the total time from receipt of a read request until the data is returned to the host from a tape reel. The coarse locate operations may utilize the mapped location of data written to the reels which may be stored in a map of a mapping module. This may preferably reduce the read access time to a block of data stored on a given reel explained in further detail below . Thus coarse locate operations of the at least one winding station may overlap locating operations with reading and robot motion which may result in a further increase to the utilization of the system.

To keep track of where data is stored particularly in relation to corresponding data some sort of mapping scheme is desirable. Such a mapping scheme may preferably be capable of identifying the physical location of the current version of each logical block of which the information is also referred to herein as meta data.

With continued reference to Mapping Tables are also included in the storage system . The Mapping Tables keep track of where the data and or meta data is stored in the storage system preferably such that any data may be located and accessed after it is written. In one approach this allows for the storage system to keep track of each of the possibly multiple locations that a particular data set is stored in the Linear Media Storage Modules . Thus the Mapping Tables may preferably be accessed and or updated with each write and or read request. However the Mapping Tables may be accessed and or updated after each write request has been completed before each read request is processed at timed intervals upon request e.g. from a user etc. depending on the desired embodiment.

A mapping module may be included to maintain a map e.g. a mapping table database etc. preferably in the second tier of data on the linear media. The Mapping Tables are preferably stored or cached in the second storage tier which has higher e.g. faster performance than the linear media storage tier. It may be advantageous to keep a copy of the data and or meta data in the second storage tier such that IO operations may be completed without the need for reading meta data from the slower linear media. Thus the location of an item of data can be determined without the need to access the slower liner media storage tier thereby increasing processing speed data locating speed data lookup speed etc. However according to other embodiments mapping tables may be stored in the linear media a third storage tier having any level of performance on both the second storage tier and the linear storage media tier across the second storage tier and the linear storage media tier etc.

In further embodiments the storage system may include any number of data storage tiers and may include the same or different storage memory media within each storage tier. For example each data storage tier may include the same type of storage memory media such as HDDs SSDs sequential access media tape in tape drives optical disk in optical disk drives etc. direct access media CD ROM DVD ROM etc. or any combination of media storage types. In one such approach a second storage tier may include a majority of SSD storage media for storing data in a higher performing storage environment and remaining storage tiers including linear storage media tiers and or any additional storage tiers may include any combination of SSDs HDDs tape drives etc. for storing data in a lower performing storage environment. Therefore more frequently accessed data data having a higher priority data needing to be accessed more quickly etc. may be stored to the second storage tier while data not having one or more of these attributes may be stored in any of the additional storage tiers including a linear storage media tier. Of course one of skill in the art upon reading the present descriptions may devise many other combinations of storage media types to implement into different storage schemes according to the embodiments presented herein.

As a further aid to disaster recovery it may be advantageous to checkpoint the mapping information of the Mapping Tables to the linear media or some other storage as well. According to different approaches the mapping information may be stored in the Mapping Tables a virtual disk manager a memory module a media volume manager etc. A virtual disk VDISK manager may allow the system to present a logical view of the system as a plurality of virtual disks or VDISKS which also facilitate the enablement of thin provisioning see of .

According to different approaches the Mapping Tables may include lookup tables such as block mapping tables charts scatterplots probability functions etc. or any other storage method and or system which would be apparent to one skilled in the art upon reading the present description. In an illustrative approach the Cache Manager may manage the information regarding the location where the data is actually stored within the Linear Media Storage Modules .

In one approach written data may be stored in a unique location within the storage system e.g. a unique location within the Linear Media Storage Modules . Thus the Mapping Tables may be used to keep track of the physical location of the data when the data is stored in a unique location. Moreover the Mapping Tables may also be able to keep track of data when it is stored in multiple locations and or partitioned into multiple segments.

In a preferred approach portions of the data may be stored in more than one location within the storage system more preferably in more than one location within the Linear Media Storage Modules . Therefore if a portion of the data stored within the Linear Media Storage Modules is damaged lost stolen corrupted etc. that data portion may be recovered via error correction data from the other data portions stored in the other locations within the Linear Media Storage Modules . Moreover data may be stored as segments each of which may be stored in different location within the Linear Media Storage Modules . In a preferred approach a write request for the Linear Media Storage Modules may be split into multiple smaller segments each representing a small portion of the data which makes up the write request. According to various approaches a segment may include data which represents an entire write request the majority of a write request half a write request a fraction of a write request etc. Furthermore each of the multiple smaller segments may be stored in different locations within the Linear Media Storage Modules . Therefore if some of the data stored within the Linear Media Storage Modules pertaining to a write request is damaged lost stolen corrupted etc. the remainder of the smaller data segments may be retrieved from their respective locations within the Linear Media Storage Modules .

According to an exemplary embodiment which is in no way intended to limit the invention if an entire tape reel within the Linear Media Storage Modules is damaged such that the data thereon is unreadable the lost data may be accessed from its other locations if redundantly stored and or recreated from its other segments within the Linear Media Storage Modules . According to another approach data may be stored in multiple locations and or partitioned into multiple segments within the storage system preferably within the Linear Media Storage Modules depending on the desired embodiment.

With continued reference to the Mapping Tables are connected to the VDISK Manager . VDISKs may help in the partitioning of the data stored in the storage system by using thin provisioning or any other approach which would be apparent to one skilled in the art upon reading the present description. Moreover as shown in the VDISK Manager is connected to the Management Module and the Management Interface . Therefore the VDISK Manager may receive and process requests from the Management Module and or the Management Interface and may contribute towards the management of the write data.

Referring back to the Write Buffer Cache of the write data e.g. log writes may be sent to the Media Volume Manager connected thereto as shown in . The Media Volume Manager may be used to allocate linear media volumes and for transferring data to and from the linear media. To do so the Media Volume Manager may preferably communicate with the Back End Driver and Media Reclamation . The Media Reclamation preferably manages which portions of the linear media within the Linear Media Storage Modules are empty have data written thereto are eligible for data stored thereon to be deleted etc. Thus the Media Reclamation may inform the Media Volume Manager which portions of the linear media within the Linear Media Storage Modules may be successfully written to without affecting the data to be retained in the Linear Media Storage Modules . According to one approach media reclamation may be called by the Media Volume Manager to make a tape reel partially completely etc. empty and or available for overwrite. This may be accomplished by enabling writing over the data on the tape replacing the tape on a spool with a new blank tape replacing the tape and reel with a new reel with new tape etc.

Moreover the Back End Driver may enable communication between the Media Volume Manager and the Linear Media Storage Modules for management and or control of the linear media of the Linear Media Storage Modules . Thus the Back End Driver may preferably assist in writing data to the linear media of the Linear Media Storage Modules as described above.

The Mapping Tables VDISK Manager Media Volume Manager Media Reclamation and or the Back End Driver or any other items within the storage system may also be used when accessing written data to satisfy a read request. As mentioned above a request received from a host a user an administrator computing device etc. may be a read request. In one example a read request may prompt the retrieval of written data stored within the storage system .

According to various approaches the written data may include data stored in the storage system according to any approach listed herein with regard to write requests and or write data. Thus in a preferred approach data pertaining to a write request may be stored in the linear storage media tier e.g. written to linear tape in the Linear Media Storage Modules . However according to different approaches data pertaining to a write request may be stored in the Write Buffer Cache the Read Cache etc. or any combination thereof e.g. in part a majority etc. depending on the desired embodiment.

The Cache Manager may process a read request received from the Host or Storage Network . According to an example which is in no way intended to limit the invention a read request received by the Cache Manager may pertain to a read request to randomly written data.

The read request may preferably initiate a read process as described above and illustrated in the functional block diagram . With continued reference to after the Cache Manager receives a read request the Mapping Tables may be accessed to look up the location of the written data pertaining to the read request. According to different approaches the Mapping Tables may incorporate any approach described and or suggested herein and may preferably provide the Cache Manager with the location of the written data pertaining to the read request within the storage system . Moreover the VDISK Manager may additionally or alternatively provide the Cache Manager with information regarding the location of the written data.

The Cache Manager preferably also communicates with the Read Cache and the Media Volume Manager . In one approach the Cache Manager may determine data to be combined together for common read requests thereby acting like a queue. Thus the Cache Manager may preferably allow for the read data associated with several read requests to be accumulated in the second tier e.g. the Read Cache prior to accessing the linear storage media tier. As explained above this may decrease lookup time increase performance of the system etc. which is desirable. However read requests may be performed individually e.g. due to a given read request having a large read request size a high priority a user override etc. According to another illustrative approach the Read Cache and or Cache Manager may process read requests individually if no other read requests are received within a certain time limit thereby minimizing losses.

Depending on the situation the Media Volume Manager may receive a read request from the Read Cache or the Cache Manager directly. After receiving a read request the Media Volume Manager preferably communicates with the Back End Driver regarding the written data location within the Linear Media Storage Modules . The Back End Driver preferably facilitates location and retrieval of the requested data within the Linear Media Storage Modules pertaining to the received one or more read requests. After being located and returned to the Back End Driver and Media Volume Manager the data may be sent to the Cache Manager .

Upon receiving the written data the Cache Manager may have the data encoded and or decoded preferably using the RAID function described above before being output e.g. to the Host or Storage Network. In various approaches the data may be output in any form listed herein including but not limited to sequential data random data etc. Moreover the data may be output without being encoded and or decoded in part or in full.

Throughout the read and or write process the Mapping Tables VDISKs Management Module Read Cache Media Reclamation etc. may be updated e.g. for future requests.

Moreover it may be useful for the Linear Media Storage Modules to have a fixed set of media without provisions for direct user replacement. Thus the system may have a finite set of media and or drives. The system may thus ensure that all the media in the system was written by drives in the system. This will enable the system to store calibration or other characterization data for each tape and each drive which can help increase the areal density and allow the drive to more quickly acquire proper tracking and channel initialization. Further it can remove the need for generational compatibility with media and heads which is beneficial for areal density. New media and drives could still be introduced into the system such as during maintenance. However these are rare events thus the characterization can be performed as needed. Such a system can dispense with the generation compatibility common to tape systems which tends to limit the achievable areal density.

As shown by the partial top down view of and the partial side view of a Linear Media Storage Module such as a tape library may include one or more mobile robots for transporting at least one tape reel which may or may not be part of a tape cartridge to and from tape drives for reading data from the tape.

As shown a tape supply reel and a take up reel are provided to support a tape . One or more of the reels may form part of a removable cartridge and are not necessarily part of the tape drive . The tape drive such as that illustrated in may further include drive motor s to drive the tape supply reel and the take up reel to move the tape over a tape head of any type. Such head may include an array of readers writers or both.

Guides guide the tape across the tape head . Such tape head is in turn coupled to a controller assembly via a cable . The controller typically controls head functions such as servo following writing reading etc. The controller may operate under logic known in the art as well as any logic disclosed herein. The cable may include read write circuits to transmit data to the head to be recorded on the tape and to receive data read by the head from the tape . An actuator controls the position of the head relative to the tape .

An interface may also be provided for communication between the tape drive and a host integral or external to send and receive the data and for controlling the operation of the tape drive and communicating the status of the tape drive to the host all as will be understood by those of skill in the art.

The tape on the selected tape reel or pair of tape reels may be accessed by the mobile robots which may be miniature remote controlled vehicles that move via contact with a surface such as an upper surface used interchangeably with the term ceiling as shown in . Thus the tape reels may lie on a lower surface such as a floor while a mobile robot maneuvers on the upper surface via contact with the surface such as by utilizing drive wheels and magnetic attraction between the robot and the upper surface or portions of the upper surface see . In one approach the tape library may comprise more than one level. On each level tape reels may be arranged on a lower surface used interchangeably with the term floor in a dense pattern. This arrangement is shown in partial top down view of according to one embodiment.

A contiguous tape may be stored on a single reel and may include a pin or other end piece that enables threading of the tape in the tape drive. In other approaches the tape may be coupled to a pair of reels e.g. in a tape cartridge.

According to one embodiment magnetic tape may be included in miniature tape reels which have only a fraction of the tape length of a standard tape cartridge thereby decreasing seek time. Such shorter length may be e.g. less than about th the tape length of a standard Linear Tape Open LTO tape cartridge less than about 1 25the tape length of a standard tape cartridge less than about 1 50th the tape length of a standard tape cartridge etc. In some approaches a length of tape on the plurality of tape reels may be less than about 50 meters for each tape reel and may be preferably less than about 25 meters more preferably 20 meters or less etc.

The seek time of tape based systems using such tape reels may also or alternatively be decreased by increasing the locate speed e.g. to about 20 meters per second m s or faster. Locate time refers to the time required for the tape to wind to the beginning of a data set or file after the tape is loaded in the tape drive. If the tape length is reduced to about 20 m or less and the locate speed is about 20 m s the average locate time is 20 m 20 m s 2 0.5 s. In addition to decreasing the seek time in the drive the system seek time may be reduced by structuring the tape library to achieve a mean load time of about 0.5 s. Load time refers to the time between the first time when a request reaches the tape library and a second time when the relevant tape reel s are loaded in the tape drive.

According to one embodiment the tape system is configured such that the average seek time is less than about 2 seconds preferably about 1 second or less. The seek time is the delay between a first time when a request to access data is received by the tape library and a second time when the tape library begins to provide the data to the requester.

With continued reference to the tape reels may be closely packed for example in a hexagonal array ordered array circular arrangement etc. to maximize the number of tape reels that may be stored in a limited amount of space.

According to one embodiment a diameter of each of the plurality of tape reels may be less than about 100 mm such as less than about 50 mm less than about 40 mm less than about 30 mm.

In some approaches a single tape drive is available for reading and or writing tape on the tape reels . Depending on the frequency with which files are read a plurality of tape drives may be available for reading and or writing tape on the tape reels as shown in by the leftmost tape drive reading a tape. The tape drives may be located about the surface in any arrangement as would be known to one of skill in the art preferably such that quick access to the tape drives is possible to reduce loading and data access times.

In one approach the Linear Media Storage Module may be configured to permit the mobile robot to locate retrieve and transport any one selected tape reel to the tape drive and to initialize reading of the tape by the tape drive within about five seconds of receiving a request to read data from the tape of the selected tape reel more preferably within about 2 seconds and ideally less than about 1 second. In a further approach the system may include at least one winding station for performing coarse locate operations on the reels prior to the reels being mounted to the at least one linear media drive. In a preferred approach coarse locate operations may include locating desired portions of the tape stored on a given tape reel in a minimized time.

In several embodiments several mobile robots move unconstrained along the surface e.g. two five or more. In other embodiments only a single robot may be present on a given level. It may be advantageous for the mobile robots to be unconnected by cables to any other part of the Linear Media Storage Module . This design favors fast robot motion and facilitates the mobile robots being capable of moving between levels rooms enclosures etc. Also when multiple mobile robots are used any problem with cables getting tangled together from different robots is eliminated when the mobile robots are controlled wirelessly.

The mobile robots may have predetermined resting locations as shown by mobile robots according to one embodiment. As shown in mobile robot has moved from a resting location acquired tape reels and is moving toward a tape drive to load the tape reels in the tape drive for reading tape therefrom. Also mobile robot has retrieved tape reels from a tape drive which has completed a reading operation and is returning the tape reels to their storage location. Of course this movement is exemplary only and not meant to be limiting on the invention in any way. The mobile robots may retrieve at least one tape reel but may preferably overlap their tape retrieval operations depending on the desired embodiment.

The mobile robots may move in straight line increments or may move more naturally in arcing patterns between positions on the surface according to various embodiments. Also the mobile robots may avoid objects in their path according to any method as would be understood by one of skill in the art upon reading the present descriptions.

In some previous tape library geometries a library gripper accesses an array of tape reels and or tape cartridges through motion of a first carriage along a rail or pair of rails. The first carriage in turn holds another set of rails or guides which enables motion of a second carriage holding the gripper. The scheme enables the gripper to access anywhere in two dimensions where the tape reels or tape cartridges are located. Alternately in some previous designs the second carriage has been replaced by a rotary motion which operates about the axes of the first carriage. This scheme limits the flexibility of the library because grippers or robots may interfere with one another. For example if the grippers use the same set of rails then they cannot move past each other. Also there is generally no available space in tape libraries for the installation of an additional set of rails so this scheme is severely limited in its functionality. In addition these previous designs do not facilitate easy recovery of access to the tape reels and or tape cartridges when a gripper fails.

On the other hand the systems herein use unconstrained robots which facilitate access to the tape reels and or tape cartridges. Here the term unconstrained indicates that movement is not constrained to rails tracks guideways pathways etc. but instead movement is free in at least two dimensions e.g. along a surface. Thus unconstrained mobile robots are easily added or removed from the surface and they can easily maneuver around each other along the surface since they are not fixed to a rail or track.

As shown in according to one embodiment the surface across which the mobile robots travel unconstrained may be an upper surface such as a ceiling in one approach and may be unpatterned so that the mobile robots are unconstrained e.g. not limited to motion on particular tracks paths rails etc. Thus each mobile robot is capable of movement independent of movement of any other mobile robot e.g. each mobile robot may cross the path that any other mobile robot has taken or will take. Similarly by attaching the mobile robot to a surface separate from a surface supporting the tape reels the mobile robots are not constrained to follow aisles paths corridors etc. between groups columns rows etc. of tape reels . In one example this movement may be analogous to the movement of a shopping cart through a supermarket. However instead of being constrained to moving between the shelves of the supermarket the mobile robots are capable of moving unconstrained along the ceiling of the supermarket capable of selecting any desired item from below in the shelves as an example. The ability to use multiple mobile robots to access a group of tape reels provides faster access of short popular files. This geometry is much more flexible than previous configurations in which the tape cartridge grippers were supported on x and y positioners which could not cross paths. The mobile robots may be coupled to the upper surface using magnets or some other coupling or attraction device that biases the mobile robots towards the upper surface . By allowing the mobile robots to maneuver on the upper surface the tape reels may simply rest on a lower surface such as a floor. The magnets may bias the mobile robot toward the upper surface with much more force than gravity biases the mobile robot toward the lower surface allowing a much higher frictional force of the mobile robot wheels thereby enabling faster robot acceleration and thus faster seek times.

In one approach the mobile robot may have three wheels two rear wheels and one front maneuvering wheel or ball . In another three wheel configuration the mobile robot may have two front wheels and a rear maneuvering wheel or ball . For sake of clarity a maneuvering wheel in this discussion indicates a wheel whose direction of positioning or rotation with respect to the robot body is not fixed. Of course the mobile robot may have any number of wheels or other apparatus for causing movement of the mobile robot as would be known to one of skill in the art. For example one embodiment of the mobile robot may have two drive wheels and two maneuvering wheels or balls. Steering of the robot may be accomplished in any known manner such as by independently driving two of the wheels with a caster type maneuvering wheel steering using the maneuvering wheel and driving and steering with the maneuvering wheel etc.

The mobile robot may have a reel gripper which when the mobile robot is positioned above a desired tape reel or set of tape reels may grab attract for example magnetically secure or otherwise take hold of the tape reel such that it may be loaded into the mobile robot and transported to a tape drive or back from a tape drive to the tape reel s storage location.

With continued reference to in some embodiments the mobile robot may have a height such that it may be able to maneuver above the tape reels in a space H of about 1.75 which measures about 1U in a standard rack configuration. The smallest units used for rack mounted computer components are 1U units which are 1.75 high. Since a reel for standard 0.5 wide magnetic tape may be as thin as 0.58 this 1U unit may be thick enough to hold a single layer of storage having a layer of tape reels plus mobile robots . Thus a single layer design having mobile robots tape reels and drives may be used for various tape library configurations ranging from a single layer to multiple stacked layers which may fill an entire storage room or any size desired.

In one approach the plurality of tape reels may be spaced from and located within a distance of about 15 cm from the upper surface e.g. 15 1.5 cm less than about 20 cm less than about 10 cm less than about 5 cm or any value in the foregoing ranges.

The Linear Media Storage Module may also comprise a controller for directing movement of the mobile robot . The controller may be on board the mobile robot or away from the robot as shown in and in communication therewith via any type of communication channel such as wireless wired infrared etc. .

According to one illustrative embodiment a Linear Media Storage Module comprises at least one tape drive configured for reading data from tape stored on one of a plurality of tape reels at least one mobile robot having a volume of less than about 1000 cubic inches and in some approaches less than about 900 in less than about 750 in less than about 500 in less than about 250 in less than about 100 in less than about 50 in configured for selectively retrieving one or more of the plurality of tape reels and transporting the one or more retrieved tape reels to the tape drive . The mobile robot moves along a surface and is preferably not mechanically constrained to move along a pre determined trackway or path i.e. it is unconstrained . In some approaches the mobile robot may be mechanically unconstrained and may be able to move autonomously across the surface via any desired path.

To assist in navigation of the mobile robot at least one of the lower and upper surfaces may include an optical pattern usable for navigation of the mobile robot and the mobile robot may be configured for recognizing the optical pattern.

As shown in the lower surface or floor for example may include an optical pattern designed for the mobile robot to locate its position. This optical pattern may be a rectangular grid extending over the entire floor with each grid square labeled with readable code identifying the row and column of the particular grid square . This readable code may take any form as would be understood by one of skill in the art.

The floor may be planar as shown in covered with small indentations as shown in or have a lattice defining receptacle areas in which the tape reels are positioned as shown in according to various embodiments. By extending the lattice up past the tape reels it may form a surface on which the mobile robot may be supported and the mobile robots would not maneuver along the upper surface but instead would maneuver on the lower surface formed by the top surface of the lattice according to one embodiment. In another approach as shown in posts may extend upwardly from the lower surface to hold reels in place. The posts may be used in combination with other approaches such as those shown in .

The design of the mobile robot may include additional features abilities etc. as would be understood by one of skill in the art upon reading the present descriptions. In one embodiment a mobile robot is shown in according to one approach. In this example one or more motors power symmetric drives wheels that allow forward and backward motion and in a further approach the drive wheels may provide steering if the drive wheels are operated independently using two symmetric drive motors . These motors may be attached to each wheel by a single step down gear. The mobile robot may additionally be supported by one or more other omni directional passive wheels which may move in any direction and may be maneuverable e.g. steerable positionable etc. in some approaches. The omni directional wheel s may be caster wheels and more preferably may be spherical balls which are also referred to as ball transfers.

To pick up the tape reel s a simple platform may be lowered and raised by a solenoid or motor not shown . If the tape reels are topped by a magnetic plate the tape reels may be gripped to the platform by energizing electromagnets . One or more cameras may allow for navigation of the mobile robot . A camera may be placed above each reel holding position enabling the mobile robot to determine its position and to deliver a tape reel directly into a tape drive. The mobile robot need not be made precisely because the cameras may simultaneously image the tape reels and location grid or the tape reel chucks on the drive to precisely position the tape reels in some approaches.

To enable multiple mobile robots to work in the same work space such as the same floor there are preferably no cables attached to the mobile robots . The mobile robot uses little power and a peak speed of about 2 m s in some embodiments is sufficient to pick up the tape reel and bring it to the drive within a half second. For a 150 gram mobile robot the corresponding kinetic energy would be about 0.3 Joule. This amount of energy may be supplied by a rechargeable battery through inductive coupling etc. but a capacitor with its extremely long lifetime may be preferable. In one embodiment an 80 volt 1000 F electrolytic capacitor which includes 3.2 Joules yet is only 16 mm diameter by 40 mm long may be used. The mobile robot may be recharged at its parking position or at the tape drive when it loads the tape reel . In addition the robot may also obtain power for operation and or charging via contacting a surface which includes power distribution capability of a type known in the art. The robot may also obtain power for operation and or control information via a tether.

As shown in according to a preferred embodiment the tape reels are positioned on a floor the surface is opposite the floor and the mobile robot is biased toward the surface such as through magnetic biasing by using magnets thereby suspending the mobile robot above the tape reels . For example the mobile robot may be magnetically biased toward the upper surface .

As shown in a library controller may communicate with the mobile robots by light such as infrared IR radio frequency RF etc. and may be differentiated on each level of the Linear Media Storage Module to avoid cross talk. The library controller computes a path the mobile robot is to take to pick up and drop off the tape reels and load the tape reels in the tape drives . The mobile robot may servo along the path by using its cameras in one approach or it may use encoders on its motors or wheels to servo using the cameras only for fine adjustments in another embodiment.

In one embodiment the Linear Media Storage Module may comprise a plurality of tape drives where each tape drive is positioned on the floor supporting the tape reels the floor being below the surface on which the mobile robots maneuver by a distance sufficient to allow movement of the mobile robots therebetween between the tape reels and the surface .

In large multilayer Linear Media Storage Modules mobile robots may move between floors using ramps . This enables the mobile robots themselves to load different floors with tape reels and to rebalance the work load by optimally locating the mobile robots and organizing the tape reels. The relative number of mobile robots tape reels and tape drives may be determined by the access frequency of the files data etc.

According to one approach multiple surfaces having a spaced and stacked configuration may be used and the mobile robot is configured to travel between the multiple surfaces. In this approach at least one ramp may be provided connecting at least two of the multiple surfaces thereby permitting the mobile robot to travel between the multiple surfaces. In various approaches there may be no cable coupled between the mobile robot and any other component of the system thereby facilitating travel of the mobile robot between the multiple surfaces.

As illustrated in according to one embodiment one or more tape drives may be secured directly to the floors of a Linear Media Storage Module having one or more levels. In addition the mobile robots may be attracted to the ceilings . In this design the drive s may be easily positioned at any location in the Linear Media Storage Module by simply leaving space in the array of reels not shown . This arrangement facilitates reconfiguration of the Linear Media Storage Module after it has been manufactured along with replacement of failed tape drives should they occur. For example the mobile robots may be adapted for moving and or relocating a tape drive . At least one tape drive may be positioned on each level of the Linear Media Storage Module according to one embodiment.

The library can be configured to have spare tape drives and mobile robots ready to be put into use upon failure of other tape drives and mobile robots according to one embodiment. In another embodiment when extra tape drives or mobile robots are to be used due to some factor such as an increased work load failed mobile robots and or tape drives etc. the Linear Media Storage Module may allow adding or removing tape drives tape reels and or mobile robots by the user after manufacture of the Linear Media Storage Module .

Any type of tape threading system known in the art may be adapted for use with the systems described herein according to various embodiments. For example if tape reels are used individually not as pairs a standard threader mechanism may be used to thread the tape reel onto the tape drive according to one embodiment. Storing the tape on pairs of reels has an advantage in that after loading the tape is ready to be used and does not need to be wound onto another inboard reel. Also when the tape is finished being used both reels may be removed with the tape and the tape does not need to be unwound from the inboard reel in order to be removed.

In another embodiment as shown in the tape drive itself may have no threader. Rather the mobile robot may be configured to thread tape of the retrieved tape reel onto the tape drive . In one approach a mobile robot loads the tape provided on a pair of tape reels by first dropping off one reel on the tape drive and then the other reel on a reel chuck for which a reel motor may wind the tape . Alternately if the tape is stored on one reel only such as reel the mobile robot may move an end of the tape not on the reel to secure it to the inboard drive wheel as described in relation to . The precision of the mobile robot motion may be much greater than that of a leader pin loader mechanism currently used in tape drives in some approaches.

In another embodiment as shown in a single reel of tape may be loaded onto a reel chuck and motor which are fixed to a carriage that is adapted to follow a guide that allows for motion of the chuck around the tape drive to facilitate threading of the tape . Before loading the reel on the chuck the chuck is brought into proximity of the inboard take up reel as shown in . After the mobile robot not shown for clarity places the reel on the chuck a mechanism attaches the end of the tape to the take up reel . See . At this point the tape may be transferred between reels and as part of a preliminary locate operation before the tape contacts the recording head or any guide surfaces such as rollers thus enabling faster tape locate with reduced tape damage and drive wear. Then the chuck and reel motor and tape reel are moved along the guide to a final position as shown in where the tape may be read from or written to.

In another embodiment rather than moving the library reel and carriage the take up reel and its motor may be moved to thread the tape drive . In yet another embodiment if the tape is stored on a pair of reels the mobile robot may position the two reels directly on the tape drive where the tape may be located before threading.

Alternatively as shown in the tape may be held on two tape reels and a method may be used which avoids the unreliability of a leader pin. In this approach the reel drive chucks may be spaced with the same close spacing of the tape reels in their storage position. The mobile robot places the tape reels on the chucks as shown in and two moveable rollers sequentially thread the tape in position. First roller threads the tape as shown in and then roller threads the tape as shown in . The tape may locate before the rollers move into their final position thus avoiding the extra wear and control difficulties associated with contact of the tape with the roller or other guide surfaces and the head. Alternately two smooth cylinders which form air bearings may be used to thread the tape drive in another embodiment.

In one embodiment each reel may be large enough e.g. the flanges are big enough to hold the entire length of tape if all the tape is to be accessed. If the tape is stored in pairs of these large reels the capacity of the library may be reduced by a factor of two from what it may be by using single reels.

In another approach the tape may be stored on a pair of reels where at least one reel is not large enough to accept the entire length of tape. As shown in a reel size reduction may be effected by incorporating temporary flange extenders in the tape drive. In the tape drive a temporary flange extender is fixed to the motor reel chuck so that the reel flange is extended when it is on the drive. Once the reels are in the drive another flange extender is placed on the top of each of the reels so that tape can be spooled onto one of the reels. Before the tape reels are unloaded from the tape drive the tape is spooled back evenly between the tape reels so that it lies only between the permanent flanges on the tape reels .

In another approach a packing roller may be used to keep the tape on the reel after its diameter becomes bigger than the flange.

In some approaches the tape library may be fault tolerant and or self repairing. For example each tape cartridge may be read by a number of different drives if a robot fails then other robots may maneuver around the failed robot a failed robot may be towed away by another robot and replaced and or a failed tape drive may be towed away and replaced.

According to one embodiment if a mobile robot fails it may be towed away and replaced by another mobile robot. The tape drives may be configured so that a mobile robot may easily tow away and replace a tape drive after temporarily clearing away the tape reels that may be in the path taken to remove the tape drive. The power and data connections may be made to use very little force for example using simple sliding spring contacts for the power and optical link for the tape drive data transfer.

According to one embodiment the system may be configured to allow removal of a failed mobile robot using another mobile robot in which case the failed mobile robot may then be replaced with the mobile robot performing the removing or another mobile robot in some approaches.

In another embodiment the mobile robot may be configured to remove the tape drive e.g. if the tape drive is broken. Likewise the robot may install a replacement or repaired tape drive.

Any of the embodiments described and or suggested herein may be combined with various functional methods depending on the desired embodiment.

Referring now to the method includes receiving a request for data as illustrated in operation . According to various approaches the data may include any data or form of data described and or suggested herein.

Moreover operation of method includes determining whether the data is stored in a linear storage media tier and or in a second storage tier having higher performance than the linear storage media tier as described herein. In a preferred embodiment the linear storage media tier includes a plurality of reels having linear media thereon a rest area for storing the reels when the reels are not in use one or more linear media drive configured for reading and or writing the linear media and at least one mobile robot for transporting the linear storage media between the rest area and the at least one linear media drive wherein the robot moves unconstrained along a first surface.

Furthermore method additionally includes instructing the mobile robot to transport one of the reels having the data thereon to one of the linear media drives in the linear storage media tier when it is determined that the data is stored in the linear storage media tier. See operation .

With continued reference to operation of method includes receiving the data from the one of the linear media drives while operation includes sending the data e.g. to the requestor.

In operation of a request to write data is received. In operation a determination is made as to whether to store the data in a linear storage media tier and or in a second storage tier having higher performance than the linear storage media tier as described herein. In a preferred embodiment the linear storage media tier includes a plurality of reels having linear media thereon a rest area for storing the reels when the reels are not in use one or more linear media drive configured for reading and or writing the linear media and at least one mobile robot for transporting the linear storage media between the rest area and the at least one linear media drive where the robot moves unconstrained along a first surface.

Referring to operation the mobile robot is instructed to transport one of the reels to a selected linear media drive in the linear storage media tier when the determination is to store the data in the linear storage media tier. In operation the data is sent to the selected linear media drive for writing on the reel.

As will be appreciated by one skilled in the art aspects of the present invention may be embodied as a system method or computer program product. Accordingly aspects of the present invention may take the form of an entirely hardware embodiment an entirely software embodiment including firmware resident software micro code etc. or an embodiment combining software and hardware aspects that may all generally be referred to herein as logic circuit module or system. Furthermore aspects of the present invention may take the form of a computer program product embodied in one or more computer readable medium s having computer readable program code embodied thereon.

Any combination of one or more computer readable medium s may be utilized. The computer readable medium may be a computer readable signal medium or a computer readable storage medium. A computer readable storage medium may be for example but not limited to an electronic magnetic optical electromagnetic infrared or semiconductor system apparatus or device or any suitable combination of the foregoing. More specific examples a non exhaustive list of the computer readable storage medium would include the following an electrical connection having one or more wires a portable computer diskette a hard disk a random access memory RAM a read only memory ROM an erasable programmable read only memory EPROM or Flash memory an optical fiber a portable compact disc read only memory CD ROM an optical storage device a magnetic storage device or any suitable combination of the foregoing. In the context of this document a computer readable storage medium may be any tangible medium that can contain or store a program for use by or in connection with an instruction execution system apparatus or device.

A computer readable signal medium may include a propagated data signal with computer readable program code embodied therein for example in baseband or as part of a carrier wave. Such a propagated signal may take any of a variety of forms including but not limited to electro magnetic optical or any suitable combination thereof A computer readable signal medium may be any computer readable medium that is not a computer readable storage medium and that can communicate propagate or transport a program for use by or in connection with an instruction execution system apparatus or device.

Program code embodied on a computer readable medium may be transmitted using any appropriate medium including but not limited to wireless wireline optical fiber cable RF etc. or any suitable combination of the foregoing.

Computer program code for carrying out operations for aspects of the present invention may be written in any combination of one or more programming languages including an object oriented programming language such as Java Smalltalk C or the like and conventional procedural programming languages such as the C programming language or similar programming languages. The program code may execute entirely on the user s computer partly on the user s computer as a stand alone software package partly on the user s computer and partly on a remote computer or entirely on the remote computer or server. In the latter scenario the remote computer may be connected to the user s computer through any type of network including a local area network LAN or a wide area network WAN or the connection may be made to an external computer for example through the Internet using an Internet Service Provider .

Aspects of the present invention are described below with reference to flowchart illustrations and or block diagrams of methods apparatus systems and computer program products according to embodiments of the invention. It will be understood that each block of the flowchart illustrations and or block diagrams and combinations of blocks in the flowchart illustrations and or block diagrams can be implemented by computer program instructions. These computer program instructions may be provided to a processor of a general purpose computer special purpose computer or other programmable data processing apparatus to produce a machine such that the instructions which execute via the processor of the computer or other programmable data processing apparatus create means for implementing the functions acts specified in the flowchart and or block diagram block or blocks.

These computer program instructions may also be stored in a computer readable medium that can direct a computer other programmable data processing apparatus or other devices to function in a particular manner such that the instructions stored in the computer readable medium produce an article of manufacture including instructions which implement the function act specified in the flowchart and or block diagram block or blocks.

The computer program instructions may also be loaded onto a computer other programmable data processing apparatus or other devices to cause a series of operational steps to be performed on the computer other programmable apparatus or other devices to produce a computer implemented process such that the instructions which execute on the computer or other programmable apparatus provide processes for implementing the functions acts specified in the flowchart and or block diagram block or blocks.

The flowchart and block diagrams in the Figures illustrate the architecture functionality and operation of possible implementations of systems methods and computer program products according to various embodiments of the present invention. In this regard each block in the flowchart or block diagrams may represent a module segment or portion of code which comprises one or more executable instructions for implementing the specified logical function s . It should also be noted that in some alternative implementations the functions noted in the block may occur out of the order noted in the figures. For example two blocks shown in succession may in fact be executed substantially concurrently or the blocks may sometimes be executed in the reverse order depending upon the functionality involved. It will also be noted that each block of the block diagrams and or flowchart illustration and combinations of blocks in the block diagrams and or flowchart illustration can be implemented by special purpose hardware based systems that perform the specified functions or acts or combinations of special purpose hardware and computer instructions.

As shown in a plurality of remote networks are provided including a first remote network and a second remote network . A gateway may be coupled between the remote networks and a proximate network . In the context of the present network architecture the networks may each take any form including but not limited to a LAN a WAN such as the Internet public switched telephone network PSTN internal telephone network etc.

In use the gateway serves as an entrance point from the remote networks to the proximate network . As such the gateway may function as a router which is capable of directing a given packet of data that arrives at the gateway and a switch which furnishes the actual path in and out of the gateway for a given packet.

Further included is at least one data server coupled to the proximate network and which is accessible from the remote networks via the gateway . It should be noted that the data server s may include any type of computing device groupware. Coupled to each data server is a plurality of user devices . Such user devices may include a desktop computer lap top computer hand held computer printer or any other type of logic. It should be noted that a user device may also be directly coupled to any of the networks in one embodiment.

A peripheral or series of peripherals e.g. facsimile machines printers networked and or local storage units or systems etc. may be coupled to one or more of the networks . It should be noted that databases and or additional components may be utilized with or integrated into any type of network element coupled to the networks . In the context of the present description a network element may refer to any component of a network.

According to some approaches methods and systems described herein may be implemented with and or on virtual systems and or systems which emulate one or more other systems such as a UNIX system which emulates an IBM z OS environment a UNIX system which virtually hosts a MICROSOFT WINDOWS environment a MICROSOFT WINDOWS system which emulates an IBM z OS environment etc. This virtualization and or emulation may be enhanced through the use of a hypervisor in some embodiments.

In more approaches one or more networks may represent a cluster of systems commonly referred to as a cloud. In cloud computing shared resources such as processing power peripherals software data servers etc. are provided to any system in the cloud in an on demand relationship thereby allowing access and distribution of services across many computing systems. Cloud computing typically involves an Internet connection between the systems operating in the cloud but other techniques of connecting the systems may also be used.

The workstation shown in includes a Random Access Memory RAM Read Only Memory ROM an I O adapter for connecting peripheral devices such as disk storage units to the bus a user interface adapter for connecting a keyboard a mouse a speaker a microphone and or other user interface devices such as a touch screen and a digital camera not shown to the bus communication adapter for connecting the workstation to a communication network e.g. a data processing network and a display adapter for connecting the bus to a display device .

The workstation may have resident thereon an operating system such as the Microsoft Windows Operating System OS a MAC OS a UNIX OS etc. It will be appreciated that a preferred embodiment may also be implemented on platforms and operating systems other than those mentioned. A preferred embodiment may be written using JAVA XML C and or C language or other programming languages along with an object oriented programming methodology. Object oriented programming OOP which has become increasingly used to develop complex applications may be used.

The flowchart and block diagrams in the Figures illustrate the architecture functionality and operation of possible implementations of systems methods and computer program products according to various embodiments of the present invention. In this regard each block in the flowchart or block diagrams may represent a module segment or portion of code which comprises one or more executable instructions for implementing the specified logical function s . It should also be noted that in some alternative implementations the functions noted in the block may occur out of the order noted in the figures. For example two blocks shown in succession may in fact be executed substantially concurrently or the blocks may sometimes be executed in the reverse order depending upon the functionality involved. It will also be noted that each block of the block diagrams and or flowchart illustration and combinations of blocks in the block diagrams and or flowchart illustration can be implemented by special purpose hardware based systems that perform the specified functions or acts or combinations of special purpose hardware and computer instructions.

It will be clear that the various features of the methodologies and embodiments described herein may be combined in any way creating a plurality of combinations from the descriptions presented herein.

Communications components such as input output or I O devices including but not limited to keyboards displays pointing devices etc. may be coupled to the system either directly or through intervening I O controllers.

Communications components such as buses interfaces network adapters etc. may also be coupled to the system to enable the data processing system e.g. host to become coupled to other data processing systems remote printers storage devices etc. through intervening private or public networks. Modems cable modems and Ethernet cards are just a few of the currently available types of network adapters that maybe used in some approaches.

It will be further appreciated that embodiments described herein may be provided in the form of a service deployed on behalf of a customer to offer service on demand.

While various embodiments have been described above it should be understood that they have been presented by way of example only and not limitation. Thus the breadth and scope of an embodiment of the present invention should not be limited by any of the above described exemplary embodiments but should be defined only in accordance with the following claims and their equivalents.

