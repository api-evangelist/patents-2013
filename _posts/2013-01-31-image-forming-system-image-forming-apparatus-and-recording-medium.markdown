---

title: Image forming system, image forming apparatus, and recording medium
abstract: An image forming apparatus includes a storage unit that stores prohibited combination information, a display control unit that displays a user interface screen on a display unit, based on web page data that is received from a web server in the server apparatus, using a web browser that communicates with the web server, a first determination unit that determines, based on the prohibited combination information, whether or not the two or more settings that are prohibited from being combined are included in a plurality of current settings that include a content of change of settings received using the user interface screen, and a storage information control unit that stores a fact that the two or more settings prohibited from being combined are included in the current settings, in predetermined data. The display control unit, via the predetermined data, acquires the fact, and updates the user interface screen.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09092704&OS=09092704&RS=09092704
owner: KONICA MINOLTA BUSINESS TECHNOLOGIES, INC.
number: 09092704
owner_city: Chiyoda-Ku, Tokyo
owner_country: JP
publication_date: 20130131
---
This application is based on Japanese Patent Application No. 2012 030190 filed on Feb. 15 2012 the contents of which are hereby incorporated by reference.

There is an image forming system in which an image forming apparatus such as a Multi Functional Peripheral MFP and a server computer execute predetermined processing in cooperation with each other.

One example is an image forming system in which an MFP and a server computer specifically application software executed in the server computer execute processing such as distributing a scanned image obtained by the MFP to a plurality of client computers via a network in cooperation with each other.

In the image forming system for example a scanning operation is executed after various setting operations have been performed using an operation panel unit of the MFP and a scanned image generated by the scanning operation is distributed via the server computer to each client computer.

Immediately prior to the scanning operation various setting operations are performed using the operation panel unit of the MFP. Specifically various types of mode settings e.g. image quality setting color setting and image file format setting for the scanned image generation operation image forming operation performed by the MFP are made using the operation panel unit of the MFP. The operation panel unit is provided with a touch screen or the like and a user interface is constructed using the touch screen.

Meanwhile a technique has been proposed in which a user interface in the operation panel unit of the MFP is constructed using web technology see for example Japanese Patent Application Laid open No. 2009 302769 . Specifically a web browser in the MFP communicates with a web server in the server computer using a predetermined protocol e.g. Hypertext Transfer Protocol HTTP and receives data web page data for user interface screen display from the web server. As a result a user interface screen is displayed by the web browser.

In the image forming system as described above it is preferable that an interface is constructed using the web browser that communicates with the web server. This makes it possible to easily improve the degree of freedom of screen design or the like on the application side.

Incidentally a plurality of mode settings for the image forming operation e.g. image quality setting color setting and image file format setting for the scanned image generation operation include two or more settings that are prohibited from being set in combination with each other. That is two or more settings that are prohibited from being combined are present in a plurality of settings.

For example a given MFP may assume that the color setting for JPEG data is either full color or grayscale and may not permit monochrome binary as the color setting for JPEG data. In other words there are cases where a combination of JPEG as the image file format and monochrome binary as the color setting is prohibited.

In many cases such a prohibited combination of settings differs from model to model. In order to create the server application software of the above described image forming system to be compatible with a plurality of MFPs it is necessary to take prohibited combination information regarding each of the MFPs into consideration. As a result a significant number of man hours is required to create the server application software.

It is an object of the present invention to provide a technique that enables an image forming system to be relatively easily constructed while taking into consideration combination prohibiting processing regarding settings for the image forming apparatus.

According to a first aspect of the present invention an image forming system includes an image forming apparatus and a server apparatus communicable with the image forming apparatus. The image forming apparatus includes a storage unit configured to store prohibited combination information about two or more settings regarding the image forming apparatus the two or more settings being prohibited from being set in combination with each other a display control unit configured to display a user interface screen on a display unit based on web page data that is received from a web server in the server apparatus using a web browser that communicates with the web server a reception unit configured to receive an input for changing settings using the user interface screen a first determination unit configured to determine based on the prohibited combination information whether or not the two or more settings that are prohibited from being combined are included in a plurality of current settings that include a content of change of settings received by the reception unit and a storage information control unit configured to in response to the first determination unit determining that the two or more settings that are prohibited from being combined are included in the plurality of current settings store a fact that the two or more settings that are prohibited from being combined are included in the plurality of current settings in predetermined data in a predetermined storage area under control of the web browser. The display control unit is configured to via the predetermined data acquire the fact that the two or more settings that are prohibited from being combined are included in the plurality of current settings and update the user interface screen.

According to a second aspect of the present invention an image forming apparatus communicable with a server apparatus includes a storage unit configured to store prohibited combination information about two or more settings regarding the image forming apparatus the two or more settings being prohibited from being set in combination with each other a display control unit configured to display a user interface screen on a display unit based on web page data that is received from a web server in the server apparatus using a web browser that communicates with the web server a reception unit configured to receive an input for changing settings using the user interface screen a determination unit configured to determine based on the prohibited combination information whether or not the two or more settings that are prohibited from being combined are included in a plurality of current settings that includes a content of change of settings received by the reception unit and a storage information control unit configured to in response to the determination unit determining that the two or more settings that are prohibited from being combined are included in the plurality of current settings store a fact that the two or more settings that are prohibited from being combined are included in the plurality of current settings in predetermined data in a predetermined storage area under control of the web browser. The display control unit is configured to via the predetermined data acquire the fact that the two or more settings that are prohibited from being combined are included the plurality of current settings and update the user interface screen.

According to a third aspect of the present invention a non transitory computer readable recording medium that records a program for causing a computer built into an image forming apparatus to execute the steps of a displaying a user interface screen regarding the image forming apparatus based on web page data that is received from a web server in an external server apparatus using a web browser that communicates with the web server b receiving an input for changing settings regarding the image forming apparatus using the user interface screen c based on prohibited combination information regarding two or more settings that are prohibited from being set in combination with each other the prohibited combination information being stored in the image forming apparatus determining whether or not the two or more settings that are prohibited from being combined are included in a plurality of current settings obtained after the input for changing settings d in response to determining that the two or more settings that are prohibited from being combined are included in the plurality of current settings storing a fact that the two or more settings that are prohibited from being combined are included in the plurality of current settings in predetermined data in a predetermined storage area under control of the web browser and e via the predetermined data acquiring the fact that the two or more settings that are prohibited from being combined are included in the plurality of current settings and updating the user interface screen.

These and other objects features aspects and advantages of the present invention will become more apparent from the following detailed description of the present invention when taken in conjunction with the accompanying drawings.

The image forming apparatus and the server computer are connected to each other via a network NW. The network NW is for example a local area network LAN or the Internet. A mode of connection to the network NW may be cable connection or wireless connection.

The MFP is an apparatus having functions such as a scan function a copy function a facsimile function and a box storage function also called Multi Functional Peripheral . Specifically as illustrated in the functional block diagram of the MFP includes for example an image reading unit a print output unit a communication unit a storage unit an input output unit and a controller and realizes various types of functions by operating these units in combination.

The image reading unit is a processing unit configured to optically read i.e. scan an original document that is placed at a predetermined position on the MFP and generate image data of the original document also referred to as an original image or a scanned image . The image reading unit is also called a scanning unit .

The print output unit is an output unit configured to print out an image on various types of media such as paper based on data regarding an object to be printed.

The communication unit is a processing unit capable of facsimile communication via a public network or the like. The communication unit is also capable of network communication via the network NW. In the network communication various types of protocols such as TCP IP Transmission Control Protocol Internet Protocol are used for example. Using the network communication enables the MFP to exchange various types of data with a desired party e.g. server computer .

The storage unit is constituted by a storage device such as a hard disk drive HDD . The storage unit stores data regarding a print job. The storage unit is provided with a prohibition information storage unit and a cookie storage unit .

The prohibition information storage unit stores prohibited combination information MP described later regarding various types of settings.

The cookie storage unit stores a cookie used for exchanging data between the web browser and the web server.

The input output unit includes an operation input unit configured to accept input to the MFP and a display unit configured to display and output various types of information. The MFP also includes the operation panel unit see that is provided with a touch screen also called a touch panel see and various types of hardware keys hardware buttons . The touch screen is constituted by embedding a piezoelectric sensor or the like in a liquid crystal display panel. The touch screen functions as part of the display unit and also functions as part of the operation input unit . The hardware keys function as part of the operation input unit

The operation of changing settings for the scan operation is primarily executed using the operation input unit specifically operation panel unit .

The controller is a control device that is built into the MFP and performs overall control of the MFP . The controller is configured as a computer system that includes for example a CPU and various types of semiconductor memories RAM and ROM . The controller realizes various types of processing units by the CPU executing a predetermined software program hereinafter also simply referred to as a program PG stored in a ROM e.g. EEPROM . Note that this program specifically a group of program modules PG may be installed in the MFP via a portable recording medium such as a USB memory in other words various types of computer readable non transitory recording media or via the network NW or the like.

Specifically as illustrated in the controller realizes various types of processing units including a communication control unit a display control unit an interface unit a prohibition determination unit and a cookie information control unit . These processing units are implemented on an operating system OS software implementation .

The display control unit is a processing unit configured to control a display operation in the display unit e.g. touch screen . Using a web browser see that communicates with a web server in the server apparatus the display control unit displays a user interface screen UG see and on the touch screen based on web page data that is received from the web server .

The interface unit is a reception processing unit configured to receive an input for changing settings for a plurality of setting items regarding the image forming apparatus from an operation user using the user interface screen UG.

The prohibition determination unit is a processing unit configured to determine whether or not two or more settings that are prohibited from being combined are included in a plurality of current settings including a content of the change of settings received using the user interface screen UG . The prohibition determination unit determines this matter based on the prohibited combination information MP stored in the prohibition information storage unit

The cookie information control unit controls an operation of storing a plurality of current settings in the cookie storage unit . Also in response to it having been determined that two or more settings that are prohibited from being combined are included in a plurality of current settings the cookie information control unit stores in the cookie of the cookie storage unit the fact that two or more settings that are prohibited from being combined are included in a plurality of current settings . Note that as will be described later the information stored in the cookie is appropriately used to perform for example processing for updating a user interface.

The communication control unit is a processing unit configured to control a communication operation with the server computer . The communication control unit transmits the cookie to the web server in response to the prohibition determination unit having determined that two or more settings that are prohibited from being combined are included in the current settings.

As illustrated in the image forming apparatus is provided with for example the web browser the cookie storage unit a cookie monitoring unit a determination processing unit a prohibition database and an update instruction unit . Note that the prohibition determination unit the cookie information control unit and the update instruction unit are each constructed as a module separate from the web browser provided independently .

The web browser is a browsing program module for for example browsing web pages pages described in Hypertext Markup Language HTML on the World Wide Web WWW . Note that if web pages are constituted using also JavaScript registered trademark or the like it is possible for the web browser to execute various types of programs. In particular using JavaScript or the like enables construction of an interface screen with a high degree of freedom.

The cookie storage unit is a storage area for storing a cookie. The cookie storage unit is a storage area under control of the web browser also called a browser managing storage area and is easily accessible from the web browser .

The prohibition database see also stores the prohibited combination information also referred to as prohibition information MP. The prohibited combination information MP is information about two or more settings regarding the image forming apparatus more specifically two or more settings for two or more setting items regarding the image forming apparatus the two or more setting items being prohibited from being set in combination with each other. The prohibition database is constructed in the prohibition information storage unit . For example as illustrated in the prohibition database provides for example the fact that a combination of a setting JPEG for a setting item file format and a setting monochrome binary for a setting item color setting for the scan operation is prohibited in the image forming apparatus .

The cookie monitoring unit and the determination processing unit constitute part of the prohibition determination unit .

The cookie monitoring unit is a processing unit configured to monitor the cookie storage unit . The cookie monitoring unit monitors the cookie storage unit at all times and detects the occurrence of a change in the content of the cookie. Upon detecting a change in the content of the cookie the cookie monitoring unit analyzes the storage content content of the cookie in the cookie storage unit and acquires a plurality of current settings regarding the image forming apparatus .

The determination processing unit is a processing unit configured to determine whether or not the current settings acquired by the cookie monitoring unit include two or more settings that are prohibited from being combined.

The update instruction unit is a processing unit configured to upon receipt of a notification that display in the browser is to be updated from a notification unit described later give a display update instruction based on the notification to the web browser . By giving this display update instruction the update instruction unit causes the web browser to transmit a new Hypertext Transfer Protocol HTTP request information transmission request to the web server . Note that the update instruction unit or the like may be configured using various types of application programming interfaces API such as Open API. 

The server computer is configured as a computer system that includes for example a CPU and various types of semiconductor memories RAM and ROM . The server computer realizes various types of processing units by the CPU executing a predetermined software program hereinafter also simply referred to as a program PG. Note that the program specifically a group of program modules PG may be stored in a portable recording medium such as a USB memory or a CD ROM in other words various types of computer readable non transitory recording media read from the recording medium and installed into the server computer . Alternatively the program PG may be downloaded via the network NW or the like and installed into the server computer .

Specifically as illustrated in the web server and scanning cooperative application software also referred to as scanning cooperative software are constructed separately in the server computer . The scanning cooperative software realizes the above described processing such as scanning processing and scanned image distribution processing in cooperation with the web server .

The web server is a program module web server software that transmits data of a specified web page to the web browser in response to a request e.g. HTTP request from the web browser .

The scanning cooperative software includes a determination unit a web page data generation unit and the notification unit .

The determination unit is a processing unit configured to determine whether or not two or more settings that are prohibited from being combined are included in a plurality of current settings based on the cookie transmitted from the web browser . If the cookie describes that two or more settings that are prohibited from being combined are included in the current settings the determination unit determines that fact.

The web page data generation unit is a processing unit configured to generate web page data e.g. HTML data . The web page data generation unit generates web page data for warning screen display in response to the determination unit having determined that two or more settings that are prohibited from being combined are included in the current settings.

The notification unit is a processing unit configured to transmit a notification that the display in the web browser is to be updated to the image forming apparatus specifically update instruction unit .

The communication control unit see is a processing unit configured to control a communication operation between the server computer and the image forming apparatus . The communication control unit controls a communication operation between the notification unit and the update instruction unit and a communication operation between the web browser and the web server . For example the communication control unit causes the notification unit to give a notification to the update instruction unit and also transmits the web page data for warning screen display to the web browser in response to the HTTP request information transmission request transmitted from the web browser in accordance with the notification.

Next operations performed by the image forming apparatus will be described with reference to . is a sequence diagram illustrating the operations performed by the image forming apparatus .

First in step S the web browser transmits an HTTP request information transmission request RQ to the web server and the web server returns an HTTP response to the web browser see also . Through this communication the web browser acquires web page data PD web page data e.g. HTML file stored in a specific Uniform Resource Locator URL that is returned from the web server in response to the HTTP request RQ. The web browser then displays a user interface screen UG see based on the web page data PD step S .

This screen UG includes an image quality setting button BN a color setting button BN and a file format setting button BN. In accordance with the pressing of the buttons BN BN and BN submenus are displayed and setting operations are accepted in the submenus.

For example if the color setting button BN is pressed in the screen UG a popup menu MN as illustrated in is displayed. Then if one of a plurality of buttons BN BN and BN is pressed and then an OK button BN is pressed in the popup menu MN a content in accordance with the pressed button is set step S . For example if the button BN is pressed monochrome binary is set. Note that processing such as using the popup menu MN may be realized by for example using JavaScript or the like.

The same follows for the other buttons BN and BN. If the image quality setting button BN is pressed an operation of changing the setting for the setting item image quality e.g. photograph or character can be performed. If the file format setting button BN is pressed an operation of changing the setting for the setting item file format e.g. JPEG or PDF can be performed.

In accordance with such a change of the setting the image forming apparatus specifically cookie information control unit stores a plurality of current settings including the content of change of the setting accepted through the screen UG in the cookie of the cookie storage unit in the web browser step S see also . For example if the setting regarding the color setting has been changed from full color to monochrome binary the fact that the changed setting monochrome binary is set for the setting item color setting is stored in the cookie of the cookie storage unit . Also the information other than the changed setting is stored as is. Specifically the default setting character is stored for the setting item image quality in the cookie of the cookie storage unit and the default setting JPEG is stored for the setting item file format in the cookie of the cookie storage unit .

Here the cookie monitoring unit see also of the prohibition determination unit monitors the cookie of the cookie storage unit at all times. When a change has been made to the content of the cookie the determination processing unit of the prohibition determination unit checks based on the prohibition database whether or not settings that are prohibited from being combined are included in the changed content. Specifically the determination processing unit determines based on the prohibition information prohibited combination information MP in the prohibition database whether or not two or more settings that are prohibited from being combined are included in the current settings that include the setting changed by the user operation step S .

For example if the prohibition database provides the fact that a combination of the following settings color setting monochrome binary and file format JPEG is prohibited the prohibition determination unit determines that those two settings are settings that are prohibited from being combined based on that provision.

Then upon acquiring the result of determination that the two settings are settings that are prohibited from being combined from the prohibition determination unit the cookie information control unit see also stores the fact that settings that are prohibited from being combined settings color setting monochrome binary and file format JPEG are included in the current settings in the cookie of the cookie storage unit based on the determination result step S . Note that as will be described later the user interface screen UG can be updated using that cookie specifically by exchanging the cookie between the web browser and the web server step S .

Next the prohibition determination unit the cookie information control unit and the communication control unit cause the web browser to transmit an HTTP request RQ to the web server in cooperation with one another see also . Along with the HTTP request RQ the cookie is also transmitted from the web browser to the web server step S . Note that at this time an HTTP response is returned from the web server to the web browser and a display screen in the web browser is updated. However at this point in time the screen UG similar to that in is displayed as is. While in the present example the display screen is also updated in step S the present invention is not limited thereto and the display screen may be not to be updated.

In step S the determination unit of the server computer receives the cookie from the web server see also . The determination unit determines based on the cookie transmitted from the web browser that two or more settings that are prohibited from being combined are included in the current settings regarding the image forming apparatus .

Furthermore in response to the determination unit having determined that two or more settings that are prohibited from being combined are included in the current settings the server computer specifically web page data generation unit generates web page data PD for warning screen display. The generated web page data PD is stored in a location indicated by a predetermined URL. Note that the predetermined URL may be the same as that of the original web page data or may be different from that of the original web page data.

After the web page data PD for warning screen display has been generated then in step S the notification unit of the server computer transmits a notification that the display in the web browser is to be updated display update request notification to the update instruction unit in the image forming apparatus in order to change the display content in the web browser to a warning display see also . That notification involves specifying the URL of the web page data PD to be displayed. Upon receipt of the notification from the notification unit the update instruction unit gives an update instruction display update instruction to the web browser in accordance with the notification see also .

The web browser transmits an HTTP request RQ regarding the specified URL to the web server based on the update instruction step S . Meanwhile the web server returns an HTTP response to the HTTP request RQ to the web browser see also . In other words in response to the HTTP request RQ information transmission request transmitted from the web browser in accordance with the notification from the notification unit the web server transmits the web page data PD for warning screen display to the web browser . Through this communication the web browser acquires the web page data PD that is returned from the web server in response to the HTTP request RQ and updates and displays a user interface screen UG see based on the web page data PD step S .

In this way the user is informed in real time of the fact that a combination of the settings color setting monochrome binary and file format JPEG is prohibited from being combined. In other words the display control unit acquires via the cookie the fact that two or more settings that are prohibited from being combined are included in the current settings and updates the user interface screen UG.

If the operator has acquired through visual recognition of the screen UG that the settings are prohibited from being combined the operator is capable of performing resetting using the screen UG. For example if the operator presses the color setting button BN a popup menu is displayed and another option such as gray scale can be selected using the popup menu. Also in according with this change of the setting the content of the cookie in the cookie storage unit is changed updated . Note that because the user interface screen UG is a setting screen for resetting it is also referred to as a resetting screen or setting screen .

However in processing similar to that of steps S to S conversely at this time the fact that two or more settings that are prohibited from being combined are included in the current settings is deleted from the cookie. More specifically after the setting has been changed again and stored in the cookie the cookie monitoring unit detects that a change has been made again to the content of the cookie and then the fact that two or more settings that are prohibited from being combined are included in the current settings is deleted from the cookie based on the setting that has been changed again and stored in the cookie.

Thereafter in response to the change that was made again the cookie is transmitted together with the HTTP request RQ to the web server and the determination unit determines based on the cookie that the current settings do not include two or more settings that are prohibited from being combined. Then the web page data generation unit and the notification unit specify the URL of the original web page data PD and transmit a notification that the display in the web browser is to be updated to the update instruction unit . The web browser transmits an HTTP request regarding the original URL based on the update instruction given from the update instruction unit in accordance with the notification and receives the web page data PD regarding the original URL. As a result in the web browser the screen UG based on the original web page data PD or a screen similar to the screen UG is displayed in replacement of the screen UG based on the web page data PD for warning.

Thereafter if an OK button BN see is pressed an instruction to complete the operation of setting a plurality of setting items for the scan operation is considered to be given and the scan operation is executed. In this scan operation the settings in the user interface screen UG are reflected.

Then a scanned image acquired by the scan operation is transmitted from the image forming apparatus to the server computer . Thereafter the server computer distributes the scanned image to a desired distribution destination.

As described above according to the above described embodiment an input for changing settings using the user interface screen UG is received and it is determined based on the prohibited combination information MP whether or not two or more settings that are prohibited from being combined are included in a plurality of current settings that include the setting changed as a result of the input for changing settings step S . Furthermore in response to it having been determined that the settings include two or more settings that are prohibited from being combined that fact is stored in the cookie data in the storage area under control of the web browser of the cookie storage unit . In other words prohibition detection information the fact that prohibition processing combination prohibiting processing has been detected is stored in the cookie. Then based on the prohibition detection information the interface screen UG is updated to the new interface screen warning screen UG.

By in this way determining settings that are prohibited from being combined based on the prohibited combination information MP stored on the image forming apparatus side steps S and S it is possible for the system as a whole to take combination prohibiting processing into consideration. On the other hand the server apparatus side is not required to consider many different kinds of combination prohibiting processing in particular incorporate prohibited combination determination processing in the server application software . Accordingly the number of man hours required to consider prohibited combination information regarding each of many different kinds of models can be reduced in the development of the server application software. By extension the image forming system can be relatively easily constructed. In particular efficient system construction is possible because it is not required to incorporate the prohibited combination determination processing into both of the image forming apparatus and the server apparatus and it is sufficient to incorporate the prohibited combination determination processing into only the image forming apparatus .

In particular in view of the circumstances where the prohibition processing combination prohibiting processing by MFPs varies depending on the model the number of man hours required to develop the server application software that is compatible with a plurality of models of the image forming apparatus can be considerably reduced which is very useful.

In the above described embodiment the user interface screen is updated by utilizing predetermined data cookie in which the fact that two or more settings that are prohibited from being combined are included in a plurality of current settings is recorded. In other words the fact that two or more settings that are prohibited from being combined are included in the current settings is transmitted via predetermined data in short mechanism of the existing cookie in the existing cookie storage unit under control of the web browser and the user interface is updated. Accordingly the image forming system can be easily constructed.

In particular because the prohibition determination unit is provided separately from the web browser browser module the web browser module itself is prevented from being changed. Therefore the image forming system can be more easily constructed than in the case where a change of the web browser is involved.

Furthermore in the above described embodiment in response to the pressing of a button in the interface screen UG of the web browser the HTTP request RQ is transmitted from the web browser to the web server and the cookie is transmitted together with the request RQ from the web browser to the web server . That is in response to the input for changing settings using the interface screen UG the fact that two or more settings that are prohibited from being combined are included in the current settings is transmitted in real time to the web server. In other words the web server is notified of that fact immediately after the input for changing settings. By extension it is possible to immediately display the interface screen UG reflecting that fact.

This allows the operator to know the presence of settings that are prohibited from being combined in advance before pressing the OK button BN. Accordingly operability of the operator can be improved as compared with the case where the operator can know the presence of settings that are prohibited from being combined only after having pressed the OK button BN. In other words it is possible to avoid stress sense of displeasure that the operator may feel with the technique comparative example in which the operator can know the presence of settings that are prohibited from being combined only after having pressed the OK button BN. That is it is possible to early and appropriately send to the operator a notification that the settings made by the operator are prohibited from being combined.

While the above has been a description of an embodiment of the present invention the present invention is not intended to be limited to the details described above.

For example while in the above described embodiment a mode is illustrated in which the web server and the scanning cooperative application software are provided in the single server the present invention is not limited thereto and the web server and the scanning cooperative application software may be provided separately in a plurality of server computers e.g. and .

In the above described embodiment a cookie that includes the prohibition detection information is transferred along with the HTTP request RQ from the web browser to the web server and the web page data generation unit generates a warning page based on the determination result obtained from the determination unit . Thereafter through the processing of the notification unit and the update instruction unit the HTTP request RQ is transmitted again from the web browser to the web server whereby the screen UG in the web browser is updated. In this way a user interface screen is updated using the cookie including the prohibition detection information.

However the present invention is not limited thereto. For example a user interface screen UG may be updated without the new HTTP requests RQ and RQ being transmitted from the web browser to the web server .

Specifically first part of the web page data displayed in the web browser HTML data that is temporarily stored in the web browser is directly edited rewritten . More specifically the HTML data is updated by adding to the HTML data tag data or the like for displaying a message such as A combination of settings JPEG and monochrome binary is prohibited. Change either one of them. Next the display content in the web browser is updated by specifying the URL URL in the image forming apparatus of the storage location of the edited HTML data that is temporarily stored. As a result the display content in the web browser is updated and displayed based on the edited web page data. In this fashion the user interface screen UG may be updated using the cookie including the prohibition detection information.

While in the above described embodiment a cookie storage area is illustrated as an example of the browser managing storage area the present invention is not limited thereto and for example Web Storage in HTML5 may be used as the browser managing storage area. Similarly as the data in the browser managing storage area storage data in the above described Web Storage may be used instead of the cookie. Note that in the case of using Web Storage storage data may be appropriately transmitted or received using Ajax communication.

While in the above described embodiment a mode is illustrated in which it is determined based on the prohibited combination information MP whether or not the combination of the setting JPEG for the setting item file format and the setting monochrome binary for the setting item color setting for the scan operation is included in the current settings the present invention is not limited thereto. Other combinations of a plurality of setting items e.g. a combination of a setting searchable PDF for the setting item file format and a setting high resolution 600 dpi for the setting item resolution may be stored as settings that are prohibited from being combined in the prohibited combination information MP. Then whether or not these settings that are prohibited from being combined are included in the current settings may be determined based on the prohibited combination information MP. Note that searchable PDF refers to a portable document format PDF file format in which text information as a result of optical character recognition OCR is pasted and there are cases depending on the memory capacity or the like loaded in the image forming apparatus where a combination of the setting searchable PDF and the setting high resolution 600 dpi is prohibited.

While in the above described embodiment the server cooperative application software illustrated is configured to acquire the scanned image generated by the image forming apparatus and distribute the scanned image to a predetermined distribution destination the present invention is not limited thereto.

For example as illustrated in the above described idea may be applied to a PullPrint system image forming system B in which an MFP also called B and a server apparatus also called B operate in cooperation with each other. The MFP B and the server B respectively have similar configurations to the MFP A and the server A according to the above described embodiment. However it should be noted that the image forming system B differs from the image forming system A in that it is a PullPrint system.

In the image forming system PullPrint system B when a print instruction is given from a user using a client computer print data is first transmitted from the client computer to the server computer B and temporarily stored in the server computer B. Thereafter the user then performs a PullPrint operation using the operation panel unit or the like of the MFP B and in accordance with that PullPrint operation the MFP B acquires pulls the print data from the server computer B and prints out prints the acquired print data.

In the PullPrint operation using the operation panel unit of the MFP B an operation of setting the output mode of the print data is performed following a user authentication operation. In particular at this time an idea similar to that as described above may be applied. In other words an idea similar to that as described above may be applied when various types of setting operations for the print output operation are performed using the operation panel unit of the MFP.

More specifically a combination of two or more settings regarding the print output operation the settings being prohibited from being combined is stored as the prohibited combination information MP in the MFP B. Then if it has been determined that current settings that have been changed using the operation panel unit of the MFP B include such a combination of settings that are prohibited from being combined that fact may be stored in predetermined data e.g. cookie in a predetermined storage area e.g. cookie storage area under control of the web browser in the MFP B. An example of the combination of settings that are prohibited from being combined is a combination of a setting two point stapling for a setting item stapling and a setting two hole punching for a setting item punching regarding the print output operation. Another example of the combination of settings that are prohibited from being combined is a combination of a setting OHP sheet for a setting item paper type and a setting Z fold three fold for a setting item folding regarding the print output operation.

The present invention may be embodied in various other forms without departing from the spirit or essential characteristics thereof. The embodiments disclosed in this application are to be considered in all respects as illustrative and not limiting. The scope of the invention is indicated by the appended claims rather than by the foregoing description and all modifications or changes that come within the meaning and range of equivalency of the claims are intended to be embraced therein.

