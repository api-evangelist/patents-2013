---

title: Efficient means of broadcast and relaying information between wireless terminals
abstract: A method, an apparatus, and a computer program product for wireless communication are provided. The apparatus may receive broadcast information related to a second UE from a third UE, relay the broadcast information and identifier information to a set of UEs, determine whether each UE in the set of UEs has received the broadcast information based on whether the identifier information is received from each UE in the set of UEs, and refrain from relaying the broadcast information upon determining that each UE in the set of UEs has received the broadcast information. In another aspect, the apparatus may receive broadcast information related to a second UE and a tag associated with the broadcast information from a third UE, relay the tag without the broadcast information to a set of UEs, receive a request for broadcast information from a third UE in the set of UEs, and relay the broadcast information to the third UE. In an aspect, the first, second and third UEs may be the same UE. In another aspect, the second and third UEs but not the first UE may be the same UE.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09276684&OS=09276684&RS=09276684
owner: QUALCOMM Incorporated
number: 09276684
owner_city: San Diego
owner_country: US
publication_date: 20131205
---
This patent application claims benefit of and priority to U.S. Provisional Patent Application 61 773 585 filed Mar. 6 2013 entitled METHODS AND SYSTEMS FOR PREDICTING AND OR DISCOVERING PROXIMITY OF MOBILE DEVICES and which is assigned to the assignee hereof and incorporated herein by reference.

This patent application claims benefit of and priority to U.S. Provisional Patent Application 61 735 490 filed Dec. 10 2012 entitled DISCOVERY AND SUPPORT OF PROXIMITY and which is assigned to the assignee hereof and incorporated herein by reference.

The subject matter disclosed herein relates to fixed and mobile devices and more particularly to methods apparatuses and articles of manufacture for use by one or more electronic devices to enable or assist broadcast and relaying of information between two or more mobile devices.

Wireless communication systems are widely deployed to provide various telecommunication services such as telephony video data messaging and broadcast. Typical wireless communication systems may employ multiple access technologies capable of supporting communication with multiple users by sharing available system resources e.g. bandwidth transmit power . Examples of such multiple access technologies include code division multiple access CDMA systems time division multiple access TDMA systems frequency division multiple access FDMA systems orthogonal frequency division multiple access OFDMA systems single carrier frequency division multiple access SC FDMA systems and time division synchronous code division multiple access TD SCDMA systems.

These multiple access technologies have been adopted in various telecommunication standards to provide common protocols that enable different wireless devices to communicate on a municipal national regional and even global level. An example of an emerging telecommunication standard is Long Term Evolution LTE . LTE is a set of enhancements to the Universal Mobile Telecommunications System UMTS mobile standard promulgated by the Third Generation Partnership Project 3GPP . It is designed to better support mobile broadband Internet access by improving spectral efficiency lowering costs improving services making use of new spectrum and better integrating with other open standards using OFDMA on the downlink DL SC FDMA on the uplink UL and multiple input multiple output MIMO antenna technology. However as the demand for mobile broadband access continues to increase there exists a need for further improvements in LTE technology. Examples of such improvements including supporting efficient transfer of information between mobile terminals in the absence of network support determining when two or more mobile terminals may be in proximity to one another and enabling services including transfer of information between terminals that are conditional on terminals being in proximity to one another. Preferably these improvements should be applicable to other multi access technologies and the telecommunication standards that employ these technologies.

In an aspect of the disclosure a method a computer program product and an apparatus are provided. The apparatus may be a user equipment UE . In an aspect the apparatus may receive broadcast information from a second UE relay the broadcast information and identifier information to a set of UEs determine whether each UE in the set of UEs has received the broadcast information based on whether the identifier information is received from each UE in the set of UEs and refrain from relaying the broadcast information upon determining that each UE in the set of UEs has received the broadcast information.

In another aspect the apparatus may receive broadcast information and a tag associated with the broadcast information from a second UE relay the tag without the broadcast information to a set of UEs receive a request for broadcast information from a third UE in the set of UEs and relay the broadcast information to the third UE.

In the following description the terms terminal device mobile terminal mobile device mobile station station and user equipment UE are used interchangeably to refer to any wireless capable device that is mobile or potentially mobile such as a cellphone smartphone laptop or PDA. Further the description below commonly assumes an LTE network and or LTE signaling for use and support of proximity services although the methods described below may apply to other types of network and radio signaling in addition to LTE e.g. may apply to networks and radio signaling that use WCDMA GSM cdma2000 WiFi WiMax and other radio technologies. In any context below where a particular type of network or particular radio signaling is not specified explicitly or implicitly the use of an LTE network or LTE signaling is intended at a minimum.

Wireless communication networks enable communication between two or more UEs and or between any UE and one or more fixed entities such as a network server no matter where each UE may be located provided each UE is in wireless coverage of some wireless network that can interconnect to other networks e.g. via the Internet and each UE supports at least one particular type of wireless communication supported by the network providing coverage. Many different services e.g. voice calls data calls Email IM texting may then be provided to each UE and or to the user of each UE and or to applications on each UE based on such communications capability. In some cases additional services may be provided to two or more UEs that are in proximity to one another e.g. within 500 meters of one another based on a higher level of interest in or a higher priority for such services or an improved capability to provide such services in the context of this proximity. As an example two friends or colleagues may have a higher interest in mutual communication when in proximity to one another two public safety responders may have higher priority to establish communication when nearby to one another and two UEs may be able to employ direct UE to UE communication without burdening a network when nearby to one another. For such reasons it may be beneficial for a network and or for a UE to determine when the UE is within proximity to one or more other UEs. The process of determining whether two UEs are within proximity to one another may be referred to as discovery and the process may be performed by one or both UEs or by a network with which either UE is in communication or by both a network and by one or both UEs.

Discovery or proximity may be based on the geographic location of each UE with proximity being discovered when two UEs are within some maximum distance of one another e.g. 500 meters . Discovery of proximity may instead be based on the ability of one UE to directly receive signals transmitted by another UE for example to receive signals whose strength exceeds some minimum threshold. Each type of discovery may require the expenditure of significant time and resources by a network and or by the respective UEs e.g. time and resources to periodically measure and compare the geographic locations of the UEs or time and resources to transmit from a first UE and receive by a second UE signals distinct to the first UE. The expenditure of such time and resources may be multiplied many fold when repeated for combinations of different pairs of UEs whose proximity may be of interest. Therefore methods to enable discovery of proximity using fewer resources and less time may be of value. A further problem with discovering proximity and taking suitable actions when proximity is discovered such as providing an indication of proximity to the respective users or to applications on each UE is that the duration of proximity may be short lived and any delay in discovering and reporting proximity may reduce the duration for which proximity has been reported to a low value or even zero. Therefore for example notifying a pair of users in a shopping mall of their current proximity in order to allow the users to arrange an impromptu rendezvous may be seriously impaired if the notification occurs just as the reported proximity is about to end. Therefore methods to discover the occurrence of proximity with little or no delay may also be of value.

In one implementation the imminent geographic proximity of two or more UEs may be predicted in advance based on the probable future locations of the UEs. The probable future location of any UE may be determined by extrapolating the current and past location and motion of the UE to predict its location or an area or volume within which it should be located at some future time. The probable future location of a UE may also be determined based on any known historic behavior of the UE or more precisely of the user of the UE that has occurred in association with the current location of the UE and or in association with the current day and time. Examples of such behavior based location prediction may include i a user who is known to typically be at home in a restaurant or at a workplace at certain times and on certain days ii a user who habitually walks around a shopping mall after driving into and parking near a main entrance to the shopping mall iii a user who takes a daily walk or daily jog at a certain time each day and using one of a small number of different routes which may be distinguished by the user s heading and location soon after starting and iv a user who visits a certain friend or relative by traveling there from home or from a workplace on certain days and or at certain times using the same route for travel each time.

In one implementation a UE or a network server may predict a form of geographic location based on the UE s current location speed and heading plus recent movement and or historical location history. Here such a UE or server may predict an occurrence of geographic proximity to another UE before it occurs giving UE users and UE applications more time to react. In an alternative implementation imminent geographic proximity may be predicted at least in part based on detection of two UEs being in the same venue e.g. a shopping mall building convention center railway bus station or an airport even if the geographical separation of the two UEs currently exceeds a particular threshold range defining proximity.

Discovery of proximity between two devices whether based on an ability to communicate directly between the devices e.g. using LTE D or based on geographic location and geographic separation is likely to be a resource intensive process for UEs and or networks. This may well increase capital and operating costs for network operators and or impair battery life and service provision for UEs. In addition this may impair the effectiveness of proximity support e.g. if there are delays in discovering whether two UEs are in proximity as a result of the limited resources available for this.

In one implementation a condition of near proximity may indicate a condition in which two UEs are close to one another but not close enough to qualify for being in actual proximity. As an example if actual proximity is defined as having a maximum separation of 2000 meters near proximity may be defined for a separation of between 2000 and 5000 meters. A benefit of discovering near proximity may be that it would not need to be determined exactly allowing coarse but resource efficient methods to be used for support e.g. methods that use fewer network and or UE resources but are not able to determine a state of proximity very accurately . Moreover near proximity need not be reported to applications or users but only maintained by network servers and or by some common proximity process or proximity engine in each UE. Once near proximity has been discovered by coarse but efficient means more accurate but less resource efficient methods can be used to discover actual proximity for those UEs already discovered to be in near proximity. Because the number of UEs in near proximity to one another for any proximity service of interest to particular users and or to particular applications may comprise only a small fraction of any total number of UEs that are potentially in actual proximity to one another in any area or region using less efficient methods for determining actual proximity may not consume so many resources as when the same less efficient methods are applied to all UEs without any initial precondition. In addition determining near proximity prior to discovering actual proximity may reduce a delay for discovering actual proximity. Accordingly near proximity may also be used to efficiently support discovery of proximity between UEs served by different networks.

In certain implementations as shown in a UE may receive or acquire satellite positioning system SPS signals from SPS satellites . In some implementations SPS satellites may be from one global navigation satellite system GNSS such as the GPS or Galileo satellite systems. In other implementations the SPS satellites may be from multiple GNSS such as but not limited to GPS Galileo Glonass or Beidou Compass satellite systems. In other implementations SPS satellites may be from any one of several regional navigation satellite systems RNSS such as Wide Area Augmentation System WAAS European Geostationary Navigation Overlay Service EGNOS and Quasi Zenith Satellite System QZSS just to name a few examples.

In addition UE may transmit radio signals to and receive radio signals from a wireless communication network. In one example UE may communicate with a cellular communication network by transmitting wireless signals to or receiving wireless signals from base station transceiver over wireless communication link . Similarly UE may transmit wireless signals to or receive wireless signals from local transceiver over wireless communication link .

In a particular implementation local transceiver may be configured to communicate with UE at a shorter range over wireless communication link than at a range enabled by base station transceiver over wireless communication link . For example local transceiver may be positioned in an indoor environment. Local transceiver may provide access to a wireless local area network WLAN e.g. IEEE Std. 802.11 network or wireless personal area network WPAN e.g. Bluetooth network . In another example implementation local transceiver may comprise a femto cell transceiver capable of facilitating communication on link according to a cellular communication protocol. Of course it should be understood that these are merely examples of networks that may communicate with a UE over a wireless link and claimed subject matter is not limited in this respect.

In a particular implementation base station transceiver and local transceiver may communicate with servers and or over a network through links . Here network may comprise any combination of wired or wireless links. In a particular implementation network may comprise Internet Protocol IP infrastructure capable of facilitating communication between UE and servers or through local transceiver or base station transceiver . In another implementation network may include a cellular communication network infrastructure such as a base station controller or master switching center not shown to facilitate mobile cellular communication with UE .

In particular implementations and as discussed below UE may have circuitry and processing resources capable of computing a position fix or estimated location of UE . For example UE may compute a position fix based at least in part on pseudorange measurements to four or more SPS satellites . Here UE may compute such pseudorange measurements based at least in part on pseudonoise code phase detections in signals acquired from four or more SPS satellites . In particular implementations UE may receive from server or positioning assistance data to aid in the acquisition of signals transmitted by SPS satellites including for example almanac ephemeris data Doppler search windows just to name a few examples.

In other implementations UE may obtain a position fix by processing signals received from terrestrial transmitters fixed at known locations e.g. such as base station transceiver using any one of several techniques such as for example advanced forward trilateration AFLT and or observed time difference of arrival OTDOA . In these particular techniques a range from UE may be measured to three or more of such terrestrial transmitters fixed at known locations based at least in part on pilot signals transmitted by the transmitters fixed at known locations and received at UE . Alternatively in other implementations a difference in range between UE and a pair of base station transceivers may be obtained from a measurement by UE of the difference in transmission timing between the pair of transceivers as seen at the location of UE . The difference in range between UE and two or more different pairs of transceivers may be used to estimate a location of UE by means of trilateration. Here servers or may be capable of providing positioning assistance data to UE including for example locations and identities of terrestrial transmitters to facilitate positioning techniques such as AFLT and OTDOA. For example servers or may include a base station almanac BSA which indicates locations and identities of cellular base stations in a particular region or regions. In some implementations UE may both measure and determine its estimated location whereas in other implementations UE may perform location measurements but return the results of the measurements to a server e.g. server or for computation of a location for UE . In some implementations communication between UE and one or more of servers and to enable UE to perform location measurements and enable UE or one of servers or to determine a location for UE may be according to a control plane location solution such as solutions defined by the 3Generation Partnership Project 3GPP and by the 3Generation Partnership Project 2 3GPP2 . In other implementations this communication between UE and servers and may be according to a user plane location solution such as the Secure User Plane Location SUPL location solution defined by the Open Mobile Alliance OMA .

In particular environments such as indoor environments or urban canyons UE may not be capable of acquiring signals from a sufficient number of SPS satellites or from a sufficient number of base station transceivers whose location are known to perform AFLT or OTDOA to compute a position fix. Alternatively UE may be capable of computing a position fix based at least in part on signals acquired from local transmitters e.g. WLAN access points positioned at known locations . For example UEs may obtain a position fix by measuring ranges to three or more indoor terrestrial wireless access points which are positioned at known locations. Such ranges may be measured for example by obtaining a MAC ID address from signals received from such access points and obtaining range measurements to the access points by measuring one or more characteristics of signals received from such access points such as for example received signal strength RSSI or round trip time RTT for signal propagation. In alternative implementations UE may obtain an indoor position fix by applying characteristics of acquired signals to a radio heatmap indicating expected RSSI and or RTT signatures at particular locations in an indoor area. In particular implementations a radio heatmap may associate identities of local transmitters e.g. a MAC address which is discernible from a signal acquired from a local transmitter expected RSSI from signals transmitted by the identified local transmitters an expected RTT from the identified transmitters and possibly standard deviations from these expected RSSI or RTT. It should be understood however that these are merely examples of values that may be stored in a radio heatmap and that claimed subject matter is not limited in this respect.

In particular implementations UE may receive positioning assistance data for indoor positioning operations from servers or . For example such positioning assistance data may include locations and identities of transmitters positioned at known locations to enable measuring ranges or measuring differences in ranges to these transmitters based at least in part on a measured RSSI and or RTT and or transmission time difference of arrival for example. Other positioning assistance data to aid indoor positioning operations may include radio heatmaps magnetic heatmaps locations and identities of transmitters routeability graphs just to name a few examples. Other assistance data received by the UE may include for example local maps of indoor areas for display or to aid in navigation. Such a map may be provided to UE as UE enters a particular indoor area. Such a map may show indoor features such as doors hallways entry ways walls etc. points of interest such as bathrooms pay phones room names stores etc. By obtaining and displaying such a map a UE may overlay a current location of the UE and user over the displayed map to provide the user with additional context.

In some implementations a pair of UEs e.g. UE and UE in may be in proximity to one another. The proximity may be determined by estimating the geographic location of each UE using for example the methods described previously and determining that the distance between the two geographic locations is less than some maximum threshold. The proximity may alternatively be determined from the ability of one UE to receive a signal transmitted by the other UE with a strength greater than some minimum threshold. The proximity may also be determined from the ability of one UE to obtain an RTT to the other UE by directly exchanging signals with the other UE e.g. using LTE D or WiFi D and measuring the propagation time and subsequently determining that the distance between the two UEs based on the RTT is less than some maximum threshold. The discovery of proximity may occur in one or both UEs or may be performed by a serving network for the UEs e.g. network or by a server attached to or reachable from network such as server or . The discovery may also involve interaction between the UEs the network and or servers and or . In some other implementations the UEs may not be currently in proximity but may be in proximity at a later time with such later proximity predicted or anticipated by the UEs network and or by servers and or . The prediction or anticipation of future proximity may be based at least in part on one or more of i current location speed and heading of one or both UEs ii previous location speed and heading of one or both UEs iii previous user location history for one or both UEs iv determination that both UEs are in the same venue and v determination that UEs are in near proximity to one another.

In accordance with certain aspects various example techniques are provided herein which may be implemented to provide support of discovery for proximity services ProSe and or other like services in general and in certain instances support of communication for individual proximity services using LTE D and or the like.

Some of these example techniques are based on geographic proximity e.g. related to geographic distance between nearby devices and in certain instances ProSe support using LTE D where network support may be unavailable.

As used herein a proximity service may be any service that is provided to the user of a first device and or to an application running on the first device that is contingent on the first device being in proximity to one or more other devices that support or are associated with the same service. A proximity service may just constitute a notification to the user and or to the application that the first device is in proximity to one or more other devices supporting or associated with this service and may in this case provide some identification for each of these other devices e.g. a phone number a subscriber or user identity a device identity as well as information for the other devices such as the location of each device relative to the first device. A proximity service may instead or in addition provide communication capability with the other devices which may require permission from the respective users before being setup in the form of voice video IM and or text to name a few examples. A proximity service may also enhance some existing service for example by replacing some existing communication channel between the first device and one or more of the other devices that is supported by a network with an equivalent communication channel that employs direct device to device communication e.g. LTE D and does not reply on support by a network. Such an enhanced service may improve communication quality reduce communication delay reduce network operator billing and or reduce usage of network resources. A proximity service may be associated with a particular application on a device e.g. may provide enhanced service specifically for this application .

Discovering whether two or more devices are in proximity may be performed in association with the particular service that can be enhanced or enabled by the resulting proximity. In particular it may then be necessary to first determine whether two or more devices are capable of supporting and have an interest in supporting the same proximity service prior to discovering whether they are in proximity since if the devices have no proximity service in common there would be no benefit in their being in proximity. Furthermore some proximity services may be restricted to particular sets of devices or users e.g. a particular set of friends or the employees of a particular company or the customers of a particular shopping chain or particular types of devices e.g. a particular brand of phone or devices or users with some other common characteristic e.g. an interest in stamp collecting . In still other cases proximity services may be restricted to asymmetric groupings of devices e.g. devices belonging to shoppers in a shopping mall and to stores in the shopping mall where proximity is only of interest when it occurs between devices belonging to different categories e.g. shoppers and stores in the previous example . In order to identify proximity services and help determine whether two or more devices have a mutual interest in the same proximity service each proximity service may be assigned an identifier which may employ a particular sequence of bits called an expression .

As used herein an expression may provide a globally unique identification for a particular proximity service performed by and or on behalf of a particular set of users or applications. In certain instances an expression may be represented as a limited number of bits e.g. 128 bits that may be broadcast by UEs and base stations without significant impact on bandwidth usage. A UE that receives an expression broadcast by another UE may then be able to determine whether the expression relates to a proximity service of common interest to both UEs and whether the other UE is also in proximity.

In an example implementation UEs may broadcast one or more expressions in an attempt to discover and be discovered by one or more other UEs. Here for example in certain instances two UEs associated with e.g. that each broadcast the same expression may be assumed to participate in the same proximity service. In order for the proximity service to be provided the two UEs may first need to be within a certain proximity threshold of one another e.g. be in direct radio contact or have a certain maximum geographic separation . Determining that the two UEs support the same proximity service and are in proximity may be referred to as discovery or discovery of proximity or determining a state of proximity. 

In certain example implementations generic expressions may be used and which may be structured in a standardized manner in order to categorize proximity services globally e.g. by partitioning an expression into separate fields each identifying one category of proximity service . In some example implementations application specific expressions IDs may be used and which may be assigned by particular providers of proximity services and or the like and which in certain instances may not conform to any global scheme etc.

Various techniques may be provided for use in obtaining and or using expressions. By way of example in certain instances a specific proximity service or type of proximity support may be associated with a globally unique expression. In certain example implementations Apps on a UE that support or make use of different proximity services may determine the expression that has been assigned e.g. by a global standard or by a provider of proximity services for each supported proximity service via i interaction with the user of the UE or ii interaction with some proximity related server or iii hard coding or otherwise providing the expression as part of the App.

In an example implementation a user may interact with an App and a server and or the like to select proximity support associated with finding a nearby restaurant gas station shop etc. An associated expression or expressions may be provided by the server to the App e.g. possibly with some limited lifetime after which the App may need to re invoke the server to validate current expressions and or possibly obtain new expressions . The App may then invoke proximity services e.g. via interaction with a proximity engine on the UE and or a remote proximity server in the serving wireless network . The App may provide the expressions obtained previously from the server to a local proximity engine and or to a remote proximity server together with proximity related parameters e.g. a maximum distance to define geographic proximity . The proximity engine and or remote proximity server may then invoke standardized proximity support e.g. as described later herein to discover whether other UEs sharing the same proximity service s are in proximity and report back the identities and possibly the locations of any such UEs that share the same expressions that were found to be in proximity.

In certain example implementations one or more operator centric expressions may be utilized. For example it may be worthwhile to vest significant control over one or more expressions in wireless operators in order to bootstrap deployment of a workable system to support proximity services and discovery of proximity with low up front deployment and maintenance costs. To enable this one or more generic expressions may for example be simplified and or standardized e.g. to support specific application specific IDs etc. In certain instances such a generic part including possibly an operator ID may be standardized to enable operator support of proximity category to expression mappings e.g. down to a certain level. In certain instances an application part may be defined by each operator and or by the operators clients. By way of a non limiting example referred to herein as example A a possible standard may support different levels such as e.g. Level 1 proximity category e.g. Retail Online service Level 2 proximity sub category e.g. Friend Finder Level 3 Operator which may instead be defined at level 1 and include country or region Levels 4 either standardized or operator defined. The resulting operator associated expressions may be more like other wireless network IDs e.g. IMSI MSISDN public SIP URI etc.

In certain example implementations support of one or more expressions may be supported by multiple operators. For example in certain instances some clients e.g. a search engine a social network site a department store etc. may obtain a single expression from just one operator for a particular proximity service. Such an implementation may for example make use of support for roaming where an operator X provides support for proximity services for expressions assigned by another operator Y e.g. and may bill operator Y for doing this .

In other instances some clients may obtain a different expression from each of a number of different operators for the same proximity service. With this option different expressions or aliases may arise from different operators which may identify the same proximity service. Operator servers may for example store aliases assigned by other operators assuming these are provided by the client Apps e.g. to enable proximity discovery between UEs accessing different networks and provide additional mapping support between proximity service names and expressions. In certain instances client UEs and Apps may also be made aware of such aliases e.g. in order to use the correct expression s in a serving network and to recognize expressions of interest for discovery. In a particular implementation an expression or expression set may serve as a default in a network whose operator may not have assigned any expressions of its own to a particular client.

In accordance with certain aspects techniques provided herein may support different business models and or relationships. For example in certain instances operators may own an expression space assigned to them in a standard e.g. Levels 4 in the earlier example A and may sell or lease all or possibly subsets of their expression space either single expressions or a set of expressions to their clients. By way of an example a telecommunications company may be assigned an expression space E worldwide or country region specific . As such the telecommunications company may sell or lease subsets E E E of E to a social network provider a search engine provider a news agency respectively. Having purchased or leased subset E the social network provider may itself in certain instances provide sell or lease subsets E E E . . . of subset E to one or more App providers users user groups etc.

In certain example implementations one or more clients may be provided an opportunity to buy or lease expressions e.g. as exemplified above via online means by telephone or through personal negotiation etc. Operators may for example provide LTE D support and or the like for the expressions and expression subsets they sell or lease e.g. as part of the sale or lease . As such there may be no need initially for a complex global system of servers to assign translate and support expressions. Instead each operator may for example provide its own server to support mappings e.g. for its own expressions and aliases .

A client who obtains sets or subsets of expressions by the above means may provide services to its own clients based on the expressions purchased or leased from operators. By way of a first example a social network service and or the like may enable users to setup subscribe to and withdraw from user groups associated with a friend finder service and or the like. For example assume that a user group A currently comprises users A A and A and a user group B currently comprises users B B and B. As such a globally unique expression may be assigned to each group e.g. Group A may be assigned expression EA and Group B may be assigned expression EB. In order to discover one another users A A and A may then broadcast their group expression e.g. expression EA and users B B and B may broadcast their group expression e.g. expression EB . In a second example a social network service and or the like may enable users having a common interest e.g. for gaming antiques art motor bikes to possibly set up and or subscribe to and withdraw from user groups associated with the common interest. Such user groups may then be assigned a group expression for broadcast during discovery. However it may be beneficial for such discovery to be more selective than it might be with regard to a friend finder service e.g. allowing users to hold back from being discovered.

In certain example implementations it may be beneficial to provision one or more virtual UEs and or the like. A virtual UE may be a network supported placeholder for a real UE without the need for actual physical deployment of a real UE. A virtual UE may be supported as logical entity in a network server or web server and may be assigned certain characteristics associated with a real UE and be enabled by the server to perform certain services and engage in certain communication normally supported by a real UE. Thus a virtual UE may be assigned a specific e.g. fixed location a specific UE identity and may be enabled to support certain proximity services. For fixed subscribers e.g. a coffee shop a hotel an airport with an interest in supporting certain proximity services there may then be no need to deploy real mobile or fixed UEs which may simplify deployment by these types of clients by instead deploying one or more virtual UEs able to support the same proximity services. Network operators may then configure information about such virtual UEs and the proximity services they each support e.g. expression s name location associated network cell s other meta data attributes IP address URL s in one or more websites and or the like. In certain instances proximity to real UEs may still be determined e.g. by a network proximity server with access to configured information for virtual UEs based on the actual locations of the real UEs and the configured locations for the virtual UEs. Discovery methods that rely on comparing the locations of UEs may thus be usable if the locations of the virtual UEs are provided to real UEs by the network e.g. via broadcast from base stations such as eNBs or by a proximity server or if comparison of locations is performed in a network server with access to both the actual locations of real UEs and the configured locations of virtual UEs.

One exception to discovery may be radio based D2D discovery which may not be possible since virtual UEs will not be able to send and receive signals to and from real UEs. Should proximity between a virtual UE and real UE be discovered e.g. by the network or by the real UE the network may provide associated meta data including IP addresses and or website URLs to real UEs discovered to be in proximity to virtual UEs. In certain instances Apps or users for the real UEs may then interact with the discovered virtual UEs using the provided IP address and or URLs. The interaction may appear to an App or user for a real UE as being the same as interaction with another real UE but may in fact be supported via interaction with a server or website acting on behalf of the virtual UE. Thus for example in certain instances an App or user for a real UE may not need to be aware whether another discovered UE is real or virtual.

In accordance with certain aspects the techniques provided herein may enable prediction of a geographic proximity between two or more UEs. In one example a geographic proximity may be predicted for two UEs at least in part using current geographic locations and possibly current velocities of the two UEs to determine whether they are or may later be in proximity. Here for example two UEs designated UE A and UE B may be determined to be in geographic proximity if currently within 1000 meters of each other. In another example UEs A and B may be determined to be in geographic proximity if currently within 1000 meters of each other and provided each UE is traveling at less than 5 meters second. The conditions for determining geographic proximity may be defined by a network operator a wireless standard or participating Apps and users e.g. an App that supports or can be provided with a particular proximity service may define the conditions for its UE being in proximity to some other UE for this particular proximity service. In that case different conditions may be defined in which geographic distance may be augmented with other conditions such as the current speed of each UE. Speed may be significant if there is no interest e.g. by a participating UE in discovering proximity to a fast moving UE that may not stay very long in proximity or whose user may not be in a position to communicate or affect a rendezvous with the user of another UE. Of course these are also just a few examples and subject matter is not intended to be necessarily so limited.

In certain instances a predicted geographic proximity may be based at least in part on one or more probable future locations and possibly future velocities of two UEs to determine whether proximity is likely to occur within some time span e.g. within the next hour etc. . A probable future location may be determined in a variety of ways. For example in certain instances a probable future location may be determined at least in part by extrapolating current and past motion of a UE to predict its location or area or volume within which it should be located at some future time.

In another example in certain instances a probable future location may be determined at least in part based on known past behavior of the user e.g. in association with a current location a current day and time etc. For example known past behavior of a user may indicate that the user is likely to be at home in a restaurant at a shopping mall or at a workplace at certain times and on certain days. For example known past behavior of a user may indicate that the user is likely to exhibit certain habits while visiting a certain location such as a shopping mall park or sports arena e.g. possibly after having driven into an adjacent parking lot or parking garage and parked near a particular entrance etc.

In another example known past behavior of a user e.g. as implied by a location history for the UE that may be stored in the UE or in a network location server or network Proximity server may indicate that the user is likely to move some significant distance away from and then back to a certain location e.g. in order to take a daily walk or jog at a certain time each day e.g. possibly along one of a small number of different routes which may be distinguished by the user s heading and location soon after starting.

In still another example known past behavior of the user may indicate that the user is likely to move from location to another e.g. in order commute to or from work or to visit a friend or relative from the user s home or workplace on certain days and or at certain times e.g. possibly using the same route and or traveling at about the same speed each time. Again as with all of the examples herein claimed subject matter is not intended to be necessarily so limited. Based on one or more of the current and past location and velocity of each UE and any known past location history of each UE either of the UEs or a network location server may be able to predict that the two UEs may be in proximity after some time interval with some probability and may be able to estimate the time interval and the probability e.g. at least coarsely . If the time interval is less than or falls below some threshold and or if the probability is greater than or exceeds some threshold an application on each UE or the user of each UE may be informed that both UEs are or may later be in proximity.

For some proximity services e.g. friend relative finder it may be an advantage to inform one or both UEs of imminent proximity before it actually occurs e.g. so that one or both users may adjust their movements to meet up etc. Proximity may thus be indicated based on a prediction before it actually occurs. A prediction may make use of the location history of each UE which in some implementations may be stored only in the UE e.g. for privacy or in other implementations may be stored in a network server with an understanding that the location history is generally or only to be used to provide or enhance service provision to the UE s user. In certain instances to make use of such techniques UEs may be informed of the locations of other UEs possibly even when outside normal proximity bounds to allow any UE to compare both its current location and predicted future locations with the current locations of other UEs and determine whether proximity may occur in the future.

It should be noted that the type of prediction described in association with arrangement in may only be possible in an optimum manner in a network or network server. If prediction is performed by a UE e.g. by UE A or UE B in FIG. the UE may only be in possession of its own location history but not the location history of the other UE for reasons of privacy. Thus for example UE A may be able to determine the area for its own future location with some reliability but may only determine the area for the future location of UE B with lower reliability due to basing this only on the current location and possibly current velocity or UE B but not any previous location history for UE B . However even this more limited capability may be useful e.g. if the area for the predicted future location of UE A overlaps the current location of UE B UE A may predict that proximity between UE A and UE B will be possible.

In example arrangement even though UE A and UE B are currently too far apart to be considered to be within geographic proximity their location in the same venue may justify alerting one or both of the UEs to being in a venue based proximity.

Determining that a UE is within a particular venue may be done by the venue itself. For example WiFi access points base stations or femtocells belonging to the venue may detect the presence of UEs within the venue e.g. when a UE attaches or registers for wireless service or simply transmits an identification such as WiFi MAC address as part of normal wireless operation . Alternatively or in addition a location server belonging to the venue may periodically identify and locate UEs as being within the venue using network based positioning with minimal UE support and or may locate a UE e.g. with UE support whenever an App on the UE or the user requests some service from the venue such as directions or a map In addition UEs passing quickly through or past a venue rather than staying within the venue may be excluded by examining recent location and velocity history in which UEs only temporarily within the venue may be identified from a high sustained velocity or a location history that only temporarily intersects the geographic area of the venue.

In certain implementations a determination of venue based proximity may be supported by the venue itself e.g. by some server belonging to the venue etc. if users and their associated proximity requirements are known to the venue e.g. via some previous registration of a UE with the venue . Alternatively once UEs discover being in a venue e.g. from information provided point to point or by broadcast by the venue the venue information may be added to location information in the UE to enable proximity determination by a UE or by some proximity supporting server in a serving wireless network.

Once two UEs e.g. UE A and UE B are discovered to be in the same venue e.g. by the UEs or by a network proximity server the users of the UEs and or one or more applications on each UE may be notified if the users or applications for both UEs support or have an interest in the same proximity service s . The notification may just indicate that proximity was discovered or may provide an indication that proximity was discovered due to being in the same venue. In the latter case the users or applications can be aware that the UEs and users may not necessarily be sufficiently close to qualify for being in normal geographic proximity.

In certain implementations a distinction may be made between near proximity and actual proximity. By way of example is an illustration showing an example arrangement not drawn to scale wherein various states of proximity may be determined to exist between certain mobile devices in accordance with an example implementation. Here mobile devices are represented by UEs A B C D E F G and H each illustrated as being dispersed within arrangement at different locations. For example UEs A B and C are within a first area e.g. a circle with a radius of 2 km centered at the location of UE A . For example UEs D E F and G are within a second area e.g. an annulus with a circular outer radius of 5 km and a circular inner radius of 2 km both centered at the location of UE A . Additionally UE H is shown as being located at a distance of 12 km from the location of UE A outside of both area and area .

In certain instances UEs are considered to be in near proximity if determined to be too far apart to qualify for actual proximity e.g. threshold based but near enough together that actual proximity may occur after some short period of time e.g. within the next hour . In certain instances being in near proximity may be associated with a distance threshold e.g. the outer radius in that exceeds a distance threshold for actual proximity e.g. the inner radius in . In certain instances for UEs in near proximity direct radio contact and radio discovery may not be possible however e.g. due to relatively large separation distances. Likewise in certain instances a maximum threshold on distance to qualify for being in geographic proximity may be exceeded. Arrangement shows for example that UEs B and C may be in actual geographic proximity to UE A while located within area e.g. applying a threshold distance range of 0 2 km . UEs D E F and G may be in near proximity to UE A while located within area e.g. applying a threshold distance range of 2 5 km . UE H may be determined to be in neither actual nor near proximity to UE A e.g. due to exceeding the example threshold distances ranges . Of course these are just a few examples and subject matter is not intended to be necessarily so limited.

In certain implementations near proximity may not need to be accurately determined because users and Apps may not be informed about it. For example if near proximity has a maximum distance threshold of 5 km and a minimum distance threshold of 2 km as in the previous example it could suffice to determine near proximity when the distance was known only to be in the range 0 10 km. This means that approximate UE locations may be used to discover near proximity e.g. locations determined from the UE s current serving cell or current network area such as a tracking area in the case of an LTE network or a location area in the case of a WCDMA or GSM network or from some previously determined and possibly no longer current location speed and heading. In certain implementations near proximity may be used to assist discovery of actual proximity e.g. on a periodic or other basis.

In certain example implementations a network server and or UE A may periodically or at various times scan using a scan method M and scan rate or scan frequency R for other UEs to determine which ones may be in near proximity to the UE A. In certain instances a network server and or UE A may periodically scan the UEs already found to be in near proximity and optionally already in actual proximity to the UE A e.g. using a scan method M and scan rate or scan frequency R to determine which of these UEs may or may still be in actual proximity to UE A. The scan rates R and R may correspond to the frequency with which scan methods M and M are used by a network server and or UE to determine a state of near proximity and actual proximity respectively between a pair of UEs.

By way of example the scan method M may be simple and efficient and the scan rate R may be low e.g. one scan every 15 minutes . Scan method M may for example consider all UEs that use the same proximity services as UE A and that may be nearby to UE A e.g. which may at times comprise a large number of UEs. An example scan method M may be more complex e.g. possibly more accurate and less efficient than method M and the scan rate R may be relatively higher e.g. one scan every 5 minutes . Scan method M may for example consider UEs already discovered to be in near proximity to UE A e.g. via scan method M . As such the number of such UEs scanned by method M may be significantly reduced e.g. much less than the number of UEs scanned by method M and may even be zero at times. Since method M may scan a relatively smaller number of UEs it may be more complex than method M and hence possibly more accurate without requiring significantly more processing and storage resources than method M. By way of a further example method M may consider or otherwise make use of information indicative of a serving cell a tracking area in the case of LTE a previous possibly no longer current location estimate visible WiFi APs and or the like or some combination thereof. By way of example method M may additionally or alternatively consider or otherwise make use of information indicative of a current geographic location measured RTT between 2 UEs a direct radio detection and or the like or some combination thereof. By way of example method M may be similar to or the same as method M but may use fewer resources than M due to employing coarser location accuracy and or lower scan rate R.

In certain example implementations a network proximity server may be used to discover proximity and near proximity between pairs of UEs. The proximity server may exchange information with UEs via a control plane or user plane based solution. With a control plane solution signaling to support discovery of proximity e.g. signaling between the proximity server and any UE and signaling between the proximity server and other network elements may mainly make use of existing network interfaces and protocols. With a user plane solution signaling between the proximity server and any UE and possibly signaling between the proximity server and other network elements may be conveyed as data by intermediate entities e.g. using TCP IP or UDP IP protocols . Additional aspects of proximity servers and control and user plane solutions are described later herein e.g. in association with and . When a control plane proximity solution is used by an LTE network all or some of the following information may be used to maintain near proximity information for UEs in a proximity server i current tracking area of each UE when in idle mode as known to the serving MME for the UE ii current serving eNB of each UE when in connected mode as known to the serving MME iii proximity services used by or of interest to each UE e.g. as denoted by a unique expression assigned to each proximity service and as provided by the UE to the MME e.g. on network attachment and or as provided by the UE s HSS to an MME when the UE attaches and or iv periodic location estimates for a UE provided by the UE e.g. when a Tracking Update occurs or obtained by the network e.g. instigated by a serving MME or a proximity server .

In certain example implementations if a network proximity server is used with a user plane proximity solution UEs may periodically update the proximity server with the following current serving or camped on cell ID approximate or accurate UE location and or proximity services used by or of interest to each UE e.g. as denoted by a unique expression assigned to each proximity service.

In certain instances with either a control plane or user plane proximity solution a proximity server may use received information e.g. as exemplified above to create update and maintain a list of other UEs in near proximity to any particular target UE e.g. for a proximity service common to such UEs. By such means a network proximity server may establish and maintain a list of other UEs that are in near proximity to some other target UE with respect to one or more or more proximity services of common interest to the target UE and the UEs in near proximity.

If discovery of actual geographic proximity is desired for some UE A a network proximity server may for example obtain accurate location information to verify which UEs that may have already been discovered to be in near proximity to the UE A may be in actual geographic proximity to UE A. In certain implementations UEs may be located by a network e.g. using SUPL or a control plane location solution e.g. on a periodic basis. In certain implementations UEs may be instructed to listen for other UEs and measure and provide the RTT between them. The UE locations and or RTT values may be used to calculate the current distance between UE A and each UE that is in near proximity to UE A in order to determine which UEs in near proximity are currently in actual proximity to the UE A.

In certain example implementations should actual radio proximity be desired to be determined rather than geographic proximity UEs in near proximity may be instructed to enter radio discovery mode e.g. in which each UE may periodically broadcast and or listen for broadcasts from other UEs. In certain instances a server may identify or provide characteristics e.g. signal characteristics for the other UEs in near proximity to a UE A to any UE A to possibly make listening by UE A more efficient. In certain instances UEs may be switched out of radio discovery mode when not needed e.g. if there are no other UEs in near proximity to possibly save on battery as well as radio and processing resources.

In certain example implementations techniques may be implemented to support inter network discovery of near proximity in which UEs served by different networks may be discovered to be in proximity. For example in certain instances UEs may be enabled to discover UEs accessing other networks that share common proximity services e.g. by extending some of the concepts described previously regarding near proximity and actual proximity. Networks e.g. network proximity servers belonging to different networks may for example exchange information regarding near proximity which may comprise an identification L of a location point or location area or volume which may be a coarse location and or an identification P of each proximity service used by at least one UE that may be present near or within the given location area or volume L. In certain instances an identification L may refrain from referring to cells network areas e.g. LTE tracking areas and or the like since such information may be specific to a particular network and may be confidential and not known to other networks. Instead an identification L may for example be defined using standard location coordinates e.g. lat long or using some agreed to set of geographic location areas common to two or more networks such as location areas defined by a grid system e.g. a rectangular grid made up of 200 200 meter cells where each cell has a unique label which is used to define L and is known to all participating networks . A network server N may for example then transfer to another network server N a list of locations L L L . . . and for each location Li may transfer a list of one or more proximity services Pi Pi Pi . . . supported by UEs currently served by network N that may be inside at or nearby to location Li. A network server N may for example use received information from network N to determine whether any of network N s UEs that share the same proximity service s Pi Pi etc. may be in proximity or near proximity to UEs in network N As an example network N may assume near proximity for any proximity service Pm reported by network N for any location area or volume Ln if one or more of network N s UEs subscribing to or supporting or having an interest in Pm may be at in or nearby to Ln since UEs from both networks N and N with an interest in a common service Pm would then be in at or nearby to the same location Ln. The discovery of near proximity in this case may just be limited to a knowledge by each network or each network proximity server that for a certain coarse location L some UEs served by the network at in or nearby to location L are in near proximity to certain other UEs in another network for certain proximity services. While each network or network server may know which of its own UEs are in near proximity to one or more other UEs served by the other network it may not know the identities of these other UEs since they may not have been transferred by the other network or network proximity server . While this information limits discovery of actual proximity without additional information transfer such as that described later herein it may also indicate large numbers of UEs in a network for which near proximity to UEs in another network has not occurred. The network may then be spared from attempting to discover actual proximity for these UEs which may save significantly on processing and signaling usage and thereby enable faster discovery of actual proximity for UEs for which near proximity was first established.

In certain example implementations techniques may be implemented to support inter network discovery of actual proximity. For example in certain instances information exchanged between networks or network proximity servers to discover near proximity may be limited to just coarse locations and associated proximity services and sent infrequently e.g. every 10 minutes as described previously possibly making support efficient. If near proximity is discovered between UEs in two networks for some proximity service P at or nearby to a location L each of the two networks may for example then send to the other network the identities and locations of its own served UEs that subscribe to or make use of service P that may also be at or nearby to location L. Each network or a proximity server in each network may then for example compare locations for UEs that use the same proximity service P to determine which UEs may be in actual proximity. In certain instances information to discover actual proximity such as UE identities and UE locations may be exchanged more often between networks or between network proximity servers than information that is exchanged to discover near proximity and may only need to refer to UEs already discovered to be in near proximity. Although more detailed information may then be exchanged more often to enable discovery of actual proximity than to enable discovery of near proximity the restriction of the detailed information just to UEs already known to be in near proximity may limit the quantity of information compared to what would be needed if the information were to be sent for all UEs served by a network.

If a network N or a network proximity server in network N may be able to reliably verify e.g. authenticate the proximity services used by each of its own served UEs the UE identities transferred to another network N or to a proximity server in network N may be the real ones e.g. may include a global identity of each UE such as a public user ID . These UE identities may then be provided to other UEs served by network N e.g. by a proximity server in network N along with the proximity services used by the UEs in network N after proximity is discovered between pairs of UEs in networks N and N. In this case a UE served by network N that receives the identity of another UE served by network N that is in proximity to the UE in network N can be sure that the proximity services supported or used by the UE in network N are valid and can then decide how to react to the reported proximity. Since the identity of the UE in network N reported to the UE in network N would be a real identity the UE in network N would be in a position to instigate communication with the UE in network N if this was required or useful to support the proximity service s for which proximity had been discovered.

If radio and not geographic proximity needs to be discovered the preceding method of discovering near proximity between UEs in different networks may continue to be used but discovery of actual proximity for UEs already discovered to be in near proximity may be based on an ability to receive signals e.g. with a strength greater than some threshold transmitted by one UE in one network to another UE in another network rather than on verifying a particular maximum geographic separation. A network N or a proximity server in network N may then for example provide another network N with characteristics of signals broadcast by UEs in network N e.g. to possibly allow easier acquisition by UEs in network N that are in near proximity to UEs in network N. In certain instances network N may assign frequency or frequency resources e.g. that network N owns to UEs served by network N e.g. to UEs in network N that are in near proximity to UEs in network N which the UEs in network N may use to broadcast their presence to UEs in network N.

In certain example implementations techniques may be implemented to support notification of proximity to Apps and or users. Assuming that two UEs e.g. UE and UE are discovered to be in actual proximity for a particular proximity service these UEs may be notified in the case that proximity is discovered by a network or by a network proximity server. For example a network proximity server may convey to UE the identity of UE and the particular proximity service for which proximity was discovered. Similar information may also be conveyed to UE . In the case that proximity has been discovered by one or both UEs instead of or in addition to by the network e.g. using direct radio signaling between the UEs or by having signals from one UE relayed to the other UE via one or more other intermediate UEs the information on UE identities and proximity services may already be known to the UEs or to some proximity engine or process running on each UE due to having been included in the signals sent from one UE to the other. For both the network discovery and UE discovery cases one or more applications on the UEs supporting the particular proximity service s may be informed of the discovered proximity e.g. may be provided with the identity of the other UE discovered to be in proximity or provided with a means to communicate with this other UE and or the UE user s may be informed accordingly. Subsequent behavior may be up to the Apps and or users and may include for example different types of communication e.g. speech video IM data or possibly no noticeable action e.g. where users or Apps simply take note of the proximity but defer any action to a later time possibly when some other trigger event has occurred . In certain instances a proximity process or proximity engine on a UE may continue to monitor proximity and inform Apps and or users when proximity to some other UE for some proximity service has ceased e.g. such an occurrence may trigger one or more other actions from the Apps and or users.

In certain example implementations techniques may be implemented to support proximity services without network support e.g. when UEs are outside of network coverage or when network support is not available or cannot be relied upon. For example if proximity services are supported by UEs without the assistance or participation of either a network or network based proximity server UEs may employ direct radio discovery.

In certain instances UEs whose broadcast signals may be directly received by some other UE also referred to as UE A may be considered to be in actual proximity to UE A e.g. either without condition or if the received signals satisfy certain conditions . Here for example a condition may be satisfied if a signal level exceeds some threshold and or if the measured RTT between the UEs is below some threshold. UEs whose signals may not be received directly by UE A Group 1 or whose signals may be received but fall below the required threshold s for actual proximity Group 2 may be candidates for near proximity. For UEs in Group 2 a determination of actual rather than near proximity may be based at least in part on monitored signal levels and or RTTs.

For UEs in Group 1 a determination of near proximity to UE A may for example be possible if each UE also referred to as UE T in Group 1 relays to other UEs by means of broadcast information on all UEs whose signals have been directly detected by the UE T. For example UE A may then receive from those UEs also referred to as UEs B it is in direct contact with information on other UEs also referred to as UEs C in direct contact with UEs B but not in direct contact with UE A. UEs B may for example also relay information on additional UEs also referred to as UEs D not directly detected by UEs B but identified via broadcast from other UEs e.g. UEs C . UE A may thus receive information on all UEs whose information can be sent to UE A either directly as in the case of UEs B or via relaying through other UEs as in the case of UEs C and D . Information broadcast by or relayed for other UEs may for example be indicative of their identities location information e.g. RTTs to other UEs and or location coordinates and or their supported proximity services just to name a few examples. In certain instances UE A may end up receiving information on all UEs and by using the received location information may be able to determine which UEs may be in near proximity to UE A. In certain instances UE A may listen for direct radio signals from UEs found to be in near proximity to UE A in order to determine which of these UEs may be in actual proximity to UE A and or may use received location information to determine when any of these UEs may be in actual proximity to UE A.

In certain example implementations relaying of information by UEs may have some limitations. For example in certain instances unless a UE is surrounded by many UEs in different directions information on some UEs in near proximity may not be relayed. As such in certain implementations a UE may need to listen for direct broadcasts from UEs not so far detected in order to detect early on when they are in actual proximity. In certain instances relaying of information may consume significant bandwidth and or possibly be redundant and possibly wasteful of resources e.g. whenever information on the same UE is relayed to a UE A by more than one neighbor UE or by the same neighbor UE multiple times. This may not always be important however when UEs are out of network coverage because bandwidth may be plentiful e.g. due to no interference with network used bandwidth . In certain implementations the consumption of bandwidth may be mitigated by relaying information periodically at low frequency e.g. every 5 minutes. In certain instances the discovery of near proximity for the case of no network support may be used to support group communications wherein being in near proximity may trigger relaying of communication between UE users.

In this example UE A directly detects the presence of UE B from signals broadcast from UE B such as signal and can learn about UE C and UE D from information relayed by UE B. However there may be no UE within radio coverage of UE A that can relay information received directly from UE E and UE F even though these may be in near proximity to UE A. However UE E may broadcast information to UE F which may broadcast its own information and relay UE E s information to UE D which may in turn relay this information to UE B and thence to UE A. For example the signal may include information about UE E signal may include information about UEs E and F signal may include information about UEs D E and F signal may include information about UE C and signal may include information about UEs B C D E and F. Therefore for example relaying may transfer information concerning each UE to all other UEs. Relaying information within a set S of UEs in the above manner may be possible unless the set S contains 2 or more subsets S S S . . . with each UE in any subset Si being out of radio range of every UE in every other subset Sj.

In certain example implementations a method of relaying information among a set of UEs without network support may be for every UE A to broadcast information for every other UE B whose information is received either directly from the UE B or via relaying from some other UE C. This may result in each UE in any set S of UEs broadcasting information for every other UE in S provided no subset of S is out of radio range of any other subset of S. This may for example produce unnecessary broadcast and unnecessary extra use of bandwidth as well as continuing to propagate out of date information e.g. location information for some UEs. To reduce unnecessary broadcast and or avoid out of date information in certain instances information on each source UE may be tagged by the source UE in some manner e.g. explicitly with a version number V or timestamp TS and implicitly or explicitly with a duration D where an implicit duration D could be a system parameter configured in all UEs . In certain implementations a UE receiving information for a UE may only accept the information if the associated version V or timestamp TS which may have been originally assigned by UE is higher than or later than the version or timestamp respectively for any other information for UE received previously by UE otherwise the newly received information may be ignored. If UE receives new higher version or later timestamped information for UE it may broadcast the new information for the duration D and may thereafter discard the information. A version V or timestamp TS used to tag information for any source UE may for example be incremented by the source UE even if there is no change in the information e.g. to ensure other UEs know the unchanged information is still up to date.

In certain example implementations techniques may be implemented to support efficient relaying of information among UEs without network support via means of acknowledgment s . In certain example implementations a UE may stop broadcasting or relaying certain information also referred to as information I once it knows that all interested UEs within direct radio range of UE already have the information I. Another UE may for example effectively confirm receipt of information I to UE via either explicit or implicit acknowledgment.

By way of example with an explicit acknowledgment UE may observe UE broadcasting the same information I. For example assuming information I relates to some UE information I can be uniquely labeled using some identifier for UE plus an information version V or timestamp TS assigned originally by UE . For explicit acknowledgment of information I UE may observe UE broadcasting information for UE e.g. labeled with the identifier for UE and with the same version V or timestamp TS that UE already has.

In certain instances with implicit acknowledgment UE may broadcast information I e.g. information related to another UE designated UE together with a tag value TV unique to T e.g. which may comprise the ID of UE plus a sequence number assigned by UE . Information I may include the identity of the UE to which it relates e.g. the identity of UE and a version or timestamp assigned by this UE in order to allow receipient UEs to determine whether the information I has already been received or is new. Any UE that receives information I together with TV directly from UE may include TV in all broadcasts of its own and continues broadcasting TV so long as it receives information I together with TV from UE . However TV may not be relayed when information I is received together with TV from a UE that is not UE . UE may continue to broadcast TV or an updated version of TV along with information I e.g. so long as information I is broadcast. If UE observes UE broadcasting TV or an updated version of TV it may determine that UE has received information I. In certain instances TV may also be used by UE to tag other information items J broadcast or relayed by UE such as information items related to UE and or information items related to UEs other than UE or UE . In some implementations TV may be quite short e.g. much smaller than the information I that TV is used to tag and may thus be a more efficient means of acknowledging information I than broadcast of information I itself. Once all UEs from which UE may receive broadcast directly have explicitly acknowledged information I e.g. via broadcast of information I or implicitly acknowledged information I e.g. via broadcast of a tag value TV UE may stop broadcasting or relaying information I.

As shown in the message may be received by UE B. Subsequently the UE B relays the contents of the message by generating and broadcasting a message . For example the message may include the same broadcast information I the version V and the identity UE ID of the source UE that was received in the message . As further shown in the UE C receives the message . Subsequently the UE C broadcasts the contents of the message by generating and broadcasting a message . The message broadcasting and relaying by UEs B and C may be intended to help distribute the information I to a set of nearby UEs e.g. to assist in determining proximity of certain UEs and or to help enable certain services dependent on UEs being in proximity to one another. The message may include the same broadcast information I the version V and the identity UE ID of the source UE that was received in the message . After receiving the message the UE B may determine that the version V and the identity UE ID of the source UE in the message are the same as the version V and the identity UE ID in the previously broadcasted message . Therefore the UE B may consider the received message as an explicit acknowledgment that the UE C received the message and may cease to relay the message .

In another aspect the message may include a timestamp TS instead of the version V and the message may include the same timestamp TS instead of the version V. The UE B may determine that the timestamp TS and the identity UE ID of the source UE in the message are the same as the timestamp TS and the identity UE ID in the previously broadcasted message . Therefore in such aspect the UE B may consider the received message as an explicit acknowledgment that the UE C received the message and may cease to relay the message .

In an aspect the message may not be sent by UE A nor received by UE B. In this aspect UE B may instead generate the broadcast information I and version V or timestamp TS itself e.g. by receiving the information I internally from some application or process on UE B. In this aspect messages and may be sent and received as described before but with the source UE now being UE B.

As further shown in after the UE C receives the message the UE C broadcasts a message containing information I and the tag value TV received in message . The information I may include e.g. may be the same as the information I received in message and or may contain different information e.g. information related to UE C . In some implementations the information I may not be included. After receiving the message the UE B may determine that the tag value TV in the message is the same as the tag value TV in the previously broadcasted message . Therefore the UE B may consider the received message as an implicit acknowledgment that the UE C received the message including the information I and may cease to broadcast the message .

In an aspect the message may not be sent by UE A nor received by UE B. In this aspect UE B may instead generate the information I itself e.g. by receiving the information I internally from some application or process in UE B and may further generate any UE identity UE ID version V or timestamp TS included in the information I. In this aspect messages and may be sent and received as described before but with the source UE now being UE B.

In certain instances such explicit and implicit acknowledgment mechanisms as those described above may allow more efficient broadcasting and relaying. In an example implementation a UE may initially broadcast any updated information I for itself and may include a higher version number V or later timestamp TS for information I. UE may for example likewise relay any updated information I received for another UE as indicated by a higher version V or later timestamp TS assigned by UE than previously received for UE by UE . Once all other UEs S from which UE receives broadcasts directly have explicitly or implicitly acknowledged information I and or explicitly or implicitly acknowledged information I UE may cease broadcasting information I and or cease relaying information I in each case respectively e.g. in the case of information I UE can then ignore information I when received from other UEs . In certain instances UE may resume broadcast of information I or resume relay of information I if information I is updated or UE receives a newer version of information I with a higher version V n or later timestamp TS x in each case respectively. UE may then wait until the new information is acknowledged implicitly or explicitly by all UEs in direct radio range before ceasing broadcast or relaying. UE may also resume broadcast of information I or resume relay of information I if UE receives a direct broadcast from a new UE not in the previous set S that does not contain or implicitly acknowledge information I or I respectively or contains an earlier version of either information. UE may then wait until the new UE explicitly or implicitly acknowledges information I or I in each case respectively before ceasing broadcast or relaying.

The previous mechanism may not guarantee that a UE will always receive an acknowledgment from another UE for information I broadcast or relayed by UE . There may be cases where UE has information I and either a does not receive UE s broadcasts directly or b observes UE broadcasting information I and concludes that because UE and all other UEs in range of UE has have information I UE does not need to send information I. Case b above may be avoided if UE employs implicit acknowledgment because UE may still have to broadcast any tag value TV sent by UE in association with information I which will then implicitly acknowledge information I to UE . For case a above UE may observe UE not broadcasting information I and conclude UE does not have I leading UE to keep sending information I. Case a may be fairly rare because it depends on unsuccessful UE to UE transmission and successful UE to UE transmission but may be possible due to different transmission powers and receiver sensitivities in UE and UE . To mitigate case a in certain instances a UE may periodically resend any information I even when all UEs in direct radio contact appear to have acknowledged information I. In the example above this would lead UE to periodically resend information I and therefore confirm receipt to UE enabling UE to cease sending information I. In addition whenever information I changes UEs may send the newer version of information I which will terminate transmission of the older version of information I in UEs such as UE above.

Reference is now made to which is a flow diagram illustrating a process which in accordance with certain example implementations may be implemented to support all or part of an example general broadcast and relaying method among UEs without network support. In support of such a method at example block each UE may start by periodically broadcasting information for itself comprising and or other indicating for example its identity current location and supported proximity services and an information version or timestamp. Each UE may also listen at example block for broadcasts from other UEs e.g. when not engaged in performing block and may store any information received from other UEs. If a UE receives information from some other UE the received information may at example block be combined with other information previously received such that any received information with version V or timestamp T that is related to some UE replaces any previous information for UE that has a version less than V or a timestamp prior to T. A UE may continue to broadcast information for itself at example block e.g. as at block but once the UE has received information related to one or more other UEs at blocks and the UE may also relay such information along with its own information. At example block a UE may determine that another UE has acknowledged information that UE sent previously related to some UE if information is received from UE that implicitly or explicitly acknowledges this information e.g. as described previously . It should be noted that UE at block may be a different UE to UE or may be UE . At example block if all UEs from which UE receives broadcast explicitly or implicitly acknowledge the information stored in UE for any UE UE may cease relaying information for UE . At example block a UE may later resume relaying information for a UE e.g. after receiving new information for UE e.g. with a higher version or later timestamp or after receiving a direct broadcast from some UE that did not yet acknowledge the information stored in UE for UE .

In certain example implementations techniques may be implemented to support relaying of information between UEs without network support using information tags. The techniques support an explicit request for transmission of missing information and are referred to here as tagged transmission . The previous explicit and implicit acknowledgment mechanisms may in certain situations produce unnecessary broadcasting e.g. until a sender receives sufficient acknowledgments to cause the sender to stop sending . To reduce unnecessary transmission further tagged transmission may be used in which information items may be associated with a unique tag. For example information related to a particular UE may have a tag comprising the UE s identity ID an information type or information identifier and a version number or timestamp. In one implementation a tag T related to information I for a particular UE may be generated by UE broadcast by UE along with I and subsequently relayed along with I by other UEs. A UE that receives or internally generates information I with tag T may then relay or broadcast respectively I and T together a few times and subsequently just relay or broadcast T without I which may be much smaller than I. A UE that detects UE relaying or broadcasting T but not I may then broadcast a request for I if it does not yet have I or only has an earlier version of I associated with a tag with a lower version number or earlier timestamp by sending the tag T together with a request indication. UE may for example determine at least in part from the content of the tag e.g. from any UE ID and information type identifier in the tag whether or not UE wishes to receive I and thus whether or not to request I by broadcasting a request indication together with the tag T. Should UE decide to request I UE may for example optionally include UE s ID as well as the tag T in the request to indicate that UE but not other UEs should transmit I. The inclusion of UE s ID in the request may avoid additional transmission from other UEs. If UE detects the request for I from UE UE may send I and T together once or several times so that UE may obtain I. If UE does not receive I it may repeat the request and UE may repeat sending I. Once UE has information I it may signify this to UE e.g. by broadcasting just the tag T without I and not in association with a request. As an alternative to requesting transmission only from UE UE may send a request for I but not include the ID of UE in which case any other UE that has the information I and the associated tag T may broadcast I and T once or several times to enable receipt by UE .

For simplicity and efficiency in certain example implementations of tagged transmission a request for information I associated with a tag T may optionally be signaled by a null request. In this case a UE may assume another UE requests information I that is associated with a tag T if UE does not see UE sending either I and T together or just T without I. With this implementation each UE may periodically send either the latest information e.g. information I and associated tag e.g. tag T associated with some other UE such as a UE or just the tag e.g. tag T without the information. The lack of receipt of either I and T or a later version of I and T or just T or a later version of T from some other UE such as UE may then be taken as evidence that the UE does not have the information I for the UE and thus needs to be sent the information I and associated tag T. The use of a null request may be efficient when information needs to be sent to all UEs e.g. UEs will not be able to selectively request or not request different information items .

When tagged transmission is used as described above and with or without the use of a null request a UE may resume sending any information I associated with a tag T whenever it receives or internally generates a later version of information I associated with a new tag with a higher version or later timestamp than that for the previous tag T. For an asymmetric case where a UE may receive signals from another UE but where UE is unable to receive signals from UE UE will not be able to send information I to UE even if UE sees a request for information I from UE . Since UE would have learnt of information I from some UE which would generally not be UE since it is assumed that UE cannot receive from UE there is a chance that another UE that is not UE may be able to send information I to UE . If not UE may observe UE requesting information I and consequently may send information I but without UE being able to receive information I. In this case the unnecessary transmission from UE may in certain instances still be limited by a limit on the number of transmissions of information I from any UE that may be imposed for the tagged transmission technique. In another asymmetric case where a UE may receive signals from UE but UE is unable to receive signals from UE the UE may request information I but UE will not see the request. UE may for example repeat the request for information I many times without receiving I but if the size of T is small this may not use much bandwidth. In general tagged transmission schemes may be efficient when the information I size is large and the tag T size is small which may arise when information is exchanged among UEs without network support via broadcast and relaying to support individual proximity services after proximity or near proximity has been discovered.

As shown in the message may be received by UE B. Subsequently the UE B relays the broadcast information I of the message by generating and broadcasting a message . In an aspect the message may include the information I and the tag T previously received in message . In another aspect the UE B may generate a different tag T than the tag received in message . For example the different tag T may comprise an identity UE for UE B an information type or identifier for the information I and a version or timestamp generated by UE B. Message may also identify UE B as the sender e.g. may include an identity UE for UE B.

As further shown in after the UE B broadcasts the message the UE B broadcasts the message . In an aspect the message includes the tag T but not the information I. Message may also identify UE B as the sender e.g. may include an identity UE for UE B. After UE C receives the message and assuming UE C did not receive the message e.g. due to transmission errors or lack of signal reception the UE C may broadcast a message that includes the tag T from message and a request for the broadcast information I associated with the tag T. In an aspect the UE C may include the identity of the UE B e.g. UE in the message e.g. as indicated in the message . After receiving the message the UE B identifies the tag T and detects that the UE C is requesting the broadcast information I from the UE B. In an aspect the identity of the UE B e.g. UE in the message indicates that UE B and no other UE should transmit the requested broadcast information I.

In response to the request for the broadcast information I from the UE C UE B transmits the message that includes the information I and the tag T. In an aspect if the UE C does not receive the message the UE C may rebroadcast not shown in the message one or more times to request the broadcast information I. If the UE C receives the message the UE C may indicate that the message was received by subsequently broadcasting the message that includes only the tag T e.g. the same tag T received in message . Upon receiving the message and identifying the tag T broadcasted from the UE C the UE B can determine that the UE C has received the broadcast information I and may cease any subsequent broadcasts of the broadcast information I.

In an aspect the message may not be sent by UE A nor received by UE B. In this aspect UE B may instead generate the information I itself and the tag T e.g. by including in the tag T the identity UE of UE B an identifier or type for the information I and or a sequence number version or timestamp for the information I. In this aspect UE B may receive the information I internally from some application or process on UE B. In this aspect messages and may be sent and received as described before but with the source UE now being UE B.

Information for a UE T that is broadcast or relayed among other UEs may be used to support discovery of the UE T by one or more of the other UEs for different proximity services and may be used to assist proximity services being used by the UE T. For example a set of information A related to a UE T that is broadcast by UE T and or relayed by other UEs to support discovery of proximity for UE T may be indicative of an identity of the UE T a list of proximity services supported by UE T e.g. with each proximity service identified by means of a unique expression identities of other UEs T known by UE T to be in direct radio range of UE T and or location and signal information for UE T and UEs in T just to name a few examples. A different set of information B related to UE T that is used to assist proximity services in use by UE T may be indicative of i message s for any proximity service P in use by UE T that is are intended to be transferred to other UEs in proximity to UE T ii identities of UEs previously discovered to be in proximity to UE T which may constitute a recipient list for the information iii information to setup or release sessions or connections between UE T and other UEs in proximity to UE T and or iv data traffic between UE T and other UEs in proximity to UE T e.g. speech video clips IM just to name a few examples. In certain instances information sets A and B above may be distinguished and supported differently e.g. using different protocols and different broadcast and relay mechanisms for information set A versus information set B. In certain instances information set B for UE T that is used to assist proximity services in use by UE T may be transferred to other UEs via a more efficient means of broadcast and relaying than information set A that is used to support discovery of proximity by or for UE T. This may be due to a likelihood of information set B being much greater in size than information set A.

In certain example implementations techniques may be implemented to support routing of certain communication between UEs. The previous example mechanisms e.g. using explicit acknowledgment implicit acknowledgment and tagged transmission may enable information to be broadcast and relayed throughout a group of UEs without network support but may not be suitable for directed communication e.g. where a UE may need to send signaling data or voice to just one other UE or to a particular group of UEs within a larger set of UEs. In some instances in order to support directed communication each UE T may support a hop by hop method of routing by maintaining a routing table showing other UEs in direct radio range of UE T via which communication can be transferred to any other destination UE. Such a routing table may for example be compiled via information received by each UE as part of proximity discovery support e.g. as enabled by broadcast and relaying of information items in information set A described previously herein . In certain implementations a routing table at a UE T may be next hop based showing for each destination UE D other UEs S in direct radio range to UE T via which information can be relayed from T to the destination UE D. In certain instances such a table may identify a subset of UEs S in S that are able to relay information to UE D via a minimum number of additional relay UEs. If UE T needs to send or relay a message to UE D it may forward the message to some UE t in S . If S contains more than one UE t may for example be chosen by T from within S a at random b based on known e.g. reported relay or throughput capabilities of each UE in S c based on a reported congestion status of each UE in S or d via some combination of a b and c . The UE t to which UE T forwards the message would then if it is not the destination D forward the message to another UE using the same routing method as used by UE T. Eventually the message may reach the destination UE D via a minimum number of intermediate relay UEs or hops . UE T may maintain signaling links or data links to the UEs in S e.g. so messages may be efficiently forwarded. In certain implementations a routing table at UE T may instead enable source routing by providing a complete sequence of intermediate relay UEs via which communication may be routed to any destination UE D from UE T. Such a source routing table may be compiled by any UE T based on information received from UEs related to discovery of proximity e.g. based on information of the type described previously for information set A . In certain instances UE T may include in any message to be sent to a destination UE D using source routing a sequence of the intermediate relay UEs via which the message may be relayed in order to allow each intermediate relay UE to determine the next UE to which the message should be sent.

In certain example implementations techniques may be implemented to support broadcast and relaying of information among UEs to support various group services. In certain instances a group of UEs in proximity to one another may use a group proximity service e.g. i enabling one user to communicate with all the other users in the group or communicate selectively with some of the other users or ii enabling one UE to exchange information automatically with some or all of the other UEs in the group e.g. location information and sensor information for the environment . Such group proximity service s may be used for public safety and by various closed user groups e.g. associated with a particular company a club a gaming service or some private interest group just to name a few examples. To support such group service s it may be beneficial for each UE to be informed of the identities of other UEs engaging in the same service and which may be in proximity or possibly in near proximity . To establish proximity without any network support e.g. when UEs are out of network coverage the previous methods of broadcast and relaying and or the like may be used.

In certain example implementations techniques may be implemented for server support of proximity discovery. In such a case a network that supports discovery of proximity for the UEs that it serves may contain a server referred to here as a proximity server or network proximity server that enables discovery of UEs that use or have an interest in the same proximity service s and are in proximity to one another. Information concerning UEs discovered to be in proximity to one another may then be transferred by the proximity server to the concerned UEs to enable the UEs or certain applications on the UEs or the UE users to engage in proximity services of mutual interest to one another. In certain example implementations for networks that support LTE a network proximity server may obtain proximity data for all UEs in a served area directly from the UEs and or from MMEs and eNodeBs in the network that serve these UEs. In certain instances a proximity server may comprise a new entity or a new logical function in an existing entity or subsystem e.g. eNodeB MME PDG IMS SLP E SMLC and may reside in a serving network for a UE.

In certain example implementations a network proximity server may scan data it receives that is related to UEs in its serving area for potential proximity matches. For example a network proximity server may i find all UEs using or having an interest in the same proximity service ii authenticate UE association with each proximity service that a UE claims is used or of interest iii verify geographic cellular or probable radio proximity conditions for UEs that make use of or have an interest in the same proximity service and or iv where a set S of UEs using or interested in the same proximity service are discovered to be in proximity send data on each UE in S to some or all of the other UEs in S according to which UEs in S are allowed to receive this data.

In certain example implementations a network proximity server may instead or in addition broadcast all proximity data that it receives e.g. from UEs MMEs eNodeBs to all UEs served by the network with UEs then responsible for proximity discovery. In certain instances data broadcast in each network cell may comprise data applicable only to UEs in or nearby to the cell to reduce the amount of broadcast data.

In certain example implementations a UE or the serving MME eNB for a UE may update data in a proximity server related to discovery of proximity periodically or whenever there may be some change in the data. By way of example certain updated data for a particular UE may indicate a change of UE serving cell a change of UE location a change of a set of other UEs detected by the UE via LTE D and or a change of user or App requirements in the UE related to a certain proximity service.

In certain example implementations a network proximity server may remove data it has for a UE following a timeout e.g. in response to not receiving further data updates from the UE. In certain instance a network proximity server may receive proximity data e.g. for network defined proximity services via certain operations and maintenance functions and or from other network servers etc. In some implementations network proximity server support may not be needed for proximity services that only make use of radio proximity and can be supported by UEs without network assistance.

In certain example implementations techniques may be implemented for LTE D support and discovery of proximity by a network proximity server. For example in certain implementations proximity discovery by UEs using direct radio signaling e.g. LTE D may be enabled to run autonomously for some user cases e.g. public safety. In certain instances network control of direct radio e.g. LTE D discovery may be optional. For example a network may inform UEs whether or not direct radio discovery may be permitted and provide physical and transport related parameters to assist UEs to discover proximity e.g. may provide frequencies and signaling related parameters that UEs should all use for direct radio discovery . In some instances if network control is absent e.g. not implemented proximity services may simply be unavailable or may be supported using default information configured in each UE e.g. permitted spectrum in the case of proximity services for public safety .

In certain example implementations discovery of proximity by a network proximity server may be optional and may instead be supported by UEs if requested by the serving network. In certain instances some network control parameters for proximity discovery may be broadcast to UEs and or provided to UEs on network attachment or for IMS control on IMS registration. Network control parameters may for example specify how interaction between UEs and the network proximity server may operate e.g. whether UEs need to send data to a proximity server concerning UEs discovered via direct radio contact. In certain instances discovery by network proximity servers of proximity between UEs served by different networks may need to take account of UE subscription data or user preferences e.g. in order to protect UE or user identities when sending proximity related information to another network and or restrict the degree to which a UE in one network can be discovered to be in proximity to a UE in another network. In certain implementations applications may attempt to set proximity service parameters to maximize use of direct radio discovery due to normal higher efficiency than network discovery of proximity .

Attention is drawn next to which is a schematic block diagram illustrating an example arrangement in which discovery of proximity between nearby devices is discovered by or with the assistance of a network proximity server in an LTE network that makes of control plane based signaling to communicate with other entities. As illustrated example arrangement may comprise an eNB coupled to a UE and also an MME . MME may be coupled to a proximity server and possibly to an E SMLC . In certain implementations as illustrated by the dashed line box proximity server and E SMLC though logically separate may be physically combined e.g. to benefit from proximity location synergies etc. or may be physically separate and enabled to communicate via a communications link. Control plane based signaling may be supported between UE and proximity server for example using NAS capabilities and NAS signaling that may be partly defined already for 3GPP networks in such 3GPP TSs as TS 24.301. Proximity server may obtain proximity related information for UE e.g. UE identity UE location UE serving cell serving eNB or TA nearby UEs detected by direct radio means proximity services supported by or of interest to the UE directly from UE e.g. using the aforementioned NAS signaling and or from eNB and or MME . Location related information for UE may in addition or instead be obtained by proximity server from E SMLC . To locate a target UE e.g. UE proximity server may send a location request to serving MME for UE . In certain instances MME may transfer such a request to E SMLC which may then locate UE using 3GPP control plane procedures e.g. as defined in 3GPP TS 36.305 and return the location result to MME and thence to proximity server . Proximity server may use the information obtained for UE and other UEs to determine which UEs may be in proximity or near proximity and or to predict the probable future occurrence of proximity as described elsewhere here. Proximity server may then inform UEs e.g. UE discovered to be in proximity to other UEs using control plane signaling.

Attention is next to which is a schematic block diagram illustrating an example arrangement in which discovery of proximity between nearby devices is discovered by or with the assistance of a network proximity server in an LTE network that makes of user plane based signaling to communicate with other entities. In contrast to control plane support as illustrated in user plane support may reduce impacts to network eNBs and MMEs to support discovery of proximity. Example arrangement may comprise an eNB coupled to UE and also an MME . MME may be coupled to a proximity server . As shown eNB may be coupled to an SGW which may be further coupled to a PDG . PDG may be coupled to proximity server and to a SUPL SLP and proximity server may be coupled to SLP . In certain implementations as illustrated by the dashed line box proximity server and SLP though logically separate may be physically combined e.g. to benefit from proximity location synergies etc.

In this example two potential signaling paths are indicated the first comprising MME Proximity Server Signaling e.g. which may add efficiency and the second comprising UE Proximity Server Signaling. As for a control plane based proximity server e.g. server in proximity server may obtain information to support discovery of proximity between UEs directly from the UEs e.g. UE using user plane signaling in which information may be sent in the form of data e.g. using TCP IP from a network perspective. The information may be similar to or the same as in FIG. e.g. may include UE identity UE location UE serving cell serving eNB or TA other nearby UEs detected and proximity services supported by or of interest to the UE. Proximity server may also obtain some or all of this information from MME if proximity server is linked to MMEs. In certain implementations a proximity server address e.g. the IP address or the FQDN for proximity server may be discovered by UE e.g. using the IETF DHCP protocol or may be provided to UE e.g. on network attachment by MME or on connection to PDG or may be broadcast to all UEs by eNBs such as eNB . UE may then use the discovered address for proximity server to transfer data to proximity server and or request data from proximity server . In some instances proximity server may use a SUPL SLP to assist with UE location. Thus for example proximity server may send a location request for some target UE directly to an associated SLP after which SLP may invoke SUPL to locate the UE and return the location to proximity server .

Attention is drawn next to which is a schematic block diagram illustrating an example arrangement in which discovery of proximity between nearby devices is discovered by or with the assistance of a network proximity server that makes use of IMS based signaling to communicate with other entities. Example arrangement may support UE proximity server signaling in an LTE network and may comprise an eNB coupled to UE and also an MME . As shown eNB may be coupled to an SGW which may be further coupled to a PDG . PDG may be coupled to an SLP and to an IMS . In this example IMS may comprise a P CSCF coupled to PDG and to an S CSCF . S CSCF may be coupled to a proximity server . Proximity server may be coupled to an LRF . Proximity server may function as an IMS Application Server AS in some implementations. In certain implementations as illustrated by the dashed line box proximity server and LRF though logically separate may be physically combined e.g. to benefit from proximity location synergies etc. As for a control plane or a user plane based proximity server e.g. server in or server in proximity server may obtain information to support discovery of proximity between UEs directly from the UEs e.g. UE using IMS based signaling in which information may be sent in the form of data and contained in SIP messages. The information may be similar to or the same as in FIGS. and e.g. may include UE identity UE location UE serving cell serving eNB or TA other nearby UEs detected and proximity services supported by or of interest to the UE.

In certain implementations proximity server may reside in the home network of UE rather than in the serving network for UE except when the serving network for UE is the home network . However in certain instances this variation may be unable to detect proximity for roaming UEs without some further interaction between the home network of a roaming UE and the serving network of the UE e.g. involving interaction between the proximity servers in different networks . In certain implementations it may be beneficial to make use of certain new SIP signaling parameters. One advantage may be proximity support of certain IMS services e.g. use of LTE D for network offload which may trigger IMS communication between two UEs e.g. after proximity is detected.

In certain example implementations techniques may be implemented to support various protocol aspects that may be implemented in certain example proximity services. In certain example implementations a network proximity server may be based on control plane CP or user plane UP signaling support e.g. as described previously for and respectively. In certain instances a network proximity server may be located in a serving network e.g. not necessarily a home network with respect to all UEs served by this network that make use of or have an interest in proximity services. In an example network mode of operation such UEs may have network connectivity and the network may assist with discovery of proximity and with enabling communication via direct radio means e.g. LTE D for certain UEs found to be in proximity. In an example LTE D mode of operation applicable to an LTE network such UEs may discover proximity using LTE direct LTE D signaling between one another. In certain instances an LTE D mode of operation may be used without network support e.g. if there is no network coverage or with network support e.g. when proximity discovery may be supported via i LTE D signaling between UEs and ii a network proximity server that may receive information from UEs obtained via LTE D signaling and then proceed to discover cases of proximity using this information . In certain example implementations protocol layering for ProSe support may extend existing CP and UP protocol layering for LTE e.g. as defined in 3GPP TS 23.401.

Attention is drawn next to and which illustrate some example control plane protocols that may be implemented to transmit receive and or relay information for use in determining a state of proximity between two or more mobile devices in an LTE network in accordance with an example implementation. shows example CP Protocols that may support a network mode using a network CP Proximity Server e.g. as described earlier in association with . Included in CP Protocols are corresponding protocol stacks for a UE for an eNB for an MME and for a network CP Proximity Server. CP Protocols may be applicable if a network uses a CP proximity server and provides protocol support for signaling between example network resources and a UE. As shown an example stack may comprise various layers such as an L1 MAC RLC PDCP RRC NAS and a PDP Proximity Discovery Protocol . As shown an example stack may comprise various layers such as an L1 L2 MAC IP RLC PDCP SCTP RRC and S1 AP. As shown an example stack may comprise various layers such as an L1 L2 IP SCTP S1 AP PS AP Proximity Services Application Protocol and NAS. As shown an example stack may comprise various layers such as an L1 L2 IP SCTP PS AP and PDP. All protocol layers except for the PS AP and PDP layers may function as described in 3GPP and other e.g. IETF standards. For example the NAS RRC S1 AP MAC RLC and PDCP protocol layers may operate as described in 3GPP TSs 24.301 36.331 36.413 36.321 36.322 and 36.323 respectively whereas the SCTP protocol layer may operate as described in IETF RFC 4960. The PS AP and PDP layers may be new layers defined specifically for support of proximity services using a network based proximity server. As shown in protocol layers may be paired to support communication between a pair of entities which may either be directly connected e.g. to support communication by lower protocol layers or separated by one or more intermediate entities functioning as relays.

PDP may represent a protocol layer that may be used to discover proximity services e.g. in accordance with various techniques provided herein. In certain implementations different variants of PDP may be used in network mode as shown in versus LTE D mode e.g. as shown in or different protocols could be used. Accordingly is illustrated using a PDP layer that may be similar to but not necessarily identical to the PDP layer shown in . For example PDP and PDP could share common procedures messages and parameters but some procedure messages and or parameters may be different.

Attention is now drawn to and which illustrate some example user plane protocols that may be implemented to transmit receive and or relay information in an LTE network for use in i determining a state of proximity between two or more mobile devices in the case of and ii transferring data voice or other media between a pair of UEs in the case of in accordance with an example implementation. shows example UP Protocols that may support a network mode using a network UP Proximity Server e.g. as described earlier in association with . Included in UP Protocols are corresponding protocol stacks for a UE for an eNB for an SWG for a PDG and for a network UP Proximity Server. UP Protocols may be applicable if a network uses a UP proximity server and provides protocol support for signaling between the network and UE. As shown an example stack may comprise various protocol layers such as an L1 MAC RLC PDCP IP TCP TLS and PDP. As shown an example stack may comprise various layers such as an L1 L2 MAC RLC UDP IP PDCP and GTP U. As shown an example stack may comprise various layers such as an L1 L2 UDP IP and GTP U. As shown an example stack may comprise various layers such as an L1 L2 L3 UDP IP GTP U and IP. As shown an example stack may comprise various layers such as an L1 L2 L3 IP TCP TLS and PDP. All layers except the PDP layer may function the same as described in 3GPP IETF and other standards Thus for example the MAC RLC PDCP and GTP U protocol layers may operate as described in 3GPP TSs 36.321 36.322 36.323 and 29.060 respectively whereas the UDP TCP and TLS protocol layers may operate as described in IETF RFCs and respectively. The PDP layer may be a new layer defined specifically for support of proximity services using a network based proximity server and may be similar to or the same as the PDP layer shown in . As shown in protocol layers may be paired to support communication between a pair of entities which may either be directly connected e.g. to support communication by lower protocol layers or separated by one or more intermediate entities functioning as relays.

In certain example implementations techniques may be implemented to support ProSe signaling in an LTE network using the RRC protocol layer e.g. as in association with the protocol layering described for . In some implementations certain RRC roles may be common to both a network mode of operation as shown in and an LTE D mode of operation as shown in . For this common mode of operation RRC may be used to broadcast or for LTE D mode relay information used for proximity discovery using new LTE SIBs dedicated to supporting LTE D. For example a UE UE may broadcast using a new SIB the identity of the UE e.g. a temporary network assigned identity or a global permanent identity of the UE and expressions identifying proximity services of interest to the UE. Information received from another UE at the RRC level e.g. an identity of the other UE and expressions of interest to the other UE may be passed up to the NAS protocol layer by the RRC layer inside the receiving UE and may then be passed to the PDP layer inside the UE.

Other RRC roles may be specific to supporting proximity services between a pair of UEs in LTE D mode e.g. according to the protocol layering described for . For support of LTE D mode some information transferred by RRC may be broadcast and or relayed to other UEs using signals that may be highly detectable e.g. similar to a Positioning Reference Signal used to support LTE positioning e.g. as described in 3GPP TS 36.211 and orthogonal to other signals in frequency coding or time. RRC may also be used to establish and release LTE D signaling connections between pairs of UEs. RRC may be further used to establish multipoint LTE D links between groups of three or more UEs e.g. where transmission from any one UE may be received by all the other UEs in any group. RRC may also be used to establish modify and release point to point or multipoint traffic bearers between two or three or more UEs associated with subsequent UP communication of data or media to support particular proximity services e.g. according to the protocol layering shown in . RRC may be used to help establish time synchronization between two or more UEs e.g. in the absence of a common network or other e.g. GPS time which may help avoid overlapping LTE D transmission by the UEs and thereby improve the reliability of LTE D communication. In certain instances when the timing in UEs is synchronized using RRC or using some common time reference such as GPS or network timing UEs may broadcast and relay information to one another at different non overlapping transmission times. In certain instances these transmission times may be made available to other UEs e.g. so UEs may know when to listen for other UEs. Before time synchronization is established between UEs the UEs may send only small amounts of data to one another using LTE D e.g. possibly at random times. Once the UEs are time synchronized the amount of data and signaling transfer using LTE D between the UEs may significantly increase. If a network is available commonly available network time either from one eNB or from multiple synchronized UEs may be used to achieve time synchronization among UEs in certain implementations. In certain example implementations RRC may be used in LTE D mode to measure RTTs between pairs of UEs and thereby help establish whether the UEs are in proximity.

In certain example implementations techniques may be implemented to support ProSe signaling in an LTE network using the NAS protocol layer e.g. as in association with the protocol layering described for . For example a role of the NAS protocol layer e.g. when a network proximity server is used as described for and or when protocol layering is as shown in may include relaying information between a CP proximity server and a UE e.g. via an MME. In certain instances NAS may be used to help acquire certain proximity related information e.g. timing advance serving eNB proximity services of interest by an MME from a UE which the MME may then convey to a proximity server. In certain implementations a role of NAS in LTE D Mode e.g. in association with the protocol layering shown in may include establishing and later releasing signaling connections and sessions between pairs or groups of UEs over which proximity related information may be transferred e.g. at the PDP level. In certain instances this connection and session setup and release may be based on e.g. may be similar to that supported in NAS between a UE and an MME as defined in 3GPP TS 24.301. NAS may in some implementations be used between a pair of UEs e.g. according to the protocol layering shown in to setup and release data bearers between pairs of UEs already in proximity to one another to support UE UE communication for particular proximity services supported by certain Apps e.g. with the UE UE communication then occurring using the UP Protocols . In certain implementations NAS may be used e.g. with the protocol layering shown in to transport signaling messages between UEs on behalf of ProSe Apps as an alternative to transferring these messages using data bearers with UP protocol layering e.g. as in .

In certain example implementations techniques may be implemented to support ProSe signaling in an LTE network using a PS AP Proximity Services Application Protocol Layer for ProSe Signaling e.g. for a network mode with a CP Proximity Server e.g. as in and . In certain instances a PS AP protocol may enable exchange of information between a CP proximity server and an MME. For example a PS AP protocol may enable an MME to transfer to a proximity server the IDs of UEs attached to the MME the current serving eNB or serving TA for each UE and the proximity services and associated parameters each UE subscribes to. Such transfer may occur on request by the proximity server or when a UE attaches to the serving network or changes its serving MME or under other conditions. In certain implementations a PS AP protocol may enable a request from a proximity server to an MME for the locations of one or more UEs attached to the MME. For any such UE location request sent to the MME the MME may relay the location request to an attached E SMLC which may locate the UE using the 3GPP CP location solution defined in 3GPP TS 35.305. In some instances such a direct location request between a CP proximity server and an MME may be more efficient than sending a location request to an MME via a GMLC. In certain example implementations a PS AP protocol may also be used to transport information between a proximity server and one or more UEs via an MME. For example a PS AP protocol may be used to transfer to a UE A from the proximity server the identities of one or more other UEs B discovered e.g. by the proximity server to be in proximity to the UE A for particular proximity services supported by or of interest to both the UE A and the UE s B. In certain implementations a PS AP protocol may be used to transfer to the proximity server from a UE updates on proximity services required by the UE e.g. updates to certain parameters for an already known proximity service for the UE or updates concerning new proximity services that the UE may use .

In certain example implementations techniques may be implemented to support ProSe signaling in an LTE network or with LTE D using a PDP protocol Layer in association with a CP proximity server e.g. as described in association with and a UP proximity server e.g. as described in association with and or LTE D signaling e.g. in association with the protocol layering shown in . In certain example implementations a PDP protocol may be used in a network mode to support discovery of proximity between UEs using a CP or UP proximity server e.g. as described in association with and or by enabling exchange of proximity related information between a UE and the CP or UP proximity server. Information may be transferred in both uplink and downlink directions by PDP in this case to authenticate proximity services claimed to be of interest to or supported by a UE e.g. where proximity services claimed by a UE to be of interest or to be supported are compared to proximity services subscribed to by the UE that were transferred from the home HSS of the UE to the UE s serving MME. Information may also be transferred in an uplink direction by PDP from a UE to a proximity server that may include one or more of the UE s identity and or location proximity services of interest to the UE the UE s current serving cell information received directly by the UE from other UEs and or the UE s LTE D capabilities just to name a few examples. In some implementations information may be transferred by PDP downlink from a proximity server to a UE that may include one or more of the identities of other UEs e.g. UEs found to be in proximity to the recipient UE a permission for the UE to use LTE D mode and information regarding use of an LTE D mode by the recipient UE again just to name a few examples.

With regard to use of PDP to support an LTE D Mode e.g. using the protocol layering shown in UEs may broadcast their identity or a pseudo identity and proximity services of interest at an RRC level e.g. with the protocol layering of which may be passed up to the PDP level at a recipient UE. Once RRC establishes potential or actual proximity between a pair of UEs or a network proximity server has informed one or both UEs about actual or potential proximity a UE may use PDP to signal additional information to the other UE e.g. via broadcast or using an RRC signaling link previously established between the pair of UEs . In certain instances a PDP protocol used by UEs in an LTE D mode may be a variant of e.g. an extension of the PDP protocol used between a UE and proximity server in network mode or may be a different protocol.

In certain example implementations techniques may be implemented for Proximity Service Support via an Application App protocol layer e.g. as applicable to the protocol layering described for . In certain implementations an App layer may be associated with individual ProSe Apps and may be defined to support specific proximity services. For example a particular application on a UE may support one or more proximity services may be notified by some other process on the UE e.g. a process supporting the PDP protocol discussed previously herein when proximity has been discovered with another UE supporting one or more of the same proximity services and may then e.g. under user control proceed to communicate using the App protocol layer with a peer application in the other UE to support one or more proximity services of interest to the users of both UEs. In certain instances an App layer may provide peer to peer P2P communication between Apps on pairs of UEs or on groups of three or more UEs. For UEs that make use of a network for communication in network mode an App layer may exchange Protocol Data Units PDUs between Apps in different UEs using one or more of IP bearers setup through the network SMS and or SIP via IMS just to name a few examples. For UEs able to employ LTE D mode for communication an App layer may exchange PDUs between Apps in different UEs using IP bearers setup directly between the UEs using LTE D e.g. with protocol layering possibly as shown in . Alternatively an App layer could transfer PDUs between UEs in LTE D mode using the protocol layering shown in but with an App protocol layer replacing the PDP layer shown in . In this case App layer PDU transfer may be based on NAS signaling support. In certain implementations an App layer may be used to negotiate setup of communication between users e.g. using speech IM video etc. with communication conveyed either via a network or using LTE D.

Attention is drawn next to which illustrates example combined protocols that may be implemented to transmit receive and or relay information for use in supporting proximity services between two or more mobile devices in accordance with an example implementation. Combined protocols illustrate an example architecture for LTE D Mode that combines both CP protocols as in with UP protocols as in . Included in example combined protocols are corresponding protocol stacks for a UE and for a UE . As shown example stacks and may comprise corresponding layers such as an L1 MAC RLC PDCP IP RRC TCP TLS NAS PDP and an App layer. These protocols may be the same as those described for .

Example combined protocols shows how a UE may support a common ProSe App that manages ProSe discovery on behalf of other Apps in the UE that are each specific to particular proximity services e.g. such as Public Safety and Friend Finder. The common ProSe App may be referred to as a ProSe engine or ProSe process and may i provide a common interface e.g. via a common API to other Apps on a UE that each support different proximity services and ii enable these other Apps to determine when their UE is in proximity to another UE containing the same App and supporting the same proximity service s . In certain instances the common ProSe App may employ PDP or PDP not shown in and lower CP protocol layers for proximity discovery in either network mode e.g. using the protocol layering of or LTE D mode using the protocol layering shown in and . In certain instances the common ProSe App may use NAS in order to set up UE UE data bearers or to exchange signaling messages at the CP level. In certain instances the common ProSe App may use the UP layers as shown in and for exchanging voice other media and data. In certain implementations the common ProSe App may use PDP and lower layer protocols to communicate with a network proximity server not shown in but as shown in and or FIG. if a UE is in network mode in order for example to discover proximity to other UEs. In certain instances a pair of Apps supporting specific proximity services for two UEs that have been determined to be in proximity by their respective Common ProSe Apps may communicate with one another in LTE D mode via their respective common ProSe Apps. In this case the common ProSe Apps may transfer App PDUs between the pair of Apps via PDP and NAS e.g. using the protocol layering shown in or via TCP TLS and IP e.g. using the protocol layering shown in . Alternatively the pair of Apps may communicate in LTE D mode directly not via the common ProSe Apps by making direct use of either the NAS CP layer e.g. as in with an App layer replacing the PDP layer or the TCP TLS IP UP layers e.g. as in . The protocol that Apps may employ for communication via the common ProSe App or using direct communication is shown by the App layer dashed arrow in .

Attention is now drawn to and which illustrate some example protocols and respectively that may be implemented to relay information between applications in two or more mobile devices in accordance with an example implementation. For example certain information may be relayed between ProSe Apps in LTE D Mode. Example protocols may be used to provide relaying of certain information at the App Level and example may be used to provide relaying of certain information at the IP Level. As shown protocol may include a stack for a UE a stack for a relaying UE and a stack for a UE . Example stacks and may comprise corresponding layers such as L1 MAC RLC PDCP IP TCP TLS and an App protocol layer denoted by the term Appin . As shown protocols may include a stack for a UE a stack for a relaying UE and a stack for a UE . Example stacks and may comprise corresponding layers such as L1 MAC RLC PDCP IP TCP TLS and Appin and example stack may comprise corresponding layers such as L1 MAC RLC PDCP and IP. These protocol layers may correspond to those described for .

For the protocol alternatives described for signaling messages e.g. App PDUs may be transferred between Apps as described above i via the common ProSe App using PDP and NAS or ii using TCP TLS and IP or iii directly using NAS or TCP TLS IP. For UEs not able to communicate with one another directly via LTE D but able to communicate using LTE D via one or more intermediate relay UEs there may be some choice as to how the relaying is performed e.g. concerning the protocol layers that need to be intercepted by relay UEs as opposed to being transferred end to end without interception. Relaying may be performed at intermediate UEs at i the Appin level e.g. as shown in in which the App protocol layer and all lower layers may be intercepted and relayed ii at the PDP level in which the PDP layer and all lower layers e.g. NAS RRC PDCP may be intercepted and relayed iii at the NAS level in which NAS and all lower protocol layers may be intercepted and relayed or iv at the IP level e.g. as shown in in which the IP layer and all lower layers may be intercepted and relayed. In certain instances communication e.g. speech IM video transferred between users associated with a ProSe App may be more efficiently relayed at the IP level e.g. as in .

In certain example implementations a protocol layer at which relaying is performed may also be used to exchange information between nearby UEs to maintain information in each UE concerning which UEs may be in direct radio proximity with one another and via which intermediate relay UEs communication to other UEs may need to be routed. In certain instances it may be useful to manage routing relaying at the App level e.g. making relaying at the App level a possible implementation alternative. However exchange of routing related information may instead be provided at the PDP layer or possibly provided in a new protocol associated with the NAS layer or IP layer e.g. allowing relaying at these protocol levels. In certain instances broadcast and relaying of basic information e.g. as previously described in association with implicit and explicit acknowledgment and tagged transmission may be used to support relaying and exchange of routing related information. A result may be that relaying information as described above e.g. in association with at any level may be combined with the hop by hop routing method described earlier. In addition relaying at the App level may be combined with efficient relaying described earlier using implicit or explicit acknowledgment tagged transmission or source routing and relaying information at the PDP level or NAS level may be combined with source routing.

UE may also comprise SPS receiver capable of receiving and acquiring SPS signals via SPS antenna . SPS receiver may also process in whole or in part acquired SPS signals for estimating a location of UE . In some implementations general purpose processor s memory DSP s and or specialized processors not shown may also be utilized to process acquired SPS signals in whole or in part and or calculate an estimated location of UE in conjunction with SPS receiver . Storage of SPS or other signals for use in performing positioning operations may be performed in memory or registers not shown .

Also shown in UE may comprise digital signal processor s DSP s connected to the bus general purpose processor s connected to the bus and memory . In certain implementations bus interface s not shown may be integrated with the DSP s general purpose processor s and memory . In various implementations functions may be performed in response to execution of one or more machine readable instructions stored in memory such as on a computer readable storage medium such as RAM ROM FLASH or disc drive just to name a few example. The one or more instructions may be executable by general purpose processor s specialized processors or DSP s . Memory may comprise a non transitory processor readable memory and or a computer readable memory that stores software code programming code instructions etc. that are executable by processor s and or DSP s to perform functions described herein.

Also shown in a user interface may comprise any one of several devices such as for example a speaker microphone display device vibration device keyboard touch screen just to name a few examples. In a particular implementation user interface may enable a user to interact with one or more applications hosted on UE . Such applications or Apps may contain software stored in memory and run on processor s and or or on DSP s . For example devices of user interface may store analog or digital signals on memory to be further processed by DSP s or general purpose processor in response to action from a user. Similarly applications hosted on UE may store analog or digital signals on memory to present an output signal to a user. In another implementation UE may optionally include a dedicated audio input output I O device comprising for example a dedicated speaker microphone digital to analog circuitry analog to digital circuitry amplifiers and or gain control. It should be understood however that this is merely an example of how an audio I O may be implemented in a UE and that claimed subject matter is not limited in this respect. In another implementation UE may comprise touch sensors responsive to touching or applying pressure on a keyboard or touch screen device.

UE may also comprise a dedicated camera device for capturing still or moving imagery. Camera device may comprise for example an imaging sensor e.g. charge coupled device or CMOS imager lens analog to digital circuitry frame buffers just to name a few examples. In one implementation additional processing conditioning encoding or compression of signals representing captured images may be performed at general purpose application processor or DSP s . Alternatively a dedicated video processor may perform conditioning encoding compression or manipulation of signals representing captured images. Additionally video processor may decode decompress stored image data for presentation on a display device not shown on UE .

UE may also comprise sensors coupled to bus which may include for example inertial sensors and environment sensors. Inertial sensors of sensors may comprise for example accelerometers e.g. collectively responding to acceleration of UE in three dimensions one or more gyroscopes or one or more magnetometers e.g. to support one or more compass applications . Environment sensors of UE may comprise for example temperature sensors barometric pressure sensors ambient light sensors camera imagers microphones just to name few examples. Sensors may generate analog or digital signals that may be stored in memory and processed by DPS s or general purpose application processor in support of one or more applications such as for example applications directed to positioning or navigation operations.

In a particular implementation a digital map of an indoor area may be stored in a particular format in memory . The digital map may have been obtained from messages containing navigation assistance data from a remote server. General purpose application processor may execute instructions to processes the stored digital map to identify and classify component areas bounded by a perimeter of structures indicated in the digital map. These executed instructions may specify identifying and characterizing egress segments in structures forming a perimeter bounding a component area and classifying the bounded component area based at least in part on a proportionality of a size of at least one identified egress segment to a size of at least one dimension of the bounded component area. In one implementation a UE may further apply crowed sourced data e.g. obtained from a location server to confirm an inferences of an egress segment. For example if there is a history of UEs moving through a feature presumed to be an egress segment the feature may be confirmed as providing an egress segment.

In a particular implementation UE may comprise a dedicated modem processor capable of performing baseband processing of signals received and downconverted at wireless transceiver or SPS receiver . Similarly modem processor may perform baseband processing of signals to be upconverted for transmission by wireless transceiver . In alternative implementations instead of having a dedicated modem processor baseband processing may be performed by a general purpose processor or DSP e.g. general purpose application processor or DSP s . It should be understood however that these are merely examples of structures that may perform baseband processing and that claimed subject matter is not limited in this respect.

First device second device and third device as shown in may be representative of any device appliance or machine e.g. such as local transceiver or servers or as shown in that may be configurable to exchange data over wireless communications network . By way of example but not limitation any of first device second device or third device may include one or more computing devices or platforms such as e.g. a desktop computer a laptop computer a workstation a server device or the like one or more personal computing or communication devices or appliances such as e.g. a personal digital assistant mobile communication device or the like a computing system or associated service provider capability such as e.g. a database or data storage service provider system a network service provider system an Internet or intranet service provider system a portal or search engine service provider system a wireless communication service provider system or any combination thereof. Any of the first second and third devices and respectively may comprise one or more of a base station almanac server a base station or a UE in accordance with the examples described herein.

Similarly wireless communications network e.g. in a particular of implementation of network shown in may be representative of one or more communication links processes or resources configurable to support the exchange of data between at least two of first device second device and third device . By way of example but not limitation wireless communications network may include wireless or wired communication links telephone or telecommunications systems data buses or channels optical fibers terrestrial or space vehicle resources local area networks wide area networks intranets the Internet routers or switches and the like or any combination thereof. As illustrated for example by the dashed lined box illustrated as being partially obscured of third device there may be additional like devices operatively coupled to wireless communications network .

It is recognized that all or part of the various devices and networks shown in system and the processes and methods as further described herein may be implemented using or otherwise including hardware firmware software or any combination thereof.

Thus by way of example but not limitation second device may include at least one processing unit that is operatively coupled to a memory through a bus .

Processing unit is representative of one or more circuits configurable to perform at least a portion of a data computing procedure or process. By way of example but not limitation processing unit may include one or more processors controllers microprocessors microcontrollers application specific integrated circuits digital signal processors programmable logic devices field programmable gate arrays and the like or any combination thereof.

Memory is representative of any data storage mechanism. Memory may include for example a primary memory or a secondary memory . Primary memory may include for example a random access memory read only memory etc. While illustrated in this example as being separate from processing unit it should be understood that all or part of primary memory may be provided within or otherwise co located coupled with processing unit .

In a particular implementation information received from mobile devices and or from elements in network related to proximity between mobile devices and or proximity services supported by mobile devices may be stored in a particular format in memory . Processing unit may execute instructions to processes the stored proximity related information e.g. in order to discover proximity between mobile devices and notify mobile devices of any discovered proximity.

Secondary memory may include for example the same or similar type of memory as primary memory or one or more data storage devices or systems such as for example a disk drive an optical disc drive a tape drive a solid state memory drive etc. In certain implementations secondary memory may be operatively receptive of or otherwise configurable to couple to a computer readable medium . Computer readable medium may include for example any non transitory medium that can carry or make accessible data code or instructions for one or more of the devices in system . Computer readable medium may also be referred to as a storage medium.

Second device may include for example a communication interface that provides for or otherwise supports the operative coupling of second device to at least wireless communications network . By way of example but not limitation communication interface may include a network interface device or card a modem a router a switch a transceiver and the like.

Second device may include for example an input output device . Input output device is representative of one or more devices or features that may be configurable to accept or otherwise introduce human or machine inputs or one or more devices or features that may be configurable to deliver or otherwise provide for human or machine outputs. By way of example but not limitation input output device may include an operatively configured display speaker keyboard mouse trackball touch screen data port etc.

At example block the computing device may initiate notification of a user and or an application of at least one of the UEs that a state of proximity with the other UE has occurred or will occur. Here for example at block the computing device may determine a probability and or a time interval for which the proximity is expected to occur at the future time and at block initiate notification of the user and or the application in response to the probability exceeding a probability threshold and or the time interval falling below a time threshold.

In certain example implementations at least one of the current and past motion state of the at least one of the first or second UEs may comprise at least one of a geographic location and a velocity.

In certain example implementations the historic behavior of the at least one of the first or second UEs may be determined at least in part based on a location history of the at least one of the first or second UEs. In certain instances the historic behavior may be based at least in part on at least one of a current location of the at least one of the first or second UEs and a current day and or a time.

At step the first UE determines whether the received broadcast information is the first information received for the second UE. For example the first UE may make the determination by checking a memory to identify any information previously received and stored for the second UE. If the received broadcast information is the first information received for the second UE step then at step the first UE stores the received broadcast information and the identifier information.

At step the first UE generates a tag value TV unique to the first UE. For example the tag value TV may include the ID of the first UE e.g. UE B in and a sequence number version or timestamp assigned by the first UE. Step is optional and in some implementations may not be performed.

At step the first UE relays the broadcast information and identifier information to a set of UEs. The message relaying may be intended to help distribute the broadcast information to the set UEs e.g. to assist in determining proximity of certain UEs and or to help enable certain services dependent on UEs being in proximity to one another. In an aspect the generated tag value TV is included in the identifier information. For example with reference to and the set of UEs may include UE C and UE C respectively.

At step the first UE receives the broadcast information and the identifier information from UEs in the set of UEs. In an aspect the identifier information comprises the tag value TV and the broadcast information may not be received. Step is optional and in some implementations may not be performed.

At step the first UE receives second broadcast information related to the second UE and a version and or a timestamp associated with the second broadcast information from a fourth UE. Step is optional and in some implementations may not be performed.

At step the first UE determines whether each UE in the set of UEs has received the broadcast information based on whether the identifier information is received from each UE in the set of UEs. For example with reference to after receiving the message the UE B may determine that the version V and UE ID in the message are the same as the version V and UE ID in the previously broadcasted message . Therefore the UE B may consider the received message as an explicit acknowledgment that the UE C received the message and may cease to relay the message . As another example with reference to after receiving the message the UE B may determine that the tag value TV in the message is the same as the tag value TV in the previously broadcasted message . Therefore the UE B may consider the received message as an implicit acknowledgment that the UE C received the message .

If the first UE determines that each UE in the set of UEs has received the broadcast information step then at step the first UE refrains from relaying the broadcast information. Accordingly the first UE ceases broadcasting information related to the second UE. Otherwise if the first UE determines that each UE in the set of UEs has not received the broadcast information step then at step the first UE determines whether any further broadcast information related to the second UE has been received. For example the further broadcast information may be the second broadcast information in step .

If the first UE determines that further broadcast information for the target UE has not been received step then the first UE proceeds to step . Otherwise if the first UE determines that further broadcast information for the target UE has been received step then at step the first UE determines whether the broadcast information received in step or the second broadcast information of step is more recent than the stored broadcast information. In an aspect the first UE makes the determination based on the version and or the timestamp associated with the second broadcast information and the time stamp and or the version associated with the broadcast information. If the first UE determines that the broadcast information or the second broadcast information is more recent than the stored broadcast information step then at step the first UE stores the more recent broadcast information or the second broadcast information and identifier information. The first UE then relays one of the broadcast information or the second broadcast information that is determined to be more recent step . In an aspect the broadcast information determined to be more recent may be referred to as updated broadcast information. Accordingly such updated broadcast information may be relayed to the set of UEs in step .

Otherwise if the first UE determines that the broadcast information or the second broadcast information is not more recent than the stored broadcast information step then at step the first UE ignores the received broadcast information. At step the first UE determines whether previous broadcast information has been acknowledged by the set of UEs. If there is still previous broadcast information related to the second UE not yet acknowledged by some UEs in the set of UEs the first UE proceeds to step . Otherwise at step the first UE ceases broadcasting information for the second UE.

At step the first UE subsequently relays the tag T without the broadcast information to the set of UEs.

At step the first UE receives a subsequent version of the broadcast information related to the second UE and a second tag associated with the subsequent version of the broadcast information.

At step the first UE relays the second tag without the subsequent version of the broadcast information after relaying the subsequent version of the broadcast information with the second tag.

At step the first UE receives a request for broadcast information from a fourth UE in the set of UEs. For example with reference to the fourth UE may be UE C.

At step the first UE determines whether the received request for broadcast information includes a tag e.g. tag T or null value. If the received request for broadcast information does not include a tag or null value step then at step the first UE may assume that the fourth UE has received the broadcast information sent in step and thus refrains from relaying the broadcast information to the fourth UE. Otherwise if the received request for broadcast information includes the tag T or null value step then at step the first UE determines whether the received request for broadcast information includes an identifier. In an aspect the identifier may be an identity of a UE e.g. the identity of the first UE . If the received request for broadcast information does not include an identifier step then at step the first UE determines to relay the broadcast information to the fourth UE. In an aspect the first UE may relay the tag T received in step with the broadcast information to the fourth UE. Otherwise if the received request for broadcast information does include an identifier step then at step the UE determines whether the identifier is associated with the first UE. If the identifier is associated with the first UE step then at step the first UE determines to relay the broadcast information to the fourth UE. Otherwise if the identifier is not associated with the first UE step then at step the first UE determines to refrain from relaying the broadcast information to the fourth UE.

It should be understood that steps and indicated with dotted lines in represent optional steps. For example in an aspect the first UE may perform steps and without performing steps and .

The apparatus further includes a module that determines whether each UE in the set of UEs has received broadcast information relayed by the apparatus based on whether the identifier information is received from each UE in the set of UEs determines whether the broadcast information or the second broadcast information is more recent based on the at least one of the version or the timestamp associated with the second broadcast information and the at least one of the time stamp or the version associated with the broadcast information determines whether the identifier is associated with the first UE determines to relay the broadcast information to the fourth UE when the identifier is determined to be associated with the first UE determines to refrain from relaying the broadcast information to the fourth UE when the identifier is determined to be unassociated with the first UE.

The apparatus further inlcudes a module that stores broadcast information and identifier information and a module that generates a tag unique to the first UE.

The apparatus further inlcudes a module that relays the broadcast information and identifier information to a set of UEs relays one of the broadcast information or the second broadcast information that is determined to be more recent relays the updated broadcast information and the identifier information relays the tag without the broadcast information to a set of UEs relays the broadcast information to the fourth UE relays the tag with the broadcast information prior to relaying the tag without the broadcast information relays the subsequent version of the broadcast information with the second tag and relays the second tag without the subsequent version of the broadcast information after relaying the subsequent version of the broadcast information with the second tag.

The apparatus further inlcudes a module that refrains from relaying the broadcast information upon determining that each UE in the set of UEs has received the broadcast information and a module that transmits signals to one or more communication devices e.g. UE A UE B .

The apparatus may include additional modules that perform each of the steps of the algorithm in the aforementioned flow charts of . As such each step in the aforementioned flow charts of may be performed by a module and the apparatus may include one or more of those modules. The modules may be one or more hardware components specifically configured to carry out the stated processes algorithm implemented by a processor configured to perform the stated processes algorithm stored within a computer readable medium for implementation by a processor or some combination thereof.

The processing system may be coupled to a transceiver . The transceiver is coupled to one or more antennas . The transceiver provides a means for communicating with various other apparatus over a transmission medium. The transceiver receives a signal from the one or more antennas extracts information from the received signal and provides the extracted information to the processing system specifically the receiving module . In addition the transceiver receives information from the processing system specifically the transmission module and based on the received information generates a signal to be applied to the one or more antennas . The processing system includes a processor coupled to a computer readable medium memory . The processor is responsible for general processing including the execution of software stored on the computer readable medium memory . The software when executed by the processor causes the processing system to perform the various functions described supra for any particular apparatus. The computer readable medium memory may also be used for storing data that is manipulated by the processor when executing software. The processing system further includes at least one of the modules and . The modules may be software modules running in the processor resident stored in the computer readable medium memory one or more hardware modules coupled to the processor or some combination thereof. The processing system may be a component of a UE such as UE B UE B and or UE B and may include a memory and or at least one of a TX processor an RX processor and a controller processor.

In one configuration the apparatus for wireless communication includes means for receiving broadcast information related to a second UE from a third UE means for relaying the broadcast information and identifier information to a set of UEs means for determining whether each UE in the set of UEs has received the broadcast information based on whether the identifier information is received from each UE in the set of UEs means for refraining from relaying the broadcast information upon determining that each UE in the set of UEs has received the broadcast information means for receiving the broadcast information and the identifier information from UEs in the set of UEs means for generating a tag unique to the UE means for receiving the identifier information with the broadcast information from the third UE means for receiving second broadcast information and at least one of a version or a timestamp associated with the second broadcast information from a fourth UE means for determining whether the broadcast information or the second broadcast information is more recent based on the at least one of the version or the timestamp associated with the second broadcast information and the at least one of the time stamp or the version associated with the broadcast information means for relaying one of the broadcast information or the second broadcast information that is determined to be more recent means for receiving updated broadcast information from the third UE means for relaying the updated broadcast information and the identifier information means for receiving broadcast information and a tag associated with the broadcast information from a third UE means for relaying the tag without the broadcast information to a set of UEs means for receiving a request for broadcast information from a fourth UE in the set of UEs means for relaying the broadcast information to the fourth UE means for relaying the tag with the broadcast information prior to relaying the tag without the broadcast information means for determining whether the identifier is associated with the UE means for determining to relay the broadcast information to the fourth UE when the identifier is determined to be associated with the UE means for determining to refrain from relaying the broadcast information to the fourth UE when the identifier is determined to be unassociated with the UE means for receiving a subsequent version of the broadcast information and a second tag associated with the subsequent version of the broadcast information means for relaying the subsequent version of the broadcast information with the second tag means for relaying the second tag without the subsequent version of the broadcast information after relaying the subsequent version of the broadcast information with the second tag. The aforementioned means may be one or more of the aforementioned modules of the apparatus and or the processing system of the apparatus configured to perform the functions recited by the aforementioned means. As described supra the processing system may include a TX Processor an RX Processor and the controller processor. As such in one configuration the aforementioned means may be the TX Processor the RX Processor and the controller processor configured to perform the functions recited by the aforementioned means.

The methodologies described herein may be implemented by various means depending upon applications according to particular examples. For example such methodologies may be implemented in hardware firmware software or combinations thereof. In a hardware implementation for example a processing unit may be implemented within one or more application specific integrated circuits ASICs digital signal processors DSPs digital signal processing devices DSPDs programmable logic devices PLDs field programmable gate arrays FPGAs processors controllers micro controllers microprocessors electronic devices other devices units designed to perform the functions described herein or combinations thereof.

Some portions of the detailed description included herein are presented in terms of algorithms or symbolic representations of operations on binary digital signals stored within a memory of a specific apparatus or special purpose computing device or platform. In the context of this particular specification the term specific apparatus or the like includes a general purpose computer once it is programmed to perform particular operations pursuant to instructions from program software. Algorithmic descriptions or symbolic representations are examples of techniques used by those of ordinary skill in the signal processing or related arts to convey the substance of their work to others skilled in the art. An algorithm is here and generally is considered to be a self consistent sequence of operations or similar signal processing leading to a desired result. In this context operations or processing involve physical manipulation of physical quantities. Typically although not necessarily such quantities may take the form of electrical or magnetic signals capable of being stored transferred combined compared or otherwise manipulated. It has proven convenient at times principally for reasons of common usage to refer to such signals as bits data values elements symbols characters terms numbers numerals or the like. It should be understood however that all of these or similar terms are to be associated with appropriate physical quantities and are merely convenient labels. Unless specifically stated otherwise as apparent from the discussion herein it is appreciated that throughout this specification discussions utilizing terms such as processing computing calculating determining or the like refer to actions or processes of a specific apparatus such as a special purpose computer special purpose computing apparatus or a similar special purpose electronic computing device. In the context of this specification therefore a special purpose computer or a similar special purpose electronic computing device is capable of manipulating or transforming signals typically represented as physical electronic or magnetic quantities within memories registers or other information storage devices transmission devices or display devices of the special purpose computer or similar special purpose electronic computing device.

Wireless communication techniques described herein may be in connection with various wireless communications networks such as a wireless wide area network WWAN a wireless local area network WLAN a wireless personal area network WPAN and so on. The term network and system may be used interchangeably herein. A WWAN may be a Code Division Multiple Access CDMA network a Time Division Multiple Access TDMA network a Frequency Division Multiple Access FDMA network an Orthogonal Frequency Division Multiple Access OFDMA network a Single Carrier Frequency Division Multiple Access SC FDMA network or any combination of the above networks and so on. A CDMA network may implement one or more radio access technologies RATs such as cdma2000 Wideband CDMA W CDMA to name just a few radio technologies. Here cdma2000 may include technologies implemented according to IS 95 IS 2000 and IS 856 standards. A TDMA network may implement Global System for Mobile Communications GSM Digital Advanced Mobile Phone System D AMPS or some other RAT. GSM and W CDMA are described in documents from a consortium named 3rd Generation Partnership Project 3GPP . Cdma2000 is described in documents from a consortium named 3rd Generation Partnership Project 2 3GPP2 . 3GPP and 3GPP2 documents are publicly available. 4G Long Term Evolution LTE communications networks may also be implemented in accordance with claimed subject matter in an aspect. A WLAN may comprise an IEEE 802.11x network and a WPAN may comprise a Bluetooth network an IEEE 802.15x for example. Wireless communication implementations described herein may also be used in connection with any combination of WWAN WLAN or WPAN.

In another aspect as previously mentioned a wireless transmitter or access point may comprise a femtocell utilized to extend cellular telephone service into a business or home. In such an implementation one or more UEs may communicate with a femtocell via a code division multiple access CDMA cellular communication protocol for example and the femtocell may provide the UE access to a larger cellular telecommunication network by way of another broadband network such as the Internet.

In the preceding detailed description numerous specific details have been set forth to provide a thorough understanding of claimed subject matter. However it will be understood by those skilled in the art that claimed subject matter may be practiced without these specific details. In other instances methods and apparatuses that would be known by one of ordinary skill have not been described in detail so as not to obscure claimed subject matter.

The terms and or and and or as used herein may include a variety of meanings that also are expected to depend at least in part upon the context in which such terms are used. Typically or if used to associate a list such as A B or C is intended to mean A B and C here used in the inclusive sense as well as A B or C here used in the exclusive sense. In addition the term one or more as used herein may be used to describe any feature structure or characteristic in the singular or may be used to describe a plurality or some other combination of features structures or characteristics. Though it should be noted that this is merely an illustrative example and claimed subject matter is not limited to this example.

While there has been illustrated and described what are presently considered to be example features it will be understood by those skilled in the art that various other modifications may be made and equivalents may be substituted without departing from claimed subject matter. Additionally many modifications may be made to adapt a particular situation to the teachings of claimed subject matter without departing from the central concept described herein. Therefore it is intended that claimed subject matter not be limited to the particular examples disclosed but that such claimed subject matter may also include all aspects falling within the scope of appended claims and equivalents thereof.

