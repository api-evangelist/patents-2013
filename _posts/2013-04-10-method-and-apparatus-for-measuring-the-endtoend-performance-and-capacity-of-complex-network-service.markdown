---

title: Method and apparatus for measuring the end-to-end performance and capacity of complex network service
abstract: A method and system of measuring performance and capacity of a network includes monitoring network activity using an application programming interfaces (API) monitoring system with a web services definition language (WSDL) file and a probe. The WSDL file provides instructions to a probe control system in the API monitoring system and the probe control system provides regular expressions to the probe. Performance data are collected using the probe. The performance data includes a collection of performance information. Using the probe, performance data are transmitted between the network and the API monitoring system. The API monitoring system stores the performance data in a database of performance data monitored and analyzes the performance data to determine performance and capacity of the network. The API monitoring system reports information on performance and capacity of the network to a network operations center dashboard.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09054970&OS=09054970&RS=09054970
owner: AT&T INTELLECTUAL PROPERTY I, L.P.
number: 09054970
owner_city: Atlanta
owner_country: US
publication_date: 20130410
---
This application is a continuation of U.S. patent application Ser. No. 12 209 267 filed on Sep. 12 2008 which is incorporated herein by reference in its entirety.

The present invention relates to optimizing the capacity of a service path network. More particularly it relates to a method and apparatus for dynamically configuring the monitoring of a Service Oriented Architecture SOA responsive to dynamically configured data monitoring such that a new optimized service path network is calculated and the capacity of the system is maximized by real time changes to the configuration of the network and execution of the service.

The present invention relates to the configuration of network service monitoring capabilities and the use of data from configured monitors to optimize the performance of service path networks. Network service monitoring capabilities are the capabilities of a system that directly measures and reports the volume and responsiveness of systems that provide one or more Application Programming Interfaces APIs to other systems. An API is a set of functions procedures or classes that an operating system library or service provides to support requests made by computer programs. A service path is generally defined as the connected sequence of network elements that together provide a particular service delivered to customers following the completion of provisioning activities. Service path APIs are APIs whose performance contributes directly to the performance availability and security of the service path. For example a control message to implement a sports channel blackout on certain Internet Protocol Television IPTV set top boxes is one service path API that controls a network element in a television service.

The prior art teaches how one may directly monitor the performance of selected APIs and network elements that are combined into services. However manual configuration of the monitoring system is required and in large networks this is tedious and time consuming. More specifically the prior art requires the manual preparation of regular expressions that programmatically describe filtering functions within a particular monitoring system as required to select particular APIs whose volume and performance directly bear on the performance of the service path. This monitoring configuration activity requires specialized skills and knowledge of methods to decode the APIs involved.

Consequently in networks having a large number of component servers the performance of the service path improves slowly over time owing to the time consuming manual work required to repeatedly adjust the monitoring capabilities targeting the many different network elements. As a consequence of the long time required to manually configure the many points that are monitored in a large service path network the complete monitoring system cannot generally be configured quickly and the benefits of more rapid network optimization are lost.

Therefore it would be advantageous to provide an API monitoring system whose configuration is automatically and mechanically controlled. It would be further advantageous to have such mechanical configuration responsive to both manual network change activity as well as dynamically induced changes that are in turn responsive to network optimizations calculated from currently monitored performance data.

The present invention includes a method apparatus and computer readable medium for measuring performance and capacity of a network.

The method of measuring performance and capacity of a network includes monitoring network activity using an application programming interfaces monitoring system with a web services definition language file and at least one probe. The web services definition language file provides instructions to a probe control system in the application programming interfaces monitoring system and the probe control system providing regular expressions to the at least one probe. Then performance data is collected using the at least one probe. The performance data includes a date stamp and a collection of performance information. Next using the at least one probe performance data measurements are transmitted between the network and the application programming interfaces monitoring system. The application programming interfaces monitoring system stores the performance data measurements in a database of performance data monitored and analyzes the performance data measurements to determine performance and capacity of the network. After that the application programming interfaces monitoring system reports information on performance and capacity of the network to a network operations center dashboard.

The apparatus for measuring performance and capacity of a network includes a web services definition language file and at least one probe to collect performance data from the network and transmit performance data measurements to an application programming interfaces monitoring system. The application programming interfaces monitoring system being operatively connected to the web services definition language file and the at least one probe. The application programming interfaces monitoring system including a probe control system a database of performance data monitored to store performance data measurements and an alarm and report generator to analyze performance data measurements. The apparatus further includes a network operations center dashboard for reporting performance and capacity of the network from the alarm and report generator. The at least one probe receives probe control messages from the probe control system and the at least one probe receives performance data including a time stamp and performance information from a network switch and a load balancer. Then the at least one probe transmits performance data measurements to the database of performance data monitored. After that the database of performance data monitored transmits performance data measurements to the alarm and report generator within the application programming interfaces monitoring system and the alarm and report generator analyzes performance measurements to determine performance and capacity of the network and generates alarms and reports.

The computer readable medium for measuring performance and capacity of a network including instructions executable by a computing device that when applied to the computing device causes the device to monitor activity of a network. The device uses an application programming interfaces monitoring system probe control system that receives a web services definition language file and transmits performance control messages to at least one probe. The application programming interfaces monitoring system further collects performance data from a network using the at least one probe. The performance data collected includes a time stamp with a request time a response time and performance information from a network switch and a load balancing device. Then the performance data measurements are transmitted from the at least one probe to the application interfaces monitoring system for performance data identified by probe control messages. The performance data measurements are stored in a database of performance data monitored and analyzed to determine performance and capacity of the network in an alarm and report generator. After that the analyzed performance data measurements are used to report performance and capacity of the network to a network operations center dashboard.

Other objects and features of the present invention will become apparent from the following detailed description considered in conjunction with the accompanying drawings. It is to be understood however that the drawings are designed as an illustration only and not as a definition of the limits of the invention.

The present invention provides a method for optimizing the performance and capacity of a SOA by monitoring network activity using real time monitoring and near real time automated analysis of the delivered response time performance of selected API based controls over the service paths.

The objective is to provide reports on the near real time performance of selected service path Control APIs such that adverse conditions that are causing impairments to or likely to impair the service path are recognized in near real time. The present invention focuses on response times required to support end to end integrated management of a large network of autonomous devices. Furthermore because response times are inherently defined from the perspective of users of the API that are external to the API service provider it should be assumed that no system can meet the requirements associated with providing its own response time measures.

By watching the machine to machine response times the invention performs automated passive monitoring and observation to determine maximum performance and capacity of the system. To monitor the machine to machine response times the present invention uses a web services definition language WSDL file and a probe. WSDL is an XML formatted language used to describe web services capabilities as collections of communication endpoints capable of exchanging messages. The WSDL file may include but is not limited to the following elements 1 data definitions 2 messages such as request message details and response message details 3 ports with request and response pairings 4 bindings including message transport methods and 5 services with the address of service availability. The WDSL file enables automated monitoring and uses the WSDL file elements to automate the configuration of regular expressions for the probe to use with the collection of performance data. For example the regular expressions may include request messages and response messages.

In the present instance the WSDL file data structure used unambiguously describes APIs provided by each element of a SOA to mechanically compute regular expressions required by a system that monitors APIs as part of a service path monitoring system also referred to as an API monitoring system. The regular expressions provide a concise and flexible means for identifying strings of text of interest such as particular characters words or patterns of characters. The regular expressions are written in a formal language that can be interpreted by a regular expression processor a program that either serves as a parser generator or examines text and identifies parts that match the provided specification. In addition by monitoring performance data on the current API volume and performance in real time one or more remedies for the condition may be readily apparent. Therefore the current invention is expected to reduce the frequency and impact of large scale service impairments and when impairments are unavoidably experienced the current invention will hasten the return to full service.

As shown in the present invention uses at least one probe a load balancer a network switch an API monitoring system and a WSDL file to monitor end to end performance using an Element Management System EMS . An EMS is a system that provides control of network elements in a Service Path network. The at least one probe observes and creates a database of performance data monitored based on observations of network performance data . In the present invention it is advantageous to use the Simple Object Access Protocol SOAP owing to a common convention wherein such protocols are precisely defined by a WSDL file. The at least one probe is configured through the API monitoring system that receives the WSDL files containing instructions for obtaining relevant volume and response times from performance data which includes metadata to enable the automated monitoring of end to end performance on a network.

The at least one probe collects performance information from the load balancer and the network switch and the at least one probe transmits all relevant performance data measurements to the API monitoring system for compilation of the performance data in the database of performance data monitored . The load balancer is a dedicated program or a piece of hardware such as a multilayer switch that spreads work between two or more network links or resources to optimize resource utilization throughput or response time. When used with computer clusters the load balancer mediates communication within the clusters . The network switch is a computer networking device that is used to connect network segments.

The at least one probe may be configured to operate in one of several modes 1 a proxy mode 2 a passive observation mode and 3 a function cooperative mode. In the proxy mode the load balancer is a commercial load balancer that provides performance information that includes mirrored copies of performance information to the at least one probe . When the at least one probe is configured to operate in a passive observation mode pass through appliance record transmissions are matched to configured patterns of network performance data . In a function cooperative mode a SOAP server with internal software is used to provide performance data from performance information to the at least one probe .

The API monitoring system may contain a probe control system the database of performance data monitored and an alarm and report generator . The alarm and report generator is responsible for providing the network operations center dashboard with performance and capacity reports and resulting alarms. The reports that the alarm and report generator may provide include but are not limited to reports on end to end service response time service usage component service errors end to end requestor load and end to end business function performance data by combining performance data measurements from one or more service provider sessions.

Referring to a first embodiment of the present invention is provided with a network including set top boxes running on service path control servers and clients. More particularly the network of the first embodiment includes an IPTV HTTP Hypertext Transfer Protocol Server and an IPTV HTTP Client and a One VHO Video Headend Office IPTV Cluster with at least one IPTV HTTP Client and at least one IPTV HTTP Server . At least one of the set top boxes includes the IPTV HTTP Server and the IPTV HTTP Client while the One VHO IPTV Cluster includes IPTV HTTP Clients and IPTV HTTP Servers . The IPTV HTTP Server and IPTV HTTP Client of the set top box connect to the at least one IPTV HTTP Client and at least one IPTV HTTP Server of the One VHO IPTV Cluster through the network and the network switch . The network switch then provides performance information including a copy of each performance message sent between the set top boxes and the One VHO IPTV Cluster to the at least one probe .

The at least one probe is operatively connected to the probe control system . The probe control system analyzes the WSDL files provided and computes one or more probe control messages that are transmitted and loaded into the probe . The probe uses the control messages that include the regular expressions to select performance data of the APIs that are relevant to the service path. The probe reports using the probe control messages the status on its implementation of such regular expressions to the probe control system enabling the probe control system to always be in control of the current state of the at least one probe . The probe control messages also flow between the probe control system and the database of performance data monitored .

All performance data provided to the at least one probe by the network switch and the load balancer are monitored using the regular expressions provided by the probe control system . Then the at least one probe generates performance data measurements including the volume and performance of each of the configured APIs to a database of performance data monitored . The database of performance data monitored retains the performance data measurements and based on thresholds also stored in the database of performance data monitored provides alarms and reports to an alarm and report generator . The alarm and report generator also controls the thresholds stored in the database of performance data monitored that cause selected alarms to be reported and the alarm and report generator portion of the API monitoring system will transmit any alarms and or reports to the network operations center dashboard .

It is important to note that the particular performance data that the probe analyzes includes performance data from a multiplicity of sources involving a multiplicity of network elements. shows an Operational Support System Northbound OSS and a Business Support System BSS which includes an IPTV HTTP Client as well as in home set top boxes each having performance data copied to the probe at either the Network Switch and or the load balancer . Each of these has a corresponding set of WSDL files that are each loaded into the probe control system enabling the probe to selectively collect performance data on the service path from each of these sources.

The at least one probe is operatively connected to the probe control system . The probe control system analyzes the WSDL files provided and computes one or more probe control messages that are transmitted and loaded into the probe . The probe uses the control messages that include the regular expressions to select performance data of the APIs that are relevant to the service path. The probe reports using the probe control messages the status on its implementation of such regular expressions to the probe control system enabling the probe control system to always be in control of the current state of the probes . The probe control messages also flow between the probe control system and the database of performance data monitored .

All performance data provided to the at least one probe by the network switch and the load balancer are monitored using the regular expressions provided by the probe control system . Then the at least one probe generates performance data measurements including the volume and performance of each of the configured APIs to a database of performance data monitored . The database of performance data monitored retains the performance data measurements and based on thresholds also stored in the database of performance data monitored provides alarms and reports to an alarm and report generator . The alarm and report generator also controls the thresholds stored in the database of performance data monitored that cause selected alarms to be reported and the Alarm and Report Generator portion of the API monitoring system will transmit any alarms and or reports to the network operations center dashboard .

A benefit of having automated and integrated monitoring of end to end volume and response times delivered by the present invention are that end to end systems and network capacity can be better optimized reducing the overall capital and labor required to deliver services. In addition this invention is the first to use WSDL files and the at least one probe to collect performance data and use the performance data measurements to monitor and detect end to end performance and capacity with automated technology instead of using manual decoding.

It will be appreciated that the present invention has been described herein with reference to certain preferred or exemplary embodiments. The preferred or exemplary embodiments described herein may be modified changed added to or deviated from without departing from the intent spirit and scope of the present invention and it is intended that all such additions modifications amendment and or deviations be included within the scope of the following claims.

