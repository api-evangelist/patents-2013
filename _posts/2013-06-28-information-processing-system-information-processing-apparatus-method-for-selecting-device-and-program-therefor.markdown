---

title: Information processing system, information processing apparatus, method for selecting device, and program therefor
abstract: An information processing system for instructing a first device associated with a first user and any one of a plurality of devices associated with a second user to execute a predetermined service includes an acquisition unit configured to acquire the association between the first and second user and a selection unit configured to select from the plurality of devices a device for executing a service, based on the association between the first and second user.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09525758&OS=09525758&RS=09525758
owner: Canon Kabushiki Kaisha
number: 09525758
owner_city: Tokyo
owner_country: JP
publication_date: 20130628
---
Aspects of the present invention generally relate to an information processing system for executing a predetermined service between users.

Recent years have seen a popularization of what is called cloud services in which a client accesses a server via the Internet and executes a desired service on a web browser without installing a program for service execution on the client side. Further with the development of social networking services SNS s communication between users has attracted attention.

There has been proposed a technique for restricting access to user information in virtual communities formed of the above described SNS s for sharing information between a plurality of users. For example there has been proposed a system in which when a first user requests a second user to approve the generation of an association with the first user setting of the right to access user information the right to access user information of the first user is temporarily given to the second user before the generation of an association between the first and second users Japanese Patent Application Laid Open No. 2009 175966 . According to Japanese Patent Application Laid Open 2009 175966 the second user can browse the user information of the first user before approving the generation of an association with the first user making it easier to determine whether the right to access the user information of the second user should be set to the first user.

According to an aspect of the present invention an information processing system for instructing a first device associated with a first user and any one of a plurality of devices associated with a second user to execute a predetermined service includes a first acquisition unit configured to acquire the association between the first and second user and a selection unit configured to select from the plurality of devices a device for executing a service based on the association between the first and second user.

Further features and aspects of the present invention will become apparent from the following detailed description of exemplary embodiments with reference to the attached drawings.

Various exemplary embodiments features and aspects of the invention will be described in detail below with reference to the drawings.

With the increase in the use of various apparatuses in a networked environment and with the increase of functionality of these apparatuses in recent years a plurality of devices owned by each user has applied to diverse services. For example message services such as e mail can be performed by using a notebook personal computer PC and a mobile phone. Further image exchange services for exchanging captured images with another user can be utilized by using a network based digital camera and a mobile phone such as a smart phone.

Thus when executing a desired service between devices owned by different users and performing communication between users a plurality of combinations of devices may be applicable to the desired service. If a device for performing a service is selected based on an instruction of a user the user is forced to perform complicated operations. This means that existing services require improvement in usability.

A first exemplary embodiment of the present invention is directed to improvement in usability when performing a predetermined service between devices respectively associated with different users.

The following describes exemplary embodiments of the present invention with reference to the accompanying drawings. In the present exemplary embodiment an information processing system for executing a predetermined service between devices of different users will be described. In the present information processing system a service is executed between users having an association constructed by SNS s. illustrates a configuration of a system according to the present exemplary embodiment.

Referring to the Internet is a set of diverse networks. The Internet is not limited to the Internet and may be a wide area network WAN a local area network LAN or a combination of both. A wireless base station configures a wireless communication network with a display apparatus described below by using a communication method based on the wireless LAN conforming to IEEE802.11 Series for example . The communication method is not limited thereto and may be wireless communication such as Worldwide Interoperability for Microwave Access WiMAX and Bluetooth registered trademark or cable communication. The wireless base station is connected to the Internet to relay communication between the display apparatus and a server described below .

A wireless base station configures a wireless communication network with a transmission apparatus described below by using a communication method based on the wireless LAN conforming to IEEE802.11 Series for example . The wireless base station is connected to the Internet to relay communication between the transmission apparatus and the server described below . The communication method is not limited thereto and may be wireless communication such as WiMAX and Bluetooth registered trademark or cable communication. A user is a user A first user of the present information processing system. A user A is an owner of the display apparatus . A user is a user B second user of the present information processing system. A user B is an owner of the transmission apparatus .

The display apparatus first device is provided with a display for displaying images and various information. The display apparatus is provided with a wireless communication function and communicates with the server via the wireless base station . The display apparatus communicates with the transmission apparatus . The transmission apparatus transmits an identifier user identifier ID account ID etc. of the owner as a wireless signal on a periodical basis or in response to a request from other apparatus. The transmission apparatus transmits the identifier of the user B to the periphery thereof a communicable range . Further the transmission apparatus communicates with the server via the wireless base station . A device group includes a plurality of devices owned by the user B such as a mobile phone a printer a notebook PC a tablet PC and a digital camera. The user B can register in the server information that the user B owns the device group purpose of use business use or private use and place of use of each device of the device group as the attribute information. The association between user and device can be registered in the server . Although the association between user and device is defined based on the device attribute information the association between user and device may be separately defined based on a direct input from users.

The server executes a predetermined service between devices of different users. The server manages information about the present information processing system the association between users the association between each user and devices owned by the user and the user and device attribute information.

The server pre stores the association between users devices owned by each user and the association between each user and devices owned by the user based on an input from each user. These pieces of stored information may be imported for example from a social networking service SNS on the Internet. The server provides a social networking service and utilizes the association between users configured by the relevant service and the information about devices owned by each user.

Upon reception of a request for executing a service between a user and another user the server determines whether the service is executable from the viewpoint of security based on the association between the relevant user and another user. When the relevant service is executable by a plurality of devices owned by another user a device for executing the relevant service is selected based on the association between the relevant service and another user.

A database is a relational database RDB storing the association between users and the association between user and device. Although in the present exemplary embodiment the database is implemented as an RDB it is not limited thereto and may be a database of other types such as an Extensible Markup Language Database XMLDB . A database is an RDB for storing the user attribute information and device attribute information. Although in the present exemplary embodiment the database is implemented as an RDB it is not limited thereto and may be a database of other type such as an XMLDB.

The following describes association information stored in the database and managed by the server . is an association diagram conceptually illustrating the association between users and the association between user and device. The server forms an association diagram as illustrated in based on the association information and manages the association between users and the association between user and device. Referring to the association diagram illustrated in users and devices are recognized as a node and nodes having an association with each other are connected via an edge. Referring to a node indicates the user A . A node indicates the user B . A node indicates a device owned by the user A . Nodes and indicate devices owned by the user B . An identifier uniquely defined by the server is given to the nodes to . An identifier is given to the node . An identifier is given to the node . An identifier is given to the node . An identifier is given to the node . An identifier is given to the node .

Information is attribute information of the user A . Information is attribute information of the user B . Information to is attribute information of each device. Attribution information is an edge indicating the association between the user A and the user B . illustrate details of information about the association between nodes managed by the server . illustrates information about the association between the user A the node and the user B the node . The starting node is the identifier of the user A . The ending node is the identifier of the user B . With respect to the association between the user A and the user B the association type is FRIEND PRIVATE and the association intensity is 50 . The association type FRIEND and the association intensity 50 are defined when they are pre input by either the user A or B and approved by another user. It can be said that the edge illustrated in reflects the information illustrated in . As illustrated in the association type may be BUSINESS and the association intensity may be 0 . The association type may be hierarchized. For example BUSINESS may be subdivided into SAME SECTION SAME DEPARTMENT SAME HEADQUARTERS SERVICE IN SAME BUSINESS PLACE SERVICE IN DIFFERENT BUSINESS PLACE etc. Similarly FRIEND may be subdivided into SAME ELEMENTARY SCHOOL SAME JUNIOR HIGH SCHOOL etc. The association intensity for the association between users indicates the degree of intimacy between users.

Returning to an edge indicates the association between the user A and devices associated with the user A . Edges and indicate the associations between the user B and devices associated with the user B . illustrate details of information about the association between user and device managed by the server . illustrates information about the association between the user A the node and a device the node . The starting node is the identifier of the user A the node . The ending node is the identifier of the device the node . The association between the user A and the device indicates that the association type is OWNED and PRIVATE and the association intensity is 100 . illustrates information about the association between the user B the node and a device the node . The starting node is the identifier of the user B the node . The ending node is the identifier of the device the node . The association between the user B and the device indicates that the association type is RENTAL BUSINESS and the association intensity is 0 .

The association type FRIEND and the association intensity 50 are defined when the user A or the user B pre inputs devices owned by respective users and the device attribute information. Although in the present exemplary embodiment the association type is OWNED and RENTAL and PRIVATE and BUSINESS it is not limited thereto. Although in the example illustrated in only the display apparatus is associated with the user A a plurality of devices may be associated therewith. Although two devices are owned by the user B a greater number of devices may be registered. The association intensity for the association between user and device indicates the frequency of using devices by each user.

Details of example user attribute information stored in the database and managed by the server are illustrated in ad B. illustrates attribute information of the user A . illustrates attribute information of the user B . Referring to the examples illustrated in the user attribute information includes name age gender hobby positional information GPS information user name for SNS and password for SNS.

Although in the present exemplary embodiment the databases and are separately arranged the arrangement is not limited thereto. These databases may be implemented as one database. Further the user attribute information and device attribute information may be separately stored in different databases. The above described form of databases according to the present exemplary embodiment is to be considered as an example and is not limited thereto.

The above described system configuration is to be considered as an example and is not limited to the form illustrated in . For example even if the server includes a plurality of apparatuses a part or all of processing executed by the server may be executed by the display apparatus and the transmission apparatus on the client side.

Referring to a bus interconnects these components. An imaging unit generates image data of object light captured through a lens. The imaging unit adjusts the angle of view by using optical zoom or digital zoom and captures an image. A display unit displays images and various information for example on a liquid crystal display LCD panel. An identifier acquisition unit acquires information about an identifier transmitted by the transmission apparatus . An input unit receives the owner s identifier and various user operations. The display unit and the input unit may be integrated into a touch panel.

A combining unit superimposes onto the captured image the association between a subject included in the image captured by the imaging unit and the owner of the display apparatus and a part or all of the subject and device attribute information acquired from the server. Although in the present exemplary embodiment the imaging unit superimposes the attribute information onto the captured image the processing is not limited thereto. The attribute information may also be superimposed onto an image captured before and a real time moving image. An RF unit controls an antenna and a circuit for transmitting and receiving wireless signals to from the transmission apparatus and a wireless base station based on a predetermined wireless communication method such as the wireless LAN IEEE802.11 Series millimeter wave and Radio Frequency Identification RFID . An attribute information acquisition unit acquires from the server the attribute information of another user and devices owned by another user.

An association information acquisition unit acquires from the server the association between the owner of the display apparatus and another user or the association between another user and devices owned by another user. A message transmitting and receiving unit transmits and receives messages to from the server and a message via the server . In response to an instruction of the user A an execution unit performs processing for acquiring a list of services executable between the user A and the user B from the server and executing a service between the user A and the user B A detection unit detects an object by using the feature information for detecting an object from the captured image. A Transmission Control Protocol Internet Protocol TCP IP processing unit processes a communication protocol.

The configuration of the server will be described below. is a hardware module block diagram illustrating the server according to the present exemplary embodiment. A part or all of components may be implemented based on control in which an operation unit such as a CPU executes a program to calculate and process information. Further each component may be implemented when the operation unit executes a program to control hardware.

Referring to a bus interconnects these components. A feature information storage unit stores the feature information for detecting an object each user corresponding to each user corresponding to the identifier of each user. Although in the present exemplary embodiment the feature information storage unit is provided as an independent component it can be implemented by storing the feature information for each user as one of parameters of the attribute information for each user. The attribute information storage unit store the attribute information corresponding to each identifier user and device . In the present exemplary embodiment the attribute information storage unit stores attribute information in the database and performs such operations as addition updating and deletion on the database . In the present exemplary embodiment the user person attribute information includes name gender feature information GPS information and login time. The device attribute information includes name type connection status firmware available service positional information GPS information owner place of use and purpose of use.

The association information storage unit stores the association between users and the association between user and device. In the present exemplary embodiment the association information storage unit stores associations in the database and performs such operations as addition updating and deletion on the database . In the present exemplary embodiment an association includes the association type FRIEND BUSINESS COWORKER FAMILY etc. and the association intensity. The association intensity between users indicates the intimacy between users. The association intensity between user and device indicates the frequency of using devices by each user.

A selection unit selects a device for executing a service based on the association between users the association between another user and devices owned by another user and the attribute information of devices owned by another user when execution of a service with another user is requested by the user. The selection unit is also provided with a function of after a device for executing the relevant service is determined supervising the device attribute information to determine whether the device has become ready to execute the relevant service. In response to a request from a user a service list generation unit generates a list of services executable between the relevant user and another user.

If the server could not immediately execute processing in response to a message received from the display apparatus a message storage unit stores the relevant message. A message transmitting and receiving unit transmits and receives predetermined messages to from the display apparatus and the transmission apparatus . A TCP IP processing unit performs network protocol processing.

A determination unit determines whether there exists an association between users who requested service execution. An execution unit performs processing for executing the relevant service specified by a device between users who requested service execution. A presentation unit presents the generated service list to the user device associated with the user .

The hardware module configuration of the transmission apparatus will be described below with reference to .

Referring to a bus interconnects these modules. An RF unit controls an antenna and a circuit for transmitting and receiving wireless signals to from the display apparatus and a wireless base station based on a predetermined wireless communication method such as the wireless LAN millimeter wave and RFID . An identifier transmission unit transmits the identifier user ID and account ID of the owner the user B . Upon reception of an input by the user B via a user interface the identifier of the user B is registered in the identifier transmission unit . An association between an identifier and the user B set at the time of factory shipment and stored in the server may be handled as an alternative of the identifier of the user B .

An attribute information storage unit stores the attribute information name gender feature information GPS information login time etc. of the user B . The attribute information such as name and gender is pre input by the user B . When the transmission apparatus is provided with a sensor such as the global positioning system GPS it outputs acquired positional information as attribute information of the user B . A message transmitting and receiving unit transmits and receives control messages to from the server . A TCP IP processing unit performs network protocol processing.

Operations of the above described information processing system will be described below. are a sequence diagram illustrating processing for executing a service between the user A and the user B in the present information processing system. Referring to in step M the transmission apparatus performs processing for associating the attribute information of the user B with the identifier of the user B and registering updating the association in the server . The server instructs the feature information storage unit to store the feature information out of the received attribute information of the user B . The server instructs the attribute information storage unit to store other attribute information. Although in the present exemplary embodiment the feature information storage unit and the attribute information storage unit are separated they may be managed as one unit. This processing will be further described below with reference to the flowchart illustrated in .

In step M the display apparatus acquires the identifier of the user A based on an operation by the user A . As a result the user A can utilize the present processing system. The attribute information of the user A has been preregistered in the servers . In step M the imaging unit of the display apparatus captures an image of the user B . The user A specifies a partner to communicate with by capturing an image of the partner. In step M the identifier transmission unit of the transmission apparatus transmits the identifier of the user B . Although in the present exemplary embodiment the identifier transmission unit performs transmission processing based on a predetermined wireless communication method such as wireless LAN millimeter wave and RFID the wireless communication method is not limited thereto. Any communication method may be applied as long as the identifier can be transmitted.

In step M the identifier acquisition unit of the display apparatus receives the identifier of the user B transmitted by the transmission apparatus . Although in the present exemplary embodiment the display apparatus receives the identifier after image acquisition a sequence from step M to step M the processing is not limited thereto. The display apparatus may receive the identifier before image acquisition or simultaneously with image acquisition. In step M the message transmitting and receiving unit of the display apparatus transmits to the server a message inquiring of the server about the association between the user A and the user B including the identifier of the user A and the acquired identifier of the user B .

In step M the server receives from the display apparatus the message requesting to acquire the association between the user A and the user B . Then the server searches in the database for an association between the user A and the user B by using the received identifier of the user A and the identifier of the user B . An association refers to the association type FRIEND and BUSINESS and the association intensity 100 to 100 equivalent to the edge illustrated in .

In step M the determination unit of the server determines whether there exists an association between the user A and the user B based on the result of the search. If the association between the user A and the user B has been constructed the server determines to present the attribute information of the user B to the user A . In other words the server permits the user A to access the attribute information of the user B and determines to provide the user A with the attribute information of the user B . The present sequence will be described on the premise that the association between the user A and the user B has been constructed and that the determination unit has determined that there exists an association between the user A and the user B . When the determination unit determines that there exists an association between users the message transmitting and receiving unit transmits information about the association between the user A and the user B to the display apparatus . On the other hand when the determination unit determines that exists no association between the user A and the user B the message transmitting and receiving unit transmits an error message to the display apparatus and does not perform the subsequent processing. Specifically the server does not present the attribute information of users having no association with each other. The server performs control to prevent users having no association with each other from executing any service. Operations performed by the server in steps M to M will be described in detail below with reference to the flowchart illustrated in .

In step M upon reception of the information about the association between the user A and the user B transmitted from the server the display unit of the display apparatus displays the received information. In step M upon detection of the association between the user A and the user B the display apparatus transmits to the server a message requesting the attribute information of the user B including the identifier of the user B via the message transmitting and receiving unit . In step M the server receives the message requesting the attribute information of the user B from the display apparatus . Then by using the identifier of the user B the server searches in the database for the attribute information and feature information searches for the attribute information by using the identifier of the node as a key .

In step M the server transmits the attribute information of the user B to the display apparatus . Although in the present exemplary embodiment the display apparatus separately acquires the association between the user A and the user B and the attribute information of the user B and displays them in this order the processing is not limited thereto. The association and the attribute information may be acquired simultaneously or in reverse order. In step M the display apparatus extracts the received feature information of the user B . The detection unit of the display apparatus identifies the user B an object corresponding to the acquired feature information from the captured image by using the feature information.

In step M when the display apparatus determines that the user B has been detected and identified from the captured image the combining unit superimposes onto the captured image the attribute information acquired in association with the user B in the captured image to generate a combined image. The display unit displays the combined image. Although in the present exemplary embodiment the attribute information is superimposed onto the image the processing is not limited thereto. The attribute information may be displayed on another screen. In step M upon detection of a predetermined operation for specifying the user B whose attribute information is displayed in the captured image from the user A the display apparatus transmits to the server a message requesting the attribute information of devices owned by the user B . The identifier of the user B is included in this message.

In step M the server receives the message requesting to acquire the attribute information of devices owned by the user B . The server acquires the association of devices owned by the user B from the database the edges and . The server acquires the attribute information of devices owned by the user B from the database . In step M the server transmits the attribute information of devices owned by the user B to the display apparatus . In step M the display apparatus superimposes on the image the attribute information of devices owned by the user B and displays the combined image. As the device attribute information the display apparatus displays for example presence information indicating whether the devices are online or not. Alternatively the display apparatus may display icons indicating device types. Displaying the attribute information of devices owned by another user in the neighborhood enables grasping what devices are owned by another user making it possible to determine whether communication with another user is to be performed via a device.

Although in the present exemplary embodiment the attribute information is superimposed onto the image the processing is not limited thereto. The device attribute information may be displayed on another screen. Although in the present exemplary embodiment the attribute information of devices owned by the user B is directly acquired the processing is not limited thereto. It may be also possible to acquire a list of devices owned by the user B first and then acquire the attribute information of each device included in the list. Operations of the display apparatus in steps M to M will be described in detail below with reference to the flowchart illustrated in . Although omitted in a list of devices owned by the user A and the attribute information of these devices can be acquired in a similar way.

Referring to suppose that in step M the user A wants to execute a predetermined service between the user A and the user B by using a device of the user B . Upon detection of an instruction from the user A the display apparatus transmits to the server a message requesting the generation of a list of services available between the user A and the user B . In step M upon reception of the service list generation request the generation unit of the server acquires the attribute information of devices owned by the user A and the attribute information of devices owned by the user B . The server compares the attribute information of devices owned by the user A with the attribute information of devices owned by the user B to determine whether any service is available between devices of the two users.

Referring to the example illustrated in the print service and message service are available to the device the display apparatus of the user A and the node of the user B . The message service and image exchange service are available to the device the display apparatus of the user A and the node of the user B .

Therefore the server determines that the message service image exchange service and print service are executable between the user A and the user B . In this case even if a device is capable of executing a certain service the executable service may be restricted depending on the association between the user A and the user B . For example when the association between the user A and the user B is FAMILY the print service is permitted otherwise the print service is not permitted. Further when the association between users is FRIEND executable services may be restricted only to the message service. Further it is also possible to specify for each device a service execution condition rule depending on the association. For example when the device attribute information the association between user and device is BUSINESS services may be permitted only when the association between users is BUSINESS .

Further even if a device is capable of executing a certain service the executable service may be restricted depending on the association intensity between the user A and the user B . Similar restriction can be applied to the attribute information the attribute information of the user A and the attribute information the attribute information of the user B . Further executable services may be restricted depending on the association between the user A and devices and the association between user and device. For example when the association between user and device is RENTAL only services using the device may be inhibited or only specific services may be permitted.

In step M the server generates a list of services determined in step M to be executable between the user A and the user B based on the devices owned by the user B and transmits the service list to the display apparatus . Specifically referring to the example illustrated in the server generates a service list for print service message service and image exchange service from user A and transmits the service list to the display apparatus .

In step M when the display apparatus receives the service list from the server the display unit of the display apparatus displays the received service list. In step M based on a user operation the display apparatus determines a service to be executed between the user A and the user B . Based on the service list the user A specifies a service to be executed via the user interface. Further it is also possible to give priority to a service and automatically determine a service to be executed.

In step M the display apparatus notifies the server of the service to be executed and parameters for the service. In step M the server determines whether the notified service is executable by a plurality of devices owned by the user B . When the notified service is not executable by the plurality of devices owned by the user B when the notified service is executable by one device out of the devices owned by the user B the server performs processing for executing the notified service between the user A and the user B .

Specifically out of the devices owned by the display apparatus and the user B the notified service is executed between the devices capable of executing the service.

In the present exemplary embodiment the notified service is determined to be executable by a plurality of devices. In step M the selection unit of the server selects a device for executing the relevant service based on the association between the user A and the user B and the association between the user B and the device. Suppose that the message service is specified in step M. As described above the message service is executable between the display apparatus the node and the node and between the display apparatus and the node . The association between the user A and the user B is FRIEND PRIVATE as illustrated in . The association between the user B and the node is RENTAL and BUSINESS as illustrated in . Specifically illustrates that the user B uses the node for business use without having ownership thereof i.e. on a joint use or rental basis . Further the association between the user B and the node is OWNED and PRIVATE as illustrated in . Specifically illustrates that the user B has ownership of the node and uses it for private use.

Although the association between the user A and the user B is FRIEND PRIVATE it is not suitable that the user A sends a message to a device used by the user B for business use. Therefore in the present exemplary embodiment the selection unit of the server selects a device having an attribute an association with the user corresponding to the association between users. Specifically the selection unit of the server selects as a device for executing the relevant service the node having the association FRIEND PRIVATE with the user B corresponding to the association PRIVATE between the user A and the user B . The device attribute the association between device and user corresponding to the association between users which is used for selecting the device for executing the relevant service is predefined.

Further the selection unit of the server may determine the execution of the service depending on the presence of the device of the partner whether the device is connected to the network . For example if the target device is offline the selection unit may preferentially select other online device instead of the target offline device attaching importance to real time processing of the service. Further the selection unit may store the information about the selected device and execute the relevant service when the device becomes online.

When there exists a plurality of devices capable of executing the service corresponding to the association between users the selection unit selects one device for executing the relevant service based on another association between user and device. For example the selection unit may select a device having the association OWNED between user and device in preference to a device having the association RENTAL between user and device. When there exists a plurality of devices capable of executing the service corresponding to the association between users the selection unit may select one device for executing the relevant service based on the association intensity frequency of use between user and device. For example the selection unit may select a device having the highest association intensity frequency of use with the user out of the plurality of devices capable of executing the service corresponding to the association between users.

In step M the execution unit of the server performs processing for executing the relevant service between the user A and the user B . The execution unit instructs the node the display apparatus to transmit a message. In this case the execution unit also instructs the node about a message transmission destination information about a channel to the node . The server instructs the selected node to receive a message via the message service. The instruction can be achieved by the Simple Object Access Protocol SOAP Representational State Transfer REST and various types of remote procedure call RPC . Further the execution unit may relay a message from the node the display apparatus to the node . The execution unit can perform similar processing also during execution of other services the image exchange service and print service . In step M in response to the instruction from the server the execution unit of the display apparatus executes the relevant service on a device corresponding to the user B . When service execution is completed in step M the display apparatus displays the completion of the service and notifies the server of the completion of the service. When the partner device is offline the server may notify the display apparatus that it is waiting for execution of the service.

If a device corresponding to the user A other than the display apparatus is selected as a device for executing the relevant service when the server is notified of the completion of the service from the selected device the server notifies the display apparatus of the completion of the service. The display apparatus displays a message indicating that the service execution is completed.

Example screens displayed by the display unit of the display apparatus in the above described processing are illustrated in . illustrates a screen displayed by the display apparatus when the identifier of the user B is detected M . A pop up indicates that the identifier of the user B has been detected. Although in the present exemplary embodiment the identifier is superimposed onto an image like a pop up the processing is not limited thereto. The identifier may be displayed on another screen or notified with other method such as sound. illustrates a screen displayed by the display apparatus when the user B is identified M . A pop up displays the attribute information of the user B a part of the information illustrated in . This pop up displays a part or all of the attribute information of the user B . Although in the present exemplary embodiment the attribute information is superimposed onto an image like a pop up the processing is not limited thereto. The attribute information may be displayed on another screen or notified with other method such as sound.

The above described operations of the present information processing system enable executing of a service between a user A and a user B. According to operations of the present information processing system the present information processing system transmits attribute information and executes a service between users only when there exists an association between the relevant users thus achieving security control for preventing execution of services involving random disclosure of personal information or access to resources of a user s apparatus by another user. Further depending on the association between users and the association between user and device the present information processing system enables selecting of a more suitable device as a device for executing a service without user operations on a device for executing the relevant service. Thus the user can perform communication by using a suitable device out of a plurality of devices without complicated operations which effects improvement in usability.

In the present exemplary embodiment the display apparatus acquires the identifier of another user from the transmission apparatus by using a wireless signal however the display apparatus may acquire the identifier input by a user to the display apparatus . Although in the present exemplary embodiment the display apparatus requests the server to send a service list by specifying a partner user from the captured image this processing may be omitted. Specifically steps M to M may be omitted and the display apparatus may only request a service list. The display apparatus may request the server to send a service list upon acquisition of the identifier of another user. 

Now processing performed by each apparatus of the present information processing system will be described by flowcharts. is a flowchart illustrating processing performed by the display apparatus to receive the identifier of the user B from the transmission apparatus and request the server to send information.

In step S the input unit receives an input of the identifier of the user A . Then the processing proceeds to step S. In step S an imaging unit captures an image and the processing proceeds to step S. In step S an RF unit is connected by a predetermined wireless method to the transmission apparatus . An identifier acquisition unit acquires an identifier of the user B transmitted from the transmission apparatus . A combining unit superimposes the identifier of the user B on the image and displays them . Then the processing proceeds to step S. In step S an association information acquisition unit generates a message requesting acquisition of the association between the user A and the user B including the identifiers of the user A and the user B . A message transmitting and receiving unit transmits the above described message to the server via a TCP IP processing unit . The message transmitting and receiving unit acquires the association between the user A and the user B from the sever and transmits it to an association information acquisition unit . Then the processing proceeds to step S. In step S the combining unit displays the association between the user A and the user B on the captured image. Then the processing proceeds to step S.

In step S the attribute information acquisition unit generates a message for acquiring the attribute information of the user B including the identifier of the user B . The message transmitting and receiving unit transmits the above described message to the server via the TCP IP processing unit . The message transmitting and receiving unit acquires the attribute information of the user B from the sever and transmits it to the attribute information acquisition unit . Then the processing proceeds to step S. In step S the detection unit acquires the feature information of the user B from the above described attribute information and determines whether the user B exists in the captured image. When the detection unit determines that the user B exists in the image PRESENT in step S the processing proceeds to step S. On the other hand when the detection unit determines that the user B does not exist on the image NOT PRESENT in step S the processing exits the flowchart.

In step S the combining unit displays the attribute information of the user B in the vicinity of the user B . Then the processing proceeds to step S. In step S the attribute information acquisition unit generates a message for acquiring the identifier and attribute information of the device associated with the user B . The message transmitting and receiving unit transmits the above described message by using the TCP IP processing unit . The message transmitting and receiving unit acquires the identifier and attribute information of the device associated with the user B from the sever and transmits them to the attribute information acquisition unit . Then the processing proceeds to step S.

In step S the combining unit superimposes on the image the device associated with the user B and a part or all of the attribute information of the device and display them . Then the processing proceeds to step S. Although in the present exemplary embodiment the attribute information is superimposed onto the image the processing is not limited thereto. The device attribute information may be displayed on another screen.

In step S the attribute information acquisition unit generates a message for acquiring the identifier and attribute information of the device associated with the user A . The message transmitting and receiving unit transmits the above described message via the TCP IP processing unit . The message transmitting and receiving unit of the server acquires the identifier and attribute information of the device associated with the user A and transmits them to the attribute information acquisition unit . Then the processing proceeds to step S.

In step S the combining unit superimposes on the image a part or all of the device associated with the user A and the attribute information of the device and display them. Then the processing exits the flowchart. Although in the present exemplary embodiment the attribute information is superimposed onto the image the processing is not limited thereto. The attribute information may be displayed on another screen.

In step S the input unit detects a touch on a service to be executed from the service list displayed by the user A on the display unit to select the service. Then the processing proceeds to step S. Although in the present exemplary embodiment the user A selects a service via the user interface the processing is not limited thereto. The display apparatus may autonomously select a service. In step S the execution unit generates a message requesting the server to execute the selected service. The message transmitting and receiving unit transmits to the server via the TCP IP processing unit a message requesting the server to execute the relevant service. In step S the execution unit performs processing for executing the relevant service in response to an instruction from the server . In step S the execution unit determines whether the service execution is completed. When the execution unit determines that the service execution is not completed NO in step S the processing proceeds to step S. When the execution unit determines that the service execution is completed YES in step S then in step S the combining unit displays the completion of the service execution and notifies the server of the completion of the service. In step S the combining unit displays a message indicating that the service could not be immediately executed.

In step S the attribute information storage unit searches in the database for the attribute information of each device by using the identifier of each device of the user B as a key. In step S the generation unit generates a service list based on the attribute information of each device of the user A and the attribute information of each device of the user B . In step S the generation unit generates a reply message including the generated service list. The message transmitting and receiving unit transmits the reply message including the service list to the display apparatus via the TCP IP processing unit . Then the processing exits the flowchart.

The association information storage unit searches in the database for the device list associated with the user B by using the identifier of the user B as a key. In step S the attribute information storage unit searches in the database for the attribute information of each device by using the identifier of each device of the user B as a key. In step S the message transmitting and receiving unit receives via the TCP IP processing unit a specification of a service which the user A desires to execute. In step S the selection unit determines whether the specified service is executable by a plurality of devices between users. When the specified service is executable by only one combination of devices between users NO in step S the processing proceeds to step S. On the other hand when the specified service is executable by a plurality of devices between users YES in step S the processing proceeds to step S. In step S the selection unit selects a device for executing the relevant service based on the association between users and the association between user and device.

The selection unit determines a target device based on the association between the user A and the user B the association between the user A and devices the association between the user B and devices and the device attribute information. The selection unit determines both a transmission source device and a transmission destination device which can perform the corresponding service.

In step S the execution unit confirms the attribute information of the target device. When the attribute information of the device indicates the executable state for example available on line i.e. the selection unit determines that the device is ready to execute the service EXECUTABLE in step S the processing proceeds to step S. When the attribute information of the device indicates the unexecutable state for example in the unavailable state when off line in the busy state when on line the execution unit determines that the device is not ready to execute the service NOT EXECUTABLE in step S and the processing proceeds to step S. If the device periodically updates the attribute information the server determines that the power of the device is ON. If the attribute information is not periodically updated the server determines that the power of the device is OFF. These pieces of information enables the server to determine whether the attribute information of the device indicates the executable or unexecutable state.

In step S the execution unit performs processing for executing the relevant service. For example the execution unit generates a message requesting execution of the relevant service. The message transmitting and receiving unit transmits to the target device via the TCP IP processing unit the message requesting the target device to execute the relevant service. In step S upon detection of completion of the service execution the message transmitting and receiving unit notifies the user A of the completion of the service execution. Then the processing exits the flowchart. In step S the message transmitting and receiving unit stores the service execution request in the message storage unit . Then the processing proceeds to step S. In step S the message storage unit waits for a fixed period of time. Then the processing proceeds to step S. In step S the message storage unit compares a preset time out time with the elapsed time to determine whether time out has occurred. When the message storage unit determines that time out has occurred YES in step S the processing proceeds to step S. On the other hand when the message storage unit determines that time out has not occurred NO in step S the processing returns to step S. Specifically when the selected device is not ready to execute the relevant service the execution unit delays execution of the service until the relevant device becomes ready to execute the relevant service. In step S the selection unit generates a message notifying the display apparatus of time out. The message transmitting and receiving unit transmits to the display apparatus via the TCP IP processing unit the message notifying the display apparatus of time out. Then the processing exits the flowchart.

Although in the present exemplary embodiment the association between users is registered in the server the processing is not limited thereto. It is also possible to refer to or capture the association between users in a social networking service. In the present specification a social networking service SNS refers to a service for offering a place of communication between users via a network. In a SNS for example users can upload user information images blogs diaries twitters etc. which can be mutually browsed by other users. Using these pieces of information in the SNS enables constructing of an association between users. Although the association between user and device is registered in the server the processing is not limited thereto. It is also possible to refer to information registration information about the user and a device owned by him managed on device maker sites.

As described above in the present exemplary embodiment a more suitable device can be selected based on the association between users and the association between user and device. Thus users can perform communication by using a suitable device out of a plurality of devices which effects improvement in usability. When registering a device for a user the association between user and device can be automatically set depending on the association between users. This can provide an effect that the user can reduce the trouble of inputting a complicated association.

The following describes another example of a method for selecting a device depending on the association between users and the association between user and device according to a second exemplary embodiment. The system configuration and the configuration of each apparatus according to the second exemplary embodiment are similar to those in the first exemplary embodiment and redundant description will be avoided. is an association diagram conceptually illustrating the association between users and the association between user and device based on the association information and attribute information managed by the server according to the second exemplary embodiment. Referring to the association diagram illustrated in users and devices are represented as nodes and nodes associated with each other are connected with an edge. In the second exemplary embodiment the user A is a worker of a company and the user B is also a worker of the same company and an administrator who manages devices owned by the company. Referring to a node indicates a company worker the user A a node indicates the administrator the user B nodes and indicate devices owned by the company worker the user A and nodes and indicate devices owned managed by the administrator.

Each of the nodes to is given a unique identifier determined by the server . The node is given an identifier . The node is given an identifier . The node is given an identifier . The node is given an identifier . The node is given an identifier . The node is given an identifier .

Attribute information is information of a company worker. Attribute information is information of the administrator. Attribute information to is information of respective devices. An association is relation between the company worker and the administrator in which the association type is COWORKER and the association intensity is 50 . Associations and are relation between the company worker and devices associated with the company worker. Associations and are relation between the administrator and devices associated with the administrator in which the association type is MANAGEMENT and the association intensity is 100 .

The following describes a case where the company worker of the node constructs an association with a device of the node the company worker of the node associates himself or herself with the device of the node . The company worker can request the server to register the association with the node by instructing the server to construct an association. A registration request may be made when the company worker of the node holds up a Near Field Communication NFC card into which his or her ID is input to the device of the node and the node requests the server to make a registration. Referring to since the device of the node is managed by the administrator the node having the association COWORKER with the node an association newly determined has the association type OWNED BY COMPANY and the association intensity 50 . Thus corresponding to the association the association between users an association of a device with another user can be automatically determined and set.

Service execution in which the administrator sends a message to the company worker will be described below with reference to . Suppose that the association is not set. The company worker of the node owns the devices of the nodes and . The association has the association type PRIVATE and the association intensity 100 . On the other hand the association has the association type OWNED BY COMPANY and the association intensity 50 .

The administrator of the node owns the devices of the nodes and . The association has the association type MANAGEMENT and the association intensity 100 . On the other hand the association has the association type OWNED BY COMPANY and the association intensity 100 . The administrator acquires a list of services available between the administrator and the company worker by using the display apparatus . The acquired service list includes the message service and the print service. The administrator selects the message service from the service list. In this case since the association between the administrator and the company worker has the association type COWORKER devices having the association type OWNED BY COMPANY between user and device corresponding to the association COWORKER between users are preferentially selected. In this case the device of the node and the device of the node are selected. The use of the present invention enables easily executing a service between devices which are equipment of the company only by specifying users. When a plurality of devices has the association type OWNED BY COMPANY a device having the highest association intensity may be selected or by using the attribute information the attribute information to of respective devices a device currently having an executable presence may be selected.

The following describes a case where an association is newly constructed between users having no association and a service is executed between the users with reference to . Referring to there exists no association between a node a customer and the node company worker . Suppose a case where the company worker wants to use the message service to send to the customer a document to be used for business talk. In this case the node requests the server to construct a temporary association with the user ID of the node by using the node or and to execute a service. The server inquires of a device associated with the node whether a temporary association is to be constructed and the relevant service is to be carried out and upon reception of approval from the device selects the device for executing the relevant service. Since a TEMPORARY association is constructed between the nodes and the server does not use a device having a setting of the association PRIVATE between user and device. The server selects a device having the association BUSINESS or OWNED BY COMPANY between user and device corresponding to the association TEMPORARY between users. The server selects a device a node having the association type BUSINESS an association as a device on the customer side. Similarly the server further selects a device the node having the association type OWNED BY COMPANY an association as a device on the company worker side. Then the selected devices execute the relevant service between selected devices. In this case the association TEMPORARY dissolves after completion of the service.

As described above it is possible to construct a temporary association and execute a service even between users having no association. Since a temporary association dissolves after completion of a service any service is not executed between users as long as no association is newly constructed enabling security control. It is also possible when generating a service list to perform control in such a way that only message reception is possible and printing is not possible between users having no association with each other. This enables preventing a malicious user having no association from successively transmitting useless printouts.

The following describes an example case in which the customer and the company worker are friends with reference to . There exists an association having the association type FRIEND between the customer of the node and the company worker of the node . In this case when the customer sends a message to the company worker a device a node having the association type PRIVATE for an association is selected as a device on the customer side. Similarly a device the node having the association type PRIVATE for the association is selected as a device on the company worker side. Thus a different device can be selected in the case where a request is made from an associated user. Automatically selecting a suitable device in this way effects improvement in usability.

If a plurality of devices having a similar association type is detected a suitable device is determined based on the association intensity and the device attribute information. When the determination is made based on the device attribute information a message may be sent to a device having the latest final login time or final operation time out of available devices. This enables providing of a service to a more suitable device facilitating user s convenience.

Further the association between device user and device construction of an association may be automatically performed. For example in the case of a printer at a convenience store an association with an administrator a management group of the convenience store is pre constructed. In this case the association construction may be substituted by user registration. When a company worker a device associated with the company worker comes close to the printer at the convenience store the printer at the convenience store is temporarily associated with the company worker and a temporary association is constructed therebetween. A transmission apparatus owned by the company worker transmits the identifier of the company worker to the printer. Upon reception of the identifier the printer registers it in the server . In this case the association type is RENTAL and the association intensity is 0 . A user can easily rent a device in this way. Further since the identifier is registered in the server the company worker can print a document addressed to him by using the printer at the convenience store.

As described above according to the present exemplary embodiment it is possible to select a more suitable device according to the association between users and the association between user and device. Thus the user can perform communication by using a suitable device out of a plurality of devices which effects improvement in usability. When registering a device for a user the association between user and device can be automatically set according to the association between users. This enables the user to reduce the trouble of inputting a complicated association.

Embodiments of the present invention can also be realized by a computer of a system or apparatus that reads out and executes computer executable instructions recorded on a storage medium e.g. computer readable storage medium to perform the functions of one or more of the above described embodiment s of the present invention and by a method performed by the computer of the system or apparatus by for example reading out and executing the computer executable instructions from the storage medium to perform the functions of one or more of the above described embodiment s . The computer may comprise one or more of a central processing unit CPU micro processing unit MPU or other circuitry and may include a network of separate computers or separate computer processors. The computer executable instructions may be provided to the computer for example from a network or the storage medium. The storage medium may include for example one or more of a hard disk a random access memory RAM a read only memory ROM a storage of distributed computing systems an optical disk such as a compact disc CD digital versatile disc DVD or Blu ray Disc BD a flash memory device a memory card and the like.

While the present invention has been described with reference to exemplary embodiments it is to be understood that the invention is not limited to the disclosed exemplary embodiments. The scope of the following claims is to be accorded the broadest interpretation so as to encompass all modifications equivalent structures and function.

This application claims priority from Japanese Patent Application No. 2012 150473 filed Jul. 4 2012 which is hereby incorporated by reference herein in its entirety.

