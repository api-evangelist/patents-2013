---

title: Call and data correspondence in a call-in center employing virtual restructuring for computer telephony integrated functionality
abstract: A call center having agent stations comprising telephones connected to computer stations by a Telephone Application Programming Interface (TAPI)-compliant bridge has data pertaining to callers stored in a database on a local area network (LAN) to which the computer stations are also connected. Origination data for incoming calls, both conventional calls to the telephones and computer-simulated calls to the computer platforms, is used as a key to extract data pertaining to calls from the database for display on video display units (VDUs) of the computer workstations where the calls are terminated. In some cases, data is only extracted and displayed for calls from previously listed origination points.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=RE045606&OS=RE045606&RS=RE045606
owner: GENESYS TELECOMMUNICATIONS LABORATORIES, INC.
number: RE045606
owner_city: Daly, City
owner_country: US
publication_date: 20130307
---
The present application is a reissue patent application of U.S. Pat. No. 7 903 807 filed on May 11 2004 as patent application Ser. No. 10 843 802 which is a continuation application of patent application Ser. No. 10 234 691 filed Sep. 3 2002 now U.S. Pat. No. 6 735 298 which is a continuation application of patent application Ser. No. 08 949 566 filed Oct. 14 1997 now U.S. Pat. No. 6 480 600 which is a divisional application of patent application Ser. No. 08 928 861 filed Sep. 12 1997 now U.S. Pat. No. 7 031 442. U.S. Pat. No. 7 903 807 filed on May 11 2004 as patent application Ser. No. 10 843 802 is also a continuation application of patent application Ser. No. 08 928 861 filed Sep. 12 1997 now U.S. Pat. No. 7 031 442 which is a Continuation In Part CIP of prior patent application Ser. No. 08 869 815 filed Jun. 4 1997 now U.S. Pat. No. 6 148 074 which is a CIP of patent application Ser. No. 08 802 667 filed Feb. 19 1997 now U.S. Pat. No. 6 201 863 which is a CIP of patent application Ser. No. 08 797 420 filed Feb. 10 1997 now U.S. Pat. No. 6 185 291. The present application Application Ser. No. 08 928 861 filed Sep. 12 1997 now U.S. Pat. No. 7 031 442 is also a CIP of application Ser. No. 08 833 340 filed Apr. 3 1997 now U.S. Pat. No. 6 560 328 and a CIP of application Ser. No. 08 891 675 filed Jul. 9 1997 now U.S. Pat. No. 6 205 412.

The present invention is in the area of telephone call processing and switching and pertains more particularly to intelligent call routing systems and equipment and methods for customizing and personalizing Routing Rules and Protocol.

Telephone call processing and switching systems are at the time of the present patent application relatively sophisticated computerized systems and development and introduction of new systems continues. Much information on the nature of such hardware and software is available in a number of publications accessible to the present inventor and to those with skill in the art in general. For this reason much minute detail of known systems is not reproduced here as to do so would obscure the facts of the invention.

One document which provides considerable information on intelligent networks is ITU T Recommendation Q.1219 Intelligent Network User s Guide for Capability Set 1 dated April 1994. This document is incorporated herein by reference.

At the time of filing the present patent application there continues to be remarkable growth in telephone routing systems with routing done both at or near point of origin of incoming calls and at call destinations. For example systems are known to the present inventor that perform initial call processing before routing an incoming call to a destination switch and further routing is done at the call destination in computerized telephony equipment often termed customer premises equipment CPE . The present invention pertains most particularly to routing at customer premises.

There are at the time of the present patent application a considerable range of CPE systems available for use from various manufacturers and as state of the art routing systems are typically computerized there is a broad variety of software available for such systems as well. It is the software in general wherein routing rules are set and the routing rules determine the decision making paths a system follows in routing calls.

In current art although there are widely varying systems in the art relative to routing rules all such systems exhibit a common drawback. Typically such systems once set up programmed to follow certain routing rules and practices cannot easily vary and individual users or groups of users cannot change the rules arbitrarily. To tinker with the routing rules in CPE typically requires a highly trained maintenance technician system administrator .

What is clearly needed is method and apparatus which allows an individual user of a routing system or a group of users to alter and customize the routing rules of the system for particular purposes which may change from time to time depending on the users.

In a preferred embodiment of the present invention a telephony call in center is provided comprising a plurality of agent stations individual ones of the agent stations having a telephone and a computer platform including a video display unit VDU the telephone and computer platform connected by a Telephone Application Programming Interface TAPI compliant data link a local area network LAN connecting at least some of the computer platforms at the agent stations and a first computer processor connected on the LAN having a wide area network connection WAN adapted to receive computer simulated telephone calls and having access to a database. The computer platform is adapted to retrieve origination data for incoming calls to the telephone and to use the origination data to correlate the caller with further data retrieved from the database for display on the VDU. In some embodiments the the first computer processor is adapted to service calls from specific Service Control Points SCPs and to block display of data at agent station VDUs for any call not identified as originating at one of the specific SCPs.

In preferred embodiments the computer platforms are adapted to report the origination data to the first processor and the first processor is adapted to correlate the caller with further data retrieved from the database for display on the VDU.

In an alternative embodiment a telephone call routing system is provided comprising a call in center comprising a plurality of agent stations individual ones of the agent stations having a telephone and a computer platform including a video display unit VDU the telephone and the computer platform connected by a Telephone Application Programming Interface TAPI compliant bridge with a plurality of the computer workstations connected to one another to a first processor and to a database on a local area network LAN and a call routing center comprising a telephony switch adapted to switch telephone calls to the telephones at the call in center and a processor adapted to route computer simulated telephone calls to the computer platforms at the agent stations. In this embodiment the computer workstation is adapted to retrieve origination data for incoming calls both conventional telephony and computer simulated and to report the origination data to the first processor and wherein the first processor is adapted to use the origination data to correlate the caller with further data retrieved from the database for display on the VDU. IN some instances the first processor is adapted to service calls from specific Service Control Points SCPs and to block display of data at agent station VDUs for any call not identified as originating at one of the specific SCPs.

In yet another embodiment an agent station for a call in center is provided comprising a computer platform having a local area network LAN adapter the computer platform adapted for receiving and processing computer simulated telephone calls a telephone having a telephone line port and a Telephone Application Programming Interface TAPI compliant bridge connecting the computer workstation and the telephone. The computer workstation is adapted to retrieve origination data for calls both calls to the telephone and computer simulated calls to the computer platform and to report the origination data on a LAN via the LAN adapter to a processor connected to the LAN.

In still another embodiment a method for correlating displayed data with incoming conventional telephone and computer simulated telephone calls at a call in center is provided comprising steps of a connecting individual telephones at the call in center by a Telephone Application Programming Interace TAPI compliant bridge to individual computer platforms b connecting each telephone connected computer workstation on a local area network LAN to a processor connected on the LAN the processor having access to a database storing data to be displayed c monitoring origination information of incoming calls by the computer workstations d providing the origination information over the LAN to the LAN connected processor and e using the origination information via the processor to correlate data to be displayed with the incoming calls.

In the various embodiments of the invention described in enabling detail below call centers without call switching apparatus and capable of also processing computer simulated calls are enabled while also providing means of correlating stored data pertaining to callers with calls to agent stations displaying the data on VDUs at the agent stations while calls are in progress.

In various embodiments of the present invention each workstation has a PC with a video display such as PC VDU at workstation and PC VDU at workstation . There will be in most architectures many more than the two telephone workstations shown each with an associated PC but two are considered adequate by the inventors to illustrate embodiments of the present invention.

PC VDUs and in various embodiments are connected on a local area network LAN which also connects to a data file server and to processor running an instance of T Server . The arrangement of PC VDU plus telephone at each workstation is a common arrangement for many company facilities and has become more common as more and more people become computer literate. Moreover many companies are actively training employees in use of computers and providing PC type computer equipment usually interconnected by company LAN for employees to use.

In the exemplary system shown calls may originate at any remote call in point which is represented in by region referred to herein as the network cloud. Network cloud may be a small regional portion of the world wide network of connected telephony equipment or may represent the entire world wide network. An incoming call at any point in network cloud is represented by vector to service control point SCP typically a telephony central switch which in this example is connected to an adjunct processor and coupled thereby to an intelligent peripheral I P a distribution processor and a processor running a second instance of unique T Server as well as a statistical server stat server . In this system calls are forwarded to switch at the customer premises equipment over telephone line and associated data is forwarded in parallel to processor over a digital network link . Such systems wherein data associated with a call is forwarded on a separate link from the call itself are to the inventor s knowledge at the time of the present patent application not known in the art but are known to the inventor. This feature however is not required in practice of the present invention but preferred in some embodiments.

In embodiments of the present invention a call originating in the network cloud and routed to switch destined for one of telephones or or to another destination at the customer s premises typically carries a destination number which may include a direct inward dialing DID feature whereby a limited number of lines may be used to carry calls to a larger number of final destinations accomplished principally by software techniques. Destination may also be to a virtual number of which many may be programmed and T Server may be adapted to further route calls forwarded to such virtual numbers. The phone call may also have caller ID attached originating caller s phone number and in those cases wherein a separate network digital data link is accomplished between processors at the origination end and the customer s premises cases a data packet associated with the call may be forwarded over link . Also T S which interacts continuously with switch in this embodiment is capable of transacting with data file server given caller ID and or other data associated with a call to retrieve further information about the caller from data file server .

It will be apparent to those with skill in the art that incoming calls are not limited to two telephones as shown in . There may be many more than two telephones connected to switch other telephony equipment such as facsimile equipment and data lines may also be connected and involved in routing decisions and transactions according to embodiments of the present invention. Moreover existing techniques such as virtual expansion for routing calls with a certain number to multiple destinations on some pre programmed protocol may also be involved. The simple diagram of a switch with two telephones connected is meant to be illustrative for description of embodiments of the present invention.

It will be apparent to those with skill in the art as well that a separate processor shown as processor in is not strictly required in embodiments of the invention depending on the level of machine intelligence and sophistication of switch . Switches for customer premises continue to be developed with new levels of intelligent capability and some may be capable of interacting with other elements of the present invention without a separate processor between the switch and a LAN such as LAN . Processor will be required to practice various embodiments of the invention with many existing telephony switches which may be used as element . In virtually all cases in practicing the present invention an instance of unique T Server executing on a computerized platform will be required.

In a preferred embodiment of the present invention routing intelligence is no longer confined to a central location such as telephony switch or T Server running on a connected processor but distributed in a manner that individual users of the system may customize routing at their own workstations using individual PCs. This is accomplished in large part by control code executable at a user s computer workstation. It is not required that the actual code be always at the user s workstation as it may be shared code resident at for example a file server on LAN such as file server . The unique code may be accessed from such a server and executed at any one of several workstations such as workstations and by PC VDU and PC VDU respectively. The location of stored code and access to such code is not however germane to the invention. In embodiments of the invention an individual PC executes unique code to provide call routing control for an individual.

In embodiments of the present invention T Server is adapted to cooperate with code executed at individual PCs to route incoming calls. In this unique routing process there are at least two different mechanisms that may be used. In one mechanism all calls are routed to a single routing point and each individual routing application registers with that routing point. In this case a record of each call is broadcast on LAN as will be described more fully below and filtering occurs at each PC router. In a second mechanism there may be a virtual routing point for each PC using a personal router on the LAN. In this second case there is no need to broadcast call particulars on the LAN. This second alternative is typically more expensive than the first and there are currently rather severe limitations on how many automatic call distribution ACD queues or routing points may be allocated on a typical central switch.

Referring now to and presuming the first of the two mechanisms described immediately above with each incoming call an overall record of the call prior to routing is broadcast on LAN . This overall record can take a number of different forms of which the example in is just one exemplary form. In this example the overall record consists of four data portions. One data portion consists of elements and . Data element identifies this portion as the caller ID associated with the incoming call and element is the caller ID number. A second data portion consists of data elements and . This portion is a data set which may be transmitted via link to processor in parallel with the incoming call or may be composed partly of data retrieved from server using other call data as a pointer. Element identifies the data as a data set and element is the pointer. Similarly elements and constitute a direct inward dialing DID number and elements and fix number of rings.

A central element in the present invention is that a user at an individual PC rims an instance of a personal router application providing that user with instant and complete control over routing of calls meant for that user or in some cases associated users . The user s PC such as PC VDU is connected typically by LAN to a processor such as processor in turn connected to the central switch such as switch .

At the computer portion of an individual workstation such as PC VDU at workstation the user has access to the local application which is interactive with code executed at T Server at processor to control and customize routing for incoming calls depending on certain data elements in the broadcast announcement record . As a part of this unique capability to program routing responses the individual user may in some embodiments load to his her VDU a unique user interface an example of which is shown in .

Through the individual interface John Doe in this instance may program in a relatively high level language routing preferences for certain incoming calls according to data broadcast for such calls on LAN . In the case where each user has a dedicated routing point an incoming call is directed to the individual s computer and the broadcast is not necessary.

In this example John Doe has programmed his interface to pick up all calls having Caller ID matched with a list list1 after n1 rings. List1 is resident in John Doe s database associated with his own Personal Router and John Doe may call up this list and amend delete and expand it as he wishes. The number of rings n1 may be any convenient number to accomplish John s purpose.

John Doe may program negative lists as well. Although not specifically recommended a negative list could be used to hang up on all calls that have an ID associated with a company or individual that has been making harassing calls to an employee or to shunt such calls to a special tracking program or the like.

John Doe in this instance has also programmed his personal router to send all calls bearing his assigned DID number to the telephone at his desk after 0 rings and to an answering machine after n2 rings. Associations with data sets may also be made comparing such data sets to stored profiles and the like. At the bottom of the display in this example a status summary of calls may be provided. A user may choose to have this window resident on his computer screen as a pix on pix or to hide it and call it as needed. Also it will be apparent to those with skill in the art that it is not strictly required that each selected person having an associated routing interface assigned have a computer at his her elbow. For those persons not for one reason or another inclined to program their own routing the interface may be called up and done by another with appropriate access security applied. A secretary or system administrator may perform such functions using any workstation connected to company LAN .

The user interface at the user s workstation can take any of a variety of forms and have a variety of functionality. Typically when the user logs on his system will be configured to execute the unique application to run in the background and to monitor for incoming calls at all times the user is present and active. It will be apparent to those with skill in the art that this can be done in a variety of ways. The interface for example may be a Graphic User Interface GUI wherein icons may be used to represent calls callers and other users and the individual user at one workstation may select to display icons as desired. In this alternative embodiment an incoming call may appear on a user s PC VDU as a small telephone in an announcement bar. Such announcement bars are familiar to those with skill in the art such as seen on Operating System Desktops where an e mail arrival may be indicated by a letter icon and a sound.

In such an embodiment by moving the screen cursor to the telephone icon which may be programmed to ring or to vibrate as though it is ringing the user may activate a text balloon announcing the caller ID or other call data or such data may be displayed directly in the icon. The system can be configured in such an embodiment to allow the user to route the call to his own phone with a click to hang up with a double click to drag the call to a holding queue represented by a basket for example to send the call to an answering machine which may be done by dragging and dropping the telephone icon to an answering machine icon to transfer the call to another person by dragging and dropping the telephone icon to an icon representing another user such as the instant user s secretary or supervisor for example . Those with skill in the art will recognize that the functionality through the use of click and drag and drop procedures is very broad indeed.

Actions taken at the personal router interface at an individual PC on LAN in embodiments of the present invention are codified as instructions on the LAN to T Server in most cases running on a processor such as processor connected to central switch . If an individual user at a workstation for example has received an indicator of a waiting call and has dragged the ringing telephone to his secretary s desk icon in his interface his personal router interacts with T Server to instruct switch to reroute the call to the secretary s telephone. In a similar manner most actions at a personal router become instructions to switch and in general each user having access to such a personal router can program responses to calls and respond to incoming calls in real time with a broad set of available responses.

In embodiments of the invention not necessarily all calls are routed by personal routers executed on PCs on LAN . There may also be over riding routing rules programmed into switch such that certain calls or types of calls are always handled in a certain way. Rules in switch may also determine the fate of calls that are not eventually routed by personal routers. For example all calls alive after seven rings may be switched to a recorded announcement and the like. In this manner a very broad freedom of routing may be accomplished with security and flexibility to adapt for changes in the organization.

It will be apparent to those with skill in the art that the division of code and functionality between server T Server running on processor and individual workstations on the LAN is somewhat arbitrary with the requirement that individuals at the workstations have interface access to customize and update personal routing rules.

In another aspect of the present invention a Personal Desktop Router is implemented in a Client Server architecture. This embodiment is illustrated with the aid of . In this embodiment a router is provided and executes on processor which also executes an instance of T Server . Router in this instance is a central router having routing rules divided in sections dedicated to each assigned user or DN on LAN . Unique Client Interface Packages represented by elements a and b are provided at individual workstations such as workstation and workstation connected to LAN . Client Interface Packages a and b are for the purpose of allowing users at the workstations to edit their own personal routing rules much as has been described above for personal routers according to embodiments of the present invention wherein the routers execute at the workstations.

In this Client Server embodiment of the present invention the actual router software exists and executes as one router . Client Packages a and b may be implemented as a Graphical User Interface GUI with iconic drag and drop features as described above with reference to or may be of another suitable type designed to allow interaction with router .

It will be apparent to one with skill in the art that router in this embodiment is not required to reside in processor but may reside in any other machine capable of executing the router and connected or coupled to LAN such as switch . The router could be executed for example on a server on the Internet and accessed by a WEB browser by a client connected to LAN . It will also be apparent to one with skill in the art that while router function does not occur at individual workstations and in this particular embodiment editing capabilities provided to the user via client packages a and b can remain essentially the same as described in previous embodiments taught herein.

In typical embodiments router is configured to allow a group manager or system agent to perform higher level configurations to routing rules such as type of calls available call parameters user function or location changes etc. while individual users may through their interfaces configure routing rules for their own calls within the boundaries set by the supervisor.

It will be apparent to one with skill in the art that any configurational division of editing capabilities may be employed with reference to routing rules as they may exist in any given application without departing from the spirit and scope of the present invention. A server based router such as router in this embodiment wherein a unique client package is provided for editing purposes at a user s workstation such as workstation is heretofore unknown to the inventor.

In the embodiment illustrated by communication over analog lines and data link and other functions of the system is essentially the same in method as is illustrated in and described above with reference to . Also network cloud and the components therein are essentially the same as in the embodiment in . For this reason much detail as to the dynamics of and paths of communication in an embodiment of the present invention with respect to are not repeated here.

To help create a context for a detailed description of preferred embodiments of the present invention which follow attention is first directed to which is a block diagram of a call routing system in the prior art. In the system of a call in center is illustrated having two telephones and . As was described above in the background section the present invention is particularly adaptable to such call in centers wherein a telephony switch is not a part of the equipment at the call in center thus no telephony switch is shown in at call in center .

It will be apparent to those with skill in the art that there may be just one phone in call in center or there may be several more than the two shown. Two telephones is an arbitrary choice for purposes of illustration and description.

It is common and desirable at call in centers for agents who man the phones to have at hand a personal computer PC or a data terminal of some description including a video display and processor. Access to such a computerized system allows the agent to recall and display data pertaining to a caller and also other information of use in dealing with and helping caller such as technical information about products and product use. Although several types of such data terminals are known PCs are assumed here for purposes of description and illustration. A PC with a display is shown at hand for an agent using telephone and a PC is shown proximate telephone for use by an agent at telephone .

In a very simple system there may be just one telephone and one PC proximate the telephone therefore just a single equipped agent constituting the call in center. In the system of having two telephones there are also two PCs. Each PC and associated telephone is considered here to constitute an agent station. Agent station comprises telephone and PC and agent station comprises telephone and PC .

In systems of the sort depicted by having two or more agent stations it is desirable that the PCs be connected in a Local Area Network LAN and this connectivity is shown in with PCs and connected on a LAN wherein a data file server is also connected. Data file server in this system is the repository of customer data and the like accessible to agents manning the phones. Though not shown in it will be apparent to those with skill in the art that there may be other servers on the LAN or elsewhere in the network as known in the art.

Telephone calls in the system of are provided to telephone on line and to telephone on line from essentially anywhere represented by network cloud . Cloud could represent a relatively small local calling area a regional area a single phone company or even the phone system of the entire planet. Calls are forwarded by telephony switches represented by telephony switch .

Calls intended specifically for call in center typically are received at Service Control Points SCP represented by SCP which are organized typically with one or more 800 numbers or the like. Calls received and processed at SCP are forwarded to switch which routes the calls to whatever area code and number is assigned to telephones and . Other calls may also come into telephony switch and be routed to call in center . As is known in the art SCP is also a telephony switch.

Also as is known in the art there may be equipment associated with SCP to provided some additional functionality such as an adjunct processor and an intelligent peripheral. For simplicity s sake these are not shown in but may be considered as typical of many prior art systems. In the rather simple system of the prior art represented by some data such as caller ID for example and Dialed Number Information Service DNIS may be associated with calls forwarded to call in center . Such data to be useful in the system of must be received by specialized equipment such as familiar caller ID boxes or telephone sets adapted to use the information being sold to people for home and business use.

Attention is now directed to wherein a call in system known to the present inventors is illustrated. In this system SCP receiving calls intended for call in center has a connection to an adjunct processor in communication with both an intelligent peripheral and a call distribution processor . There is further a processor connected by a two way communication link to call distribution processor . Processor comprises an instance of a unique application termed by the inventors a Telephony Server or T Server and a Statistical Server Stat Server . T Server and functions provided by the T Server are described in detail in the related patent applications listed above and incorporated herein by reference.

In the system of a processor is provided at call in center running a second instance of T Server application . Processor is coupled to processor in network cloud by a network link and to LAN by a network adapter. There is in addition a CTI connection between telephony switch in network cloud and processor at call in center . CTI connection may be an ISDN link or other data type connection allowing transfer of CTI data and commands.

In the system of information garnered in initial processing with use of IP may be provided by T Server at processor to T Server running on processor at the call in center. This data can be used then ahead of a routed call to for example to extract further data regarding a caller from a customer data base in file server and to provide the transferred and retrieved data at the PC display such as PC proximate the telephone to which a call has been routed for use by the agent manning that telephone.

Further CTI transactional data retrieved from switch line busy line available and the like may be provided to T Server at processor and in some cases in raw or processed form to Stat Server to be used in routing by CD processor . Many other functions described in the related applications listed above may now also be accomplished. Still further Stat Server running on processor can issue CTI commands to switch in the network cloud via CTI link .

Although the system of may be used to provide many CTI functions there is a great dependence on telephony switch . Some older switches are not capable of CTI functions and data sharing and some others are very limited in their functions. Moreover the organization that provides a call in center under these circumstances has no control over the switches in the network cloud and it may not be practical for such an organization to purchase and install an expensive CTI capable switch on the premises of the call in center. What is needed is an apparatus and methods that will provide CTI functionality in the absence of a workable CTI link such as link in .

There are a number of different ways a telephone and PC may be connected such as by a serial port and circuitry in the telephone and operating code in the PC such that the PC may monitor transactions of the telephone including on hook off hook incoming caller ID ringing instance and so forth. The PC via the data link may also exercise control over telephone functions. With this unique connectivity and adaptation assuming all of the telephones in a call in center are thus connected and adapted T Server running on processor may acquire in aggregate all of the information otherwise available from switch via CTI connection . T Server on processor may then perform as though a fully workable CTI connection to switch is established.

One of the important functions performed is identification of callers retrieval of data relating to callers and transmittal of such data to be displayed at the PC associated with each telephone at each agent station. The advantage to all is readily apparent. The agent fielding a call is thus more prepared to deal with the caller and will have information readily at hand.

To provide the call and data display functionality desired it is of course necessary that a caller s identity be established and the caller s correct data be retrieved for display. There are some instances in the system depicted in and described herein wherein such correspondence may be a problem. Consider for example the circumstance wherein an original call has been routed to telephone . The origination of the call and caller ID are not available in the system of with a non functioning link until the call is connected to telephone . At that point the necessary information is transferred to T Server at processor and data specific to the caller may be retrieved and displayed at PC .

Consider now the further circumstance that after the agent answers and the data retrieval begins the original caller hangs up or is otherwise disconnected and a second call a random call entering the system not through SCP but directly into switch goes to telephone . This circumstance could occur in a number of different ways including a misdialed or misrouted call. There are also other sequences of events that could result in the same mismatch between call and data. Unless some action is taken the data will be retrieved and displayed although there will no correspondence between the data and the caller.

In this circumstance the origination information which may be such as caller ID information or DNIS information for the second random call will not indicate the call originates at SCP . In an embodiment of the present invention origination data transmitted to T Server at processor indicating the call last received was not through a valid SCP will cause any data being prepared for display at the agent station to be halted. In some embodiments depending on the capability of switch T Server on processor may cause such non SCP calls to be disconnected and or rerouted by command over link .

The direct connection of a telephone to a PC connected on a LAN to a processor with an operating T Server provides a platform for a number of voice extensions useful in the overall process of customer service through call in centers. Several such voice extensions in embodiments of the present invention are described herein below.

Call recording is a major need in customer service operations of the sort described herein especially in operations dealing with financial markets and utilities. Such recording operations in current art are typically quite expensive to implement and difficult to manage. In an embodiment of the present invention an improved call recording facility is provided by virtue of the connection of the telephone to the PC by data link and the functionality afforded through LAN and code as a part of T Server . In this embodiment a digital voice rendition of both parties to a call is transmitted on link for example to PC .

In one embodiment of the present invention all calls are recorded subject of course to local laws governing such matters and provision is made for selective archiving of recorded conversations. The recording is all digital and may be accomplished in a number of ways utilizing a number of commercially available hardware and software entities such as those marketed under the name SoundBlaster . The LAN connection and availability of data servers such as server provide for the rather large amount of digital data needed for such a recording operation. In this embodiment organization of the recorded database can be done in a variety of ways categorized by agent by subject by product and so on and relational cross referencing may be done as well providing a well of information not before available in such call in centers. In addition interactive search and retrieve functionality and interactive report generation is provided. In another embodiment of the invention digital voice recording is provided on demand under control of the resident agent and or the agent s supervisor. It will be apparent to those with skill in the art that there are many different schemes that may be employed for digital voice recording using the uniquely connected and managed apparatus of the present invention.

In other embodiments of the present invention voice playback is provided with pre recorded massages played to a caller under agent or Host control. Such pre recorded messages may be recorded by an agent or other person and stored either locally in the PC or more remotely such as on a server connected to LAN . Such messages can include greetings mandatory messages required under law in some cases disclaimers and all kinds of messages that may be very repetitive for an agent.

In other embodiments of the present invention voice recognition routines are used allowing an agent to invoke displays with spoken initiators on the telephone recognized in the PC and acted upon either in the PC or through the PC by means of LAN by other servers on the LAN or by T Server . Voice recognition may also be used to detect upselling opportunities in the course of calls at PC connected telephones. Other voice recognition routines are used in embodiments of the invention to detect abusive or threatening speech and to automatically save calls or portions of calls that match patterns for such speech.

The present invention in embodiments described below pertains to computer simulation of telephony call centers and activity and functionality of such centers and to computer telephony integration CTI as applied to such centers. It is well known in the art that call center architecture and functionality is a rich and varied subject and it is beyond the scope of the present specification to describe all of the rich variation in call center technology. There are however commonalties. Every call center for example is centered on a telephony switch either at a customer s premises or provided by a telephone company. The telephony switch involved in a call center typically has one or more incoming trunks of telephone channels for receiving telephone calls and typically one or more outgoing trunks as well for placing calls back into the network.

Also common to call centers is the fact of connections to telephones at agent stations which are typically assigned directory numbers. There may be just a few dozens or even thousands of agent stations controlled by a single call center. In some call centers only telephones are provided at agent stations. In others there may be computer terminals with display monitors and the computer terminals may be interconnected on a local area network LAN along with network servers of various sorts. Call centers have recently been developed for providing video conferencing with agents. It may be seen that the architecture can be quite varied.

Telephone switches at call centers depending on the model and manufacture are capable of certain functions in switching such as Automatic Call Distribution ACD queuing playing recorded announcements to callers and much more and typically the functions available and the manner in which the functions operate is specific to the make and model of the telephony switch.

In addition to all of the above the systems of interest for the present invention are systems having a CTI link capability enabling connection of a processor executing one or more usually customer specific applications. According to the reference incorporated above CTI involves three areas 1 Call Control which includes an ability to control and observe telephony calls switching features and status automatic call distribution ACD systems and ACD agents and to use switching resources including tone generators and detectors 2 Telephone Control which is an ability to control and observe telephone devices and 3 Media Access which includes binding telephone calls to other media services.

In accomplishing the observation and control functions of CTI as listed above applications executed on a CTI processor can be quite varied in function really limited only to the imagination of application developers and presently include such functions as agent level routing which will be familiar to those with skill in the art.

In simulating a call center and associated elements as represented in by group it is necessary to simulate both physical and logical elements. These include but are not necessarily limited to a agents telephones and stations b ACD c ACD groups d ACD queues c incoming trunks f outgoing trunks g abstractions of communication relationship between one or more devices and h communication with user applications.

In the example of call center group comprises a software module termed a Simulated Incoming Call Module SICM which emulates incoming calls via one or more trunks to a switch . The SICM operates with an ACD list and simulates calls to ACD groups.

Switch is termed in embodiments of the invention a Simulated Telephony Objects Module STOM and comprises a variety of micro emulated objects represented here by elements which represent such as agents ACD queues and the like as listed above.

Agent s telephones and agent stations as micro emulated objects in a call center simulation will have attributes and statuses including but not necessarily limited to two line connections perhaps a group relationship and an equipment configuration mode status when call offered and status when call released .

Other entities that may become micro emulated objects in a call center module as represented by elements include such as an Interactive Voice Response IVR system remote access agents media services that may appear in a call center switch and generally any feature that a call center switch can perform. Outgoing trunks have parameters including but not limited to a list of the outgoing trunks and a probability of answer result such as answer not answer busy answering machine fax modem SIT tones and so forth.

Calls in the simulation procedure have attributes and parameters including but not limited to origination party destination party PBX call identifier DNIS number ANI and call status such as connecting waiting alerting or conferencing.

Elements represented here as icons may be as indicated above any function or behavior associated with STOM and it will be apparent to those with skill in the art that the three elements shown are not enough to depict all physical and logical elements that would have to be provided for STOM to make a realistic simulation. The elements shown however will be sufficient to teach to practice of the invention to those with skill in the art.

Software module represents an outgoing and return module termed a Simulated Outgoing Dialing Module SODM wherein calls placed by STOM over path are modeled and calls returned as a function of the outgoing calls over path are also modeled. STOM communicates with Interface Library via paths and . Link represents a CTI link from application to switch via CLIL .

The STOM notifies an application through CLIL of arriving calls and data associated with arriving calls as well changing status of telephony objects and statuses. STOM receives requests from application via CLIL to change status of agents phones and stations such as login logout ready not ready or and busy. Requests are also received to change call status such as answer reconnect disconnect produce new call transfer call and include a call to a conference. If requested changes are available the STOM produces the changes and sends notification o the changes to application through CLIL . If requested changes are out available negative notification is sent.

In the embodiment of the invention illustrated by although several computer functions are represented that may in a real system rather than an emulated system be executed on separate but connected and intercommunicating processors all of the system represented by will be typically executed on a single relatively powerful computer. The various elements represented are software modules written to intercommunicate and to simulate the behavior of real telephony systems.

As an example of the object oriented nature of the GUI of attention is directed to SICM . This software module is a micro application that when initiated and operating may simulate calls to STOM . A master SICM is developed that includes all of the characteristics of incoming calls. The master module has input parameters that allow a user to configure the module for certain behavior of interest. As an example it may be of interest to test an application running as element against a rush of Christmas shoppers placing calls within a certain time frame at a certain rate with the calls statistically distributed for a range of products for which agents at the emulated call center are adapted to enter orders and schedule deliveries.

The matter of importance in describing this invention is not the particular nature or statistical distribution of the calls but the fact that the module has alterable parameters also known as properties which a user may manipulate to represent behavior of interest and that the module is adapted to the system as an object which may be removed and replaced by another object having a different parameter set. One may then quickly and conveniently alter the incoming conditions for a simulation and new modules with different parameter sets may be developed off line and switched into the system.

Attention is now directed to STOM . Iconic elements are shown as three different shapes in . Each of these elements is a micro emulated object having alterable parameters. Description of an agent object should be adequate to illustrate the nature of the invention in this aspect.

Consider that element is a micro emulated agent module. This module may be selected from a library in the fashion described above for the SICM module and dragged and dropped into switch . Either before or after addition to the switch parameters for the module may be accessed and set. It will be apparent to those with skill in the art that there may be a large number of agents assigned to a single call center and that all of the agents may not have the same assignments or characteristics.

As an example of the versatility of the unique system there may be for example agents for English speakers who call and agents who speak Spanish for handling calls from Spanish speaking customers. Certain agents may be trained for certain functions to sell certain products for example or to provide technical assistance in certain situations. There may be however multiple instances of a micro emulated agent. For example of a Spanish speaking agent assigned to first shift duty and trained to sell three specific related products. An icon represented agent then will have a multiplicity parameter. In setting up a simulation a user may select an agent set certain parameters then set the multiplicity parameter so that the call center will behave as though there were say twenty such agents.

It will be apparent to those with skill in the art that there are several ways parameters may be accessed and set for a micro emulated object such as element which may for example represent an agent having particular attributes. In one embodiment for example a selected icon representing a micro emulated object may be caused to display an associated window in the GUI and the window will have programming fields wherein a user may access and alter edit parameters. If the object is an agent there may be for example a parameter field for language for product knowledge for shift assignment and so forth and as indicated above there may also be a parameter for multiplicity. If a simulated agent having a complete set of behavior parameters is to be represented multiple times in a call center simulation the multiplicity parameter may be set for n instances then the object will behave in operation of the simulation as n objects. The behavior of such objects can be in preferred embodiments randomized so the behavior where there is a range is not always the statistical average.

For example even though there may be multiple instances of an agent with a certain characterization it will never be true that every such agent will behave in exactly the same way. Some of the agents may habitually come late or leave early and others may take longer than others for processing after calls are released. In an aspect of the invention such variations are accounted for by access to a statistical database and random generator. Typically the statistical average behavior of all such agents will be known and may be stored in a manner to be accessible to the system. Multiple agents otherwise identical in behavior are caused to randomly alter their behavior in a way that the statistical average behavior is met.

It will be apparent to those with skill in the art that the above description of agent functionality and variation and the method of applying parameters multiplicity and statistical behavior is not necessarily limiting in the invention. Many variations are possible even including programming an individual module for each an every agent in a setup of interest.

Attention is now directed to CLIL and communication between STOM and CLIL . CLIL is an interface library whose function it is to translate between STOM and application in a particular manner. STOM is configured in a manner that will be common to any of the several makes and models of available telephony switches currently available. Different makes and models of telephony switches communicate with CTI applications in different ways however and provide significantly different behavior specific to a particular make and model of switch. Communication may also be characterized by latency considerations. For example in some real world situations one might wish to test the telephony switch will be on the customer s premises and in others the telephony switch might be in the network remote from the customer s premises. Latency issues in communication will differ by the different switch location even with the same physical switch.

CLIL is a switch dependent layer that controls communication of commands and status over data paths and CTI link . The function of CLIL is to add switch dependent characteristics to the communication so one simulated generic call center can be made to appear to a CTI application as a particular make and model of a switch connected in a specific manner. The particular value of CLIL is that an application may be tested against one make and model of a switch and by selecting a different layer of software from CLIL one may then test the same CTI application against a different make and model of switch and or location and connectivity of a switch user may quickly and conveniently substitute one CLIL setup for another for communication with a switch of interest.

In all of the embodiments and aspects of the invention described above specific examples have been drawn from the technological area of conventional intelligent telephony networks other than what is now known as Internet protocol network telephony wherein computers simulate telephones through software microphones and speakers and telephony data between such equipped computers is transmitted over Internet connections and directed by servers such as destination number servers DNS in the Internet. In the IPNT world IP addresses are used instead of telephone numbers and there are differences in the way data packets are formulated and transmitted. Moreover what may be termed routing is done by such as IP switches and hubs wherein destination addresses may be changed. These differences however are not limiting in embodiments of the present invention.

In many embodiments of the invention described the inventions are involved with new and unique ways to use machine intelligence for telephony functions particularly but not exclusively as these functions relate to call centers and intelligent routing of calls. In instances of the invention described the principles of the invention may also be applied to IPNT without undue experimentation.

As examples of IPNT application in those embodiments dealing with personal routing and personal routers the methods and apparatus described may also be adapted to IPNT so personal routing rules negotiation and the like may be provided for IPNT calls as well. In the aspects of the invention dealing with simulation of CTI applications and testing the applications may apply to IPNT telephony as well as to more conventional telephony systems. Other examples will be apparent to those with skill in the telephony arts.

It will be apparent to those with skill in the art that there are many alterations that may be made in the embodiments of the invention herein described without departing from the spirit and scope of the invention. Some of these have been described above such as the use of a telephony server like T Server running on processor . In some cases such a server is not needed to practice the invention as was described above.

Many of the functional units of the system in embodiments of the invention may be implemented as code routines in computerized telephony equipment computer servers and individual workstations. It is well known that programmers are highly individualistic and may implement similar functionality by considerably different routines. Also the invention may be applied to widely varying hardware systems. Further hardware used to practice the invention may vary in many ways. There are similarly many other alterations in the embodiments described herein which will fall within the spirit and scope of the present invention in it s several aspects described. The invention is limited only by the breadth of the claims below.

