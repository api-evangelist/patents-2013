---

title: Method and system for transmitting a multimedia stream
abstract: A method is described for transmitting a multimedia stream from a first terminal and receiving an associated second multimedia stream at a second terminal. The first and second terminal are connected to at least one gateway for enabling the transmission of the stream and the receiving of the associated stream. The method comprises: —initiating the exchange of first multimedia session information between the first terminal and the gateway, using a first protocol; —providing a trigger to the second terminal to initiate the exchange of second multimedia session information between the second terminal and the gateway, using a second protocol; —in response to providing the trigger, the second terminal initiating the exchange of second multimedia session information between the second terminal and the gateway, using a third protocol; —transmitting a first multimedia stream from the first terminal and receiving a second associated multimedia stream at the second terminal.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09654330&OS=09654330&RS=09654330
owner: Koninklijke KPN N.V.
number: 09654330
owner_city: The Hague
owner_country: NL
publication_date: 20130830
---
The present patent application is a continuation of U.S. patent application Ser. No. 12 808 665 entitled Method and system for transmitting a multimedia stream filed Jun. 16 2010 which is a national stage entry of PCT EP2008 11014 filed Dec. 22 2008 which claims priority to U.S. Provisional Patent Application Ser. No. 61 008 644 filed Dec. 21 2007 and to European Patent Application No. 08002517.4 filed Feb. 12 2008. The full disclosure of U.S. patent application Ser. No. 12 808 665 is incorporated herein by reference.

The invention relates to a method and a system for transmitting a multimedia stream from a first terminal to a second terminal. In particular the invention relates to a method and system for transmitting a first multimedia stream from a first terminal and receiving a second associated stream at a second terminal. The invention further relates to a gateway and a device for use in such system.

IP Multi Media Subsystem IMS defined by the 3GPP and 3GPP2 standards open the door to a whole range of new multimedia services such as Voice over IP VoIP and IPTV. The IMS service architecture enables to combine multimedia services of various types.

One type of services may enable viewers at home to participate real time in a live TV show using e.g. a webcam at home. The multimedia streams generated by the webcam are transported from the home located user over an IP network to the TV studio using the Real time Transport Protocol RTP . In an IMS based architecture such multimedia streaming sessions between clients are set up using the Session Initiation Protocol SIP whereas the Real Time Streaming Protocol RTSP is typically used for streaming multimedia content from a server to a client.

Systems that provide an interface between SIP and RTSP domains usually referred to as SIP RTSP gateways are known in the art. Within ETSI TISPAN Standardization WI2048 TS 182 027 an architecture is proposed in which a terminal comprised in a device such as for example a set top box a personal computer a personal digital assistant PDA or a mobile telephone with multi media capabilities uses SIP to set up a multimedia session with a selected content provider. After establishment of the session RTSP is used to select retrieve and control the streamed content. Further the University of Colombia Kundan Singh and Henning Schulzrinne Unified Messaging using SIP and RTSP IP Telecom Services Workshop September 2000 Atlanta Ga. US has developed a SIP RTSP Gateway for multimedia unified messaging.

These systems use SIP and RTSP clients at the user side and SIP clients and RTSP servers in the network thereby enabling a user to initiate the set up multimedia session in which multimedia content is streamed from the RTSP servers to the user.

Another gateway system that may be used to stream multimedia between different protocol domains is described in TAKEI K ET AL Design of gateway system between different signaling protocols of the multimedia session on the internet INFORMATION NETWORKING 2001. PROCEEDINGS. 15INTERNATIONAL CONFERENCE ON 31 January 2 February PISCATAWAY NJ USA IEEE 2001 PAGES 297 302 ISBN 0 7695 0951 7 01. This system is used to interwork the SIP and the H323 protocol domains. Both protocols are peer to peer type protocols and allow for bidirectional set up initiation of sessions.

One problem related to these known systems is that they do not provide all the functionality needed for the above mentioned services which require the user to initiate the set up a multimedia session such that user generated content is streamed from the user the transmitting end to the studio the receiving end whereby the studio may want to control the stream of user generated content. A known protocol for controlling a stream is RTSP whereby the receiving end with RTSP client functionality may be able to pause or forward or backward a stream or play a stream at a different speed. If the transmitting end on the other hand is only capable of using the SIP protocol for setting up and maintaining the multimedia streaming session the mentioned services cannot be realized with the known prior art systems since the SIP protocol does not provide the means for controlling a stream in the way that for instance the RTSP protocol is capable of.

Another problem related to the streaming of multimedia that may arise with prior art systems is that when the receiving end is only equipped with client functionality of a client server type of protocol for receiving multimedia it may only be capable of initiating a multimedia session. If the transmitting end using for example a peer to peer type of protocol such as the SIP protocol wants to initiate a multimedia streaming session the receiving end is not capable to respond to such an invitation. Prior art systems such as the known SIP RTSP gateways and the known SIP H323 gateways do not provide a solution for this problem.

A variety of additional problems may arise with prior art systems when the user generated multimedia has to be streamed to a multiple of receiving ends. These receiving ends may all have different capabilities or preferences when it comes to receiving a multimedia stream. One receiving end may want to receive a live stream whereas the other may want to be able to control the stream as described above. Additionally these preferences and capabilities as well as the network addresses of the receiving ends may not be known to the transmitting end.

It is an object of the invention to reduce or eliminate at least one of the drawbacks known in the prior art and to provide a method and system for transmitting a first multimedia stream from a first terminal and receiving a second associated multimedia stream at a second terminal.

In an embodiment the first and second terminal are connected to at least one gateway for enabling the transmission of the first multimedia stream and the receiving of the second associated stream. The method comprises the steps of 

In the method according to the embodiment a gateway is capable of connecting a first terminal supporting a first protocol e.g. SIP to a second terminal supporting a different third protocol e.g. RTSP. Towards the first terminal i.e. the originating SIP client at the user side the gateway acts as terminating SIP client. The gateway exchanges information about the specifications of the first multimedia session with the first terminal. In the first multimedia session a multimedia stream is transmitted from the first terminal. Towards the second terminal i.e. the RTSP client the gateway acts as RTSP server on behalf of the user whereby the second terminal uses RTSP for exchanging information about the specifications of the second multimedia session with the gateway. In the second multimedia session a multimedia stream is received by the second terminal.

The second terminal is triggered using a second protocol that is different from the protocol used by the second terminal to exchange second multimedia session information informing the second terminal of the availability of a new multimedia stream and activating the RTSP client to connect to the RTSP server function of the gateway. Optionally the activation of the RTSP client may occur only after approval of the user of the second terminal. The approval step is then simply part of the fully automated process.

The gateway acts both as a SIP client and RTSP server and may provide a trigger to the second terminal for connecting the second terminal to the gateway. The invention is based on the idea that the trigger is provided using a different protocol then the protocol used by the second terminal to arrange the receipt of multimedia. This idea is based on the insight that some protocols are only capable of initiating a multimedia session in one direction. The trigger message ensures that SIP clients from the user and RTSP clients from the studio can be connected in order to enable user generated content to be transmitted from the first terminal to the second terminal.

In a further embodiment of the method according to the invention the exchange of first multimedia session information comprises the providing to the first terminal of at least part of the second multimedia session information and whereby transmitting of the first multimedia stream from the first terminal is started in response to said providing. This has the advantage of providing additional flexibility to the method. It is no longer the gateway that supplies preconfigured specifications of both related multimedia sessions to the terminals involved in the transmitting and receiving of the stream but the gateway may use requested by settings from the second receiving terminal and supply these to the first transmitting terminal. Vice versa and for the same benefit the gateway may use requested by settings from the first transmitting terminal and supply these to the second receiving terminal. In both situations the transmitting respectively receiving of multimedia streams may only start after the exchange of these settings.

In an embodiment of the method the first protocol is a peer to peer type protocol preferably the Session Initiation Protocol SIP . The advantage of the peer to peer protocol is that both sides may initiate the set up of a streaming session. So in the invention it may be the first terminal offering a multimedia stream or it may be the gateway first requesting the first terminal to offer a multimedia stream. The SIP protocol is a very commonly used protocol in multimedia sessions and therefore a lot of devices and network architecture support this protocol.

In a further embodiment of the method the third protocol is a client server type protocol preferably the Real Time Streaming Protocol RTSP . Typically a client server type of protocol is a protocol that is designed to support only one way initiation of the set up of a multimedia session. Only the client can typically initiate the set up. Therefore the invention is advantageously used when the second receiving terminal has only client capabilities of such a protocol and therefore is unable to receive an invitation via such a protocol. The use of the RTSP protocol may be advantageous when the receiving second terminal wants to control the incoming stream and use the special control options of this protocol.

In a further embodiment of the method the step of providing a trigger to the second terminal is initiated by the gateway. Having the gateway and not for example the first terminal provide the trigger may be advantageous when the first terminal does not have the right trigger capabilities does not know how to reach the second terminal and in case of a multiple of receiving terminals that need to be reached.

In yet a further embodiment of the method the trigger comprises a network address preferably an URI or URI reference of the gateway. This may be advantageous if the second terminal is not configured with a default address or the default proxy address normally used for receiving multimedia streams is not applicable.

In another embodiment of the method the exchange of first multimedia session information comprises the provisioning of an identifier of the second terminal to the gateway. This may be advantageous if it is the gateway that provides the trigger to the second terminal. In that situation it is the gateway that needs to be able to identify the address of the second terminal to be reached.

In a further embodiment of the method the method comprises the addition step of resolving the identifier of the second terminal into a network address before provisioning of the trigger to the second terminal. This may be the situation when the trigger is sent by the gateway and the identifier does not comprise of a network address of the second terminal. The identifier may be a closed user group ID in which case all network addresses of all receiving terminals need to be identified first.

In another embodiment according to the method the first and the second protocol are identical. This simplifies the implementation of the invention. A situation like this may occur when the receiving terminal has both RTSP and SIP client capabilities. The trigger may then be provided using the SIP protocol whereas the initiation and set up of the receipt of the multimedia stream may be done using the RTSP client thus enabling control functionalities trickplay that SIP lacks.

In another embodiment of the method the second associated multimedia stream is a multicast stream. This may be advantageous when a multiple of receiving terminals may be offered the live multimedia stream. They may after being provided with the trigger and having received a multicast address from the gateway in the exchange of second multimedia session information use IGMP to sign up for the multicast.

In a further embodiment of the method the first multimedia stream is a multicast stream. This is advantageous when the first transmitting terminal has received a multicast address it can use to multicast its multi media stream.

In yet a further embodiment of the method the first multimedia stream is the same multimedia stream as the second associated multimedia stream. In this case the live content may also be received live without any substantial delay from the transmitting first terminal. For enabling additional trickplay control functionality the transmitted multimedia stream needs to be streamed and buffered first to a location under the control of a multimedia server such as a RTSP server before it is retransmitted as a second associated stream to a second terminal. The additional control functions e.g. forward backward pause may then be exerted on this second associated stream.

In another embodiment of the method the first terminal and the gateway are both comprised in the same device and the first protocol is an internal protocol. This may be an advantageous implementation when the network or studio receiving end does not have the gateway functionality according to the invention. Preferably this situation may occur when there exist a one to one relationship between the transmitting and receiving terminal and both terminals are comprised in mobile devices.

In an aspect the invention relates to a system for transmitting a multimedia stream from a first terminal and receiving an associated second multimedia stream at a second terminal wherein the system comprises 

In a further embodiment of the system according to the invention the gateway further comprises means for associating the first multimedia session information to the second multimedia session information. This may be advantageous when the gateway does not have a default configuration how to instruct transmitting and receiving terminals but when a more flexible arrangement is required whereby the setting requests and capabilities of the terminals involved is taken into account when setting up the multi media sessions.

Yet another aspect of the invention relates to a gateway configured for use in the system according to the invention wherein the gateway comprises 

In a further embodiment of the gateway according to the invention the gateway further comprises means to associate the first multimedia session information and the second multimedia session information with each other

In yet a further embodiment of the gateway according to the invention the gateway comprises SIP client functionality and RTSP server functionality.

In yet a further embodiment of the gateway according to the invention the gateway is embedded in an IMS network architecture wherein the first protocol is SIP the third protocol is RTSP and wherein

IMS is an architecture that is becoming more and more popular among operators to be used for the provisioning of multimedia services to its customers. The distributed gateway according to an embodiment of the invention is particular advantageous because it may be implemented using standard ized components and functionalities already present in the IMS architecture.

In one embodiment of the invention a first terminal is connected to a second terminal. Further the first and second terminal are connected to at least one gateway for enabling the multimedia stream to be transmitted from the first terminal to the second terminal. The method comprises the steps of i the first terminal inviting the gateway to set up a first multimedia session between the first terminal and the gateway the first multimedia session being controlled by a first protocol ii the gateway notifying in response to the invitation the second terminal of the pending invitation iii the second terminal setting up in response to the notification a second multimedia session between the second terminal and the gateway the second multimedia session being controlled by a second protocol iv the gateway setting up in response to the invitation the first multimedia session and v transmitting a multimedia stream from the first terminal to the second terminal.

The method according to the embodiment thus allows the user of a first terminal which uses a first multimedia protocol to stream real time user generated content to a second terminal which uses a second multimedia protocol where both the first and second terminal act as a client.

In the method according to the embodiment a gateway is capable of connecting a first terminal supporting a first protocol e.g. SIP to a second terminal supporting a second protocol e.g. RTSP. Towards the first terminal i.e. the originating SIP client at the user side the gateway acts as terminating SIP client. The gateway confirms that it is able to receive the multimedia session from the user and provides first terminal with multimedia session information. Towards the second terminal i.e. the RTSP client the gateway acts as RTSP server on behalf of the user whereby the second terminal uses RTSP for session control.

The gateway informs the second terminal that an incoming session is pending and notifies the RTSP client to connect to the RTSP server function of the gateway.

The gateway thus acts as a server for both SIP and RTSP and uses a notification message for connecting to the second terminal RTSP client. This message acts as a trigger message and ensures that legacy SIP clients from the user and RTSP clients from the studio can be connected in order to enable user generated content to be transmitted from the first terminal to the second terminal.

In one embodiment the first protocol is the Session Initiation Protocol SIP . In a further embodiment the first terminal transmits an SIP INVITE to the gateway.

In yet another embodiment the gateway transmits a notification message to the second terminal in response to invitation of the first terminal in order to activate the second terminal to set up the second multimedia session between the second terminal and the gateway.

In one embodiment the method comprises the steps of the first terminal transmitting first multimedia session information to the gateway the gateway transmitting the first multimedia session information to the second terminal.

In another embodiment the method comprises the steps of the second terminal transmitting second multimedia session information to the gateway the gateway transmitting the second multimedia session information to the first terminal. The first multimedia session information and or second multimedia session information is in a further embodiment transmitted using the Session Description Protocol SDP .

In yet another embodiment the first terminal comprises a SIP client and or the second terminal comprises an RTSP client.

In a further embodiment the invention relates to a method for transmitting a multimedia stream from a first terminal to a second terminal wherein the first and second terminal are connected to a first and a second gateway respectively. The gateways are capable of setting up a multimedia session between the first and second terminal. The method comprises the steps of i the first gateway preparing the first terminal for setting up a multimedia session with the second terminal wherein a first protocol is used for the preparation of the first terminal ii the first gateway inviting the second gateway to set up the multimedia session between the first terminal and the second terminal the multimedia session being set up by a second protocol iii the second gateway notifying in response to the invitation the second terminal to prepare the multimedia session with the first terminal wherein the first protocol is used for preparation of the second terminal iv setting up in response to the invitation a multimedia session between first terminal and the second terminal and v transmitting a multimedia stream from the first terminal to the second terminal.

In this embodiment the purpose of the first SIP RTSP gateway at the user location and the second SIP RTSP gateway at the studio location is to exchange the correct RTP information IP addresses port number SDP session description etc. between the legacy SIP and RTSP functions. This allows the RTP stream to be set up and controlled by the SIP session and enables the user to trigger the TV studio to retrieve the streamed user generated content. The RTSP protocol may be used to control the RTP stream.

In one embodiment the first protocol may be the Real Time Streaming Protocol RTSP . In another embodiment the second protocol is the Session Initiation Protocol SIP .

In a further embodiment the second gateway transmits a notification message to the second terminal in response to the invitation of the first gateway in order to activate the second terminal to set up the multimedia session between the first terminal and the second terminal.

In one embodiment the method further comprises the steps of the first gateway receiving first multimedia session information from the first terminal using the SDP protocol encapsulated in the first protocol and transmitting the first multimedia session information to the second gateway using the SPD protocol encapsulated in the second protocol and the second gateway receiving the first multimedia session information from the first gateway and transmitting the first multimedia session information to the second terminal using the SDP protocol encapsulated in the first protocol.

In another embodiment the method further comprises the steps of the second gateway receiving in response to the receipt of the first multi media session information second multimedia session information from the second terminal using the SDP protocol encapsulated in the first protocol and transmitting the second multimedia session information to the first gateway using the SPD protocol encapsulated in the second protocol the second gateway receiving the second multimedia session information from the second gateway and transmitting the second multimedia session information to the first terminal using the SDP protocol encapsulated in the first protocol.

The transmission of the multimedia stream from the first terminal to the second terminal is in one embodiment controlled by the RTSP protocol.

In a further embodiment the first terminal comprises a RTSP server connected to the first gateway and or the second terminal comprises an RTSP client connected to the second gateway.

In a further aspect the invention relates to a system for transmitting a multimedia stream from a first terminal to a second terminal. In one embodiment the system comprises a first terminal and second terminal connected to at least one gateway wherein the first terminal comprises i means for inviting the gateway to set up a first multimedia session with the first terminal wherein the first multimedia session is controlled by a first protocol and ii means for transmitting a multimedia stream in the first multimedia session to the gateway and wherein the gateway comprises iii means for notifying in response to the invitation of the first terminal to set up a second multimedia session between the gateway and the second terminal the second multimedia session being controlled by a second protocol iv means for setting up in response to the invitation the first multimedia session and v means for transmitting a multimedia stream to the second terminal.

In a further embodiment a system is provided for transmitting a multimedia stream from a first terminal to a second terminal. The system comprises a first terminal and second terminal connected to a first and a second gateway respectively. The gateways are capable of setting up a multimedia session between the first and second terminal wherein the first gateway comprises i means for preparing the first terminal for setting up a multimedia session with the second terminal wherein a first protocol is used for the preparation of the first terminal ii means for inviting the second gateway to set up the multimedia session between the first terminal the multimedia session being set up using a second protocol 

wherein the second gateway comprises iii means for notifying the second terminal in response to the invitation to prepare the multimedia session with the first terminal wherein the first protocol is used for the preparation of the second terminal and iv means for setting up in response to the invitation a multimedia session between first terminal and the second terminal.

In yet a further aspect the invention relates to a device comprising a first terminal configured for use in the method according to the invention the device further comprising a gateway according to the invention. This may be advantageous when the operator network does not comprise or support a gateway according to the invention. The device may for instance be a first mobile device wanting to offer a live stream to a home computer reachable via the internet.

In another aspect of the invention a device is claimed comprising a second terminal configured for use in the method according to the invention the second terminal comprising 

Preferably this device is configured in such a way that the second terminal comprises a RTSP client and the third protocol used to initiate the exchange of second multimedia stream session information is the RTSP protocol. This has the advantage that this device may now be able to control the receipt of a multimedia stream and thereby use the available trick play functionality provided by the RTSP protocol.

In a further aspect the invention also relates to a computer program product comprising software code portions configured for when run in the memory of a terminal or gateway executing the method steps according to the invention.

The invention will be further illustrated with reference to the attached drawing which schematically show embodiments according to the invention. It will be understood that the invention is not in any way restricted to these specific embodiments.

Such a service requires i a home located user to be able to set up a multimedia session between the home located first terminal and the second terminal located at the studio wherein the multimedia session enables the streaming of user generated multimedia content to the studio and ii to enable the studio to control e.g. play pause stop the multimedia stream sent by the home located terminal.

It is understood that the system at the home location allowing multimedia participation as described in connection with may be realized in various alternative ways. Those skilled in the art will understand that the first terminal the display device and the web cam may be for instance integrated in one device such as a personal computer a digital assistant PDA a mobile telephone with multi media capabilities. Similarly the system at the studio may for example be a media server comprising the second terminal wherein the second terminal comprises a RTSP client for multimedia stream retrieval. Alternatively the second terminal may be located in a mixer or a transcoder and configured for multimedia stream adaptation.

In a further variant the second terminal may be part of device that is located at another home location and may be used for user to user multimedia stream transmission. The device comprising the second terminal may be a dedicated Set Top Box STB a personal computer or mobile phone containing media player software.

The first terminal may be regarded as a functional unit in a device or a device capable of managing initiating negotiating monitoring and controlling the transmission of a multimedia stream. Similarly the second terminal may be regarded as a functional unit in a device or a device capable of managing initiating negotiating monitoring and controlling the receipt of a multimedia stream.

In an IMS architecture the SIP protocol is used to set up and or negotiate a multimedia session between two SIP clients e.g. two IP phones. Here the term client may indicate a certain capability of a device or terminal. For example a SIP client may refer to a device configured for using the SIP protocol or to a terminal having SIP capability.

An exemplary flow using the SIP protocol is depicted in . Typically a first SIP client sends a SIP INVITE to the second SIP client which in return accepts the invitation by transmitting a SIP 200 OK message to the first SIP client. Both messages may carry information about the multimedia session. This information is exchanged using the Session Description Protocol SDP which may be encapsulated in the SIP protocol. The multimedia session information may include amongst others IP addresses port numbers for the RTP streams the type of media voice audio video etc. and codec information. Thereafter multimedia may be streamed between the SIP clients using the RTP protocol .

SIP however is designed for setting up and supporting interactive media sessions. Although SIP also provides a form of aggregate streaming control i.e. the ability to control multiple streams from different locations with one control session it does not provide for an efficient control as provided by the RTSP protocol used in streaming applications such as Video on Demand VoD . RTSP allows a client to remotely control a streaming media RTSP server by issuing VCR like commands e.g. play pause stop skip forward skip backward etc. and allows time based access to files on a server. Moreover legacy equipment may require the use of RTSP since legacy equipment may not be provided with a SIP client.

Towards the originating SIP client of the first terminal at the user side the gateway acts as a terminating SIP client. The gateway confirms that it is able to receive the multimedia session from the first terminal and informs the first terminal at the user side on the session details and the RTP port number. This first multimedia stream session information may be exchanged using the SDP protocol which may be encapsulated in the SIP messages.

The gateway may further be capable of resolving an identifier received from the first terminal used to identify the second terminal into a network address of the second terminal. The resolution process may be performed by the gateway or under the control of the gateway by another module. The identifier may already be a suitable network address of the second terminal in case of which the resolving is not required.

In response to the initiation of the exchange of first multimedia stream session information after being provided with a suitable network address the gateway may send a trigger message to the second terminal. The trigger message instructs the RTSP client to initiate an RTSP session with the gateway. The gateway does not have to send the trigger itself but may also instruct another module such as a Short Message Service Center SMSC to do so on its behalf.

Hence towards the second terminal comprising the RTSP client the SIP RTSP gateway acts as an RTSP server thereby allowing the RTSP client to have RTSP session control over the RTP stream which is transmitted from the first terminal SIP client and received as an associated second multimedia stream at the second terminal comprising the RTSP client .

The first multimedia stream may be the same multimedia stream as the second associated multimedia stream. In that case content is streamed directly from the first to the second terminal. The transmitted first stream is not buffered under the control of a RTSP server before being further transmitted as a second associated stream to the second terminal. This has the advantage that the content is being presented in live modus to the second terminal. In this modus the trickplay functionalities pause fast forward etc. of the RTSP client can not be used to control the stream.

In a second step the gateway accepts the invitation and in response provides the second terminal with a trigger to start an RTSP session with the SIP RTSP gateway. Optionally the gateway may first need to resolve an identifier of the second terminal transmitted by the SIP client in the first terminal before it provides the trigger. The resolving process to obtain the network address of the second terminal may include a DNS ENUM or other database query.

The gateway may add extra information to the trigger such as a gateway generated identifier that can be used by the gateway to associate the incoming RTSP request from the second terminal the RTSP request being part of the exchange of second multimedia stream session information with the SIP session. The information in the trigger may be included in an RTSP URI.

The trigger may have the form of a trigger message for example a SIP content indirection request RFC 4483 a Short Message Service SMS message or an Unstructured Supplementary Service Data USSD message. Further the trigger message may be passed to the RTSP client using a proprietary application programming interface API or a control interface on the RTSP client for example a Web Service interface using SOAP a Remote Procedure Call RPC or a telnet interface. Such interfaces may simulate a manual user input requesting a multimedia stream.

The incoming trigger message may be interpreted by the trigger protocol stack for example an SOAP stack or RPC stack which may be configured to instruct the RTSP client to request a multimedia stream or instruct another module to do so. Alternatively the second terminal may use another protocol to request a multimedia stream such as Microsoft Media Server protocol MMS or Hypertext Transfer Protocol HTTP.

Thereafter in a third step the gateway handles the exchange of second multimedia session information with the RTSP client comprised in the second terminal through transmitting the SDP information to the RTSP client and retrieving from the RTSP client the correct RTP port to which the RTP stream should be sent to. During this exchange the gateway give instructions to the RTSP client including for example the RTP port number that should be used for receiving the second associated multimedia stream or for example a multicast or other address where the stream can be retrieved from.

In a fourth step the gateway confirms the SIP session to the SIP client using a SIP 200 OK message and provides the SIP client with the RTP port number to be used for transmitting the first multimedia stream and confirms the SDP information. Finally in the fifth and last step the first terminal starts streaming the RTP multimedia stream to the second terminal.

The termination of the combined SIP RTSP session not depicted in may be handled in a similar way as the initiation of such session described above. If the SIP client of the first terminal indicates that it wants to terminate the session the gateway may translate an SIP BYE message into an RTSP REDIRECT message without location header . The RTSP REDIRECT message can be found in a draft of an updated RTSP version see Internet draft RFC 2326 version 16 of the Real Time Streaming Protocol 2.0 dated 19 Nov. 2007 by Schulzrinne et al . If the RTSP client of the second terminal indicates that it wants to terminate the session the gateway translates an RTSP TEARDOWN message into a SIP BYE message which is then subsequently to be sent to the SIP client comprised in the first terminal 

In a further embodiment the streaming of multimedia may be first initiated by the gateway. In that case the gateway provides the RTSP client comprised in the second terminal with the trigger message and invites through its own SIP client functionality the SIP client of the first terminal to set up a SIP session. The flow of information between the SIP client the gateway and the RTSP client is schematically depicted in .

In yet a further embodiment the gateway may be located in the first terminal. In that case the first protocol used for the exchange of first multimedia stream session information may just be an internal protocol. The session may then be triggered by a stimulus of the user interface of the first terminal. This scheme is schematically depicted in wherein the first terminal may be comprised in a mobile device. Alternatively the stimulus received by the first terminal may also come from an external source. In that case for example an SMS message received by the mobile device may trigger a session.

In this embodiment the gateway according to the invention is of the distributed type wherein the exchange of first multimedia stream session information with the UE1 is typically handled by the Service Control Function SCF and the exchange of second multimedia stream session information with the UE2 is handled by the Media Function MF . The provisioning of the trigger to the UE2 may be controlled and or executed by the SCF . In a variant the Media Control Function in the MF can send the trigger and instruct the Media Delivery Function MDF on how to deliver the multimedia stream. In this example the first subscriber uses SIP to setup a multimedia session for transmitting a first multimedia stream whereas the second subscriber uses RTSP to receive the associated second multimedia stream.

In order for the first subscriber to invite the second subscriber to receive the multimedia stream the following steps illustrated by the flow diagram of are performed. In a first step a first subscriber using UE1 may want to share his multimedia stream with a second subscriber using UE2 by setting up a SIP session with the Service Control Function SCF through the IMS core . The SIP INVITE request may comprise a list of subscriber terminal addresses for example using an URI contained list or a list may be sent to the Service Control Function SCF outside the session for example using XML Configuration Access Protocol XCAP of which an identifier may be included in the SIP INVITE request. Alternatively in case of a service such as Community closed user group TV in which a large number of subscribers need to be addressed at once the SIP INVITE request may just comprise a reference to the community in the form of a Community closed user group Identifier which will need to be resolved before providing multiple triggers to all community subscribers.

In a second step the SCF may act as a back to back user agent B2BUA and sends a session request to the Media Control Function MCF possibly through the IMS core. The session request to the MCF includes information on where to receive the multimedia stream and how to distribute it. Alternatively the SCF may use another protocol towards the MCF such as MEGACO H.248 or SOAP.

In a third step the MCF may send multimedia stream information to the MDF to setup an RTP port and address for the first multimedia stream and associate it with a RTSP URI. The MCF may for example use SIP or MEGACO H.248 to exchange multimedia stream information.

In a fourth step the MCF response to the SCF may comprise information such as the address or RTP port where the first multimedia stream should be transmitted to and or the RTSP URI to be used by the UE2 for contacting the RTSP server functionality of the gateway.

In a fifth step the SCF sends a response back to the UE1 during the exchange of first multimedia stream session information using its SIP client functionality

In a sixth step UE1 transmits the multimedia stream in the manner and or to the location indicated by the MCF.

In a seventh step the SCF uses the information from the MCF to provide a trigger to the UE2. The trigger may be a SIP content indirection request. The request may include the RTSP URL provided by the MF or another indication for the UE2 how to contact the gateway. The trigger may also be sent within an existing SIP session with the UE2 or by using a SIP REFER request.

In a eighth step the invited UE2 initiates in response to the SIP content indirection request a RTSP session with the MDF exchange of second multimedia stream session information in for receive the multimedia content second associated multimedia stream . The RTSP URI may include an identifier provided in the trigger message for the MDF to associate the RTSP session with the SIP session. The RTSP session second associated multimedia stream may be unicast or multicast. When multicast is used the MF distributes the incoming unicast first multimedia stream of UE1 as a multicast stream. UE2 then sends in response to the established RTSP session an IGMP request to receive the second associated multimedia stream.

In a ninth step the MF may send SIP NOTIFY messages to the SCF to keep the SCF informed of the status of the RTSP session if the SCF indicated interest by sending a SIP SUBSCRIBE message to the MF not shown in .

The invention is not limited to the embodiments described above which may be varied within the scope of the accompanying claims. For instance the term studio should not be interpreted as only meaning a professional broadcast studio. A studio within the meaning of this invention relates to all systems which could provide multimedia functionality similar to a studio e.g. a personal computer system or another multimedia system which is capable of streaming live content to a user at a home location and in response receiving user generated content from the user.

