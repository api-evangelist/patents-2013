---

title: Ultrasonic inspection equipment and ultrasonic inspection method
abstract: Ultrasonic inspection equipment facilitates alignment of display positions of three-dimensional ultrasonic inspection data and three-dimensional shape data, and quickly discriminates between a defect echo and an inner-wall echo. A computer A has a position correction function of correcting a relative display position between three-dimensional shape data and three-dimensional ultrasonic inspection data. A display position of the three-dimensional ultrasonic inspection data or that of the three-dimensional shape data is moved by a norm of a mean vector along the mean vector that is calculated from a plurality of vectors defined by a plurality of points selected in the three-dimensional ultrasonic inspection data and by a plurality of points selected in the three-dimensional shape data. The three-dimensional shape data and the three-dimensional ultrasonic inspection data are displayed in such a manner as to be superimposed on each other on a three-dimensional display unit C.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08838405&OS=08838405&RS=08838405
owner: Mitsubishi Hitachi Power Systems, Ltd.
number: 08838405
owner_city: Kanagawa
owner_country: JP
publication_date: 20131009
---
This application is a continuation of U.S. patent application Ser. No. 12 472 873 filed May 27 2009 the disclosure of which is incorporated herein in its entirety.

The present invention relates to ultrasonic inspection equipment and method for performing ultrasonic inspection that is a kind of non destructive examination and more particularly to ultrasonic inspection equipment and method that use an array probe ultrasonic sensor.

In the field of ultrasonic inspection methods for inspecting various kinds of structural materials an inspection method for imaging an internal state of a target to be inspected in a short period of time with high accuracy to inspect the target has been developed in recent years. Such an inspection method for imaging is typified by a phased array method a synthetic aperture focusing technique and the like for example refer to non patent document 1 .

The phased array method uses a so called array probe ultrasonic sensor having a plurality of piezoelectric vibration elements arrayed therein. The phased array method is based on the principles that wavefronts of ultrasonic waves individually transmitted from the piezoelectric vibration elements interfere with one another to form a composite wavefront which then propagates. Therefore by delaying the ultrasonic wave transmission timing of each of the piezoelectric vibration elements so as to shift the timing of each ultrasonic wave an incident angle of each ultrasonic wave can be controlled thereby making it possible to focus the ultrasonic waves.

In addition upon reception of ultrasonic waves a reflection ultrasonic wave received by each of the piezoelectric vibration elements is shifted prior to its addition. Thus as is the case with the transmission of ultrasonic waves an incident angle of the received ultrasonic wave can be controlled. Also it is possible to receive the focused ultrasonic waves.

In general the following methods are known as the phased array method the linear scan method in which piezoelectric vibration elements of a one dimensional array sensor are rectilinearly scanned and the sector scan method in which transmission and receiving directions of an ultrasonic wave are changed in sector like fashion. In addition if a two dimensional array sensor having piezoelectric vibration elements arrayed in a lattice shaped pattern is used ultrasonic waves can be three dimensionally focused at any position thereby providing a scan method that is suitable for a target to be inspected. Both of the above described methods are capable of scanning an ultrasonic wave at high speed without moving an array probe ultrasonic sensor and optionally controlling an incident angle of an ultrasonic wave and a position of the depth of focus without replacing an array probe ultrasonic sensor. The linear scan method and the sector scan method are techniques that enable high speed high accuracy inspection.

Next the principle on which the synthetic aperture focusing technique is based is as follows. When an ultrasonic wave is transmitted in such a manner that wave motion of the ultrasonic wave widely diffuses into a target to be inspected and a reflected ultrasonic wave signal of the ultrasonic wave is received a position of a defect which is a sound source of the received reflected ultrasonic wave exists along a circular arc whose radius is the propagation distance of the reflected ultrasonic wave with a position of a piezoelectric vibration element which has transmitted and received the ultrasonic wave defined as the center of the circular arc. Based on the principle an ultrasonic wave is transmitted and is received while the piezoelectric vibration element is successively moved and each received waveform at respective positions of the piezoelectric vibration element is calculated by a computer so as to extend a waveform in the shape of a circular arc. As a result intersection points of the circular arcs are concentrated on the position of a defect that is an ultrasonic wave reflection source thereby making it possible to identify the position of the defect. How the computer performs the calculation for the above process is described in the non patent document 1.

With the above described methods each of which employs a sensor in which a plurality of piezoelectric vibration elements are arrayed it is possible to three dimensionally obtain a reflected ultrasonic wave signal indicative of a defect without movement of the sensor. However in order to identify a three dimensional reflection position from the reflected ultrasonic wave signal for example the following estimation is required estimating the reflection position from a plurality of two dimensional images of the reflection intensity distribution positions of the two dimensional images spatially differing from one another or estimating the reflection position by converting the reflection intensity distribution into three dimensional data and then by three dimensionally displaying the converted data.

For example in the case of the linear scan and the sector scan in the phased array method a plurality of two dimensional reflection intensity images according to known scanning pitch can be acquired. Accordingly a direction in which a reflected wave occurs can be identified by displaying images on a screen while the images are successively switched. However there are limits to apply this method to some three dimensional scanning other than the above described scanning.

In such a case reflected ultrasonic wave signals from a plurality of directions are subjected to interpolation processing or the like to create three dimensional lattice shaped data. The three dimensional lattice shaped data obtained is displayed as an image using a method such as volume rendering and surface rendering. There is also a method in which reflected ultrasonic wave signals are displayed as a three dimensional point group without converting the reflected ultrasonic wave signals into lattice shaped data. In any case because the reflected ultrasonic wave signals are stored as three dimensional ultrasonic inspection data an inspector can check the three dimensional ultrasonic inspection data from any direction after measurement for example refer to non patent document 2 .

However it is difficult to judge only from the three dimensional ultrasonic inspection data whether a peak of the reflection intensity distribution results from the reflection on an end face or a boundary surface of a target to be inspected or from the reflection on a defect. In particular in the case of a complicatedly shaped target to be inspected a large number of reflected ultrasonic wave signals inner wall echoes resulting from such a shape are generated. Therefore it is difficult even for an expert to discriminate between an inner wall echo and a defect echo. However software is developed that is capable of displaying three dimensional shape data of a target to be inspected together with three dimensional ultrasonic inspection data. Superimposing these two pieces of data on each other to make a comparison between them facilitates the discrimination between an inner wall echo and an echo resulting from a defect defect echo . Incidentally data that has been separately created by general purpose CAD Computer Aided Design is often read and used as three dimensional shape data for example refer to the non patent document 2 .

However because three dimensional ultrasonic inspection data and three dimensional shape data are usually made in separate coordinate systems correction of display positions is always required to superimpose on each other these pieces of data are. Further a theoretical value and an actually measured value of the sound velocity are used to display the three dimensional ultrasonic inspection data. However because the theoretical value differs from the actually measured value in a target to be inspected correction of display scales is also required. If the correction of display positions and the correction of display scales are not correctly performed correlation of the three dimensional ultrasonic inspection data with the three dimensional shape data cannot be confirmed. This makes impossible to discriminate between an inner wall echo and a defect echo. Heretofore an inspector inputs information about the position correction and the sound velocity correction through a display unit or directly processes three dimensional ultrasonic inspection data and three dimensional shape data. The inspector need repeat the correction work until the discrimination between an inner wall echo and a defect echo is attained. It is disadvantageous to take a huge amount of time for such correction work.

Incidentally it is known that two dimensional ultrasonic inspection data and two dimensional shape data are displayed with these pieces of data superimposed on each other for example refer to lines 34 through 40 on the right column in page 6 of the patent document 1 . The patent document 1 does not describe a specific technique for superimposing these pieces of data on each other. However the patent document 1 describes that the pieces of data are superimposed on each other by establishing the coincidence between coordinates of an origin point of the two dimensional ultrasonic inspection data and coordinates of an origin point of the two dimensional shape data. However in general the origin point of the two dimensional ultrasonic inspection data often differs from the origin point of the two dimensional shape data. Accordingly even if the coordinates of the origin point of the two dimensional ultrasonic inspection data simply coincide with the coordinates of the origin point of the two dimensional shape data both of data cannot be successfully superimposed on each other. Moreover the patent document 1 relates to the superimposition of two dimensional ultrasonic inspection data and two dimensional shape data. When the patent application described in the patent document 1 was filed there was no technique for acquiring three dimensional ultrasonic inspection data. Therefore the superimposition of three dimensional ultrasonic inspection data and three dimensional shape data was not known. Differently from the superimposition of two dimensional ultrasonic inspection data and two dimensional shape data for the superimposition of three dimensional ultrasonic inspection data and three dimensional shape data tilts of both data need be taken into consideration.

An object of the present invention is to provide ultrasonic inspection equipment and method which facilitate alignment of display positions of three dimensional ultrasonic inspection data and three dimensional shape data and which are capable of quickly discriminating between a defect echo and an inner wall echo.

 1 In order to achieve the above described object according to one aspect of the present invention there is provided ultrasonic inspection equipment comprising 

a pulser for supplying each of the piezoelectric vibration elements of the array probe ultrasonic sensor with a transmission signal 

a receiver for receiving a signal from each of the piezoelectric vibration elements of the array probe ultrasonic sensor 

a delay control unit for setting a delay time for the transmission signal and a delay time for the received signal differently for respective piezoelectric vibration elements 

a data storage unit for storing a waveform of an ultrasonic wave received by the array probe ultrasonic sensor 

a computer for image processing the computer generating three dimensional ultrasonic inspection data from the waveform recorded by the data storage unit and

a three dimensional display unit for displaying three dimensional shape data and the three dimensional ultrasonic inspection data 

wherein the computer includes position correction means for correcting a relative display position of the three dimensional shape data and that of the three dimensional ultrasonic inspection data and

the position correction means is adapted to move a position at which the three dimensional ultrasonic inspection data is displayed or a position at which the three dimensional shape data is displayed by a norm of a mean vector based on the mean vector and to then display the three dimensional shape data and the three dimensional ultrasonic inspection data on the three dimensional display unit in such a manner as to be superimposed on each other wherein the mean vector is calculated from a plurality of vectors defined by a plurality of points selected in the three dimensional ultrasonic inspection data and by a plurality of points selected in the three dimensional shape data the points selected in the three dimensional shape data corresponding to the respective points selected in the three dimensional ultrasonic inspection data.

The above described configuration facilitates the alignment of display positions of three dimensional ultrasonic inspection data and three dimensional shape data. This makes it possible to quickly discriminate between a defect echo and an inner wall echo.

 2 In the above described item 1 preferably the computer includes scale correction means for correcting a relative display scale between the three dimensional shape data and the three dimensional ultrasonic inspection data and the scale correction means corrects a relative display scale between the three dimensional ultrasonic inspection data and the three dimensional shape data such that an absolute value of the distance between coordinates of two points selected in the three dimensional ultrasonic inspection data coincides with an absolute value of the distance between coordinates of two points selected in the three dimensional shape data.

 3 In the above described item 1 preferably when a plurality of points are selected from the three dimensional ultrasonic inspection data the position correction means displays data points existing within a specified range of the three dimensional ultrasonic inspection data on the three dimensional display unit in order of decreasing absolute value of the data points.

 4 In the above described item 1 preferably the computer includes data creation means for creating three dimensional shape data such that the three dimensional shape data is displayed in such a manner as to be superimposed on the three dimensional ultrasonic inspection data.

 5 In the above described item 1 preferably the computer displays a plane indicating a cross section at an optional position of the three dimensional ultrasonic inspection data on the three dimensional display unit together with the three dimensional ultrasonic inspection data.

 6 In order to achieve the above described object according to another aspect of the present invention there is provided an ultrasonic inspection method comprising the steps of 

moving a position at which the three dimensional ultrasonic inspection data is displayed or a position at which the three dimensional shape data is displayed by a norm of a mean vector based on the mean vector and then displaying the three dimensional shape data and the three dimensional ultrasonic inspection data wherein the mean vector is calculated from a plurality of vectors defined by a plurality of points selected in the three dimensional ultrasonic inspection data created from a plurality of ultrasonic wave waveforms received by an array probe ultrasonic sensor and by a plurality of points selected in the three dimensional shape data the points selected in the three dimensional shape data corresponding to the respective points selected in the three dimensional ultrasonic inspection data.

The above described method facilitates the alignment of display positions of three dimensional ultrasonic inspection data and three dimensional shape data. This makes it possible to quickly discriminate between a defect echo and an inner wall echo.

 7 In the above described item 6 preferably the ultrasonic inspection method further comprises the step of correcting a relative display scale between the three dimensional ultrasonic inspection data and the three dimensional shape data such that the sum total of absolute values of the distance between coordinates of two points selected in the three dimensional ultrasonic inspection data coincides with the sum total of absolute values of the distance between coordinates of two points selected in the three dimensional shape data the three dimensional ultrasonic inspection data being created from the plurality of ultrasonic wave waveforms received by the array probe ultrasonic sensor.

According to the present invention the alignment of display positions of three dimensional ultrasonic inspection data and three dimensional shape data is facilitated. This makes it possible to quickly discriminate between a defect echo and an inner wall echo.

A configuration of ultrasonic inspection equipment and operation thereof according to one embodiment of the present invention will be described below with reference to .

First of all a configuration of ultrasonic inspection equipment according to this embodiment will be described with reference to .

The ultrasonic inspection equipment according to this embodiment includes an array probe ultrasonic sensor for emitting an ultrasonic wave toward a target to be inspected a transmitting receiving unit and a display unit for displaying a received signal and an inspection image.

As described in the figure the array probe ultrasonic sensor is basically constituted of a plurality of piezoelectric vibration elements each of which generates an ultrasonic wave and then receives the ultrasonic wave. The array probe ultrasonic sensor is disposed on an inspection surface of the target to be inspected . The array probe ultrasonic sensor then generates an ultrasonic wave in response to a driving signal supplied from the transmitting receiving unit so that the ultrasonic wave propagates into the target to be inspected . As a result the array probe ultrasonic sensor detects a reflected wave of the ultrasonic wave therefrom and then inputs a received signal into the transmitting receiving unit .

The transmitting receiving unit transmits and receives the ultrasonic wave generated by the array probe ultrasonic sensor . The transmitting receiving unit includes a computer A a delay time control unit B a pulser C a receiver D a data storage unit E a mouse F and a keyboard G. The pulser C supplies the array probe ultrasonic sensor with a driving signal. Then when the receiver D receives a signal from the array probe ultrasonic sensor the receiver D handles the received signal.

The computer A basically includes a CPU A a RAM A and ROM A. A program for controlling the CPU A is written to the ROM A. According to this program the CPU A reads external data required by the data storage unit E or transmits receives data to from the RAM A while computation is performed. In addition the CPU A outputs handled data to the data storage unit E if necessary.

Moreover the CPU A controls the delay time control unit B the pulser C and the receiver D so that required operation is achieved. The delay time control unit B controls both the timing of a driving signal output from the pulser C and the input timing of the received signal received by the receiver D. Thus the operation of the array probe ultrasonic sensor is performed based on the phased array method.

Here in the operation of the array probe ultrasonic sensor based on the phased array method described above the focal depth and incident angle of the ultrasonic wave are controlled so as to transmit an ultrasonic wave and then to receive the ultrasonic wave. Thus the received signal is supplied from the receiver D to the data storage unit E. Next the data storage unit E handles the supplied received signal and then records the handled data as recorded data and also transmits the handled data to the computer A. On the receipt of the data the computer A combines waveforms obtained by the piezoelectric vibration elements in response to the delay time and then performs interpolation processing suitable for the waveforms of the ultrasonic wave on an incident angle basis. The computer A then creates the following data two dimensional ultrasonic inspection data in a pixel format in which a two dimensional square lattice which is called a pixel is used as a unit and three dimensional ultrasonic inspection data in a voxel format in which a three dimensional cubic lattice which is called a voxel is used as a unit. The computer A controls to convert these pieces of data into images to display the images on the display unit .

The display unit includes a two dimensional display screen B for displaying two dimensional ultrasonic inspection data a three dimensional display screen C for displaying three dimensional ultrasonic inspection data and a waveform display screen A for displaying waveform signals of the piezoelectric vibration elements. illustrates only one display unit . However the waveform display screen A the two dimensional display screen B and the three dimensional display screen C may also be displayed and shared among a plurality of display units.

Three dimensional ultrasonic inspection data is displayed on the three dimensional display screen C of the display unit . In this case the three dimensional ultrasonic inspection data can be displayed on an optional display scale through the operation of the mouse F and the keyboard G connected to the computer A. An inspector is allowed to input the magnification which is used to change the display scale as a numerical value from the keyboard G into the computer A. In addition display color and transparency can also be optionally changed through the operation of the mouse F and the keyboard G. The display color can be changed in response to the reflection intensity. In this case a plurality of display color patterns are prepared and so the inspector can select among them on the basis of the use of the three dimensional ultrasonic inspection data.

It is to be noted that the three dimensional drawing algorithm as described above is implemented in libraries such as OpenGL registered trademark and DirectX registered trademark and that the OpenGL and the DirectX are industry standard graphics application programming interfaces graphics API used in graphics applications. When these graphics APIs are used in a program to give required information about an object to be displayed such as a shape a viewpoint and a display position a three dimensional shape can be easily drawn at any position on the display unit with the color transparency and scale optionally selected.

In addition concurrently with the three dimensional ultrasonic inspection data three dimensional shape data indicating a shape of the target to be inspected is displayed on the three dimensional display screen C. The three dimensional shape data is read from the outside of the computer A. Moreover the inspector is also allowed to create the three dimensional shape data on the three dimensional display screen C by use of the mouse F and the keyboard G. How to create the three dimensional shape data on the three dimensional display screen C will be described later in detail with reference to .

In particular when CAD Computer Aided Design data of the target to be inspected is available the CAD data can be read and displayed. A CAD data format is a data format that enables CAD software on the market to input and output data. For example the CAD data uses the STL Stereo Lithography format that enables most of CAD software to read and output data. The STL format expressed a surface of an object as a set of a large number of triangles. A STL file includes surface normal vectors of these triangles and coordinate values of three vertexes of each triangle. By drawing the plurality of triangles it is easy to display the three dimensional shape data from a file in the STL format using the graphics APIs.

Further a plurality of pieces of three dimensional shape data can also be concurrently displayed on the three dimensional display screen C. Irrespective of the three dimensional ultrasonic inspection data selected three dimensional shape data can be displayed at any position on any scale from an optional viewpoint through the operation of the mouse F and the keyboard G both of which are connected to the computer A.

In addition the inspector can also optionally change each of the display color and the transparency irrespective of the three dimensional ultrasonic inspection data through the operation of the mouse F and the keyboard G. As a result even if the three dimensional shape data and the three dimensional ultrasonic inspection data overlap one another these pieces of data can be displayed in such a manner that the inspector can view them easily. Moreover show hide of the three dimensional shape data can be switched if necessary.

Usually because a coordinate system of three dimensional ultrasonic inspection data differs from that of three dimensional shape data both of them are displayed at totally different positions in an initial state in which these pieces of data are superimposed upon each other. Even if initial information including an incident position of a ultrasonic wave is provided there is for example a small difference in sound velocity inside the target to be inspected between an actually measured value and a theoretical value. Therefore it is necessary to correct a display position and a display scale.

As described above the three dimensional ultrasonic inspection data and the three dimensional shape data can be displayed independently of each other at any positions on any scales. The inspector therefore can also make alignments by trial and error so that the three dimensional ultrasonic inspection data and the three dimensional shape data are displayed at desired relative positions on desired scales. However because the above correction work requires much time and effort the use of a position correction function and a scale correction function makes the correction work becomes much easier which will be described below.

Next a position correction method for correcting a position of three dimensional ultrasonic inspection data and that of three dimensional shape data by ultrasonic inspection equipment according to this embodiment will be described with reference to .

The position correction method is a function of making a correction such that three dimensional ultrasonic inspection data coincide with three dimensional shape data at a desired position.

In a step S shown in an inspector specifies a reference point. For example as shown in if the inspector wants to move three dimensional ultrasonic inspection data in parallel so that coordinates of an optional point A in the three dimensional ultrasonic inspection data coincide with coordinates of an optional point A in three dimensional shape data the inspector first selects the reference point A and the reference point A with the mouse F while viewing the three dimensional display screen C.

How to select these points on the three dimensional display screen C will be described as below. First a position to be specified as a first reference point in the three dimensional ultrasonic inspection data is clicked with the mouse F on the three dimensional display screen C and the clicked point is then diagonally dragged with the mouse F so that a rectangle area is selected. Points included in the three dimensional ultrasonic inspection data which are drawn in the rectangular area are read into the RAM A of the computer. Each of the points has an identification number. Incidentally identification numbers are given to data points in order of decreasing absolute value of data point in descending order of intensity among pieces of ultrasonic inspection data included in the rectangular area.

In a step S shown in when points included in a minute area in plural the CPU A displays a first point included in these points on the three dimensional display screen C as a candidate point.

In a step S the inspector specifies the candidate point through the operation of the mouse F or the keyboard G. However when the candidate point is not a desired data point the process returns to the step S where the next candidate point is displayed in order of identification numbers on the screen with the color thereof successively changed.

In a step S when the desired data point is displayed as a candidate the inspector accepts the selection of this point through the operation of the mouse F or the keyboard G.

Next in a step S shown in a judgment is made as to whether or not there is another reference point. Here because it is also necessary to select the first reference point included in the three dimensional shape data the processing in the steps S through S is performed to select the first reference point A included in the three dimensional shape data corresponding to the first reference point A included in the ultrasonic inspection data shown in and then to accept the selection of the first reference point A. For example if the three dimensional shape data is STL format data a point to be selected is any one of vertexes of a triangle forming the three dimensional shape data . Algorithm for reading an identification number of a selected point and positional information about the selected point into the RAM A is already implemented by graphics API such as OpenGL. Accordingly the use of functions provided in the graphics API makes it possible to easily implement the algorithm.

Further according to this embodiment at least two reference points are used in each of the ultrasonic inspection data and the three dimensional shape data . Therefore the second reference point B included in the three dimensional shape data corresponding to the second reference point B included in the ultrasonic inspection data is selected and the selection of the second reference point B is then accepted.

Here the reference points to be selected are for example an ultrasonic wave incident point B in the three dimensional ultrasonic inspection data and a sensor mounting point ultrasonic wave incident position B in the three dimensional shape data . In another case the reference points to be selected are for example a peak point of an inner wall echo whose cause is known for example the point A and points surrounding the peak point in the three dimensional ultrasonic inspection data and a point on an end face of the three dimensional shape data for example the point A . Besides for example the following reference points shown in can also be used as reference points the reference point C and the reference point D included in the three dimensional ultrasonic inspection data and the reference point C and the reference point D included in the three dimensional shape data . With the increase in the numbers of reference points the degree of coincidence between the three dimensional ultrasonic inspection data and the three dimensional shape data can be increased.

Combinations of corresponding reference points are automatically set as follows the reference point A and the reference point A the reference point B and the reference point B the reference point C and the reference point C and the reference point D and the reference point D. In this case a selected reference point is displayed on the three dimensional display screen C with the color of the selected reference point changed.

Next in a step S shown in the CPU A calculates a motion vector of the three dimensional ultrasonic inspection data from the plurality of reference points. Here on the assumptions that the number of combinations of a point in the three dimensional ultrasonic inspection data and its corresponding point in the three dimensional shape data is N and that in the i th combination coordinates of a point and those of its corresponding point are xi1 Yi1 zi1 and xi2 Yi2 zi2 respectively the motion vector is an average of motion vectors determined based on the combinations. The motion vector is calculated by the following equation 1 

Next in a step S the CPU A controls to perform parallel and rotational movement of the three dimensional ultrasonic inspection data by the motion vector based on the equation 1 . The CPU A then redraws the three dimensional ultrasonic inspection data at a move to position as shown in . Incidentally the three dimensional shape data may also be moved.

Next a scale correction method for correcting a scale of three dimensional ultrasonic inspection data and that of three dimensional shape data by the ultrasonic inspection equipment according to this embodiment will be described with reference to .

When the degree of coincidence between the three dimensional ultrasonic inspection data and the three dimensional shape data is not sufficiently increased only if the position correction function described with reference to is performed a scale correction function is used.

What will be described next is a case where for example as shown in the inspector wants to change a display scale of the three dimensional ultrasonic inspection data in such a manner that the distance between the reference point B and the reference point D included in the three dimensional ultrasonic inspection data coincides with the distance between the corresponding reference point B and the corresponding reference point D included in the three dimensional shape data .

Accordingly in the steps S through S shown in the inspector makes selections on the three dimensional display screen C with the mouse F in the following order first selecting two points included in the three dimensional ultrasonic inspection data and then selecting two points included in the three dimensional shape data .

Incidentally selections may be made in any order in each of the three dimensional ultrasonic inspection data and the three dimensional shape data . In this case a selected reference point is displayed on the three dimensional display screen C with the color of the selected reference point changed. Here the reference points to be selected are for example an ultrasonic wave incident point B in the three dimensional ultrasonic inspection data and a sensor mounting point B in the three dimensional shape data . In another case the reference points to be selected are for example a peak point of an inner wall echo whose cause is known for example the point D and points surrounding the peak point in the three dimensional ultrasonic inspection data and a point on an end face of the three dimensional shape data for example the point D .

Next in a step S the CPU A calculates the magnification of the three dimensional ultrasonic inspection data from these reference points. For example on the assumption that coordinates of the point B the point D are X1B Y1B Z1B X1D Y1D Z1D respectively whereas coordinates of the point B the point D are X2B Y2B Z2B X2D Y2D Z2D respectively the magnification is calculated by the following equation 2 

Next in a step S the CPU A redraws the three dimensional ultrasonic inspection data on a scale that has been corrected by the magnification calculated by use of the equation 2 . Incidentally in contrast with the above the three dimensional shape data may also be corrected by a reduction ratio that is an inverse number of the magnification calculated by use of the equation 2 before the three dimensional shape data is redrawn.

Next a creation method for creating three dimensional shape data by the ultrasonic inspection equipment according to this embodiment will be described with reference to .

As described above the three dimensional shape data is not necessarily read from the outside of the computer A. The inspector is also allowed to create the three dimensional shape data on the computer A through the operation of the mouse F and the keyboard G while viewing the three dimensional display screen C.

In a step S shown in the inspector selects a basic shape which the inspector wants to display on an operation screen. The basic shape is for example a plane a cube a cuboid a sphere a cone or a cylinder.

Next in a step S the inspector inputs a scale of the basic shape. An optional numerical value can be inputted as the scale.

In a step S the CPU A draws the selected basic shape at an initial position on the three dimensional display screen C. It is to be noted that the initial position may be set at any position.

After the selected basic shape is drawn the position and scale of the basic shape relative to those of the three dimensional ultrasonic inspection data are aligned to a desired state by using the position correction function and the scale correction function. By repeating the above operation for a plurality of basic shapes an external shape of the target to be inspected can be roughly formed. As a matter of course only representative portions of the target to be inspected for example an inspection surface a bottom surface and a side surface may be drawn.

Incidentally because graphics API such as OpenGL has a function of drawing shapes including a plane a cube a cuboid a sphere a cone and a cylinder these shapes can be easily drawn by use of the graphics API.

Here as shown in the three dimensional display screen C has a cross section display screen for displaying the reflection intensity distribution of planes for example a X Y plane a Y Z plane and a Z X plane each of which is parallel to two axes of a coordinate system of the three dimensional ultrasonic inspection data . The cross section display screen includes a screen A a screen A and a screen A which display the reflection intensity distribution of the X Y plane the Y Z plane and the Z X plane respectively. For example in screen A the portion of the three dimensional shape shape data in the X Y plane is shown. Further as shown in planes B B and B which indicate positions of the above described planes are displayed on the three dimensional display screen C together with the three dimensional ultrasonic inspection data and the three dimensional shape data . This enables the inspector to easily check which portion of a cross section is displayed.

In addition because a plane indicating a cross section at an optional position of the three dimensional ultrasonic inspection data is displayed on a three dimensional display unit together with the three dimensional ultrasonic inspection data the inspector can efficiently compare the three dimensional ultrasonic inspection data with the three dimensional shape data so as to discriminate between an inner wall echo and a defect echo. This makes it possible to easily and quickly identify a position of a defect of a target to be inspected.

For example when the three dimensional ultrasonic inspection data is voxel format data the three dimensional ultrasonic inspection data has a data structure that is equally spaced along X Y Z axes. Therefore by specifying a value of X on a voxel basis the reflection intensity distribution of a Y Z plane corresponding to X that is to say the distribution of voxel values can be easily determined. Similarly the reflection intensity distribution of a Z X plane and that of a X Y plane can be easily determined by specifying a value of Y and Z respectively. As shown in the planes B B B can be easily displayed by using a plane display function of graphics API such as OpenGL.

Next a distance measuring method for measuring the distance between optional two points by the ultrasonic inspection equipment according to this embodiment will be described with reference to .

Referring to when the inspector specifies two optional points for example points A and B with the mouse F connected to the computer A on the cross section display screen the distance between the two points is displayed at for example a position in proximity to a specified point on the cross section display screen . A method of specifying the points A and B is similar to that for specifying a point included in the three dimensional ultrasonic inspection data and the three dimensional shape data by use of the above described graphics API such as OpenGL.

Then in a step S the CPU A selects a point whose coordinates are closest to those of the clicked point from among pixels included in a minute area having a specified area the minute area including the clicked point. The CPU A then reads the coordinates of the selected point into the RAM A of the computer.

Similarly in steps S and S the CPU A selects a point B and then reads coordinates thereof into the RAM A.

Next in a step S the CPU A calculates the distance between the two selected points from the coordinates of the two selected points. In a step S the CPU A then displays the distance on a screen.

It is to be noted that the above processing is the same as that for the screen A or the screen A shown in .

Next another configuration of the ultrasonic inspection equipment according to this embodiment will be described with reference to .

The example shown in shows a case where three dimensional ultrasonic inspection data is obtained by a phased array method. The present invention however can also be applied to three dimensional ultrasonic inspection data obtained by a method other than the phased array method for example a synthetic aperture focusing technique .

The ultrasonic inspection equipment according to this example includes an array probe ultrasonic sensor for emitting an ultrasonic wave toward a target to be inspected a transmitting receiving unit and a display unit for displaying a received signal and an inspection image.

As described in the figure the array probe ultrasonic sensor is basically constituted of a plurality of piezoelectric vibration elements each of which generates an ultrasonic wave and then receives the ultrasonic wave. The array probe ultrasonic sensor is disposed on an inspection surface of the target to be inspected . The array probe ultrasonic sensor then generates an ultrasonic wave B in response to a driving signal supplied from the transmitting receiving unit so that the ultrasonic wave propagates into the target to be inspected . As a result the array probe ultrasonic sensor detects a reflected wave of the ultrasonic wave therefrom and then inputs a received signal into the transmitting receiving unit .

Each of the piezoelectric vibration elements of the array probe ultrasonic sensor is successively driven by a driving signal in the required timing to generate an ultrasonic wave. The driving signal is transmitted from a driving signal control unit through a pulser. Each of the piezoelectric vibration elements then receives a reflected wave of the generated ultrasonic wave in a two dimensional manner. The received signal is inputted into the receiver D of the transmitting receiving unit .

In other words the piezoelectric vibration elements of the array probe ultrasonic sensor receive reflected waves of the ultrasonic waves generated by the piezoelectric vibration elements respectively. The number of the reflected waves is equivalent to the total number of the piezoelectric vibration elements .

The signal inputted into the receiver D is successively recorded in the data storage unit E as recorded data. The computer A uses the recorded data to handle a waveform obtained by each of the piezoelectric vibration elements such that the waveform is subjected to three dimensional image processing based on the synthetic aperture focusing technique before the waveform is displayed on the display unit .

The computer A basically includes a CPU A a RAM A and ROM A. A program for controlling the CPU A is written to the ROM A. According to this program the CPU A reads external data required by the data storage unit E or transmits receives data to from the RAM A while computation is performed. In addition the CPU A outputs handled data to the data storage unit E if necessary.

How to display the three dimensional ultrasonic inspection data which has been generated based on the synthetic aperture focusing technique by the computer A together with the three dimensional shape data so as to handle the three dimensional ultrasonic inspection data is similar to the method described with reference to .

As described above according to this embodiment the ultrasonic inspection equipment has the position correction function of correcting a relative display position of three dimensional shape data and that of three dimensional ultrasonic inspection data. Thus the inspector can efficiently compare the three dimensional ultrasonic inspection data with the three dimensional shape data so as to discriminate between an inner wall echo and a defect echo thereby making it possible to easily and quickly identify a position of a defect of a target to be inspected.

In addition the ultrasonic inspection equipment has the scale correction function of correcting a relative display scale between three dimensional shape data and three dimensional ultrasonic inspection data. As a result the inspector can efficiently compare the three dimensional ultrasonic inspection data with the three dimensional shape data so as to discriminate between an inner wall echo and a defect echo thereby making it possible to easily and quickly identify a position of a defect of a target to be inspected.

Moreover because data points included in three dimensional ultrasonic inspection data which exist within a specified range are displayed on the three dimensional display unit in order of decreasing absolute value of data points coordinates can be more easily specified to make corrections. The inspector therefore can efficiently compare the three dimensional ultrasonic inspection data with the three dimensional shape data so as to discriminate between an inner wall echo and a defect echo thereby making it possible to easily and quickly identify a position of a defect of a target to be inspected.

Further because the ultrasonic inspection equipment has data creation means for creating three dimensional shape data the inspector can efficiently compare the three dimensional ultrasonic inspection data with the three dimensional shape data so as to discriminate between an inner wall echo and a defect echo thereby making it possible to easily and quickly identify a position of a defect of a target to be inspected.

Furthermore because a plane indicating a cross section at an optional position of the three dimensional ultrasonic inspection data is displayed on the three dimensional display unit together with the three dimensional ultrasonic inspection data the inspector can efficiently compare the three dimensional ultrasonic inspection data with the three dimensional shape data so as to discriminate between an inner wall echo and a defect echo thereby making it possible to easily and quickly identify a position of a defect of a target to be inspected.

