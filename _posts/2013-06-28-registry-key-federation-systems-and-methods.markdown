---

title: Registry key federation systems and methods
abstract: According to certain aspects, a method is disclosed for registry key management in a network. The method includes detecting registry keys stored in a registry of a plurality of client computing devices and storing on a remote database a copy of the registry keys. The remote database is in communication with each of the client computing devices. The method further includes tracking with a management module running on the client computing devices modifications made to the registry of the first client device. In addition, the method includes modifying the copy of the registry keys on the remote database to reflect the modifications to the registry of the first client computing device; detecting a rebuild operation of the first client computing device; and automatically reinstalling registry keys on the first client computing device based on the copy of the registry keys stored on the remote database.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08713360&OS=08713360&RS=08713360
owner: CommVault Systems, Inc.
number: 08713360
owner_city: Oceanport
owner_country: US
publication_date: 20130628
---
This application is a continuation of U.S. patent application Ser. No. 12 895 587 filed on Sep. 30 2010 entitled REGISTRY KEY FEDERATION SYSTEMS AND METHODS which claims the benefit of U.S. Provisional Patent Application No. 61 364 971 filed on Jul. 16 2010 entitled REGISTRY KEY FEDERATION SYSTEMS AND METHODS the disclosures of which are hereby incorporated by reference in their entireties.

The present disclosure relates to maintaining configuration settings for a computer system and in particular to systems and methods for managing registry keys in a network environment.

Certain operating systems such as MICROSOFT WINDOWS utilize a database that holds configuration settings used by the operating system. For instance the database can include data files used to store the configuration settings and or user profiles the operating system accesses to control hardware and software components installed on the computer. Loss of the registry can be catastrophic since few applications can function properly on the system hard disk without the user engaging in the time consuming process of reinstalling the applications.

For example the WINDOWS operating system includes a registry that is organized into a tree like folder structure. The highest level logical section is often referred to as a hive which further includes keys and sub keys. Within these lower level logical sections are stored actual data or information referred to as values which include specific settings used internally by the operating system.

Registry keys can oftentimes be very lengthy making manual entry difficult. Complicating the matter even further when a client system crashes and must be rebuilt a user is oftentimes required to remember which registry keys were installed prior to the crash and to manually reinstall such keys to the client system. As can be appreciated not only can the rebuilding process be difficult and time intensive a user may not be familiar with and or know how to access all the registry keys that were previously present on the client system.

In view of the foregoing a need exists for improved systems and methods for managing registry keys in a computing environment. For example there is a need for improved systems for storing at a centralized remote location copies of registry keys and or for facilitating reinstallation of registry keys during the rebuilding of a client system.

Certain embodiments of the invention are provided for registry key management. For instance certain systems include a centralized database that tracks which registry keys are installed on a plurality of client systems in a network environment. In certain embodiments registry key changes made on a client system are entered through a management user interface which further records the registry key changes on the centralized database. In yet further embodiments one or more application programming interfaces APIs can be used to discover which registry keys have already been installed on each of the client systems.

In this manner when one or more client systems is required to be rebuilt the centralized database can provide an indication as to which registry keys and their specific values should be reinstalled on the client system s . Moreover such reinstallation can be performed even though the rebuilt client machine may include a new operating system. In addition the centralized database allows for further processing of the registry keys such as by replicating registry keys to different machines and or applying registry key policies over groups of machines in the network.

In certain embodiments a method is disclosed for registry key management in a computer network. The method includes detecting registry keys stored in a registry of each of a plurality of client computing devices and storing on a remote database a copy of the registry keys the remote database being in network communication with each of the plurality of client computing devices. The method further includes tracking with a management module executing on a first one of the plurality of client computing devices modifications made to the registry of the first client computing device. In addition the method includes modifying the copy of the registry keys on the remote database to reflect said modifications to the registry of the first client computing device detecting a rebuild operation of the first client computing device and automatically reinstalling registry keys on the first client computing device based on the copy of the registry keys stored on the remote database.

In certain embodiments a system is disclosed for managing registry keys in a computer network. The system comprises a plurality of client computing devices each comprising a registry having a plurality of registry keys and at least one management server in network communication with the plurality of client computing devices the at least one management server maintaining in a database an indication of the plurality of registry keys installed in each registry of the plurality of client computing devices. The method also includes a management module executing on a first one of the plurality of client computing devices wherein the management module is configured to automatically track modifications made to the registry of the first client computing device and instruct the at least one management server to update the indication of the plurality of registry keys to reflect said modifications.

In certain embodiments a system is disclosed for managing registry keys in a computer network. The system comprises means for detecting registry keys stored in a registry of each of a plurality of client computing devices and means for storing a copy of the registry keys said storing means being in network communication with each of the plurality of client computing devices. The system further includes means for tracking on a first one of the plurality of client computing devices modifications made to the registry of the first client computing device and means for modifying the copy of the registry keys on said storing means to reflect said modifications to the registry of the first client computing device. In addition the system includes means for automatically reinstalling registry keys on the first client computing device based on the copy of the registry keys stored on said storing means.

For purposes of summarizing the disclosure certain aspects advantages and novel features of the inventions have been described herein. It is to be understood that not necessarily all such advantages may be achieved in accordance with any particular embodiment of the invention. Thus the inventions may be embodied or carried out in a manner that achieves or optimizes one advantage or group of advantages as taught herein without necessarily achieving other advantages as may be taught or suggested herein.

As will be seen from the disclosure herein certain systems and methods are provided for managing registry keys in a computing environment. For instance certain embodiments of the invention include improved systems for storing copies of registry keys and or for facilitating reinstallation of registry keys during the rebuilding of a client system.

Certain inventive systems include a centralized management database that tracks which registry keys are installed on a plurality of client systems in a network environment. In certain embodiments changes made to any or a select registry key can performed through a management user interface which further records the changes on the management database. In yet further embodiments one or more APIs scripts or other application processes can be used to discover which registry keys have already been stored on each of the client devices and replicate the keys or identification of such keys to the management database.

In certain embodiments when one or more client systems is required to be rebuilt the management database can provide an indication as to which registry keys and their specific values should be reinstalled on the client system s . Moreover such reinstallation can be performed even though the rebuilt client machine may include a new operating system. In addition the management database allows for replication of registry keys to different machines and or application of registry key policies over groups of machines.

The features of the systems and methods will now be described with reference to the drawings summarized above. Throughout the drawings reference numbers are re used to indicate correspondence between referenced elements. The drawings associated descriptions and specific implementation are provided to illustrate embodiments of the invention and not to limit the scope of the disclosure.

As shown the management system comprises a plurality of client devices and individually and collectively that communicate with a management server via a network . Each of the client devices comprises a computing device configured to manipulate generate or otherwise process data. In certain embodiments the client device comprises a desktop computer. In other embodiments the client device can comprise a server a workstation a virtual machine a laptop a notebook a personal computer a smartphone a PDA combinations of the same or the like.

In particular the client devices comprise one or more software applications executing thereon to interact with a user to process data and may include for example database applications e.g. SQL applications word processors spreadsheets financial applications management applications e commerce applications browsers combinations of the same or the like. For example in certain embodiments the applications may comprise one or more of the following MICROSOFT EXCHANGE MICROSOFT SHAREPOINT MICROSOFT SQL SERVER ORACLE MICROSOFT WORD and LOTUS NOTES.

As shown client device further comprises a registry with a plurality of registry keys client device further comprises a registry with a plurality of registry keys and client device further comprises a registry with a plurality of registry keys . In certain embodiments of the invention each of the client devices comprises a MICROSOFT WINDOWS operating system and the registry keys enable the operating system to control hardware and software components installed on the client device . In yet other embodiments the client devices may be associated with one or more other types of operating systems e.g. UNIX virtual machines or the like.

In addition each of the client devices and comprises respectively management modules and individually and collectively . In certain embodiments each management module is configured or programmed to track record and or ingest registry keys and or changes to registry keys on a specific client device and to transmit information regarding the keys to the management server .

In certain embodiments the management module comprises and or interacts with an interface through which the user enters changes to the registry . For instance the user interface may be part of a standard registry editor provided with an operating system. In yet other embodiments the user interface can comprise a customized interface such as a graphical user interface or window through which the user requests the changes. Moreover the management module can comprise and or communicate with one or more APIs that are configured to access the registry and identify and or ingest registry keys stored therein.

The management server comprises one or more destination devices for storing configuration data relating to the client devices . For instance in certain embodiments the management server comprises and or communicates with a plurality of storage devices in network communication with each other and coupled to the network . In such embodiments the management server can comprise one or more storage manager devices and or storage controller devices that direct the storage and retrieval of backup data such as described in U.S. Pat. No. 7 389 311 issued Jun. 17 2008 which is hereby incorporated herein by reference in its entirety to be considered part of this specification.

In particular the management server includes a registry key database policies and a translation module that are usable to manage registry keys on the plurality of client devices . In certain embodiments the registry key database maintains a copy of the registry keys on the client devices . For instance the database can communicate with the management module to acquire a copy of each registry key on each client device . In one example the database stores only a single copy of a particular registry key for multiple devices in order to reduce duplicate storage of keys. In yet other embodiments the database does not include copies of registry keys other than those keys that satisfy a predetermined criteria or policy.

In yet other embodiments the database does not store a copy of the entire registry key but retains sufficient information to reinstall registry keys to a particular client device following a failure of the client device . For instance the database can comprise an indication such as a table list or other data structure of values and other information usable to replicate or reinstall the registry keys when needed.

The management server further comprises policies for managing the registry keys in the system . For instance the policies may indicate to the management module which types of registry keys should have copies maintained in the database . In yet other embodiments the policies can be applied to the stored registry keys in the database . For instance the policy may dictate which registry keys should be replicated to a specific group of client devices and or users.

In certain circumstances a client device may undergo an operating system upgrade or change. In such situations particular registry keys used for a first operating system may not function within a second operating system. Thus reinstalling registry keys identified in the registry key database to a client device with a new operating system may trigger system errors or incompatibility issues. To assist with a transition between two operating systems the translation module of the management server is configured to translate a registry key compatible and or associated with a format of a first operating system to a modified key compatible with a format of a second operating system.

It will also be understood that the management server can store other information not specifically illustrated in . For instance the management server may back up or control the backup of other data such as for example configuration information files folders or the like associated with the client devices .

The illustrated network advantageously comprises any means for communicating data between two or more systems or components. It certain embodiments the network comprises a computer network. For example the network may comprise a public network such as the Internet virtual private network VPN token ring or TCP IP based network wide area network WAN local area network LAN an intranet network point to point link a wireless network cellular network wireless data transmission system two way cable system interactive kiosk network satellite network broadband network baseband network combinations of the same or the like.

The process begins at Block wherein the management module detects the registry keys installed on the client device . As discussed above in certain embodiments such detection is performed using one or more APIs. In yet other embodiments a snapshot or other copy can be generated of the registry to identify the registry keys stored thereon.

At Block a copy of the registry keys is stored on the database of the management server . In certain embodiments a copy of the entire registry is maintained in the database . In yet other embodiments only a select portion of the registry keys is stored in the database such as based on one or more of the policies and or user preferences.

The process continues to monitor the registry and or client device to track modifications made to the registry keys Block . For instance the process can include utilizing a user interface and or software routine to capture user and or system initiated modifications to the registry keys . At Block the process applies the tracked modifications to the corresponding copies of the registry keys in the database . In this manner the database maintains an up to date and synchronized record of the registry keys and accompanying values stored on the client device .

At Block the process detects a failure or other event associated with the client device that requires rebuilding of the client device along with a reinstallation of at least a portion of the registry keys . For instance the management server may receive a request to reinstall registry keys to the client device . At Block the process completes by reinstalling from the remote database the registry keys to the client device . For instance such reinstallation can be a copying of the registry keys stored in the database when the database maintains full copies of the keys or the reinstallation can include accessing one or more remote locations having copies of the registry keys based on information stored in the database .

As can be seen the process advantageously provides for an expedited rebuilding of the failed client device and reduces the chance of human error when compared to manual reinstallation of registry keys that were previously installed on the client device . Moreover with embodiments of the invention the user does not need to remember which registry keys were previously installed on the client device .

Although the process has been described with reference to specific examples other embodiments of the invention can vary from that which is illustrated in . For instance with respect to Block the process may not store copies of the registry keys in the database of the management server . Rather the database can maintain an indication of or other information regarding which registry keys are stored on the various client devices . Such information such as identifiers links or the like can then be used to obtain copies of the registry keys from another location when needed for reinstallation.

The process begins at Block by storing a copy of the registry keys of a client device on the database of the management server as discussed in more detail above. At Block the management server is informed that the client device is to be rebuilt. For instance in certain embodiments the management module of the client device instructs the management server that registry keys stored in the database are to be reinstalled on the client device .

At Block the process determines if rebuilding the client device includes installing a different operating system than the operating system that was previously on the client device . If not the process proceeds with installing the registry keys identified in the database on the client device Block .

If a different operating system is being installed on the client device the process proceeds with Block to determine which registry keys can be reinstalled on the client device . For instance the management server may identify which of the stored registry keys in the database are compatible with the new operating system. In yet further embodiments the management server can utilize the translation module to convert one or more registry keys compatible with the previous operating system into a format compatible with the new operating system.

At Block the process determines if there are any policies that apply to the client device . For example the management server can determine if the client device is part of a group for which one or more policies dictates that certain registry keys are to be installed on devices within the group. For example one of the policies can indicate that a particular registry key should be installed on all client devices within a particular group.

If one or more policies applies to the rebuilt system the management module modifies the registry of the client device according to the applicable policy ies Block . Following Block or if no policies apply to the rebuilt device the process continues with Block to reboot the client device .

In certain embodiments of the invention the registry management systems and methods may be used in connection with a modular storage management system embodiments of which are described in more detail in U.S. Pat. No. 7 035 880 issued Apr. 5 2006 which is hereby incorporated herein by reference in its entirety. For example one or more client devices and or management servers may be part of a storage operation cell that includes combinations of hardware and software components directed to performing storage operations on electronic data. Exemplary storage operation cells usable with embodiments of the invention include CommCells as embodied in the QNET storage management system and the QINETIX storage management system by CommVault Systems Inc. Oceanport N.J. and as further described in U.S. Pat. No. 7 454 569 issued Nov. 18 2008 which is hereby incorporated herein by reference in its entirety.

Systems and modules described herein may comprise software firmware hardware or any combination s of software firmware or hardware suitable for the purposes described herein. Software and other modules may reside on servers workstations personal computers computerized tablets PDAs and other devices suitable for the purposes described herein. Software and other modules may be accessible via local memory via a network via a browser or via other means suitable for the purposes described herein. Data structures described herein may comprise computer files variables programming arrays programming structures or any electronic information storage schemes or methods or any combinations thereof suitable for the purposes described herein. User interface elements described herein may comprise elements from graphical user interfaces command line interfaces and other interfaces suitable for the purposes described herein.

Embodiments of the invention are also described above with reference to flow chart illustrations and or block diagrams of methods apparatus systems and computer program products. It will be understood that each block of the flow chart illustrations and or block diagrams and combinations of blocks in the flow chart illustrations and or block diagrams may be implemented by computer program instructions. These computer program instructions may be provided to a processor of a general purpose computer special purpose computer or other programmable data processing apparatus to produce a machine such that the instructions which execute via the processor of the computer or other programmable data processing apparatus create means for implementing the acts specified in the flow chart and or block diagram block or blocks.

These computer program instructions may also be stored in a computer readable memory that can direct a computer or other programmable data processing apparatus to operate in a particular manner such that the instructions stored in the computer readable memory produce an article of manufacture including instruction means which implement the acts specified in the flow chart and or block diagram block or blocks. The computer program instructions may also be loaded onto a computer or other programmable data processing apparatus to cause a series of operations to be performed on the computer or other programmable apparatus to produce a computer implemented process such that the instructions which execute on the computer or other programmable apparatus provide steps for implementing the acts specified in the flow chart and or block diagram block or blocks.

In addition methods and functions described herein are not limited to any particular sequence and the acts or blocks relating thereto can be performed in other sequences that are appropriate. For example described acts or blocks may be performed in an order other than that specifically disclosed or multiple acts or blocks may be combined in a single act or block.

While certain embodiments of the inventions have been described these embodiments have been presented by way of example only and are not intended to limit the scope of the disclosure. Indeed the novel methods and systems described herein may be embodied in a variety of other forms furthermore various omissions substitutions and changes in the form of the methods and systems described herein may be made without departing from the spirit of the disclosure. The accompanying claims and their equivalents are intended to cover such forms or modifications as would fall within the scope and spirit of the disclosure.

