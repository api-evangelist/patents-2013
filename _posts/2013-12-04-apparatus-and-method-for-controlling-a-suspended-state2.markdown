---

title: Apparatus and method for controlling a suspended state
abstract: A device includes a proximity sensor configured to detect when an object is within a predetermined proximity range of the device, and input detection circuitry configured to detect when an input operation is performed on the device. The terminal device includes control circuitry configured to determine a proximity detection state of the device, wherein an object detection state corresponds to a proximity state in which the object is detected within the predetermined proximity range, and an object non-detection state corresponds to a proximity state in which the object is not detected within the predetermined proximity range; control a suspended state of the device, wherein the suspended state is a state of reduced processing and/or power consumption; and control the input detection circuitry such that, when the device is in the suspended state and in the object detection state, the input detection circuitry stops input operation detection processing.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09639261&OS=09639261&RS=09639261
owner: Sony Mobile Communications Inc.
number: 09639261
owner_city: Tokyo
owner_country: JP
publication_date: 20131204
---
The present disclosure relates to controlling a suspended state of a terminal device such as a mobile phone a smart phone a tablet device or the like.

Terminal devices may include a processor configured to place the terminal device in a suspended state to preclude unnecessary consumption of power resources while the device is not in use. Some terminal devices may include external buttons and a signal may be generated to release the terminal device from the suspended state when an external button operation is detected e.g. pressing a power key . Other terminal device processors may be configured to release the device from the suspended state based on inputs other than physical button operations. For example a touch operation performed on a surface of a touch panel display included in the terminal device may be detected and in response a signal may be generated to release the device from the suspended state. Similarly an audio input may be detected to release a terminal device from the suspended state.

In cases where the suspended state may be released in response to detecting an input operation other than a physical button manipulation a situation arises where the device may be released from the suspended state inadvertently without the knowledge of the user. For example a touch operation may be detected when the terminal device is stored in a user s pocket which may result in the suspended state being released when such an action is not desired. Therefore in these circumstances the benefit of the suspended state is lost due to the unnecessary power consumption and unintended processing that results from an inadvertent release of the suspended state.

In certain embodiments a terminal device includes a proximity sensor configured to detect when an object is within a predetermined proximity range of the device. The terminal device may include input detection circuitry configured to detect when an input operation is performed on the device. The terminal device may include control circuitry configured to determine a proximity detection state of the device wherein an object detection state corresponds to a proximity state in which the proximity sensor detects the object within the predetermined proximity range and an object non detection state corresponds to a proximity state in which the object is not detected within the predetermined proximity range. The control circuitry may control a suspended state of the device wherein the suspended state is a state of reduced processing and or power consumption relative to a normal operating state. The control circuitry may control the input detection circuitry such that when the device is in the suspended state and in the object detection state the input detection circuitry stops processing related to the detection of the input operation.

The foregoing general description of the illustrative embodiments and the following detailed description thereof are merely exemplary aspects of the teachings of this disclosure and are not restrictive.

Referring now to the drawings wherein like reference numerals designate identical or corresponding parts throughout the several views.

Referring first to illustrates a non limiting example of a terminal device external structure according to certain embodiments. Terminal device illustrated in includes a protective case surrounding a display . The display is included on a frontal surface of the terminal device and in certain embodiments may be formed integrally with a touch panel . The touch panel may in certain embodiments including one or more touch sensors for detecting a touch operation on an operating surface of the display . Aspects of detecting a touch operation on the display will be discussed later in greater detail.

The exemplary terminal device of includes a power key disposed along an edge of the terminal device . In certain embodiments in addition to providing a mechanism for cycling power to the terminal device the power key may be configured such that the terminal device enters a suspended state in response to detecting an operation of the power key .

The exemplary terminal device of also includes a proximity sensor . In certain embodiments the proximity sensor may be configured to detect when an object is within a predetermined proximity i.e. distance range etc. from the terminal device . For example the proximity sensor may detect when the terminal device is placed in a user s pocket by detecting the user s clothing within a predetermined detection range of the proximity sensor . Aspects of detecting the presence of an object with respect to the terminal device via the proximity sensor will be discussed in greater detail in later paragraphs.

Next illustrates a non limiting example of a block diagram for a terminal device according to certain embodiments.

Referring now to terminal device includes a communication processor connected to an antenna a controller an audio processor a speaker and a microphone .

The antenna transmits receives electromagnetic wave signals between base stations for performing radio based communication such as the various forms of cellular telephone communication.

The communication processor controls the communication performed between the terminal device and other external devices via the antenna . For example the communication processor may control communication between base stations for cellular phone communication.

The controller may include one or more Central Processing Units CPUs and may control each element in the terminal device to perform features related to communication control audio signal processing control for the audio signal processing still and moving image processing and control and other kinds signal processing. The controller may perform these features by executing instructions stored in a memory . Alternatively or in addition to the local storage of the memory the features may be executed using instructions stored on an external device accessed on a network or on a non transitory computer readable medium. The memory may include e.g. Read Only Memory ROM Random Access Memory RAM or a memory array including a combination of volatile and non volatile memory units. The memory may be utilized as working memory by the controller while executing the processing and algorithms of the present disclosure. Additionally the memory may be used for long term storage e.g. of image data and information related thereto.

The controller in certain embodiments may control a suspended state of the terminal device . The suspended state may e.g. correspond to a low power consumption state. The controller may in certain embodiments control the terminal device to awaken from the suspended state i.e. an awake state or cause the terminal device to enter the suspended state based on a detected input e.g. from a key included in operating keys e.g. power button and or a touch operation on touch panel . The controller may in certain embodiments cause the terminal device to enter the suspended state when a predetermined time interval elapses without a detected input to the terminal device i.e. a non operation state . In certain embodiments the controller controls the operation of the suspended state by managing processing performed in accordance with an operating system OS which may be include instructions stored in the memory and which may interface with the elements of the terminal device to control the elements functionality in the suspended and awake states.

In certain embodiments the controller may control scanning operations performed by a proximity sensor and a touch sensor . For example the controller may control a scan rate e.g. normal scan rate or intermittent scan rate of the proximity sensor and the touch sensor and the controller may cause the proximity sensor and or the touch sensor to initiate or cease scanning their respective scanning operations based e.g. on whether the terminal device is in the suspended or awake state. In certain embodiments the controller may control the scanning processing of the touch sensor such that the touch sensor continues scanning for a touch operation when the terminal device is in the suspended state in which case the controller may execute processing for releasing the terminal device from the suspended state when a touch operation is detected. However this exemplary control processing with respect to the touch sensor is not limiting.

In certain embodiments the controller may control elements of the terminal device such that quick starting of applications and associated interfaces is performed. The quick starting may e.g. cause an application to initiate processing simultaneously with the processing for releasing the terminal device from the suspended state. For example the controller may in conjunction with processing for releasing the terminal device from the suspended state initiate processing of an imaging unit and or initiate an imaging camera application associated with the imaging unit . Settings for processing related to quick starting may be stored in the memory .

The terminal device includes a control line CL and data line DL as internal communication bus lines. Control data to from the controller may be transmitted through the control line CL. The data line DL may be used for transmission of voice data display data etc.

The audio processor demodulates and or decodes the audio data read from the memory or audio data received by the communication processor . Additionally the audio processor may decode audio signals obtained by the microphone .

The speaker emits an audio signal corresponding to audio data supplied from the audio processor . In certain embodiments an audio input terminal may be included in the terminal device such that audio output from the audio processor may be emitted via the audio input terminal and an audio jack connected to the speaker . A non limiting example of an audio jack is a 2.5 mm stereo phone connector e.g. on personal headphones.

The microphone detects surrounding audio and converts the detected audio into an audio signal. The audio signal may then be output to the audio processor for further processing. In certain embodiments the microphone may be formed integrally with the speaker such that when the audio jack is inserted in the audio input terminal the input output of audio signals may be performed on a common device e.g. a headset device . It should be appreciated that the present disclosure is not limited to audio input output devices such as the speaker and the microphone having physical wired connections. Rather in certain embodiments the terminal device may be configured to communicate wirelessly with external devices e.g. via a wireless protocol such as Bluetooth Near Field Communication NFC Wi Fi 802.11 etc. and the establishment of such a wireless connection may be detected by the controller when performing processing related to the control of the suspended state.

The display may be a Liquid Crystal Display LCD an organic electroluminescence display panel or another display screen technology. In addition to displaying still and moving image data the display may display operational inputs such as numbers or icons which may be used for control of the terminal device . The display may additionally display a graphical user interface such that a user may control aspects of the terminal device and or other devices. In certain embodiments the controller may control the display to display a home screen interface the most recent interface or another interface when the suspended state of the terminal device is released. Further the display may display characters and images received by the terminal device and or stored in the memory or accessed from an external device on a network. For example the terminal device may access a network such as the Internet and display text and or images transmitted from a Web server.

A frame buffer may be included in the terminal device for providing temporary memory storage for the display . For example a display processor may perform processing for outputting video data or an interface on the display . Data related to the display processing may be saved in the frame buffer and the data may be read by the display processor when performing display control processing.

The touch panel may include a physical touch panel display screen display with touch sensor and a touch sensor driver . The touch sensor may include one or more touch sensors for detecting an input operation on an operation surface of touch panel display screen. The touch sensors of the touch sensor may in certain embodiments be formed on a printed circuit board or a transparent film. Used herein the phrase touch operation refers to an input operation performed by touching an operation surface of the touch panel display with an instruction object such as a finger or stylus type instrument. In the case where a stylus or the like is used in a touch operation the stylus may include a conductive material at least at the tip of the stylus such that the sensors included in the touch sensor may detect when the stylus approaches contacts the operation surface of the touch panel display similar to the case in which a finger is used for the touch operation .

In certain aspects of the present disclosure the touch panel may be disposed adjacent to the display e.g. laminated or may be formed integrally with the display . For simplicity the present disclosure assumes the touch panel is formed integrally with the display and therefore examples discussed herein may describe touch operations being performed on the surface of the display rather than the touch panel . However the skilled artisan will appreciate that this is not limiting.

For simplicity the present disclosure assumes the touch panel is an electrostatic capacitance type touch panel technology however it should be appreciated that aspects of the present disclosure may easily be applied to other touch panel types e.g. resistance type touch panels with alternate structures. In the case of an electrostatic capacitance touch panel display when conductors such as a finger or stylus approach or contact the touch panel the electrodes of the touch sensor may detect and measure electrostatic capacitance changes and features of the touch operation may be determined based on the detections measurements. In certain aspects of the present disclosure the touch panel may include transparent electrode touch sensors arranged in the X Y direction on the surface of transparent sensor glass.

The touch sensor driver may be included in the touch panel for control processing related to the touch panel such as scanning control. For example the touch sensor driver may scan each sensor in an electrostatic capacitance transparent electrode pattern in the X direction and Y direction and detect the electrostatic capacitance value of each sensor to determine when a touch operation is performed. The touch sensor driver may output a coordinate and a corresponding electrostatic capacitance value for each sensor.

In certain embodiments the controller may control a scan rate of the touch sensor via the touch sensor driver . For example when the terminal device is in the awake state the touch sensor driver may set the scan rate of the touch sensor to 50 Hz which corresponds to a normal scan rate. As another example when the terminal device is in the suspended state the touch sensor driver may set the scan rate of the touch sensor to 10 Hz which corresponds to an intermittent scan rate. Additionally the touch sensor driver may initiate and cease scanning operations by the touch sensor based on whether the terminal device is in the suspended state. It is noted that the scan rate values given in the above example are not limiting and the control features described herein may be easily adapted for other scan rates.

The touch sensor driver may also output a sensor identifier that may be mapped to a coordinate on the display . Additionally the touch sensor driver and touch sensor may detect when an instruction object such as a finger is within a predetermined distance from an operation surface of the touch panel display screen. That is the instruction object does not necessarily need to directly contact the operation surface of the touch panel display screen in order for the touch sensor to detect the instruction object and perform processing described herein. For example in certain embodiments the touch sensor may detect a user s hand hovering over the display . In another example the touch sensor may detect an electrostatic capacitance of a user s body through clothing when the device is stored in the user s pocket. Signals may be transmitted by the touch sensor driver e.g. in response to a detection of a touch operation in response to a query from another element based on timed data exchange etc.

Next the operating keys may include one or more buttons or similar external control elements which may generate an operation signal based on a detected input from a user. In addition to outputs from the touch panel these operation signals may be supplied to the controller for performing related processing and control. In certain aspects of the present disclosure the processing and or functions associated with external buttons and the like may be performed by the controller in response to an input operation on the touch panel display screen rather than the external button key etc. In this way external buttons on the terminal device may be eliminated in lieu of performing inputs via touch operations thereby improving water tightness.

The power key for controlling the power supply for the terminal device may be included in the operating keys . In certain embodiments when the controller detects the power key is pressed while the terminal device is in a suspended state the controller releases the terminal device from the suspended state and displays e.g. a home screen interface on the display . Otherwise a lock screen may be displayed until the controller releases the terminal device from the suspended state. In certain embodiments a detection of pressing the power key while the terminal device is in the awake state may cause the controller to transition the terminal device to the suspended state.

The imaging unit may be configured to capture still and moving image data. In certain embodiments the imaging unit may by a charge coupled device CCD Complementary Metal Oxide Semiconductor CMOS device or the like. In certain embodiments image data generated by the imaging unit may be applied as an input for determining a proximity detection state of the terminal device . For example when image data generated by the imaging unit indicates based on an analysis of image features that the terminal device is stored in a storage container e.g. a user s pocket then the controller may determine that the terminal device is in the object detection state. Exemplary image features that may be analyzed when determining the proximity state include image brightness color and color gradient changes across the image. For example an image captured by the imaging unit when the terminal device is in a user s pocket may be substantially black with little change in color within the image similar to the case when the lens cap is on a conventional camera which may indicate the terminal device is stored in the pocket.

The proximity sensor may include one or more sensors for detecting an object within a predetermined proximity of the terminal device i.e. determining whether an object detection or object non detection state exists . In certain embodiments the one or more sensors may measure reflected light using infrared rays as a process for determining whether an object is within the predetermined proximity of the terminal device . The proximity sensor driver controls the proximity sensor and may perform a determination as to whether an object is within the predetermined proximity of the terminal device based on sensor data related to e.g. the amount of reflected light detected by the proximity sensor . The proximity sensor driver may also control a scan rate of the proximity sensor . As a non limiting example the proximity sensor driver may set the proximity sensor scan rate to 50 Hz when the terminal device is in the awake state and the scan rate may be set to 10 Hz when the terminal device is in the suspended state. As mentioned previously the specific scan rate values discussed herein are not limiting. Further the present disclosure is not limited to performing object proximity detection based on reflected light. Rather the present disclosure may be easily adapted for proximity detection methods using e.g. induction capacitance ultrasonic and electromagnetic waveform technologies.

Next illustrates a non limiting example of a layer structure of software and hardware operating on a terminal device according to certain embodiments.

The exemplary layer structure illustrated in includes a hardware layer Lh a middleware layer Lm and an application layer La. Each of the layers illustrated in the example of include various modules and the operational relationships between the modules within and across layers is illustrated in the figure. Modules previously discussed above for are illustrated in within the hardware layer Lh. Specifically the hardware layer Lh of includes the voice processor the speaker the microphone the display processor the frame buffer the display the proximity sensor and proximity sensor driver and the touch sensor and touch sensor driver . Additionally the hardware layer Lh in certain embodiments may include an image sensor and an image sensor driver . In certain embodiments the image sensor and the image sensor driver may be included in the imaging unit . The image sensor may include one or more sensors configured to capture still or moving image data and the image sensor driver may be configured to control the image sensor and to interface with an imaging controller in the middleware layer Lm.

Delivery of data between the application layer La and the middleware layer Lm may be performed via an application programming interface API Ia which may mediate various processing features described herein. Similarly delivery of data between the middleware layer Lm and the hardware layer HM may be performed by an API driver Id.

In certain embodiments the application layer La includes a home screen application Ap1 a camera application Ap2 and a voice reproduction application Ap3. In certain embodiments the controller may control processing executed within the application layer La by controlling the various modules illustrated in the middleware layer Lm as well as the hardware elements illustrated in the hardware layer Lh.

The home screen application Ap1 is an application which displays a home screen interface on the display based on information supplied from the touch sensor driver . The camera application Ap2 is an application that displays still image or moving image data based on an input from imaging controller via the image sensor and image sensor driver . Audio reproduction application Ap3 is an application in which audio signals may be output via the speaker based on inputs received from multimedia controller via the audio processor and the microphone .

Referring now to the middleware layer Lm in certain embodiments the middleware layer Lm may include the imaging controller the multimedia controller a quick start processing section and a power management section . As mentioned previously in certain embodiments processing features discussed herein with respect to the middleware layer Lm and application layer La may be executed by processing circuitry included in the controller . The imaging controller supplies imaging data based on images captured by the image sensor . The imaging data may be output by the imaging controller to the camera application Ap2 and or the multimedia controller . In certain embodiments the imaging controller may perform a power activation process and or an initialization process with respect to the image sensor driver based on an input received from the quick start processing section . For example when releasing the terminal device from a suspended state the imaging controller may receive a wakeup instruction from the quick start processing section and in response to receiving the instruction the imaging controller may perform the power activation and or initialization processing to awaken the image sensor driver

The multimedia controller may perform processing related to outputting image data supplied from the imaging controller . The imaging data supplied from the imaging controller may be output to the frame buffer via the display processor . Additionally the multimedia controller may perform processing related to the input and output of audio data with respect to the audio processor and or the audio reproduction application Ap3.

In certain embodiments the quick start processing section may perform processing to release processing elements of the terminal device from a suspended state. Further the quick start processing section may perform processing to resume the middleware functions that are relevant to a quick start process. For example the camera application Ap2 may be configured to simultaneously resume functionality together with processing related to the release of the suspended state of the terminal device . In this example the quick start processing section may output a quick start signal to the imaging controller and or the camera application Ap2 such that a quick start may be performed simultaneously with the release of the suspended state. In certain embodiments the quick start processing section may output a quick start signal in response to a signal received from the touch sensor driver via the touch sensor . For example a touch operation may be detected on the touch panel via the touch sensor and a detection signal may be output by the touch sensor driver to the quick start processing section . In response to receiving the detection signal the quick start processing section may output a quick start signal to one or more modules within the middleware layer Lm or cross other layers illustrated in such that a quick start of relevant applications may be performed.

The power management section in certain embodiments may be configured to perform processing which controls scanning performed by the touch sensor . For example the power management section may control a scanning frequency rate of the touch sensor . As will be discussed in detail in later paragraphs the power management section may control the touch sensor such that a normal scan rate and an intermittent scan rate are applied. In certain embodiments the power management section performs its processing features based on inputs received from the proximity sensor driver . Further in certain embodiments the power management section may control power to the display via the display processor . For example based on an input received from the power management section the display processor may turn off the display when the terminal device is in the suspended state. Further the control processing features of the power management section related to the touch sensor may be performed in response to the proximity sensor detecting an object within a predetermined distance from the terminal device . For example the power management section may turn off the touch sensor in response to detecting an object with the proximity sensor . Further the power management section may change the scanning rate of the touch sensor from normal to intermittent scan or vice versa based on a detection of an object by the proximity sensor .

Next illustrates a non limiting exemplary flowchart for controlling aspects of a terminal device suspended state according to certain embodiments.

The processing illustrated in begins at step S where the controller determines whether a non operation state of the touch panel has continued for a predetermined time period or whether an operation of the power key is detected. The non operation state of the touch panel may for example correspond to a state in which the user has not performed a touch operation within the predetermined time period. If an operation of the touch panel and or one of the operation keys is determined to have occurred within the predetermined time period the controller continues performing the verification check at step S. Otherwise the controller controls the elements of the terminal device such that the terminal device enters the suspended state at step S.

At step S the controller controls the proximity sensor such that the proximity sensor performs scanning at an intermittent scan rate. A non limiting example of a scan rate performed at an intermittent frequency is illustrated in which will be discussed later.

At step S it is determined whether the proximity sensor has detected an object within a predetermined proximity e.g. within a possible detection range of the proximity sensor of the terminal device . A non limiting example in which the proximity sensor detects an object within the predetermined proximity occurs when the terminal device is stored in the pocket of a user s clothes in which case the detection of the clothes within the detection range of the proximity sensor may result in a positive determination at step S. When the proximity sensor detects an object within the predetermined proximity at step S the controller at step S determines whether the detection state of the proximity sensor has subsequently changed. A non limiting example in which a detection state of the proximity sensor may change from the detection state previously detected in step S includes a case in which the terminal device is removed from the user s pocket. When the controller determines at step S that the detection state of the proximity sensor has changed the processing progresses to the connector A which will be discussed in greater detail later with respect to .

Referring back to step S when it is determined that the proximity sensor has not detected an object within the predetermined proximity of the terminal device at step S the processing progresses to step S. At step S the controller determines whether a detection state of the proximity sensor has subsequently changed from the state detected in step S. That is the controller at step S determines whether the detection state has transitioned from an object non detection state to an object detection state. A non limiting example in which a detection state may be detected to have changed at step S includes a case in which the user places the terminal device in his or her pocket. In this example the proximity sensor determined that the terminal device was outside of the user s pocket as step S and subsequently determined at step S that the terminal device is now stored in the user s pocket which results in a positive determination at step S. If the controller at step S determines that the detection state has not changed the processing progresses to connector A which will be discussed in greater detail with respect to .

Otherwise the controller at step S determines whether the touch sensor is performing scanning at an intermittent scan rate. If it is determined at step S that the touch sensor is not performing scanning at the intermittent scan rate the processing progresses to step S. Otherwise the controller at step S controls the touch sensor driver to stop the intermittent scan operation of the touch sensor .

Next illustrates a non limiting exemplary flowchart for controlling aspects of a suspended state of a terminal device according to certain embodiments.

Referring to the controller controls the touch sensor via the touch sensor driver to start or continue intermittent scanning of the touch sensor . As discussed above with respect to the processing of the processing at step S is performed in a case when the proximity sensor does not detect an object within the predetermined proximity of the terminal device at step S and subsequently does not detect a change in detection state at step S e.g. the terminal device is initially determined not to be stored in the user s pocket and has not later transitioned to storage within the user s pocket . Additionally the processing at step S may occur when the proximity sensor at step S determines that an object is within the predetermined proximity of the terminal device and subsequently the controller determines that the detection state of the proximity sensor has changed at step S e.g. the terminal device is detected to be within the user s pocket and later transitions outside of the user s pocket .

At step S the controller determines whether an operation for releasing the suspended state of the terminal device has been detected. Exemplary operations for releasing the suspended state of the terminal device include a touch operation detected on the touch panel . If the controller at step S determines that an operation for releasing the suspended state has not been detected the processing progresses back to step S of FIG. . Otherwise the controller controls the touch sensor via the touch sensor driver such that the touch sensor stops the intermittent scan.

At step S a controller controls the proximity sensor via the proximity sensor driver to stop the intermittent scanning of the proximity sensor .

At step S the controller performs processing for waking up the terminal device and the process returns to step S of .

Next illustrate non limiting examples of proximity sensor scan rates according to certain embodiments.

Referring first to illustrates an exemplary scan rate of the proximity sensor in a normal state. In this example the scan rate of the proximity sensor is 50 Hz. Referring now to illustrates a scan rate of the proximity sensor when the proximity sensor is in an intermittent scan state. In the example of the intermittent scan rate is 10 Hz. As discussed throughout the present disclosure the proximity sensor may be controlled based on processing described herein such that the scan rate of the proximity sensor changes from the normal scan rate of to the intermittent scan rate of . The skilled artisan will appreciate that the scan rates illustrated in are provided merely for illustration purposes and that values given for scan rate should not be construed as limiting.

Next illustrate a non limiting example of setting a detection possible range of a proximity sensor according to certain embodiments.

Referring first to illustrates a state in which a user holds the terminal device on opposing ends such that the terminal device faces sideways. In this example the proximity sensor is located at the left hand side of the terminal device with a detection possible range Rp illustrated as a dotted line above the proximity sensor . The detection possible range Rp illustrated in represents a typical detection possible range corresponding to a case where the touch panel is turned off when a user s face is detected within the detection possible range Rp such as when the user holds the terminal device to his or her ear during a telephone call. In this case the detection possible range Rp is selected such that a user s face will likely be detected during a phone call and therefore the detection of the user s face within the detection possible range Rp prevents the user s face from inadvertently performing a touch operation on the touch panel during the phone call. However when the detection possible range Rp is applied according to aspects of the present disclosure the likelihood of the proximity sensor detecting a user s finger in a case such as that illustrated in the example of becomes high. Moreover the detection possible range Rp illustrated in may be unsuitable for a case in which it is desirable to detect when the terminal device is stored within a user s pocket bag or other storage container.

Therefore as shown in the non limiting example of a detection possible range Ri of the proximity sensor is set so that it is of a narrower range than the detection possible range Rp illustrated in the example of . As illustrated in the detection possible range Ri precludes the detection of the user s fingers when holding the terminal device sideways as in the figure. However the detection of the terminal device being stored in for example a user s pocket may still be detected by the proximity sensor using the detection possible range Ri.

As a non limiting example of a ratio of the possible detection range Ri with respect to conventional detection ranges such as the detection possible range Rp in the detection possible range Ri may in certain embodiments be one third to one fifth the range of typical detection ranges of proximity sensors i.e. sensors configured to detect a user s face when operating a terminal device for example during a telephone call . The skilled artisan will appreciate that the exemplary ratios discussed herein are not limiting and an actual value of proximity sensor detection range may be set and or adjusted based on the application.

In certain embodiments the detection possible range Ri is selected by the controller when performing object scanning with the proximity sensor while in the suspended state. In certain embodiments the detection possible range Rp is selected by the controller when performing object scanning with the proximity sensor while in the awake state. That is the controller may in certain embodiments detect objects at a lower proximity range when the terminal device is in the suspended state than when the terminal device is in an awake state. Therefore the proximity sensor may still effectively detect a user s face during a phone call while in the awake state but the lower detection possible range may be applied when the device is in the suspended state and the detection of a face during a phone call is inapplicable.

Next illustrate a non limiting example of proximity sensor and touch sensor scanning operations according to the exemplary flowcharts illustrated in . In particular illustrates an example of the scanning operation of the proximity sensor in accordance with the control methods illustrated in illustrates an example of scanning operation of the touch sensor in accordance with the control methods illustrated in and illustrates a state of the system during the processing described in this example. As illustrated in the terminal device is assumed to remain in the suspended state throughout the duration of the processing described in this example. As shown in the proximity sensor implements a normal scan rate when determining whether an object is within a predetermined proximity of the terminal device e.g. within the detection possible range Ri while the terminal device is in the suspended state. While the terminal device is in the suspended state and an object non detection state exists with respect to the proximity sensor the touch sensor performs scanning operations at an intermittent scan rate. Referring to when the proximity sensor determines that an object is within the predetermined proximity of the terminal device i.e. the detection state changes from an object non detection to an object detection state the intermittent scan rate of the touch sensor is stopped as shown in . The stopping of the intermittent scanning by the touch sensor is continued until the detection state of the object by the proximity sensor changes i.e. until the proximity sensor no longer detects an object within the predetermined proximity thereby transitioning from object detection state to object non detection state . That is the intermittent scanning of the touch sensor is restarted at a timing at which the detection of the proximity sensor changes from an object detection state to an object non detection state.

According to features of the preceding examples in certain embodiments the terminal device may be stored for example in a user s pocket or bag in which case the proximity sensor determines that the terminal device is in an object detection state and therefore the controller controls the touch sensor such that an intermittent scan of the touch panel is not performed. Accordingly when the touch sensor detects the human body on the other side of the cloth in the pocket detects an object in a bag etc. a condition in which the terminal device is awoken from the suspended state accidentally does not occur.

Next in certain embodiments the controller may be configured such that a terminal device in accordance with the present disclosure may be released from a suspended state when it is detected that the terminal device transitions from an object detection state to an object non detection state such as the case when the user removes the terminal device from his or her pocket. illustrates a non limiting example of a layer structure for a terminal device which performs processing related to the control of the suspension state based on a transition from an object detection state to an object non detection state according to certain embodiments.

Elements illustrated in the example of may correspond to elements previously illustrated and discussed with respect to and a duplicated discussion of repeated elements is omitted here for brevity. However it is noted that the point in which the structure shown in differs from the structure shown in is that the detection result of the proximity sensor driver is directly input into the quick start processing section . Accordingly the quick start processing section in certain embodiments may generate a signal for releasing the terminal device from a suspended state based on a detected transition from an object detected state to an object non detected state by the proximity sensor . Moreover in conjunction with the processing related to releasing the terminal device from the suspended state the quick start processing section may perform processing to simultaneously start processing for an application or to otherwise activate an element in the terminal device when the proximity sensor determines that the terminal device transitions from the object detection state to the object non detection state. Exemplary aspects of a quick start performed by the quick start processing section were discussed previously.

Next illustrates a non limiting exemplary flowchart illustrating a process of controlling a suspended state of a terminal device based on a detected transition to an object non detection state according to certain embodiments.

The processing in the example of begins at step S where the controller determines whether a non operation state of the touch panel has continued for a predetermined period or whether a detection of an operation of the power key is detected. If the controller at step S determines that the non operation state of the touch panel has continued in excess of the predetermined time period and an operation of the power key has not been detected the controller continues monitoring for the transition from the non operation state at step S. Otherwise the controller at step S performs processing for transitioning the terminal device to the suspended state.

At step S the controller controls the proximity sensor via the proximity sensor driver such that an intermittent scan rate operation of the proximity sensor begins. The intermittent scan rate started at step S in this example may in certain embodiments be a higher rate than the intermittent scan rate discussed for preceding examples. For example the intermittent scan rate started at step S may be higher than the scan rate started at step S of . An increased scan rate relative to the preceding examples may for example provide for increased sensitivity when determining whether the terminal device transitions from the object detection state to the object non detection state. For example an increased scan rate relative to the preceding examples may better detect the moment that the terminal device is removed from a storage container such as a user s pocket or bag. Thus the moment at which the terminal device is removed from the storage container can then be associated with the time at which the terminal device transitions to the object non detection state. As a non limiting example of the intermittent scan rate set at step S the intermittent scan rate of the proximity sensor may be set to 100 Hz. However this example value is merely provided for exemplary purposes and those of ordinary skill in the art will appreciate that an optimal value for scan rate may be determined based on tuning of the proximity sensors.

At step S it is determined whether an object is detected within a predetermined proximity of the terminal device i.e. whether the terminal device is in the object detection state . In certain embodiments the detection possible range Ri may be set to the predetermined range from which to determine whether the terminal device is in the object detection state. A non limiting example in which the terminal device is determined to be in the object detection state occurs when the terminal device is stored in the user s pocket or other storage container. An example in which the controller determines that the terminal device is in the object non detection state occurs when the terminal device is outside of the user s pocket or other storage container.

If the controller determines that the terminal device is in the object detection state at step S the controller at step S determines whether the object detection state of the proximity sensor has changed. An example in which the object detection state would have changed at step S is the case in which the terminal device is stored in the user s pocket or other storage container and is subsequently removed from the pocket or storage container. If it is determined at step S that the object detection state has not changed the controller continues monitoring for the change in object detection state at step S. Otherwise the process proceeds to step S which will be discussed in greater detail with respect to .

Referring back to step S if the controller at step S determines that the terminal device is in the object non detection state the controller at step S determines whether the object detection state of the proximity sensor has changed. If the controller at step S determines that the object detection state has not changed the processing progresses to the connector B which will be discussed later with respect to . An example in which the object detection state would not have changed at step S includes a case in which the terminal device is outside of the user s pocket or other storage container and remains outside of the pocket storage container.

If the controller at step S determines that the object detection state has changed the controller at step S determines whether the touch sensor is performing a scanning operation at the intermittent scan rate. An example in which the object detection state would change at step S includes the case where the terminal device is initially outside of the user s pocket or other storage container and is subsequently placed within a pocket or storage container.

If it is determined at step S that the touch sensor is not performing scanning at the intermittent scan rate the processing progresses to step S. Otherwise at step S the controller via the touch sensor driver stops the intermittent scan operation of touch sensor .

Next illustrates another non limiting exemplary flowchart for controlling a suspended state of a terminal device according to certain embodiments. As discussed previously the exemplary process illustrated in begins when an object non detection state is determined at step S and a determination that the object detection state has not changed is made at step S of . Under this condition the controller at step S controls the touch sensor via the touch sensor driver such that an intermittent scan operation is started or continued.

At step S the controller determines whether an operation for releasing the suspended state of the terminal device has been detected. If no operation for releasing the suspended state is detected at step S the process returns to step S of . Otherwise if an operation for releasing the suspended state is detected at step S the intermittent scanning by touch sensor is stopped by the touch sensor driver via the controller at step S.

At step S the intermittent scan operation of the proximity sensor is stopped by the proximity sensor driver via the controller .

At step S the controller performs a process of waking the terminal device i.e. releasing the terminal device from the suspended state .

At step S the controller determines whether a non operation state of the terminal device has continued for greater than a predetermined time at threshold. As a non limiting example the controller at step S may determine whether the non operation state has continued for greater than 3 seconds. It should be appreciated however that any arbitrary value for the time threshold may be selected and the time value of 3 seconds applied in this example is in no way limiting.

If the controller at step S determines that the non operation state has not continued for greater than the predetermined time threshold the process proceeds to step S of . Otherwise if it is determined that the non operation state has continued for greater than the predetermined time threshold the process proceeds to step S of . That is when it is determined that the non operation state continues for greater than the predetermined time threshold the process which returns the terminal device to a suspended state is performed again.

Next illustrates an exemplary scanning operation of a proximity sensor and a touch sensor operating in accordance with the exemplary control methods illustrated and discussed above with respect to . Specifically illustrates an example of a scanning operation of the proximity sensor operating in accordance with the exemplary control methods illustrated and discussed above with respect to illustrates an example of a scanning operation of the touch sensor operating in accordance with the control methods illustrated and discussed above with respect to and illustrates a state of the terminal device during a time in which the exemplary control methods of are executed.

As shown in the proximity sensor implements a normal scan rate for detecting whether the terminal device has been stored in a pocket a bag or other storage container at a time in which the terminal device is in the suspended state. At the same time the touch sensor performs a scanning operation at an intermittent scan rate while the terminal device is in the suspended state and an object non detection state exists.

As illustrated in when the object detection state transitions from the object non detection state to the object detection state the intermittent scanning of the touch sensor stops. The stopping of the intermittent scan by the touch sensor continues until the detection state of an object by the proximity sensor changes i.e. until the proximity sensor does not detect an object any longer . That is the intermittent scan operation by the touch sensor is restarted at a timing corresponding to the time at which the object detection state of the proximity sensor shown in changes from the object detection state to the object non detection state. Additionally as illustrated in the terminal device transitions from the suspended state to the awake state at the time corresponding to the transition from the object detection state to the object non detection state. While the terminal device is in the awake state the controller determines whether a non operation condition of the terminal device continues for greater than a predetermined time threshold 3 seconds in this example . When the controller determines that greater than 3 seconds passes without a detection of a touch operation by the touch sensor the terminal device transitions back to the suspended state.

According to certain embodiments discussed above with respect to when a detection state of the proximity sensor changes from an object detection state to an object non detection state e.g. when the terminal device is removed from the user s pocket or bag the terminal device is immediately released from the suspended state. Therefore a user does not necessarily have to perform a separate operation in order to release the terminal device from the suspended state but rather the user can immediately use the terminal device simply by removing the terminal device from his or her pocket or bag. Further even in the case in which the detection state of the proximity sensor changes from an object detection state to an object non detection state when no operation e.g. a touch operation and or an operation of the operating keys is performed for a predetermined time period the controller controls the terminal device such that the device returns to the suspended state. Therefore in the case in which the proximity sensor detects an object within the predetermined proximity of the terminal device at a time in which the user does not necessarily desire to release the terminal device from the suspended state e.g. when the proximity sensor detects objects within the user s pocket and or bag or the terminal device inadvertently contacts objects within the user s pocket and or bag causing an operation of the operating keys the terminal device may be returned to the suspended state after the predetermined time period such that power is not unnecessarily consumed by the terminal device when the user did not intend to release the terminal device from the suspended state.

Next the preceding examples describe the case in which a detection of a touch operation and or an operation of the operating keys releases a terminal device from a suspended state. However the present disclosure is not limited to performing processing related to the control of the suspended state based on a detection of a touch operation and or operation of the operating keys . In certain embodiments a detection of an audio input may be applied for controlling the suspended state of a terminal device.

In certain embodiments the voice verification processor determines whether an audio input is received from the microphone . When the voice verification processor determines that an audio input e.g. a voice command was received for releasing the terminal device from a suspended state the voice verification processor generates a notification signal to the multimedia controller . In response to receiving the notification signal the multimedia controller may retrieve the audio signal input to the microphone from the audio processor . In certain embodiments the multimedia controller may compare the received voice input from the audio processor to a predetermined speech pattern stored in the memory . When the multimedia controller determines that the received audio input matches the predetermined voice pattern stored in the memory the multimedia controller notifies the quick processing section and the quick processing section starts the voice recognition section while releasing the terminal device from the suspended state.

Following the quick start initiation of the voice recognition section the voice recognition section may analyze newly received audio input from the microphone to determine whether the newly received audio input corresponds to an audio command for executing an application and the voice recognition section may start the application depending on the analysis result. For example a user may awaken the terminal device from the suspended state by speaking a voice command into the microphone such as saying Hello. As another example a user may speak a voice command into the microphone instructing the terminal device to place a telephone call to a particular telephone number e.g. call 555 XXXX . The voice recognition section may analyze the input voice command instructing the terminal device to call the telephone number and the voice recognition section may start an application for executing a telephone call based on the result.

In certain embodiments in which an audio input may be applied to control a suspended state of a terminal device when the proximity sensor detects an object within a predetermined proximity of the terminal device the voice scanning by the voice verification processor may be stopped.

Next illustrates a non limiting exemplary flowchart for controlling a suspended state of a terminal device based on an audio input according to certain embodiments.

At step S the controller determines whether a non operation state with respect to the touch panel has continued for greater than a predetermined time period or whether an operation of the power key is detected. If the controller determines at step S that the non operation state continues for greater than the predetermine time period and or the operation of the power key is not detected the controller continues monitoring the operation state of the terminal device at step S.

Otherwise at step S the controller performs processing such that the terminal device enters the suspended state.

At step S the controller controls the proximity sensor via the proximity sensor driver such that the proximity sensor starts a scanning operation at an intermittent scan rate.

At step S the controller determines based on inputs from the proximity sensor whether an object is detected within a predetermined proximity of the terminal device . For example the controller may determine that an object has been detected within a predetermined proximity when the proximity sensor detects an object e.g. the interior of a pocket within the detection possible range Ri.

If the controller determines at step S that an object is detected within the predetermined proximity of the terminal device the controller at step S performs a determination as to whether a headphone audio jack has been inserted into an audio input terminal of the terminal device e.g. as mentioned previously an audio input terminal configured to accept an audio jack may be included in the audio processor . It is noted that the present disclosure is not limited to the detection of a physical audio jack being inserted into the terminal device . In certain embodiments the controller at step S may perform a determination as to whether a wireless audio output device such as a Bluetooth headset has established a connection with the terminal device . However for simplicity examples discussed herein assume that a physical audio input jack is detected as being inserted into the terminal device.

If the controller determines at step S that an audio jack has not been inserted into the terminal device the controller at step S performs processing such that scanning for an audio input command for releasing the terminal device from the systemic state is stopped.

Otherwise if the controller at step S determines that an audio jack has been inserted into the terminal device the controller at step S sets the instruction input source for executing processing based on voice commands to headphone. In certain embodiments it may be assumed that the headphones connected to the terminal device via the audio jack perform processing for both the input and the output of audio. For example the headphones may include the microphone in line with the headphone jack such that a user may perform voice commands for executing processing by the controller .

At step S the controller starts processing for scanning audio input commands for releasing the terminal device from the suspended state.

Referring back to step S if the controller at step S determines that an object is not detected within the predetermined proximity of the terminal device e.g. the terminal device is outside of user s pocket or bag the controller at step S determines whether an audio jack for a headphone has been inserted into the terminal device

If the controller at step S determines that an audio jack for a headphone has been inserted into the terminal device the controller sets the instruction input source for audio input commands to control the systemic state of the terminal device to headphone input similar to the processing performed at step S. Otherwise the controller at step S sets the instruction input source for audio input commands to the microphone . Following either step S or step S the process proceeds to step S.

According to the features described above with respect to controlling a suspended state of a terminal device based on audio input commands because the scanning of an audio input is not performed when an object is not detected within the predetermined proximity of the terminal device e.g. when the terminal device is stored in the user s pocket or bag the terminal device is not inadvertently released from the suspended state when an audio input that is not intended to wake the terminal device is detected. For example an audio input may be inadvertently detected by the microphone in which case the terminal device may be released from the suspended state unintentionally. However according to the processing described above with respect to such a case of an inadvertent release of the suspended state of the terminal device may be prevented.

Next in certain embodiments a suspended state of a terminal device may be controlled based on features of a distribution area corresponding to touch sensor outputs. For example the suspended state of a terminal device may be controlled based on a detection of a user s palm covering and or hovering over a touch panel display screen.

Next illustrates a non limiting example of a block diagram of a terminal device for controlling a suspended state based on features of a touch sensor output distribution area according to certain embodiments. The internal structure of the terminal device illustrated in defers from the previous structure described for terminal devices and in that the proximity sensor and a proximity sensor driver are omitted in terminal device . However it should be appreciated that the internal structure according to any of the terminal devices described herein may be applied such that the controlling of the suspended state based on features of a touch sensor output distribution area may be performed. In other words in certain embodiments the proximity sensor and or the proximity sensor driver may be unnecessary for controlling the suspended state based on features of a touch sensor output distribution area. Therefore while the proximity sensor and the proximity sensor driver may be utilized in other processing related to the terminal device in which they operate the elements are unnecessary with respect to the features related to the control of the suspended state based on features of a touch sensor output distribution area. Accordingly the proximity sensor and or the proximity sensor driver may be optionally omitted in this case.

Next illustrates a non limiting example of a layer structure for a terminal device for controlling a suspended state based on features of a touch sensor output distribution area according to certain embodiments.

As in previous examples the layer structure of the terminal device illustrated in includes various modules in the application layer La the middleware layer Lm and the hardware layer Lh and the interrelationships between modules of the terminal device is illustrated in . As discussed in previous examples in certain embodiments the controller may implement the processing features corresponding to the modules of the application layer La and the middleware layer Lm and the controller may also control the processing functions performed by the elements of the hardware layer Lh.

The hardware layer Lh includes the display processor the frame buffer the display the touch sensor and the touch sensor . As discussed previously the touch panel in which the touch sensor and the touch sensor driver are included may in certain embodiments be an electrostatic capacitance type touch panel device. However the skilled artisan will appreciate that the processing described herein may be easily adapted such that other touch panel technologies are utilized. For simplicity the present example assumes that a detected distribution area of touch sensor outputs corresponds to electrostatic capacitance values detected by the plurality of sensor included in the touch sensor . That is touch sensors included at various coordinate positions across the touch panel may detect variances in the presence and or magnitude of electrostatic capacitance when for example the user s palm covers the touch panel . Variance in electrostatic capacitance magnitude in this example may for example be the result of variances in distance of the user s palm from the operation surface of the touch panel when the user s palm is covering the touch panel . Similarly variances in coordinate positions at which electrostatic capacitance values are detected when the user is covering the touch panel with his or her hand may for example be the result of differences in the manner in which the user is holding the terminal device as well as differences in hand size between various users. Accordingly the distribution area of touch sensor outputs generated by the touch sensor and the touch sensor driver may be compared in certain embodiments to threshold values of distribution area size i.e. distribution of coordinates in which electrostatic capacitance values are detected and or electrostatic capacitance magnitudes. Based on the comparison result a determination of whether an object such as a user s hand is covering at least a portion of the touch panel may be determined.

Referring back to the middleware layer Lm of the terminal device may include in certain embodiments the power management section a touch event acquiring section a palm detector and a display control section .

The touch event acquiring section may determine a presence or absence of a touch operation based on electrostatic capacitance magnitude values and or coordinate positions included in a distribution area acquired from the touch sensor via the touch sensor driver . When a touch operation is detected the touch event acquiring section supplies the data included in the acquired distribution area to an application Ap included in the application layer La.

The palm detector may receive an input related to the detected touch operation from the touch sensor driver . Based on an analysis of the received data from the touch sensor driver the palm detector may output an instruction to the power management section in order to control the suspended state of the terminal device . For example in certain embodiments the palm detector may analyze the electrostatic capacitance magnitude values and or the coordinate positions of a touch sensor output distribution area received from the touch sensor driver and determine based on features of the electrostatic capacitance magnitude and or size of the distribution area that a user s palm is covering the touch panel display . When the palm detector determines that the user s palm is covering the touch panel the palm detector may output a signal to the power management section indicating that the user s palm is covering the touch panel . Based on the receipt of the detection signal indicating that the user s palm is covering the touch panel the power management section may transmit a command to elements included in the terminal device such that the elements transition to the suspended state. For example the power management section may transmit a command to the display via the display processor to secure power to the display . In certain embodiments upon receiving the signal from the palm detector indicating that the user s palm is covering the touch panel the power management section may transmit a command to the touch sensor driver such that the scan rate of the touch sensor is changed e.g. the touch sensor driver may change the scan rate of the touch sensor from a normal scan rate to an intermittent scan rate .

In certain embodiments the display control section may perform control processing related to the display processor and the display based on inputs received from the application Ap.

Next illustrates a non limiting example of a sequence diagram for performing processing to control a suspended state of a terminal device based on features of a touch sensor output distribution area according to certain embodiments.

Referring to the sequencing diagram starts at step S where the terminal device is in the suspended state.

At step S the touch sensor detects an operation for releasing the suspended state of the terminal device . In response to detecting the operation for releasing the suspended state the touch sensor at step S transmits a request for an interruption wake up signal to the touch sensor driver .

At step S the touch sensor driver transmits a request for wake up signal to the controller of the terminal device

At step S the controller starts processing for resuming normal operations and releasing the terminal device from the suspended state.

The controller at step S transmits an instruction to start resuming normal operations and release from the suspended state i.e. wake up to the touch sensor driver . In response to receiving the wake up instruction from the controller at step S the touch sensor driver transmits a wake up instruction to the touch sensor at step S. At step S the controller transmits a wake up instruction to the display processor . In response to receiving the instruction from the controller at step S the display processor transmits a wake up instruction to the display at step S.

Following the receipt of the wake up instructions the terminal device enters the awake state at step S.

At step S a normal touch operation is detected by the touch sensor . A non limiting example of a normal touch operation occurs when a user touches an operation surface of the touch panel with a finger or stylus. At step S the touch sensor transmits to the touch sensor driver the coordinate positions and electrostatic capacitance magnitude values corresponding to a distribution area of the touch operation detected at step S.

At step S the touch sensor driver transmits to the application Ap the received touch sensor coordinate positions and electrostatic capacitance values.

Following the receipt of the coordinate positions and electrostatic capacitance values at step S the application Ap at step S interfaces with the frame buffer such that display update processing is performed based on features of the detected touch operation. Similarly the frame buffer at step S interfaces with the display processor such that the display update processing may be performed and the display processor interfaces with the display at step S to perform the display update processing.

At step S the touch sensor detects an operation in which the user s palm covers some or all of the display screen of the touch panel . In certain embodiments the determination that the user s palm is covering the display may be based on features of the distribution area of the corresponding touch operation detected at step S. For example features related to the distribution area size and or magnitude of electrostatic capacitance values within the distribution area may be compared to predetermined threshold values and a determination as to whether the user s palm is covering the display may be made based on the comparison. It should be appreciated that the operation detected at step S is not limited to detecting an entire palm but rather a portion of the palm or another part of the hand may be detected e.g. the touch sensor may detect a plurality of fingers or another object of some arbitrary size . Moreover the object hand does not necessarily need to cover the entirety of the display in order to generate a positive detection result.

When the determination is made at step S that the user s palm is covering the display the touch sensor at step S outputs a notification signal to the touch sensor driver that the user s hand has been detected to be covering the display .

In response to receiving notification of the detection of the user s palm covering the display the touch sensor at step S transmits a similar notification of the detection of the user s palm to the palm detector .

In response to receiving the notification of the detection of the user s palm covering the display the palm detector at step S transmits a request to the controller for a transition to the suspended state.

Upon receipt of the request to transition to the suspended state the controller at step S starts processing related to the start of the suspension state of the terminal device . In particular at step S the controller transmits an instruction to the touch sensor driver to start processing related to the suspended state. Upon receipt of the instruction to enter the suspended state at step S the touch sensor driver at step S transmits an instruction to the touch sensor to enter the suspended state. At step S the controller transmits an instruction to enter the suspended state to the display processor . Upon receipt of the instruction to enter the suspended state at step S the display processor at step S transmits an instruction to enter the suspended state to the display . Upon receipt of the instruction to enter the suspended state at steps S and step S the touch sensor and the display respectively enter the condition corresponding to their suspended states. For example the touch sensor may discontinue scanning operations at the intermittent scan rate. Similarly the display may discontinue its output operations.

According to features of the exemplary processing described above with respect to a terminal device which has been woken up from its suspended state can be immediately transitioned back to the suspended state by the simple operation of covering the display screen i.e. the operation surface of the touch panel using the user s hand. As mentioned previously one of ordinary skill will appreciate that other objects aside from the user s hand may be detected by the touch sensor such that similar processing results as those discussed above may be achieved. Moreover the preceding example discusses a case in which the user s palm is utilized in the detection operation. However the present disclosure is not limited to detecting the user s palm and the present disclosure may be adapted such that the detection of other parts of the user s hand and or other objects may initiate the processing related to returning the terminal device to the suspended state. In any case according to the exemplary processing illustrated and described with respect to the user may implement control processing for controlling a suspended state of a terminal device based on features of a distribution area corresponding to a touch operation detected by the touch panel rather than a manipulation of external buttons such as the buttons included in the operation keys . Therefore the ease at which the terminal device may be transitioned to and from the suspended state may be improved.

Moreover the present disclosure is not limited to the case in which control processing related to the suspended state of a terminal device is performed based on a detection that a user s hand is in direct contact with the operation surface of the touch panel . For example the touch sensor may detect the presence of a user s hand hovering within a predetermined distance of the operation surface of the touch panel a hovering operation . As a non limiting example illustrate a case in which the terminal device is transitioned to the suspended state based on a detected hovering operation. illustrates the terminal device in an awake state whereby a home screen interface is displayed on the display . illustrates an example in which a user holds his or her hand within a predetermined distance hovering over the operation surface of the touch panel . As discussed previously electrostatic capacitance values may be detected in a case in which the user s hand or other conductive object is within a detection range of the touch sensor . Therefore in response to detecting that the user s hand is hovering over the operation surface of the touch panel as in the example of the controller may control the terminal device such that in response to detecting the hovering operation the terminal device transitions from the awake state of to the suspended state illustrated in .

Next illustrate a non limiting example of a touch sensor output distribution area generated based on a detected touch operation according to certain embodiments.

Referring first to illustrates the terminal device in the awake state. In this example a home screen interface is shown displayed on the display and a user s finger is illustrated contacting an icon included in the home screen interface.

Referring now to illustrates a non limiting example of a touch sensor output distribution area generated based on the detected touch operation of . The touch sensor output distribution area illustrated in includes electrostatic capacitance magnitude values and their associated coordinate positions resultant from the detected touch operation of . The x axis of corresponds to the transversal direction x direction of the terminal device shown in the y axis of corresponds to the longitudinal direction y direction of the terminal device shown in and the z axis of shows the magnitude of electrostatic capacitance values detected by the touch sensor during the touch operation illustrated in . As illustrated in in response to detecting the touch operation of electrostatic capacitance values of relatively high magnitude around 80 are concentrated around a coordinate position corresponding to the location on the operation surface of the touch panel at which the touch operation was performed. Therefore based on an analysis of the distribution area features of the controller may determine that a touch operation centered e.g. at the highest magnitude value in has been performed using a single finger.

Next illustrate a non limiting example in which a touch sensor output distribution area is generated in response to detecting a hover operation or detecting that the terminal device is stored in a user s pocket according to certain embodiments.

Referring first to illustrates the terminal device stored in the user s pocket Pk. It is assumed that the operating surface of the touch panel in the example of is facing the user when the terminal device is stored in the pocket Pk. Therefore when the terminal device is stored in the pocket Pk the user s clothing is separating the user s body from directly contacting the operating surface of the touch panel . However because the user s body is still in close proximity to the operating surface of the touch panel the touch sensor may detect electrostatic capacitance values based on the presence of the user s body relative to the touch sensor . Because the user s body does not directly contact the operating surface of the touch panel in this example the electrostatic capacitance magnitude values generated by the touch sensor in this example may be lower than the example of . However distinguishing features of distribution areas generated in response to detecting a hover operation or detecting when the terminal device is stored in a user s pocket may be utilized by the controller to determine when these operations actually occur.

Referring now to illustrates an exemplary touch sensor input distribution pattern generated as a result of the user storing the terminal device in his or her pocket as in . As shown in the example of electrostatic capacitance values may be detected by the touch sensor across a wide area of coordinate positions and the magnitude of the electrostatic capacitance values detected across the wider area may be relatively lower to the example in which the user directly contacts the operation surface of the touch panel with his or her finger. That is rather than the relatively high electrostatic capacitance magnitude values detected in the example of where the user is directly contacting the operation surface of the touch panel with his or her finger a condition in which the user has placed the terminal device in his or her pocket and or is performing a hovering operation by holding his or her hand within a predetermined distance of the operating surface of the touch panel results in a generated touch sensor output distribution area having relatively lower electrostatic capacitance magnitude values approximately 20 to 40 spread across a wider area. Therefore based on the relative differences between the distribution areas in the case in which the user directly contacts the operation surface of the touch panel e.g. and the case in which the user is not directly contacting the operating surface of the touch panel e.g. the controller may determine when a hovering operation occurs and or a condition in which the terminal device is stored in the user s pocket exists.

Furthermore based on features related to the size of the distribution area the controller may also distinguish between a condition in which the user directly contacts the operation surface of the touch panel with one or more fingers or a case in which the user is covering the operating surface of the touch panel with his or her palm or another object . For example the distribution area illustrated in the example of shows electrostatic capacitance values dispersed across a wide area relative to the concentrated distribution of electrostatic capacitance values illustrated in the example of . Therefore in certain embodiments the controller may analyze distribution area size as a distinguishing feature for determining types of touch operations.

Referring still to the controller may determine based on the features of the distribution area illustrated in that a user is performing a hovering operation or that the user has stored the terminal device in his or her pocket. Therefore in a case in which for example an inadvertent touch operation is detected and thereby causes the terminal device to be released from the suspended state the detection of the distribution area of by the touch sensor may in certain embodiments result in the controller controlling elements of the terminal device such that the terminal device returns to the suspended state.

Next illustrates a non limiting exemplary flowchart for controlling a transition between a suspended state and an awake state of a terminal device according to certain embodiments.

At step S the controller controls the terminal device such that the terminal device transitions to the suspended state based on a received input and or operating condition corresponding to the transition to the suspended state. For example the controller may detect that an operation of the power key has been performed and perform processing related to the transition to the suspended state based on the detection of the power key operation. As another non limiting example the controller may determine that a non operation state of the touch panel exists in which the user has not performed a touch operation on the touch panel for a predetermined time period in which case the controller may perform processing for transitioning the terminal device to the suspended state following the detected non operation state for the predetermined time period.

At step S the controller performs a determination as to whether an operation for releasing the suspended state has been detected. If the controller does not detect that an operation for releasing the suspended state has been performed at step S the controller continues monitoring for the operation of the suspended state release input. Otherwise the controller performs processing at step S such that the terminal device is transitioned to the awake state. Following the transition to the awake state at step S the controller at step S determines whether an operation for transitioning to the suspended state has been detected. If the controller at step S determines that an operation for transitioning back to the suspended state has been detected the processing returns to step S. Otherwise the controller continues monitoring for the operation corresponding to the transition back to the suspended state at step S.

As shown in the example of when the terminal device is inserted in the pocket Pk of the user s clothes in a state in which the operating surface of the touch panel is facing the user s body. Referring to that example step S of the exemplary flowchart of may be determined as YES because the touch sensor detects the presence of the user s body while the terminal device is stored in the pocket Pk. However in the state illustrated in since the electrostatic capacitance distribution area shown in is detected similarly to a case in which a palm hovers over the operating surface of the touch panel the controller may determine that an operation for transitioning the terminal device back to the suspended state has been performed. Therefore according to this example step S of may be determined to be YES and the processing then returns to step S. That is although the terminal device was transitioned to the awake state based on an inadvertently detected touch operation i.e. the detection of the user s body when initially stored in the pocket Pk processing features of the present example may ensure that the terminal device is transitioned back to the suspended state based on features of a detected electrostatic capacitance distribution area.

Next illustrates a non limiting example of a sequence diagram for performing processing related to the control of a suspended state based on detected features of a touch sensor output distribution area according to certain embodiments.

Referring to the sequence diagram begins at step S where the terminal device is in the suspended state. At step S the touch sensor detects an operation for releasing the suspended state of the terminal device . In response to detecting the operation for releasing the suspended state the touch sensor at step S transmits to the touch sensor driver a request for interruption of the suspended state a wake up signal . In response to receiving the request signal at step S the touch sensor driver at step S transmits a request for device wake up to the controller .

At step S in response to receiving the request for device wake up at step S the controller initializes processing for resuming normal operations of the terminal device and releasing the terminal device from the suspended state i.e. transitioning to the awake state . In particular the controller at step S outputs an instruction to wake up to the touch sensor driver . In response to receiving the instruction at step S the touch sensor driver outputs at step S an instruction to wake up to the touch sensor . The touch sensor and the touch sensor driver may then be in the awake state in response to receiving the instructions from the controller step S .

At step S while in the awake state the touch sensor detects a hovering operation performed by the user holding his or her palm within a predetermined distance of an operating surface of the touch panel . In response to detecting the hovering operation at step S the touch sensor at step S outputs to the touch sensor driver a notification of the hovering operation detection. In response to receiving the notification at step S the touch sensor driver at step S outputs a notification of the hovering operation detection to the palm detector . In response to receiving the notification at step S the palm detector outputs at step S a request to transition to the suspended state to the controller .

In response to receiving the request to transition to the suspended state at step S the controller at step S starts processing for transitioning the terminal device to the suspended state. In particular the controller at step S outputs an instruction to the touch sensor driver to transition to the suspended state and the controller at step S outputs a similar instruction to transition to the suspended state to display processor . In response to receiving the instruction to transition to the suspended state the touch sensor driver and the display processor at steps S and S respectively output an instruction to enter the suspended state to the touch sensor and the display . When the instructions to enter the suspended state are received by the touch sensor and the display the terminal device has transitioned to the suspended state which is illustrated at step S.

Obviously numerous modifications and variations of the present disclosure are possible in light of the above teachings. It is therefore to be understood that within the scope of the appended claims the invention may be practiced otherwise than as specifically described herein. For example advantageous results may be achieved if the steps of the disclosed techniques were performed in a different sequence if components in the disclosed systems were combined in a different manner or if the components were replaced or supplemented by other components. The functions processes and algorithms described herein may be performed in hardware or software executed by hardware including computer processors and or programmable processing circuits configured to execute program code and or computer instructions to execute the functions processes and algorithms described herein. A processing circuit includes a programmed processor as a processor includes circuitry. A processing circuit also includes devices such as an application specific integrated circuit ASIC and conventional circuit components arranged to perform the recited functions.

The functions and features described herein may also be executed by various distributed components of a system. For example one or more processors may execute these system functions wherein the processors are distributed across multiple components communicating in a network. The distributed components may include one or more client and or server machines in addition to various human interface and or communication devices e.g. display monitors smart phones tablets personal digital assistants PDAs . The network may be a private network such as a LAN or WAN or may be a public network such as the Internet. Input to the system may be received via direct user input and or received remotely either in real time or as a batch process. Additionally some implementations may be performed on modules or hardware not identical to those described. Accordingly other implementations are within the scope that may be claimed.

It must be noted that as used in the specification and the appended claims the singular forms a an and the include plural referents unless the context clearly dictates otherwise.

 1 A device comprising a proximity sensor configured to detect when an object is within a predetermined proximity range of the device input detection circuitry configured to detect when an input operation is performed on the device and control circuitry configured to determine a proximity detection state of the device wherein an object detection state corresponds to a proximity state in which the proximity sensor detects the object within the predetermined proximity range and an object non detection state corresponds to a proximity state in which the object is not detected within the predetermined proximity range control a suspended state of the device wherein the suspended state is a state of reduced processing and or power consumption relative to a normal operating state and control the input detection circuitry such that when the device is in the suspended state and in the object detection state the input detection circuitry stops processing related to the detection of the input operation.

 2 The device according to 1 wherein the control circuitry is configured to determine when the input operation detected by the input detection circuitry corresponds to a wake up signal for releasing the device from the suspended state and control the suspended state of the device such that the device is released from the suspended when the wake up signal is received.

 3 The device according to 1 or 2 wherein the input detection circuitry includes a touch panel display having one or more touch sensors configured to detect as the input operation a touch operation on an operating surface of the touch panel display.

 4 The device according to any one of 1 to 3 wherein the wake up signal is detected as the touch operation and when the device is in the suspended state and in the object detection state the control circuitry controls the input detection circuitry such that the wake up signal is prevented from being detected by the input detection circuitry.

 5 The device according to any one of 1 to 4 wherein the control circuitry is configured to generate when the device is in the suspended state and the control circuitry detects a transition from the object detection state to the object non detection state a wake up signal for releasing the device from the suspended state and control the suspended state of the device such that the device is released from the suspended state following the generation of the wake up signal.

 6 The device according to any one of 1 to 5 wherein the control circuitry is configured to control the suspended state of the device such that the device returns to the suspended state if the input detection circuitry does not detect the input operation within a predetermined time period following the wake up signal generation.

 7 The device according to any one of 1 to 6 wherein the input detection circuitry includes a touch panel display having one or more touch sensors configured to detect as the input operation a touch operation on an operating surface of the touch panel display the input detection circuitry is configured to generate in response to detecting the touch operation a sensor output distribution area representing detected sensor output magnitudes and corresponding coordinate positions and the control circuitry is configured to control the suspended state of the device such that the device returns to the suspended state based on a comparison of the sensor output distribution area data to predetermined threshold values.

 8 The device according to any one of 1 to 7 wherein the input detection circuitry is configured to detect as the input operation an audio input the wake up signal is detected as the audio input and when the device is in the suspended state and in the object detection state the control circuitry controls the input detection circuitry such that the wake up signal is prevented from being detected by the input detection circuitry.

 9 The device according to any one of 1 to 8 wherein the proximity sensor is configured to perform scanning for detecting the object at a lower scan rate when the device is in the suspended state than when the device is in an awake state.

 10 The device according to any one of 1 to 9 wherein the proximity sensor is configured to detect the object at a lower proximity range when the device is in the suspended state than when the device is in an awake state.

 11 A method of controlling a suspended state of a device the method comprising detecting by a proximity sensor when an object is within a predetermined proximity range of the device detecting by input detection circuitry when an input operation is performed on the device determining by control circuitry a proximity detection state of the device wherein an object detection state corresponds to a proximity state in which the proximity sensor detects the object within the predetermined proximity range and an object non detection state corresponds to a proximity state in which the object is not detected within the predetermined proximity range controlling by the control circuitry a suspended state of the device wherein the suspended state is a state of reduced processing and or power consumption relative to a normal operating state and controlling by the control circuitry the input detection circuitry such that when the device is in the suspended state and in the object detection state the input detection circuitry stops processing related to the detection of the input operation.

 12 The method according to 11 further comprising determining by the control circuitry when the input operation detected by the input detection circuitry corresponds to a wake up signal for releasing the device from the suspended state and controlling by the control circuitry the suspended state of the device such that the device is released from the suspended when the wake up signal is received.

 13 The method according to 11 or 12 wherein the input detection circuitry includes a touch panel display having one or more touch sensors configured to detect as the input operation a touch operation on an operating surface of the touch panel display.

 14 The method according to any one of 11 to 13 wherein the wake up signal is detected as the touch operation and the method further comprises controlling by the control circuitry the input detection circuitry such that the wake up signal is prevented from being detected by the input detection circuitry when the device is in the suspended state and in the object detection state.

 15 The method according to any one of 11 to 14 further comprising generating by the control circuitry a wake up signal for releasing the device from the suspended state when the device is in the suspended state and the control circuitry detects a transition from the object detection state to the object non detection state and controlling by the control circuitry the suspended state of the device such that the device is released from the suspended state following the generation of the wake up signal.

 16 The method according to any one of 11 to 15 further comprising controlling by the control circuitry the suspended state of the device such that the device returns to the suspended state if the input detection circuitry does not detect the input operation within a predetermined time period following the wake up signal generation.

 17 The method according to any one of 11 to 16 wherein the input detection circuitry includes a touch panel display having one or more touch sensors configured to detect as the input operation a touch operation on an operating surface of the touch panel display and the method further comprises generating by the input detection circuitry in response to detecting the touch operation a sensor output distribution area representing detected sensor output magnitudes and corresponding coordinate positions and controlling by the control circuitry the suspended state of the device such that the device returns to the suspended state based on a comparison of the sensor output distribution area data to predetermined threshold values.

 18 The method according to any one of 11 to 17 further comprising detecting by the input detection circuitry as the wake up signal an audio input and controlling by the control circuitry the input detection circuitry such that the wake up signal is prevented from being detected by the input detection circuitry when the device is in the suspended state and in the object detection state.

 19 The method according to any one of 11 to 18 further comprising controlling by the control circuitry a scan rate of the proximity sensor such that the proximity sensor performs scanning for detecting the object at a lower scan rate when the device is in the suspended state than when the device is in an awake state.

 20 A non transitory computer readable medium having instructions stored therein that when executed by one or more processors cause the one or more processors to perform a method of controlling a suspended state of a device wherein the device includes a proximity sensor the method comprising detecting when an object is within a predetermined proximity range of the device detecting when an input operation is performed on the device determining a proximity detection state of the device wherein an object detection state corresponds to a proximity state in which the proximity sensor detects the object within the predetermined proximity range and an object non detection state corresponds to a proximity state in which the object is not detected within the predetermined proximity range controlling a suspended state of the device wherein the suspended state is a state of reduced processing and or power consumption relative to a normal operating state and controlling input detection processing of the device such that when the device is in the suspended state and in the object detection state the processing related to the detection of the input operation is stopped.

