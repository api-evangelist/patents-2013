---

title: Location tracking for mobile computing device
abstract: A mobile computing device is disclosed. The mobile computing device includes a location determination circuit and a processing circuit. The processing circuit determines a current location of the mobile computing device and a destination location. The processing circuit determines an expected travel time from the current location to the destination location, and disables continuous location tracking for a duration of time. The duration is determined based on the expected travel time. Once the duration of time has elapsed, the processing circuit enables continuous location tracking.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09097544&OS=09097544&RS=09097544
owner: QUALCOMM Incorporated
number: 09097544
owner_city: San Diego
owner_country: US
publication_date: 20130219
---
This application is a continuation of U.S. application Ser. No. 12 893 907 filed Sep. 29 2010 which is a continuation in part of U.S. application Ser. No. 12 549 249 filed Aug. 27 2009 issued as U.S. Pat. No. 8 228 234 and a continuation in part of U.S. application Ser. No. 12 872 703 filed Aug. 31 2010 the aforementioned applications being incorporated by reference in their entirety.

Some mobile computing devices provide location based services to a user. For example a mobile computing device may use a navigation application to provide directions from the user s current location to a desired destination. A location determining circuit or system may be used to periodically determine the location of the mobile computing device.

Mobile computing devices may also have wireless transceivers configured to communicate with various types of wireless devices over various types of wireless networks.

Some embodiments described herein may use heuristic data to determine when to check if a mobile computing device is at a predetermined destination. Some embodiments described herein may determine a probability of when a mobile computing device will arrive at a location. Some embodiments described herein may capture the arrival or departure of a mobile computing device at a location without excessively draining the battery such as during times when a user is not moving.

Referring to a mobile device is shown. The teachings herein can be applied to device or to other electronic devices e.g. a desktop computer mobile computing devices e.g. a laptop computer or handheld computing devices such as a personal digital assistant PDA smartphone mobile telephone personal navigation device etc. According to one embodiment device may be a smartphone which is a combination mobile telephone and handheld computer having PDA functionality. PDA functionality can comprise one or more of personal information management e.g. including personal data applications such as email calendar contacts etc. database functions word processing spreadsheets voice memo recording Global Positioning System GPS functionality etc. Device may be configured to synchronize personal information from these applications with a computer e.g. a desktop laptop server etc. . Device may be further configured to receive and operate additional applications provided to device after manufacture e.g. via wired or wireless download SecureDigital card etc.

As shown in device includes a housing and a front and a back . Device further comprises a display and a user input device e.g. a QWERTY keyboard buttons touch screen speech recognition engine etc. . Display may comprise a touch screen display in order to provide user input to a processing circuit see to control functions such as to select options displayed on display enter text input to device or enter other types of input. Display also provides images see e.g. that are displayed and may be viewed by users of device . User input device can provide similar inputs as those of touch screen display . An input button may be provided on front and may be configured to perform pre programmed functions. Device can further comprise a speaker a stylus not shown to assist the user in making selections on display a camera a camera flash a microphone and an earpiece . Display may comprise a capacitive touch screen a mutual capacitance touch screen a self capacitance touch screen a resistive touch screen a touch screen using cameras and light such as a surface multi touch screen proximity sensors or other touch screen technologies etc. Display may be configured to receive inputs from finger touches at a plurality of locations on display at the same time. Display may be configured to receive a finger swipe or other directional input which may be interpreted by a processing circuit to control certain functions distinct from a single touch input. Further a gesture area may be provided adjacent e.g. below above to a side etc. or be incorporated into display to receive various gestures as inputs including taps swipes drags flips pinches etc. One or more indicator areas e.g. lights etc. may be provided to indicate that a gesture has been received from a user.

According to an exemplary embodiment housing is configured to hold a screen such as display in a fixed relationship above a user input device such as user input device in a substantially parallel or same plane. This fixed relationship excludes a hinged or movable relationship between the screen and the user input device e.g. a plurality of keys in the fixed embodiment.

Device may be a handheld computer which is a computer small enough to be carried in a hand of a user comprising such devices as typical mobile telephones and personal digital assistants but excluding typical laptop computers and tablet PCs. The various input devices and other components of device as described below may be positioned anywhere on device e.g. the front surface shown in the rear surface shown in the side surfaces as shown in etc. . Furthermore various components such as a keyboard etc. may be retractable to slide in and out from a portion of device to be revealed along any of the sides of device etc. For example as shown in front may be slidably adjustable relative to back to reveal input device such that in a retracted configuration see input device is not visible and in an extended configuration see input device is visible.

According to various exemplary embodiments housing may be any size shape and have a variety of length width thickness and volume dimensions. For example width may be no more than about 200 millimeters mm 100 mm 85 mm or 65 mm or alternatively at least about 30 mm 50 mm or 55 mm. Length may be no more than about 200 mm 150 mm 135 mm or 125 mm or alternatively at least about 70 mm or 100 mm. Thickness may be no more than about 150 mm 50 mm 25 mm or 15 mm or alternatively at least about 10 mm 15 mm or 50 mm. The volume of housing may be no more than about 2500 cubic centimeters cc or 1500 cc or alternatively at least about 1000 cc or 600 cc.

Device may provide voice communications functionality in accordance with different types of cellular radiotelephone systems. Examples of cellular radiotelephone systems may include Code Division Multiple Access CDMA cellular radiotelephone communication systems Global System for Mobile Communications GSM cellular radiotelephone systems etc.

In addition to voice communications functionality device may be configured to provide data communications functionality in accordance with different types of cellular radiotelephone systems. Examples of cellular radiotelephone systems offering data communications services may include GSM with General Packet Radio Service GPRS systems GSM GPRS CDMA 1xRTT systems Enhanced Data Rates for Global Evolution EDGE systems Evolution Data Only or Evolution Data Optimized EV DO systems Long Term Evolution LTE systems etc.

Device may be configured to provide voice and or data communications functionality in accordance with different types of wireless network systems. Examples of wireless network systems may further include a wireless local area network WLAN system wireless metropolitan area network WMAN system wireless wide area network WWAN system and so forth. Examples of suitable wireless network systems offering data communication services may include the Institute of Electrical and Electronics Engineers IEEE 802.xx series of protocols such as the IEEE 802.11a b g n series of standard protocols and variants also referred to as WiFi the IEEE 802.16 series of standard protocols and variants also referred to as WiMAX the IEEE 802.20 series of standard protocols and variants and so forth.

Device may be configured to perform data communications in accordance with different types of shorter range wireless systems such as a wireless personal area network PAN system. One example of a suitable wireless PAN system offering data communication services may include a Bluetooth system operating in accordance with the Bluetooth Special Interest Group SIG series of protocols including Bluetooth Specification versions v1.0 v1.1 v1.2 v2.0 v2.0 with Enhanced Data Rate EDR as well as one or more Bluetooth Profiles and so forth.

As shown in the embodiment of device may comprise a processing circuit having a dual or mufti processor architecture including a host processor and a radio processor e.g. a base band processor . Host processor and radio processor may be distinct separate or different chips integrated circuit packages parts or components. The host processor and the radio processor may be configured to communicate with each other using interfaces such as one or more universal serial bus USB interfaces micro USB interfaces universal asynchronous receiver transmitter UART interfaces general purpose input output GPIO interfaces control status lines control data lines shared memory and so forth. Alternatively the processing circuit may comprise one processor more than two processors and or other analog and or digital circuit components configured to or programmed to operate as described herein with respect to the various embodiments.

The host processor may be responsible for executing various software programs such as application programs and system programs to provide computing and processing operations for device . The radio processor may be responsible for performing various voice and data communications operations for device such as transmitting and receiving voice and data information over one or more wireless communications channels. Although embodiments of the dual processor architecture may be described as comprising the host processor and the radio processor for purposes of illustration the dual processor architecture of device may comprise additional processors may be implemented as a dual or multi core chip with both host processor and radio processor as distinct processing components fabricated on a single chip etc.

In various embodiments the host processor may be implemented as a host central processing unit CPU using any suitable processor or an algorithm device such as a general purpose processor. The host processor may comprise or be implemented as a chip multiprocessor CMP dedicated processor embedded processor media processor input output I O processor co processor a field programmable gate array FPGA a programmable an algorithm device PLD or other processing device in alternative embodiments. In an exemplary embodiment host processor is an OMAP2 such as an OMAP2431 processor manufactured by Texas Instruments Inc.

The host processor may be configured to provide processing or computing resources to device . For example the host processor may be responsible for executing various software programs such as application programs and system programs to provide computing and processing operations for device . Examples of application programs may include for example a telephone application voicemail application e mail application instant message IM application short message service SMS application multimedia message service MMS application web browser application personal information manager PIM application contact management application calendar application scheduling application task management application word processing application spreadsheet application database application video player application audio player application multimedia player application digital camera application video camera application media management application a gaming application and so forth. The application software may provide a graphical user interface GUI to communicate information between device and a user.

System programs assist in the running of a computer system. System programs may be directly responsible for controlling integrating and managing the individual hardware components of the computer system. Examples of system programs may include for example an operating system OS device drivers programming tools utility programs software libraries an application programming interface API graphical user interface GUI and so forth. Device may utilize any suitable as in accordance with the described embodiments such as a Palm WebOS Palm OS Palm OS Cobalt Microsoft Windows OS Microsoft Windows CE Microsoft Pocket PC Microsoft Mobile Symbian OS Embedix OS Linux Binary Run time Environment for Wireless BREW OS JavaOS a Wireless Application Protocol WAP as and so forth.

Device may comprise a memory coupled to the host processor . In various embodiments the memory may be configured to store one or more software programs to be executed by the host processor . The memory may be implemented using any machine readable or computer readable media capable of storing data such as volatile memory or nonvolatile memory removable or non removable memory erasable or non erasable memory writeable or re writeable memory and so forth. Examples of machine readable storage media may include without limitation random access memory RAM dynamic RAM DRAM Double Data Rate DRAM DDRAM synchronous DRAM SDRAM static RAM SRAM read only memory ROM programmable ROM PROM erasable programmable ROM EPROM electrically erasable programmable ROM EEPROM flash memory e.g. NOR or NAND flash memory or any other type of media suitable for storing information.

Although the memory may be shown as being separate from the host processor for purposes of illustration in various embodiments some portion or the entire memory may be included on the same integrated circuit as the host processor . Alternatively some portion or the entire memory may be disposed on an integrated circuit or other medium e.g. hard disk drive external to the integrated circuit of host processor . In various embodiments device may comprise an expansion slot to support a multimedia and or memory card for example.

Device may comprise a user input device coupled to the host processor . The user input device may comprise for example a QWERTY key layout and an integrated number dial pad. Device also may comprise various keys buttons and switches such as for example input keys preset and programmable hot keys left and right action buttons a navigation button such as a multidirectional navigation button phone send and power end buttons preset and programmable shortcut buttons a volume rocker switch a ringer on off switch having a vibrate mode a keypad an alphanumeric keypad and so forth.

The host processor may be coupled to a display . The display may comprise any suitable visual interface for displaying content to a user of device . For example the display may be implemented by a liquid crystal display LCD such as a touch sensitive color e.g. 16 bit color thin film transistor TFT LCD screen. In some embodiments the touch sensitive LCD may be used with a stylus and or a handwriting recognizer program.

Device may comprise an input output I O interface coupled to the host processor . The I O interface may comprise one or more I O devices such as a serial connection port an infrared port integrated Bluetooth wireless capability and or integrated 802.11x WiFi wireless capability to enable wired e.g. USB cable and or wireless connection to a local computer system such as a local personal computer PC . In various implementations device may be configured to transfer and or synchronize information with the local computer system.

The host processor may be coupled to various audio video A V devices that support A V capability of device . Examples of A V devices may include for example a microphone one or more speakers an audio port to connect an audio headset an audio coder decoder codec an audio player a digital camera a video camera a video codec a video player and so forth.

The host processor may be coupled to a power supply configured to supply and manage power to the elements of device . In various embodiments the power supply may be implemented by a rechargeable battery such as a removable and rechargeable lithium ion battery to provide direct current DC power and or an alternating current AC adapter to draw power from a standard AC main power supply.

As mentioned above the radio processor may perform voice and or data communication operations for device . For example the radio processor may be configured to communicate voice information and or data information over one or more assigned frequency bands of a wireless communication channel. In various embodiments the radio processor may be implemented as a communications processor using any suitable processor or an algorithm device such as a modem processor or base band processor. Although some embodiments may be described with the radio processor implemented as a modem processor or base band processor by way of example it may be appreciated that the embodiments are not limited in this context. For example the radio processor may comprise or be implemented as a digital signal processor DSP media access control MAC processor or any other type of communications processor in accordance with the described embodiments. Radio processor may be any of a plurality of modems manufactured by Qualcomm Inc. or other manufacturers.

In various embodiments the radio processor may perform analog and or digital base band operations for device . For example the radio processor may perform digital to analog conversion DAC analog to digital conversion ADC modulation demodulation encoding decoding encryption decryption and so forth.

Device may comprise a transceiver module coupled to the radio processor . The transceiver module may comprise one or more transceivers configured to communicate using different types of wireless access points using different protocols communication ranges operating power requirements RF sub bands information types e.g. voice or data use scenarios applications and so forth. In various embodiments the transceiver module may comprise one or more transceivers configured to support voice communication for a cellular radiotelephone system such as a GSM UMTS CDMA and or LTE system. The transceiver module also may comprise one or more transceivers configured to perform data communications in accordance with one or more wireless communications protocols such as WWAN protocols e.g. GSM GPRS protocols CDMA 1xRTT protocols EDGE protocols EVDO protocols EV DV protocols HSDPA protocols etc. WLAN protocols e.g. IEEE 802.11a b g n IEEE 802.16 IEEE 802.20 etc. PAN protocols Infrared protocols Bluetooth protocols EMI protocols including passive or active RFID protocols and so forth.

The transceiver module may be implemented using one or more chips as desired for a given implementation. Although the transceiver module may be shown as being separate from and external to the radio processor for purposes of illustration in various embodiments some portion or the entire transceiver module may be included on the same integrated circuit as the radio processor .

Device may comprise an antenna system for transmitting and or receiving electrical signals. As shown the antenna system may be coupled to the radio processor through the transceiver module . The antenna system may comprise or be implemented as one or more internal antennas and or external antennas.

Device may comprise a memory coupled to the radio processor . The memory may be implemented using one or more types of machine readable or computer readable media capable of storing data such as volatile memory or non volatile memory removable or non removable memory erasable or non erasable memory writeable or rewriteable memory etc. The memory may comprise for example flash memory and secure digital SD RAM. Although the memory may be shown as being separate from and external to the radio processor for purposes of illustration in various embodiments some portion or the entire memory may be included on the same integrated circuit as the radio processor .

Device may comprise a subscriber identity module SIM coupled to the radio processor . The SIM may comprise for example a removable or non removable smart card configured to encrypt voice and data transmissions and to store user specific data for allowing a voice or data communications network to identify and authenticate the user. The SIM also may store data such as personal settings specific to the user.

Device may comprise an I O interface coupled to the radio processor . The I O interface may comprise one or more I O devices to enable wired e.g. serial cable etc. and or wireless e.g. WiFi short range etc. communication between device and one or more external computer systems.

In various embodiments device may comprise location or position determination capabilities. Device may employ one or more location determination techniques including for example Global Positioning System GPS techniques Cell Global Identity CGI techniques CGI including timing advance TA techniques Enhanced Forward Link Trilateration EFLT techniques Time Difference of Arrival TDOA techniques Angle of Arrival AOA techniques Advanced Forward Link Trilateration AFLT techniques Observed Time Difference of Arrival OTDOA Enhanced Observed Time Difference EOTD techniques Assisted GPS AGPS techniques hybrid techniques e.g. GPS CGI AGPS CGI GPS AFTL or AGPS AFTL for CDMA networks GPS EOTD or AGPS EOTD for GSM GPRS networks GPS OTDOA or AGPS OTDOA for UMTS networks etc.

Device may be configured to operate in one or more location determination modes including for example a standalone mode a mobile station MS assisted mode and or a MS based mode. In a standalone mode such as a standalone GPS mode device may be configured to determine its position without receiving wireless navigation data from the network though it may receive certain types of position assist data such as almanac ephemeris and coarse data. In a standalone mode device may comprise a local location determination circuit e.g. a GPS receiver which may be integrated within housing configured to receive satellite data via an antenna and to calculate a position fix. Local location determination circuit may alternatively comprise a GPS receiver in a second housing separate from housing but in the vicinity of device and configured to communicate with device wirelessly e.g. via a PAN such as Bluetooth . When operating in an MS assisted mode or an MS based mode however device may be configured to communicate over a radio access network e.g. UMTS radio access network with a remote computer e.g. a location determination entity PDE a location proxy server LPS and or a mobile positioning center MPC etc. . Remote computer may in alternative embodiments comprise any server computer used for any of a variety of functions e.g. a shared scaleable computing resource such as a cloud computing environment or one or more other server computers .

In an MS assisted mode such as an MS assisted AGPS mode the remote computer may be configured to determine the position of the mobile computing device and provide wireless data comprising a position fix. In an MS based mode such as an MS based AGPS mode device may be configured to determine its position using acquisition data or other wireless data from the remote computer . The acquisition data may be provided periodically. In various implementations device and the remote computer may be configured to communicate according to a suitable MS PDE protocol e.g. MS LPS or MS MPC protocol such as the TIA EIA standard IS 801 message protocol for MS assisted and MS based sessions in a CDMA radiotelephone system.

In various embodiments device may comprise dedicated hardware circuits or structures or a combination of dedicated hardware programmed with code to support location determination. For example the transceiver module and the antenna system may comprise GPS receiver or transceiver hardware and one or more associated antennas coupled to the radio processor to support location determination.

The host processor may comprise and or implement at least one LBS location based service application. In general the LBS application may comprise any type of client application executed by the host processor such as a GPS application configured to communicate location requests e.g. requests for position fixes and location responses. Examples of LBS applications include without limitation wireless 911 emergency services roadside assistance asset tracking fleet management friends and family locator services dating services and navigation services which may provide the user with maps directions routing traffic updates mass transit schedules information regarding local points of interest POI such as restaurants hotels landmarks and entertainment venues and other types of LBS services in accordance with the described embodiments.

The LBS application may be configured to send a location request in response to receiving input from device or from a source external to device . For example the user of device may interact with a data input device to command the LBS application to send a location request. The LBS application also may send a location request in response to receiving input from an external network element or computing device that is attempting to locate the user of device . In some cases the LBS application also may be configured to automatically periodically and or autonomously send location requests.

Although other applications may operate without regard to the location of device in various embodiments the LBS application may request and receive position information to enhance the functionality of one or more of the other applications. For example position information may be provided in conjunction with a messaging application to locate the sender or recipient of a message. Position information may be provided to a web browser application to generate directions to a location associated with a particular website. Positioning information may be provided to a personal management application to generate location based alerts and or directions to a meeting place.

The radio processor may be configured to receive location requests from an LBS API handler on host processor and may forward location responses to the LBS API handler for delivery to the LBS application through the LBS API. Radio processor may be configured to communicate securely over a network with remote computer e.g. PDE LPS or MPC configured to provide authentication and authorization services and or a variety of geo services. For example radio processor may be configured to communicate with a PDE configured to verify privacy for location requests allow authorized access to a location server and provide various location server services. Radio processor also may be configured to communicate with a PDE to request and receive geo service information. Examples of geo service information may include mapping information routing information geo coding and reverse geo coding information for addresses and coordinates POI information and so forth.

Radio processor may be configured to invoke a position fix by configuring a position engine and requesting a position fix. For example a position engine interface on radio processor may set configuration parameters that control the location determination process. Examples of configuration parameters may include without limitation location determination mode e.g. standalone MS assisted MS based actual or estimated number of position fixes e.g. single position fix series of position fixes request position assist data without a position fix time interval between position fixes Quality of Service QoS values optimization parameters e.g. optimized for speed accuracy or payload PDE address e.g. IP address and port number of LPS or MPC etc.

Radio processor also may set request response parameters to request and return various types of position information. Examples of request response parameters may include current location latitude longitude altitude heading vector information such as horizontal and vertical velocity sector based position location position fix method level of accuracy time offset position uncertainty device orientation client initialization and registration and so forth.

The radio processor may comprise or implement a position engine such as a GPS engine. In various embodiments the position engine may be configured to provide location determination capabilities for device . In some embodiments the position engine may be implemented as software operating in conjunction with hardware e.g. GPS receiver hardware allowing device to receive and process GPS satellites signals for location determination. In one embodiment the position engine may be implemented as a QUALCOMM gpsOne engine.

In various implementations the position engine may employ one or more location determination techniques such as GPS CGI CGI TA EFLT TDOA AOA AFLT OTDOA EOTD AGPS GPS AGPS hybrid techniques and so forth. The position engine also may be configured to operate in one or more location determination modes including a standalone mode an MS assisted mode and an MS based mode. The determined position information generated and or obtained by the position engine generally may comprise any type of information associated with the location of device . Examples of position information may include without limitation current location latitude longitude altitude heading information vector information such as horizontal and vertical velocity sector based position location position fix information position uncertainty device orientation and so forth.

In various embodiments device may be used in connection with a variety of applications that require determination of the location of device . Various navigation and mapping applications may be utilized to provide various types of data and information to users including driving directions map information point of interest POI information etc. One such application may be a family or friend buddy connect application which may be configured to determine that a mobile device arrives at or departs from a predetermined location or destination e.g. home work school friend s house shopping mall etc. and to generate a message and send the message to one or more other computing devices to notify the other devices that the first device has arrived or departed. The application may be configured to store message addresses e.g. phone numbers for text voice or MMS messages e mail addresses etc. for one or more other people in a family or buddy list and to further store one or more locations that will trigger the generation and sending of a message to the one or more other people s computing devices or on line accounts e.g. social networking account such as a Facebook account e mail account instant message account etc. . Such an application operates using periodic location data from location determination circuit in order to determine when the device has arrived at or near or departed from a predetermined location.

A location determining circuit or system such as location determining circuit see may periodically or continuously determine or track e.g. obtain request or determine a position fix update a location etc. the location of device at a standard rate or period e.g. every second twice per second etc. on a continuous ongoing basis. Utilizing a location determining system in such a manner however typically requires significant power. Should a device rely on a power source such as a battery e.g. as in the case with typical mobile phones smart phones and other mobile devices the available usage time of the device may be significantly decreased because of the power requirements of the location determining system.

Referring now to a flowchart of a method of disabling continuous location tracking during travel to a destination will be described. The operations described may be operable on mobile device a remote server e.g. a shared scaleable computing resource such as a cloud computing environment or one or more other server computers or partially operable on both device and remote server . The operations described in maybe performed in any order at the same time as other operations are performed etc. One or more of the operations may be implemented apart from others of the operations in various embodiments.

At block processing circuit is configured to determine or identify a location such as one or more destinations including waypoints or other locations of interest. Destinations may comprise location data such as latitude longitude and or altitude data or data using other coordinate or reference systems such as wireless access point identifiers and may further comprise a textual or alphanumeric destination name. Processing circuit may be configured to receive the location or locations from a user e.g. via user input device from one or more applications operating on circuit such as a friend finder application family connect application configured to share location data among family members or other friend or buddy lists from a remote server coupled to the Internet e.g. from a social networking site navigation or mapping system etc. or from other sources. In one embodiment processing circuit may be configured to operate a distinct software application or service configured to register or store locations as they are received and to retain a plurality of such locations.

At a block circuit is configured to calculate an estimated time to the destination. The calculation may be made using a local or remote route calculation algorithm such as one provided by GoogleMaps by Google Inc. Mountain View Calif. The estimated time to destination may take into consideration a variety of factors such as traffic road construction projects historical data from device or other devices having previously travelled part or all of the route etc. At a block circuit is configured to detect that device has begun moving toward the destination for example by enabling a location tracking circuit which continuously generates location data and determining when the tracked location has changed greater than a predetermined distance. If device has not yet begun movement the algorithm returns for processing other functions block .

At a block continuous location tracking is disabled. The disable step may occur at or a short time after circuit determines device has begun moving or begun moving toward the destination or along a route calculated in block . The disabling of continuous location tracking may be turning a GPS tracking function off which may save power consumed by location determination circuit . The disabling of continuous location tracking may be simply leaving a GPS tracking function off if the GPS tracking function is already off.

At block circuit is configured to calculate a delay time which will represent the time period that GPS tracking will be disabled before being enabled. In one embodiment the delay time may be set to approximately equal the estimated time to destination. In alternative embodiments the delay time may be less than or greater than the estimated time to destination. For example the delay time may be set to a fraction of the estimated time to destination e.g. ths s etc. to allow for variations in actual travel time relative to the calculated estimated time to destination.

At block circuit is configured to determine whether the estimated time has expired. If not the algorithm returns for processing other functions block . If so continuous location tracking is enabled or re enabled block . The process may be repeated if device is not yet at or near the destination.

To determine whether device is at or near the destination a current location of device is compared to the destination location. For example a current cellular base station ID detected by radio processor may be compared to a cellular base station ID associated with the destination. As another example a latitude longitude generated by location determination circuit may be compared to a latitude longitude of the destination location to determine if the two values are within a predetermined distance of each other e.g. less than about 10 meters less than about 100 meters less than about 1 mile etc. . If a match is identified a notification message is generated e.g. by creating a text message instant message Short Message Service SMS message HyperText Markup Language HTML message phone call e mail message paging message or other message or alert . Device may then be configured to send the message over a wireless communication link.

According to one exemplary embodiment circuit may be configured to operate a family connect application friend finder application or other application configured to share location data among a plurality of mobile devices. In this embodiment circuit may be configured in response to determining the device is at or near a destination to generate a wireless message address the wireless message to another computing device and or transmit the wireless message to the other computing device using the wireless transceiver . For example a parent may wish to know when their child is approaching a school friend s house park or other intended destination of the child. Device may be carried by the child and be configured to store a location associated with the destination. When the device comes within range of the destination the message is sent from device to a parent s device e.g. home computer laptop mobile device etc. .

The algorithm of may be used for waypoints as one example of destinations or for exits turns intersections or other features of a route. For example if device is on a freeway and the exit per the calculated route is not coming up for 30 minutes device could turn off continuous location tracking for about 30 minutes and preserve some battery life.

According to another embodiment processing circuit may be configured to operate a distinct software application or service configured to register or store locations as they are received and to retain a plurality of such locations in memory. Different applications services internal process on host processor or modem processor etc. can register locations they are interested in with the distinct software application. Circuit may be configured to operate the distinct application to periodically monitor the user s current location and calculate the time needed to reach all of the locations registered by the applications. The service will then set a timer that will expire a predetermined time before the shortest duration calculated. When the predetermined time expires the service will check the user s current location and if it is close to any of the locations registered the service will turn on GPS tracking. When GPS tracking determines that the user has reached the location tracking may be turned off the service may send a message to the application that registered the location and the application that registered the location may then take further action on the data such as generating a message alert etc. for the user or for other users.

Referring now to a flow diagram of a system and method of location tracking or polling will be described. One exemplary location based application is an application configured to send a notification or reminder when a mobile device is near a particular location of interest such as a grocery store electronic store laundromat etc. Another exemplary location based application is an application configured to determine when a mobile device is at or near a destination or other location of interest and to send a message to another computing device notifying the other computing device that the first computing device has arrived at the destination. In these or other location based applications continuous location polling or tracking may be used but this polling consumes energy. Dynamic polling may be based on the speed which device is moving and a distance between the intended location and current location. For example if a user is 50 miles away from an intended location device may poll every 20 minutes. If device knows the velocity then this duration may be calibrated even more. When a user is 10 miles away from a location the periodic time may be decreased for polling to 5 minutes. After 5 minutes the time may be reduced to 1 minute etc.

Loop is configured to store wireless access point information after arrival at the predetermined location. Storage of this information may improve future operations of loop .

Referring now to a more detailed flow diagram of the flow diagram of will be described. At block the processing circuit of device is configured to determine or establish a current position which may be done using any of the positioning techniques described herein. At block circuit is configured to determine one or more closest locations or points of interest from a database stored on device or remotely. The database may be populated with predetermined locations by receiving input data from a user input device by receiving input data from an application operating on a server computer accessible via the Internet from data received from other applications operating on device etc. The predetermined locations may further comprise identifiers of one or more wireless access points at near in the vicinity of or otherwise associated with the locations e.g. a cellular base station ID a wi fi router ID etc. . The closest interested point from the database may be calculated by generating a distance from the current position from block to each of the interested points in the database sorting by shortest distance and selecting the shortest distance.

At block a velocity of device is determined which may be calculated from two or more position fixes divided by the time between the position fixes which may be consecutive points. At block an estimated or predicted time of arrival or travel time to the selected point of interest may be calculated based on the determined velocity which may be repeated several times over the course of a trip . Further a delay time may be calculated based on the expected travel time. The delay time may be equal to the expected travel time or may be less than the expected travel time e.g. 90 of the travel time 80 of the travel time etc. in order to allow for changes or variations in travel speed expected stops missed turns etc.

Continuous location tracking may be disabled at any point before or after steps or in order to conserve battery power. For example continuous GPS tracking or polling typically occurs on the order of every second to every few seconds. This continuous tracking may be disabled so that a next GPS position calculation is instead made at a calculated time much greater than every few second such as multiple minutes or longer and preferably the time for a next GPS position calculation may be calculated instead of being periodic. At block if the determined polling time has elapsed at a block circuit is configured to calculate a new position fix and determine whether device is within a predetermined distance of the location of interest. If not processing returns to block . If so processing continues with block . The predetermined distance may be determined based on one or more criteria such as a preset distance selected by a user the system as designed by the manufacturer or an enterprise IT manager a size of the point of interest population density around the point of interest or new location wi fi access point IDs in the area of the point of interest or new location a distance that a cell tower covers a type of interested point e.g. school office laundromat coffee shop airport etc. etc.

Referring to loop at a block the application may be programmed to subscribe for wireless access point ID changes. In this way the application will be notified when there is a new cell or wi fi ID being detected such as by the radio processor . This can be achieved in a number of ways. For example device may operate a polling process which runs a collector algorithm which will check the cell and wi fi signals received by radio processor on a periodic basis and will inform the listener polling process if the current collection is different from last collected cell wi fi IDs. As another example device may operate a subscription process in which device supports notification based subscription for cell wi fi whenever there is a cell or wi fi change device will notify the listener for that change. The subscription may be for one process on device to subscribe to another process on device .

At a block circuit is configured to receive an indication of a new next or updated wireless access point identifier received by the wireless transceiver. At block circuit is configured to determine whether the new wireless access point identifier matches one of the plurality of stored wireless access point identifiers associated with a predetermined location. If no match is found processing returns to block . If a match is found both loops may be stopped block optional and an action may be performed block such as the generation of a notification message based on the new wireless access point identifier matching one of the stored wireless access point identifiers. The notification message may be in the form of an alert or alarm on device audible visual and or tactile an SMS being sent to a pre stored destination address and e mail sent etc. For example a textual message e.g. alpha numeric alphanumeric etc. may be presented to a user via display on device .

In loop at a block wi fi access point s and or cell tower IDs may be stored upon after or during arrival of device at one of the predetermined locations. The IDs may confirm pre existing IDs in the database or may be new IDs stored in association with the predetermined location to update the ID data associated with the location. At a block the application is configured to determine whether it is subscribed for additional cell wi fi changes for example as described above with reference to block . If so processing continues at block to determine whether there are any new cell wi fi changes e.g. since last stored and received at block . If so block indicates that such new cell wi fi IDs are stored for only a predetermined period of time after arrival at the destination after which new cell and or wi fi IDs are no longer stored block . If the predetermined period of time has not passed the application continues to update the plurality of wireless access points associated with the predetermined location block .

As with the distance of block the amount of time of block may similarly be based on the size of the interested point population density etc. For example assume the intended location is a school so the area for the school is big. Chances are that many times we will see different cell wi fi IDs in that area depending on which cell and wi fi access points the device is using or seeing at that moment. So if we store the cell wi fi access points for say 5 minutes after reaching the school the chances are that next time even if the device is using or seeing a different cell or wi fi access point circuit will still consider the location to be a match with the school.

As another example assume the destination is a shopping mall. In this case chances are there will be many entrances for the mall. A user can come to this destination from different directions. So if device collects the cell and wi fi IDs for say 15 min 30 minutes or an hour then chances are we will capture most of the cell and wi fi IDs in that area. Therefore even if a user takes a different entrance next time we will be able to find a match in loop . Loop further provides a heuristic or learning aspect in that the determination of a match block will improve with more trips to the destination. Even if loop detects the location block instead of loop block device will still execute loop so that next time loop will report a location match as well and perhaps sooner.

Returning to block if device is not subscribed to cell wi fi changes or not receiving them at the time processing may continue at block to calculate a next time interval to poll for cell wi fi changes. At block if polling time has elapsed processing continues at block . Blocks and may provide a database that will be used at block even when subscription to cell and wi fi is not possible. For example cell and wi fi points may be polled at specific intervals of time e.g. every 15 sec. and this polling will stop when processing arrives at block . In other words the time in block can be a fixed interval 15 sec at which device will collect the cell and wi fi information and pass it to block for processing.

According to one exemplary embodiment a memory of device may be configured to store a plurality of locations of interest each location of interest comprising a plurality of wireless access point identifiers associated therewith. A processing circuit may be configured to determine whether the new wireless access point matches a wireless access point identifier of any of the plurality of locations of interest.

Various embodiments disclosed herein may include or be implemented in connection with computer readable media configured to store machine executable instructions therein and or one or more modules circuits units or other elements that may comprise analog and or digital circuit components configured arranged or programmed to perform one or more of the operations recited herein. For example a processing circuit may comprise one or more circuits integrated circuits processors components etc. which may be mounted on a single board or on a plurality of circuit boards within a single housing or in multiple housings. By way of example computer readable media may include RAM ROM CD ROM or other optical disk storage magnetic disk storage or any other non transitory medium capable of storing and providing access to desired machine executable instructions. Blocks in the flowcharts may be performed in any order and one or more blocks may be omitted from various embodiments.

While the detailed drawings specific examples and particular formulations given describe exemplary embodiments they serve the purpose of illustration only. The hardware and software configurations shown and described may differ depending on the chosen performance characteristics and physical characteristics of the computing devices. The systems shown and described are not limited to the precise details and conditions disclosed. Furthermore other substitutions modifications changes and omissions may be made in the design operating conditions and arrangement of the exemplary embodiments without departing from the scope of the present disclosure as expressed in the appended claims.

