---

title: Video content protection
abstract: A method includes receiving, by a client device associated with a particular user, product details for video content including a purchase option identifier (ID) for the video content from a video service provider. The method includes requesting, by the client device based on a single sign on (SSO) protected call, a playback uniform resource locator (URL) for the video content from an orchestration layer associated with the video service provider. The method also includes receiving the playback URL, an entitlement ID associated with the particular user for the video content, and the encrypted content. The method includes obtaining a digital rights management (DRM) license for the encrypted content based on the entitlement ID, and decrypting and playing the video content based on DRM rules associated with the video content.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09258584&OS=09258584&RS=09258584
owner: VERIZON PATENT AND LICENSING INC.
number: 09258584
owner_city: Basking Ridge
owner_country: US
publication_date: 20131122
---
Video service providers currently provide multiple services and programs including cable television network television and video on demand content to their customers. Video service providers manage relationships with their customers using customer accounts that correspond to the multiple services. Individual customers may receive combinations of these services from video service providers based on particular rights to content associated with the customers.

The following detailed description refers to the accompanying drawings. The same reference numbers in different drawings may identify the same or similar elements. Also the following detailed description is exemplary and explanatory only and is not restrictive of the invention as claimed.

Systems and or methods described herein may implement video content protection based on DRM for video content and entitlement protection that ensures that only authorized devices associated with entitled end users receive a license to view or otherwise access the video content. The systems may ensure that the end users that have been identified as entitled to the content. For example registration based or single sign on SSO based protections may be implemented to ensure that a license to view the video content is distributed to only those persons who have the right to play the content. Additionally limited duration i.e. short lived entitlement tokens may be implemented to enforce the entitlement process.

Consistent with embodiments the system may track the number of simultaneous streams of each user account in accessing the video content. The system may apply restrictions provided by the content provider e.g. a studio and or other DRM rules in limiting the total number streams that a user can watch at the same time.

As used herein the terms user consumer subscriber and or customer may be used interchangeably. Also the terms user consumer subscriber and or customer are intended to be broadly interpreted to include a user device or a user of a user device.

Video content system may collect generate and provide video content to subscribers recipients of a video service. Video content may include for example encoded video content in any of a variety of formats including for example Multiview Video Coding MVC Moving Picture Experts Group MPEG 2 TS MPEG 4 advanced video coding AVC H.264. Video content system may include different video content sources such as a content provider a marketing console or physical assets e.g. digital video discs DVDs etc. which may provide video content to be processed and distributed to subscribers and a content processing system which may process the content to be provided to subscribers.

Content provider may include one or more providers of video content. For example content provider may include a movie studio a television network a cable television station a film distributor etc. Content provider may provide video content to content processing system in a variety of signals and formats such as a baseband video signal MPEG video etc.

Content processing system may store and process video content received from content providers and or other content sources . Content processing system may include devices that process the video content such as a preprocessing server a transcoding server and an encryption server . Content processing system may aggregate video content from different content providers and distribute the video content through networks such as content delivery network to client devices .

Preprocessing server may convert input video content into a standardized format according to the content process engine s requirement. Preprocessing server may merge digital assets from content providers and physical asset from partner entities. Preprocessing server may also allow a video service provider to apply business rules via marketing console e.g. product descriptions price etc. .

Transcoding server may convert video content into proper formats for different types of client devices i.e. consumer devices to access and or play. The output files may be single files per video content item e.g. a large video file for a movie or a series of small segment files for streaming. The segment files may have different resolution to enable different bit rate video streams to be delivered to client devices according to available network bandwidth for adaptive streaming. In some instances transcoding server may support multiple different types of data files. Transcoding server may transcode assets into appropriate i.e. device compatible digital formats for client devices to consume. For example transcoding server may support hypertext transfer protocol HTTP live streaming HLS and Microsoft smooth streaming SS .

Encryption server may apply DRM rules to encrypt content so that only entitled users and authorized devices can consume the video content. For example encryption server may apply DRM rules associated with particular platforms through which the video content may be distributed. Encrypted content may be distributed through content delivery network or other channels e.g. via the Internet . Encrypted content may include protections so that the video content only be consumed by users who have decryption key stored in DRM license to watch the video content on designated devices which support the DRM protections. Encryption server may also encrypt data by DRM rules to enforce particular digital rights e.g. limited transferability of the video content limited copying limited views etc. . Encryption server may apply different DRM rules for different types of content e.g. different rules for HLS content and streaming content .

Content delivery network may deliver encrypted digital video content and images to client devices . Content delivery network may be distributed geographically per user demands in different locations. Content delivery network may be mapped according to user s Internet service provider ISP locations. Content delivery network may contain content distribution origin servers edge distribution servers and distribution appliances.

Orchestration layer may provide an interface from client devices to systems associated with a video service provider through orchestration layer application programming interfaces APIs . Orchestration layer may support interactions between client devices and servers associated with the video service provider. Orchestration layer may determine particular formats to be used according to the device type of the client device that requests plays or otherwise accesses the video content. Orchestration layer may also aggregate content from different servers per requests received from client devices . Orchestration layer may also cache some video content locally for performance purposes. In some instances orchestration layer may perform as a primarily passing though layer and may be configured to store video content only temporarily i.e. for a limited time and never permanently .

Orchestration layer may include or provide an interface with a DRM license server an entitlement server a catalog server a storefront server a transaction history server and an account profile server .

DRM license server may interact with content processing system to ensure video content items are encrypted according to DRM rules. DRM license server may issue validate and enforce the DRM licenses to client devices during content distribution. DRM license server may distribute DRM licenses which may include a content decryption key so that encrypted video content delivered from content delivery network may be unlocked for client device to play.

Entitlement server may store rules indicating particular video content purchased and client devices on which the user may view the video content in user profiles associated with particular users such as described below with respect to . Entitlement server may include an entitlement database that contains a list of video catalog items i.e. video content available for purchase rental or subscription. Entitlement server may ensure that the entitlement to view encrypted video content listed in the entitlement database is verified before a DRM license key is issued to authorized client devices associated with the particular users. Entitlement server may perform an entitlement check prior to orchestration layer issuing the content download Uniform resource locator URL from content delivery network so that only entitled users may access encrypted content.

Catalog server may include a unified video catalog of video of both digital and physical content that is available for users to buy rent or subscribe. Catalog server may allow the user to search the video catalog by keyword s or browse the product list. In some instances catalog server may also provide recommendations based on the user s profile viewing history or purchased content. Catalog server may also recommend physical assets based on the digital viewing history or personal preferences of the user.

Storefront server may support browsing functions and searching of the video content catalog. Storefront server may include a digital shopping cart transaction management promotions and advertisements. Storefront server may link to backend billing and transaction systems e.g. billing server .

Transaction history server may store a transaction history associated with each user and bookmarks associated with video content viewed by the users. Each user s transaction history may include subscriptions purchases and rentals. Transaction history server may also track a user viewing position and allow the user to view video content from a last position that the user has viewed on the same device or different devices. For example when the user starts to view particular video content transaction history server may provide a message with different options for the user to start the video e.g. from the beginning of the video content or where the video content was stopped the last time the user accessed the video content .

Account and profile server may store a digital user profile that includes information associated with related to or descriptive of the user s probable or observed video content activity. Account and profile server may also store a user login email partner customer number contact information and other user preference information in association with each user profile.

Backend services system may provide supporting systems that enhance and facilitate the video service. For example backend services system may include a billing server a settlement server a recommendation server a physical services server a customer support system etc.

Billing server may provide a billing API i.e. a billing gateway to payment and billing processing services. Billing server may manage the process by which a user is charged after he she buys rents or subscribes to a particular item in the video content catalog. In some instances billing server may bill for a subscription automatically each month. Billing server may synchronize billing results with the entitlement server . Billing server may provide billing services such as access to catalog prices and user profiles for recurring subscription charges and other purchase transactions.

Settlement server may provide finance and settlement between the video service provider and partner entities. Settlement server may implement cost assurance and revenue assurance. Settlement server may implement cost assurance to ensure that partners such as a studio that provides content are paid according to predetermined contracts. Settlement server may implement revenue assurance to ensure that consumers pay their bills according to their purchase rental or subscription agreement with the service provider.

Recommendation server may provide a recommendation engine for video content to be recommended to customers. For example recommendation server may recommend similar movies to a particular movie that is identified in association with a particular user. In some instances recommendation server may recommend a list of movies based on the user profile of a user.

Physical services server may include services that identify physical assets such as physical assets provided by a partner entity. Physical services server may include associated APIs and provide physical assets information such as location information that may allow the system to direct users to nearest or most convenient locations for accessing physical video content e.g. Blu ray DVD etc. . Physical services server may also issue credit for purchase rental etc. of physical video content in association with purchase of digital asset or subscription rental by the user e.g. for cross promotion purposes between partner entities .

Customer support system may manage customer support functions such as response to user feedback questions or credit related requests.

Client devices may include any device capable of communicating via a network such as content delivery network . For example client devices may include consumer devices such as smartphone devices Android mobile iOS mobile etc. tablets set top boxes Internet TV devices consumer electronics devices such as Xbox PlayStation and Internet enabled TVs. Client devices may include an interactive client interface such as a graphic user interface GUI . Client devices may enable user to view video content or interact with a mobile handset or a TV set.

Client devices may interact with video service provider systems to execute or carry out three main types of processes or functions. These main processes include a user authentication processes billing and payment processes and video content delivery and protection processes. User Authentication processes may include a login process user sessions for using authenticated API calls such as user profile access playback subscription contents etc. Billing and payment processes may include recurring subscription billing charge for rental or purchases payment settlement.

In implementations described herein the systems and methods may implement video content delivery and protection processes. The systems may provide entitlement management for devices and video DRM protections. The systems may ensure that content is delivered in a correct i.e. device appropriate format for different types of devices download or streaming and provide licenses to unlock content for client devices to play the video content.

While shows a particular number and arrangement of networks and or devices in practice environment may include additional networks devices fewer networks devices different networks devices or differently arranged networks devices than are shown in . For example content delivery network may be implemented as multiple devices.

Portion may be implemented to provide DRM and video content delivery and protection for video content provided by the service provider to a user associated with client device . Portion may be implemented to provide video content protection based on a combination of DRM that provides restrictions on conditions of access and types of usage of the video content and session based entitlement management that restricts the transfer of the video content license to particular end users and devices associated with the end users.

As shown in video content from a content provider may be provided to content processing system and processed and distributed to client devices . Processing of the video content may include pre processing encryption and transcoding as described hereinabove with respect to content processing system and . Content processing system may exchange secrets regarding the encryption of the video content and DRM rules associated with the video content with DRM license server . The DRM may protect the video content to an extent based on particular protections e.g. copy restrictions device restrictions . Content processing system may encrypt the video content as a first step for digital right management. Content processing system may transfer the encrypted content to content delivery network for distribution to client devices .

DRM license server may perform license management functions including specifying terms and conditions for access to video content by client devices associated with particular customer accounts. The license management may include content policy and rules based on transitions associated with the video content for the particular customer account such as purchase rental or trial. DRM license server may also manage key storage and distribution. DRM license server may receive device information from client devices . DRM license server may interact with content processing system and content delivery network in executing license management functions for client devices .

Licenses can have different rights such as start times and dates duration and counted operations. Licenses are not transferable. If a consumer sends video content i.e. a packaged digital media file from client device to another device e.g. a different video playing device associated with a friend the friend must acquire his her own license to play the digital media file. This device by device licensing scheme ensures that the packaged digital media file can only be played by the device that has been granted the license key.

Client device may include a client application and video content player. To play the digital media file the consumer may require a player that supports applicable DRM e.g. the player may support Playready or Secure Media DRM . The client application may download encrypted video from content delivery network and then retrieve a DRM license to access the encrypted video content from DRM license server . The client application may retrieve the encrypted video content from content delivery network . This may be a download or a streaming URL from content delivery network . Client device may check if the DRM license for the video content is available on client device for immediate playback of the video content. If the DRM license is already available video content player may proceed to the play content using the decryption key inside the license. Video content player may play the file or copy transfer etc. according to the rules or rights defined by the DRM license. Otherwise client application may get license from DRM license serve . The client device may be identified for example by SSO authentication that ties identity and entitlement to the particular client device . The processes link the DRM with entitlement based on SSO authentication so that only entitled persons can view the video content in designated client devices .

Bus may permit communication among the components of device . Processor may include one or more processors or microprocessors that interpret and execute instructions. In other implementations processor may be implemented as or include one or more application specific integrated circuits ASICs field programmable gate arrays FPGAs or the like.

Memory may include a random access memory RAM or another type of dynamic storage device that stores information and instructions for execution by processor a read only memory ROM or another type of static storage device that stores static information and instructions for the processor and or some other type of magnetic or optical recording medium and its corresponding drive for storing information and or instructions.

Input device may include a device that permits an operator to input information to device such as a keyboard a keypad a mouse a pen a microphone one or more biometric mechanisms and the like. Output device may include a device that outputs information to the operator such as a display a speaker etc.

Communication interface may include a transceiver that enables device to communicate with other devices and or systems. For example communication interface may include mechanisms for communicating with other devices such as other devices of environment .

As described herein device may perform certain operations in response to processor executing software instructions contained in a computer readable medium such as memory . A computer readable medium may be defined as a non transitory memory device. A memory device may include space within a single physical memory device or spread across multiple physical memory devices. The software instructions may be read into memory from another computer readable medium or from another device via communication interface . The software instructions contained in memory may cause processor to perform processes described herein. Alternatively hardwired circuitry may be used in place of or in combination with software instructions to implement processes described herein. Thus implementations described herein are not limited to any specific combination of hardware circuitry and software.

Although shows example components of device in other implementations device may include fewer components different components differently arranged components or additional components than depicted in . Alternatively or additionally one or more components of device may perform one or more other tasks described as being performed by one or more other components of device .

Product detail logic playback logic and DRM logic may implement application data flows on client device for playing video content in a secure manner based on the identity of the user the particular client device i.e. an identifier for the client device and DRM restrictions associated with the video content for the user via processes executed on client device and interactions on the client side such as shown in .

Product detail logic may request detail information for video content items from orchestration layer in response to input provided by an end user. For example store front server may provide access via an API to a video content catalog in a browser displayed in a graphical user interface GUI of client device . The end user may browse to a display page for video content information e.g. a client device may display a listing of movies based on a user initiated search recommendations etc. . The user may select a particular video content item to receive additional details. Product detail logic may send a request to orchestration layer for video content information e.g. movie detail information based on an identifier associated with the video content item e.g. an identifier named GetProductDetailsByProductID . In response to receiving the request including GetProductDetailsByProductID orchestration layer may provide the requested information and product detail logic may return and display a detail page that includes video content details such as a description trailer and recommendation. Product detail logic may also retrieve a purchase option identifier PurchaseOptionID which may be used to access a play back URL.

Playback logic may retrieve the playback URL from orchestration layer in response to input provided by the end user to begin playing the video content. Playback logic may initiate a call or implement a command that retrieves the playback URL Get Playback URL based on input provided by the user that identifies the specific user and client device . The call between playback logic may be protected based on session based user authorization e.g. the call may be SSO protected by user login and password . Playback logic may transmit request parameters in the call that include a partner customer number PCN for that identifies to the partner the user a purchase option ID that identifies the selected video content that the user wants to view a Device ID for the playing client device a device specification for video format profile and a video delivery type i.e. whether the video content is to be delivered and viewed by single download or by streaming to the client device .

If the call is successful playback logic may receive a message that includes required playback information from orchestration layer . The playback information may include fields such as a CDN i.e. content delivery network URL for the streaming download URL from content delivery network a video position indicator to identify where the user stopped watching last time if any by default it is the beginning of the movie Progress Watch Indicator an entitlement ID e.g. a value EntitlementID which is a value that client device must present if the user is entitled to watch the movie and is required to pass in subsequent DRM license request call short lived entitlement token a token that is valid for a limited duration for entitlement check during license request and a playback location indicator that indicates the playback location for starting the video content and is reported to orchestration layer .

DRM logic may implement the remaining steps for access to the video content. The remaining steps for access to the video content may be determined based on a type of DRM used to encrypt and protect the video content. For example DRM logic may implement DRM based on a DRM associated with different platforms DRM providers or processes such as described with respect to or below.

In addition to the DRM protection provided in association with DRM license server entitlement logic may provide additional protection by application session control.

Entitlement logic may associate video content items in the entitlement database that correspond to media files in the video content catalog to a user s profile to enforce what content a user has the right to view and on which device s . For example if the user bought the movie Super Duper Heroes then entitlement logic may allow the user to view the purchased movie on an identified particular client device .

A transaction history for each user stored or provided by transaction history server is linked to user profile so that entitlement logic may verify user payment record before issuing playback license for user to play particular video content.

As shown in application call flow may begin when client device requests a playback URL Get playback URL block . DRM logic may check if client device is activated by communicating with orchestration layer Get Devices API . If client device is not activated DRM logic may call orchestration layer and request activation of client device . Orchestration layer may activate client device via an associated API Activate Device API block . Orchestration layer will store device information in an associated database table entitlement server . The device information may include device ID partner customer number for user.

DRM logic may DRM register client device with a DRM management entity associated with the service provider by calling a designated DRM registration entity via an API provided for contacting the DRM registration entity block . The API may trigger a DRM server call to a URL associated with a DRM management entity associated with a partner entity for physical video content that provides access to the video content e.g. the URL may identify the partner entity and a type of service offered e.g. https api.partnerentitydownload.com drms drmservice in which partnerentity indicates a particular partner entity and drmservice indicates the type of DRM service .

DRM logic may include application data required for registration in the DRM server call to the URL associated with the DRM management entity DRM logic may attach app data that includes an app data identifier a partner customer number and a device ID formatted in a similar format as 

The API will verify with orchestration layer to verify that client device has previously been registered in orchestration layer i.e. DRM license server otherwise this registration will fail i.e. orchestration layer may identify that the client device is not registered and provide notification to client device .

DRM logic may retrieve a playback location GetPlaybackLocation block and session shifting e.g. from a previous viewing session at another client device associated with the user to where the video content stopped last time. Client application may store this location so that video content player may start play from this location.

DRM logic may instruct video player to play the video content block for example by streaming through a secure API. The URL for transmitting e.g. streaming or download the video content may have been received in response to the command GetPlaybackURL described at block .

Video content may send a start position and session shifting location which may be zero by default to the streaming server with app data formatted in a similar manner as 

in which deviceId indicates a device indicator for the particular client device and component ID indicates a particular component.

DRM logic may provide app data that may be used in obtaining the playback licenses before playback can start block . DRM license server may verify device ID and user data e.g. PartnerCustomerNumber with entitlement server to make sure that the user is entitled to the DRM license on the client device and that DRM license server is to grant the DRM license to the requesting client device .

Video content player may add playback events to data transmitted to orchestration layer . Playback events are indicators of particular activity of the user or client device towards the video content. For example DRM logic may send an indicator at predetermined intervals e.g. every 60 seconds that the video content is playing. Video content player may add playback events for video content player commands including stop fast forward rewind return pause etc. Video content player may also send call session shifting API to orchestration layer to ensure tracking for session shifting.

As shown in application call flow may begin when DRM logic i.e. client device via video content player initiates video playing of video content by requesting the video content GetPlaybackURL from orchestration layer . Orchestration layer may return entitlement data for the user and client device return such as an entitlement ID a component ID and an entitlement token.

Client device may send a request to obtain DRM licenses for the video content through orchestration layer acquire DRM license . The video content player may pass required information to acquire the DRM license such as PCN EntilementID ComponentID and EntilementToken as customer data or app data to orchestration layer . Orchestration layer may verify a session cookie associated with the user on client device i.e. an identifier that enables the orchestration layer to keep track of user activity to make sure user is in session. Orchestration layer may also verify that PCN was passed with the PCN in session. Orchestration layer may then pass the required entitlement information PCN EntilementID ComponentID and EntilementToken e.g. via proxy call from client device to DRM license server .

DRM license server may receive the entitlement information via the proxy call from orchestration layer . DRM license server may validate the entitlement information received in the proxy call from orchestration layer and issue a DRM license through orchestration layer return license to client device . DRM logic may receive the DRM license and allow playback on client device .

According to one embodiment DRM license server may be behind the orchestration layer from the perspective of the client device and in a private network which is not exposed to the Internet. Any non web client s license call is required to go through orchestration layer first and is therefore required to be authorized by a SSO or other session based user authorization mechanism and then relayed to DRM license server . For the web client the license call may go through a server associated with a partner entity e.g. a physical video content providing partner and may receive SSO protection after which the partner entity server may relay the call to orchestration layer . Orchestration layer may send the call to DRM license server .

At block client device may request video content details including a purchase option ID. For example client device may request the movie details in response to user input while browsing items in a portion of video content catalog displayed in a GUI of client device . The video content details may include a description trailer recommendation etc.

Client device may request a playback URL for the video content block . For example client device may place an SSO protected call to orchestration layer . The SSO protected call may be protected by user login and password. The request parameters of the call may include PCN for the user purchase option ID for the video content device ID for the client device device specification for video format profile and video delivery type download or streaming .

Client device may receive the playback URL e.g. a content delivery network URL for the video content a progress watch indicator and an entitlement ID block . Client device may retrieve the encrypted content from the playback URL block . For example client device may stream or download the encrypted content.

Client device may obtain DRM licenses through orchestration layer based on DRM associated with the encrypted content and session based user authorization of the user on the client device block . For example client device may carry the user credential or session cookie to acquire the license and entitlement sever may authorize the request. Session based user authorization in this instance may be implemented using for example SSO.

At block client device may decrypt the encrypted video content and play the video content based on DRM rules associated with the video content. Client device may report a position in the video content to orchestration layer .

Systems and or methods described herein may provide protection for video content based on DRM rules associated with the video content and session based user authorization mechanism for a user that is entitled to access the video content.

In the preceding specification various preferred embodiments have been described with reference to the accompanying drawings. It will however be evident that various modifications and changes may be made thereto and additional embodiments may be implemented without departing from the broader scope of the invention as set forth in the claims that follow. The specification and drawings are accordingly to be regarded in an illustrative rather than restrictive sense. For example while series of blocks have been described with respect to the order of the blocks may be modified in other implementations. Further non dependent blocks may be performed in parallel.

It will be apparent that systems and or methods as described above may be implemented in many different forms of software firmware and hardware in the implementations illustrated in the figures. The actual software code or specialized control hardware used to implement these systems and methods is not limiting of the embodiments. Thus the operation and behavior of the systems and methods were described without reference to the specific software code it being understood that software and control hardware can be designed to implement the systems and methods based on the description herein.

Further certain portions of the invention may be implemented as a component or system that performs one or more functions. These components systems may include hardware such as a processor an ASIC or a FPGA or a combination of hardware and software.

No element act or instruction used in the present application should be construed as critical or essential to the embodiments unless explicitly described as such. Also as used herein the articles a an and the are intended to include one or more items. Further the phrase based on is intended to mean based at least in part on unless explicitly stated otherwise.

