---

title: Method, system and device of location authentication
abstract: The present invention relates to a field of communication technology that provides a method, system and device of location authentication. The method comprises the following steps: the mobile device receives the signal marking the position information of the location base station sent by the location base station within the same region. The mobile device would obtain the position information of the location base station after analyzing the signal; the location base station would send the position information to the location authentication server to obtain the location authentication that it is in the same region with the location base station. Thus, this invention performs the location authentication of the mobile device staying in the same region with the location base station.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09622026&OS=09622026&RS=09622026
owner: STARBERRY LIMITED
number: 09622026
owner_city: Hong Kong
owner_country: CN
publication_date: 20130429
---
This application claims priority benefit of Chinese patent Serial Number CN 201210129060.4 by YU Wing Fung and CHIU Tsz Kiu Jason Felix entitled A METHOD SYSTEM AND DEVICE OF LOCATION AUTHENTICATION filed Apr. 27 2012 which is incorporated herein by reference.

The subject matter discussed in the background section should not be assumed to be prior art merely as a result of its mention in the background section. Similarly a problem mentioned in the background section or associated with the subject matter of the background section should not be assumed to have been previously recognized in the prior art. The subject matter in the background section merely represents different approaches which in and of themselves may also be inventions.

With the development of communication technology communication terminals are used in various applications which include navigations position trigger social networks position based commercials and products and services search. Most of these services utilize technologies such as GPS Global Positioning System or AGPS Assisted GPS to identify the current position of the communication terminal and hence the user using the communication terminal. The technologies that identify the current position provide a reasonable accuracy of the position of the user while the user is in the outdoor environments. However the signals used to locate the user would be severely interfered and blocked when the communication terminals are held indoors which may cause a failure to confirm the positions of communication terminals precisely. Further other communication technologies could be used to obtain the current position of the communication terminal.

However for indoor or outdoor environments surrounded by buildings GPS usually fails to provide a precise positioning because the satellite signal is weak. The buildings affect the satellite signal of the GPS. Moreover communication terminals may receive fewer than three satellite signals when there are many buildings crowded around the communication terminal. In this case GPS is unable to offer a favorable positioning signal. Therefore if user is indoors or between many buildings GPS would fail to provide the relevant information about the terminal position to determine a the terminals position or to accurately determine the terminals position.

Triangulation of Wi Fi Wireless Broadband signals provides a competitive technology of indoor positioning. Wi Fi signals are effective under normal circumstances and the installations of new devices may not be required for receiving the signals. On the other hand Wi Fi signals can make positioning mistakes as a result of the Wi Fi signals traveling through walls. Moreover the Wi Fi signal strength is a part of the iOS formerly iPhone OS the handheld operating system developed by the Apple Inc. private API Application Programming Interface which prevent iPhones from using their Wi Fi to determine the position of the iPhone. So the effect is not ideal. Also Wi Fi fails to perform location authentication of mobile device within the same region as the fixed device of the present invention.

To sum up the present location authentication within the same region has inconvenience and defects. Thus improvements may be desirable.

This specification relates to a method system and device of location authentication. To overcome the above mentioned defects a method and system is provided for device of location authentication to perform location authentication of a mobile device residing in the same region as the location base station of the location authentication system. Throughout this specification the terms location base station and sending end may be substituted one for another to obtain different embodiments. Similarly the terms receiving end and mobile device may be substituted one for another to obtain different embodiments.

In an embodiment one or more locations base stations are located in one or more regions. In an embodiment each region may only have one base station or a group of base stations that send a particular code representing that region. Each region may have a different base station or a different group of base stations. A mobile device receives the signal allowing the mobile device to identify where the mobile device is located and then the mobile device returns a location signal to the base station or group of base stations which allows the base station or group of base stations to determine that the mobile device is present in that region. In the case where there is only one base station per region and a different base station is located in each region the same code may be used to identify the base station and the region. Alternatively the base station may send a code identifying the region and another code identifying the location base station. Accordingly in this specification references to codes representing the location base station and the region or room or location may be substituted one for another throughout this specification.

In an embodiment a non audible signal is used for determining the position of a mobile device. By the definition in this patent application the non audible range is 25 Hz or less and 17000 Hz or more and in an embodiment the frequencies used for the sound signal are 16 Hz 25 Hz and 17000 22000 Hz. Since the non audible sounds may include low frequencies that are 25 Hz or less and other frequencies that are not usually considered ultrasound the specification uses the term non audible signals instead of ultra sound ultra sound normally refers to non audible sound in the higher frequency range such as around and beyond 20 000 Hz . Nonetheless in this specification ultra sound may be substituted for non audible to obtain specific embodiments.

The location base station and the mobile device are not required to communicate via non audible sound waves either direction of communication but another form of communication may be used instead for either or both directions of communication. For example the mobile device is not required to have a speaker for sending the non audible sound waves and the base station is not required to have a micro phone to listen to the mobile device. The ultrasound or other non audible sound communication may be a one way communication from the location base station to the mobile device. The other direction of communication may be another form of communication such as via electromagnetic waves e.g. radio waves microwaves infrared waves optical waves or another form of communication alternatively the other direction of communication may also be via non audible sound waves .

The idea of silence is another concept used in at least some embodiments disclosed in this specification for example in relationship to the concept of synchronized data transmission. Specifically using the concept of sending a series of 0 s and 1 s and sending one bit in a particular fixed period e.g. one bit per second using silence or another fixed frequency to represent zeros while using another fixed frequency e.g. 22 000 Hz to represent 1 s. The term silence refers to the electronic device not picking up a signal and does not refer to whether or not the human ear will hear the signal. Although as an example through this specification a low value is used to represent a 0 and a high value is used to represent a 1 other embodiments may be obtained by using the high value to represent a 0 and a low value to represent a 1 .

Authentication may be accomplished by sending values representing the location of the base station that are not static that is values that are changed every so often . In a one embodiment each location has a static value representing a room or other region into which the base stations sends a particular signal but another value is substituted for the static value which is revised every so often. For example a random number generator generates the substitute value for the value representing the room and each day a new random number is generated and substituted for the previous random number. An authentication server matches the location value received by the location base station from the mobile device with the current location value to check that the location value is current. If the location value is not current something is wrong and no service information is sent to the mobile device that was not authenticated the service information may be any information that the owners of the regions that are being serviced by the system would like to convey . In other words the location identification is time sensitive. If the mobile device uses an old location identification and tries to send a message indicating that the mobile device is now in a particular room after the authentication fails the location base stations rejects the information sent by the mobile device and do not send any service information.

For example a security guard may have recorded the position information of a room yesterday. Today the guard may modify the mobile phone and send the same location information to the central system saying that the guard is patrolling every room using yesterday s location information even though the guard is not present. The authentication procedure will detect that something is not right because the authentication information will not be authenticated.

Some examples of service information are promotional messages advertisement of a store located in the region of the base station passwords that employees may need to enter a facility or messages that an employer may want to convey to employees upon arriving at work or later during the day.

In an embodiment to locate and authenticate a mobile device a method of location authentication is provided having steps in accordance with the method that comprises 

the mobile device receives a signal having position information of a location base station sent by the location base station within the same region 

the mobile device obtains the position information of the location base station by at least analyzing the signal 

the mobile device sends the position information to a location authentication server to obtain a location authentication authenticating that the mobile device is in the same region with the location base station.

In accordance with the method as set forth above in an embodiment the step after the location base station sent the position information to the location authentication server to obtain the location authentication that the mobile device is in the same region with the location base station comprises 

In accordance with the method as set forth above in an embodiment the signals sent by the location base station marking the position information of the location base station are non audible sound signals 

the same region means within an effective range of the sound signals sent by the location base station. In this specification where ever the term marking is used the words providing or including may be substituted to obtain other embodiments.

In this specification although the hearing range of individual people may vary greatly non audible sounds are defined as any sound that is 25 Hz or less and any sound that is 17 000 Hz or more.

In accordance with the method as set forth above in an embodiment the same region is indoors or outdoors near one or more buildings or in building intensive environment e.g. in which GPS signals cannot be relied upon for giving accurate position information 

the location base station is a location base station installed in the same region as the mobile device 

the mobile device is a mobile phone or other mobile terminal. A building intensive area or a structure intensive area is an area in which there are so many structures that GPS cannot be relied upon. Any of the outdoor areas mentioned in this specification or indoor areas in at least one embodiment may be any area that has enough structures or other elements or properties that shield out or interfere with GPS signals that GPS cannot be relied upon or any other area in which GPS cannot be relied upon.

In accordance with the method as set forth above in an embodiment the mobile device receives the signal marking the position information of the location base station sent by the location base station within the same region the non audible sound signal is sent at a predefined first frequency or

the non audible sound signals are sent at a first set of frequencies corresponding to a predefined first set of multi bit information or

the non audible sound signal is sent in an alternating sequence which alternates between sending a signal and not sending a signal in which a predefined second set of frequencies is sent e.g. for a predetermined duration of time then no signal is sent for a predetermined duration to time and then a third set of frequencies is sent e.g. for a predetermined duration of time the predetermined durations of time may have the same or different lengths the non audible sound signal corresponds to the second set of multi bit information or

the non audible sound signal is sent by the third set of frequencies corresponding to the third set of multi bit information generated randomly the same region is a suite or a room indoors and or several areas between many buildings outdoors e.g. a region which does not receive reliable GPS signals .

In accordance with the method as set forth above in an embodiment the first frequency corresponds to a predefined first position coding the first position coding marks and or includes the position information within the same region 

the first set of multi bit information corresponds to the predefined second position coding the second position coding marks and or includes the position information within the same region 

the second set of multi bit information corresponds to the predefined third position coding the third position coding marks and or includes the position information within the same region 

the third set of multi bit information corresponds to the predefined fourth position coding the fourth position coding marks and or includes the position information within the same region.

In accordance with the method as set forth above in an embodiment the first position coding the first set of multi bit information the second set of multi bit information and the third set of multi bit information correspond to one unit of position information in the predefined query table of position information respectively 

after the mobile device analyzes the signal in the steps of obtaining the position information of the location base station the mobile device obtains the position information of the location base station via decoding the first set of frequencies the non audible sound signal being sent in an alternating sequence which alternates between sending a signal and not sending a signal in which the predefined second set of frequencies is sent for a predetermined period of time then no signal is sent for a predetermined duration of time and then a third set of frequencies is sent for a predetermined duration of time the predetermined periods of time may each have the same length of time or may be of different lengths of time obtaining a first set of multi bit information the second set of multi bit information and the third set of multi bit information by the third frequency and inquiring the position information corresponding to the first position coding the second position coding the third position coding the fourth position coding in the query table of position information by the mobile device respectively.

In accordance with the method as set forth above in an embodiment the query table of position information is stored in the mobile device or

the location authentication server the ranges of first frequency and first set of frequencies are 17000 Hz 22000 Hz and or 16 Hz 25 Hz.

In accordance with the method as set forth above in an embodiment in the steps of the mobile device sending the position information to the location authentication server to obtain the location authentication of the same region with the location base station the location authentication server is installed in the location base station the location base station verifies whether the mobile device is in the same region as the base station via the position information sent by the mobile device or

the location authentication server is at least one of the servers of the location base station the server verifies whether the mobile device is in the same region with the location base station via the position information sent by the location base station.

In accordance with the method as set forth above in an embodiment the location authentication server comprises more than one location authentication servers the one or more of the location authentication servers are installed in one or more location base stations the location authentication servers comprises at least one main server and at least one synchronization server the synchronization server synchronizes the query table of position information with the main server according to the predefined second time interval.

In accordance with the method as set forth above in an embodiment the location authentication server or the location authentication server installed in a location base station generates the third set of multi bit information generated randomly 

after the server randomly generates the third set of multi bit information the server transmits the third set of multi bit information to the location base station.

In accordance with the method as set forth above in an embodiment there is more than one location base station more than one third set of multi bit information the more than one third set of multi bit information corresponds to the more than one location base station respectively.

In accordance with the method as set forth above in an embodiment the several pieces of third set of multi bit information regenerate a new set of the third set of multi bit information randomly spaced by the first time interval.

In accordance with the method as set forth above in an embodiment the steps of the mobile device obtaining the service information provided by the location base station comprise 

In accordance with the method as set forth above in an embodiment the location base station is a device having a fixed location installed in the same region 

In accordance with the method as set forth above in an embodiment there are several location base stations within the same region 

the steps of the mobile device receiving the signal marking the position information of location base station sent by the location base station comprise 

the location base station sends the signals marking the position information of the location base stations respectively 

the mobile device receives the signals sent by the location base stations that the signals are above or equal to the predefined signal strength.

In accordance with the method as set forth above in an embodiment the predefined signal strength is dynamically set to double of the mean signal strength of signals received by the mobile device in the predefined period 

in steps of the mobile device receiving signals sent by the location base stations more than one location base station has signal strength above or equal to the predefined signal strength the mobile device receives the first signal from a location base station meeting the predefined signal strength 

when there is no location base station that has a signal strength above or equal to the predefined strength the mobile device receives the first transmitted signal sent by a location base station.

In accordance with the method as set forth above in an embodiment the signals marking the position information of location base station sent by the location base stations respectively are signals with same or different frequency.

a first signal transmitting receiving module which is installed in the location base station that sends a signal including position information of a location base station to a mobile device within the same region 

a second signal transmitting receiving module which is installed in the mobile device that receives the signal including the position information of the location base station sent by the first signal transmitting receiving module and sending the position information of the location base station to a position message validation module after the second signal transmitting receiving module which is in the mobile device obtained the position information of the location base station 

the position information obtaining module which is installed in the mobile device analyzes the signal and obtains the position information of the location base station 

a position message validation module is in the location authentication server that performs location authentication to determine whether the location base station is in the same region with the mobile device.

To elaborate a hacker may have various means to fool the location base station or mobile device and the hacker may cause the mobile device to send information indicating that the mobile device is in certain location even though the mobile device is not actual at that location . To guard against a mobile device being incorrectly identified as being in a location the mobile device and or the location base stations sends the position information of the mobile device to the authentication server. As mentioned above the communications sent from the mobile device back to the location base station or to the authentication server may be an electromagnetic signal rather than a the sound wave communication. If the mobile device is not in the location to receive the location information via a sound signal then the mobile device cannot send the current position information that includes the time sensitive random numbers and the authentication would fail the authentication. Consequently the position information is received by the mobile device is sent back to the location base station and or the authentication server to perform the authentication.

a service information module in the location base station that provides service information to the mobile device after the position message validation module verifies the mobile device is in the same region with the location base station.

In accordance with the system as set forth above in an embodiment the signal including the position information of the location base station sent by the location base station is a non audible sound signal 

In accordance with the system as set forth above in an embodiment the same region is indoors or near a building intensive outdoor environment e.g. in where reliable GPS signals do not reach 

In accordance with the system as set forth above in an embodiment the first signal transmitting receiving module comprises 

controls the first sound frequency generating transmitting sub module to generate the predefined first frequency or

determines a correspondence of the first set of multi bit information to the first set of frequencies or

determines a correspondence of the non audible sound signal which is sent in an alternating fashion alternating between period of time in which a signal is sent and periods of time in which no signal is sent in which a predefined second set of frequencies is sent for a predetermined period of time then no signal is sent for a predetermined period of time and then a third set of frequencies is sent for a predetermined period of time to the second set of multi bit information optionally the predetermined periods of time are all of the same lengths or of different lengths or

determines the correspondence of the third set of multi bit information generated randomly to the third set of frequencies or

the first sound frequency generating and transmitting sub module generates the first frequency according to the control of a first control sub module and sends the non audible sound signal by the predefined first frequency or

spacing the predefined second frequency and third frequency corresponding to the second set of multi bit information by the first time interval and sending in an alternating fashion in which the signal alternates between periods in which a signal is sent and periods in which no signals is sent the second set frequencies for a predetermined period of time then no signal for a predetermined period of time and the third set frequencies for a predetermined period of time the predetermined periods of time may be the same or different or

generating the third set of frequency and sending the non audible sound signal by the third set of frequencies 

the same region is a suite or a room indoors and or one or more areas between many buildings in outdoors.

In accordance with the system as set forth above in an embodiment the first frequency corresponds to the predefined first position coding the first position coding marks and or includes the position information within the same region 

the first set of multi bit information corresponds to the predefined second position coding the second position coding marks and or includes the position coding within the same region 

the second set of multi bit information corresponds to the predefined third position coding the third position coding marks and or includes the position coding within the same region 

the third set of multi bit information corresponds to the predefined fourth position coding the fourth position coding marks and or includes the position coding within the same region.

In accordance with the system as set forth above in an embodiment the first position coding the second position coding the third position coding and the fourth position coding correspond to one unit of position information in the predefined query table of position information respectively 

a decoding sub module that decodes the first set of frequencies the non audible sound signal optionally sent by the predefined second frequency and third frequency being spaced by a first time interval and obtaining a first set of multi bit information a second set of multi bit information and a third set of multi bit information by the third set of frequencies respectively and

a query sub module that queries the position information corresponding to the first position coding the second position coding the third position coding and the fourth position coding to obtain the position information of location base station.

In accordance with the system as set forth above in an embodiment the system also comprises a storing module that stores the query table of position information and the storing module being installed in the mobile device or

the ranges of the first frequency and the first set of frequencies are 17000 Hz 22000 Hz and or 16 Hz 25 Hz.

In accordance with the system as set forth above in an embodiment the position message validation module is installed in at least one of the servers of the location base station or in the location base station the position message validation module verifies whether the mobile device is in the same region with the location base station via the position information sent by the second signal transmitting receiving module.

In accordance with the system as set forth above in an embodiment the system also comprises several synchronization modules that are installed in several servers of location base stations respectively the servers comprise at least one main server and at least one synchronization server 

the synchronization module of the synchronization server synchronizes the query table of position information by the predefined second time interval with the synchronization module of main server.

a random number generating module e.g. a random number generator which is installed in the location authentication server or the location base station which generates the third set of multi bit information randomly 

a random number transmitting module which is installed in the server which transmits the third set of multi bit information to the first signal transmitting receiving module after the random number generating module is installed in the server the third set of multi bit information being randomly generated.

In accordance with the system as set forth above in an embodiment the random number generating module which is installed in the main server randomly generates several pieces of a third set of multi bit information the several pieces of third set of multi bit information correspond to several location base stations respectively.

In accordance with the system as set forth above in an embodiment the several pieces of third set of multi bit information are regenerated with time spacing intervals of the third time interval.

In accordance with the system as set forth above in an embodiment the service information module comprises 

In accordance with the system as set forth above in an embodiment there are several location base stations within the same region the first signal transmitting receiving modules of location base stations that are within the same region send the signal marking and or including the position information of the location base station respectively 

a signal processing module that filters the signals that are below the predefined strength standard e.g. a threshold sent by the location base stations 

calculates the mean signal strength the mean signal strength being the mean of the signals received in the predefined period of time and

The second signal transmitting receiving module receives the signals that are above or equal to the predefined signal strength filtered by the signal processing module.

In accordance with the system as set forth above in an embodiment the predefined signal strength which is set by the strength standard setting module is the double of the mean signal strength or above of the strength of the signals received by the mobile device in the predefined period 

the second signal transmitting receiving module receives the first signal the first signal meeting the predefined signal strength.

the signals marking and or including the position information of the location base station sent by the location base stations respectively are the same frequency or different frequencies or

when the signals that are sent by the first signal transmitting receiving modules of the location base stations are below the predefined strength standard the second signal transmitting receiving modules of mobile devices receive the first transmitted signal sent by the location base stations.

In accordance with any of the systems as set forth above in an embodiment the system comprises several mobile devices and several location base stations the location base stations are respectively installed in different regions.

In an embodiment the location base station is installed in one or more of several specific regions indoors and or near the building intensive outdoor environments such as in a suite or a room or one or more of several areas between buildings the location base station sends signals according to a predefined frequency or a predefined set of frequencies. After the mobile device that is in the same region as the location base station receives the signal the mobile device obtains the position information of the location base station and sends the position information to the location authentication server to obtain the location authentication of being in the same region with the location base station. Furthermore the mobile device obtains the service information provided by the location base station within the same region. The position information of the location base stations provided by this specification corresponds to the multi bit information the corresponding multi bit information controls the location base station sending related frequency signals the related frequency signals then enhance the security and accuracy of location authentication. The multi bit information may be generated randomly. In an embodiment the multi bit information optimizes the security and suitability of location authentication.

Any of the above embodiments may be used alone or together with one another in any combination. Inventions encompassed within this specification may also include embodiments that are only partially mentioned or alluded to or are not mentioned or alluded to at all in this brief summary or in the abstract.

Although various embodiments of the invention may have been motivated by various deficiencies with the prior art which may be discussed or alluded to in one or more places in the specification the embodiments of the invention do not necessarily address any of these deficiencies. In other words different embodiments of the invention may address different deficiencies that may be discussed in the specification. Some embodiments may only partially address some deficiencies or just one deficiency that may be discussed in the specification and some embodiments may not address any of these deficiencies.

To further understand the objective technologies and advantages of this invention followings are the drawings and embodiments to further explain this invention. It should be understood that the embodiments are for the illustrations of this invention only but not to limit this invention.

With respect to in an embodiment the location authentication system includes at least a location base station a mobile device location authentication server a first signal transmitting receiving module a second signal transmitting receiving module a position information obtaining module and a position message validation module .

The location base station is a base station that is used for transmitting the location of a region and then authenticate mobile devices that are in the region. Mobile device w is any mobile device such as a mobile phone laptop computer tablet computer and or any other mobile device. The mobile device is the mobile device whose position is being determined by location base station . Location authentication server authenticates mobile device . The first signal transmitting receiving module is installed in the location base station . The location base station uses the first signal transmitting receiving module for sending the signal carrying the position information of location base station to the mobile device within the same region as the location base station .

The second signal transmitting receiving module is installed in the mobile device . Mobile device uses the second signal transmitting receiving module for receiving the signal marking the position information of location base station sent by the first signal transmitting receiving module . Mobile device also uses the second signal transmitting receiving module for sending the position information of location base station to the position message validation module after the position information obtaining module obtained the position information of the location base station .

The position information obtaining module is installed in the mobile device . The mobile device uses the position information obtaining module for analyzing the signals and obtaining the position information of location base station .

The position message validation module is installed in the location authentication server . The location authentication server uses the position message validation module for accessing whether the mobile device is in the same region with the location base station .

In an embodiment the first signal transmitting receiving module which is installed in the location base station sends the signal marking the position information of location base station to the mobile device within the same region as the mobile device . After the second signal transmitting receiving module which is installed in the mobile device receives the signal the second signal transmitting receiving module obtains the position information of location base station by the position information obtaining module analyzing the signal. The second signal transmitting receiving module requests the position message validation module which is installed in the location authentication server to access and send the location authentication information. The position message validation module compares the position information sent by the second signal transmitting receiving module with the position information of location base station to determine whether the mobile device is in the same region as the location base station . The mobile device obtains the location authentication information associated with staying in the same region as the location base station . In an embodiment the signal marking the position information of location base station which was sent by the location base station is a non audible sound signal. The location base station and the mobile device are considered to be in the same region when the mobile device is within the effective region of the signals sent by the location base station so that mobile device can receive the signal sent by the location base station only while the within the range or within the effective region of the signal sent by the location base station . The region in which the location base stations is located is an indoors region or an outdoor region near a building intensive environment. The region in which the location base station is located is a suite or a room indoors such as a room or suite of a shopping mall an inn a ward in a hospital a lobby in a hospital or other type of building or another room in a hospital or other type of building . When the location base station is near building intensive outdoor environments the non audible sound signals can only be received in areas between many buildings. The non audible sound signals could be suitable in different areas having many buildings by adjusting the transmitting frequency of the non audible sound signals. For example the building intensive areas may be areas between two or more buildings that are more than 30 floors high. As the non audible sound signals often have less interference than an electromagnetic signal the position of the mobile device can be determined with a high degree of confidence as long as the mobile device is within the same region as the location base station . Specifically sound waves are not affected by electromagnetic waves present in a room such as are found near around a transformer power lines and or other electromagnetic devices. In an embodiment the non audible sound signal marking the position information of location base station is a low frequency radio signal. In an embodiment the position of the mobile device can be determined within indoors by adjusting the transmitting frequency of the low frequency radio signal according to the specific environment that is within the same region as the location base station . The second signal transmitting receiving module could also include a sound wave receiving device such as a microphone. In particular the non audible sound signal may include an ultrasound signal and or low frequency signal. In general the ultrasound signal is above 20000 Hz and the low frequency signal is 16 Hz 25 Hz.

With respect to in another embodiment of this invention the system of location authentication in addition to the elements of includes at least service information module recording sub module and sending sub module . Service information module is installed in the location base station . Location base station uses service information module for providing the service information to mobile device after the position message validation module verifies that the mobile device is within the same region as location base station .

In an embodiment the service information module installed in location base station provides the service information to the mobile device after the mobile device obtains the location authentication of position message validation module .

Specifically in an embodiment a service information module includes recording sub module and sending sub module .

Recording service information module uses sub module for recording the information of mobile device staying in the same region.

Alternatively recording service information module uses sending sub module for sending promotion information to mobile device or for sending security information to the mobile device where the security information is associated with the region of the location base station .

In particular recording sub module records the information of mobile device within the same region as a location base station . The region in which the location base stations transmit signals may include several different locations which may include different types of places such as in an arcade. Several location base stations each having a first signal transmitting receiving modules may be separately installed in different shops in the arcade. The specific position information of each location base station is different. When the users carry their mobile devices each having second signal transmitting receiving modules to a shop and obtains the information that indicates that a location base station is in the same region with the mobile device the recording sub module of location base station records the information and may send service information to mobile device . As a result users that are in the related shop receive the service information such as rewards points. System may also keep track of staff attendance in a company. For example when a staff carrying the mobile device arrives in the office having the location base station the recording sub module records the information of mobile device when mobile device is within the same region as the base stations . Instead of the staff manually clocking in and out the information of the mobile device is recorded for the convenience of the staff.

In an embodiment transmitting sub module of location base station may send promotion information to the mobile device . The promotion information could be the information about the products and or services of a shop. The promotion information may attract users to go to the shop and thereby increase the profits of the business. As another example of service information that may be sent the transmitting sub module may send security information to the mobile device . For example several location base stations could be installed in different wards in a hospital and doctors and nurses may carry mobile devices . When a doctor or a nurse is in front of the ward the mobile device receives the security information sent by the transmitting sub module within the same region after accessing the location authentication. The information could be a piece of 2D information 2 dimension information such as a latitude and longitude or and x and y coordinate indicating the location of the doctor or nurse. The doctor or the nurse could use the security information that was received to open the ward s door. Thus the security information may prevent other people from getting into the ward to disturb patients while the patients are resting and receiving treatment. The security information could also make it more convenient for the doctors and nurses to use the security information to get into wards.

With respect to in an embodiment in addition to the elements discussed in conjunction with the first signal transmitting receiving module includes first control sub module and first audible frequency generating transmitting sub module .

First signal transmitting receiving module uses first control sub module for controlling the first audible frequency generating transmitting sub module to generate the predefined first frequency.

Alternatively first signal transmitting receiving module uses first control sub module for controlling the first audible frequency generating transmitting sub module to generate the first set of frequencies corresponding to the first set of multi bit information.

Alternatively first signal transmitting receiving module uses first control sub module for controlling the first audible frequency generating transmitting sub module to generate the non audible sound signal sent in an alternating fashion alternating between sending and not sending a signal by sending the predefined second set of frequencies for a predetermined period of time then not sending any signal for a predetermined period of time and then sending a third set of frequencies for a predetermined period of time the predetermined periods of time may be the same or different in lengths of time . The non audible sound signal corresponds to the second set of multi bit information.

Alternatively first signal transmitting receiving module uses first control sub module for controlling the first audible frequency generating transmitting sub module to generate the third set of frequencies corresponding to the third set of multi bit information generated randomly.

First signal transmitting receiving module uses the first audible frequency generating transmitting sub module for generating the first frequency according to the control of first control sub module and sends the non audible sound signal by the predefined first frequency.

Alternatively first signal transmitting receiving module uses the first audible frequency generating transmitting sub module for generating the first set of frequencies and sending the first set frequencies.

Alternatively first signal transmitting receiving module uses the first audible frequency generating transmitting sub module for spacing the predefined second frequency and third frequency corresponding to the second set of multi bit information with the first time interval and sending in an alternating fashion alternating between sending and not sending a signal the second set of frequencies for a predetermined period of time not sending a signal for a predetermined period of time and the third set of frequencies for a predetermined period of time the predetermined periods of time may have the same or different lengths .

Alternatively first signal transmitting receiving module uses the first audible frequency generating transmitting sub module for generating the third set of frequencies and sending the non audible sound signal by the predefined third set of frequencies.

In the embodiment of the first control sub module controls the first audible frequency generating transmitting sub module to generate the first frequency which may be for example 20000 Hz. The first audible frequency generating transmitting sub module sends the non audible sound signal of the first frequency after generating the fixed non audible frequency. Alternatively the first control sub module controls the first audible frequency generating transmitting sub module to generate the first set of frequencies. The first set of frequencies corresponds to the first set of multi bit information which may be for example 100101. The first control sub module controls the non audible frequency time interval which could be set as the smallest time interval that could be recognized by the mobile device . If the smallest time interval is 50 Hz the mobile device could recognize the non audible frequencies of 20000 Hz and 20050 20000 50 Hz and distinguish the difference between 20000 Hz and 20050 Hz. If the non audible frequency time interval is 50 Hz assuming that the required coding information is 100101 the frequency range is 20000 Hz 20250 Hz and the stepped frequency time interval is 50 Hz then the signal sending module could send the acoustic signals that have the frequency values of 20000 Hz 20150 Hz 20250 Hz etc. which could be distinguished form one another. The relations between the corresponding multi bit units of the first set of multi bit information and the frequencies are shown in Table 1 

With respect to Table 1 the information uses 6 bits for coding. Each bit of information is at a frequency that is 50 Hz higher than the preceding bit. For example the first bit corresponds to frequency 20000 Hz. The next corresponds to frequency 20050 Hz . . . the next bit corresponds to frequency 20250 Hz. When a particular bit is a 1 a signal is sent at the frequency that represents that bit. When that same particular bit is a zero no signal is sent at the frequency representing that particular bit or worded differently silent signal is sent . In the embodiment of FIG. the first bit is a 1 and consequently the first bit is represented by an acoustic signal of frequency 20000 Hz. The second bit is a 0 and consequently does not send an acoustic signals of frequency 20050 Hz. In other words when the bit is a 1 the corresponding acoustic signal of that frequency is generated. However when the bit for a particular frequency is a 0 no acoustic signals are generated that correspond to the frequency that represent that bit.

In an embodiment the first control sub module controls the first audible frequency generating transmitting sub module to generate the second frequency and third frequency corresponding to the predefined second set of multi bit information spaced by the first time interval. In other words each bit is distinguished from the last bit according to the duration of time interval in which the signal is sent. For each duration of time one of two frequencies are sent e.g. 20000 Hz and 21000 Hz one of the two frequencies represents a 1 and the other represents a zero.

For example if the first control sub module controls the first audible frequency generating transmitting sub module the first audible frequency generating transmitting sub module may be configured to only send a high and a low frequency which may be the second frequency and the third frequency of the prior embodiment see table 1 such as 20000 Hz which may represent a 0 and 21000 Hz which may represent a 1 in a different embodiment a different pair of frequencies may be used . In an embodiment the signals used are not much higher than these signals for example when using the WAV standard the frequency of the two signals is kept significantly less than 44100 Hz for example 50 Hz less than 44100 Hz . The duration of the sound recorded which may be 21000 20000 0.001 s is recorded and the 2 frequencies may be distinguished by a Fast Fourier Transform FFT . Using a longer difference in durations of time that represent different bits could enhance the accuracy of decoding. For example a long duration difference such as 0.005 s could be used. Then the duration of the ultrasound information should be a multiple of 0.005 s. If the bit 1 has to be transmitted in each duration of time the frequency 21000 Hz should be sent. If the information 0 has to be transmitted the frequency 20000 Hz should be sent. For example if the information 0101 has to be transmitted the formula in the following Table 2 could be used 

In the embodiment of Table 2 one bit of information may be coded in 0.005 s and 256 bits of information may be coded in 1.28 s. As the ultrasound is unusual in the environment it is safe to represent the beginning and end of each piece of information with silence. The same information may be sent repeatedly or more information may be sent by inserting a space e.g. a duration of time in which no signal is sent or a signal representing a break between pieces of information is sent to divide each piece of information. For example if the duration is 1 to 2 s the information may be sent as according to Table 3 

To decode the information the mobile device calculates the frequency of receiving sound within a window that is 0.005 s wide by an FFT Fast Fourier transform and by examining whether the frequency of the strongest signal is close to 20000 Hz 21000 Hz or is silent or another frequency representing a break between pieces of information . For example consider the example of sending the 1010 assuming that the smartphone is decoding. Before the information begins the silent mode would last for 0.3 s. Then the procedures of coding and decoding would perform as and .

With respect to in an embodiment if the first control sub module controls the first audible frequency generating transmitting sub module to generate the third set of frequencies the third set of frequencies corresponds to the third set of multi bit information which may be generated randomly. The location authentication system includes at least random number generating module and random number transmitting module in addition to the elements discussed above and discussed in conjunction with .

Random number generating module is installed in the server of location base station or in the location base station server uses random number generating module for generating the third set of multi bit information randomly.

Random number transmitting module is installed in the server of location base station server uses random number transmitting module for transmitting the third set of multi bit information to the first signal transmitting receiving module after the server of location base station generated the third set of multi bit information.

The location base station shares the third set of multi bit information generated randomly with its server . The location base stations generate several pieces of the third set of multi bit information in several days respectively. The random number generating module installed in the server may also generate the several pieces of third set of multi bit information randomly the several pieces of third sets of multi bit information correspond to the location base stations respectively. The several pieces of third sets of multi bit information spaced by the predefined third time interval may be regenerated and or resent periodically. For example the several pieces of third sets of multi bit information may be regenerated daily. Thus in this example the position information of the location base stations are different every day which helps prevent an unauthorized mobile device from obtaining the location authentication code of being in the same region as the signal sending 1 without permission. One of the methods is shown in Table 4 

Table 4 assumes that the use of 40 bits of information. However another number of bits of information may be used such as the information of 60 or 20 multi bit. In Table 4 above each interval comprises a random number formed by 40 bits. To express the random number conveniently the binary bits are represented in base 10 in Table 4. The information could be sent by location base stations over the course of many days. The random number generations need a good source such as the server of location base station . Each number in each column of numbers of Table 4 are unique to ensure that the decoding and sending of these random numbers results in an unambiguous determination of the location. When generating a new random number server or location base station determines whether the random numbers are the same as the randomly generated numbers listed in each column within every interval. If a newly generated random number is a repeat of another random number listed in the same column another new random number is generated and used instead of the prior random number. If some random numbers are repeated but are in different rows the repetition is acceptable. Examination of rows to check for repeated random numbers is not necessary because in general the numbers within the same row will be different since the numbers are generated randomly. Optionally the system may also check that new randomly generated numbers are each different from the prior randomly generated numbers in the same row and or check that in each row the newly generated numbers are different from the last n generated numbers in the same row. To check for two random numbers being in use simultaneously server or location base station could examine all random numbers within the same column circularly. In other embodiment all random numbers that are currently in use are stored and each time one random number is updated with a new random number all of the other random numbers still in use are checked. When having more location base stations server or location base station could use a Hash Table to accelerate the generation of random numbers the Hash Table may be generated off line and stored.

To further elaborate on the use of hash tables using a base 10 hash table if random number is 6 digits the possible values range from 000000 to 999999. In order to check the value of a particular number a table of 999 999 entries of bits may be used. If the value of a particular bit is 1 it means that number has been used. A simple example of hash table only take the first 5 digits as the index or keys to the table meaning that the table having a size of 99 999 is used. As a result of using the first five digits as keys the hash table is 90 smaller than a table of every possible value. As a consequence of marking the used numbers if a random number such as 123 456 was used then that number e.g. 123 457 cannot be used a second time. As a trade off that only 99 999 possible random number can be used if the randomly chosen numbers have 6 digits. However when generating the code to check whether a number has been used the required table size for all possible values is less than if a hash table was not used. As a result of the smaller table the processor time required to process the table is less than for other types of tables.

Alternatively a binary tree search may be used in which all of the random numbers in use are placed into a tree. The first set of branches are all of the random numbers with the same first digit. Each of those branches has one branch for each random number with the same second branch. So using a binary hash table initially there would be two branches one for all the numbers with a leading 1 and one for all the numbers with a leading zero. Each of those branches is further divided into two branches one branch of all the numbers in that branch has the second digit that is a zero and one branch for all the random numbers in that branch for which the second digit has a value of 1 .

Lastly filters could be used to increase the efficiency of searching for random numbers in use. For example first all random numbers in use are filtered to remove all random numbers in use that do not have the same leading digit as the newly generated random number. The remaining random number are further filtered to remove all of the remaining random numbers in use that do not have the same second digit as the new generated random number. Similarly further filters are applied digit by digit until either there are no more random numbers in use to filter out indicating that the newly generated random number is not currently in use yet or until a filter has been applied for each digit of the newly generated random number. If a filter has been applied for each digit of the newly generated random number and there is still a number that has not been filtered out the newly generated random number is a duplicate of the one in use. Otherwise the newly generated random numbers is not a duplicate of any random numbers in use.

In an embodiment the first frequency corresponds to the predefined first position coding. The first position coding marks and or includes the position information indicating that the receiver of the first position coding is within the same region as the location base station that sent the first position coding.

The first set of multi bit information corresponds to the predefined second position coding. The second coding marks and or includes the position information indicating that the receiver of the second position coding is within the same region as the location base station that sent the second position coding.

The second set of multi bit information corresponds to the predefined third position coding. The third coding marks and or includes the position information within the same region.

The third set of multi bit information corresponds to the predefined fourth position coding. The forth coding marks and or includes the position information within the same region.

In such an embodiment system may include a location base station such as location base station in every location of interest such as every room indoors of a particular establishment. Each location base station marks and or includes the room that the base station is located. The position within the same region which means that the location base station is in one of the regions of a specific range of areas indoors. In an embodiment the position information marked by each location base station is different. The different position information could be coded by different non audible frequencies to form different non audible sound signals of a different frequency or a different set of frequencies . In such an embodiment a 6 bit position code can accommodate 31 position codes that can be assigned to 31 rooms. For example 000001 corresponds to the second position coding 1 to represent room 1. 000011 corresponds to another second position coding 3 to represent room 3 etc. The specific relationship between code numbers and rooms is shown in Table 5. The position code could correspond to the room information directly by using multi bit information without corresponding to the specific position coding.

In the example of Table 5 7 bits may represent a room Table 5 may be used to lookup the code corresponding to a particular room. Alternatively a number of bits may be used just to represent the ASCII code of Room 1 Room 2 etc. That is the translation table in not necessary and another program may handle determining the location. Also the coding of the location may be in terms of longitude latitude and height above see level which may be the first set of frequencies second set of frequencies and third set of frequencies . The location base station may invoke another program e.g. a map program to determine the position and use of Table 5 is not mandatory.

The position code can mark which areas the users are near or more precisely which building the user is near or which room the user is in. In an embodiment the first set of frequencies is sent as a set of ultrasound signals. In a prosperous cosmopolitan setting the position coding information may be regions between high buildings could help users entering buildings. When users are in the region the users can use the handheld mobile device to receive the signal sent by the location base station to obtain the corresponding position coding information which can be used by the user to verify that the building is the one that the user is looking for or to automatically clock the user into work . After accessing the location authentication the user can enter the building. In other embodiments the coding information may open a door of the building before enter a gate. Using the coding information a mobile phone may be used instead of a key access card as a way of opening a door to enter a building depending on the implementation and where the base stations is installed. 

To summarize the information in the location information sent by the base station is not a static value. In a simple embodiment as in Table 5 each location has a static code that represents a room or other location region. In Table 4 the codes representing the rooms or other location region are generated by a random number generator and each day the code representing a particular room location or region is changed.

With respect to in an embodiment the first position coding the second position coding the third position coding and the fourth position coding correspond to one unit of position information in a predefined query table of position information such as Table 5 respectively. For example the first position coding the second position coding the third position coding and the fourth position coding may represent the latitude longitude altitude and a security code the security code may be a randomly generated number .

Position information obtaining module uses decoding sub module for decoding the first set of frequencies which may be a non audible sound signal sent in an alternating fashion alternating between sending a signal and not sending a signal by sending the predefined second set of frequencies for a predetermined period of time then not sending a signal for a predetermined period of time and then sending a third set of frequencies for a predetermined period of time the predetermined periods of time may be the same or different in length and obtain the first set of multi bit information the second set of multi bit information and the third set of multi bit information by the third set of frequencies respectively.

Position information obtaining module uses query sub module for querying the position information corresponding to the first position coding second position coding the third position coding and the fourth position coding to obtain the position information of location base station .

With respect to in an embodiment the system also includes a storing module . Storing module is used for storing the query table of position information. The storing module may be installed in the mobile device in the location base station or in the location authentication server .

The storing module may be installed in different ends that is installed in sending end and receiving end including the storing module of location base station mobile device or location authentication server . The query table of the position information could be updated regularly e.g. periodically and or in real time depending on the users requirements. The size of storing module could refer to the information quantity in the query table of the position information. Taking the Table 4 as an example each information quantity is 40 bits and consequently table 4 requires 40 bits 1024 40 Kb 5 KB which means 1 Megabyte of storage is more than enough for system to work.

Additionally in one embodiment the location authentication security could be enhanced by combining the security code sent by the location base station with a one use multi bit information code which might also be referred to as a one time token . In practice the one use codes may be randomly generated numbers that are valid as codes for a very short amount of time such as 10 seconds 1 second or less. Combining the security code and the one use multi bit information code also provides more coding space for multi bit information codes because smaller randomly multi bit information codes may be used for coding the regions while still providing the same amount or a greater amount of security when combined with the one use multi bit information code. To prevent the malicious attacks such as attacks that involve generating numbers randomly the storing module installed in the server of mobile device could place a limit on the number of one use generated random numbers that are generated during a given period of time. Consequently even if too many requests for one use codes are received the system does not shut down. Furthermore a speed restriction could be used to monitor the mobile device accessing the server or other related equipment of location base station . If a mobile device sends requests for inquiry frequently enough that the speed of other equipment work slowly the slowness of the equipment may block the access port of that specific mobile device . If all numbers are generated safely only one number in 256 8 bit is required to fool the authentication. When representing the information of 40 bit and sending over 2 40 8 4294967296 pieces of information to the location base station only 1 out of 256 randomly guessed numbers could succeed to fool the authentication.

Installing the storing module in local terminals such as the mobile device or location base station could save the terminal battery of mobile device to enhance the efficiency of inquiring. The stored information could be updated regularly from the server . When the mobile device enters different regions such as entering another arcade from an arcade mobile device could request from server in an arcade or other location to again send the query table of position information of entering the new arcade.

In one embodiment the position message validation module is installed in the server of location base station or in the location base station the position message validation module verifies whether the mobile device is in the same region with the location base station via the position information sent by the second signal transmitting receiving module . Via the location base station or the server of location base station validating the location authentication of whether the mobile device is in the same region with the location base station could enhance the success of verification and security.

With respect to in an embodiment system includes several synchronization modules that are installed in several servers of location base stations respectively. The servers comprise at least one main server and at least one synchronization server . The synchronization module of synchronization server synchronizes the query table of position information of the different servers with one another by the predefined second time interval with the synchronization module of main server . For example the synchronizing of the query table of position information may be performed once a day every 12 hours or another period of time. Synchronizing via the synchronization server secures the stability of the system to avoid losing data. For example even if the query table of position information is lost the synchronization server could retrieve the table.

In the above embodiments the location authentication system comprises several mobile devices and several location base stations the location base stations are installed in different regions to suit different applications.

Additionally in other embodiments the system also provides devices for meeting any of the mentioned location authentication system . The system provides the device for the mobile device of location authentication system the device for the location base station and the device for the location authentication server . The structures of these devices are mentioned in the above embodiments detailed descriptions would not be mentioned here.

With respect to in one of the above embodiment there are several location base stations within the same region. The first signal transmitting receiving ends of location base stations within the same region send the signal marking the position information of location base station respectively.

The mobile device also includes signal processing module strength standard setting module and second signal transmitting receiving module .

The mobile device uses signal processing module for filtering the signals that are below the strength standard sent by the first signal transmitting receiving modules of location base stations according to the predefined signal strength.

The mobile device uses strength standard setting module for calculating the mean signal strength received in the predefined period and for setting the predefined signal strength according to the mean strength.

The second signal transmitting receiving module receives the signals that are above or equal to the predefined signal strength that was filtered by the signal processing module .

In the above embodiment the predefined signal strength set by the strength standard setting module is double the mean signal strength or at least above of signals received by the mobile device in the predefined period.

The second signal transmitting receiving module receives the first signal meeting the predefined signal strength.

When the signals are sent by the first signal transmitting receiving modules of location base stations the signals sent are not above or equal to the strength standard the second signal transmitting receiving modules of mobile devices receive the first transmitted signal sent by the location base stations .

Also signals marking the position information of the location base station sent by several location base stations may have the same or different frequency.

In the above embodiment it is inevitable that the mobile device would receive more than one effective signal sent by the location base station in some places. In an embodiment the mobile device includes a signal processing module to deal with the redundant effective signals sent by the location base station . The signal processing module filters the received signals whose strengths Bel are not suitable. In particular the strength standard setting module could set signal strength value at the filtering point in advance such as 10 dB decibel . When the predefined signal strength of a signal sent by the location base station is below the predefined signal strength the signal processing module filters the signal removing the signal. When the predefined signal strength of a signal sent by the location base station is above the predefined signal strength the signal sent by the location base station is chosen and received by the second signal transmitting receiving module .

When the strength standard setting module sets the predefined signal strength such as before obtaining the position of mobile device the mobile device monitors the potential received signals of location base station in a predefined duration of time. The predefined duration of time for measuring the mean signal strength could be 0.1 second. If the mean signal strength is S S would be the predefined strength standard. The signal processing module chooses the first signal sent by location base station when the strength of the first signal is above 3 S. If the signal processing module only receives one effective signal sent by location base station or if the signals received are below the strength standard the signal processing module chooses the first effective signal sent by location base station . The distance between location base station and mobile device is judged by the signal strength. Determining the distance by the signal strength ensures the reception of the required signal sent by location base station by setting the predefined strength standard value to a specific value.

With respect to in an embodiment system implements a method of location authentication. The method comprises the following steps.

The method of is performed by the location base station . In contrast the method of are performed by the mobile device . The methods of are complementary in that every time the location base station sends a signal in the method of the mobile device receives the same signal in the method of . Similarly every time the location base station receives a signal in the method of it is the result of the mobile device sending the same signal in the method of and vice versa .

In steps S the second signal transmitting receiving module of mobile device receives the signal marking the position of location base station sent by the first signal transmitting receiving module of location base station within the same region.

In step S the mobile device analyzes the signal received e.g. the mobile device converts the pattern of frequencies into a series of 1 s and 0 s .

In step S the position information obtaining module of mobile device obtains the position information of location base station after analyzing the signal that was sent in step .

In step S the mobile device sends the location information back to the location base station . Optionally in step S if the information sent in step is authenticated mobile device receives service information which may include promotion information or other information.

In an embodiment each of the steps of the method is a distinct step. In another embodiment although depicted as distinct steps in step S Smay not be distinct steps. In other embodiments the method may not have all of the above steps and or may have other steps in addition to or instead of those listed above. The steps of method the method may be performed in another order. Subsets of the steps listed above as part of method the method may be used to form their own method.

With respect to in an embodiment system implements a method of location authentication. The method comprises the following steps.

In step S the location base station sends the signal marking the position of location base station which may be sent by the first signal transmitting receiving module of location base station within the same region.

In step S the location base station receives a signal from the mobile device indicating the location of the mobile device . The information received from mobile device may be the same as included in and or derived from the information sent to mobile device in step S.

In step S the location base station sends the position information received to the location authentication server to obtain the location authentication of the mobile device being in the same region as the location base station .

In an embodiment each of the steps of the method is a distinct step. In another embodiment although depicted as distinct steps in step S S may not be distinct steps. In other embodiments the method may not have all of the above steps and or may have other steps in addition to or instead of those listed above. The steps of method the method may be performed in another order. Subsets of the steps listed above as part of method the method may be used to form their own method.

In an embodiment the signal marking the position of location base station sent by the first signal transmitting receiving module of location base station is a non audible sound signal. The same region is the effective region of the signals sent by the location base station. The region marked by the signal of the location base station is a region that is indoors or a region near building intensive outdoor environments. In an embodiment the region marked by the signal of the location base station is a suite or a room indoors. For example the region marked by the signal of the location base station may be inside of a commercial building or an office in the building. The areas near the building intensive environment could be the areas between many buildings the front door of a building with a higher ceiling such as a building that is more than 30 stories or the area between several high buildings.

The mobile device obtains the service information provided by the service information module of mobile device see steps Sand S .

Specifically the recording sub module of location base station records the information of mobile device that is in the same region as location base station . Alternatively the transmitting sub module of mobile device sends the promotion information to the mobile device . As another alternative the transmitting sub module of mobile device sends the security information of the region marked by the signal of the location base station to the mobile device .

In an embodiment the first signal transmitting receiving module sends the non audible sound signal by the predefined first frequency. Alternatively the first signal transmitting receiving module sends the non audible sound signals by the first set of frequencies corresponding to the predefined first set of multi bit information. As another alternative the first signal transmitting receiving module sends the non audible sound signal sent in the alternating fashion . The non audible sound signal corresponds to the second set of multi bit information or the first signal transmitting receiving module sends the non audible sound signal by the third set of frequencies corresponding to the third set of multi bit information generated randomly. The first controlling sub module of first signal transmitting receiving module controls the first audible frequency generating transmitting sub module to generate and send these frequencies or frequency sets.

In an embodiment the first frequency corresponds to the predefined first set of first position coding. The first position coding marks and or includes the position information within the same region as the location base station . The first set of multi bit information corresponds to the predefined second position coding. The second position coding marks and or includes the position information within the same region as the location base station . The second set of multi bit information corresponds to the predefined third position coding. The third position coding marks and or includes the position information within the same region as the base station . The third set of multi bit information corresponds to the predefined fourth position coding. The fourth position coding marks and or includes the position information within the same region as the location base station . The first signal could be the non audible sound signal of a fixed first frequency first set of frequencies or not correspond to the specific position coding but use the first frequency or multi bit information to determine the specified position information directly such as 20000 Hz is used to represent room 10 etc.

The non audible sound signal includes at least the ultrasound signal and low frequency signal. In particular the non audible sound signal comprises the ultrasound signal and or low frequency signal. In general the ultrasound signal is above 20000 Hz the low frequency signal is 16 Hz 25 Hz. Using a low frequency signal not only provides the position of the mobile terminal or mobile device but also causes no bad effects to the environment in contrast to the radiation of a GPS signal and consequently is the low frequency signal is beneficial to health.

In one of the embodiments of this invention the first position coding the first set of multi bit information the second set of multi bit information and the third set of multi bit information correspond to one unit of position information in the predefined query table of position information respectively.

In step the decoding sub module of mobile device obtains the position information of the location base station . The position information is obtained by decoding the first set of frequencies the non audible sound signal sent in an alternating fashion alternating between sending a signal and not sending a signal by sending the predefined second set of frequencies for a predetermined period of time then not sending a signal for a predetermined period of time and then sending a third set of frequencies for a predetermined period of time the predetermined periods of time may have same or different lengths obtaining the first set of multi bit information the second set of multi bit information and the third set of multi bit information by the third frequency and querying the position information corresponding to the first position coding the second position coding the third position coding the fourth position coding in the query table of position information by the query sub module of mobile device respectively. The query table of the position information is stored in the mobile device the location base station or the storing module of location authentication server .

In an embodiment the third set of multi bit information generated randomly is generated by the server of location base station or the random number generating module of location base station . After the random number generating module of server generates the third set of multi bit information the random number transmitting module of server transmits the third set of multi bit information to the location base station . The server sends the third set of multi bit information centrally. So there are several location base stations several pieces of third set of multi bit information the pieces of third set of multi bit information correspond to several location base stations respectively. To further ensure the accuracy of location authentication the pieces of third set of multi bit information being spaced by the predefined third time interval.

In one of the embodiments in step S the location authentication server is part of e.g. installed within the location base station the position message validation module of location base station verifies whether the mobile device is in the same region as the location base station by the position information of mobile device .

Alternatively the location authentication server is one of the servers of the location base station . The position message validation module of server verifies whether the mobile device is in the same region as the location base station via the position information sent by the location base station and the position information of location base station .

In one of the embodiments of this invention the location authentication server comprises several servers of the location base stations the servers comprise at least one main server and at least one synchronization server the synchronization module of synchronization server would sync the position information of location base station with the synchronization module of main server according to the predefined second time interval. Ensuring the consistency of the data could prevent damages happen. The server could be the server of mobile communication network the mobile device is a mobile terminal.

The step S and S may include the first signal transmitting receiving modules of location base stations send the signals marking the position information of location base station respectively.

The mobile device receives the signals sent by the first signal transmitting receiving modules of location base stations that the signals are above or equal to the predefined strength standard. In particular the predefined strength standard is double the mean signal strength or above of signals received by the mobile device in the predefined period.

In the steps of the mobile device receiving the signals sent by the location base station that the signals are above or equal to the strength standard according to the predefined signal strength. The mobile device receives the first signal meeting the predefined signal strength.

Alternatively with the signals sent by the location base stations being less than the predefined strength standard the mobile device receives the first transmitted signal sent by the location base stations . Thus the system suits different reception environments and situations.

Specifically the signal processing module filters the signals sent by the first signal transmitting receiving modules of location base stations which are below the strength standard . The strength standard setting module calculates the mean signal strength of the received signals in a predefined period and sets the predefined signal strength according to the mean strength.

The signals marking the position information of location base stations respectively sent by several location base stations may be the same frequency or different frequencies.

In an embodiment each location base station could use the same frequency or different signal frequencies to prevent the interference from the signals sent by nearby mobile devices . For example when the non audible sound signal is an ultrasound signal frequency of the non audible signal is 20000 Hz 22000 Hz and could be divided in 4 bands such as 20000 Hz 20500 Hz 20500 Hz 21000 Hz 21000 Hz 21500 Hz and 21500 Hz 22000 Hz. When installing the location base station the location base station adjusts itself by using different frequency bands than other neighboring location base stations .

Also due to the influences of sound absorption and reflection of non audible frequency the farther from the ground the weaker the signal strength is in general. The signal strength may be used to estimate the distance between a mobile device and a location base station. As the wall penetration ability of non audible frequencies is weak the signal sent by location base station in a compartment or room indoors is not be transmitted to the mobile device . If the non audible frequency does not refract as there is no sound wave reflection object outdoors the speakers design of location base station defines the direction of the non audible sound signal sent by location base station . The mentioned conditions reduce the opportunities of mobile device receiving more than one piece of information sent by the location base station which makes it more difficult to determine which regions should the location base station receive the effective position information by installing the position of location base station .

To sum up the location base station is installed in several specific regions indoors and or near the building intensive outdoor environments such as in a suite in a room or in several areas between many buildings. The location base station sends signals according to the predefined frequency or one set of frequencies. After the mobile device that is in the same region with the location base station receives the signal the mobile device obtains the position information of location base station and sends the position information to the location authentication server to obtain the location authentication of being in the same region as the location base station. Furthermore the mobile device obtains the service provided by the location base station that is within the same region as the mobile device . The position information of location base stations each have corresponding multi bit information codes. The corresponding multi bit information controls the location base station causing the location base station to send related frequency signals. The security code enhances the security and accuracy of location authentication.

Output system may include any one of some of any combination of or all of a display system a speaker system a connection or interface system to a sound system an interface system to peripheral devices and or a connection and or interface system to a computer system intranet and or internet for example.

Input system may include any one of some of any combination of or all of a keyboard system a keypad system a track ball system a track pad system buttons on a handheld system a scanner system a microphone system a camera a connection to a sound system and or a connection and or interface system to a computer system intranet and or internet e.g. IrDA USB for example.

Memory system may include for example any one of some of any combination of or all of a long term storage system such as a hard drive a short term storage system such as random access memory a removable storage system such as a floppy drive or a removable drive and or flash memory. Memory system may include one or more machine readable mediums that may store a variety of different types of information. The term machine readable medium is used to refer to any non transitory medium capable carrying information that is readable by a machine. One example of a machine readable medium is a computer readable medium. Another example of a machine readable medium is paper having holes that are detected that trigger different mechanical electrical and or logic responses. Memory may also store machine instructions for implementing the methods of and or store software versions of the various modules of receiving end .

Processor system may include any one of some of any combination of or all of multiple parallel processors a single processor a system of processors having one or more central processors and or one or more specialized processors dedicated to specific tasks. Also processor system may include one or more Digital Signal Processors DSPs in addition to or in place of one or more Central Processing Units CPUs and or may have one or more digital signal processing programs that run on one or more CPU.

Communications system communicatively links output system input system memory system processor system and or input output system to each other. Communications system may include any one of some of any combination of or all of electrical cables fiber optic cables and or means of sending signals through air or water e.g. wireless communications or the like. Some examples of means of sending signals through air and or water include systems for transmitting electromagnetic waves such as infrared and or radio waves and or systems for sending sound waves.

Input output system may include devices that have the dual function as input and output devices. For example input output system may include one or more touch sensitive screens which display an image and therefore are an output device and accept input when the screens are pressed by a finger or stylus for example. The touch sensitive screens may be sensitive to heat and or pressure. One or more of the input output devices may be sensitive to a voltage or current produced by a stylus for example. Input output system is optional and may be used in addition to or in place of output system and or input device .

Transmitter transmits non audible sound signals. Transmitter may be a speaker that is tuned to produce frequencies of 16 25 Hz and or 17000 Hz to 22 000 Hz the speaker may be driven by a signal generator . In an embodiment transmitter is an ultrasound transmitter. Optional receiver may be a microphone designed for picking up sound having a frequency of 16 25 Hz and or 17000 Hz to 22 000 Hz. In an embodiment receiver is an ultrasound receiver.

Base station is an example of a location base station . Output system input system memory system processor system communications system input output device transmitter and receiver have essentially the same description as output system input system memory system processor system communications system input output device and transmitter receiver . Optional signal generator may generate an electrical frequency of an appropriate frequency for simulating the transmitter to produce the desired frequency although not shown mobile device may also have a signal generator . Output system input system input output system may differ from output system input system and input output system in that mobile device may have many or all of the input output features that a smart phone or other mobile device has whereas the input output features of location base may be more limited to setting the parameters of operation of location base station and interacting with mobile device for example however location base stations may have other embodiments .

Each embodiment disclosed herein may be used or otherwise combined with any of the other embodiments disclosed. Any element of any embodiment may be used in any embodiment.

Although the invention has been described with reference to specific embodiments it will be understood by those skilled in the art that various changes may be made and equivalents may be substituted for elements thereof without departing from the true spirit and scope of the invention. In addition modifications may be made without departing from the essential teachings of the invention.

There could be numerous embodiments of the method system and device of location authentication in accordance with this invention. It is understood that the technicians of related fields could make related changes and modifications in accordance with this invention but within the spirit and scope of this invention. Thus the related changes and modifications are to be limited only by the claims as set forth below.

