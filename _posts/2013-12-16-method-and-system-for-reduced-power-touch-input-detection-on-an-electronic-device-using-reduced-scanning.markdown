---

title: Method and system for reduced power touch input detection on an electronic device using reduced scanning
abstract: Embodiments of the present invention can be configured to recognize and/or track certain types of touch input detected by a touch sensor, such as stylus input, during the performance of standard “full” touch scans in which each drive line of the touch sensor is generally scanned. Upon detection of these input types, “partial” touch scan operations can advantageously be performed which can dynamically reduce the number of lines scanned in a power-saving manner. These partial scans can be configured to intelligently initially scan the area where these input types were last detected so that there is minimal need to return to a previous “full” scan mode. If these specified touch inputs types are not detected during a “partial” scan mode, the touch sensor can be restored to a “full” scan mode until a subsequent detection of the touch input is determined, in which the touch sensor can be returned to a “partial” scan mode. Each time a partial scan is used, power is saved.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09507470&OS=09507470&RS=09507470
owner: NVIDIA Corporation
number: 09507470
owner_city: Santa Clara
owner_country: US
publication_date: 20131216
---
Conventional computer implemented devices offer users a variety of different ways to interact with applications executed on these devices such as through touchscreen panels. Touchscreen panels used by conventional mobile devices consume power partly based on how frequently the panel is scanned for touches. As such faster touch scan rates are generally used by conventional mobile devices to improve the accuracy smoothness and latency of touch input received which are all considered to be important performance metrics for electronic device including modem mobile devices. However high scan rates translate to more power consumption which is a negative for battery powered devices.

However power usage on these mobile devices can become high when using a stylus to provide input on these mobile devices having high scan rates. This is generally due to pen stroke lag which is a phenomenon in which the time latency for pen to ink must be kept to a minimum. Accordingly the inefficiencies associated with pen stroke lag may result in wasted power resources and may ultimately lead to reduced battery life.

What is needed is a solution that minimizes power usage on mobile devices in a manner that also improves user experience when using a stylus to provide input on these mobile devices. Embodiments of the present invention can be configured to recognize and or track certain types of touch input detected by a touch sensor such as stylus input during the performance of standard full touch scans in which each drive line of the touch sensor is generally scanned. Upon detection of these input types partial touch scan operations can advantageously be performed which can dynamically reduce the number of lines scanned in a power saving manner. These partial scans can be configured to intelligently initially scan the area where these input types were last detected so that there is minimal need to return to a previous full scan mode. If these specified touch inputs types are not detected during a partial scan mode the touch sensor can be restored to a full scan mode until a subsequent detection of the touch input is determined in which the touch sensor can be returned to a partial scan mode. Each time a partial scan is used power is saved.

More specifically in one embodiment the present invention is implemented as a method of performing touch scan operations on a touch sensitive panel of a computing device. The method includes scanning a first set of scan lines associated with the touch sensitive panel using a first scan pattern. In one embodiment the partial scan further includes scanning using a second set of scan lines associated with a previous detection of the touch input in which the second set of scan lines is a subset of the first set of scan lines. The method also includes detecting a touch input within the first set of scan lines using the first scan pattern in which the touch input is recognized as a touch type that indicates a use case in which interaction with the touch sensitive panel is limited to the touch input. In one embodiment the touch input is provided by a stylus tip.

Furthermore the method includes responsive to a detection of the touch input partially scanning the touch sensitive panel using a second scan pattern to detect subsequent touch inputs of the touch type in which the second scan pattern is different than the first scan pattern and in which less power is consumed by the computing device using the second scan pattern versus the first scan pattern. In one embodiment the first set of scan lines includes a plurality of drive lines in which the plurality of drive lines intersect with a plurality of sense lines to produce a plurality of sampling points used for detecting the touch input.

In one embodiment the scanning using a second scan pattern further includes correlating a subset of scan lines from the first set of scan lines with a set of sampling points used from the plurality of sampling points to detect the touch input to produce the second scan pattern in which the second scan pattern includes the subset of scan lines. In one embodiment the correlating further includes registering a set of null input values for a remainder set of scan lines not associated with the subset of scan lines. In one embodiment the method includes exiting the partial scanning responsive to the touch input being undetected after using the second scan pattern after a predetermined period of time and scanning the touch sensitive panel using the first set of scan lines.

In one embodiment the present invention is implemented as a system for performing touch scan operations on a touch sensitive panel of a computing device. The system includes a touch sensor operable to scan a first set of scan lines associated with the touch sensitive panel using a first scan pattern and using a second scan pattern. In one embodiment the touch sensor is operable to partially scan using a second set of scan lines associated with a previous detection of the touch input in which the second set of scan lines is a subset of the first set of scan lines.

The system also includes a controller operable to detect a touch input within the first set of scan lines using the first scan pattern in which the touch input is recognized as a touch type that indicates a use case of the computing device in which interaction with the touch sensitive panel is limited to the touch input in which the touch sensor responsive to a detection of the touch input of the touch type is operable to partially scan using the second scan pattern determined by the controller to detect the touch input in which the second scan pattern is different than the first scan pattern and in which less power is consumed by the computing device scanning with the second scan pattern versus scanning with the first scan pattern. In one embodiment the touch input is provided by a stylus. In one embodiment the first set of scan lines includes a plurality of drive lines in which the plurality of drive lines intersect with a plurality of sense lines to produce a plurality of sampling points used for detecting the touch input.

In one embodiment the controller is operable to correlate a subset of scan lines from the first set of scan lines with a set of sampling points used from the plurality of sampling points to detect the touch input to produce the second scan pattern in which the second scan pattern includes the subset of scan lines. In one embodiment the touch sensor is operable to register a set of null input values for a remainder set of scan lines not associated with the subset of scan lines. In one embodiment the controller is operable to restore a default touch scan mode to the touch sensitive panel in which the first set of scan lines are scanned responsive to the touch input not being detected after using the second scan pattern after a predetermined period of time.

In one embodiment the present invention is implemented as a method of performing touch scan operations on a touch sensitive panel of a computing device. The method includes scanning a first set of scan lines associated with the touch sensitive panel using a first scan pattern. The method also includes detecting a first touch input and a second touch input within the first set of scan lines using the first scan pattern in which the first touch input is a touch type that indicates one of a use case of the computing device in which relevant interaction with the touch sensitive panel is limited to the first touch input. In one embodiment the first touch input is provided by a stylus and the second touch input is provided by a palm of a user.

In one embodiment the scanning further includes driving a voltage through a plurality of drive lines and the detecting a first touch input and a second touch input further includes using a plurality of sense lines to detect the first and second touch inputs in which the plurality of drive lines overlap the plurality of sense lines to produce a plurality of sampling points in which the first and second touch inputs are detected based on changes in capacitance within the plurality of sampling points. In one embodiment the detecting a first touch input and a second touch input further includes swapping an orientation of the plurality of drive lines and the plurality of sense lines to detect positions associated with the first touch input and the second touch input.

Furthermore the method includes responsive to a detection of the first touch input partial scanning using a second scan pattern to track the first touch input in which the second scan pattern is different than the first scan pattern and where less power is consumed by the computing device using the second scan pattern versus the first scan pattern. In one embodiment the using a second scan pattern further includes correlating a subset of scan lines from the first set of scan lines with a set of sampling points used from the plurality of sampling points to detect the first and second touch inputs to produce the second scan pattern in which the second scan pattern includes the subset of scan lines. In one embodiment the method includes tracking a position associated with the second touch input using a third scan pattern in which the third scan pattern includes alternating scan lines within a subset of scan lines determined to be correlated with the second touch input.

Reference will now be made in detail to the various embodiments of the present disclosure examples of which are illustrated in the accompanying drawings. While described in conjunction with these embodiments it will be understood that they are not intended to limit the disclosure to these embodiments. On the contrary the disclosure is intended to cover alternatives modifications and equivalents which may be included within the spirit and scope of the disclosure as defined by the appended claims. Furthermore in the following detailed description of the present disclosure numerous specific details are set forth in order to provide a thorough understanding of the present disclosure. However it will be understood that the present disclosure may be practiced without these specific details. In other instances well known methods procedures components and circuits have not been described in detail so as not to unnecessarily obscure aspects of the present disclosure.

Portions of the detailed description that follow are presented and discussed in terms of a process. Although operations and sequencing thereof are disclosed in a figure herein e.g. describing the operations of this process such operations and sequencing are exemplary. Embodiments are well suited to performing various other operations or variations of the operations recited in the flowchart of the figure herein and in a sequence other than that depicted and described herein.

As used in this application the terms controller module system and the like are intended to refer to a computer related entity specifically either hardware firmware a combination of hardware and software software or software in execution. For example a module can be but is not limited to being a process running on a processor an integrated circuit an object an executable a thread of execution a program and or a computer. By way of illustration both an application running on a computing device and the computing device can be a module. One or more modules can reside within a process and or thread of execution and a component can be localized on one computer and or distributed between two or more computers. In addition these modules can be executed from various computer readable media having various data structures stored thereon.

According to one embodiment of the present invention touch sensitive panel includes the functionality to detect occurrence of touch events by performing touch scan operations. As such touch sensitive panel can be a capacitive touch sensing device that uses capacitance to detect touch events. For instance depicts exemplary components used by touch scan sensitive panel to perform touch scan operations to detect touch events in accordance with embodiments of the present invention. Touch sensitive panel can include a sense layer e.g. sense lines layer that includes a plurality of sense lines oriented in a vertical direction and a drive layer e.g. drive lines layer that includes a plurality of drive lines oriented in a horizontal direction. As such these layers within touch scan sensitive panel may be bonded together using materials capable of maintaining the capacitive qualities of touch sensitive panel . Any of a number of well known patterns panels can be used.

Furthermore as illustrated in sensor comprises the sense and drive layers stacked on top of each other in a manner that produces a matrix of overlapping sense and drive lines. For instance in one embodiment sense lines layer can be placed on top of drive lines layer such that the sense lines and drive lines of each respective layer are arranged in rows and columns in horizontal and vertical directions. The intersections of sense lines layer and drive lines layer within this matrix produces a plurality of interconnection points e.g. sampling points that may be spatially arranged in a manner such that each point represents a distinct location within sensor .

As such during a powered state e.g. using power resources coupled to computer system drive lines supply current and the sense lines can detect changes within the voltage or signal at sampling points within the matrix. For instance if an object e.g. a stylus finger eraser brush etc. touches sensor during a powered state the electrostatic field within a set of sampling points proximate to the object can be altered in a manner that reduces the mutual capacitance levels of other sampling points within sensor . In this manner the location of the contact made between an object and sensor can be accurately determined and communicated to touch scan controller for further processing. Furthermore in one embodiment display screen may reside beneath sensor and include the functionality to render output. Examples of display screen include but are not limited to a liquid crystal display LCD a plasma display and the like.

In one embodiment drive lines may be uniformly charged using the same voltage or individually charged with different voltages. In one embodiment prescribed threshold values e.g. voltages assigned to each drive line may be stored within registers not shown coupled to sensor . In one embodiment sensor may include the functionality to convert analog signals discharged from a set of points associated with a particular sampling point into digital signals using analog to digital signal converters e.g. ADCs for further processing by components of computer system . For instance in one embodiment sensor may use digital signals to create a digital contour map e.g. 2 dimensional plot of magnitudes with 2 D interpolation to determine the location of touch events performed.

With further reference to touch scan controller detects the performance and or location of touch events based on detected changes in capacitance levels within sensor . For example when a touch is made on sensor the x coordinate of the touch can be determined by touch scan controller using the drive lines and the y coordinate can be determined by the sense lines. As such the drive lines in the x direction can be scanned line by line by touch scan controller while the signal on each of the sense lines is read when each row of the drive lines is scanned.

Additionally according to one embodiment touch scan controller includes the functionality to dynamically swap the orientation of drive and sense lines such that when a touch event is performed on sensor the y coordinate of the touch event can be determined using the drive lines and the x coordinate can be determined by the sense lines. Accordingly during the performance of a scan each sampling point can be scanned in a manner that enables touch scan controller to accurately determine the location of a touch event. In this manner touch scan controller can also detect multiple touch events occurring simultaneously.

Furthermore touch scan controller includes the functionality to distinguish between various touch input types. In one embodiment touch scan controller can distinguish between various touch input types based on the amount of surface area covered by a touch event. For instance touch inputs covering smaller surface areas may be associated with finger tips stylus tips eraser tips brush tips etc. whereas touch inputs covering larger surface areas may be associated with other parts of the user s hand e.g. user s palm .

Also touch scan controller can be configured to accept and or track specified touch inputs types while simultaneously ignoring and or rejecting other types of contemporaneous touch input. For example in one embodiment touch scan controller can be configured to accept and or track a specific input type such as a stylus and simultaneously ignore and or reject touch input received from other forms of touch input such as touch inputs received via finger tips hands palms etc.

Additionally touch scan controller can dynamically adjust scanning sequences or patterns performed by sensor in response to a detection of a specific touch input type. According to one embodiment upon determining the type of touch input received e.g. finger stylus eraser brush etc. touch scan controller can send control signals to sensor to adjust which drive lines are to be scanned which correspondingly affects which signals on each of the sense lines is read. By adjusting the scan pattern of sensor in this manner touch scans performed by sensor may proportionally reduce the amount of power consumed by computer system during an input detection phase in which only the area near the affected touch is scanned.

Furthermore according to one embodiment touch scan controller communicates the location of touch events to a touch input driver not pictured for further processing by components within computer system . For instance data gathered by touch scan controller concerning detected touch events may be made available to operating system e.g. via an API and or applications executed from main memory for further processing.

Main processor processes instructions e.g. received from applications executed from memory to read data received from touch sensitive panel and or optional input devices e.g. optional input device . Optional input may include input devices which include but are not limited to keyboards mice joysticks microphones etc.

Furthermore in one embodiment optional graphics system can include a graphics processor not pictured operable to process instructions from applications resident in main memory and to communicate data with processor via internal bus for rendering the data on display screen using frame memory buffer. In this manner graphics system can generate pixel data for output images from rendering commands and may be configured as multiple virtual graphic processors that are used in parallel concurrently by a number of applications executing in parallel.

Additionally as described herein embodiments of the present invention can limit inadvertent interactions made with a touch sensitive panel in a manner that conserves power resources used by computer system during an input detection phase. For example in one embodiment touch scan controller can be configured to accept and or track relevant input received from a specific type of touch input e.g. touch input provided via stylus while contemporaneously ignoring and or rejecting other forms of irrelevant input received via sensor e.g. user s hand palm face cheek ear etc. . For example with further reference to the embodiment depicted in sensor can receive touch input from an object e.g. palm at Time . As such the touch input provided by the object at Time can include locational information regarding where the object made contact with sensor e.g. sampling points registering contact made with palm as well as surface area data associated with that contact.

Based on the data received by sensor touch scan controller can determine that the touch input received at Time was indeed provided by palm . In one embodiment upon recognition of the sampling point coordinates being associated with palm touch scan controller can be configured to ignore and or reject the contact made by palm with sensor at Time and continue to perform touch scan operations in anticipation of a specified relevant touch input type e.g. input associated with a stylus finger eraser brush etc. . Accordingly sensor may continue to perform touch scans in a manner that enables computer system to consume a reduced amount of power by ignoring and or not accepting inadvertent touch input or touch events received via sensor .

It should be appreciated that embodiments of the present invention are not limited to number of drive and sense lines depicted in and may include fewer or more drive and or sense lines for increased or decreased scan resolution as needed. Furthermore it should be appreciated that embodiments of the present invention are not limited to the pattern in which the drive and sense lines are depicted in and may include different patterns e.g. swapping the lines .

Importantly as illustrated in touch scan controller can engage sensor to commence performance of a partial scan mode in which touch scan controller adjusts the scanning sequence or pattern of touch scans performed by sensor in response to a detection of a particular touch input type such as stylus . For instance upon detection of stylus at Time touch scan controller can send control signals to sensor to adjust which drive lines are to be scanned by sensor which correspondingly affects which sense line signals are read by sensor . The subset of drive lines selected by touch scan controller e.g. drive lines can be based on a set of sampling points that are proximate to the touch event s current or prior point of detection e.g. sampling point coordinates . Upon receipt of the control signals by sensor drive signals can be sent over only the subset of drive lines which engage a corresponding subset of sense lines e.g. sense lines that are operable to detect subsequent touch input provided by the specified touch input type while the remaining drive lines are not scanned. This reduces power as the partial scan only uses a subset of the scan lines of the touch panel.

Accordingly sense lines overlapping scanned drive lines specified by touch scan controller in this manner can be used to receive subsequent touch input from stylus . By only scanning a subset of the total number of drive lines in this fashion sensor performs touch scan operations in a manner that consumes a reduced amount of power during an input detection phase. In one embodiment touch scan controller can register null values for drive lines that are not scanned e.g. thus transmitting signals to computer system indicating that no touch input was received by sensor subsequent to the input received from stylus .

In this manner based on data received by sensor touch scan controller can dynamically adjust drive and sense configurations during input detection operations in real time. For example responsive to a determination made that a touch input received by sensor was provided by stylus using drive and sense configuration see touch scan controller can dynamically re adjust the orientation of the drive and sense lines of sensor such that touch scan operations are performed using drive and sense configuration . In one embodiment touch scan controller can toggle between various different drive and sense configurations in a manner that enables touch scan controller to more accurately identify touch inputs and or signals associated with a detection of a touch input via sensor . For instance with further reference to touch scan controller can dynamically adjust the drive and sense configuration of sensor from drive and sense configuration to to more accurately identify touch inputs and or signals associated with palm and or stylus at Times and respectively.

As illustrated in touch scan controller can dynamically re adjust the scanning sequences or patterns performed by sensor in response to detecting stylus at Time using a partial scan technique. For instance upon detection of stylus at Time touch scan controller can send control signals to sensor to adjust which drive lines are only to be scanned e.g. drive lines which correspondingly affects which sense line signals are read by sensor e.g. sense lines . Furthermore according to one embodiment touch scan controller can adjust which lines are to be scanned based on a previous detection of the stylus input. For instance prior to the detection of stylus at Time touch scan controller can send control signals to sensor to initially scan drive lines based on a previous detection of stylus at Time see . The subset of scan lines used to track the location of the stylus can be dynamically adjusted to represent those scan lines that are associated with a last known position of the stylus.

Accordingly if the stylus input is not detected during a partial scan touch scan controller can restore sensor to a previous touch scan sequence or pattern. For example if sensor does not detect touch input from stylus in between Time and Time touch scan controller can restore sensor to a default touch scan mode e.g. full touch scan mode in which each drive line is scanned . However upon a subsequent detection of input received from stylus touch scan controller can then return sensor to a partial scan mode in which a new touch scan sequence or pattern is specified by touch scan controller . In one embodiment touch scan controller can send control signals to sensor to initially scan drive lines not scanned during a previous partial scan in order to detect subsequent instances of a particular type of touch input.

Although depict touch scan controller ignoring and or rejecting input received from the user s palm embodiments of the present invention are not limited as such and may be configured to ignore various other input types. Also although depict embodiments in which touch scan controller is configured to receive input specifically from a stylus embodiments of the present invention are not limited as such. For example embodiments of the present invention may be configured to accept limited receipt of other types of touch input e.g. eraser brush finger tips .

Furthermore as illustrated in touch scan controller can dynamically adjust the scanning sequences or patterns performed by sensor in response to instructions e.g. received via an application executed from memory resident on computer system specifying touch scan controller to detect and or track input from both stylus and palm in real time. For instance upon detection of stylus and or palm during a full or partial scan mode touch scan controller can send control signals to sensor that adjust which drive lines are to be scanned which correspondingly affects which sense line signals are read by sensor .

For example as illustrated in touch scan controller can dynamically re adjust the scanning sequences or patterns performed by sensor by scanning every other drive line to implement a lower resolution scan to save power. As illustrated in touch scan controller can send control signals to sensor to scan drive lines etc. for one frame and as illustrated in touch scan controller can send control signals to sensor to scan drive lines etc. for a subsequent frame.

By scanning a subset of the drive lines in this fashion lower resolution touch scans are performed by sensor in a manner that consumes a reduced amount of power during an input detection and or tracking phase. Accordingly sensor may perform touch scans in a manner that enables computer system to consume a reduced amount of power by not scanning each drive line while simultaneously allowing input detection of larger surface area touch input types e.g. palms hands faces cheeks ears that may be accepted and tracked by applications executed by computer system .

At step the touch sensor of the computer system performs touch scan operations using a default or full touch scan mode in which all drive lines of the touch sensor are scanned in a manner that consumes a standard amount of power. Sampling points representing overlapping interconnections between drive and sense lines are arranged in a pre determined manner by the touch scan controller for detecting touch events provided by a specified touch input type e.g. stylus .

At step the touch sensor detects a touch event by an object making contact with the sensor within a set of sampling points during performance of the default or full touch scan mode performed during step .

At step a determination is made as to whether the touch event detected at step is associated with a specified touch input type based for instance on the surface area of the touch event. If the touch event is associated with the specified touch input type then the touch sensor engages in a partial touch scan mode in which the touch scan controller determines a subset of drive lines only to be scanned from the total number of drive lines used by the touch sensor as detailed in step . If the touch event is not associated with the specified touch input type then touch sensor continues performing touch scan operations in the manner described in step .

At step the touch event detected at step is determined to be associated with the specified touch input type and therefore the touch sensor engages in a partial touch scan mode in which the touch scan controller prescribes a subset of drive lines to be scanned from the total number of drive lines used by the touch sensor during a default or full touch scan mode. The subset of drive lines selected by touch scan controller is based on a set of sampling points that are proximate to the touch event s known point of detection. Partial scans conserve power as fewer scan lines are used to track the object.

At step control signals are sent by the touch scan controller to the touch sensor that communicate the subset of drive lines to be scanned during the partial scan mode. Upon receipt of the signals drive signals are sent over the subset of drive lines which engage a corresponding subset of sense lines that are operable to detect subsequent touch input provided by the specified touch input type while the remaining drive lines are not scanned. The subset of scan lines are dynamically updated as the touch is tracked during partial scan.

At step a determination is made as to whether touch input from the specified touch input type has been detected within a predetermined period of time within the sampling points scanned during the partial touch scan performed during step . If input from the specified touch input type has not been detected within a predetermined period of time then the touch scan controller attempts to locate the touch event by restoring the touch sensor to a previous default or full touch scan mode as detailed in step . If touch input from the specified touch input type has been detected within a predetermined period of time then touch sensor continues performing partial touch scan operations as described in step and dynamically updates the subset of scan lines used as the touch is tracked using partial scan.

While the foregoing disclosure sets forth various embodiments using specific block diagrams flowcharts and examples each block diagram component flowchart step operation and or component described and or illustrated herein may be implemented individually and or collectively using a wide range of hardware software or firmware or any combination thereof configurations. In addition any disclosure of components contained within other components should be considered as examples because many other architectures can be implemented to achieve the same functionality.

The process parameters and sequence of steps described and or illustrated herein are given by way of example only. For example while the steps illustrated and or described herein may be shown or discussed in a particular order these steps do not necessarily need to be performed in the order illustrated or discussed. The various example methods described and or illustrated herein may also omit one or more of the steps described or illustrated herein or include additional steps in addition to those disclosed.

While various embodiments have been described and or illustrated herein in the context of fully functional computing systems one or more of these example embodiments may be distributed as a program product in a variety of forms regardless of the particular type of computer readable media used to actually carry out the distribution. The embodiments disclosed herein may also be implemented using software modules that perform certain tasks. These software modules may include script batch or other executable files that may be stored on a computer readable storage medium or in a computing system.

These software modules may configure a computing system to perform one or more of the example embodiments disclosed herein. One or more of the software modules disclosed herein may be implemented in a cloud computing environment. Cloud computing environments may provide various services and applications via the Internet. These cloud based services e.g. software as a service platform as a service infrastructure as a service may be accessible through a Web browser or other remote interface. Various functions described herein may be provided through a remote desktop environment or any other cloud based computing environment.

The foregoing description for purpose of explanation has been described with reference to specific embodiments. However the illustrative discussions above are not intended to be exhaustive or to limit the invention to the precise forms disclosed. Many modifications and variations are possible in view of the above disclosure. The embodiments were chosen and described in order to best explain the principles of the invention and its practical applications to thereby enable others skilled in the art to best utilize the invention and various embodiments with various modifications as may be suited to the particular use contemplated.

Embodiments according to the invention are thus described. While the present disclosure has been described in particular embodiments it should be appreciated that the invention should not be construed as limited by such embodiments but rather construed according to the below claims.

