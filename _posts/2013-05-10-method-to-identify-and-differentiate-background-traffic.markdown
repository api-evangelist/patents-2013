---

title: Method to identify and differentiate background traffic
abstract: Embodiments of a system and method to identify and differentiate background traffic are generally described herein. In some embodiments, a transceiver is arranged to wirelessly transmit and receive packets over a communications network and a processor, coupled to the transceiver, is arranged to provide an indication identifying packets associated with background traffic. The indication identifying packets associated with background traffic includes a bit in a header of a packet, wherein the bit is set in a first state to indicate the packet is associated with background traffic and the bit is set in a second state to indicate the packet is associated with active traffic, or an identification of a port number and a protocol type associated with background traffic. The processor is further arranged to provide an indication for differentiating background traffic.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09444569&OS=09444569&RS=09444569
owner: Intel Corporation
number: 09444569
owner_city: Santa Clara
owner_country: US
publication_date: 20130510
---
This application is a U.S. National Stage Filing under 35 U.S.C. 371 from International Application No. PCT US2013 040618 filed May 10 2013 and published in English as WO 2013 1070194 on Nov. 14 2013 which claims the benefit of priority to U.S. Provisional Patent Application Ser. No. 61 646 223 filed May 11 2012 all of which are incorporated herein by reference in their entireties.

Background traffic occurs when a computing device sends and receives data files in the background. The packets traffic generated without the user involvement or that the user is not necessarily expecting is generally called background traffic. Emerging applications such as social applications e.g. Facebook Twitter etc. also generate background traffic on top of the traffic that is generated with the user involvement. Background traffic is one of the classical data communication schemes characterized by the destination not expecting the data within a certain time. Examples include background delivery of E mails SMS and download of databases and reception of measurement records. With regard to social media background data includes Facebook and Twitter updates while the user is not actively using the device. Due to the social nature background traffic generated by social applications etc. is very frequent and has smaller packets.

Two major issues associated with background traffic are a background traffic makes the device to receive transmit this traffic when it is generated and does not allow the device to be in low power mode continuously for a long period of time hence consumes battery power unnecessarily b background traffic makes the device to come out of the low power mode and make connectivity to the network frequently to receive transmit the background traffic hence adds substantial air interface signaling overhead.

Two major problem areas include determining how to identify background traffic and how to differentiate background traffic from regular traffic.

User equipment UE may access network services via eNodeBs evolved nodeBs and UTRAN respectively. UE may include many different types of devices ranging from simple mobile telephones to digital televisions. The evolved packet core may support a mix of radio transmission technologies including GSM WCDMA and UMTS LTE wide radio channels. Moreover the evolved packet core uses an IP packet system which can access other types of networks such as the PSTN PDN WLAN WiMAX trusted non 3GPP 120 networks etc. through the use of gateway GW devices. The evolved packet core may include a home subscriber server HSS an authentication authorization and accounting AAA device a packet gateway P GW a serving gateway S GW a mobility management entity MME a serving GPRS support node SGSN and a gateway GPRS support node GGSN . General packet radio service GPRS is used to support packet oriented mobile data service on the 2G and 3G cellular communication systems. The UTRAN includes a NodeB and a radio network controller RNC . The UTRAN is coupled to the evolved packet core via the RNC and the SGSN . The eNodeBs are coupled to the MME in the evolved packet core . The WiMAX network is coupled to the evolved packet core via the P GW . The P GW also couples the evolved packet core to the WLAN the trusted non 3GPP network the Internet or other packet data network and the PSTN .

However according to embodiments described herein several methods for providing an indication to identify and or differentiate background traffic may be used. Applications may let the device know of the background traffic via an application programming interface API and or the device may perform intelligent prediction of background traffic.

There are two methods for applications to indicate to the device the type of traffic via an application programming interface API . As mentioned above Bits of the Type of Service IP header field are reserved for future use. However one of these bits can be harvested to identify background traffic. For example bit may be used to identify background traffic by using bit to indicate normal packet traffic when set to 0 and to indicate background packet traffic when set to 1. This information may be passed to the device via an API and each packet may carry the information provided by bit . A UE may thus identify the type of packet traffic by IP packet header information.

The first application accessing API 1 may thus identify to the device whether Port 2 and protocol type UDP is associated with transmission and or receipt of background traffic. In case there are multiple applications running on the UE e.g. first application and second application the UE may enter a low power mode only for the duration when both the first application and second application including Port 1 Port 2 and Port n are sending background traffic. Port n may also be identified to be using a TCP protocol for background traffic. However even in this duration of time the UE may be benefitted from background traffic identification and differentiation by requesting de prioritization of background traffic to the eNodeB . Radio includes among other components a transceiver transmits and receives traffic via antenna . First application and second application as well as the identification and differentiation of background traffic are implemented by processor . Processor provides the indication for identifying and differentiating background traffic. Radio may transition between an ACTIVE state an IDLE state DETACHED state and POWERED OFF state. The IDLE state may be entered when the device is unattended when the screen is turned off etc. Accordingly the radio between device UE and BS eNode B transitions to the IDLE state.

When the UE uplink buffer server receives packets the UE may categorize the received packets. The packets received at the UE uplink buffer server are stored when the UE is in unattended mode i.e. there is no user involvement at the UE e.g. when the screen and or when the radio of is turned off. After background traffic has been identified the UE must be instructed how to differentiate the background traffic. The UE identifies the background traffic in the UE uplink buffer server and treats the background traffic appropriately. For example when background traffic comes to UE uplink buffer server the UE does not wake up from low power mode to send this background traffic. Instead the UE may keep the background traffic in the UE uplink buffer server for up to a certain period of time or till the UE wakes up again and the radio is turned on.

In the downlink a mechanism for the eNodeB base station to identify and differentiate the background traffic is provided. As described above with reference to a UE may provide information to an eNodeB regarding how to identify the background traffic based on the use of previously reserved bits in the Type of Service field of the IP header e.g. bit . Alternatively as described above with reference to the UE may provide the port number and protocol type from UE to the eNodeB or the start end time of background traffic.

Referring again to communication between UE and the network e.g. an eNodeB may include signaling message e.g. RRC or NAS messages and control command exchange between UE and an eNodeB i.e. not the data traffic. In UMTS RRC and NAS messages function as communication between UE and the eNodeB . However in LTE there are several communication paths at the MAC layer. The MAC control element MAC CE may be used to carry special control information.

When BTCT is equal to 00 the BATP field is 6 bits wherein the leftmost 3 bits represent the bit number in the IP header Type of service field. The next 2 bits are reserved. The rightmost 1 bit is used to indicate what value of above bit in Type of Service field of IP header indicates that the traffic is background traffic. For example when this rightmost bit 1 the traffic is background traffic when above bit in Type of Service field of IP header 1.

When BTCT is equal to 01 the BTCP field is 22 bits wherein the leftmost 9 bits identify the source port number the next 9 bits identify the destination port number and the remaining rightmost 4 bits identify the protocol type.

When BTCT is equal to 10 the BTCP field is 22 bits. The leftmost 11 bits identify the start time in seconds and the next 11 bits identify the end time in seconds .

The De Prioritized field is 1 bit. When the De Prioritized field is set to 8 background traffic is de prioritized whenever there is other normallactive traffic. When the De Prioritized field is set to 8 the background traffic is not deprioritized. The Hold Time field is 6 bits. The Hold Time field specifies a maximum time for which the eNodeB can wait to wake up after getting DL packet for the same user . 111111 may represent infinite hold time. The R field indicates a Reserved field .

Referring to both and the MAC CE information may be sent from the UE to eNodeB for identifying background traffic. The length of the MAC CE field is fixed. The actual length of the MAC CE will be either 4 bytes or 2 bytes based on implementation. NewBitInfo 6 bits BTCP 22 bits BATP 6 bits fields will contain only one of the NewBitInfo 6 bits BTCP 22 bits and BATP 22 bits parameters. The UE may tell the eNodeB how to differentiate treat the background traffic e.g. if the UE is in IDLE mode the UE does not need to be brought out of IDLE mode for the eNodeB to send this background traffic. The UE may also specify a maximum time period that the eNodeB may hold the background traffic at a downlink buffer at the eNodeB before the eNodeB wakes up the UE to send these packets. For example if Discontinuous Reception DRX functionality is enabled at the UE the eNodeB will wake up the UE during the last DRX ON duration which occurs before the end of specified maximum packet holding time duration.

The UE and the eNodeB negotiate phases in which data transfer occurs. During other times the UE turns its receiver off and enters a low power state. The UE will wake up during scheduled periods to look for its messages. UEs that are in idle mode may monitor the Physical Downlink Control Channel PDCCH for Paging Radio Network Temporary Identity P RNTI which is used for paging to receive paging messages from the eNodeB . The UE needs to monitor the PDCCH only at certain specific paging occasions set by the UE i.e. only at specific subframe in a specific radio frame. At other times the UE may go to sleep mode to save battery power. Note that a really long time period could mean that the eNodeB does not need to wake up the device to convey the background traffic. Furthermore the UE also could specify a rule regarding how the background traffic can be treated e.g. de prioritized when there is normal traffic present for the same UE flow in the connected mode.

BTIDR may be sent to eNodeB from UE by including information in one of the information elements IEs of uplink DCCH dedicated control channel messages. DCCH is the logical channel assigned to UE when the UE is allocated an RRC connection . UL DCCH Messages include UEinformationResponse r9 RCConnectionReconfigurationComplete RCConnectionReestablishmentComplete and RRCConnectionSetupComplete messages. IEs sent via RRC NAS or MAC CE e.g. UE BTIDR r11 may include BTIDR information. UE BTIDR r11 can be defined as one of the release 11 noncritical extensions of existing IEs.

For example UE BTIDR r11 may be incorporated in UEinformationResponse message. The UEinformationResponse message may be used by the UE to transfer request information. The description of UE BTIDR r11 fields is similar to that of the fields described above with reference to BTIDR shown in . Similarly UE BTIDR r11 can be integrated as a noncritical extension in other UL DCCH Messages such as RCConnectionReconfigurationComplete RCConnectionReestablishmentComplete and RRCConnectionSetupComplete.

Examples as described herein may include or may operate on logic or a number of components modules or mechanisms. Modules are tangible entities e.g. hardware capable of performing specified operations and may be configured or arranged in a certain manner. In an example circuits may be arranged e.g. internally or with respect to external entities such as other circuits in a specified manner as a module. In an example at least a part of one or more computer systems e.g. a standalone client or server computer system or one or more hardware processors may be configured by firmware or software e.g. instructions an application portion or an application as a module that operates to perform specified operations. In an example the software may reside on at least one machine readable medium. In an example the software when executed by the underlying hardware of the module causes the hardware to perform the specified operations.

Accordingly the term module is understood to encompass a tangible entity be that an entity that is physically constructed specifically configured e.g. hardwired or temporarily e.g. transitorily configured e.g. programmed to operate in a specified manner or to perform at least part of any operation described herein. Considering examples in which modules are temporarily configured a module need not be instantiated at any one moment in time. For example where the modules comprise a general purpose hardware processor configured using software the general purpose hardware processor may be configured as respective different modules at different times. Software may accordingly configure a hardware processor for example to constitute a particular module at one instance of time and to constitute a different module at a different instance of time. The term application or variants thereof is used expansively herein to include routines program modules programs components and the like and may be implemented on various system configurations including single processor or multiprocessor systems microprocessor based electronics single core or multi core systems combinations thereof and the like. Thus the term application may be used to refer to an embodiment of software or to hardware arranged to perform at least part of any operation described herein.

Machine e.g. computer system may include a hardware processor e.g. a central processing unit CPU a graphics processing unit GPU a hardware processor core or any combination thereof a main memory and a static memory at least some of which may communicate with others via an interlink e.g. bus . The machine may further include a display unit an alphanumeric input device e.g. a keyboard and a user interface UI navigation device e.g. a mouse . In an example the display unit input device and UI navigation device may be a touch screen display. The machine may additionally include a storage device e.g. drive unit a signal generation device e.g. a speaker a network interface device and one or more sensors such as a global positioning system GPS sensor compass accelerometer or other sensor. The machine may include an output controller such as a serial e.g. universal serial bus USB parallel or other wired or wireless e.g. infrared IR connection to communicate or control one or more peripheral devices e.g. a printer card reader etc. .

The storage device may include at least one machine readable medium on which is stored one or more sets of data structures or instructions e.g. software embodying or utilized by any one or more of the techniques or functions described herein. The instructions may also reside at least partially additional machine readable memories such as main memory static memory or within the hardware processor during execution thereof by the machine . In an example one or any combination of the hardware processor the main memory the static memory or the storage device may constitute machine readable media.

While the machine readable medium is illustrated as a single medium the term machine readable medium may include a single medium or multiple media e.g. a centralized or distributed database and or associated caches and servers that configured to store the one or more instructions .

The term machine readable medium may include any medium that is capable of storing encoding or carrying instructions for execution by the machine and that cause the machine to perform any one or more of the techniques of the present disclosure or that is capable of storing encoding or carrying data structures used by or associated with such instructions. Non limiting machine readable medium examples may include solid state memories and optical and magnetic media. In an example a massed machine readable medium comprises a machine readable medium with a plurality of particles having resting mass. Specific examples of massed machine readable media may include non volatile memory such as semiconductor memory devices e.g. Electrically Programmable Read Only Memory EPROM Electrically Erasable Programmable Read Only Memory EEPROM and flash memory devices magnetic disks such as internal hard disks and removable disks magneto optical disks and CD ROM and DVD ROM disks.

The instructions may further be transmitted or received over a communications network using a transmission medium via the network interface device utilizing any one of a number of transfer protocols e.g. frame relay internet protocol IP transmission control protocol TCP user datagram protocol UDP hypertext transfer protocol HTTP etc. . Example communication networks may include a local area network LAN a wide area network WAN a packet data network e.g. the Internet mobile telephone networks e.g. channel access methods including Code Division Multiple Access CDMA Time division multiple access TDMA Frequency division multiple access FDMA and Orthogonal Frequency Division Multiple Access OFDMA and cellular networks such as Global System for Mobile Communications GSM Universal Mobile Telecommunications System UMTS CDMA 2000 1 standards and Long Term Evolution LTE Plain Old Telephone POTS networks and wireless data networks e.g. Institute of Electrical and Electronics Engineers IEEE 802 family of standards including IEEE 802.11 standards WiFi IEEE 802.16 standards WiMax and others peer to peer P2P networks or other protocols now known or later developed.

For example the network interface device may include one or more physical jacks e.g. Ethernet coaxial or phone jacks or one or more antennas to connect to the communications network . In an example the network interface device may include a plurality of antennas to wirelessly communicate using at least one of single input multiple output SIMO multiple input multiple output MIMO or multiple input single output MISO techniques. The term transmission medium shall be taken to include any intangible medium that is capable of storing encoding or carrying instructions for execution by the machine and includes digital or analog communications signals or other intangible medium to facilitate communication of such software.

Example 1 includes subject matter such as a device apparatus client or system including a radio including a transceiver arranged to wirelessly transmit and receive packets over a communications network and a processor coupled to the transceiver the processor arranged to provide an indication identifying packets associated with background traffic.

Example 2 may optionally include the subject matter of Example 1 wherein the indication identifying packets associated with background traffic comprises a bit in a header of a packet wherein the bit is set in a first state to indicate the packet is associated with background traffic and the bit is set in a second state to indicate the packet is associated with active traffic.

Example 3 may optionally include the subject matter of Example 1 2 wherein the indication identifying packets associated with background traffic is provide by an applications via an application programming interface API .

Example 4 may optionally include the subject matter of Example 1 3 wherein the indication identifying packets associated with background traffic comprises an identification of a port number and a protocol type associated with background traffic the identification provided to an eNodeB.

Example 5 may optionally include the subject matter of Example 1 4 wherein the indication identifying packets associated with background traffic is provide by an applications via an application programming interface API .

Example 6 may optionally include the subject matter of Example 1 5 wherein the processor is arranged to perform intelligent prediction of background traffic the processor categorizing arriving packets as background packets when the radio is in an idle state.

Example 7 may optionally include the subject matter of Example 1 6 wherein the processor transitions to an idle state only when all applications are arranged to only send background traffic the background traffic being maintained in an uplink buffer until the processor transitions to an active state.

Example 8 may optionally include the subject matter of Example 1 7 wherein the indication identifying packets associated with background traffic comprises a start time indicating when background traffic starts and an end time indicating when background traffic ends the indication being provided to an eNodeB.

Example 9 may optionally include the subject matter of Example 1 8 wherein the processor is further arranged to provide an indication for differentiating background traffic.

Example 10 may optionally include the subject matter of Example 1 9 wherein the indication for differentiating background traffic comprises an information element provided by dedicated signaling wherein the information element includes a de prioritization bit the de prioritization bit being set in a first state to signal de prioritization of background traffic when active traffic is detected and set in a second state to signal not to de prioritize background traffic.

Example 11 may optionally include the subject matter of Example 1 10 wherein the information element comprises a field for setting a maximum hold time informing a node receiving the information element of a maximum time to wait before waking the processor.

Example 12 may optionally include the subject matter of Example 1 11 wherein the information element comprises a media access control MAC control element CE .

Example 13 may optionally include the subject matter of Example 1 12 wherein the information element comprises a radio resource control RRC message.

Example 14 may optionally include the subject matter of Example 1 13 wherein an enhanced base station eNodeB includes a buffer for maintaining received packets prior to processing and for maintaining packets prior to transmission and a processor coupled to the buffer the processor arranged to receive an indication identifying packets associated with background traffic the processor processing packets according to the received indication.

Example 15 may optionally include the subject matter of Example 1 14 wherein the processor is further arranged to receive an indication for differentiating background traffic.

Example 16 may optionally include the subject matter of Example 1 15 wherein the indication identifying packets associated with background traffic comprises instructions for setting a bit in a header of a packet wherein the bit is set in a first state to indicate the packet is associated with background traffic and the bit is set in a second state to indicate the packet is associated with active traffic.

Example 17 may optionally include the subject matter of Example 1 16 wherein the indication identifying packets associated with background traffic comprises instructions for associating a port number and a protocol type associated with background traffic the identification provided to an eNodeB.

Example 18 may optionally include the subject matter of Example 1 17 wherein the indication identifying packets associated with background traffic comprises instructions for establishing a start time associated with background traffic and an end time associated with background traffic the indication being provided to an eNodeB.

Example 19 may include subject matter such as a method or means for performing acts including processing at a user equipment packets received and transmitted by a radio over a wireless communication channel and providing an indication to identify packets associated with background traffic.

Example 20 may optionally include the subject matter of Example 19 wherein the providing an indication to identify packets associated with background traffic comprises providing a bit in a header of a packet wherein the bit is set in a first state to indicate the packet is associated with background traffic and the bit is set in a second state to indicate the packet is associated with active traffic.

Example 21 may optionally include the subject matter of Example 19 20 wherein the providing the indication to identify packets associated with background traffic comprises providing the indication to identify packets associated with background traffic by an application through an application programming interface API .

Example 22 may optionally include the subject matter of Example 19 21 wherein the providing the indication identifying packets associated with background traffic comprises providing an identification of a port number and a protocol type associated with background traffic the identification provided to an eNodeB.

Example 23 may optionally include the subject matter of Example 19 22 wherein the providing the indication identifying packets associated with background traffic comprises performing intelligent prediction of background traffic by categorizing arriving packets as background packets when the radio is in an idle state.

Example 24 may optionally include the subject matter of Example 19 23 including transitioning to an idle state only when all applications are arranged to only send background traffic the background traffic being maintained in an uplink buffer until the processor transitions to an active state.

Example 25 may optionally include the subject matter of Example 19 24 wherein the providing the indication identifying packets associated with background traffic comprises providing a start time indicating when background traffic starts and an end time indicating when background traffic ends the indication being provided to an eNodeB.

Example 26 may optionally include the subject matter of Example 19 25 including providing an indication for differentiating background traffic.

Example 27 may optionally include the subject matter of Example 19 26 wherein the providing the indication for differentiating background traffic comprises providing to a node an information element through dedicated signaling wherein the information element includes a de prioritization bit the de prioritization bit being set in a first state to signal de prioritization of background traffic when active traffic is detected and set in a second state to signal not to de prioritize background traffic.

Example 28 may include subject matter such as means for performing acts or machine readable medium including instructions that when executed by the machine cause the machine to perform acts including processing at a user equipment packets received and transmitted by a radio over a wireless communication channel and providing an indication to identify packets associated with background traffic.

Example 29 may optionally include the subject matter of Example 28 wherein the providing an indication to identify packets associated with background traffic comprises providing a bit in a header of a packet wherein the bit is set in a first state to indicate the packet is associated with background traffic and the bit is set in a second state to indicate the packet is associated with active traffic.

Example 30 may optionally include the subject matter of Example 28 29 wherein the providing the indication to identify packets associated with background traffic comprises providing the indication to identify packets associated with background traffic by an application through an application programming interface API .

Example 31 may optionally include the subject matter of Example 28 30 wherein the providing the indication identifying packets associated with background traffic comprises providing an identification of a port number and a protocol type associated with background traffic the identification provided to an eNodeB.

Example 32 may optionally include the subject matter of Example 28 31 wherein the providing the indication identifying packets associated with background traffic comprises performing intelligent prediction of background traffic by categorizing arriving packets as background packets when the radio is in an idle state.

Example 33 may optionally include the subject matter of Example 28 32 including transitioning to an idle state only when all applications are arranged to only send background traffic the background traffic being maintained in an uplink buffer until the processor transitions to an active state.

Example 34 may optionally include the subject matter of Example 28 33 wherein the providing the indication identifying packets associated with background traffic comprises providing a start time indicating when background traffic starts and an end time indicating when background traffic ends the indication being provided to an eNodeB.

Example 35 may optionally include the subject matter of Example 28 34 including providing an indication for differentiating background traffic.

Example 36 may optionally include the subject matter of Example 28 35 wherein the providing the indication for differentiating background traffic comprises providing to a node an information element through dedicated signaling wherein the information element includes a de prioritization bit the de prioritization bit being set in a first state to signal de prioritization of background traffic when active traffic is detected and set in a second state to signal not to de prioritize background traffic.

The above detailed description includes references to the accompanying drawings which form a part of the detailed description. The drawings show by way of illustration specific embodiments that may be practiced. These embodiments are also referred to herein as examples. Such examples may include elements in addition to those shown or described. However also contemplated are examples that include the elements shown or described. Moreover also contemplate are examples using any combination or permutation of those elements shown or described or one or more aspects thereof either with respect to a particular example or one or more aspects thereof or with respect to other examples or one or more aspects thereof shown or described herein.

Publications patents and patent documents referred to in this document are incorporated by reference herein in their entirety as though individually incorporated by reference. In the event of inconsistent usages between this document and those documents so incorporated by reference the usage in the incorporated reference s are supplementary to that of this document for irreconcilable inconsistencies the usage in this document controls.

In this document the terms a or an are used as is common in patent documents to include one or more than one independent of any other instances or usages of at least one or one or more. In this document the term or is used to refer to a nonexclusive or such that A or B includes A but not B B but not A and A and B. unless otherwise indicated. In the appended claims the terms including and in which are used as the plain English equivalents of the respective terms comprising and wherein. Also in the following claims the terms including and comprising are open ended that is a system device article or process that includes elements in addition to those listed after such a term in a claim are still deemed to fall within the scope of that claim. Moreover in the following claims the terms first second and third etc. are used merely as labels and are not intended to suggest a numerical order for their objects.

The above description is intended to be illustrative and not restrictive. For example the above described examples or one or more aspects thereof may be used in combination with others. Other embodiments may be used such as by one of ordinary skill in the art upon reviewing the above description. The Abstract is to allow the reader to quickly ascertain the nature of the technical disclosure for example to comply with 37 C.F.R. 1.72 b in the United States of America. It is submitted with the understanding that it will not be used to interpret or limit the scope or meaning of the claims. Also in the above Detailed Description various features may be grouped together to streamline the disclosure. However the claims may not set forth features disclosed herein because embodiments may include a subset of said features. Further embodiments may include fewer features than those disclosed in a particular example. Thus the following claims are hereby incorporated into the Detailed Description with a claim standing on its own as a separate embodiment. The scope of the embodiments disclosed herein is to be determined with reference to the appended claims along with the full scope of equivalents to which such claims are entitled.

