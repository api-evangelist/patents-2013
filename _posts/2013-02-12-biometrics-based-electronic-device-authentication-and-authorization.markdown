---

title: Biometrics based electronic device authentication and authorization
abstract: An indication of a configuration request for an electronic device is received. An indication of an access request for the electronic device is received after receiving the indication of the configuration request. The indication of the access request comprises biometric data. The biometric data is validated against previously captured biometric data. If the biometric data is valid based, at least in part, on said validation of the biometric data, a user profile associated with the biometric data is accessed and access to the electronic device is authorized in accordance with the user profile. If the biometric data is not valid based, at least in part, on said validation of the biometric data, a notification that an unauthorized access has been attempted is generated and transmitted.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09160743&OS=09160743&RS=09160743
owner: QUALCOMM Incorporated
number: 09160743
owner_city: San Diego
owner_country: US
publication_date: 20130212
---
Embodiments of the inventive subject matter generally relate to the field of networks and more particularly to authentication and authorization of home devices.

As electronic devices such as appliances become more advanced many incorporate the ability to be connected to computer networks. Typically labeled as smart devices connecting these smart devices to a network allows them to communicate with each other as well as the outside world via the Internet. For example a refrigerator with a built in touchscreen and Internet access can be designed to allow access to a database of recipes maintained by a third party such as the manufacturer. Or a digital video recorder DVR can be designed to allow a person to stream a movie from the DVR to a laptop computer in another room.

Various embodiments for biometrics based electronic device authentication and authorization are disclosed. In one embodiment a first network device receives an indication of a configuration request for an electronic device. Subsequent to receiving the indication of the configuration request from the electronic device the first network device receives an indication of an access request for the electronic device. The indication of the access request includes biometric data. The biometric data is validated against previously captured biometric data accessible by the first network device. If the biometric data is valid based on said validating the biometric data against the previously captured biometric data a user profile associated with the biometric data is accessed and access to the electronic device is authorized in accordance with the user profile. The user profile is one of a plurality of user profiles. If the biometric data is not valid based on said validating the biometric data against the previously captured biometric data a notification that an unauthorized access has been attempted is generated and transmitted.

The description that follows includes example systems methods techniques instruction sequences and computer program products that embody techniques of the present inventive subject matter. However it is understood that the described embodiments may be practiced without these specific details. For instance although examples refer to fingerprint and voice biometric data other types of biometric data can be utilized such as retinal recognitions. Furthermore the descriptions herein refer to home devices. The descriptions however apply to electronic devices whether home portable commercial etc. The use of home devices is merely intended to make the examples discussed clear. In other instances well known instruction instances protocols structures and techniques have not been shown in detail in order not to obfuscate the description.

The description refers to a security server. This term is used to refer to a computing system receiving and responding to requests transmitted over a network such as a local area network LAN . A security server can embody additional functionality as well such as functioning as a network router or a network gateway. A network router typically connects multiple components of a network together directing messages or packets between the components. A network gateway is a device configured to connect two networks such as a LAN to a wide area network WAN . In a consumer context a network gateway generally connects a home network i.e. private local area network to the Internet i.e. WAN . For example some Internet Service Providers ISPs provide customers with a device that includes the functionality of a modem a gateway and a router. Such a device can also embody the functionality described herein. A security server can also be a standalone device or incorporated into other devices such as those described above. A security server is not limited to the consumer context but can also be used in a commercial or business context. For example a security server can be deployed in an office environment controlling access to devices such as printers refrigerators access control devices for doors etc.

The terms authentication and authorization are used frequently herein. Generally authentication is used to refer to determining or confirming the identity of a person. For example the entering of a username and password serves as a way to determine that the user is who they claim to be. Biometric data that is believed to be unique to a particular user or believed unique enough that the chance of two people having the same biometric data is small can be used to authenticate a user similar to a login and password. Authorization generally refers to determining whether a particular user has permission to access an object such as a data file on a computer or a room in a building or perform a particular action or operation. Thus authorization generally occurs after a user has been authenticated although the two can be combined in some instances. The terms are used as described above herein. However it should be noted that the terms authentication and authorization are often confused when used elsewhere. Therefore the context in which the terms are used elsewhere may be used to determine the intended meaning of the term chosen.

The term connected is also used herein as above when stating that a router connects multiple components of a network together. The term connected can mean directly or indirectly coupled as well as communicatively or physically coupled. For example a first computing system and a second computing system are each physically coupled to the router by networking cables. Because the router allows the first computing system to communicate with the second computing system the two computing systems are communicatively coupled. Further a third computing system is connected to the router via a wireless connection thus making the third computing system and router communicatively coupled. Further a first component that is connected to a second component can be integrated into the second component or vice versa. Thus a microphone that is connected to a cellphone can be integrated into the cellphone itself. Components that are connected need not be within close proximity to each other. For example two computing systems can be connected via the Internet while being thousands of miles apart.

The ability to control access to home devices can be useful for multiple reasons. For example preventing a child from accidently turning on an appliance such as a dishwasher or stove can have obvious benefits. Controlling access also includes controlling specific activities such as allowing a user to watch television TV while restricting what channels can be watched to prevent the watching of inappropriate content. Although many home devices have features that accomplish these tasks to a certain degree they can be cumbersome to implement and are generally implemented on each individual device. For example devices may use different authentication methods some of which are more useful than others. While a TV may allow a parent to input a numeric password to prevent unauthorized access to specific TV channels it may be impractical to include the ability to create save and enter a numeric password on a dishwasher. Thus a dishwasher may be relegated to using a physical locking mechanism which is only successful as long as an unauthorized user does not figure out how the mechanism works whether accidently or on purpose. Additionally interfaces for controlling access can be limited by the device itself. Using a remote control to modify a large number of settings on a TV can be cumbersome while navigating liquid crystal display LCD screens on audio equipment to set a maximum volume level can be even more cumbersome.

Home devices can be designed to allow for authentication and authorization over a home network. Each home device can include the capability to capture one or more types of biometric data. The home device transmits the biometric data to a security server which authenticates the user transmitting a response back to the home device. The home device can also include information indicating the operation the user is attempting to perform along with the biometric data. The response from the security server back to the home device can include whether the user is authorized to use the device and or complete the requested operation. The response can also include further information such as a complete user profile detailing all permitted actions by the user or other combination of available information. The security server stores the user profile in a database or other storage system and allows modification of the user profile either directly or remotely including the inputting of biometric data.

The use of biometric data allows for a consistent easy to use authentication mechanism compatible with most home devices. For example including a user friendly mechanism for text or numeric entry on a toaster or dishwasher may be impractical. A keypad can take up valuable space while a compact entry mechanism such as allowing a user to scroll through individual alphanumeric characters can be cumbersome to use. However including biometric input functionality such as a fingerprint scanner or audio recorder can take up less space than an alphanumeric display and scrolling mechanism while being even easier to use than a password. Further biometric data can provide significantly increased security beyond physical locking mechanisms. Thus the use of biometric data increases security while also increasing ease of use.

Utilizing a security server simplifies setup and management of the related data. As mentioned above using a remote control to configure parental guidance features on a TV can be cumbersome. Having a central point for authentication and management also allows a user profile to be setup once instead of inputting biometric data on multiple home devices. The security server can include a biometric data input device thus allowing use of the biometric authentication without purchase of a separate biometric data input device. Further the security server can be configured to transmit notifications to users when a home device is accessed whether the access was permitted or not.

At stage A a user indicates his her interest in accessing or operating the microwave . The user can indicate his her interest in a variety of ways depending on the underlying implementation such as the nature of the microwave and the type of biometric data used. In some implementations the user can press a designated button on the microwave that indicates the user s interest in accessing or operating the microwave . In some implementations the user can press any button on the microwave . For example the microwave can have a button labeled Unlock which the user presses to indicate his her interest in using the microwave . The microwave might not have any designated buttons but rather the user s interest is inferred by the user pressing any other button such as one labeled Cook Time or Defrost. In some implementations the inputting of biometric data serves as the indication of interest. For example a fingerprint reader can identify when a user presses a finger against the fingerprint reader input without the user pressing another button. Or the fingerprint reader input can be combined with the button indicating interest such that when the user uses his her finger to press the button down the fingerprint reader is activated. Similarly the microwave can respond to voice commands which can serve as the indication of interest and biometric data.

After receiving or concurrently with a user s indication of interest in using the microwave the microwave records the user s biometric data. As above this can occur in a variety of ways. For example if the user indicates his her interest in using the microwave by pressing a button the user may then use the biometric data input device to input his her biometric data. If the inputting of the biometric data serves as the indication of interest the biometric data is recorded when the biometric data input device senses an attempt to input biometric data. Furthermore the recording of the biometric data will vary based on the type of biometric data used. If fingerprints are used then the biometric data can be recorded by scanning photographing or using other means to record a fingerprint. If voice biometric data is used a microphone can be used to record the user s voice. Regardless of the type of biometric data used the biometric data is recorded converted and or stored in a machine readable format suitable for the particular implementation. For example a fingerprint can be stored as an image file or a data file indicating a set of points within a two dimensional space a voice biometric data can be stored as a digital audio file etc. The microwave can be implemented such that it does minimal processing of the biometric data thus acting only as an input device. In this case the server can perform any additional processing to the biometric data. The microwave can also be implemented to process the biometric data to reduce the amount of network traffic load on the server etc. In this case the server may do little or no processing to the biometric data.

At stage B the microwave transmits a request including the recorded biometric data to the server over the network . The request can include other information such as a device identifier operation identifier etc. For example the microwave can be implemented such that the user is either authorized to use the microwave or not with no capability to authorize specific operations. Thus the request might only include the biometric data and an identifier identifying the microwave . A home device can also be implemented such that users are only authorized to perform a subset of operations available to the home device. For example if the home device is a digital video disc DVD player a user can be authorized to watch a DVD in the DVD player but not authorized to eject the DVD. Thus the request can include an identifier identifying a specific operation that the user is attempting to perform.

Furthermore multiple requests can be used. For example a home device can be a device in which a user interacts with frequently in one session such as a television. Instead of sending a request with the biometric data and operation identifier each time the user interacts with the television the requests can be broken down into authentication requests and authorization requests. The microwave and server can be implemented such that the microwave sends the biometric data with an initial authentication request and the results of the authentication are cached. Along with notification that the user is authenticated the server sends a user identifier to the microwave . The microwave then sends authorization requests to the server each time the user interacts with the microwave . The authorization requests can contain the user identifier as well as the operation identifier. A home device may only send one authorization request for each type of operation. In other words if the server indicates to a home device a television that the user is authorized to change channels the television might cache the authorization so that it does not have to request authorization each time. This reduces potentially unnecessary network traffic and load on the server because the authentication and authorization statuses might not change frequently. Thus the television might only update authentication and authorization statuses for particular users and operations on a periodic basis such as daily. Additionally the server can be implemented to send notifications to all connected home devices when either authentication or authorization statuses change. The server can send an indication indicating that the home devices should flush their cache or the home server can indicate the specific changes. Some types of home devices such as a dishwasher may be used infrequently enough that no caching is used and only authentication requests are made.

At stage C the server has received a request from the microwave attempting to authenticate or authorize the user. As discussed above the server can be implemented to handle multiple types of requests such as authentication requests and authorization requests. Thus the server determines the type of request. If the server determines the request is an authentication request the server can extract the biometric data from the request. The server can do any processing to the biometric data not done by the microwave . Once the biometric data is in an appropriate format the server searches a database for matching biometric data. The database includes user information such as representative biometric data and permissions collectively referred to as a user profile discussed in detail below. If the server finds biometric data in the database matching the received biometric data the server has matched the user supplying the biometric data with a user profile in the database thus authenticating the identity of the user. If the server does not find biometric data in the database matching the received biometric data the server has not authenticated the identity of the user.

If the server determines that the request is an authorization request the server determines whether the user is authorized to perform a particular action. The server extracts a user identifier or biometric data from the request. The server uses the user identifier or biometric data to determine the user and look up the user profile in the database. The server determines what operation is being attempted by extracting an operation identifier from the request. The server uses the operation identifier and the user profile to determine whether the particular user is authorized to perform the particular operation. The server may also use other information such as a device identifier as well. For example a user profile may include a table indexed by device identifier and operation identifier pair with a corresponding Boolean value indicating whether the user is authorized to perform the particular operation on the particular device. The server looks up the Boolean value corresponding to the device identifier and operation identifier from the request. If the Boolean value is true the user is authorized to perform the particular operation on the particular device. If the Boolean value is false or the row does not exist the user is not authorized to perform the particular operation on the particular device.

As discussed above the authentication and authorization requests can be combined. In such cases the actions described above pertaining to authentication and authorization can be combined as appropriate. Additionally some implementations may utilize different requests not specified above and the server can be implemented to appropriately handle such other requests. For example the gateway can be implemented to handle requests for updating cached user profiles as discussed below.

At stage D the server transmits a response to the microwave . The response can vary depending on the implementation. The response to a request may only contain a value such as a Boolean value indicating whether the user was properly authenticated or authorized depending on the request type. The response can also contain a user identifier a user profile a request identifier etc.

At stage E the microwave allows or denies access to the user based on the server response. If the microwave is implemented such that individual operations not merely access can be authorized the requested operation may be allowed or denied without allowing or denying the user access or ability to perform other operations. The microwave may also cache the response or otherwise store the information contained in the response as discussed above.

In some implementations a notification can be sent by the server upon a failed authentication or authorization. For example if a user attempts to change the channel on a television to a channel for which they are not permitted to access a notification can be sent to a designated user providing the details of the unauthorized access. The notification can take any appropriate form. For example the notification can be an e mail message a text message sent to the cellphone a notification that is displayed on the screen of an electronic device such as a television etc. The server can be configured to allow notifications to go to any combination of users of the home biometric security system . Further the server can be configured to restrict the notifications to be sent only upon accesses to certain devices or operations. For example the server can be configured to send a notification when a user attempts to access a prohibited channel on a television but not send a notification when a user attempts to use the dishwasher and is not permitted. Further notifications can also be sent when users are successfully authenticated or are authorized to perform the requested operation.

As discussed above a home device can receive an indication that the user is interested in accessing or operating the home device in a variety of ways. One example given was the user pressing a button on the device. However many variations are possible. For example a button or the biometric data input device can exist separately from the home device. The system can be designed such that there is a control panel containing appropriate buttons and the biometric data input device for a set of home devices. For example a kitchen can contain multiple home devices such as the microwave the refrigerator a dishwasher an oven and a toaster. Instead of including a biometric data input device on each home device in the kitchen there can be a single control panel containing the biometric input device . The control panel can be implemented as an intermediary between the server and each individual device. The control panel can accept input to identify which appliance the user is interested in using. The user enters input that identifies a particular home device and inputs his her biometric data using the biometric data input device on the control panel similarly to that described above. The control panel communicates with the server and then forwards the server response to the appropriate home device or otherwise communicates to the appropriate home device that it should be operable. Additionally the control panel could function similarly to a multi function home device such as a television. A user could be granted or denied use of any or all individual device s attached to the control panel. When the user inputs his her biometric data the control panel can request authorization for each home device connected to it and then notifies each appropriate device that it should be operable. Thus if the user is attempting to cook the user only has to request authorization once and is allowed access to the microwave stove and oven. Furthermore this can reduce the complexity and cost of updating home devices to integrate with a home biometric security system. Because the single control panel communicates with the server the individual home devices only have to be updated to include functionality that allows the home devices to be operable or not operable based on an electrical input. Many home devices already include similar features making basic integration with a home biometric security system simple. Furthermore the home device can communicate with the control panel utilizing a wireless technology such as the Bluetooth wireless protocol.

In some implementations the cellphone can be used to authenticate and authorize a user to use a home device. For example the user downloads and installs an application to the cellphone . The application connects to the server and downloads a list of home devices connected to the server . The user selects the home device from the list of devices and inputs his her biometric data via the biometric data input unit . The biometric data input device can be coupled to the cellphone using a wired or wireless connection. For some biometric data types such as voice the cellphone functions as the biometric data input device without modification. After the user inputs his her biometric data the application then transmits the request to the server . The server can then send the response to the home device and or the cellphone .

In some implementations involving a cellphone and an application installed on the cellphone instead of downloading a complete list of home devices from the server the application downloads only a list of home devices the user is authorized to access. For example the user indicates that the application should connect to the server . The user inputs his her biometric data which is used to retrieve the user s user profile indicating the actions they can perform. Then the user can indicate the actions the user wants to perform or home devices the user wants to access using the cellphone . This is similar to the functionality described above where the home device caches the authentication and or authorization status. The application would retrieve updates to the list from the server at periodic intervals or if the server indicates that the user is making a request that is denied.

The server is depicted as being connected to the network similar to other devices. However the server could also be a network hub such as a router wired or wireless . The server could also be a gateway such as a device used to connect Internet service to a home network. In this manner the server could be the central point of the network with the home devices connected to it.

The network can be a wired network wireless network or combination thereof. The network can be a LAN a WAN a home area network or other suitable network. A home device and server can use any suitable existing or future network protocol to communicate. The server can implement an application programming interface API thus allowing home devices designed to implement the API to utilize biometric data for authentication or authorization. The communications can be accomplished using multiple protocols. For example the API can be built on top of the HTTP protocol or a broadcast network protocol can be used for some of the communications while a file transfer protocol is used for others. Furthermore the network can consist of multiple interconnected networks.

Configuration of a home device such as connecting it to the network can be accomplished in a variety of ways. The home device can include a connection for a wired network such as an Ethernet connection. The home device can be designed to join the network automatically when a network cable is plugged into the home device. The home device can also support a wireless network connection by including a wireless network adaptor or including an input output port compatible with a wireless network adaptor. The home device can include a user interface for configuring the home device for a wired or wireless network connection or can allow a computer to be coupled with the home device to allow configuration of the home device.

Configuring a home device to function with the server can also be accomplished in a variety of ways. In some implementations the home device can implement a protocol that allows the home device to configure itself with the gateway such as zero configuration networking Once connected to the network the gateway automatically recognizes the home device and is able to determine the operations available on the home device. Thus when the home device is connected to a network with the server the home device automatically becomes available for configuration by an administrator as discussed below. The protocol can be an existing protocol or one developed for this or another purpose. In some implementations the home device can be configured to work with the server manually. For example the network information of the home device such as the IP address can be entered into the server allowing the home device and server to communicate with each other. The operations available on the home device can also be entered manually into the server .

A home device and server can be implemented such that a default user profile is generated when the home device is initially configured to work with the server . For example the home device can wait for a user to enter in his her biometric data before sending a notification to the server that the home device has been connected to the network . The server can refuse to acknowledge the home device unless the biometric data corresponds to a user already stored in the server . This allows a user to access and use the home device once it is added. The server can further restrict which users can allow a home device to be configured initially to administrators. This prevents a user from adding a new home device in order to bypass restrictions on the home device . For example if a user is not allowed to access a particular channel on a television the user may attempt to add another television to the network in an attempt to bypass the restrictions on the previously added television. However if access to new devices is restricted to an administrator the user adding the new television would not be able to access the device until permissions were setup by the administrator.

The configuration of users on the server can take many different forms and be extended in many different ways. For example user profiles can be assigned to a group and permissions inherited by the individual user profiles from the group. Thus an administrator can designate a child group and deny access to certain channels on a television to any user who is part of that group. Then the administrator can add each user profile for a child to that group and the added user profiles will contain the same restrictions. Similarly access can be granted based on a user profile belonging to a particular group. Furthermore various home devices can belong to different groups allowing the administrator to grant or deny access to sets of home devices instead of individually.

Additionally the server can be implemented to allow transferable permissions. For example it would be time consuming to set up a brand new profile for each guest that came over and wanted to use a home device. Instead the server can allow a particular user to transfer his her permissions to a guest user. If the guest was a guest of a particular user the guest would not receive permissions greater than that of the particular user. Furthermore a user can be designated as a device owner restricting use of that particular device to the particular user. The device owner however can designate that another user can also use that particular device temporarily or permanently.

The implementations described above are not mutually exclusive. For example one device within the home biometric security system may utilize a combined authentication authorization request while another utilizes individual authentication authorization requests. A kitchen may include a single control panel with multiple home devices connected to it while the control panel a television and a DVD player are connected to the server all of which are controlled by the cellphone . Furthermore the inventive subject matter can be implemented alongside existing security mechanisms. For example a safe may include a keyed lock that must be physically unlocked while also requiring the input of biometric data.

At block a home biometric security server server receives a request from a home device. The request is received over a network connecting both the server and the home device. The home device can transmit the request utilizing a protocol implemented by the server. The server can implement an existing protocol such as the HTTP protocol or implement a new protocol designed for a particular purpose. After receiving the request control then flows to block .

At block the server determines whether the request is an authentication request. If the request is not an authentication request it is assumed to be an authorization request for the purposes of this example. Actual implementations can also implement many other request types such as a request to initiate configuration between the home device and the server a request to update a user profile or other cached information etc. Additionally in some implementations the authentication and authorization requests are a single combined request. In some implementations the authentication and authorization requests can either be combined or separate. How the server determines whether the request is an authentication request can vary between implementations. For example if utilizing the HTTP protocol the server might look at an HTTP header field to determine the request type. If the server determines that the request is an authentication request control then flows to block . If the server determines that the request is not an authentication request control then flows to block .

At block the server extracts the biometric data from the request. The biometric data can be embedded in the request using multiple techniques. For example the biometric data can be embedded directly as binary data representing an image or audio file. The biometric data can be a textual representation of particular points on a fingerprint. The biometric data can be included in a distinct request from the initial request. For example the home device can send a request requesting authentication and indicating that the biometric data will be transmitted in a separate request perhaps using a different protocol. Additionally the use of two individual requests can be implicit based on the design of the server. After the server extracts the biometric data from the request control then flows to block .

At block the server determines if biometric data matching the extracted biometric data exists in a database associated with the gateway. The server includes a database of user profiles with associated biometric data. The technique used to look up the user profile associated with the biometric data can vary between implementations. For example the user profile can be indexed in the database by a representation of the associated biometric data. The server can then convert the extracted biometric data into the form utilized by the database and look up the user profile based on the indexed representation of the user profile. The server may include the biometric data associated with the user profiles as individual files. The server can run a comparison between the extracted biometric data and the stored biometric data determining whether there is a match. The database can then contain an identifier indicating which biometric data file the user profile is associated with which can be looked up by the server based on the comparison. The comparisons or index searches may not look for exact matches but may look for matches that are within a certain margin of error. If the server determines that the user profile exists in the database control then flows to block . If the server determines that the user profile does not exist in the database control then flows to block .

At block the server creates an authentication succeeded response. The response can include a variety of information such as a number identifying the request it is in response to and information about the user. Although depicted as being created before determining the information to include with the response the response can be created after determining and collecting all information to be included in the response. After creating the authentication succeeded response control then flows to block .

At block the server determines the user identifier used by the home device if any and includes it in the response. The home device may not store any information about the user. A dishwasher for example may request authentication before being turned on and allow access until the wash cycle is completed. After the dishwasher has completed the cycle it requests authentication before the next time it is turned on. Thus it does not store any user information. However some home devices such as a television may send messages beyond an initial authentication message and thus may request a user identifier. A user identifier may be smaller in size than biometric data decreasing the amount of memory used on the home device and decreasing network traffic. After determining the user identifier used by the home device if any control then flows to block .

At block the server determines if the home device has requested a user profile. The home device can request that the server transmit a copy of the user profile back in the authentication response. This allows the home device to send fewer requests to the server as described above. The home device can specify whether it requests the user profile by setting a particular field in the initial request or other method dependent on the implementation. The server can also be designed to include the user profile in all authentication requests. If it is determined that the user profile is requested by the home device control then flows to block . If it is determined that the user profile is not requested by the home device control then flows to block .

At block the server adds the user profile to the response. The entire user profile or a subset of the user profile can be included in the request. As discussed above the user profile can include a variety of information including various pieces of information about the user as well as permissions for all devices connected to the network. The requesting home device might only use a small subset of the data and as such can request only the information it uses. For example the home device can request only the user identifier and the set of permissions related to the requesting home device. After adding the user profile to the response control then flows to block .

Control also flows to block if the server determined that the user profile was not requested by the home device at block . At block the server determines if any additional data should be included with the response and adds the additional data to the response. As described above the response can include a variety of data depending on the implementation. For example the response can include various metadata such as how long the home device should keep information cached information about the protocol used etc. This additional information or some subset of the additional information might be include in all responses or might be requested by the home device. After determining if additional data should be included with the response and adding the additional data to the response control then flows to block .

Control flowed to block if the server determined that the user profile was not in the database at block . At block the server creates a response indicating that the authentication failed. The server can include additional data such as a specific error code and error message with the response. After creating the response indicating that the authentication failed control then flows to block .

Control flowed to block if the server determined that the request was not an authentication request at block . At block the server extracts the user identifier from the request. If the request is not an authentication request it is assumed that the request is an authorization request for this example. The home device could request a user identifier to be included with the authentication response. If the home device requested a user identifier typically it would store the user identifier and include it with subsequent authorization requests. The server implementation will generally specify how the user identifier is included in a request which can vary between implementations. The home device could also be implemented such that biometric data serves as the user identifier for every request. Thus the user identifier can be extracted similarly to how the biometric data is extracted at block . After the user identifier is extracted from the request control then flows to block .

At block the server determines whether the user profile associated with the user identifier exists in the database. If the user identifier is biometric data this can be accomplished as described for block . For other types of user identifiers the server will typically perform a query on the database for any profiles associated with that user identifier. The user identifier will typically be a unique value that allows for quick and simple database lookups for the associated user profile. If the user profile is found in the database control then flows to block . If the user profile is not found in the database control then flows to block .

At block the server extracts the device identifier and operation identifier from the request. The device identifier identifies the specific home device sending the request allowing the server to look up the permissions specific to that device. The operation identifier identifies the specific operation the user is attempting to perform on the requesting home device allowing the server to look up the permission specific to that operation. Some home devices may not include an operation identifier in which case the permission related to the device identifier is whether the device can be operated by the particular user or not. After extracting the device identifier and operation identifier from the request control then flows to block .

At block the server determines whether the user is authorized to perform the requested action. The server looks up the user permissions associated with the device identifier. The server can be implemented such that if there are no permissions associated with the device identifier in the user profile the user does not have permission to perform any operations on the home device. If there are permissions associated with the device identifier but no operation identifier was included in the request the server can be implemented to indicate that the user has permission to operate the home device. If no operation identifier is included the server can also be implemented to read a single permission value associated with the device identifier and determine whether the user is authorized to use the home device based on the single permission value. If an operation identifier is included the server can read a permission value associated with the device identifier and the operation identifier to determine whether the user has permission to perform the specified operation. The permissions can be stored in a variety of ways such as a multidimensional table or single dimensional table indexed by a combination of the device identifier and operation identifier. The permissions can be stored in multiple formats including Boolean values or integers. The permissions are not restricted to true and false values. For example a permission can indicate the maximum volume level a user can turn an audio receiver up to or a permission can comprise a set of values indicating the channels the user is permitted to watch on a television. The specific implementation of the permissions can vary based on a number of factors such as the types of home devices expected to be connected to the server and the level of complexity determined to be appropriate for users of the server. If the server determines that the user is authorized to perform the action control then flows to block . If the server determines that the user is not authorized to perform the action control then flows to block .

At block the server creates a response indicating the user is authorized to perform the requested action. The response can include information similar to that discussed regarding other responses such as a request identifier and a user identifier. The response can also include other metadata or information depending on the specific implementation. After creating the response indicating the user is authorized to perform the requested action control then flows to block .

Control flowed to block if the server determined that the user profile was not found in the database at block . At block the server creates an error response indicating that the user profile was not found. The error response similar to previously discussed responses can contain additional metadata and information depending on the specific implementation. For example the error response might include an error message as well as an error number. After creating the error response control then flows to block .

Control flowed to block if the server determined that the user was not authorized to perform the requested operation at block . At block the server creates a response indicating that the user is not authorized to perform the requested operation. As with previously discussed responses the response can include additional metadata and information depending on the specific implementation. For example the request can include the operation identifier and the permission value associated with the device identifier and the operation identifier. After creating the response indicating that the user is not authorized to perform the requested operation control then flows to block .

Control flowed to block from blocks and . At block the server sends the response to the home device. The home device can be identified by a device identifier as described above. The server can look up information associated with the home device in a database including information used to communicate with the home device such as the IP address. The server may also be able to determine the information used to communicate with the home device from the request. The server can be implemented to send the response using the same protocol as used for the request or a different protocol. After sending the response to the home device the process ends.

Although the above example discusses multiple responses the server can be implemented such that one type of response is used with different fields in the response set to different values based on the request. For example the response can include a field indicating the type of response. The response can include a field indicating success or failure with an additional field reserved for specific messages from the server. The variations available when implementing a communications protocol or other protocol as described above are numerous. Thus the above example does not limit the inventive subject matter.

At stage A the television receives biometric data from the remote control and transmits an authentication request to the server . As described above biometric data input devices can be coupled to home devices in a variety of ways. For some home devices that are operated by remote control such as a television integrating the biometric data input device into the remote control can increase the convenience to the user. In the case of the television if the biometric data input device were integrated into the television or connected via a cable the user would walk to the television each time biometric data was to be input.

Other than having the biometric data input device integrated into the remote control the television operates similarly to the home device described above. The television generates and transmits a request containing the biometric data to the server . The request includes an indication that the television has functionality that allows the television to work with a user profile.

At stage B the server authenticates the user using the biometric data as described above. The server recognizes that the television has functionality allowing the television to work with a user profile. Thus after the server determines that the user exists in the server database the server reads the user profile associated with the biometric data from the database. The server then transmits a response to the television and includes the user profile in the response. If the user is not authenticated the server responds as described above.

The user profile can contain a variety of information including details about the user such as name age contact information user role etc. The user profile can also contain indications of devices the user is authorized to use plus a set of permissions indicating what operations the user is permitted to do on each device. The user profile could be implemented in a manner similar to an access control list. The user profile can contain other information depending on the implementation and could also be in an extensible format allowing different implementations to include additional information while maintaining compatibility with other implementations.

The server can be implemented such that the response contains only information relevant to the requesting device. The requesting device such as the television can include a list of only the pieces of data it will use. For example a device with only a small display such as an audio device may not need the name of the user while the television might display the user name. In particular instead of sending the full user profile including all permissions for all home devices the server can just send the permissions related to the television . In addition to the user profile the request can include other information such as the names of administrators and metadata about the server or the home biometric security system .

When the television receives the user profile the user is authorized. The television stores the user profile in internal storage. Anytime the user attempts to perform an operation on the television such as changing the channel increasing the volume etc. the television can perform a lookup in the user profile to determine whether the user has permission to perform the operation. This results in less network traffic and quicker response time. For example if the television did not store the user profile each time the user changed a channel the television would send a request to the server to determine whether the user was authorized to watch the channel being changed to. Depending on network traffic the length of time between the user initiating an operation at the television and the television receiving the authorization may present a noticeable lag in response time. With the user profile stored on the television itself or at least the permissions of the authenticated user for the television the television can operate in accordance with permissions stored locally internally reducing the length of time between the user initiating an operation and the television determining whether it can proceed with the operation.

However caching the user profile on the television can result in the permissions being out of sync with the user profile on the server . For example if an administrator adds the ability for a user to watch a channel that was previously denied the user cannot watch that channel until the copy of the user profile stored on the television is updated. The impact of a stale copy of the user profile can be reduced using a variety of techniques. First the television can send a request to the server periodically and receive an updated profile. For example the television might send a new request once an hour or after the user makes twenty five operation requests. Second the television can include a mechanism in which the user indicates that the user profile should be updated. Third each time the user profile is updated on the server the server can then send the updated user profile to all connected devices. Further a gateway server can maintain flags timestamps that indicate transmission of permissions or a user profile to a home device. When a permission is changed the gateway will push the change to the home device or notify the home device depending upon the flags timestamp and lifespan of authentications and or authorizations. Other techniques can be employed as well and can vary based on the individual implementation.

At stage D a user logs into the server as an administrator and creates or modifies user profiles. The administrator logs into the server remotely from the computer over a network. In some implementations the server has a display and user interface allowing for account management and configuration changes directly on the server . In some implementations the server allows for account management and configuration changes directly on the server while also allowing management from a separate computer. The server can restrict remote access from the computer to instances when the computer is on a local area network with the server . The server can also allow remote access from the computer when the computer is not on a local area network with the server such as over the Internet. The server can restrict remote access to the computer or can allow remote access from any computer as long as the user supplies the correct credentials or can restrict remote access to a set of computers designated by an administrator.

The server provides user interfaces for creating and modifying user profiles. The interface for creating a user profile can be the same or substantially similar to that of modifying user profiles. Multiple user interfaces for each can be provided. For example the server can include a basic user interface that takes an administrator through a subset of options available for user profiles. The server can provide an advanced mode that allows the administrator to select from more options.

As described above a user profile can contain a variety of information. For example the user profile can contain information such as the user s name biometric data contact information user role and home device permissions. The user role can be used to specify whether the user associated with the user profile is an administrator or not. The home device permissions can include whether the user is authorized to use a particular device and if so what operations on the home device the user is authorized to perform.

At stage E a user associated with a new user profile inputs biometric data using the biometric input device coupled with the server . The biometric data input device can be integrated into the server . The biometric data input device can be coupled with the server by a cable coupled to the computer or can be coupled to either the server or the computer . Additionally the biometric input device can be integrated with or coupled to a home device.

A user associated with a new user profile can indicate to the server that the user is inputting biometric data. For example the administrator can indicate that the next biometric data received by the server from a particular biometric data input device is to be associated with a particular user profile. Additionally a user can indicate to the server that the biometric data is to be stored for association with a user profile in the future. For example the user can press a button on the server and input his her biometric data using the biometric data input device . The server stores the biometric data as being available to be associated with a user profile. At a later point in time an administrator creates a user profile and associates the biometric data with it. The gateway can be configured to send a notification to an administrator upon receiving biometric information that does not match biometric data in the database as described above. The gateway can further be configured to allow the administrator to view or listen to the biometric data depending on the biometric data type and create a profile based on recognizing that the biometric data belongs to a particular user.

At block the home device receives an indication of user authentication. An indication of user authentication can include an attempt to input biometric data using a biometric data input device or the pressing of a button on the home device. If the indication is in a form that does not include the inputting of biometric data the home device enables a biometric input device and waits for the user to input his her biometric data. After receiving an indication of user authentication control then flows to block .

At block the home device generates and transmits an authentication request that also requests the user profile associated with the authenticating user. The home device generates an authentication request as described above. The home device includes an indication that indicates to the home biometric security gateway that the home device requests the user profile of the authenticating user. In other words the home device requests the user profile of the user associated with the biometric data included in the authentication request. The home device transmits the generated request as described above. After generating and transmitting the request control then flows to block .

At block the home device receives the response associated with the authentication request transmitted at block . The authentication response is substantially similar to that described above. For example it can include a request identifier indicating the authentication request it is associated with a user identifier an indication that the user authentication failed etc. After receiving the response to the authentication request control then flows to block .

At block the home device determines whether the user is authenticated or not. The manner in which the home device determines whether the user is authenticated or not can vary between implementations. For example the format of the response can vary between implementations. Generally the home device will inspect a field embedded in the response and determine whether the value in the field indicates that the user was properly authenticated or not. If the home device determines that the user was authenticated control then flows to block . If the home device determines that the user was not authenticated control then flows to block .

At block the home device extracts and stores the user profile from the authentication response. The user profile can be embedded in the authentication response in a variety of ways and can vary between implementations. For example the user profile can be stored using binary data or textual data. The representation can vary based on what information is included in the user profile as well as how the user permissions are defined. The home device can store the user profile in a variety of ways as well. For example if the home device only stores the user profile for a short period of time the home device can store the user profile in a small amount of volatile memory such as RAM. For longer term storage the home device can store the user profile in non volatile memory such as a hard disk or flash storage. In some implementations the user profile is not stored at all. After extracting and storing the user profile control then flows to block .

At block the home device receives an indication of a device operation request from the user. For example a device operation for a television can be a request to change the channel. A device operation for a dishwasher can be a request to turn the dishwasher on. The home device receives the indication in a manner that is appropriate to the implementation. For example a request to change the channel of a television can come from the user pushing a button on the remote control or the television itself. A request to turn on a dishwasher can come from the pressing of a button or an indication that the dishwasher door is locked and a dial is in a particular position. After receiving the indication of the device operation request from the user control then flows to block .

At block the home device determines whether the user is authorized to perform the requested device operation. When the home device stores the user profile as in this example the home device determines whether the user is authorized to perform the requested device operation by examining the user profile. Generally the user profile will include the permissions associated with the user. As discussed above the user profile can be formatted in a variety of ways and the home biometric security gateway can send various subsets of the user profile to the home device. If all user permissions are included in the user profile the home device first locates the user permissions associated with the home device. Then the home device locates the user permissions associated with the particular device operation. The technique used to locate the correct permission can vary depending on the format of the permissions as described above. If the user permission for the particular home device and operation do not exist the home device can be implemented to then use a default permission or deny the user the ability to perform the particular operation. A default permission can be used in scenarios in which the user is granted permission to access a particular home device or perform a particular operation unless specifically denied. This makes configuration simpler when more users will have access to a home device than not. If the home device determines that the user is authorized to perform the requested device operation control then flows to block . If the home device determines that the user is not authorized to perform the requested device operation control then flows to block .

At block the home device performs the device operation as requested by the user. For example if the requested operation is to change the channel on a television the television tunes to the channel requested by the user. This particular aspect of the process is dependent on the home device implementation. After performing the device operation as requested by the user control then flows to block .

At block the home device determines if the user profile is stale. As described above the user profile stored on the home device can become out of sync with the user profile on the home biometric security gateway. In such a scenario the user profile on the home device is considered to be stale. The home device can consider a user profile that has not been updated within a certain period of time to be stale. For example if the home device received the user profile more than one hour ago the home device considers the user profile stale. In these scenarios the user profile may not actually be out of sync however the home device still marks the user profile as stale. The home device can also receive notifications from the gateway indicating that the user profile has been modified. The home device can examine a particular value to determine if the user profile is stale such as a timestamp associated with reception of the user profile or a field indicating that the home biometric security gateway has transmitted a notification that the user profile has been modified. If the home device determines that the user profile has become stale control then flows to block . If the home device determines that the user profile has not become stale the process ends.

At block the home device requests an updated user profile. Because the home device determined that the user profile was stale at block the home device queries the home biometric security gateway for an updated user profile. The request for the updated user profile can include a user identifier and a value representing the version of the user profile. For example the request can include the timestamp indicating when the user profile was received or a value included with the user profile that the home biometric security gateway increments each time the user profile is modified. This added value can allow the home biometric security gateway to determine if the user profile is actually out of sync by comparing the value with an appropriate value associated with the user profile on the home biometric security gateway. If the user profiles are not out of sync the home biometric security gateway can indicate so instead of sending the full user profile decreasing network traffic. The home device can then updated the value associated with the user profile if it is a timestamp or can update the user profile if a new version is returned from the home biometric security gateway. After requesting an updated user profile the process ends.

Control flowed to block if the home device determined that the user authentication failed at block . At block the home device indicates to the user that the authentication failed. For example a television can display a message stating that the user authentication failed or a dishwasher might disable operation and cause various lights on the dishwasher to blink. The specific manner in which the home device indicates to the user that the authentication failed will vary based on the implementation of the specific home device. After indicating to the user that the authentication failed the process ends.

Control flowed to block if the home device determined that the user was not authorized to perform the requested device operation at block . At block the home device indicates to the user that the user is not authorized to perform the device operation. This can be accomplished similarly to indicating that the authentication failed at block . After indicating to the user that the user is not authorized to perform the device operation the process ends.

As example flowcharts the flowcharts depicted above present operations in an example order from which embodiments can deviate e.g. operations can be performed in a different order than illustrated and or in parallel . For example in it is depicted that the home device determines if a user profile becomes stale after performing a device operation requested by a user. However the home device can be implemented to determine whether the user profile has become stale prior to determining whether the user is authorized to perform the device operation. The home device can also be implemented to determine whether the user profile has become stale completely independently of the process depicted in .

The examples discussed above make reference to various types of biometric data particularly fingerprint and voice biometric data. However any type of biometric data can be used. Examples of other types of biometric data include palm prints facial data retinal and other eye data vein pattern data etc. Similarly although certain home devices are specifically referred to above these references are made solely as examples to describe the inventive subject matter. The inventive subject matter is not limited to the specific home devices described herein.

The above examples refer to administrators. As used herein an administrator is merely a specific type of user that is responsible for some portion of the configuration of the systems described. For example an administrator may have permission to modify the permissions of other users whereas the other users cannot modify permissions for any users. There can be multiple administrators in a particular system and different administrators may have permission to modify certain aspects of the system configuration. However some administrators may be restricted to modifying certain aspects of the system configuration. Any of the examples described above that refer to a user or users also apply to administrators.

As will be appreciated by one skilled in the art aspects of the present inventive subject matter may be embodied as a system method or computer program product. Accordingly aspects of the present inventive subject matter may take the form of an entirely hardware embodiment a software embodiment including firmware resident software micro code etc. or an embodiment combining software and hardware aspects that may all generally be referred to herein as a circuit module or system. Furthermore aspects of the present inventive subject matter may take the form of a computer program product embodied in one or more computer readable medium s having computer readable program code embodied thereon.

Any combination of one or more computer readable medium s may be utilized. The computer readable medium may be a computer readable signal medium or a computer readable storage medium. A computer readable storage medium may be for example but not limited to an electronic magnetic optical electromagnetic infrared or semiconductor system apparatus or device or any suitable combination of the foregoing. More specific examples a non exhaustive list of the computer readable storage medium would include the following a portable computer diskette a hard disk a random access memory RAM a read only memory ROM an erasable programmable read only memory EPROM or Flash memory an optical fiber a portable compact disc read only memory CD ROM an optical storage device a magnetic storage device or any suitable combination of the foregoing. In the context of this document a computer readable storage medium may be any tangible medium that can contain or store a program for use by or in connection with an instruction execution system apparatus or device.

A computer readable signal medium may include a propagated data signal with computer readable program code embodied therein for example in baseband or as part of a carrier wave. Such a propagated signal may take any of a variety of forms including but not limited to electro magnetic optical or any suitable combination thereof. A computer readable signal medium may be any computer readable medium that is not a computer readable storage medium and that can communicate propagate or transport a program for use by or in connection with an instruction execution system apparatus or device.

Program code embodied on a computer readable medium may be transmitted using any appropriate medium including but not limited to wireless wireline optical fiber cable RF etc. or any suitable combination of the foregoing.

Computer program code for carrying out operations for aspects of the present inventive subject matter may be written in any combination of one or more programming languages including an object oriented programming language such as Java Smalltalk C or the like and conventional procedural programming languages such as the C programming language or similar programming languages. The program code may execute entirely on the user s computer partly on the user s computer as a stand alone software package partly on the user s computer and partly on a remote computer or entirely on the remote computer or server. In the latter scenario the remote computer may be connected to the user s computer through any type of network including a local area network LAN or a wide area network WAN or the connection may be made to an external computer for example through the Internet using an Internet Service Provider .

Aspects of the present inventive subject matter are described with reference to flowchart illustrations and or block diagrams of methods apparatus systems and computer program products according to embodiments of the inventive subject matter. It will be understood that each block of the flowchart illustrations and or block diagrams and combinations of blocks in the flowchart illustrations and or block diagrams can be implemented by computer program instructions. These computer program instructions may be provided to a processor of a general purpose computer special purpose computer or other programmable data processing apparatus to produce a machine such that the instructions which execute via the processor of the computer or other programmable data processing apparatus create means for implementing the functions acts specified in the flowchart and or block diagram block or blocks.

These computer program instructions may also be stored in a computer readable medium that can direct a computer other programmable data processing apparatus or other devices to function in a particular manner such that the instructions stored in the computer readable medium produce an article of manufacture including instructions which implement the function act specified in the flowchart and or block diagram block or blocks.

The computer program instructions may also be loaded onto a computer other programmable data processing apparatus or other devices to cause a series of operational steps to be performed on the computer other programmable apparatus or other devices to produce a computer implemented process such that the instructions which execute on the computer or other programmable apparatus provide processes for implementing the functions acts specified in the flowchart and or block diagram block or blocks.

While the embodiments are described with reference to various implementations and exploitations it will be understood that these embodiments are illustrative and that the scope of the inventive subject matter is not limited to them. In general techniques for authentication and authorization for home devices as described herein may be implemented with facilities consistent with any hardware system or hardware systems. Many variations modifications additions and improvements are possible.

Plural instances may be provided for components operations or structures described herein as a single instance. Finally boundaries between various components operations and data stores are somewhat arbitrary and particular operations are illustrated in the context of specific illustrative configurations. Other allocations of functionality are envisioned and may fall within the scope of the inventive subject matter. In general structures and functionality presented as separate components in the exemplary configurations may be implemented as a combined structure or component. Similarly structures and functionality presented as a single component may be implemented as separate components. These and other variations modifications additions and improvements may fall within the scope of the inventive subject matter.

