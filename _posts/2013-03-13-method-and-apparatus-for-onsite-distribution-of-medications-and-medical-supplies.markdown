---

title: Method and apparatus for onsite distribution of medications and medical supplies
abstract: Secure access distribution machines and methods for distributing a plurality of medical items to an authorized user. The distribution machine includes a housing enclosing a plurality of bins for storing medical items mounted on carousels. Once the distribution machine has been provided with user identification data, patient identification data, and an item selection, the plurality of carousels is actuated to move a bin holding a selected medical item to a location behind an access door in the housing. The user can then reach into the housing to manually retrieve and then verify the removal of the selected medical item. Only one access door into the housing is opened at any time, thereby preventing unauthorized removal of medical items stored in any other bins within the housing.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09443370&OS=09443370&RS=09443370
owner: Omnicare, Inc.
number: 09443370
owner_city: Cincinnati
owner_country: US
publication_date: 20130313
---
This application claims the benefit of U.S. Provisional Application No. 61 615 711 filed Mar. 26 2012 the disclosure of which is hereby incorporated by reference herein in its entirety.

The invention relates generally to a distribution machine and associated methods and more particularly to a distribution machine for distributing medical supplies and medications e.g. medical items including controlled substances at a remote location such as a healthcare facility where the patient or recipient is located a community center of a residential complex and similar direct or indirect distribution locations.

Medication supply companies have commonly provided Automated Dispensing Cabinets ADC s at hospitals and other healthcare facilities to extend the inventory of non prescription medications to locations proximate to the patients that may require such medications. These Automated Dispensing Cabinets enable a nurse or another authorized user to request medications on demand for rapid delivery to a patient. One known type of Automated Dispensing Cabinet includes a plurality of lockable drawers with a plurality of lockable bins in each drawer. In this drawer type of Automated Dispensing Cabinet an authorized user selects a particular medication and then a corresponding drawer and bin containing that medication are unlocked so that the user can retrieve the medication and remove it from the ADC. These conventional Automated Dispensing Cabinets have improved the ready access of medication and medical supply inventory in hospitals and other facilities.

Depending on the relative sizes of the bins and the drawers a drawer type Automated Dispensing Cabinet generally includes up to 300 400 bins for holding doses of medication. In order to maximize the inventory available onsite many of the bins typically receive multiple doses of a medication. As a result any time a nurse or other authorized user accesses a particular bin that user has access to a plurality of doses of the requested medication. These Automated Dispensing Cabinets therefore provide additional inventory that can range into the thousands of unit doses of up to 300 400 different types of medication. One continuing problem with these cabinets is the retrieval of multiple doses from the bin when only a single dose has been requested. A user may take extra doses from the cabinet by accident or for a plurality of malicious reasons including unauthorized distribution or sale to other persons. This diversion of inventory affects the management of the available inventory and may significantly delay the delivery of a needed medication or medical supply to a patient when the loss is discovered. Furthermore with multiple users accessing the cabinet regularly it can be difficult to determine which authorized user diverted the inventory to hold that user accountable for the loss of inventory. When a controlled substance is diverted the facility is subject to an intense investigation with a high burden of paperwork to determine the offending party and correct the problems with the dispensing of inventory. These problems have caused a lack of confidence in these Automated Dispensing Cabinets in state and federal agencies that would normally approve such devices for use in many settings.

More recently medication supply companies have extended the use of Automated Dispensing Cabinets to long term care facilities which may be located in a remote area that is a significant distance from the closest pharmacy or hospital. In these remote areas the accurate monitoring and control of inventory is even more critical. In addition these long term care facilities generally require the distribution of a higher number of different medications because these facilities manage both the various prescriptions that patients are taking as well as non prescription medications such as pain medication for on demand use and medical supplies. To this end a long term care facility may actually require up to 1400 1500 different medications or groups of medications e.g. in patient specific blister packages or pouches or more compared to the 300 400 medications that are desirable to have on demand in a traditional hospital or other healthcare setting. Conventional Automated Dispensing Cabinets simply do not have enough bins or compartments within an acceptable or allowable footprint to accommodate these potential needs regarding the breadth of inventory necessary in a long term care facility. Moreover the higher number of medications needed by a long term care facility is likely to include a number of controlled substances which must be carefully regulated and monitored to comply with federal and state regulations. In addition the Automated Dispensing Cabinets have not included monitoring or sensing systems that can accurately detect the diversion of additional or incorrect medications from a bin of a drawer containing multiple doses or medications. In sum known Automated Dispensing Cabinets are not suitable for the provision of the high number of medications needed while also ensuring acceptable levels of regulation and monitoring of controlled substances.

Additionally several known Automated Dispensing Cabinets include complex drive mechanisms and or sensors for controlling an automated dispensing of medications from the cabinet. These complex systems add significant cost and time to the manufacturing of the Automated Dispensing Cabinet and also provide significantly more elements that can fail and stop proper operation of the Automated Dispensing Cabinet. These additional failure modes increase the rate of maintenance and repairs necessary to keep the Automated Dispensing Cabinet in operation thereby increasing the likelihood that the cabinet will not be available to dispense medications when needed by patients.

Consequently it would be desirable to provide an apparatus and method for onsite distribution of medications and medical supplies that addresses one or more of these concerns with conventional Automated Dispensing Cabinets.

According to one embodiment a method is provided for selectively distributing a plurality of medical items stored in a secure access distribution machine. The distribution machine includes a housing enclosing a plurality of bins behind at least one access door and also includes a controller with a processor and a memory. An input device receives first identification data associated with a user second identification data associated with a patient and item selection data that identifies at least one medical item that is selected for distribution to the user and administration to the patient. The processor compares the first identification data to information stored in memory to confirm that the user is authorized to distribute medical items from the distribution machine. In response to receiving the second identification data the processor also actuates the display of a patient record stored in the memory and associated with the patient on a display. The patient record includes a list of medical items that are previously prescribed or approved for distribution to the patient. The item selection data identifies at least one medical item from this list of pre approved or prescribed medical items. In response to receiving the item selection data the distribution machine rotates a bin holding a first medical item to a position behind a corresponding one of the access doors and unlocks the corresponding access door so that the access door opens. This opening of the access door provides access for the user to reach into the bin to manually retrieve the first medical item from the bin. The processor then verifies that the user received the first medical item e.g. the correct medical item that should have been retrieved after it has been manually retrieved from the bin. The process of distributing and verifying repeats for each other medical item identified in the item selection data thereby limiting the user to access to the medical items individually on an bin by bin basis. The patient record is then updated to assign to the patient the at least one medical item that has been distributed to the user for administration to the patient.

The distribution machine may also include a plurality of access doors stacked on top of each other in the housing. In such embodiments the housing and access doors block access to all bins within the housing except for the bin holding the first medical item when the distribution of the first medical item is to occur. In this regard the other access doors remain locked and closed to limit the user to manual retrieval of only the first medical item. At least some of the access doors also include stationary blocking baffles rigidly mounted to the housing adjacent to the access doors the blocking baffles preventing access to adjacent bins next to the bin holding the first medical item.

In another aspect the verification of the user receiving the first medical item includes prompting the user to scan a machine readable indicia associated with the retrieved medical item using a scanner located at the housing. The processor receives the scanner input from the scanner and determines whether the retrieved medical item that has been scanned is the first medical item. If the retrieved medical item is incorrect e.g. is not the first medical item then the error is reconciled by prompting the user to insert the retrieved medical item into a return receptacle mounted on the housing. The return receptacle includes a one way door providing access to insert but not remove rejected medical items. After verifying that the correct first medical item has been removed and scanned the processor may update the patient record to reflect distribution of the first medical item to the patient. In embodiments where the access door includes a latching mechanism with an engagement drum and a locking device the locking device is disengaged from the engagement drum using an automated drive actuator when the access door is to be unlocked and opened for distribution of a first medical item. The locking device is re engaged with the engagement drum only after receiving the scanner input to verify the correct first medical item was removed therefore preventing closing and locking of the access door until the verification process is completed. This process limits the number of total medical items that may be removed without verification to one.

In another aspect the access door also includes a camera. In such embodiments verifying that the user received the first medical item also includes capturing image data using the camera and analyzing the image data with the processor to confirm whether the first medical item has been removed from the bin. This analysis may include retrieving a previously stored pixilated digital image of the bin from memory and then pixilating the captured image data to compare the two images. The comparison determines whether enough pixels have changed to verify the removal of the first medical item from the bin. It will be understood that a plurality of the bins within the housing may be positioned next to the camera so that the camera can capture digital images of each bin to store these images for use later in the comparison described above. Thus the provision of a camera on the access door enables another method of double checking that the first medical item has been removed from the housing.

Prior to distributing the first medical item to the user a plurality of additional steps are required if the processor determines that the first medical item is a controlled substance. To this end the user record associated with the user is analyzed to determine whether the user is authorized to receive a controlled substance. If the user is authorized then a prompt is given for a witness to enter witness identification data and the user record associated with the witness is received and analyzed to make certain that the witness is authorized to witness distributions of controlled substances. If both the user and the witness are authorized then the distribution of first medical item is allowed. However the controlled substances are not presented for removal if either of these persons fails to be authorized. In addition to the controlled substances context there are a plurality of conditions that can lead to a prompting for a witness to input witness identification data. These conditions include when the first medical item exceeds a threshold schedule level stored in the patient record when the first medical item is not on the patient s profile and when a distribution is canceled during retrieval of the first medical item.

A restocking process may also be used with the distribution machine. During this restocking process the processor receives a scan of a machine readable indicia on a purchase or shipping order that is associated with a plurality of medical items to be stocked inside the housing. The processor then prompts the user to provide a verification scan of the machine readable indicia on a first item to be stocked. A first available bin is identified and rotated to a position adjacent an access door and this access door is unlocked and opened to provide access into the first bin. Once the user has placed the first item in the first bin the access door is locked following closing of the door by the user. An image of the first bin with the first item is captured to verify that the manual placement of the first item has occurred. The process of receiving the verification scan rotating opening locking and scanning is repeated for each other item associated with the purchase or shipping order. Consequently the restocking process works similarly to the distribution process in that the medical items and items are individually scanned in and out with only access to one bin or medical item at a time.

In another aspect in response to receiving the scan of the purchase or shipping order the processor may automatically update an inventory record stored in memory to include various information about each of the plurality of medical items to be stocked including a lot number an expiration date a National Drug Code and a UPC thereby not requiring separate manual entry of these items of information for each of the plurality of medical items to be stocked. This simplifies the process of restocking the distribution machine. Whenever multiples of a medical item are stored in a single bin the method further includes updating a bin record stored in memory for the bin holding the first medical item to decrement a bin quantity on hand variable stored in the memory by one.

If a plurality of medical items is selected by the user for distribution then the distributing and verifying steps are repeated individually for each of the plurality of medical items needed by the patient. The plurality of bins may be mounted on a plurality of carousels on carousel drive axles collectively centered at a central drive axle in the interior of the housing. Distributing the first medical item in these embodiments further includes rotating all of the plurality of carousels around the central drive axle with a first motor and rotating each of the plurality of carousels simultaneously around their carousel drive axles with a second motor. As a result the carousel carrying the bin with the first medical item is moved near the access door and then the specific bin is rotated into position behind the corresponding access door. An outer camera may be mounted on the housing so that still or moving images of the user at the distribution machine can be taken during the distributing and verifying steps described above. The captured still or moving images are stored in memory with a transaction record so that this information can be reviewed later if necessary.

In a further aspect the distribution machine includes a document scanner at the housing. When a prescription document for a patient comes into the facility the processor may receive a scanned image of the prescription document from the document scanner. This scanned image is then sent to a remote location for approval by a pharmacist and if approved the medical item s is added to the list of scheduled or prescribed medical items on a patient record. In addition the patient records stored in memory and displayed on the display are those approved for distribution to the patient already. That simplifies the process of selecting medical items to distribute to a number of patients that may be located in the same facility serviced by a common distribution machine. In addition the document scanner may also be used to scan in other documents that need verified or reviewed offsite such as a new patient admission document when a new patient is admitted to the facility. In such a circumstance offsite pharmacy personnel can review and approve the new patient and a new patient record may be created in memory automatically after this approval.

In another embodiment of the invention a secure access distribution machine is provided for distributing a plurality of medical items. The distribution machine includes a housing enclosing an interior and including at least one access door and an input device. A plurality of carousels is located within the interior and each carousel includes a plurality of bins for storing the plurality of medical items. A drive mechanism is configured to rotate each of the plurality of carousels such that each of the plurality of bins may be positioned adjacent to the at least one access door. The distribution machine also includes a controller having a processor and a memory the controller operatively coupled to the access door the input device and the drive mechanism. The controller is configured to perform a series of operations to distribute medical items from the housing. This series of operations includes i determining that a user is an authorized user permitted to distribute medical items ii identifying a bin holding a first medical item selected for distribution from a list of pre approved or prescribed medical items from a patient record iii actuating the drive mechanism to move the bin holding the first medical item to a position behind a corresponding access door iv unlocking and opening the corresponding access door to enable the user to reach into the housing and manually retrieve the first medical item v verifying that the first medical item was removed by the user and vi updating the patient record to assign to the patient the first medical item.

In one aspect the housing may include a plurality of access doors stacked on top of each other so that access to all other bins within the housing is blocked when the corresponding access door is unlocked and opened. Each of these access doors may also include a camera that may be used to capture still images of bins within the housing to verify removal of the first medical item after a distribution. Stationary blocking baffles may also be rigidly coupled behind at least some of the plurality of access doors. The stationary blocking baffles prevent access to bins adjacent to the bin holding the first medical item when the corresponding access door is unlocked and opened. In addition each of the access doors includes a latching mechanism for selectively locking the access door in a closed position. The latching mechanism has an engagement drum manually rotated by opening or closing the access door and a locking member moved by an automated drive actuator.

In another aspect a scanner is located at the housing for reading machine readable indicia on medical items to be placed within one of the plurality of bins or distributed from one of the plurality of bins. The distribution machine also includes a digital outer camera mounted on the housing and configured to record still images or moving images of an user at various times during access and use of the distribution machine. A return receptacle may also be positioned on the housing with a one way door enabling insertion but not removal or rejected or incorrect medical items from the housing. The drive mechanism may be limited to a first motor that rotates all of the plurality of carousels around a shared central drive axle and a second motor that simultaneously rotates each of the carousels around corresponding carousel drive axles. Therefore the drive mechanism is simplified compared to conventional designs.

Various additional features and advantages of the invention will become more apparent to those of ordinary skill in the art upon review of the following detailed description of the illustrative embodiments taken in conjunction with the accompanying drawings.

With reference to an exemplary embodiment of a medication distribution machine is illustrated. Although the term medication distribution machine hereinafter distribution machine is used throughout the following description it will be understood that the distribution machine is operable to distribute medications medical supplies and other related items also referred to collectively as medical items needed in a remote facility hereinafter healthcare facility . The distribution machine operates to extend inventory supplies closer to the location of one or more patients such as in the long term care facility setting. Advantageously the distribution machine contains about 1 050 to 4 000 bins or compartments e.g. storage locations for holding medications and other items each bin being separately and individually accessible to control the distribution of medications including controlled substances to authorized users. It will be understood that multiple distribution machines may be linked together by a single control module to further extend or reconfigure the available number of bins or compartments available to a healthcare facility thereby providing any level of inventory breadth required for a particular facility. As a result the likelihood of an accidental or malicious diversion of medications is reduced compared to conventional Automated Dispensing Cabinets. Furthermore as detailed below with reference to the work flow experienced by users when operating the distribution machine enables quick and convenient identification of available medications and accurate selection of those medications for distribution to the user.

With particular reference to the distribution machine includes an outer housing defining a closed interior for storing the plurality of medications and other items. The housing includes a front wall configured to face a user side walls extending from the front wall a rear wall opposite the front wall and top and bottom walls connected to each of the front side and rear walls . The top wall of this embodiment includes a service panel hingedly coupled to the top wall . This service panel is locked in a closed position during normal operation and cannot be opened by anyone other than authorized service personnel. To this end any medications or controlled substances contained within the closed interior are not accessible by thieves or unauthorized persons without cutting through the housing . In the illustrated embodiment the housing defines a generally rectangular footprint of about 36 inches by 39 inches 0.914 meters by 0.991 meters . It will be understood that the housing may define any other shape or size that is convenient to the desired healthcare facility setting without departing from the scope of the present invention. It will also be understood that the size of storage locations bins or compartments may be sized and shaped in various different configurations that are convenient to the storage of medications and other items as required by the particular healthcare facility. Regardless of the particular shape and size of the housing and the storage locations the distribution machine of the current invention advantageously maximizes the density of storage locations available within the chosen footprint as described in further detail below.

In some embodiments the distribution machine may be used to store medications and other items that may require storage at a cool or cold ambient temperature e.g. insulin . In these embodiments the distribution machine may include an insulated housing seals at any access location or door and a conventional refrigeration unit connected to the housing . In the illustrated embodiment of the refrigeration unit is shown schematically as a box on the rear wall of the housing although it will be understood that a coil type or similar conventional refrigeration unit may be positioned along any wall of the housing . The refrigeration unit is monitored by a thermocouple not shown and or other sensors connected to the controller of the distribution machine such that the closed interior may be maintained at a desirable temperature and possibly also at a desirable humidity relative to the external environment. Further explanation of the conventional refrigeration unit and its operation are not provided as these units are well understood in the art of vending machines.

The front wall of the housing contains a plurality of input output devices configured to interact with a user and a plurality of stacked access doors located adjacent the plurality of input output devices. In this regard the housing includes a user interface located on the front wall adjacent to the right hand side wall . The user interface includes a graphical display screen for delivering information visually to a user and a keyboard located immediately below the display screen for receiving manual input from the user. The graphical display screen includes a touch screen interface that enables users to manipulate the operation of the distribution machine either with touch commands or with keyboard commands when applicable. For example the graphical display screen may provide a digital numerical entry pad when a quantity of medications needs to be entered during the workflow described below. A document scanner is located above the display screen and includes an input slot for receiving documents to be scanned such as prescriptions received from physicians. The document scanner projects slightly outwardly from the housing above the display screen .

A one touch call button is positioned on the lower half of the document scanner . The call button may be used to initiate an immediate conversation with one or more pharmacists working in a centralized location. These centralized pharmacists review verify and approve new prescriptions submitted at the distribution machine and are available via the one touch call button to answer any questions a user might have about distributing a particular medication for a particular patient. It will be understood that the housing also contains a microphone and speaker not shown for conducting these calls with the centralized pharmacists as well as providing audible feedback during normal operation of the distribution machine .

The front wall of the housing further carries a receipt printer located adjacent to the keyboard . The receipt printer is operable to provide a printed record of medications and supplies removed for a patient from the distribution machine . The keyboard and receipt printer are each mounted above of a return receptacle also referred to as a reject bin. To this end the receipt printer includes a printer outlet located on a printer access door . The hardware not shown of the receipt printer is located along an inner surface not shown of the printer access door which may be opened by an authorized user or by maintenance personnel to replace ink cartridges or a paper roll when necessary. If any medications are accidentally retrieved from the closed interior or are not used by a patient these medications can be collected in the return receptacle for later removal by authorized service personnel. More particularly the return receptacle includes a moveable inlet flap door configured to receive any rejected medications from a user. The inlet flap door is sized and oriented to open inwardly to receive only medications or items being returned by a user and this opening movement does not enable unauthorized entry of a user s hand into the return receptacle . The return receptacle also includes a lockable outlet door adjacent a bottom of the return receptacle . Each of the inlet flap door and the outlet door are in a closed position during normal operation and the outlet door cannot be opened by anyone other than authorized service personnel because the inlet flap door is sized and oriented to prevent unauthorized access into the return receptacle by a user s hands . Accordingly any returned or rejected medications including but not limited to controlled substances are securely stored and cannot be removed by thieves or unauthorized personnel without cutting through the housing at the return receptacle .

The front wall of the housing also includes an outwardly projecting ridge located between the plurality of access doors and the previously described input output devices. The ridge provides one or more receptacles for receiving additional input output devices as selected for the particular healthcare facility. In the illustrated embodiment these devices include an identification card swipe reader and a barcode reader . The card swipe reader is configured to provide one identification of a user during the authorization process before any medications may be removed from the distribution machine . It will be understood that additional or alternative identification sensors may be positioned along the ridge in other embodiments of the present invention including but not limited to biometrics scanners e.g. fingerprint readers a radio frequency identification RFID detector an HID access control reader for use with tags key fobs or cards and other known sensor devices. It will also be understood that the barcode reader may be replaced by any scanner that is used to read machine readable indicia of all types including but not limited to barcodes images 2 D barcodes and other known indicia. The barcode reader is configured to detect machine readable indicia placed on various items including the packaging of every medication held within the distribution machine . As explained in further detail below the barcode reader is used to verify the removal of the appropriate medication from a particular bin during normal operation. It will be understood that the barcode reader may also be used to identify a user during the authorization process if the user is authorized using personal identification badges with barcodes for example. The ridge also contains a digital camera configured to record the images of a user standing at the user interface of the distribution machine . Thus an image record of each user who removes medications from the distribution machine is retained for later review should such a review become necessary i.e. during the investigation of a medication diversion . It will be appreciated that the digital camera may be operable to record still images or video recordings live action images or streaming images for retention in the records of the distribution machine and for use during live communication with a pharmacist initiated by the one touch call button . The digital camera may be triggered by actions of a user at the machine or remotely by an offsite pharmacist or other pharmacy personnel.

The plurality of access doors are arranged in a stack as shown in such that each access door is adjacent to the next access door in the stack. This arrangement of access doors enables a plurality of carousels to be accessed from the exterior each carousel including a series of stacked platters defining bins within the closed interior as shown in . Each of the access doors is sized to permit access to a bin in only one of the carousels thereby protecting the remainder of the carousels within the housing from unauthorized access. Each access door is hingedly coupled to the front wall and is locked in the closed position by a latching mechanism described in further detail with reference to below. It will be understood that the plurality of access doors may be replaced by a moving access door mounted on an endless belt or a similar device in other embodiments consistent with the scope of the current invention but not shown in the Figures.

Returning to the front wall also includes an indicator panel with an indicator light located adjacent to each access door . The indicator lights are illuminated to indicate when the nearest access door is unlocked. Thus a user can readily determine whether an access door is locked or unlocked by reviewing which indicator lights are illuminated on the indicator panel . The access doors and the housing are generally opaque such that none of the carousels or medications held within the closed interior is visible outside the housing . The detailed operation of the access doors and associated latching mechanisms and door cameras is described in further detail below.

With reference to the closed interior and the plurality of carousels located within the housing of the distribution machine are shown. It will be understood that a carousel type layered storage system has been previously used in vending machines and in tool dispensing systems for use on jobsites. For example one carousel type layered storage system is disclosed within U.S. Pat. No. 5 337 920 to Clausen the disclosure of which is hereby incorporated by reference in its entirety. In another example a carousel type layered storage system is disclosed within U.S. Pat. No. 7 086 558 to Pixley et al. the disclosure of which is hereby incorporated by reference in its entirety. Although each of these carousel type storage systems includes a plurality of bins individually accessible by using a drive mechanism the drive mechanism of the current invention described in further detail with reference to below simplifies and reduces the number of elements necessary to reliably move each bin into position adjacent one of the access doors . Furthermore the carousels and platters of the current invention have been modified to maximize the use of the closed interior and maximize the number of available bins for storing unit doses of medication or other medical supplies. As briefly discussed above each of the bins may be reconfigured to define a desirable shape and size for particular medications and other supplies needed at the healthcare facility in which the distribution machine is to be used. It is believed that such a carousel type storage system has not been previously applied to the Automated Dispensing Cabinet field and thus represents an advantageous improvement over conventional Automated Dispensing Cabinets. The distribution machine permits the bins to be densely packed as inventory locations in a comparatively compact space and then be moved and presented for user access at a particular access door .

Returning to the plurality of carousels includes five carousels located in close proximity with each other about a central drive axle . It will be appreciated that the size shape and number of carousels may be decreased or increased in other embodiments without departing from the current invention. The central drive axle and each of the carousels extend along substantially the entire height of the closed interior between a bottom support turntable and a top connection plate . To this end each carousel includes a plurality of closely stacked platters corresponding in number and location to the stack of access doors in the front wall i.e. about thirty layers as shown in the illustrated embodiment . The top connection plate is formed from a unitary planar piece of material or a plurality of links coupled together as shown in . A carousel drive axle extends through each of the platters of a carousel and is secured in position at the top connection plate . Each of the carousel drive axles is secured so as to be free to rotate in position with respect to the top connection plate such that the various bins on the platters can rotate with respect to the corresponding access doors . The central drive axle and the carousel drive axles also extend through the bottom support turntable to engage with components of the drive mechanism described with reference to below. In general the central drive axle operates to rotate the plurality of carousels collectively in combination with rotation of the bottom support turntable and the top connection plate while the carousel drive axles operate to rotate the carousels individually in position. As clearly shown in the arrangement of carousels about the central drive axle enables a maximum number e.g. up to 2 100 or more in the exemplary embodiment of bins to be located within the closed interior .

Also shown in a plurality of stationary support rods extends between the top connection plate and the bottom support turntable and is positioned in the spaces between adjacent carousels on the outboard or outer radial portion of the bottom support turntable . These support rods provide additional rigidity to the plurality of carousels to thereby assist with maintaining alignment of the top connection plate and the bottom support turntable without applying significant bending stresses on the carousel drive axles . To this end each of the support rods is rigidly secured to both the bottom support turntable and to the top connection plate . In addition each of these stationary support rods supports a stationary partial carousel having a plurality of layers of storage locations or bins substantially similar to the previously described storage bins on the moveable carousels . By the terms stationary and moveable it is understood that this refers to the relation of the carousels or partial carousels with respect to the bottom support turntable . Each of the partial carousels on the stationary support rods does not need to rotate because such rotation would interfere with adjacent carousels and because the bins on those partial carousels already is directed radially outwardly from the plurality of carousels . The bins on the stationary partial carousels may be resized by moving divider plates similar to the process described below for resizing bins of the rotatable carousels . In the illustrated embodiment each stationary partial carousel defines about to of a complete annular carousel with 30 layers of two bins that further maximize the use of the closed interior for storage locations. It will be understood that the particular positioning size shape and or number of support rods stationary partial carousels and the bins on those partial carousels may be different in other embodiments consistent with the scope of the current invention.

With reference to one of the platters used with the plurality of carousels shown in is illustrated in further detail. In this regard the platter includes a bottom plate extending from a central hub to an annular outer periphery . The bottom plate is angled slightly downward from the outer periphery to the central hub such that the bottom plate defines a generally conical profile which assists with the retention of medications and other items. Also to this end the outer periphery includes a small projecting lip extending upwardly from the bottom plate to assist with retention of medications and other items. More specifically as the platter rotates during operation to move a particular bin into position adjacent an access door centripetal forces are applied to any medications or other items located in the bins . By angling the bottom plate inwardly and providing the projecting lip at the outer periphery these medications and other items are encouraged to resist the centripetal force that could otherwise cause these items to fall out of the bins . Consequently unintentional dropping of medications and other items within the closed interior of the distribution machine are minimized if not eliminated altogether by this arrangement of the platter .

As shown in the central hub projects upwardly from the bottom plate and defines a total height H of the platter . This height H generally corresponds to a height of the corresponding access doors . Alternatively the height H may be different than the height of the access door and in such circumstances spacers and or pins located between the central hubs of adjacent platters may be used to correct for any tolerance based differences in the height of the platters . The central hub includes a central aperture extending through the entire height H of the platter . The central aperture is sized and shaped to receive the carousel drive axle . Thus in the exemplary embodiment shown in these figures the central aperture defines a hexagonal cross section configured to receive the hexagonal cross section of the carousel drive axle . These non circular cross sections reliably transmit both rotational and translational movement of the carousel drive axle to the platter without additional coupling required between the carousel drive axle and the platter .

The central hub also includes a plurality of radial slots extending from a location proximate to the central aperture to a hub periphery of the central hub . These radial slots are configured to receive the inner ends of divider plates as shown most clearly in . The radial slots only extend through a portion of the height of the central hub at the hub periphery although the height of the radial slots may be modified in accordance with other embodiments of the current invention. The divider plates are configured to extend in a generally radial direction from the inner end at one of the radial slots to an outer end located at the outer periphery of the bottom plate to thereby divide the storage space above the bottom plate into a plurality of bins . Twelve divider plates are engaged with the twelve radial slots in the central hub of the platter to cut the storage space into twelve generally pie shaped segments referred to throughout as bins .

The platter of this example also includes an annular limiting wall which engages corresponding intermediate slots in the divider plates . The annular limiting wall effectively reduces the size of the bins by moving the inner boundary of the bins from the hub periphery radially outwardly to the annular limiting wall . Especially for smaller items such as unit doses of medication this shrinking of the bins is advantageous for numerous reasons. For example the smaller items are more likely to be positioned in a consistent location within the smaller bin size which enables more accurate detection as described below and the smaller bins also limit how far a user has to reach through the relatively small access door to obtain the desired item. The intermediate slots are shown as extending through more than half of the height of each divider plate although the depth of these intermediate slots and the corresponding height of the annular limiting wall at those slots may be adjusted without departing from the current invention. It will be understood that the annular limiting wall is selectively removed from the platter by lifting the limiting wall out of the intermediate slots and further that more than one intermediate slot may be provided in the divider plates to enable different configurations of the platters as needed. However these reconfigurations of the platters must be performed by authorized service personnel and are not available during regular operation of the distribution machine .

Other examples of reconfigured platters for use in the closed interior of the distribution machine are shown in . In the platter includes substantially the same basic structure of the platter in including the slightly conical bottom plate and central hub . In this reconfiguration only six divider plates are positioned in the radial slots of the central hub such that the storage space is divided into six bins that are about twice as large as the bins in . Furthermore the annular limiting wall and the intermediate slots in the divider plates have been omitted in this configuration to utilize more storage space for larger medications or items to be stored. It will be understood that any number of divider plates e.g. as few as two or as many as twelve in the illustrated embodiment may be inserted into the radial slots of the central hub depending on the types of items and number of items that are required to be stored for a particular healthcare facility. In other words the platter may be divided into as few as two bins or as many as twelve bins in this exemplary embodiment.

With reference to multiple platters in a given carousel might also be used in conjunction to define a plurality of taller combined bins . To this end a first platter includes an identical structure as the platter described above with reference to including the bottom plate the central hub twelve divider plates and an annular limiting wall . The second platter is configured to be positioned on the carousel drive axle adjacent to and immediately above the first platter . The second platter includes each of the same elements as the first platter these elements are marked with the same reference numbers except for the bottom plate . As a result the storage space of the two platters is not divided by a bottom plate of the second platter and therefore combines to define the taller combined bins located between adjacent sets of divider plates . Such a configuration enables relatively elongate items that would not have normally fit into the bins of the previous embodiments to be stored within the closed interior . As with the single platter arrangements these configurations of multiple platters may be reconfigured by removing the corresponding annular limiting walls as well as removing several of the divider plates as required by the particular item to be stored. In addition more than two second platters may be stacked on top of a first platter in other configurations within the distribution machine . Thus the only limitation on the size of items that may be positioned within the distribution machine is the limitation imposed by requiring all items to be inserted and removed through one or more open access doors as explained in further detail below. For example the opening formed by two access doors that open at the same time enables larger sized items to be inserted and removed from the distribution machine as described in reference to below.

With reference to the operation of the access doors and additional features of the distribution machine are shown. More specifically illustrate two different access doors associated with different sizes of bins that may be formed by the platters as previously described. Each of the access doors is similarly sized and provides access when opened to the closed interior through an opening in the housing . When smaller sized bins such as those shown in are used on a particular platter the size of the opening revealed by moving the access door to the open position is larger than the size of the bins . In order to block unauthorized access into adjacent bins that face at least partially towards the opening a pair of solid blocking baffles is positioned on opposite ends of the opening . The blocking baffles are located immediately adjacent to the outer ends of the divider plates on either side of the bin to be accessed thereby preventing a user from reaching into adjacent bins to divert additional medications or supplies from the platter . The blocking baffles are rigidly coupled to the front wall of the housing to prevent displacement of the blocking baffles by a user. Consequently each of the platters located on a particular level of the plurality of carousels should be configured with similarly sized bins such that the appropriate amount of access is granted through the opening for all of the bins located on that level.

As shown in different access doors may require openings fitted with smaller blocking baffles . The smaller blocking baffles of are again rigidly coupled to the front wall of the housing to prevent unauthorized access from the opening to bins adjacent to the bin holding the item or medication that has been authorized for removal. The bin of this embodiment is a larger bin such as the one shown and described in connection with above. Thus for layers of the plurality of carousels with larger bins the smaller blocking baffles may be used to provide a complete opening through which the items in the larger bins may be retrieved. For even larger bin sizes it will be understood that the blocking baffles may be omitted entirely from the corresponding openings . The installation of the blocking baffles and the reconfiguration of platters and bins within the carousels is consequently a joint operation conducted by authorized service personnel before the distribution machine is placed into operation at a healthcare facility. As a result the available portion of the opening is set to be analogous to the size of the bins on that particular level of the carousels increasing the secured nature of all the other bins within the closed interior .

Once the access door has been opened as shown in the medication or item stored within the bin adjacent to the opening may be retrieved from the bin . It will be understood that once the access door is opened the retrieval and movement of an item is performed by the user with no active machine operation or intervention such as would be present in dispensing mechanisms. With particular reference to the item is a medication blister containing a unit dose of a particular medication. The medication blister is relatively small and thus can be positioned in a smaller bin such as those described above with reference to . The medication blister also includes machine readable indicia such as a barcode that can be detected by the barcode reader shown in on the exterior of the housing . Consequently when a user removes the medication blister from the bin the removal of the correct medication blister can be confirmed by scanning the machine readable indicia prior to reclosing the access door . As described in further detail below the latching mechanism may be configured to prevent latching of the access door until such a verification takes place.

Turning to the item is a product bag large enough in size to require placement in a taller combined bin formed by first and second platters as previously described with reference to . The product bag also carries machine readable indicia such as a barcode for detection by the barcode reader following removal from the combined bin . As shown in only the access door adjacent the access door adjacent the lowest of the platters is opened and the product bag must be pulled out through the corresponding opening at the bottom of the combined bin . This door opening and retrieval process may be repeated for all of the medications and other items that are to be issued by the distribution machine to a particular authorized user. Alternatively it will be understood that the access door adjacent the top platter may be opened instead of the access door adjacent the bottom platter to provide access into the combined bin for pulling the product bag from the distribution machine .

It will also be understood that in additional embodiments the access doors adjacent both of the platters open simultaneously to provide a larger opening for retrieving the product bag . In such an embodiment at least one of the access doors that is configured to open simultaneously includes an extension not shown that replaces the relatively small piece of framing of the housing normally present between adjacent access doors . This extension prevents unauthorized access to a bin immediately above or below the other access door when that other access door is opened independently such as for example if the carousel that moves to a location adjacent the access doors now divides the combined bin into two regular sized bins as previously described. This extension serves a similar purpose as the stationary blocking baffles previously described in that this extension prevents unauthorized access to adjacent bins that are not the bin to be accessed by the user. Any number of the access doors may be provided with these extension s when the distribution machine is configured to have combined bins at some location requiring more than one access door to open simultaneously.

The machine readable indicia on the medication blister or product bag may represent or include the National Drug Code NDC or a manufacturer s or repackager s NDC UPC or stock keeping unit SKU representing medication type strength tablet count etc. Other information coding methods and unique medical item identifiers may also be used in other embodiments without departing from the scope of the invention and these may be additional items of information automatically uploaded to memory during a restocking process described in detail below. Drug SKUs are assigned and serialized for inventory management at the source of medication blister or product bag . One or more of the medication blisters or product bags stores in the bins may have a common SKU.

Turning to the operation and elements of the latching mechanism are shown in further detail. As described above the access door is spring biased towards the open position and is selectively locked into the closed position by the latching mechanism . The latching mechanism includes an engagement drum rotatably supported about a pivot . The engagement drum includes a periphery defining at least one engagement notch configured to receive the leading portion of the door latch and a locking notch configured to selectively engage a locking member as described in further detail below. The engagement drum is biased towards the unlocked position shown in by a spring which is illustrated in this embodiment as a torsion spring . Similarly the locking member is pivotally engaged with a lock bolt that is normally spring biased towards the engagement drum by a compression spring . This biasing of the compression spring is selectively counteracted by a drive actuator operatively connected to the lock bolt . In this regard the drive actuator includes a linear actuator or some other similar motor that operates with withdraw the lock bolt and the locking member away from the engagement drum against the bias of the compression spring . The latching mechanism also includes a latch aperture located adjacent the engagement drum and configured to receive the door latch when the access door is moved to the closed position. The latching mechanism is therefore isolated substantially from a user even when the access door is opened thereby reducing the likelihood of tampering leading to unauthorized thefts or diversions.

When the access door is in an unlocked and open position the latching mechanism is kept in the position shown in . More particularly the engagement drum is rotated to the unlocked position by the torsion spring in which one of the engagement notches opens at least partially towards the latch aperture . Furthermore the drive actuator is actuated to hold the lock bolt and therefore the locking member away from the engagement drum against the bias of the compression spring . During the normal course of operation for the distribution machine the access door is unlocked when a bin containing an item to be retrieved is located adjacent the access door . The user must then manually retrieve the item from the bin and scan the machine readable indicia on the item with the barcode reader to confirm removal of the correct item from the distribution machine . This process of item retrieval and scanning is user driven and involves no active movement or dispensing operations of the machine . Until this verification scanning of the machine readable indicia is performed the drive actuator continues to hold the locking member out of engagement with the engagement drum . Consequently if the user attempts to shut the access door to actuate the latching mechanism without verifying removal of the appropriate item the access door will not stay closed by virtue of the spring biases applied to the engagement drum as well as the access door . This operation is shown in where a leading edge of the door latch is engaged with the engagement notch in order to force the engagement drum to rotate as indicated by arrow . Although the locking notch on the periphery of the engagement drum will move past the locking member the locking member is prevented from engagement with the locking notch by the drive actuator in this state. The unsuccessful attempts to lock the access door in the closed position will serve as a reminder cue to the user to scan the machine readable indicia on the item.

Once that scan has been conducted by the barcode reader a control signal is sent to the drive actuator to release the withdrawing force applied to the lock bolt . As a result the compression spring forces the lock bolt and the locking member to move towards the engagement drum thereby causing engagement of a leading edge of the locking member with the periphery of the engagement drum as shown by arrows in . In this state the user again closes the access door to insert the door latch through the latch aperture engage the leading edge of the door latch and force the engagement drum to rotate as shown by arrow in . As long as the user closes the access door with enough force the engagement drum will be forced to rotate away from the unlocked position enough to cause a shoulder formed on the leading edge of the locking member to snap into engagement with the locking notch on the engagement drum . The locking member may rotate slightly as a result of this snap engagement as shown by arrow in thereby producing a relatively flush and secure engagement of the shoulder and the locking notch . The position shown in D is the locked and latched position of the latching mechanism because the shoulder of the locking member forms a rigid block to rotation of the engagement drum back towards the unlocked position and the door latch is hooked into engagement with the engagement notch to prevent opening of the access door . When another authorized access event occurs and the access door is to be opened a control signal is sent to the drive actuator to withdraw the lock bolt and the locking member from engagement with the engagement drum which enables the spring biases on the engagement drum and on the access door to push the access door to an opened position once again.

As previously described the front wall of the housing may include indicator lights for actuation when the latching mechanism is unlocked. The indicator light for the latching mechanism is positioned proximate to the locking member within the latching mechanism as shown in . The indicator light may include a known light emitting diode or another conventional light source. further illustrate the entry of the sensor tine on the access door through the corresponding door sensor opening in the latching mechanism . Although the sensor for detecting the entry of the sensor tine is not shown in these figures it will be understood that an optical interference sensor or some other similar sensor may be used to detect when the sensor tine has entered the latching mechanism which indicates that the access door has been moved to the closed position. Feedback from this sensor as well as the drive actuator enables a controller of the distribution machine to reliably detect the open or closed status of each access door at all times. Furthermore this feedback can assist the controller in determining when to operate the digital camera within the access door as described in further detail below. Accordingly the latching mechanism cooperates with the controller of the distribution machine to open and close the access doors as required by the authorized access operational workflow described in detail below.

With reference to the operation of the digital cameras within the access doors is further illustrated. More particularly illustrate schematic representations of one exemplary output sensed by one of the digital cameras when a corresponding bin is empty and when that bin contains an item . Beginning with the camera is operable to sense color differences in a field of pixels representing a digital image of the bin . For example the bottom plate of the platter may be painted a different color shown by different shading in than the remainder of the bin which is defined by divider plates and the hub periphery .

During an initial setup and calibration of the camera an area of interest or AOI is selected that will be used to determine whether an item is present within the bin or absent from the bin . One example of an AOI shown in is a longer narrower rectangle while the other example AOI shown in is a shorter broader rectangle. No matter what size and shape the desired AOI takes the AOI should enclose a substantial portion of the bottom plate because that is where the item will necessarily be located within the bin . The AOI may be calibrated and processed individually for each particular bin or may be processed collectively for groups of similar bins . In addition multiple smaller AOI s may be used in one particular image for a bin to maximize the area pixilated and analyzed by the controller. The camera is calibrated while the bin is empty to provide the baseline color determination within the AOI as shown in .

Turning to an item is detectable within the bin because the digital image taken by the camera reveals a differently colored group of pixels at the location of the item . Once again this different coloration is indicated by different shading in the figure. The chosen AOI is programmed with a set threshold e.g. 10 and this percent of the pixels within the AOI must change color from the baseline representation to indicate that an item is located within the bin . As schematically shown in more than 10 of the AOI has changed color from to and thus the output from the camera will be conclusive that the item remains within the bin . If multiple AOI are used within the same bin as described above each AOI is checked to determine if a threshold amount of color change in the pixels has occurred in any AOI . Once the item is removed the detected image should once again return to a view substantially similar to which will enable the distribution machine to detect that no items remain within the bin . It will be understood that when multiple items are placed or stacked within a particular bin the output received from the digital camera is ignored by the controller until the bin should be empty i.e. when the last item was supposed to be removed by a user because this exemplary output is only indicative of whether anything is located in the bin not how many items or which items are in the bin . It will further be understood that while the schematic representations shown in show one possible set of exemplary outputs from the camera the actual output may appear entirely different in other embodiments consistent with the current invention based on the programmed settings and characteristics of the particular camera used.

In addition it will be understood that the digital cameras are also operable to take still or moving actual images of the bin both before and after retrieval of an item. This output is in addition to the pixilated output described above and these actual images photographs are stored in the record of distribution of the medication along with other information such as the user the intended patient photographs of the user and other information collected by the distribution machine . These additional images may also be analyzed to determine physical product characteristics of the items in the bin including but not limited to color shape size and any human readable print on the packaging of the medication. However the camera is generally not scanning any machine readable indicia such as a barcode either on the items themselves or on the bins should those indicia be present. Thus in one example the digital camera is actuated to take a still photograph of the bin with the medication when the bin initially arrives adjacent the access door then actuated again to take an image that will be pixilated and analyzed as well as another still photograph of the bin following retrieval of the medication and closing of the access door . It will be understood that the operation of the digital camera following closing of the access doors may be delayed until after each of the medications desired for one particular user have been retrieved so that the process of retrieving the medications is streamlined however the machine must then rotate each of these bins back to the doors and associated digital cameras to perform the imaging and analysis .

With reference to the drive mechanism associated with the exemplary embodiment of the distribution machine is shown. The drive mechanism is located adjacent the bottom support turntable of the plurality of carousels and is operable to rotate the plurality about the central drive axle as well as the individual carousels about the respective carousel drive axles . Positioning the drive mechanism mostly beneath the bottom support turntable substantially prevents any accidentally dropped items from interfering with continued operation of the plurality of carousels .

With reference to the carousels and the bottom support turntable have been removed and shown in phantom respectively in order to reveal the drive components located underneath the bottom support turntable . illustrates several of these same elements in a perspective view for further clarity. To this end the central drive axle extends through the bottom support turntable and is coupled to a central drive gear located beneath and spaced from the bottom support turntable . The central drive gear includes a toothed periphery that engages with the first serpentine belt . The first drive motor which is mounted at a fixed location within the closed interior and spaced from the plurality of carousels further includes a first output gear that also engages with the first serpentine belt as shown in . Thus as the first drive motor rotates the first output gear that rotation is transmitted via the first serpentine belt to the central drive gear and to the central drive axle . In addition to the previously described connection between the central drive axle and the top connection plate the rotation of the central drive gear is transmitted to the plurality of carousels by a series of radially extending supports extending outwardly from the central drive gear and coupled to the central drive gear and the bottom support turntable . These supports are shown in and are located directly underneath the bottom support turntable . Consequently the first drive motor actuates rotation of the entire plurality of carousels via the first serpentine belt the central drive gear and the central drive axle .

Also shown in each of the carousels is supported by a generally rectangular bearing box positioned on top of the bottom support turntable . The carousel drive axle not shown in extends through an aperture in the bearing box and in the bottom support turntable to be coupled to a carousel drive gear located underneath the bottom support turntable . Each of the carousel drive gears has a toothed periphery that engages with the shared second serpentine belt . Between one of the pairs of adjacent carousels the second drive motor is mounted on the bottom support turntable . The second drive motor is connected to a second output gear also engaged with the second serpentine belt . Thus as the second drive motor rotates the second output gear this rotation is transmitted to movement of the second serpentine belt and corresponding individual rotations of each of the carousel drive gears and carousels . To this end each of the carousels is rotated about the corresponding carousel drive axle simultaneously whenever one of the carousels requires rotation to align a bin with a particular access door . Each of these components associated with the rotation of each carousel rotates with the bottom support turntable whenever the first drive motor rotates the plurality of carousels collectively. Furthermore it is clear from that each of the radially extending supports is thicker adjacent the central drive gear than near the carousels such that each of these drive components second serpentine belt carousel drive gears second output gear are located higher in elevation than the first serpentine belt thereby enabling clearance of these elements when the entire plurality of carousels rotates about the central drive axle .

Between each pair of adjacent carousels other than where the second drive motor is located an idler gear is mounted beneath the bottom support turntable for maintaining tension and positioning of the second serpentine belt around each of the carousel drive gears . also illustrates that each of the support rods connects to the bottom support turntable via a support base for supporting the support rods and the partial carousels located just radially inwardly from the idler gears or the second drive motor . In sum the drive mechanism accomplishes the rotation of each carousel about both the central drive axle and about the corresponding carousel drive axle with only two stationary mounted drive motors and two serpentine belts . This drive mechanism advantageously reduces the number of moving drive elements that could become worn or broken thereby limiting the amount of time that the distribution machine is inactive for maintenance or repairs.

Referring now to this figure provides a block diagram illustrating a system including a medical information server and the distribution machine . As shown the medical information server may be in communication with the distribution machine over a communication network . The communication network may be a wide area network WAN a local area network LAN and or other such types of communication networks including for example a cellular communication network. Furthermore the medical information server and the distribution machine may communicate over the communication network using a wired and or wireless connection.

Consistent with embodiments of the invention the medical information server may generally comprise one or more interconnected computing systems where the server generally includes at least one processor and at least one memory . The memory generally includes at least one application stored thereon where the application generally comprises one or more instructions stored as program code that may be read from the memory by the processor and which may cause the processor to perform one or more operations when executed by the processor to thereby perform the steps necessary to execute steps elements and or blocks embodying the various aspects of the invention. As such the routines and or instructions which may be executed by the processor to implement embodiments of the invention whether implemented as part of an operating system or a specific application component program object module or sequence of operations executed by the at least one processor will be referred to herein as computer program code or simply program code. 

In addition the medical information server may include an input output I O interface where the I O interface may be configured to receive data from input sources and output data to output sources. For example the I O interface may receive input data from a user input device such as a keyboard mouse microphone touch screen and other such user input devices and the I O interface may output data to one or more user output devices such as a computer monitor a touch screen speakers and or other such output devices that may be used to output data in a format understandable to a user. As such in some embodiments of the invention user input data may be communicated to the processor of the medical information server using a user input device such as a keyboard or touch screen utilizing the I O interface . The medical information server may include at least one transceiver Tx Rx where the processor may cause data to be transmitted and or received over the communication network using the transceiver .

Consistent with embodiments of the invention the medical information server may include a mass storage memory device . While in the memory and mass storage memory device are illustrated as separate memory devices the invention is not so limited. For example the memory and the mass storage memory device may comprise one storage device and or a plurality of storage devices. The memory and the mass storage memory device may represent random access memory RAM comprising the main storage of a computer as well as any supplemental levels of memory e.g. cache memories non volatile or backup memories e.g. programmable or flash memories read only memories etc. In addition a memory may be considered to include memory storage physically located elsewhere e.g. cache memory in a processor of any computing system of the medical information server as well as any storage device on any computing system in communication with the medical information server e.g. a remote storage database a memory device of a remote computing device etc. .

In addition the mass storage memory device may include one or more databases where the databases may store data records corresponding to information utilized by the medical information server and or distribution machine consistent with some embodiments of the invention. For example the mass storage memory device may store a patient database where the patient database may include one or more patient records . Each patient record may include data corresponding to a particular patient including for example a unique identifier associated with the patient the patient s name date of birth social security number gender allergies room number at a health care facility attending physician prescribed medications prescription schedule medical item distribution information e.g. each medical item distributed to the patient the time of the distribution the user who ordered the distribution and or other such information.

The mass storage memory device may also include a user database where the user database may store one or more user records . Each user record may include data corresponding to a particular user of the distribution machine such as a nurse physician and or pharmacist at a healthcare facility where the distribution machine is located. In some embodiments of the invention each user record includes information for the particular user including for example a unique identifier associated with the particular user a class associated with the particular user the particular user s name the particular user s job title a unique security code for the particular user one or more identifying characteristics corresponding to the particular user e.g. a biometric feature of the particular user such as a fingerprint scan retina scan palm scan voice sample recording and or other such identifying characteristics a key code for the particular user medical item distribution information e.g. each medical item distributed to the particular user the time of the distribution the patient for which the distribution was requested medications the particular user is authorized to receive and or other such information.

The mass storage memory device may also include a medication database where the medication database may store one or more item records . Each item record may include data corresponding to a particular medical item that may be stocked in the distribution machine . For example an item record may correspond to a particular type of medication that may be stored in the distribution machine and the item record may include information related to the particular medication such as the name of the medication the vendor of the particular medication and purchasing information other medications known to react with the particular medication an image of the particular medication recommended doses of the particular medication and or other such information.

The mass storage memory device may also include a transaction database where the transaction database may store one or more order records . Each order record may include data corresponding to a particular medical item order for the distribution machine . For example an amount of a particular medical item may be ordered by a healthcare facility at which the distribution machine is located and a record of the transaction may be stored in the transaction database . An order record may include the types and quantities of medication purchased the healthcare facility for which the order was placed the distribution machine for which the order was placed and or other such information.

As shown in the distribution machine includes at least one processor and at least one memory . As discussed herein the distribution machine is configured to distribute medical items stored in secure storage locations to a user. Consistent with embodiments of the invention the distribution machine includes a drive mechanism which may rotate one or more platters having a plurality of storage bins to a desired position for access by a user as described above such that the user may retrieve a medical item stored in a particular storage bin . Furthermore to secure access to the storage bins the distribution machine includes a plurality of lockable access doors where access may be controlled by a plurality of latching mechanisms . In embodiments consistent with the invention the processor may control the drive mechanism and the latching mechanisms such that access to desired medical items may be controlled through the processor .

The memory of the distribution machine generally includes at least one application where application includes instructions stored as program code that may be executed by the processor to perform one or more operations consistent with some embodiments of the invention. As shown the memory may include a data structure which stores location records which include information corresponding to the plurality of storage locations e.g. bins of the distribution machine . Each location record may include the type of medical item stored at the particular storage location the quantity stored at the particular location the dosage of the medical item the expiration date of the medical item the lot number of the medical item and or other such information corresponding to the medical item.

Consistent with some embodiments the distribution machine may include an I O interface for interfacing with user input and output devices such that the processor may receive data from one or more user input devices and output data to one or more user output devices. As shown in the block diagram the distribution machine may include a human machine interface HMI where the HMI generally refers to a user input device and a user output device. One exemplary HMI was described above in connection with e.g. the user interface the display screen the keyboard the barcode reader etc. . In another example the HMI may comprise a touch screen where a user may input data to the distribution machine by touching the screen and the user may receive output data from the distribution machine via images rendered on the touch screen. In some embodiments the HMI may comprise a keyboard or other such user input device and a monitor or other such user output device. Consistent with some embodiments of the invention the HMI may include one or more user input devices which allow a user to input data corresponding to one or more identifying characteristics. For example the HMI may include a fingerprint scanner such that the user may input a fingerprint scan to the distribution machine using the fingerprint scanner. Other such examples of devices for inputting biometric data include a retina scanner a hand scanner a microphone for capturing a voice sample a camera for inputting a still and or live image of the user and or other such devices.

The processor may receive input data from the HMI through the I O interface and likewise the processor may output data to the HMI through the I O interface . A user may thereby interact with the medical device and more specifically with the application executing on the processor to thereby cause the distribution machine to allow access to one or more storage locations in response to data input by the user using the HMI . A user may thereby interact with the distribution machine input various identifying data and receive feedback responsive to the interaction via the I O interface the HMI and the processor .

In one embodiment the user may need to provide several different types of identifying data to the processor via the HMI in order to gain access to the storage locations. For example the user may need to enter a non confidential user identifier ID and a confidential personal identification number PIN as user identification data. The PIN represents a security code in the form of a secret numeric password shared between the user and distribution machine and can be used to authenticate the user to the distribution machine . Upon receiving the user identification data the processor verifies that the user ID corresponds to a particular user records and looks up the PIN based upon the user ID and compares the looked up PIN with the received PIN. The user is granted access to the distribution machine only when the number entered matches with the number stored in the user record. The user may need to enter additional input data from a tertiary device such as a fingerprint scanner or answer a secret question using a keyboard in order to be authenticated.

The distribution machine may also include a transceiver Tx Rx . The transceiver may be utilized by the processor to communicate data over the communication network . Hence in some embodiments of the invention a user may interact with the distribution machine via the HMI and the processor may send and receive data to and from the medical information server to determine whether to allow access to the distribution machine in general and or to a particular medical item stored in the distribution machine . For example a user may input identification data through the HMI and the application executing on the processor may cause the processor to communicate with the medical information server over the communication network using the transceiver to determine whether the user identification data corresponds to a user record and also to determine whether to allow access to a particular medical item stored in the distribution machine based on the input identification data and or a user record .

In some embodiments consistent with the invention the distribution machine may include one or more sensors . The sensors may be positioned in the distribution machine such that the sensors may detect whether a medical item is in a storage location positioned for access or whether the medical item has been removed from the storage location. For example a sensor may comprise a digital camera i.e. camera positioned such that it may capture an image of a storage location positioned proximate an access door of the distribution machine for access to a medical item stored in the particular storage location. In this example the application executing on the processor may cause the processor to use the camera to capture an image of the storage location in response to an access door being opened and closed. The image data may be stored in the user database the patient database and or the transaction database where the image data may be included in a record associated with the distribution of a medical item from a storage location by the user. In addition the image may be analyzed by the processor to determine whether the medical item was removed from the storage location by a user and or whether any quantity of medical items is remaining in the storage location such as when multiple items are stored in a single storage location. Furthermore a camera may be positioned on the distribution machine to capture image data of a user of the distribution machine while the user is interacting with the distribution machine to receive one or more medical items. The image data of the user may be stored in the user database the patient database and or the transaction database where the image data may be included in a record associated with the distribution of one or more medical items to the user. While the sensors have been described as being cameras the invention is not so limited. Other types of sensors such as laser radio frequency and or other types may be utilized in the distribution machine .

The distribution machine may also include a scanner . The scanner may be positioned on the distribution machine such that a user may scan a machine readable indicia using the scanner to confirm removal of an item confirm the type of medical item e.g. scanning the machine readable indicia may confirm that the correct medication was distributed input a unique code associated with a user e.g. a unique key card with machine readable indicia may be scanned with the scanner and or other such purposes. The barcode reader associated with the exemplary embodiment shown in is one example of such a scanner . For example a user may scan machine readable indicia associated with a removed medical item using the scanner to confirm removal of the medical item by the user. In this example after making a medical item in a particular storage location accessible to the user the application executing on the processor may cause the processor to prompt the user to scan the medical item using the HMI . In response to the user scanning the medical item the user may be informed via the HMI that the medical item is the correct type requested by the user and data indicating that the user removed the medical item from the particular storage location may be stored in the data structure of the distribution machine and or one or more databases of the medical information server .

Referring now to a flowchart is provided which illustrates a sequence of operations that may be performed by a distribution machine consistent with embodiments of the invention to selectively distribute one or more medical items from the distribution machine to users for use with patients. A user may log in to the distribution machine by inputting identification data associated with the user and a processor of the distribution machine may receive the user identification data block . In some embodiments the distribution machine may include user input and output devices which may present the user with a graphical user interface to facilitate the input and output of data to the user. The processor determines whether the user identification data corresponds to an authorized user block . As discussed above with respect to a user database may include a plurality of user records corresponding to authorized users of the distribution machine. As such the user identification data received by the processor may be checked against the user database to determine whether the user identification data corresponds to a particular user record and whether any security codes or identification characteristics input by the user match the expected values stored in a particular user record.

The user may enter patient identification data and the processor may receive the patient identification data block . As stated above the distribution machine may include an HMI which presents the user with a graphical user interface. For example the distribution machine may include a touch screen as a display and the user may be able to select a patient from a list of patients search for a patient by last name search for a patient by room number and or other such information that may identify a particular patient. The processor may determine whether a patient record corresponds with the patient identification data and the processor may prompt the user through the HMI to confirm that the located patient record is the correct patient record block . Following confirmation patient profile data stored in the patient record may be displayed for the user block . Patient profile data may include for example the patient s name room number attending physician attending nurse s prescribed medications medication dosage schedule associated medical items allergies and or other such information.

The user may select a particular medical item associated with the identified patient s profile using the HMI. For example the user may select one or more medications prescribed to the patient as indicated on the display of the distribution machine. Item selection data is received by the processor block and the processor determines whether the selected medical item indicated by the item selection data is a controlled substance block . In some embodiments government regulations may limit the distribution of medications where these medications may be considered controlled substances. For example the United States Drug Enforcement Agency DEA issues a controlled substances list. In embodiments of the invention depending on various government regulations medications stored in the distribution machine may be considered controlled substances. Whether or not a particular medication is a controlled substance may be stored in a medication record of a medication database connected to the distribution machine such that a processor of the distribution machine may communicate with the medication database to determine whether a particular medication is a controlled substance.

Furthermore the medication record may include data indicating a class associated with the medication where the class may cause the distribution machine to perform one or more particular operations. The class may indicate a schedule class for each medication according to the U.S. DEA controlled substances list where certain protocols may be required for different medications based on the schedule class and the medication record may indicate such U.S. DEA scheduled class. Also a medication record may indicate that a class associated with a medication indicates that the medication is unsafe for handling without safety equipment such as gloves. The processor of the distribution machine may output a warning on the graphical user interface indicating such warning to the user in response to a user selecting the medication for distribution. In another example a medical record may indicate that a class associated with a medication indicates that the medication is a sensitive therapy medication requiring special dosing instructions or dosing limits and data may be output by the processor to the graphical user interface to inform the user that the medication is a sensitive therapy medication inform the user of special dosing instructions and or indicate the dosing limits for the medication with respect to a particular patient. As such a medication record may include data indicating one or more classes for the particular medication corresponding to the medication record where the class may cause the distribution machine to perform one or more operations in response to a user selecting the particular medication for distribution.

In response to determining that the medical item is a controlled substance Y branch of block the processor may cause the HMI to prompt the user for a witness i.e. another person to witness the distribution of the medical item block . The witness may utilize the HMI to input identification data and the processor may receive the witness identification data block . Similar to the process described above with respect to identifying a user the witness identification data may be checked against the user records to determine whether the witness is an authorized user and whether the witness is authorized to receive the particular medical item. In some embodiments each user may have an associated authorization level stored in the corresponding user record where the authorization level generally relates to different levels of medical items that the user is authorized to receive and or witness the reception of. As such the processor may confirm the identity of the witness and confirm that the witness is authorized to witness distribution of the selected medical item block .

In response to determining that the selected medical item is not a controlled substance N branch of block or after confirming that the witness is authorized to serve as a witness block a storage location storing the selected medical item is determined by analyzing a plurality of location records where each location record is associated with a particular storage location in the distribution machine block . As described previously a location record may include the expiration date and the lot number for the stored medical item. As such embodiments of the invention may determine a particular medical item to distribute based on the expiration date and or the lot number. For example if a user selected a first type of medical item for distribution and the distribution machine stored a plurality of medical items of the first type determining the particular medical item of the first type to distribute may be based on the expiration dates of each medical item of the first type. In this example the particular medical item selected for distribution may be the medical item of the plurality having the earliest expiration date indicated by the location record. Similarly determining the particular medical item of the first type to distribute may be based on the lot numbers of each medical item of the first type such that a lot number associated with medical items stocked in the machine earlier than other lot numbers would be distributed earlier i.e. medical items stocked first are distributed first based on the lot numbers associated with the medical items .

The HMI displays a status update to the user indicating that the selected item is being positioned for removal block . The processor of the distribution machine actuates one or more of the drive mechanisms to position the storage location of a carousel behind an access door such that the storage location may be accessed by the user through the access door and the processor communicates with a door mechanism associated with the access door to unlock and or open the access door block . The processor outputs a prompt on the HMI to the user to scan machine readable indicia associated with the removed medical item using a scanner of the distribution machine block . In response to the user scanning the machine readable indicia associated with the removed medical item the processor receives the scanner input block . The processor analyzes the scanner input as well as the item selection data to confirm that the correct item was removed by the user block . The processor prompts the user to close the access door or the processor causes the door mechanism associated with the access door to close and lock the access door block . An example of this is described above in connection with the latching mechanism shown in .

In response to the user scanning the removed item and the access door being closed the processor analyzes the storage location using a sensor of the distribution machine to verify that the medical item was removed from the storage location by the user block . For example an image may be captured by a camera on the access door directed towards the bin defining the storage location to verify if an item is still present within the storage location. If the user selected more than one medical item for distribution the operations described above may be repeated until all selected medical items are successfully distributed to the user block . After distributing and verifying all selected medical items the processor communicates data to a printer associated with the distribution machine such that a receipt is printed for the user block . One or more records and or databases may be updated following completion of the distribution e.g. a transaction database a user database and or corresponding location records block .

In response to receiving the item selection data for the medical item to be restocked the processor determines a storage location that may store the type of medical item block and the processor actuates one or more of the drive mechanisms associated with a carousel including the storage location to position the storage location behind an access door. After positioning the storage location behind the access door the processor causes a door mechanism associated with the access door to unlock and or open the access door thereby providing access to the storage location to the user block .

The processor determines whether the medical item to be stocked in the storage location is a controlled substance block . As discussed above with respect to some medical items may be government regulated and the processor may access a medication record stored in a medication database to determine whether the medical item the user selected for stocking is a controlled substance. In some embodiments if the medical item is a controlled substance only 1 dose of the controlled substance will be stored in a storage location while more than one other medical item that is not a controlled substance may be stored in a storage location. Therefore in these embodiments in response to determining that the selected medical item is not a controlled substance N branch of block the processor may output a prompt to the user through the HMI requesting the user to input a quantity of the medical item placed in the storage location block and the processor receives the quantity data input by the user via the HMI block .

In response to determining that the medical item is a controlled substance Y branch of block or after receiving the quantity data the processor prompts the user to place the medical item in the accessible storage location and in some embodiments the processor prompts the user to close the access door block . In response to the access door being closed the processor analyzes the storage location using information received from a sensor proximate the access door to determine whether the medical item was properly stocked in the storage location block . For example the image capturing pixilation and analyzing process described above in connection with could be used to confirm that enough pixels have changed to indicate the medical item has been stocked in the bin. In response to the medical item being stocked in the storage location a location record stored in an accessible database corresponding to the storage location may be updated to include information from the order record associated with the purchase order block . For example the location record the location record may be updated to include various information for the medical item stocked in the storage location including the name of the medical item the dosage of the medical item the expiration date of the medical item the lot number of the medical item and or other such information. In response to determining that the item was properly stocked in the storage location the display of medical items of the purchase order on the HMI may be updated to indicate that the selected medical item and or quantity of the selected medical item has been stocked block . A user may select another medical item of the purchase order displayed on the HMI and repeat the operations discussed above to restock other medical items of the purchase order. After the user has finished restocking all the medical items of the purchase order the processor may output data to a printer associated with the distribution machine such that a receipt is printed for the user corresponding to the restocking performed by the user block . It will be understood that the restocking of items in the distribution machine may be manually actuated when necessary or may be automatically initiated by reordering any medication or item that falls beneath a set threshold of doses located within the machine e.g. automatic reordering when fewer than 3 doses remain .

In these embodiments of the invention the distribution machine may advantageously transmit a digital image of a prescription to a pharmacy for review. In these embodiments a medical item indicated on the prescription may be added to a patient s profile in a time efficient manner as compared to delivering the printed prescription. Furthermore due to the expedited communication of the prescription to the associated pharmacy the prescription may be reviewed quickly and the pharmacy may update the patient s profile more quickly. Hence in these embodiments a user may add a medical item stored at the distribution machine to a patient s profile and thereby be able to distribute at least a dose of such medical item from the distribution machine in less time as compared to the conventional process of delivering the printed prescription to the pharmacy and waiting for the pharmacy to fill the prescription.

Following the user log in shown in the user may input identification data for a patient. illustrates a display that may be presented to the user to identify a particular patient corresponding to the user s interaction with the distribution machine where the user may input a name of the particular patient a room number of the patient a unique patient number a date of birth of the patient a social security number of the patient and or any other such identifying characteristic for a particular patient. As shown in this example the user may input only a portion of an identifying characteristic and a patient database may be searched for patient records matching the input portion. In response to the user inputting identification data for the particular patient the processor may cause the HMI to output on the graphical user interface any patient records matching the input identification data. For example illustrates an output screen indicating a patient name gender date of birth attending physician room number allergies and patient number. As shown in if more than one patient record corresponds to the input identification data the user may scroll through the patient records on the graphical user interface to select the patient record corresponding to the particular patient. In this example the user may press the ENTER button on the touch screen display shown to select the corresponding patient record.

As shown in the selected patient record may be shown where the graphical user interface may include a list of prescribed medical items the dosage of each prescribed medical item the quantity on hand at the distribution machine for each prescribed medical item the patient name patient room number attending physician gender date of birth social security number and or other such information stored in the patient record corresponding to the particular patient. With respect to the exemplary illustration shown in for each prescribed medical item the graphical user interface may display information corresponding to the prescribed medical item. For example a Yes No Y N checkbox may be associated with a prescribed medication where the checkbox may be checked or un checked by a user based on whether the prescribed medical item should be distributed. The graphical user interface may display a quantity QTY indicating the quantity to be distributed a quantity on hand QOH which generally indicates the quantity available in the distribution machine a machine quantity on hand MQOH indicating the total quantity of a medication in the distribution machine generally used for controlled substances where only one medical item may be stocked in each bin a bin quantity on hand BQOH generally used for non controlled substances where more than one medical item may be stocked in each bin a profiled not profiled P NP indicating whether the medical item has been reviewed and placed on to the health record for a particular patient a drug class SCHED indicating whether the medical item is a controlled substance and if so which schedule a product name a strength i.e. dosage a dosage form FORM e.g. tablet liquid etc. dosing instructions and a unit dose pass time.

In some embodiments of the invention the user may be able to interact with the graphical user interface to display additional information corresponding to the medical items stored in the distribution machine and or information corresponding to the patient. For example the distribution machine may be configured to distribute non prescribed medical items and as shown in the user has selected the NON PROFILED button on the graphical user interface which displays a list of medical items stored in the distribution machine that are not prescribed to the particular patient. Furthermore as shown in the user may switch between the graphical user interface displaying the generic names of each medical item and the brand name of each medical item. The user may select the REVIEW button to review medical items that have been selected for distribution where the graphical user interface may display a screen such as the example shown in . Pressing the ISSUE button may initiate the distribution process previously discussed and the graphical user interface may display a screen such as the example shown in which generally displays the medical items that will be issued from the distribution machine.

As described previously in some embodiments a distribution machine may store one or more controlled substances. In these embodiments prior to issuing a controlled substance to a user a witness may be prompted to input identification data. provides an exemplary display output of an HMI of such distribution machine prompting a witness to enter identification criteria and a PIN. provides an exemplary illustration of an HMI of a distribution machine prompting a user to scan machine readable indicia associated with a medical item removed from the distribution machine to verify that the correct type of medical item was removed. Referring to in some embodiments of the invention a user may select a medical item from a displayed list of items and press the DETAILS button to view additional details stored in a medication record corresponding to the medical item. provides an exemplary illustration of an HMI of a distribution machine displaying such additional details including for example an image of the medical item the brand name the generic name the strength dose instructions dosage times and or other such information.

In a healthcare facility that may utilize a distribution machine consistent with some embodiments of the invention a new patient may be in need of one or more medical items prior to a corresponding patient record being stored in the database. provides an exemplary illustration of a graphical user interface of the distribution machine allowing a user to input patient information such that a temporary patient record may be used to distribute one or more medical items stored in the distribution machine. However since the distribution machine may store medications requiring a prescription if the user needs prescription medications for the patient the user may be required to scan a prescription including related and or additional required paperwork and transmit the prescription to an associated pharmacy for review prior to the distribution machine issuing such prescription medications. The input patient information comprises a temporary patient record which may be stored as a patient record in a patient database connected to the distribution machine and also communicated with a scanned prescription to the associated pharmacy. When the user is required to scan a prescription the user may press the SCAN button on the graphical user interface. provides an exemplary illustration of a processor of the distribution machine causing the HMI to output on the graphical user interface the scanned prescription.

Referring to the MAINT button allows a user to enter a maintenance menu of options for the distribution machine such as the exemplary maintenance options shown in . In response to the user selecting the RESTOCK button of the user is prompted to enter information corresponding to the restocking. For example in the user is prompted to enter a shipping bag number associated with the medical items that are to be restocked. After identifying the purchase order associated with the restocking based on the input information the graphical user interface may be updated to display all medical items associated with the purchase order as shown for example in . The restocking process is then performed as described in detail above.

The distribution machine and corresponding workflow methodologies described in connection with the current invention advantageously extend inventory supplies to remote healthcare facilities such as long term care facilities while still providing the necessary regulation and control of items like controlled substances. The distribution machine can operate as a remote telepharmacy as well as an inventory supply for a first dose a first day of doses and or multiple days of doses of medications that are required for potential new and existing patients. The distribution machine quickly enables an authorized user to find a necessary medication or medical supply item and access that item while maintaining a clear record including visual images that may be used to correct problems if an accidental or malicious diversion occurs. The ability to store up to 2100 separate unit doses of medication individually within a smaller device footprint e.g. 36 inches by 39 inches than conventional Automated Dispensing Cabinets will improve the applications in which the distribution machine is useful.

With respect to the embodiment of the distribution machine shown in many operations described above with respect to may be performed at the server where the distribution machine functions as a remote terminal and all data is communicated over the communication network to the server for processing by the processor of the server . The controller of the distribution machine executes application to provide a remote interface with the server such that a user may input data via the HMI and the input data may be transmitted to the server for processing by the server . The server may communicate data to the distribution machine and the controller may process the data and perform one or more operations in response to processing the data. For example the controller may interface with the drive mechanism and the door mechanisms to position a storage location behind an access door and unlock an access door for distribution of a stored medical item.

Turning now to this figure provides a flowchart illustrating a sequence of operations that may be performed by a distribution machine and a server consistent with some embodiments of the invention to distribute a stored medical item. As discussed above in some embodiments the distribution machine may serve as a remote interface to a server . For example in some embodiments the distribution machine may display a secure Internet webpage which is connected to the server such that a user may input information at the distribution machine to the server via the secure Internet webpage displayed by the distribution machine . An exemplary protocol that may be used to transfer encrypted data over the Internet is Hypertext Transfer Protocol with Secure Sockets Layer HTTPS .

As such a user may input user identification data via an HMI and a controller of the distribution machine may receive the user identification data block . The distribution machine may communicate the user identification data to the server for processing blocks . The server analyzes the user identification data to confirm that the user identification data corresponds to a user record stored in a user database accessible by the server block . The server communicates response data to the distribution machine blocks . As mentioned in embodiments of the invention where the distribution machine displays a remote interface with the server the response data from the server may include the data loaded and displayed at the distribution machine . The user may input patient identification data via the HMI and the controller of the distribution machine may receive the patient identification data block . The patient identification data is communicated to the server from the distribution machine blocks . The server analyzes the patient identification data to confirm that the patient identification data corresponds to a patient record stored in a patient database accessible to the server block . The server communicates response data to the distribution machine blocks such that data from the corresponding patient record is displayed on a screen of the distribution machine block .

The user may select one or more medical items to be distributed for the patient and the controller may receive the selection data from the HMI block . The item selection data is communicated from the distribution machine to the server blocks . The server analyzes the items selected and determines whether the user is authorized to receive the selected items including for example determining whether any selected items are controlled substances and whether the user is authorized to receive controlled substances block . Furthermore the server analyzes the selected items to determine storage locations in the distribution machine storing the selected items by analyzing location records stored in a location database accessible by the server. Based on the selected items the location records and the user authorization level the server communicates response data to the distribution machine blocks .

The response data may cause the machine controller to output display data to the HMI to inform the user of the status of the item selection request block . In response to receiving the response data the machine controller may actuate a drive mechanism of the distribution machine to position a storage location storing a medical item selected by the user behind an access door for removal and the machine controller may actuate a door mechanism to unlock and or open the access door block . The user may scan machine readable indicia associated with the medical item removed from the storage location using a scanner associated with the distribution machine and the machine controller may receive the scanner input block . The scanner input is communicated from the distribution machine to the server blocks .

The server analyzes the scanner input to confirm that the correct medical item was distributed to the user block . The server communicates response data to the distribution machine blocks where the response data indicates whether the correct medical item was distributed to the user. The distribution machine captures image data corresponding to the storage location from which the medical item was removed using a camera associated with the distribution machine block and the distribution machine communicates the image data to the server blocks . The server analyzes the image data to determine whether the medical item was removed from the storage location block .

As such in this exemplary embodiment the machine controller of the distribution machine executes an application to present the user with a remote interface with the server . The user may input data at the distribution machine which may be communicated to the server for processing. The server may transmit response data to the distribution machine which may cause the machine controller of the distribution machine to perform one or more operations including for example updating a display actuating a drive mechanism actuating one or more door mechanisms capturing image data with a camera of the distribution machine and or other such operations described herein.

In response to determining that the analysis indicates that the expected result occurred Y branch of block the action may be verified by the process block . For example the processor may output data indicating that the storage location is empty and or contains the medical item. In response to determining that the analysis indicates that the expected result did not occur N branch of block the processor may determine whether threshold conditions in the image data were met block . Threshold conditions may include for example a percentage of an area of interest defined for the storage location that is different from the rest of the area of interest. In another example a threshold condition may include a percentage of color change for pixels of an area of interest defined for the storage location. Other such threshold conditions may be defined for determining whether a medical item is present in a storage location based on image data for the storage location. In response to determining that the threshold conditions are met Y branch of block the processor may verify that the counter action to the expected action was performed block . For example if the expected action was to stock a medical item the counter action would be that the analysis indicated that the storage location was empty.

In response to determining that the threshold conditions were not met N branch of block the processor may cause the camera to capture second image data for the storage location block and the processor may analyze the second image data block . Hence in embodiments of the invention in the event that the threshold conditions for the first image data are not met to reduce the possibility of a false positive from image data not meeting threshold conditions second image data may be captured and analyzed. The processor may determine whether the analysis indicates that the expected result has occurred block . In response to determining that the expected result has not occurred N branch of block the processor may verify the counter action block . As such by determining twice that the expected result did not occur the processor may determine even with image data not meeting threshold conditions which the expected result did not occur.

In response to determining that the expected result did occur based on the second image data Y branch of block the processor may cause the camera to capture third image data for the storage location block and the processor may analyze the third image data block . In response to the analysis indicating that the expected result occurred Y branch of block the processor may verify the action block . In response to the analysis indicating that the expected result did not occur the processor may output data indicating that the expected action did not occur block . Hence in embodiments of the invention the processor may analyze three sets of captured image data to determine whether a medical item was properly stocked or removed from a storage location if after a first inspection the opposite of the expected result is indicated or if the threshold conditions are not met for the first image data.

A plurality of distribution machines connected to a server consistent with embodiments of the invention may facilitate determining a quantity of each medical item on hand for a facility including the plurality of distribution machines distributed locally and or remotely. Furthermore in such a facility a patient may be associated with a particular distribution machine of the based on a location indicated in a patient record corresponding to the patient. In response to the patient being moved to a different location the patient may be associated with a different distribution machine. In these embodiments particular medical items prescribed to the particular patient may be stocked in the different distribution machines based on the patient s location. For example if a patient were to be in a first area with a first distribution machine for the first five days after being admitted to the facility the first distribution machine may be stocked with the appropriate medical items for the first five days. If the patient is moved to a second location with a second distribution machine after the first five days the second distribution machine may be stocked accordingly where the ordering and stocking of the appropriate medical items at the first and second distribution machines may be based on the patient record and any particular rules for the facility stored in a database connected to the server and the distribution machines.

References herein to directional terms such as vertical horizontal upper lower raise lower etc. are made by way of example and not by way of limitation to establish a frame of reference. It is understood by persons of ordinary skill in the art that various other frames of reference may be equivalently employed for purposes of describing the embodiments of the invention.

It will be understood that when an element is described as being attached connected or coupled to or with another element the element can be directly connected or coupled to the other element or instead one or more intervening elements may be present. In contrast when an element is described as being directly attached directly connected or directly coupled to another element there are no intervening elements present. When an element is described as being indirectly attached indirectly connected or indirectly coupled to another element there is at least one intervening element present.

The terminology used herein is for the purpose of describing particular embodiments only and is not intended to be limiting of the invention. As used herein the singular forms a an and the are intended to include the plural forms as well unless the context clearly indicates otherwise. It will be further understood that the terms comprises and or comprising when used in this specification specify the presence of stated features integers steps operations elements and or components but do not preclude the presence or addition of one or more other features integers steps operations elements components and or groups thereof. Furthermore to the extent that the terms includes having has with comprised of or variants thereof are used in either the detailed description or the claims such terms are intended to be inclusive in a manner similar to the term comprising. 

While the invention has been illustrated by a description of various embodiments and while these embodiments have been described in considerable detail it is not the intention of the applicants to restrict or in any way limit the scope of the appended claims to such detail. In particular any of the blocks of the above flowcharts may be deleted augmented made to be simultaneous with another combined or be otherwise altered in accordance with the principles of the invention. Additional advantages and modifications will readily appear to those skilled in the art. The invention in its broader aspects is therefore not limited to the specific details representative methods and illustrative examples shown and described. Accordingly departures may be made from such details without departing from the spirit or scope of applicants general inventive concept.

