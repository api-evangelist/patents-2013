---

title: Secure peer-to-peer call forking facilitated by trusted 3rd party voice server provisioning
abstract: A method of extending a peer-to-peer platform to a mobile communication device comprises assigning an identifier to a Voice over Internet Protocol identity and sending a license key to a trusted register in the mobile communication device. The method further comprises cross listing the identifier with the Voice over Internet Protocol identity, wherein a call placed to the Voice over Internet Protocol identity is routed to both an electronic device and the mobile communication device and routing a Voice Over Internet Protocol call addressed to the Voice over Internet Protocol identity to both the electronic device and the mobile communication device, wherein the call routing to the mobile communication device is based on the identifier and the cross listing.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09185626&OS=09185626&RS=09185626
owner: Sprint Communications Company L.P.
number: 09185626
owner_city: Overland Park
owner_country: US
publication_date: 20131029
---
Electronic devices such as personal computers may engage in Voice over Internet Protocol VoIP communications. VoIP is a methodology for delivering voice communications and multimedia over Internet Protocol IP networks rather than over the Public Switched Telephone Network PSTN . VoIP communications in which electronic devices engage include videoconferencing which may allow participants to view multimedia images of communicating parties. VoIP videoconferencing can occur over peer to peer network architectures in which the communicating electronic devices act as peer nodes in a system that lacks central infrastructure. By acting as peer nodes the communicating electronic devices each share a client server role in the peer to peer communication.

In an embodiment a method of extending a peer to peer platform to a mobile communication device is disclosed. The method comprises assigning an identifier to a Voice over Internet Protocol identity sending a license key to a trusted register in the mobile communication device and cross listing the identifier with the Voice over Internet Protocol identity wherein a call placed to the Voice over Internet Protocol identity is routed to both an electronic device and the mobile communication device. The method further comprises routing a Voice Over Internet Protocol call addressed to the Voice over Internet Protocol identity to both the electronic device and the mobile communication device wherein the call routing to the mobile communication device is based on the identifier and the cross listing.

In an embodiment a method of establishing a peer to peer platform on a mobile communication device is disclosed. The method comprises receiving in a trusted security zone of the mobile communication device a license key and an identifier wherein the identifier is coupled with a Voice over Internet Protocol service account authenticating the mobile communication device to the Voice over Internet Protocol service based on at least one of the license key and the identifier and receiving on the mobile communication device an incoming call via the Public Switched Telephone Network wherein the incoming call originated in the Internet Protocol realm.

In an embodiment a method of extending a peer to peer platform to a mobile communication device is disclosed. The method comprises sending a license key and an identifier from trusted data storage to a trusted security zone of a mobile communication device wherein the identifier is hidden in the trusted security zone such that characteristics of the identifier are unknown to a user of the mobile communication device unknown to a Public Switched Telephone Network service provider and are unknown to a Voice over Internet Protocol service provider. The method further comprises linking the identifier to a Voice over Internet Protocol service account of an electronic device and routing a Voice over Internet Protocol call addressed to the account of the electronic device to the mobile communication device based on the identifier wherein the call is converted from Internet Protocol to the Public Switched Telephone Network at a routing table.

These and other features will be more clearly understood from the following detailed description taken in conjunction with the accompanying drawings and claims.

It should be understood at the outset that although illustrative implementations of one or more embodiments are illustrated below the disclosed systems and methods may be implemented using any number of techniques whether currently known or not yet in existence. The disclosure should in no way be limited to the illustrative implementations drawings and techniques illustrated below but may be modified within the scope of the appended claims along with their full scope of equivalents.

Voice over Internet Protocol VoIP services such as Skype Google Talk OoVoo Vonage or other services may be used for voice and or multimedia communications between electronic devices such as desktop computers laptop computers etc. Users choosing to communicate using Voice over Internet Protocol services may find videoconferencing via the Voice over Internet Protocol service preferable to communicating over a landline of the Public Switched Telephone Network PSTN for a variety of reasons. For example users may prefer to communicate using Voice over Internet Protocol services because they find the communication to be more personal than communication that occurs over a landline of the Public Switched Telephone Network.

Thus in some cases a calling party may be more likely to attempt an initial call via a Voice over Internet Protocol service than to attempt the call via the Public Switched Telephone Network. It is sometimes the case that the called party of a Voice over Internet Protocol call is unable to receive the call due to being away from the called electronic device the called electronic device being out of service due to lack of service and or malfunction or due to some other reason. In such cases the Voice over Internet Protocol call may not be completed and the calling party may find it easier to invoke other communication methods in order to reach the called party.

The present disclosure teaches extending a peer to peer platform to a mobile communication device. In an embodiment calls originating as Internet Protocol calls may be received on the mobile communication device via the Public Switched Telephone Network. The calls may be changed from the Internet Protocol realm to the Public Switched Telephone Network realm at a routing table within a network. Thus a Voice over Internet Protocol VoIP call may be initiated by a calling party and may be received on the mobile communication device of a called party via the Public Switched Telephone Network. In an embodiment a peer to peer Voice over Internet Protocol call may be dually routed to a called party s electronic device and to the called party s mobile communication device which may be a cell phone a mobile phone a smartphone etc. In some cases the Voice over Internet Protocol call may be initially addressed to the called party s electronic device and may be routed to both the electronic device and the mobile communication device based on a cross listing in a routing table.

Such dual routing may allow the called party to receive Voice over Internet Protocol calls directed to his her electronic device that he she may have missed due to reasons presented above or due to other reasons. For example a called party may be able to receive a Voice over Internet Protocol call to his her electronic device on his her mobile communication device when he she is unable to receive the call on his her electronic device. In some cases the called party may wish to handle the call on a mobile communication device rather than on an electronic device and routing a Voice over Internet Protocol call to both the called party s mobile communication device and the called party s electronic device may allow the called party to choose which device he she would prefer to answer the call on.

Security measures to prevent spoofing of user identities may be beneficial to mobile communication device users and or service providers. The present disclosure teaches provisioning a mobile communication device operating in the Public Switched Telephone Network such that the mobile communication device may receive calls originating as Voice over Internet Protocol calls that are routed to the mobile communication device and or to an electronic device. The present disclosure teaches performing the provisioning under an umbrella of trust provided by a trusted security zone as described in greater detail hereinbelow. Performing the provisioning under an umbrella of trust may prevent spoofing of network identities such as a Voice over Internet Protocol identity and may prevent sniffers or other nefarious programs from infiltrating communications.

In an embodiment a license key and an identifier may be inserted into a trusted register of the mobile communication device by a trusted source. The license key and identifier may be stored in the trusted register so that each call may be verified in trust during setup to prevent spoofing. In some cases an End User License Agreement may be agreed to before the license key and or the identifier are inserted into the trusted register of the mobile communication device. In some cases the identifier may be assigned to the mobile communication device but may not be stored on the mobile communication device. The license key may serve to authenticate the mobile communication device to a Voice over Internet Protocol service. The identifier may identify the mobile communication device to the Voice over Internet Protocol service such that the mobile communication device may be associated with the electronic device in a server of the communication system. The Voice over Internet Protocol service may cross list the identifier assigned to the mobile communication device such that a Voice over Internet Protocol call placed to the identifier will also be routed to the mobile communication device by the network service provider.

It is anticipated that trusted provisioning of a mobile communication device to be operable within a peer to peer manipulated single number service configured to cross list an identifier assigned to the mobile communication device with an identifier assigned to an electronic device may provide several advantages to both a calling party and a called party. The called party may benefit from greater call receipt flexibility by being able to choose which device on which he she would prefer to receive the call. The dual ringing nature of the present disclosure may further benefit the called party by providing a greater opportunity to receive the call. Further a network service provider may obtain a call detail record that may be used for billing.

In an embodiment the network service provider may provide service to the mobile communication device and a partnered Voice over Internet Protocol provider may provide Voice over Internet Protocol services that may be used by the electronic device. In an embodiment the network service provider and the Voice over Internet Protocol provider may be the same. An enterprise may subscribe to both the network service provider and to the Voice over Internet Protocol provider and may make use of services provided by both providers. In an embodiment when a Voice over Internet Protocol call routed to the mobile communication device is received via the Public Switched Telephone Network the network service provider may maintain a call detail record for the call. The call detail record may be used for billing.

The calling party may likewise benefit from a greater opportunity of the called party to receive the call. Additionally the calling party may find it convenient for the call to dual ring to both the called party s electronic device and the called party s mobile communication device because in the event that the called party doesn t answer a call to his her electronic device the calling party may save time by avoiding a separate second call to the called party s mobile communication device. It is anticipated that both parties and service providers may benefit from protections afforded by performing authentication operations in the trusted security zone.

A trusted security zone provides chipsets with a hardware root of trust a secure execution environment for applications and secure access to peripherals. A hardware root of trust means the chipset should only execute programs intended by the device manufacturer or vendor and resists software and physical attacks and therefore remains trusted to provide the intended level of security. The chipset architecture is designed to promote a programmable environment that allows the confidentiality and integrity of assets to be protected from specific attacks. Trusted security zone capabilities are becoming features in both wireless and fixed hardware architecture designs. Providing the trusted security zone in the main mobile device chipset and protecting the hardware root of trust removes the need for separate secure hardware to authenticate the device or user. To ensure the integrity of the applications requiring trusted data such as a mobile financial services application the trusted security zone also provides the secure execution environment where only trusted applications can operate safe from attacks. Security is further promoted by restricting access of non trusted applications to peripherals such as data inputs and data outputs while a trusted application is running in the secure execution environment. In an embodiment the trusted security zone may be conceptualized as hardware assisted security.

A complete trusted execution environment TEE may be implemented through the use of the trusted security zone hardware and software architecture. The trusted execution environment is an execution environment that is parallel to the execution environment of the main mobile device operating system. The trusted execution environment and or the trusted security zone may provide a base layer of functionality and or utilities for use of applications that may execute in the trusted security zone. For example in an embodiment trust tokens may be generated by the base layer of functionality and or utilities of the trusted execution environment and or trusted security zone for use in trusted end to end communication links to document a continuity of trust of the communications. For more details on establishing trusted end to end communication links relying on hardware assisted security see U.S. patent application Ser. No. 13 532 588 filed Jun. 25 2012 entitled End to end Trusted Communications Infrastructure by Leo Michael McRoberts et al. which is hereby incorporated by reference in its entirety. Through standardization of application programming interfaces APIs the trusted execution environment becomes a place to which scalable deployment of secure services can be targeted. A device which has a chipset that has a trusted execution environment on it may exist in a trusted services environment where devices in the trusted services environment are trusted and protected against attacks. The trusted execution environment can be implemented on mobile phones and tablets as well as extending to other trusted devices such as personal computers servers sensors medical devices point of sale terminals industrial automation handheld terminals automotive etc.

The trusted security zone is implemented by partitioning all of the hardware and software resources of the mobile device into two partitions a secure partition and a normal partition. Placing sensitive resources in the secure partition can protect against possible attacks on those resources. For example resources such as trusted software applications may run in the secure partition and have access to hardware peripherals such as a touchscreen or a secure location in memory. Less secure peripherals such as wireless radios may be disabled completely while the secure partition is being accessed while other peripherals may only be accessed from the secure partition. While the secure partition is being accessed through the trusted execution environment the main mobile operating system in the normal partition is suspended and applications in the normal partition are prevented from accessing the secure peripherals and data. This prevents corrupted applications or malware applications from breaking the trust of the device.

The trusted security zone is implemented by partitioning the hardware and software resources to exist in a secure subsystem which is not accessible to components outside the secure subsystem. The trusted security zone is built into the processor architecture at the time of manufacture through hardware logic present in the trusted security zone which enables a perimeter boundary between the secure partition and the normal partition. The trusted security zone may only be manipulated by those with the proper credential and in an embodiment may not be added to the chip after it is manufactured. Software architecture to support the secure partition may be provided through a dedicated secure kernel running trusted applications. Trusted applications are independent secure applications which can be accessed by normal applications through an application programming interface in the trusted execution environment on a chipset that utilizes the trusted security zone.

In an embodiment the normal partition applications run on a first virtual processor and the secure partition applications run on a second virtual processor. Both virtual processors may run on a single physical processor executing in a time sliced fashion removing the need for a dedicated physical security processor. Time sliced execution comprises switching contexts between the two virtual processors to share processor resources based on tightly controlled mechanisms such as secure software instructions or hardware exceptions. The context of the currently running virtual processor is saved the context of the virtual processor being switched to is restored and processing is restarted in the restored virtual processor. Time sliced execution protects the trusted security zone by stopping the execution of the normal partition while the secure partition is executing.

The two virtual processors context switch via a processor mode called monitor mode when changing the currently running virtual processor. The mechanisms by which the processor can enter monitor mode from the normal partition are tightly controlled. The entry to monitor mode can be triggered by software executing a dedicated instruction the Secure Monitor Call SMC instruction or by a subset of the hardware exception mechanisms such as hardware interrupts which can be configured to cause the processor to switch into monitor mode. The software that executes within monitor mode then saves the context of the running virtual processor and switches to the secure virtual processor.

The trusted security zone runs a separate operating system that is not accessible to the device users. For security purposes the trusted security zone is not open to users for installing applications which means users do not have access to install applications in the trusted security zone. This prevents corrupted applications or malware applications from executing powerful instructions reserved to the trusted security zone and thus preserves the trust of the device. The security of the system is achieved at least in part by partitioning the hardware and software resources of the mobile phone so they exist in one of two partitions the secure partition for the security subsystem and the normal partition for everything else. Placing the trusted security zone in the secure partition and restricting access from the normal partition protects against software and basic hardware attacks. Hardware logic ensures that no secure partition resources can be accessed by the normal partition components or applications. A dedicated secure partition operating system runs in a virtual processor separate from the normal partition operating system that likewise executes in its own virtual processor. Users may install applications on the mobile device which may execute in the normal partition operating system described above. The trusted security zone runs a separate operating system for the secure partition that is installed by the mobile device manufacturer or vendor and users are not able to install new applications in or alter the contents of the trusted security zone.

Turning now to a communication system is described. In an embodiment the communication system comprises a mobile communication device a base transceiver station BTS a network an electronic device a mobile service provider Voice over Internet Protocol VoIP core Internet Protocol Multimedia Subsystem IMS a trusted Voice over Internet Protocol VoIP server and a trusted data store DB .

In an embodiment the mobile communication device comprises a trusted security zone and a permissive sector . The trusted security zone is depicted in as comprising an identifier a license key and a plurality of trusted applications . In some cases the trusted security zone may comprise other elements to facilitate operation of the mobile communication device in the communication system . In some embodiments the identifier may be assigned to the mobile communication device but may not be stored on the mobile communication device . The permissive sector is depicted in as comprising one or more applications such as a Voice over Internet Protocol VoIP application . In some cases the permissive sector may comprise other elements. In an embodiment the mobile communication device may comprise hardware elements such as one or more memory chips one or more processors a radio frequency transceiver and or other elements and one or more of those elements may be divided into the trusted security zone and the permissive sector . In an embodiment the mobile communication device may comprise a cellphone a smart phone a feature phone a mobile phone or something else. In an embodiment the trusted security zone may be replaced by a different secure storage component and or a different secure information access process other than the trusted security zone and trusted execution environment described in detail further above.

In an embodiment a user of the electronic device may have a Voice over Internet Protocol identity known by a Voice over Internet Protocol service such as Skype Oovoo Google Talk Vonage or some other service. The Internet Protocol IP address of the electronic device may be linked to the user s Voice over Internet Protocol identity such that Voice over Internet Protocol calls addressed to the user s Voice over Internet Protocol identity may be routed to the Internet Protocol address of the electronic device . In some cases a Voice over Internet Protocol service account may be linked to an Internet Protocol address of the electronic device and may be considered substantially similar to a Voice over Internet Protocol identity. In some contexts the Voice over Internet Protocol identity and or the Voice over Internet Protocol service account of a user of the electronic device may be considered to be the Voice over Internet Protocol identity and the Voice over Internet Protocol service account of the electronic device .

A user of the electronic device may use the Voice over Internet Protocol service capabilities of the electronic device to communicate over the network . It is sometimes the case that Voice over Internet Protocol services operate through a peer to peer architecture wherein each device adopts a client server relationship in the communication. Communicating over the network may include calling and receiving calls over the network . A calling party wishing to contact the user of the electronic device may invoke a Voice over Internet Protocol service in an attempt to reach the user of the electronic device . In such circumstances a Voice over Internet Protocol call may be placed by the calling party to the called party in this case the user of the electronic device by addressing the call to the user s Voice over Internet Protocol identity which may then be routed to the electronic device .

In an embodiment a service provider agreement may be made between a Voice over Internet Protocol service provider and a mobile service provider that provides service to the mobile communication device . The agreement may allow the mobile communication device to be provisioned such that Voice over Internet Protocol calls to the electronic device may be dually routed to both the electronic device and to the mobile communication device . In some cases the mobile communication device and the electronic device may be owned and or operated by a single user thus dual routing Voice over Internet Protocol calls to both the mobile communication device and the electronic device may allow the user to receive the call on either device. In an embodiment the provisioning process and Voice over Internet Protocol calls received through the single number service arising from the provisioning may occur in the realm of trust. In some embodiments the call setup may occur in the realm of trust but the call itself may operate outside of the trusted execution environment.

In an embodiment the trusted Voice over Internet Protocol server may execute a trusted voice provisioning process in order to supply the mobile communication device with the license key and an identifier for use with the Voice over Internet Protocol service. As described above in some cases the identifier may be assigned to the mobile communication device without being stored on the mobile communication device . The identifier may comprise a mobile ID a Voice over Long Term Evolution VoLTE identifier in the case of a Long Term Evolution LTE network a telephone number or some other identifier for use with the Voice over Internet Protocol service. The identifier may be separate from the phone number attributed to the mobile communication device by the mobile service provider. The identifier may be configured to associate the mobile communication device with the Voice over Internet Protocol identity of the electronic device . In order to provide security against spoofing the identifier may remain hidden in the trusted security zone such that the characteristics of the identifier remain unknown to users mobile service providers Public Switched Telephone Network providers and Voice over Internet Protocol service providers.

In an embodiment the trusted Voice over Internet Protocol server may identify an identifier to attribute to the mobile communication device and may query the mobile service provider Voice over Internet Protocol Core IMS for session initiation protocol routing instructions and the address of the mobile communication device . The trusted Voice over Internet Protocol Server may send the identifier and the license key to the mobile communication device . Alternatively in some cases only the license key may be sent. In some cases the license key may be sent to the mobile communication device and before the identifier is sent to the mobile communication device . In an embodiment the trusted Voice over Internet Protocol Server may identify and send the identifier and or the license key from the trusted data store .

Alternatively the identifier and the license key may be identified and sent from different data stores. For example the identifier may be identified and sent from the trusted data store and the license key may be identified and sent from some other data store. In some cases there may be a plurality of trusted data stores and the identifier and the license key may be taken from different trusted data stores .

In order to maintain an environment of trust the identifier and or license key may be sent to the mobile communication device via trusted end to end communication through one or more trusted nodes. Maintaining an environment of trust throughout the selection and transport of the identifier and the license key to the mobile communication device may prevent the identifier and or the license key from being discovered. The protection of the identifier and or the license key may prevent nefarious programs from spoofing the identity of the mobile communication device and or the electronic device and or otherwise corrupting the information transfer.

Within the mobile communication device the identifier and the license key may be stored in a trusted register such as a trusted port or trusted portion of memory on the mobile communication device . Alternatively the identifier and the license key may be stored in another trusted location on the mobile communication device . In some cases the identifier may not be sent to the mobile communication device and the license key may be stored in the trusted security zone . The trusted Voice over Internet Protocol server may mark the trusted data store to indicate that the identifier and the license key attributed to the mobile communication device have been distributed. Marking the trusted data store may prevent duplicate identifier s from being attributed to other devices. The license key and the identifier attributed to the mobile communication device may serve to authenticate the mobile communication device to the Voice over Internet Protocol service and may allow the mobile communication device to participate in a single number service that may allow Voice over Internet Protocol calls to be routed to the mobile communication device and to the electronic device .

In an embodiment the identifier and or the license key may be revocable. The identifier and or the license key may be revoked in response to non payment of service departure from an enterprise violation of the terms of an End User License Agreement of for some other reason. In the case that the identifier and or the license key are revoked from the mobile communication device the mobile communication device may lose its single number service capabilities that allows it to be dually rung along with the electronic device .

In an embodiment one of the trusted applications may invoke the identifier and or the license key to authenticate the mobile communication device to the Voice over Internet Protocol service. In response to the authentication the Voice over Internet Protocol service may send a provisioning request to the network wherein the provisioning request may be configured to alter a routing table such that the mobile communication device and the electronic device may be cross listed as Voice over Internet Protocol call destinations reachable through Voice over Internet Protocol calls addressed to a single number. Cross listing the mobile communication device and the electronic device may allow Voice over Internet Protocol calls to the electronic device to dually ring both the mobile communication device and the electronic device . In some cases Voice over Internet Protocol calls to a single number that is configured to ring through to both the mobile communication device and the electronic device may be considered Voice over Internet Protocol calls addressed to the electronic device .

In an embodiment dually ringing the mobile communication device and the electronic device may comprise ringing both the devices in response to a single connection request. This may include ringing both devices at the same time within about one half second of each other within about one second of each other within about two seconds of each other within about three seconds of each other within about four seconds of each other within about five seconds of each other or within some other time period of each other. Similarly in some contexts incoming call signals on both the mobile communication device and the electronic device received at the same time or within about one half second of each other within about one second of each other within about two seconds of each other within about three seconds of each other within about four seconds of each other within about five seconds of each other or within some other time period of each other may be considered to be dually received.

In an embodiment the routing table may be altered to facilitate dual ringing between the mobile communication device and the electronic device by setting and or modifying a Wireless Intelligent Network WIN trigger in a circuit switching network by modifying a Home Subscriber Service HSS profile in a Long Term Evolution LTE network or through some other mechanism. A user of the mobile communication device may have the capability to toggle the single number service on and off according to his her personal preference. In an embodiment the user may invoke one of the Voice over Internet Protocol applications to toggle the single number service on and off. Alternatively the user may invoke something else such as a widget frame a switch a dialogue box etc. to toggle the single number service on and off.

In an embodiment a Voice over Internet Protocol call may be placed to a Voice over Internet Protocol identity linked to the Internet Protocol address of the electronic device and may ring through to both the electronic device and the mobile communication device . In response to answering the Voice over Internet Protocol call on one of the devices the incoming call signal to the device on which the Voice over Internet Protocol call was not answered may be canceled and the Voice over Internet Protocol call may be established on the device which answered the call. An acknowledge receipt message may be sent in response to receiving the call and the call may be routed to the receiving device based on the acknowledgement receipt message.

For example when both devices are ringing to indicate an incoming Voice over Internet Protocol call dually routed to both devices a user may answer the Voice over Internet Protocol call on the mobile communication device and the incoming call signal to the electronic device may be canceled and the Voice over Internet Protocol call established on the mobile communication device . In an embodiment the Voice over Internet Protocol call may be converted from an Internet Protocol context to a context compatible with the mobile communication device . For example the Voice over Internet Protocol call may be converted to an analog voice context. Alternatively the mobile communication device may be able to receive the Voice over Internet Protocol call in an Internet Protocol context.

In an embodiment a user of the mobile communication device may receive a call through the Public Switched Telephone Network PSTN while communicating on a call that originated as a Voice over Internet Protocol call that was dually routed to the mobile communication device and to the electronic device . In this case the user may swap between calls by leaving trust to receive the PSTN call and returning to trust to continue the call that originated as a Voice over Internet Protocol call. In some cases the call that originated as a Voice over Internet Protocol call may not occur in trust and switching between calls may not involve entering and leaving trust. In an embodiment calls that occur through different networks may be billed to different entities.

In an embodiment a user of the mobile communication device may be affiliated with an enterprise and may conduct business through the Voice over Internet Protocol service. For example the user of the mobile communication device may participate in video conferences through Voice over Internet Protocol communications on the electronic device . It may be the case that service provider agreements have arranged for certain services such as Voice over Internet Protocol communications to be billed to the enterprise and other communications such as PSTN calls to be billed to the user.

Thus it may be the case that swapping from a call that originated as a Voice over Internet Protocol call to a Voice over Internet Protocol identity linked to the Internet Protocol address of the electronic device that was dually routed to both the electronic device and to the mobile communication device to a PSTN call directly routed to the mobile communication device may be associated with a change in billing entities. In some cases the trusted security zone may be configured to keep track of Voice over Internet Protocol communications. Alternatively trusted sources across the network may keep track of Voice over Internet Protocol communications. For example a call detail record can be generated and reported back to the mobile service provider Voice over Internet Protocol core IMS or the trusted Voice over Internet Protocol server .

In an embodiment the call detail record may be established after receiving a call initiation request that was converted from Voice over Internet Protocol to the Public Switched Telephone Network and routed to the mobile communication device . The call detail record may comprise information about the length of the call information about the calling party information about the called party and or other information. The call may have been routed to the mobile communication device based on a cross listing of the mobile communication device in a routing table. In some cases the call detail record may be generated created and or established by a telephone exchange. In an embodiment the call detail record may be used for billing purposes. The billing may be based on the amount of time an application on the mobile communication device was running. The application may be a Skype application an ooVoo application a Vonage application a Google Talk application or some other application. The call detail record may be generated created and or established upon completion of the call.

Turning now to a communication system is described. In an embodiment the communication system may comprise the mobile communication device the base transceiver station the electronic device the network the Mobile Service Provider Voice over Internet Protocol Core IMS a trusted Voice over Internet Protocol server and a trusted data store . The trusted Voice over Internet Protocol server may comprise an enterprise identity ID processor a Trusted Voice End User License Agreement TV EULA provisioning process and a Trusted Voice TV network interface process . The trusted data store may comprise a Trusted Voice TV numbering proxy a number identity pool a subscriber alias data store an End User License Agreement EULA pool and an Internet Protocol IP address data store .

In an embodiment the Trusted Voice End User License Agreement provisioning process may direct the enterprise identity processor to assign the license key and or the identifier to the mobile communication device . The Trusted Voice numbering proxy may be dipped to mark the number identity pool to indicate that the identifier has been assigned to the mobile communication device . The End User License Agreement pool may be marked to indicate that the license key has been assigned to the mobile communication device . The Trusted Voice network interface process may be invoked to insert the license key and or the identifier into the mobile communication device .

In an embodiment the Trusted Voice network interface process may direct the trusted Voice over Internet Protocol server to query the Mobile Service Provider Voice over Internet Protocol core IMS for session initiation protocol routing and the address of the mobile communication device . Trusted applications on the mobile communication device may be informed that the license key and the identifier are valid. The trusted applications may be configured to authenticate the mobile communication device to the Trusted Voice over Internet Protocol server in response authentication requests.

In an embodiment the subscriber alias data store may comprise subscriber email addresses that may be linked to subscriber Internet Protocol addresses contained in the Internet Protocol address data store . In some cases subscriber aliases may be Voice over Internet Protocol service identities. Information contained in the subscriber alias data store and or the Internet Protocol address data store may be used in routing calls to the electronic device and or to other devices. In an embodiment the number identity pool may be used in routing calls to the mobile communication device based on the identifier marked as assigned to the mobile communication device in the number identity pool . A routing table may be modified based on assigned identifiers in the number identity pool . In an embodiment the routing table may be modified to cross list the identifier with a subscriber alias or an Internet Protocol address of the electronic device .

Turning now to a message sequence is described. In an embodiment the message sequence may be performed when the mobile communication device authenticates to a Voice over Internet Protocol service as described in reference to . For example as described in reference to the mobile communication device may authenticate to a Voice over Internet Protocol service in response to a connection request initiated by the electronic device by the mobile communication device or by another device. The connection request may be routed to the mobile communication device based on a cross listing of the identifier in a routing table.

The mobile communication device exchanges Session Initiation Protocol SIP signaling with a target network application server AS . It is understood that the Session Initiation Protocol signaling may entail one or more messages sent both to and from each of the mobile communication device a Mobile Switching Center MSC a Media Gateway Controller Media Gateway MGC MG the mobile service provider Voice over Internet Protocol core IMS a mobile service provider Session Border Controller SBC a target network Session Border Controller and the target network application server .

During the Session Initiation Protocol signaling the Media Gateway Controller Media Gateway sends a 200 OK message to the mobile service provider Voice over Internet Protocol core IMS indicating that the initial requests associated with the Session Initiation Protocol signaling have completed successfully. The mobile service provider Voice over Internet Protocol core IMS relays a OK message to the mobile service provider Session Border Controller . The mobile service provider Session Border Controller relays a 200 OK message to the target network Session Border Controller . The target network Session Border Controller relays a OK message to the target network application server .

In response to receiving the 200 OK message the target network application server sends an invite to a trusted security zone area of hardware assisted trust HWA trust . The target network application server may send an acknowledgement message ACK to the target network Session Border Controller . The target network Session Border Controller sends an acknowledgement message to the mobile service provider Session Border Controller . The mobile service provider Session Border Controller sends an acknowledgement message to the mobile service provider Voice over Internet Protocol core IMS . The mobile service provider Voice over Internet Protocol core IMS sends an acknowledgement message to the Media Gateway Controller Media Gateway .

In response to receiving the invite the trusted security zone area of hardware assisted trust sends an End User License Agreement EULA invite to the trusted security zone of the mobile communication device . The trusted security zone of the mobile communication device sends an End User License Agreement EULA OK message to the trusted security zone area of hardware assisted trust . In an embodiment the trusted security zone may establish a trusted execution environment on the mobile communication device through which it may send the End User License Agreement OK message which may authenticate the mobile communication device to the trusted security zone area of hardware assisted trust . The End User License Agreement OK message may comprise information about the license key and may authenticate the mobile communication device based on the license key . Both the trusted security zone of the mobile communication device and the trusted security zone area of hardware assisted trust may comprise copies of the license key .

In response to receiving the End User License Agreement OK message the trusted security zone area of hardware assisted trust sends an acknowledgement message to the target network application server . Media may be exchanged between the target network application server and the mobile communication device in response to the target network application server successfully receiving the acknowledgement message . It is understood that the media may entail one or more messages sent both to and from each of the mobile communication device the Mobile Switching Center MSC the Media Gateway Controller Media Gateway MGC MG the mobile service provider Voice over Internet Protocol core IMS the mobile service provider Session Border Controller SBC the target network Session Border Controller and the target network application server . In an embodiment media may comprise images voice communications and or other things. In some embodiments the media may be exchanged under an umbrella of trust. In other embodiments the media may be exchanged outside of the realm of trust.

The Mobile Switching Center sends a release message REL to the Media Gateway Controller Media Gateway . In an embodiment the release message may be sent in response to the conclusion of transfer of media . Session teardown messages are sent between the mobile communication device and the target network application server in response to the release message . It is understood that session teardown messages may entail one or more messages sent both to and from each of the mobile communication device the Mobile Switching Center MSC the Media Gateway Controller Media Gateway MGC MG the mobile service provider Voice over Internet Protocol core IMS the mobile service provider Session Border Controller SBC the target network Session Border Controller and the target network application server .

Turning now to a method is described. In an embodiment the method may be performed by one or more components of the communication system discussed with reference to . At block an identifier may be assigned to a Voice over Internet Protocol identity. The identifier may be configured to associate a mobile communication device separate from an electronic device with the Voice over Internet Protocol identity of the electronic device. For example the identifier may allow a mobile phone and a computer to be associated and or linked. In some cases the mobile communication device and the electronic device may be associated and or linked to a single identity or a common identity recognizable by a Voice over Internet Protocol service. In an embodiment the identifier may be kept in trust to prevent the identifier from being spoofed. Keeping the identifier in trust may keep characteristics of the identifier unknown to users mobile service providers and Voice over Internet Protocol service providers.

At block a license key may be sent to a trusted register in the mobile communication device. In some cases the identifier may also be sent to the mobile communication device. In an embodiment the trusted register may comprise a trusted port controlled by the trusted security zone of the mobile communication device. The identifier may be cross listed at block such that a call placed to the Voice over Internet Protocol identity may be routed to both an electronic device and to the mobile communication device. In an embodiment cross listing the mobile communication device and the electronic device may comprise altering a routing table. In a circuit switched network the routing table may be altered by setting and or modifying a Wireless Intelligent Network trigger. In a Long Term Evolution network the routing table may be altered by modifying a Home Subscriber Service profile of a user of the mobile communication device and electronic device.

At block a Voice over Internet Protocol call addressed to the Voice over Internet Protocol identity may be routed to both the electronic device and to the mobile communication device. In an embodiment the call may be routed to both the electronic device and to the mobile communication device by configuring the calls to be forked at a gateway such as a media gateway based on the cross listing of the identifier. In an embodiment the Voice over Internet Protocol identity may be a Skype identity an ooVoo identity a Vonage identity a Google Talk identity or some other Voice over Internet Protocol identity. In some cases the Voice over Internet Protocol identity may be an identity associated with a user of an electronic device.

Turning now to a method is described. In an embodiment the method may be implemented by one or more elements of the communication system described with reference to . At block a license key and an identifier may be received in a trusted security zone of a mobile communication device. The identifier may be coupled with a Voice over Internet Protocol service account. In an embodiment the Voice over Internet Protocol service account may be an account of an electronic device. In some cases the mobile communication device may be a mobile phone cell phone smart phone or feature phone or some other handset and the electronic device may be a desktop computer or laptop computer. In an embodiment a Voice over Internet Protocol identity such as a number or address may be assigned to the electronic device based on the electronic device s Voice over Internet Protocol service account.

At block the mobile communication device may be authenticated to the Voice over Internet Protocol service based on at least one of the license key and the identifier. The mobile communication device and the electronic device may be cross listed in a network routing table. An incoming call signal may be received on the mobile communication device at block . In an embodiment the call may have originated in the Internet Protocol realm and may be received on the mobile communication device via the Public Switched Telephone Network. The incoming call may be routed to both the mobile communication device and the electronic device e.g. forked using the network routing table based on a single connection request. In an embodiment the mobile communication device may be configured to ring vibrate light up play audio make other sounds and or otherwise indicate receiving the incoming call signal. The electronic device may also be configured to ring vibrate light up play audio make other sounds and or otherwise indicate receiving an incoming call. Thus calls routed to both the electronic device and the mobile communication device may elicit both devices to indicate an incoming call.

Turning now to a method is described. In an embodiment the method may be implemented by one or more elements of the communication system described in . At block a license key and an identifier may be sent from trusted data storage to a trusted security zone of a mobile communication device. In some cases only the license key may be sent. The identifier may be linked at block to a Voice over Internet Protocol service account. In an embodiment linking the identifier to a Voice over Internet Protocol service account may comprise cross listing the identifier with the Voice over Internet Protocol service account in a directory of a routing network.

At block a Voice over Internet Protocol call addressed to the account of an electronic device may be routed to the mobile communication device based on the identifier. In an embodiment the call may be converted from Internet Protocol to the Public Switched Telephone Network wherein the conversion may occur at a routing table. In an embodiment the call may be routed to both the electronic device and the mobile communication device such that the mobile communication device and the electronic device dually receive an incoming call signal. In an embodiment dually receiving an incoming call signal may comprise both the electronic device and the mobile communication device receiving the incoming call signal at the same time within about one half second of each other within about one second of each other within about two seconds of each other within about three seconds of each other within about four seconds of each other within about five seconds of each other or within some other time period of each other. Additionally the mobile communication device and the electronic device may be configured to ring or otherwise indicate receipt of the incoming call signal as discussed hereinabove.

The DSP or some other form of controller or central processing unit operates to control the various components of the mobile device in accordance with embedded software or firmware stored in memory or stored in memory contained within the DSP itself. In addition to the embedded software or firmware the DSP may execute other applications stored in the memory or made available via information carrier media such as portable data storage media like the removable memory card or via wired or wireless network communications. The application software may comprise a compiled set of machine readable instructions that configure the DSP to provide the desired functionality or the application software may be high level software instructions to be processed by an interpreter or compiler to indirectly configure the DSP .

The DSP may communicate with a wireless network via the analog baseband processing unit . In some embodiments the communication may provide Internet connectivity enabling a user to gain access to content on the Internet and to send and receive e mail or text messages. The input output interface interconnects the DSP and various memories and interfaces. The memory and the removable memory card may provide software and data to configure the operation of the DSP . Among the interfaces may be the USB port and the infrared port . The USB port may enable the mobile device to function as a peripheral device to exchange information with a personal computer or other computer system. The infrared port and other optional ports such as a Bluetooth interface or an IEEE 802.11 compliant wireless interface may enable the mobile device to communicate wirelessly with other nearby handsets and or wireless base stations.

The keypad couples to the DSP via the input output interface to provide one mechanism for the user to make selections enter information and otherwise provide input to the mobile device . Another input mechanism may be the touch screen LCD which may also display text and or graphics to the user. The touch screen LCD controller couples the DSP to the touch screen LCD . The GPS receiver is coupled to the DSP to decode global positioning system signals thereby enabling the mobile device to determine its position.

It is understood that by programming and or loading executable instructions onto the computer system at least one of the CPU the RAM and the ROM are changed transforming the computer system in part into a particular machine or apparatus having the novel functionality taught by the present disclosure. It is fundamental to the electrical engineering and software engineering arts that functionality that can be implemented by loading executable software into a computer can be converted to a hardware implementation by well known design rules. Decisions between implementing a concept in software versus hardware typically hinge on considerations of stability of the design and numbers of units to be produced rather than any issues involved in translating from the software domain to the hardware domain. Generally a design that is still subject to frequent change may be preferred to be implemented in software because re spinning a hardware implementation is more expensive than re spinning a software design. Generally a design that is stable that will be produced in large volume may be preferred to be implemented in hardware for example in an application specific integrated circuit ASIC because for large production runs the hardware implementation may be less expensive than the software implementation. Often a design may be developed and tested in a software form and later transformed by well known design rules to an equivalent hardware implementation in an application specific integrated circuit that hardwires the instructions of the software. In the same manner as a machine controlled by a new ASIC is a particular machine or apparatus likewise a computer that has been programmed and or loaded with executable instructions may be viewed as a particular machine or apparatus.

The secondary storage is typically comprised of one or more disk drives or tape drives and is used for non volatile storage of data and as an over flow data storage device if RAM is not large enough to hold all working data. Secondary storage may be used to store programs which are loaded into RAM when such programs are selected for execution. The ROM is used to store instructions and perhaps data which are read during program execution. ROM is a non volatile memory device which typically has a small memory capacity relative to the larger memory capacity of secondary storage . The RAM is used to store volatile data and perhaps to store instructions. Access to both ROM and RAM is typically faster than to secondary storage . The secondary storage the RAM and or the ROM may be referred to in some contexts as computer readable storage media and or non transitory computer readable media.

I O devices may include printers video monitors liquid crystal displays LCDs touch screen displays keyboards keypads switches dials mice track balls voice recognizers card readers paper tape readers or other well known input devices.

The network connectivity devices may take the form of modems modem banks Ethernet cards universal serial bus USB interface cards serial interfaces token ring cards fiber distributed data interface FDDI cards wireless local area network WLAN cards radio transceiver cards such as code division multiple access CDMA global system for mobile communications GSM long term evolution LTE worldwide interoperability for microwave access WiMAX and or other air interface protocol radio transceiver cards and other well known network devices. These network connectivity devices may enable the processor to communicate with the Internet or one or more intranets. With such a network connection it is contemplated that the processor might receive information from the network or might output information to the network in the course of performing the above described method steps. Such information which is often represented as a sequence of instructions to be executed using processor may be received from and outputted to the network for example in the form of a computer data signal embodied in a carrier wave.

Such information which may include data or instructions to be executed using processor for example may be received from and outputted to the network for example in the form of a computer data baseband signal or signal embodied in a carrier wave. The baseband signal or signal embedded in the carrier wave or other types of signals currently used or hereafter developed may be generated according to several methods well known to one skilled in the art. The baseband signal and or signal embedded in the carrier wave may be referred to in some contexts as a transitory signal.

The processor executes instructions codes computer programs scripts which it accesses from hard disk floppy disk optical disk these various disk based systems may all be considered secondary storage ROM RAM or the network connectivity devices . While only one processor is shown multiple processors may be present. Thus while instructions may be discussed as executed by a processor the instructions may be executed simultaneously serially or otherwise executed by one or multiple processors. Instructions codes computer programs scripts and or data that may be accessed from the secondary storage for example hard drives floppy disks optical disks and or other device the ROM and or the RAM may be referred to in some contexts as non transitory instructions and or non transitory information.

In an embodiment the computer system may comprise two or more computers in communication with each other that collaborate to perform a task. For example but not by way of limitation an application may be partitioned in such a way as to permit concurrent and or parallel processing of the instructions of the application. Alternatively the data processed by the application may be partitioned in such a way as to permit concurrent and or parallel processing of different portions of a data set by the two or more computers. In an embodiment virtualization software may be employed by the computer system to provide the functionality of a number of servers that is not directly bound to the number of computers in the computer system . For example virtualization software may provide twenty virtual servers on four physical computers. In an embodiment the functionality disclosed above may be provided by executing the application and or applications in a cloud computing environment. Cloud computing may comprise providing computing services via a network connection using dynamically scalable computing resources. Cloud computing may be supported at least in part by virtualization software. A cloud computing environment may be established by an enterprise and or may be hired on an as needed basis from a third party provider. Some cloud computing environments may comprise cloud computing resources owned and operated by the enterprise as well as cloud computing resources hired and or leased from a third party provider.

In an embodiment some or all of the functionality disclosed above may be provided as a computer program product. The computer program product may comprise one or more computer readable storage medium having computer usable program code embodied therein to implement the functionality disclosed above. The computer program product may comprise data structures executable instructions and other computer usable program code. The computer program product may be embodied in removable computer storage media and or non removable computer storage media. The removable computer readable storage medium may comprise without limitation a paper tape a magnetic tape magnetic disk an optical disk a solid state memory chip for example analog magnetic tape compact disk read only memory CD ROM disks floppy disks jump drives digital cards multimedia cards and others. The computer program product may be suitable for loading by the computer system at least portions of the contents of the computer program product to the secondary storage to the ROM to the RAM and or to other non volatile memory and volatile memory of the computer system . The processor may process the executable instructions and or data structures in part by directly accessing the computer program product for example by reading from a CD ROM disk inserted into a disk drive peripheral of the computer system . Alternatively the processor may process the executable instructions and or data structures by remotely accessing the computer program product for example by downloading the executable instructions and or data structures from a remote server through the network connectivity devices . The computer program product may comprise instructions that promote the loading and or copying of data data structures files and or executable instructions to the secondary storage to the ROM to the RAM and or to other non volatile memory and volatile memory of the computer system .

In some contexts the secondary storage the ROM and the RAM may be referred to as a non transitory computer readable medium or a computer readable storage media. A dynamic RAM embodiment of the RAM likewise may be referred to as a non transitory computer readable medium in that while the dynamic RAM receives electrical power and is operated in accordance with its design for example during a period of time during which the computer system is turned on and operational the dynamic RAM stores information that is written to it. Similarly the processor may comprise an internal RAM an internal ROM a cache memory and or other internal non transitory storage blocks sections or components that may be referred to in some contexts as non transitory computer readable media or computer readable storage media.

A method of establishing a call detail record may comprise receiving a call initiation request from an electronic device converting the call from Voice over Internet Protocol to the Public Switched Telephone Network routing the call to a mobile communication device and establishing a call detail record for the call. The call may be routed to the mobile communication device based on a cross listing of the mobile communication device in a routing table. The call detail record may be generated created and or established by a telephone exchange. In an embodiment the call detail record may be used for billing purposes. The billing may be based on the amount of time an application on the mobile communication device was running. The application may be a Skype application an ooVoo application a Vonage application a Google Talk application or some other application. The call detail record may be generated created and or established upon completion of the call.

While several embodiments have been provided in the present disclosure it should be understood that the disclosed systems and methods may be embodied in many other specific forms without departing from the spirit or scope of the present disclosure. The present examples are to be considered as illustrative and not restrictive and the intention is not to be limited to the details given herein. For example the various elements or components may be combined or integrated in another system or certain features may be omitted or not implemented.

Also techniques systems subsystems and methods described and illustrated in the various embodiments as discrete or separate may be combined or integrated with other systems modules techniques or methods without departing from the scope of the present disclosure. Other items shown or discussed as directly coupled or communicating with each other may be indirectly coupled or communicating through some interface device or intermediate component whether electrically mechanically or otherwise. Other examples of changes substitutions and alterations are ascertainable by one skilled in the art and could be made without departing from the spirit and scope disclosed herein.

