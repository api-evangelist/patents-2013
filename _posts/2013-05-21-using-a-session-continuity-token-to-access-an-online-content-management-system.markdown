---

title: Using a session continuity token to access an online content management system
abstract: The disclosed embodiments relate to a session continuity feature that allows a user to access an online content management system through different instances of a third-party application located on different computing devices without having to log in to the online content management system separately from each computing device. When the user signs on to the online content management system, the session continuity mechanism provides a session continuity token to the third-party system. When the user subsequently accesses an instance of the third-party application located on another computing device, the third-party system provides the session continuity token to the new instance of the third-party application. This enables the user to access the online content management system through the new instance of the third-party application without having to sign on again.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09130922&OS=09130922&RS=09130922
owner: DROPBOX, INC.
number: 09130922
owner_city: San Francisco
owner_country: US
publication_date: 20130521
---
This claims priority under 35 U.S.C. 119 to U.S. Provisional Patent Application No. 61 735 543 filed on 10 Dec. 2012 entitled USING A SESSION CONTINUITY TOKEN TO ACCESS A CLOUD BASED CONTENT MANAGEMENT SYSTEM. 

The disclosed embodiments generally relate to techniques for accessing an online content management system. More specifically the disclosed embodiments relate to a technique for enabling a user to access an online content management system from different instances of a third party application located on different computing devices without having to sign on separately from each computing device.

Online content management systems such as the Dropbox service which is offered by Dropbox Inc. of San Francisco Calif. are quite popular because they enable users to access their online content from a number of different computing devices. Unfortunately the process of accessing the online content management system can be complicated if the user tries to access the online content management system through a third party application such as an email system. In this case the user has to sign on to the online content management system from each instance of the third party application.

For example suppose a user is accessing a online content management system through a first email client located on a first device. If the user switches to a second computing device and subsequently attempts to access the online content management system through a second email client on the second device the user needs to sign on to the online content management system again from second email client even though the user has already signed on to the online content management system through the first email client.

This process of signing on to the online content management system from each instance of the third party application is time consuming and cumbersome.

The disclosed embodiments relate to a session continuity feature that allows a user to access an online content management system through different instances of a third party application located on different computing devices without having to log in to the online content management system separately from each computing device. When the user signs on to the online content management system the session continuity mechanism provides a session continuity token to the third party system. When the user subsequently accesses an instance of the third party application located on another computing device the third party system provides the session continuity token to the new instance of the third party application. This enables the user to access the online content management system through the new instance of the third party application without having to sign on again.

The following description is presented to enable any person skilled in the art to make and use the present embodiments and is provided in the context of a particular application and its requirements. Various modifications to the disclosed embodiments will be readily apparent to those skilled in the art and the general principles defined herein may be applied to other embodiments and applications without departing from the spirit and scope of the present embodiments. Thus the present embodiments are not limited to the embodiments shown but are to be accorded the widest scope consistent with the principles and features disclosed herein.

The data structures and code described in this detailed description are typically stored on a computer readable storage medium which may be any device or medium that can store code and or data for use by a computer system. The computer readable storage medium includes but is not limited to volatile memory non volatile memory magnetic and optical storage devices such as disk drives magnetic tape CDs compact discs DVDs digital versatile discs or digital video discs or other media capable of storing computer readable media now known or later developed.

The methods and processes described in the detailed description section can be embodied as code and or data which can be stored in a computer readable storage medium as described above. When a computer system reads and executes the code and or data stored on the computer readable storage medium the computer system performs the methods and processes embodied as data structures and code and stored within the computer readable storage medium. Furthermore the methods and processes described below can be included in hardware modules. For example the hardware modules can include but are not limited to application specific integrated circuit ASIC chips field programmable gate arrays FPGAs and other programmable logic devices now known or later developed. When the hardware modules are activated the hardware modules perform the methods and processes included within the hardware modules.

The disclosed embodiments relate to a technique for enabling a user to access an online content management system from different instances of a third party application located on different computing devices without having to sign on separately from each computing device. Before describing details of this system we first describe the basic structure of the online content management system.

Note that the description herein refers to content items. Content items may generally include any type of files folders collection of folders or data that may be stored on a computer readable storage medium.

In various embodiments each client device may selectively execute a content management client application A B collectively also referred to as a content management client which may be used to access content items stored within a content management system . In some embodiments copies of content items A and B are maintained on client devices A and B respectively and synchronized copies of content items A and B are maintained on content management system . In some embodiments client devices may provide a file browser type interface not shown for directly manipulating the content items stored on online content management system without maintaining a local copy. Client devices may also include applications A and B collectively for manipulating content items such as content items A and B.

While only two client devices A and B are shown in for purposes of clarity it should be understood by those skilled in the art that many client devices may simultaneously connect through network s to content management system at any given time. Examples of suitable client devices include but are not limited to a desktop computer mobile computing devices such as a laptop or a tablet and handheld devices such as a smartphone e.g. an IPHONE BLACKBERRY or ANDROID based smartphone . Each client device may store a local synced copy of one or more content items from within content management system and the content items may be stored in any suitable file format. When content management client presents content items that are stored within the file storage system to a user the content items may be arranged in folders and the folders themselves may be arranged in other folders or in any other arbitrary arrangement supported by content management system as determined by the user. However one of skill in the art should understand in light of this disclosure that each user s file storage architecture may be considerably different from the next and in some instances the file storage architecture may be implemented to maximize storage and file retrieval efficiency.

Content management system stores content items and manages access to those content items via client devices . Content management system and its components may be implemented using any appropriate hardware and software for file serving storage and retrieval functions. For example content management system may be implemented in the form of a single server or multiple servers.

In various embodiments content management system includes interface module data store account module and widget code generation module . Some of these elements of content management system are discussed in more detail below.

In particular embodiments interface module may facilitate file access and file storage operations among content management system and client devices . Interface module may receive content items from and send content items to client devices consistent with the user s preferences for sharing content items. Interface module may act as the counterpart to a client side file explorer style user interface that allows a user to manipulate content items directly stored on content management system . In some embodiments software operating on client devices may integrate network stored content items with the client s local file system to enable a user to manipulate network stored content items through the same user interface UI used to manipulate content items on the local file system e.g. via a file explorer file finder or browser application. As an alternative or supplement to the client side file explorer interface interface module may provide a web interface for client devices to access e.g. via a suitable application and allow a user to manipulate content items stored within content management system . In this way the user can directly manipulate content items stored within content management system .

In various embodiments data store may store content items such as those uploaded using client devices or using any other suitable computing device. In the embodiment illustrated in client device A which is associated with a first user is shown as locally storing at least one content item A and client device B which is associated with a second user is shown as locally storing at least one content item B. As shown in a copy of the locally stored content item A and a copy of locally stored content item B are maintained in data store in content management system . In the embodiment illustrated in content items A and B are synchronized content items that reside on client devices A B and online content management system . Note that client devices A B may also store other online content items that are replicated on online content management system and which are shared with other client devices.

In various embodiments data store may maintain information identifying the user information describing the user s file directory and other information in a content item journal also referred to as a log that is maintained for each user. In some embodiments the content item journal may be maintained on content management system and in other embodiments a content item journal e.g. a server side content item journal may be maintained both on content management system and locally on each client device . In various embodiments the content item journal may be used to facilitate the synchronization of the various copies of a particular content item that are associated with a user s account.

As a particular example in the embodiment shown in the system may be configured so that any changes made to content item A on particular client device A may also be automatically reflected in the copy of content item A stored within online content management system . Similarly any changes made to the copy of content item A on online content management system may also be automatically reflected in the copy of content item A stored on client device A.

In particular embodiments account module may track content items stored in data store and entries in the server side content item journal for each content item. As users grant content item access permissions to other users account module may update the server side content item journal associated with each relevant user in data store . Account module may also track client devices that are associated with each user s account. For example a user may want to share all their content items among their desktop computer tablet computer and mobile device. To make such a sharing arrangement seamless to the user the user s single account on content management system may be associated with each of the user s respective client devices. In some embodiments an application running on each respective client device may help to coordinate synchronization of content items on the client device with corresponding versions of the content items within the user s account in content management system and also with corresponding versions of the content items stored on the user s various other client devices.

In particular embodiments widget code generation module may be configured to generate code that may be used to create an email attachment upload widget on a remote email client. Note that while the description herein describes embodiments associated with a third party email system any type of system may be used with embodiments of the present invention such as content management systems project management systems media applications etc. In particular embodiments this code may be HTML code that may be pasted into an email client to create the email attachment upload widget. In other embodiments the code may be program code which is integrated into a native client based email system. In particular embodiments the email attachment upload widget may include a button that may be used to 1 select one or more attachments from a user s email client and 2 facilitate the upload of the selected attachments directly from the email client to an online content management system.

In various embodiments third party server comprises widget code and web server data store . In these embodiments widget code is generated by widget code generation module as described previously. Widget code allows a user to access an online content management system through different instances of a third party application served by third party server located on different computing devices without having to log in to online content management system separately from each computing device.

Next the system receives a confirmation from the user indicating that the user would like to link his or her online content management system account with his or her third party server account operation . Note that if an affirmative confirmation is not received the system does not provide access to online content management system without the user logging in to online content management system .

Once affirmative confirmation has been received the system passes session continuity token from online content management system to third party server operation . Note that session continuity token enables third party server to access a set of services and or content items from online content management system without having to provide further identification or authentication credentials to online content management system . In some embodiments the token is granted for an indefinite period of time while in other embodiments the token has a predetermined expiration time or expires after a pre determined amount of time has elapsed. Finally the third party server automatically signs in the user to online content management system operation .

Note that session continuity token can be comprised of various formats and types. For example in some embodiments the token may contain encrypted credentials including instructions that grant access to online content management system while in other embodiments session continuity token may only be an identifier that identifies credentials stored within online content management system .

Note that in other embodiments session continuity token can be located and sent to new devices at a time other than when the user executes widget code . For example the system may locate and send session continuity token when the user logs in to third party server opens a window to compose a new message or accesses account management dialogs.

As described previously session continuity token can include any level of authorization and authentication information to grant the user access to his or her account on online content management system . This access may include general access to the user s account or include access only to specific files or operations. In some embodiments this access is configurable by a user while in other embodiments this access is configurable by an administrator.

In some embodiments session continuity token may only be used to grant access to online content management system from one third party server at a time while in other embodiments the session continuity token may allow for multiple connections to online content management system from different third party servers. Note that in some embodiments session continuity token includes advanced logic to prevent session hijacking and to prevent a stolen token from granting subsequent access to online content management system

Note that in many embodiments access to online content management system is only granted through the context of widget code . In some of these embodiments the owners of online content management system provide widget code to the third party. Note that this can take place on demand or may take place during a scheduled maintenance or downtime. In some embodiments widget code is generic code that works across many systems while in other embodiments widget code is specific to a particular server or third party. Also note that in many embodiments the user may terminate the link between the user account at third party server and the user account at online content management system at any time. Additionally the third party or the online content management system may terminate the link. Deleting or revoking session continuity token may accomplish this termination.

Note that in the situation where multiple session continuity tokens exist the system may revoke all of the tokens at once all of the tokens for a particular third party all of the tokens for a particular user or only specific tokens.

Moreover while the description herein describes web based embodiments embodiments of the present invention are not meant to be limited to web based applications. For example some embodiments are integrated into native clients while other embodiments are integrated into mobile applications while still other embodiments are integrated into platform independent applications.

The following description is associated with an exemplary embodiment that illustrates the process of accessing Dropbox through a session continuity token from multiple web based email sessions. This session continuity token should be associated with the corresponding email account and stored by the email provider using a secure method. The email provider can utilize the user s session continuity token to provide access to the Dropbox embedded web content item selector running on other machines without requiring the user to separately log in to the Dropbox service as set forth below.

First at the user s request the email provider opens the Dropbox embedded web content item selector as described above . Next the user signs into Dropbox or creates a new account. If this is the first time the user is using the Dropbox integration in the web based email client they are asked if they would like to link their Dropbox account with their email account. If they choose yes a session continuity token is created and is passed to the email provider which is stored and associated with the current user s email account.

At some subsequent time the user starts using a different browser to access the Dropbox integration in their web based email. Note that as described previously the system may use a native client or another means for accessing the Dropbox integration instead of using a web browser. The user s email provider passes the session continuity token to the Dropbox embedded web content item selector when it is accessed. Consequently the user is automatically signed back into their Dropbox account only within the Dropbox embedded web content item selector.

The foregoing descriptions of embodiments of the present invention have been presented only for purposes of illustration and description. They are not intended to be exhaustive or to limit the present invention to the forms disclosed. Accordingly many modifications and variations will be apparent to practitioners skilled in the art. Additionally the above disclosure is not intended to limit the present invention. The scope of the present invention is defined by the appended claims.

