---

title: Haptic output generation with dynamic feedback control
abstract: A device includes a haptic actuator to generate mechanical force stimuli in accordance with a triggering event. A haptic control system includes an accelerometer to measure the haptic response of the device. Signaling from the accelerometer is analyzed in view of an intended haptic response. A control signal may be modified in view of the analysis to correct out-of-tolerance conditions of the haptic response. This correction may occur in real time or near-real time. Component aging, shifting device performance, or other factors may be compensated for and user expectations satisfied accordingly.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09520036&OS=09520036&RS=09520036
owner: Amazon Technologies, Inc.
number: 09520036
owner_city: Reno
owner_country: US
publication_date: 20130918
---
Game controllers e book readers media device remote controls smartphones tablets and other devices may generate vibrations or other haptic outputs to enhance video game play acknowledge input or to relay other information or operating status to a user. Manufacturers and providers of such devices seek to maintain and improve haptic output and user satisfaction as respective devices age or are subject to other performance altering factors.

Certain implementations and embodiments will now be described more fully below with reference to the accompanying figures in which various aspects are shown. However various aspects may be implemented in many different forms and should not be construed as limited to the implementations set forth herein. Like numbers refer to like elements throughout.

Many devices provide output in the form of vibrations pulses thumps or other vibrotactile stimuli in response to various operations or triggering events. Non limiting examples include the vibration of a cellular phone to indicate an incoming call the bump of a handheld game controller in response to batting a ball in a sports game and so forth. These and other mechanical force cues or signals are referred to as haptic outputs .

As device applications evolve a growing number of different haptic outputs have been developed to communicate status or other information to a user. In turn user familiarity with various haptic outputs has also increased to the point that their respective meanings are readily distinguished. In essence a new form of human machine interface has emerged and many users depend upon haptic outputs for effective operation of their various devices.

A device produces a haptic output or response through the use of a haptic actuator. In one typical but non limiting implementation a haptic actuator includes a small magnet acting as a mass weight that is pulsed or oscillated against a spring using an electromagnetic coil. Other forms of haptic actuator are also used. Haptic actuators may be subject to wear friction magnetic field decay electrical component drift or other factors that reduce haptic output intensity or adversely affect other performance characteristics over time. The result of such performance changes may be ineffective haptic response or unsatisfactory user experience with the device.

In one illustrative example a user uses a tablet computer to play an auto racing game. The racing game features numerous haptic responses such as a different vibrations signifying acceleration or braking of a race car a dramatic thump in response to a collision and so on. The user of the game has become accustomed to the added realism provided by these various haptic responses to the extent that the feel of the game is as significant as the visual and audio presentations.

However in the present example the haptic actuator within the device has begun to exhibit decreased performance over time. In particular the haptic responses have reduced in intensity conveying a false impression to the user of degrading race car performance while playing the game. The user may experience waning interest in playing the game or mistakenly blame the game itself as being defective . Other applications or uses of that same tablet computer are likely to exhibit reductions in haptic output possibly leading to user frustration with the device overall.

Haptic outputs in various devices are generated by open loop control systems. Simply put the control system sends an electrical signal to the haptic actuator when a haptic output or response is called for in the present application. The control system may condition various aspects of the electrical signal such as amplitude frequency and so forth. However such haptic actuator signaling is provided without regard for the resulting haptic response. In short such an open loop control system issues command signals without any verification as to the results.

An accelerometer is a component that provides an electrical signal indicative of spatial acceleration of that component. That is the electrical signal quantifies or encodes amplitude frequency or other characteristics of motion experienced by the accelerometer itself. Various factors such as peak or average acceleration frequency of oscillation spatial displacement direction of displacement and so forth may be determined by appropriate processing of the accelerometer signal.

As described herein accelerometers are used to define a closed loop dynamic feedback control systems for use in driving haptic actuators. In one non limiting implementation a user device includes an accelerometer that is subject to the haptic response of that device during activation of a haptic actuator. The accelerometer provides an accelerometer signal indicative of the instantaneous haptic response to a processor or other element of the control system. The control system analyzes the accelerometer signal in view of calibration data threshold values or other predefined parameters to determine if the haptic response of the user device is within specifications for the present haptic output.

The control system may then adjust e.g. increase a drive signal sent to the haptic actuator in order to compensate for a reduced haptic response if such is detected. Conversely an excessive haptic response may be attenuated by corresponding control action. Vibrational frequencies haptic output periods waveform amplitude modulation or envelope or other haptic response characteristics may be suitably controlled or modulated in real time using accelerometer feedback signaling. Respective variations on the foregoing may also be used in accordance with the methods devices and systems described herein.

A device is associated with a user . As depicted the device is a tablet computer configured to play games or perform business or technical tasks access various websites present visual or audible content to the user and so forth. The device is also configured to exhibit various haptic responses in accordance with respective triggering events. The single depicted device is illustrative and non limiting and other systems numbers of devices or types may also be used. The haptic responses may be vibrotactile in nature including bumps vibrations pulses knocks or other stimuli that may be perceived by a user as a physical sensation or various combinations of these or other effects.

The device includes a processor . The processor is configured to perform various operations in accordance with an executable program code i.e. software or firmware . The processor is also configured to issue signaling to initiate or control operations resulting in haptic responses from the device . Thus the processor is coupled to exchange data or control signals with other resources of the device accordingly.

The device also includes a waveform data structure stored as a machine accessible data structure within computer readable storage media CRSM . The waveform data structure includes data or information regarding respective haptic waveform parameters . The machine accessible data structure may include a linked list flat file database table program code and so forth. Illustrative and non limiting examples of such haptic waveform parameters include wave shape envelope i.e. amplitude modulation or controlled amplitude decay amplitude frequency duration and so on. The values of the respective haptic waveform parameters are used to generate different haptic responses in accordance with an associated triggering event.

The device further includes a haptic actuator controller . The haptic actuator controller is configured to receive control signaling from the processor and to provide corresponding haptic waveform signals. For instance such a control signal from the processor includes or encodes particular haptic waveform parameters for a specific haptic response to be generated. In turn the haptic actuator controller provides a haptic waveform signal that is characterized by amplitude frequency duration and so on in accordance with the control signal. The haptic actuator controller may be defined by or include electronic circuitry an application specific integrated circuit ASIC a microcontroller program code stored on CRSM or other constituency.

The device also includes one or more haptic actuators . Each haptic actuator is configured to receive a haptic waveform signal from the haptic actuator controller and to produce a corresponding haptic output . The haptic actuators are mechanically coupled to a structure housing chassis or other of the device such that the mechanical forces of the haptic output are conveyed thereto resulting in the haptic response . That is a haptic output from a given haptic actuator results in a corresponding haptic response of the device . In turn the user senses the various haptic responses by way of physical contact with the device .

The device also includes one or more accelerometers . Each accelerometer is mechanically coupled to the structure of the device and is subjected to a haptic input stimulus corresponding to a particular haptic response . Each accelerometer is configured to provide an accelerometer signal that quantifies characteristics such as amplitude frequency and so on of a present haptic input stimulus . In one or more implementations the respective accelerometer signals are coupled to and used by the processor to adjust control signaling provided to the haptic actuator controller . Thus a dynamic closed loop feedback control system is defined and used.

The device is also configured to communicate telemetry data or other information to a server by way of one or more networks . The network s may include or be defined by the Internet or access thereto a local area network LAN a wide area network WAN wireless networks and so forth. The telemetry data may include measurements of respective haptic responses detected anomalies or out of tolerance conditions specific haptic waveform parameters being used or other information.

The server is configured to receive the telemetry data from the device . The server may also receive telemetry data from numerous other devices as well of uniform or varying configurations. The server is configured to generate haptic waveform parameters and to provide these to the device or other devices by way of the network s . The server may therefore communicate and exchange information with a multitude of different apparatus with the device with other servers and so forth.

In one instance the server generates and provides haptic waveform parameters in response to analyzing the telemetry data toward correcting an anomaly or problem. In another instance new haptic waveform parameters are generated and provided as an enhancement or upgrade of an existing application or game. In yet another instance the haptic waveform parameters are generated and provided toward maintaining haptic response qualities as the device or a population of such devices ages.

In one illustrative example the user uses the device to play an automotive racing game depicted by game imagery . The device generates respective haptic responses in accordance with triggering events such as acceleration braking collisions and so on as the game progresses. In response to or in anticipation of each triggering event the processor accesses a corresponding set of haptic waveform parameters within the waveform data structure . A corresponding control signal is encoded by the processor and provided to the haptic actuator controller .

The haptic actuator controller generates a haptic waveform signal in accordance with the just received haptic waveform parameters and drives the haptic actuator therewith. The resulting haptic response is communicated to the accelerometer as the haptic input stimulus . The accelerometer provides an accelerometer signal to the processor which analyzes it to determine if the instantaneous haptic response is within tolerances as to amplitude frequency and so forth. The processor may then adjust or modify the control signal to the haptic actuator control according to the analysis thus correcting any errors or deficiencies in near real time.

The processor as described above provides a control signal to the haptic actuator controller . The control signal encodes or otherwise communicates one or more haptic waveform parameters for a particular haptic response to be generated. The control signal may be digital analog or hybrid in format. The control signal is issued in response to a triggering event such as an occurrence within a video game an appointment reminder or other circumstance. In one instance the processor cross references the particular triggering event against the corresponding haptic waveform parameters within the waveform data structure .

The haptic actuator controller receives the control signal and provides a corresponding haptic waveform signal . In one implementation the haptic waveform signal is an analog signal defined by amplitude frequency envelope or other characteristics in accordance with the haptic waveform parameters of the control signal . In another implementation the haptic waveform signal is a pulse width modulated PWM digital signal that approximates the characteristics of the haptic waveform parameters of the control signal . Other signaling formats or modulation techniques may also be used.

The haptic actuator controller may include a voltage controlled oscillator VCO a phase lock loop PLL a digital to analog converter DAC a dedicated purpose microcontroller or processor or other constituency so as to synthesize or generate the haptic waveform signal . As depicted the haptic actuator controller is also understood to include sufficient power handling circuitry to drive the haptic actuator directly using the haptic waveform signal .

The haptic actuator receives the haptic waveform signal and provides a haptic output that is mechanically coupled or communicated to a device structure . The device structure may include or be defined by various rigid elements such as a housing a support framework a chassis a circuit board or boards and so on of the device . As depicted the device structure is representative of the device as a whole and exhibits the haptic response caused by the haptic output .

The accelerometer is mechanically coupled to the device structure and is therefore subject to the haptic response by way of the haptic input stimulus . The accelerometer provides an accelerometer signal resulting from the haptic input stimulus . Put another way the accelerometer is configured to measure the haptic response and to provide a resultant accelerometer signal . Thus the accelerometer signal is defined by or approximates respective parameters such as amplitude frequency period and so on indicative of corresponding characteristics of the haptic response .

In one implementation the accelerometer provides an analog signal correspondent to the haptic response in real time. In another implementation the accelerometer provides a digital signal that encodes respective characteristics of the haptic response . Other suitable signaling formats may also be used. The accelerometer signal e.g. analog digital or hybrid is provided to the processor as a dynamic feedback signal to be used in adjusting or modifying the control signal . Such adjustments or modifications may be made in order to generate a particular haptic response in accordance with tolerances specifications or other criteria.

The processor may be configured by virtue of executable code to perform proportional integral derivative PID control proportional P only control or another suitable closed loop control technique and to generate the control signal accordingly. Additionally the processor may be configured to generate the control signal so as to compensate for a phase difference between the haptic response and the accelerometer signal . That is the processor may be configured to anticipate an inherent time lag between the haptic response and the accelerometer signal and to adjust the control signal without treating such a time lag as an error. The processor may be configured to perform other control related functions as well.

The processor the haptic actuator controller the haptic actuator and the accelerometer by virtue of the respective signals and collectively define a haptic control system . The haptic control system in turn defines a closed loop control system. It is noted that the device structure also functions as a signal pathway within the haptic control system by coupling the haptic response back to the accelerometer .

In yet another implementation the haptic actuator controller accesses particular haptic waveform parameters within the waveform data structure as instructed by the control signal . The haptic actuator controller then provides the haptic waveform signal accordingly. In still another implementation the accelerometer signal is received and processed i.e. analyzed or evaluated by the haptic actuator controller . The haptic actuator controller then modifies the haptic waveform signal based on the accelerometer signal . Such an operation may be performed without modification to the control signal by the processor .

Other subsystems may also be coupled to the processor and controlled accordingly. Non limiting examples of such other subsystems include an electronic display or displays touch activated user input devices a power supply wireless communications resources and so on.

An illustrative haptic response waveform is depicted indicative of a particular haptic response caused by a haptic output . Thus the haptic response waveform is illustrative of a mechanical force output or vibration exhibited by the device . The haptic response waveform is sinusoidal in wave shape and is characterized by a peak amplitude . Additionally the haptic response waveform is characterized by a logarithmic or non linear decay in amplitude over time thus defining an envelope . The period of the haptic response waveform is defined by 3.5 cycles in the interest of clarity. However other haptic response waveforms defined by any number of cycles respective frequencies or other characteristics may also be considered.

An illustrative example of the accelerometer signal is also depicted. The accelerometer signal is characterized by decaying sinusoidal amplitude in close correspondence to the haptic response waveform . It is noted that a time shift or phase differential is present between the haptic response waveform and the accelerometer signal . The time shift results from the slight delay that occurs when the haptic output causes the haptic response which in turn results in the haptic input stimulus . Thus the accelerometer signal is lagging in time behind the haptic response waveform . Also noted is an amplitude differential between the haptic response waveform and the accelerometer signal which is merely a matter of respective signal scaling and is depicted for clarity.

Calibration data or other techniques may be used to compensate for the time shift in those instances where such a shift may be relevant. Moreover known correspondence between the amplitude frequency and envelope of the accelerometer signal and the haptic response waveform i.e. the actual haptic response are generally of greater concern. Calibration data filtering scaling or other techniques may be used by the processor in order to accurately gauge the haptic response of the device in view of the accelerometer signal .

An illustrative example of the waveform data structure is depicted. The waveform data structure includes respective triggering events and each associated with a respective set of haptic waveform parameters . Each of the triggering events corresponds to an action or event within an auto racing game. For instance the triggering event 1 is associated with a car accelerating in the racing game and corresponding ones of the haptic waveform parameters . In particular the triggering event 1 corresponds to a sinusoidal wave shape of 25 Hertz frequency with a peak amplitude e.g. of 6.1 Volts characterized by a logarithmic decay and a total duration of 1.6 seconds. And so on for the respective haptic waveform parameters of the triggering event and the triggering event .

The processor may access the data structure and retrieve the respective haptic waveform parameters in response to or anticipation of a corresponding triggering event . The processor then communicates the respective haptic waveform parameters to the haptic actuator controller by way of the control signal . In turn the haptic actuator controller provides the corresponding haptic waveform signal to the haptic actuator and the resulting haptic response is generated.

An illustrative example of a haptic response waveform is depicted corresponding to a particular haptic response . The haptic response waveform is defined by an initial portion which transitions immediately and smoothly into a modified portion . The respective portions and collectively define a single haptic output event . An illustrative example of the accelerometer signal is also depicted which corresponds to the haptic response waveform . Thus the accelerometer signal is also characterized by initial and modified portions and respectively.

In particular the haptic response waveform exhibits an initial peak . This initial peak value is communicated by a corresponding initial peak of the accelerometer signal . For purposes of a present example the processor analyzes the accelerometer signal and determines that the initial peak is lesser than a desired or tolerance value for the present haptic response to be provided. This deficiency may be due to aging of or friction in the haptic actuator reduced output power from the haptic actuator controller or other factors.

An illustrative error signal is also depicted. The error signal corresponds to the difference between the desired or specified amplitude of the haptic response waveform and the amplitude communicated by the accelerometer signal . The error signal is of zero or null value when the haptic response amplitude as measured by the accelerometer is at the expected or specified value. From one perspective the haptic control system operates so as to keep the error signal at or as near to zero value as possible. The processor responds to the detected peak amplitude deficiency by adjusting the present control signal . Specifically an amplitude of or an amplitude parameter encoded in the control signal is increased accordingly. This modification is done in real time and the modified control signal is issued or made effective at the beginning of the modified portion .

The haptic response waveform now exhibits a modified peak that is greater than the initial peak value as a result of the modified control signal . In turn the accelerometer signal exhibits a corresponding increase in peak value which is communicated to the processor . The processor determines from the accelerometer signal that the haptic response waveform is now within tolerance as to amplitude and maintains the modified content of the control signal . The modified peak value is exhibited throughout the modified portion of the haptic output event and as indicated by the essentially zero value of the error signal .

The processor may be configured to perform respective control functions in accordance with correcting or adjusting the control signal . As illustrated for conceptual purposes the processor operates to provide a summation point . The summation point determines the instantaneous difference between a particular specified i.e. expected or predefined haptic response waveform and the accelerometer signal . An output from the summation point defines the error signal . Algebraically this may be expressed as Error signal predefined haptic response waveform accelerometer signal .

The processor may also be configured to perform a controller function which operates to adjust the control signal in accordance with the error signal . In one implementation the controller function operates to maintain the error signal at or as close to zero value as possible. The controller function may employ phase or delay compensation noise filtering digital signal processing or filtering PID control P control discrete step control or one or more other suitable methodologies.

The foregoing description illustrates operation of the haptic control system including initiating a haptic response detecting a deficiency therein and correcting the haptic response through a modified or adjusted control signal . A correction in amplitude only of the haptic response was illustrated in the interest of clarity. However analogous application of the accelerometer signal may be performed to correct for deviations or errors in frequency wave shape envelope rise or decay and so forth.

An integrated circuit includes a haptic actuator controller and an accelerometer provided therein. The haptic actuator controller is analogous in operation to the haptic actuator controller . However the haptic actuator controller may be varied in constituency or configuration with respect to the haptic actuator controller . The haptic actuator controller is configured to receive the control signal from the processor and to provide a corresponding haptic waveform signal . The accelerometer is formed or provided as a microelectromechanical system MEMS device. The accelerometer is analogous in operation to the accelerometer and is configured to provide the accelerometer signal .

The haptic actuator controller and the accelerometer may be formed by the respective steps of the same process or formed by respective and distinct steps or processes. Photolithography laser etching or oblation or other microfabrication techniques may be used while forming the haptic actuator controller or the accelerometer . Additionally the haptic actuator controller and the accelerometer may be formed on the same silicon or other semiconductor wafer or die after singulation .

The haptic actuator controller and the accelerometer may each have elements or aspects that are formed from or using respective portions of a monolithic semiconductor substrate. Other suitable formation processes may also be used. The resulting integrated circuit defines a unitary device having at least the respective functionalities of the haptic actuator controller and the accelerometer . The integrated circuit may be packaged as a small outline integrated circuit SOIC a dual inline package DIP a small outline package SOP a quad flat package QFP or in accordance with other packaging or standards. Thus the haptic actuator controller and the accelerometer are hermetically sealed inside of the integrated circuit packaging.

In one implementation a power amplifier is provided to amplify the haptic waveform signal or a power characteristic thereof and to provide a power haptic waveform signal that drives the haptic actuator . Such an implementation may be used when the haptic actuator controller lacks sufficient power handling capacity due to volumetric thermal or other limitations of the integrated circuit . In another implementation the power amplifier is omitted and the haptic waveform signal drives the haptic actuator directly.

The processor the haptic actuator the integrated circuit and the power amplifier collectively define a haptic control system . The haptic control system is analogous in operation to the haptic control system . The haptic control system defines a closed loop control system as well.

In another implementation the haptic actuator controller accesses particular haptic waveform parameters within the waveform data structure as instructed by the control signal . The haptic actuator controller then provides the haptic waveform signal accordingly. Such an operation may expedite provision of the haptic waveform signal reduce workload on the processor or provide other benefits.

In still another implementation the haptic actuator controller includes a processor or microcontroller that receives the accelerometer signal . Such a processor or microcontroller may be configured to process i.e. analyze or evaluate the accelerometer signal . In turn the haptic actuator controller may then modify the haptic waveform signal based on the analysis. Such feedback based operations may therefore be performed without modification to the control signal by the processor .

A circuit board or portion thereof is also depicted. The circuit board defines a portion of the device structure of the device . The circuit board supports and electrically couples the packaged integrated circuit and the haptic actuator as well as other elements not germane to the present description. The power amplifier may also be included in corresponding implementations.

The integrated circuit also includes respective electrical contacts nodes or leads disposed about the outside surface thereof in accordance with the particular form factor or applicable packaging standard. In one implementation the control signal the haptic waveform signal and the accelerometer signal are communicated into and out of the integrated circuit by way of respective ones of the electrical contacts . That is the haptic actuator controller and the accelerometer are electrically coupled to respective ones of the electrical contacts .

Operating power or other signals may also be coupled to the integrated circuit by way of respective ones of the electrical contacts . In turn the electrical contacts are formed and configured to be electrically bonded e.g. soldered to respective electrical circuit pathways of the circuit board .

Normal illustrative operation includes control of the haptic actuator controller by the processor . The haptic actuator is driven by the power haptic waveform signal e.g. the power amplified haptic waveform signal . The resulting haptic output is coupled through the circuit board culminating in the haptic response .

The circuit board also serves to couple the haptic input stimulus back to the accelerometer within the integrated circuit . The accelerometer provides the corresponding accelerometer signal to the processor thus closing a dynamic feedback control loop defined by the haptic control system .

A seat includes a haptic output system disposed beneath and in mechanical contact therewith. The haptic output system includes a haptic control system e.g. in accordance with the descriptions herein. The haptic output system is configured to generate respective haptic responses in accordance with signaling received from a centralized control . Such signaling is depicted as wired signaling. However wireless optical waveguide or other signaling methods may also be used.

Any number of such seats may be arranged in a row . In one implementation multiple rows of seats may be arranged as a grid occupying a theater space before a presentation screen or stage area. In another implementation a row of seats may be arranged as part of an amusement park ride. Other implementations may also be used. The seat may exhibit different vibrations thumps low frequency motions and so forth in accordance with respective triggering events e.g. within automated recorded or live presentations.

Thus haptic responses may be used to add excitement or realism to presentations made in a theatrical or cinematic setting. For example an earthquake scene in a movie may be accompanied by corresponding low frequency rumbling of the seat . In another example a dramatic door slam in a live stage play may be emphasized with a significant thump to the seat . Numerous other haptic responses may be coordinated with other events or audio visual presentations.

Furthermore appropriate haptic responses may be provided by arcade gaming devices automotive seating heavy equipment amusement park rides flight or other simulators or any number of other applications or scenarios. The haptic control systems e.g. described herein by virtue of their closed loop configurations may operate to assure that various haptic responses are provided in accordance with predefined specifications.

The device may include one or more I O interface s to allow the processor s or other portions of the device to communicate with other devices or the computing device s and so on. The I O interfaces may comprise I2C SPI USB RS 232 and so forth.

The I O interface s may couple to one or more I O devices . The I O devices may include input devices such as one or more of a keyboard mouse and so forth. The I O devices may also include output devices such as one or more haptic actuators one or more accelerometers a display audio speakers and so forth. In some embodiments the I O devices may be physically incorporated with the device or may be externally placed.

The device may also include one or more communication interfaces . The communication interfaces are configured to provide communications between the device and other devices servers apparatus computing devices routers access points and so forth. The communication interfaces may include wireless capabilities or devices configured to couple to one or more networks including PANs LANs WLANs WANs and so forth. The device may also include one or more busses or other internal communications hardware or software that allow for the transfer of data between the various modules and components of the device .

As shown in the device includes one or more memories . The memory comprises one or more computer readable storage media CRSM . The memory provides storage of computer readable instructions data structures program modules and other data for the operation of the device .

The memory may include at least one operating system OS module . The OS module is configured to manage hardware devices such as the I O interfaces the I O devices the communication interfaces and provide various services to applications or modules executing on the processors . Also stored in the memory may be one or more of the following modules. These modules may be executed as foreground applications background tasks daemons and so forth.

A user interface module may be configured to provide one or more application programming interfaces. The user interface module may also provide data to the device that is configured to open or retrieve files enable the rendering of webpages or their contents or as needed for other operations such as hypertext markup language HTML files. The user interface module is configured to accept inputs and send outputs using the I O interfaces the communication interfaces or both.

The memory may also include one or more application modules . The application modules may be configured or modified and selectively provided to other devices computing devices and so on. Thus various devices can be updated or enhanced as new application modules are generated existing application modules are amended or improved and so on. The application modules may respectively perform business tasks technical operations detect or trigger haptic output related functions or other operations in accordance with corresponding program code i.e. software .

The memory may further include a haptic analysis module . The haptic analysis module may assist the processor s in the analysis of respective accelerometer signals from the accelerometer s . The haptic analysis module may store or have access to various data respective tolerances or expected performance values or other information used to evaluate the accelerometer signals .

For example the haptic analysis module may communicate tolerances for amplitude frequency envelope or other parameters to the processor such that non compliances may be detected or proper performance may be verified. The haptic analysis module may also provide particular values or mathematical expressions used to generate a modified or corrected control signal calculate or store modified haptic waveform parameters in CRSM and so forth.

The memory may also include the haptic actuator controller or portions or aspects thereof that are stored or retrieved from CRSM. For example the haptic actuator controller may include program code that is executed by a microcontroller dedicated purpose processor or other device. The memory may also include other modules respectively configured to perform other functions of the device . For non limiting example the other modules may include one or more respective web browsers enabling access to or presentation of respective webpages provided by servers computing devices network search functions and so forth.

The memory may also include a datastore to store data and information. The datastore may use a flat file database linked list tree executable code or other data structure to store the information. In some implementations the datastore or a portion of the datastore may be distributed across one or more other devices or servers network attached storage devices or other apparatus.

As depicted the datastore may store one or more waveform data structures as illustrated and described above. Such waveform data structures may be accessed by the processors in order to provide control signals in accordance with respective triggering events e.g. . Modified or new haptic waveform parameters may also be stored within respective ones of the waveform data structures or replace obsolete values therein and so forth.

The datastore may also store telemetry data as provided to the server from time to time. Such telemetry data may include detected anomalies specific values or quantified samples of accelerometer signals or other information. The telemetry data may also include particular haptic waveform parameters corresponding to detected anomalies modified haptic waveform parameters derived by the device and so forth.

The datastore may also include application data used or generated by various applications executed by the applications module . Business news or information results of technical calculations spreadsheets word processing documents game status information and so forth may be included in the application data .

Other data may also be stored in the datastore . For example the other data may include account information encryption keys access codes to respective servers or other computing devices identifying or authorization information pertaining to the user and so forth.

The server may include one or more I O interface s to allow the processor s or other portions of the server to communicate with the device or other devices other servers various network connected resources and so on. The I O interfaces may comprise I2C SPI USB RS 232 and so forth.

The I O interface s may couple to one or more I O devices . The I O devices may include one or more input devices such as a keyboard mouse and so forth. The I O devices may also include output devices such as one or more of a display audio speakers haptic output devices and so forth. In some embodiments the I O devices may be physically incorporated with the server or they may be externally placed.

The server may also include one or more communication interfaces . The communication interfaces are configured to provide communications between the device s other servers routers access points and so forth. The communication interfaces may include wireless functions devices configured to couple to one or more networks including PANs LANs WLANs WANs and so forth. The server may also include one or more busses or other internal communications hardware or software that allow for the transfer of data between the various modules and components of the server .

The server includes one or more memories . The memory comprises one or more CRSM. The memory provides storage of computer readable instructions data structures program modules and other data for the operation of the server . The memory may include at least one operating system module . Respective OS modules are configured to manage hardware devices such as the I O interfaces the I O devices the communication interfaces and provide various services to applications or modules executing on the processors .

Also stored in the memory may be one or more of the following modules. These modules may be executed as foreground applications background tasks and so forth. A user interface module may be configured to provide one or more application programming interfaces. The user interface module may also generate or provide one or more user input devices or user selection devices to a device . Such user interfaces may be encoded as hypertext markup language HTML files extensible markup language XML files or in another suitable format or language. The user interface module is configured to accept inputs and send outputs using the I O interfaces the communication interfaces or both.

A communication module is configured to support communication with the device one or more other computing devices or servers and so forth using the one or more networks . In some implementations the communication module may support encrypted communications. For example hypertext transport protocol secured HTTPS or transport layer security TLS may be supported.

The memory may also include one or more application modules . The application modules may be configured or modified and selectively provided to the device other devices and so on. Thus various apparatus can be updated or enhanced as new application modules are generated existing application modules are amended or improved and so on. The application modules may respectively perform business tasks technical operations acquire or analyze data received from other entities and so forth in accordance with corresponding program code i.e. software .

The memory may further include a haptic analysis module . The haptic analysis module may be configured to receive and analyze telemetry data from the device or another apparatus to derive new or modified haptic waveform parameters and so forth.

For example the haptic analysis module may receive telemetry data from an aging population of respective devices which are experiencing similar haptic response deficiencies or problems. The haptic analysis module may act upon the telemetry data to calculate new haptic waveform parameters . The new haptic waveform parameters are then provided to some or all of the devices of that particular population by way of the one or more networks . Other suitable analytical or corrective operations may also be performed. Telemetry data from a population of devices may also be used for other group corrective or statistical analysis functions and so forth. For example the telemetry data may be analyzed to determine changes in performance of the haptic actuator s across the population of the devices .

In another example telemetry data may be provided to the server in response to the accelerometer or detecting a potentially damaging event. For instance the device may be dropped onto a hard surface. Such telemetry data may include an accelerometer or measurement of the event or an off scale indication as well as date or time information and so on. Thus the telemetry data may inform the server that performance affecting damage may have occurred trigger the sending of information to provide to the user or be used for other purposes. Other modules may also be present within the memory as well.

The memory may also include a datastore to store information. The datastore may use a flat file database linked list tree executable code or other data structure to store the information. In some implementations the datastore or a portion of the datastore may be distributed across one or more other servers devices network attached storage devices and so forth. The datastore may store telemetry data received from the device from other devices or other servers and so on.

The datastore may store one or more waveform data structures . Such waveform data structures may be accessed by the processors and used in deriving updated or modified haptic waveform parameters storing such modified haptic waveform parameters and so forth. The processors may also define new triggering events e.g. and corresponding haptic waveform parameters and store these in respective ones of the waveform data structures . In one instance respective ones of the waveform data structures are equivalent or analogous to corresponding waveform data structures .

The datastore may store webpage data . The webpage data may include HTML files for predefined web pages accessible by the device respective content elements or objects for presentation by respective web pages and so forth. The datastore may also store other data . For example the other data may include textual graphic or audio data to be provided to a requesting device one or more scripts to automate respective functions and so on.

Block provides a control signal in accordance with haptic waveform parameters . For purposes of a present example the processor anticipates a triggering event in accordance with a car racing game being played by the user . Specifically the user has input a command to cause a race car to accelerate. The processor accesses the waveform data structure and retrieves haptic waveform parameters associated with the triggering event . The processor then digitally encodes the particular parameters within a control signal that is provided to the haptic actuator controller .

Block generates a haptic waveform signal in accordance with the control signal . In the present example the haptic actuator controller produces a haptic waveform signal defined by a sinusoidal wave shape at 25 Hertz frequency 6.1 Volts peak value with a logarithmic decay and a total duration of 1.6 seconds. These respective characteristics are in accord with those communicated by the control signal .

Block drives the haptic actuator using the haptic waveform signal . In the present example the haptic actuator receives the haptic waveform signal and responds by generating a haptic output . The haptic output is a damped vibratory force in accordance with the characteristics of the haptic waveform signal . The haptic output is mechanically coupled to the device structure resulting in an overall haptic response of the device .

Block measures the haptic response of the device using an accelerometer . In the present example the haptic response of the device is mechanically transferred to the accelerometer as a haptic input stimulus . The accelerometer produces an accelerometer signal corresponding to the respective characteristics of the haptic response . In the present non limiting illustration the accelerometer signal is an analog signal characterized by a sinusoidal wave shape of logarithmically decaying amplitude of 25 Hertz frequency and so on.

Block analyzes the accelerometer signal to evaluate the haptic response . In the present example the processor compares the respective characteristics of the accelerometer signal against predefined tolerances expected values or other criteria. The processor may also apply statistical heuristic time domain frequency domain or other analytical techniques to the accelerometer signal toward quantitative or qualitative evaluation of the haptic response . The analysis is directed to determining if the present haptic response is compliant with the intended haptic response for the triggering event . In the present non limiting illustration the analysis reveals that the amplitude e.g. strength or intensity of the present haptic response is 15 below the intended value.

Block modifies the control signal in accordance with the analysis. In the present example the processor alters the amplitude parameter encoded in the control signal increasing the value by 15 in accordance with the analysis of block . The modified control signal is provided e.g. in real time to the haptic actuator controller .

Block modifies the haptic waveform signal in accordance with the modified control signal . In the present example the haptic actuator controller modifies the haptic waveform signal in view of the modified control signal . Therefore the modified haptic waveform signal is characterized by a 15 increase in amplitude.

Block drives the haptic actuator using the modified haptic waveform signal . In the present example the haptic actuator controller immediately increases the amplitude of the haptic waveform signal in accordance with the modified control signal . Thus the haptic waveform signal is now characterized by about 7.02 Volts peak value retaining the other parameters accordingly. In turn the haptic response exhibits a 15 increase in amplitude bringing the overall haptic response into compliance with the intended effect.

Block stores modified waveform parameters in the waveform data structure . In the present example the processor calculated a modified peak voltage value for the triggering event in block above and replaces the existing value with the newly calculated value in the waveform data structure . Thus the peak voltage value of 6.1 Volts is replaced with the modified value of 7.02 volts. The modified peak voltage value may now be used in subsequent instances of the triggering event until such time as it modified again.

Block receives telemetry data from the device . For purposes of a present example the device provides telemetry data to the server . The telemetry data is indicative of particular haptic waveform parameters recently used and characteristics of the resulting haptic response . In particular the telemetry data includes or encodes data acquired by way of the accelerometer signal .

Block analyzes the telemetry data to associate haptic waveform parameters with the corresponding device haptic response . In the present example the server uses the haptic analysis module to analyze the telemetry data . For instance the peak amplitude of the haptic response may be inferred or estimated from a corresponding portion of the accelerometer signal and checked for in tolerance or out of tolerance performance. Similar checking may be performed with respect to the envelope and so on for other characteristics of the haptic response .

Block generates haptic waveform parameters based on the analysis. In the present example the haptic analysis module generates new or modified haptic waveform parameters in accordance with the analysis. For instance the analysis may indicate that the peak amplitude is 10 greater than specifically intended. Thus the haptic analysis module calculates a new peak voltage value that is 10 lesser than the peak voltage parameter used to generate the haptic response under scrutiny. Other new or adjusted haptic waveform parameter values may also be calculated for envelope frequency or other characteristics.

Block stores the haptic waveform parameters in the waveform data structure . In the present example the server stores the just calculated adjusted haptic waveform parameter values in one of the waveform data structure of the datastore . The adjusted haptic waveform parameters are directed to correcting the excessive haptic response reported by the telemetry data .

Block provides the haptic waveform parameters to the device . In the present example the server provides the adjusted haptic waveform to the device by way of the network s . The device may now store the adjusted haptic waveform as haptic waveform parameters within the waveform data structure . The adjusted haptic waveform parameters may now be used during the next instance of the corresponding triggering event e.g. .

The process described above relates to the server receiving telemetry data from a particular device and responding with adjusted haptic waveform parameters toward correcting specific haptic response issues of that device . In another instance the server may receive telemetry data from a number of different devices . The respective telemetry data may be analyzed on behalf of the reporting group of device and common or similar non compliances within their respective haptic responses identified. The server may then calculate or generate adjusted haptic waveform parameters in accordance with the analysis which are then provided to some or all of the corresponding devices as a corrective action.

In yet another example the server may analyze telemetry data from multiple devices and then generate new haptic waveform parameters . Such a process may be performed toward providing new or enhanced haptic responses in view of statistical analysis of past haptic responses . For example analyzed telemetry data may indicate that there are significantly fewer frequency related out of tolerance occurrences when triangular wave shapes are used as compared to sinusoidal wave shapes. Thus the server may calculate new haptic waveform parameters using triangular wave shapes and provide these new haptic waveform parameters to respective devices . The corresponding devices may replace existing haptic waveform parameters within their respective waveform data structures accordingly.

Block accesses haptic waveform parameters within the waveform data structure . For purposes of a present example the processor accesses the waveform data structure in response to a triggering event . In particular the user is playing an auto racing game using the device and has entered user input toward causing the race car to brake. The processor retrieves the haptic waveform parameters corresponding to the triggering event accordingly.

Block communicates the haptic waveform parameters to haptic actuator controller using control signaling . In the present example the processor generates a control signal digitally encoding the just retrieved haptic waveform parameters . In particular the control signal calls for generation of a square wave of 18 Hertz frequency 4.3 Volts peak value exhibiting linear decay over a total duration of 1 second.

Block drives the haptic actuator in accordance with haptic waveform parameters . In the present example the haptic actuator controller receives the signal from the processor . The haptic actuator controller responds by generating a haptic waveform signal in accordance with the haptic waveform parameters encoded in the control signal . The haptic waveform signal is provided to drive the haptic actuator directly.

Block measures the haptic response of the device using the accelerometer . In the present example the accelerometer provides an accelerometer signal to the processor indicative of the various characteristics of the haptic response presently being generated. The accelerometer signal is therefore indicative of the wave shape amplitude frequency envelope and so on of the haptic response now in progress.

Block detects an anomaly using the accelerometer signal . In the present example the processor analyzes the accelerometer signal and detects that the haptic response is exhibiting a peak amplitude 70 below tolerance and erratic wave shape. Thus the accelerometer signal indicates that the haptic actuator is not operating correctly and is likely defective perhaps drawing excessive electrical current from the haptic actuator controller .

Block reduces or shuts down the haptic actuator drive in accordance with detected anomaly. In the present example the processor immediately ceases provision of the control signal . In response the haptic actuator controller immediately halts generation of the haptic waveform signal . The haptic output from the apparently defective haptic actuator is ended thus possibly avoiding electrical damage to the haptic actuator controller or other elements of the device .

Block provides an alert message in accordance with detected anomaly. The processor issues an alert message to the user indicative of the detected anomaly and the likely cause a defective haptic actuator . The alert message may be textual audible or otherwise provided. Additionally the processor may optionally set a data flag store information in the waveform data structure or take other action to prevent future activations of the haptic actuator until corrective measures are taken.

Those having ordinary skill in the art will readily recognize that certain components steps or operations illustrated in the figures above can be eliminated taken in an alternate order or otherwise rearranged. Moreover the methods described above may be implemented as one or more software programs for a computer system and are encoded in a computer readable storage medium as instructions executable on one or more processors.

The computer readable storage medium CRSM can be any one of an electronic storage medium a magnetic storage medium an optical storage medium a quantum storage medium and so forth. Separate instances of these programs can be executed on or distributed across separate computer systems. Thus although certain steps have been described as being performed by certain devices software programs processes or entities this need not be the case and a variety of alternative implementations will be understood by those having ordinary skill in the art.

Additionally those having ordinary skill in the art readily recognize that the techniques described above can be utilized in a variety of devices environments and situations.

Although the present disclosure is written with respect to specific embodiments and implementations various changes and modifications may be suggested to one skilled in the art and it is intended that the present disclosure encompass such changes and modifications that fall within the scope of the appended claims.

