---

title: System and method for networked PVR storage and content capture
abstract: A content management system for managing content stored by a number of networked Personal Video Recorders (PVRs) associated with a user community is provided. More specifically, the storage space of each of the personal video recorders is physically or logically partitioned into a personal space and a community space. The content management system manages the community spaces of the PVRs such that content relevant to the user community is stored in the collective community space of the PVRs and available to the user community.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09118949&OS=09118949&RS=09118949
owner: Qurio Holdings, Inc.
number: 09118949
owner_city: Raleigh
owner_country: US
publication_date: 20131216
---
The present application is a continuation of U.S. patent application Ser. No. 11 479 553 entitled SYSTEM AND METHOD FOR NETWORKED PVR STORAGE AND CONTENT CAPTURE which was filed on Jun. 30 2006 which is incorporated by reference herein in its entirety for all purposes.

The present invention relates to personal video recorders PVRs and more specifically relates to networked PVRs for sharing recorded content and a content management system for managing the content stored thereon.

Personal Video Recorders PVRs such as TiVo PVRs have gained tremendous popularity among consumers. PVRs enable users to record television content for playback at a later time. In addition some PVRs such as the TiVo Series 2 PVR enable sharing of recorded content between multiple devices in a user s home and provide automatic recording of content based on user preferences such as preferred actors or keywords. However traditional PVRs do not enable multiple users to pool their PVR resources to provide a community of networked PVRs where content collectively stored by the PVRs is managed by a central system.

The present invention provides a content management system for managing content stored by a number of networked personal video recorders PVRs associated with a user community. More specifically the storage space of each of the personal video recorders is physically or logically partitioned into a personal space and a community space. Combined the community spaces of the PVRs form a collective community space. The content management system manages the collective community space such that content relevant to the user community is stored in the collective community space. The content stored in the collective community space is made available to each of the users in the user community.

In one embodiment a master content agent receives user interest events from the PVRs and optionally associated playback devices. Based on the user interest events the master content agent generates a user interest model for the community. In addition the master content agent may analyze content already stored in the collective community space to generate a community content model. Thereafter when new content is available the master content agent compares the new content to the user interest model the community content model or both the user interest model and the community content model to determine whether the new content should be added to the collective community space. If so the master content agent effects the addition of the new content to the collective community space. When desired users at the PVRs or at the associated playback devices may obtain the new content from the collective community space for playback.

Those skilled in the art will appreciate the scope of the present invention and realize additional aspects thereof after reading the following detailed description of the preferred embodiments in association with the accompanying drawing figures.

The embodiments set forth below represent the necessary information to enable those skilled in the art to practice the invention and illustrate the best mode of practicing the invention. Upon reading the following description in light of the accompanying drawing figures those skilled in the art will understand the concepts of the invention and will recognize applications of these concepts not particularly addressed herein. It should be understood that these concepts and applications fall within the scope of the disclosure and the accompanying claims.

The PCMS server includes a master content agent user profiles and one or more models . The master content agent may be implemented in software hardware or a combination of hardware and software The master content agent may perform all associated processing tasks or optionally offload certain processing tasks to client content agents of the PVRs and the playback devices . Alternatively the master content agent may be implemented in a distributed fashion as a plurality of master content agents incorporated into the PVRs and the playback devices .

In general the master content agent operates to manage the content stored in community spaces of the PVRs and optionally community spaces of the playback devices such that content relevant to the community of users is recorded and stored in the collective community space provided by the PVRs and optionally the playback devices .

The user profiles include profiles of the users of the PVRs and associated playback devices in the system . The user profiles may be stored in a digital storage device such as but not limited to a hard disc drive associated with or within the PCMS server . While the user profiles are illustrated as being included within the PCMS server the user profiles may alternatively be stored in one or more storage devices associated with the PCMS server stored by one or more third party servers or the like. For each user the user s profile may include information such as but not limited to information identifying content stored in a personal space of the user s PVR information identifying content stored in the community space of the user s PVR information identifying a storage capacity of the user s PVR and the portion of the storage capacity allocated to the user s personal and community spaces information identifying the amount of available storage space in the community space on the user s PVR information identifying the recording features of the user s PVR such as whether the user s PVR records in high definition standard definition or both high definition and standard definition information identifying television channels accessible to the user s PVR information identifying other media content accessible to the user s PVR such as media content available via a Video On Demand VOD service or available via the network information identifying content scheduled to be recorded by the user s PVR information identifying content watched by the user but not recorded by the user s PVR information identifying actions taken by the user while watching particular content information identifying how long the user watches particular content and the like.

If the user has one or more associated playback devices for each of the playback devices the user s profile may further include information identifying content stored in a personal space of the user s playback device information identifying content stored in the community space of the user s playback device information identifying other media content accessible to the playback device such as media content available via the network information identifying a storage capacity of the user s playback device and the portion of the storage capacity allocated to the user s personal and community spaces information identifying the amount of available storage space in the community space on the user s playback device information identifying content watched by the user information identifying actions taken by the user while watching particular content information identifying how long the user watches particular content and the like. The information in the user s profile may be provided to the PCMS automatically or upon request.

Generally the models are stored within or in association with the PCMS server . While the user profiles are illustrated as being included within the PCMS server the user profiles may alternatively be stored in one or more storage devices associated with the PCMS server stored by one or more third party servers or the like. As discussed below the models are generated by the master content agent based on the user profiles and may include a community content model semantically describing the content stored in the collective community spaces of the PVRs and the playback devices a user interest model semantically describing the interests of the users of the PVRs and the associated playback devices and a device capabilities model defining the capabilities of the PVRs and the playback devices . The models are then used by the master content agent to determine whether content made available by the PVRs or desired to be injected into the collective community space is to be added to the collective community space of the PVRs and playback devices .

The user location may be a home business or the like associated with the user of the PVR and optionally the playback device . While only one playback device is illustrated the user may contribute the storage space from any number of playback devices to the community. In addition resources from other user devices that may or may not have playback capabilities may be dedicated to the community. Further while the discussion herein focuses on the situation where the PVR and the playback device are at the same user location the present invention is not limited thereto.

The PVR may be a set top box similar to the TiVo PVRs a PVR function implemented in a set top box or a personal computer or the like. The PVR includes a client content agent and a storage space which is logically or physically partitioned into a personal space and a community space . The storage space may be formed by one or more digital storage units or devices such as but not limited to one or more hard disc drives one or more optical disc drives one or more associated network drives or the like.

The client content agent may be implemented in software hardware or a combination of software and hardware. The client content agent interacts with the master content agent to provide information such as but not limited to information identifying content stored in the personal space of the PVR information identifying content stored in the community space of the PVR information identifying a storage capacity of the storage space and the portion of the storage capacity allocated to the personal space and the community space information identifying the amount of available storage space in the community space information identifying recording features of the PVR such as whether the PVR records in high definition standard definition or both high definition and standard definition information identifying television channels accessible to the PVR information identifying other media content accessible to the user s PVR such as media content available via a Video On Demand VOD service or available via the network information identifying content scheduled to be recorded by the PVR information identifying content watched by the user but not recorded by the PVR information identifying actions taken by the user while watching particular content information identifying how long the user watches particular content and the like. The client content agent may provide such information to the master content agent automatically or upon request.

In response to instructions from the master content agent the client content agent may also operate to move content from the personal space to the community space record specified content and store the content in the community space generate a new version of content such as for example a standard definition version of high definition content remove specified content from the community space copy specified content from the personal space or the community space to the community space of another PVR such as the PVR to the community space of the playback device or the community space of another user s playback device such as the playback device . Note that if the PVR has various recording capabilities the master content agent may instruct the client content agent to record content using desired configurations. For example if the PVR can record in both high definition and standard definition but a majority of the other PVRs and playback devices can play only standard definition content the master content agent may instruct the PVR to record in standard definition.

When content is copied to another device the content may be transferred directly to the other device via a direct peer to peer P2P connection over the network or via a proxy which may be for example the PCMS server . Further if transferring to a device within the same local area network LAN the content may be transferred via a direct P2P connection over the LAN.

The playback device may be any device having media playback capabilities such as for example a personal computer a mobile device having media playback capabilities or the like. The playback device includes a client content agent and storage space which may be logically or physically partitioned into a personal space and a community space . The storage space may be formed by one or more digital storage units or devices such as but not limited to one or more hard disc drives one or more optical disc drives one or more associated network drives or the like.

The client content agent may be implemented in software hardware or a combination of software and hardware. The client content agent interacts with the master content agent to provide information such as but not limited to information identifying content stored in the personal space of the playback device information identifying content stored in the community space of the playback device information identifying other media content accessible to the playback device such as media content available via the network information identifying a storage capacity of the storage space and the portion of the storage capacity allocated to the personal space and the community space information identifying the amount of available storage space in the community space information identifying content watched by the user information identifying actions taken by the user while watching particular content information identifying how long the user watches particular content and the like. The client content agent may provide such information to the master content agent automatically or upon request.

In response to instructions from the master content agent the client content agent may also operate to generate a new version of content such as for example a standard definition version of high definition content remove specified content from the community space copy specified content from the community space to the community space of a PVR such as the PVR or the community space of another user s playback device such as the playback device . When content is copied to another device the content may be transferred directly to the other device via a direct P2P connection over the network or via a proxy which may be for example the PCMS server . Further if transferring to a device within the same local area network LAN the content may be transferred via a direct P2P connection over the LAN.

As with the user location the user location may be a home business or the like associated with the user of the PVR and optionally the playback device . While only one playback device is illustrated the user may contribute the storage space from any number of playback devices to the community. In addition while the discussion herein focuses on the situation where the PVR and the playback device are at the same user location the present invention is not limited thereto.

Like the PVR the PVR includes a client content agent and a storage space which is logically or physically partitioned into a personal space and a community space . The discussion above with respect to the client content agent and the storage space is equally applicable to the client content agent and the storage space . As such the details of the PVR are not repeated.

Like the playback device the playback device may be for example a personal computer or the like having media playback capabilities. The playback device includes a client content agent and storage space which may be logically or physically partitioned into a personal space and a community space . The discussion above with respect to the client content agent and the storage space of the playback device is equally applicable to the client content agent and the storage space of the playback device . As such the details of the playback device are not repeated.

In operation the master content agent analyzes the content stored in the community spaces of the PVRs and the content in the community spaces of the playback devices to generate a community content model semantically describing the content stored in the collective community space provided by the PVRs and the playback devices . In addition or alternatively the master content agent analyzes information provided by the client content agents and to generate a user interest model of the associated users in the community. The information analyzed to generate the user interest model may include information such as information identifying content scheduled to be recorded by the PVRs information identifying content watched by the users of the PVRs but not recorded by the PVRs information identifying content watched by the users of the playback devices information identifying actions taken by the users while watching particular content on the PVRs and the playback devices information identifying how long the user watched particular content and the like.

Thereafter when for example the PVR records content the client content agent obtains information identifying and describing the recorded content which is hereafter referred to as metadata and provides the metadata to the master content agent . The master content agent compares the metadata for the recorded content to the community content model the user interest model or both the community content model and the user interest model to determine whether the recorded content is to be added to the collective community space of the PVRs and the playback devices . If so the recorded content is moved to the community space of the PVR . Alternatively the recorded content may be moved from the personal space of the PVR to the community space of another PVR or one of the playback devices . Optionally the master content agent may also operate to copy the recorded content from the PVR to the community space of one or more additional PVRs such as the PVR or the playback devices such that the recorded content is readily available to the other users in the community.

When a user such as the user at the playback device desires to view the recorded content the master content agent may operate as a proxy to obtain the recorded content from the PVR or another device storing a copy of the recorded content and provide the recorded content to the playback device . Rather than operating as a proxy the master content agent may direct the playback device to obtain the recorded content from the PVR or another device storing a copy of the recorded content over a direct P2P connection or via a separate proxy server. In either case the playback device may then store a copy of the recorded content and serve subsequent requests. Alternatively the recorded content may be streamed to the playback device such that the recorded content is not permanently stored on the playback device .

In a similar fashion the master content agent may receive idle events from the PVRs . The PVRs may provide idle events when they are idle or when based on history the PVRs are not idle and expect to be idle for a threshold period of time. When the master content agent receives an idle event from for example the PVR the master content agent may obtain metadata describing content available to the PVR . More specifically the master content agent is aware of the television channels accessible by the PVR . In addition the master content agent may obtain metadata for content that may be recorded from the channels accessible to the PVR from the client content agent where the client content agent may obtain the metadata from an Electronic Programming Guide EPG from an external source such as a server associated with the television service provider associated with the PVR or from a database stored by or in association with the PDMS server .

Once the metadata for the available content is obtained the master content agent compares the metadata for the available content to the community content model the user interest model or both the community content model and the user interest model to identify content to be recorded by the PVR if any. The master content agent interacts with the client content agent to instruct the PVR to record the identified content in the community space of the PVR . Once recorded the master content agent may also operate to copy the recorded content from the PVR to the community space of one or more additional PVRs or playback devices such that the recorded content is readily available to the other users in the community. Thereafter the recorded media content may be served to the PVRs or playback devices of other users in the community from the PVR or any other device to which the content has been copied upon request.

In a similar fashion the third party server which may be associated with a content provider such as a television or movie content provider may provide metadata describing content that may be injected into the collective community space of the PVRs and the playback devices by the third party server . The master content agent compares the metadata for the content to the community content model the user interest model or both the community content model and the user interest model to determine whether the content is to be added to the collective community space of the PVRs and the playback devices . If so the master content agent identifies one or more of the PVRs and playback devices to which the content is to be copied. Once identified the master content agent instructs the third party server to transfer the content to the identified devices either directly or through a proxy such as the PMS server . The content is then stored in the community spaces of the identified devices and made available to the community.

Before discussing the generation of the community content model and the user interest model in more detail it may be beneficial to discuss how nodes of the content ontology are scored based on specific content. Referring to specific content such as a movie may be scored as follows. Each node in the content ontology is associated with a number of predicates or rules. For example the Science Fiction node may include a number of science fiction predicates indicating that content playing on the Sci Fi television channel or content having metadata otherwise indicting that the content is of the Sci Fi genre are associated with the Science Fiction node. By comparing the metadata for the content to the predicates of each of the nodes the nodes of the content ontology are scored. The raw score for each node may for example be defined by the scoring algorithm as raw score node level number of hits where node level is the level of the node in the content ontology. For example the Movie node is a level 1 node the Science Fiction node is a level 2 node and the Star Trek node is a level 3 node. The term number of hits is the number of times the metadata of the content satisfies any of the predicates of the node.

In the example of there are 200 hits on the predicates of the Movie node for the content to be scored. As such the raw score for the Movie node is 200 1 200 . As for the Science Fiction node there are 225 hits such that the raw score for this node is 450 2 225 . As for the Star Trek node there are 100 hits such that that raw score for this node is 300 3 100 . Optionally the raw score of each parent node may be combined with the raw scores of its child nodes to provide final scores for the nodes. The parent and child nodes may be related using a weighting scheme. In this example the Star Trek node has no scored child nodes. As such the final score for the Star Trek node is 300. The Star Trek node is a child node of the Science Fiction node. Assuming that the Science Fiction node has no other scored child nodes the final score of the Science Fiction node is its raw score plus the weighted raw score of the Star Trek node. In this example the weight of the relationship between the Science Fiction node and the Star Trek node is 1.2. Thus the final score of the Science Fiction node is 810 450 1.2 300 In a similar fashion the final score of the Movie node is 848 200 0.8 810 .

For additional details of scoring nodes in an ontology the interested reader is direct to U.S. patent application Ser. No. 11 359 632 entitled Methods Systems and Products for Characterizing Target Systems filed Feb. 22 2006 and U.S. patent application Ser. No. 11 414 021 entitled Methods Systems and Products for Classifying Content Segments filed Apr. 28 2006 both of which are hereby incorporated herein by reference in their entireties.

In a similar fashion the master content agent generates the user interest model by scoring the nodes on the content ontology for various user interest events received from the PVRs and the playback devices step . As discussed above the client content agents and may provide information to the master content agent related to various user interest events such as scheduled recordings content watched but not recorded actions taken by the user while watching content the length of time the users watch certain content and the like. Each of the user interest events and optionally metadata describing the content associated with the user interest event are used to score the nodes in the content ontology. For each node the scores for all of the user interest events are combined to provide a combined user interest score for that node. Together the combined user interest scores for all of the nodes in the content ontology form the user interest model. Again note that the scores associated with content stored in the community spaces of devices associated with preferred users may be given additional weight.

In one embodiment the master content agent generates the device capabilities model by scoring a separate device capabilities ontology using the device capabilities of the PVRs and playback devices step . More specifically in a manner similar to that described above with respect to the community content model and the user interest model the master content agent may score the nodes of the device capabilities ontology for each of the PVRs and each of the playback devices . For each node the scores for all of the PVRs and playback devices are combined to provide a combined device capability score for that node. Together the combined device capability scores for all of the nodes in the device capabilities ontology form the device capabilities model.

The master content agent may then operate to update the community content model the user interest model and the device capabilities model step . The community content model may be updated as new content is added to the collective community space as content is removed from the collective community space or when the content in the collective community space otherwise changes. The user interest model may be updated in response to receiving new user interest events. The device capabilities model may be updated if new devices are added to the community or if the device capabilities of the devices in the community change.

First the process of will be discussed with respect to a recording event. A recording event may be sent when for example the user of the PVR instructs the PVR to record specified content which is hereafter referred to as new content. The following discussion is equally applicable to a new content event which may be sent when for example the PVR or optionally the playback device has access to new content via a VOD service or the network . Once the recording event is received the master content agent obtains metadata for the new content associated with the recording event step . In one embodiment the metadata for the new content is first obtained by the client content agents from for example an EPG and then provided to the master content agent as part of the recording event. As such the master content agent may obtain the metadata for the new content from the recording event. In addition or alternatively the recording event may include information identifying the new content and the master content agent may obtain metadata or additional metadata for the new content from either an internal or associated database or a third party server.

The master content agent may then determine the relevancy of the new content to user interests based on the metadata for the new content and the user interest model step . More specifically in one embodiment the metadata for the new content is first used to score the content ontology. The scored nodes for the new content are then compared to the user interest model to determine the relevancy of the new content to user interest.

For example an episode of Firefly may have the following scores for the nodes of the content ontology 

Further for this example the user interest model may have the following scores for the nodes of the content ontology 

Thus the user interest model shows a high level of user interest in Fantasy but does have some overlap with the new content s scored nodes. In one embodiment the master content agent compares the new content s scored nodes to the user interest model by adjusting the scores of the new content s scored nodes based on the distance and weights associated with the relationships between the nodes in the content ontology. Given the above examples the adjusted scores which are referred to as user interest scores for the new content are 

The score for Science Fiction is left unchanged since it has a distance of zero from the nearest scored node in the user interest model. The Rutger Hauer node is closest to the Science Fiction node and the weight of the relationship between the Rutger Hauer node and the Science Fiction node is in this example 0.9. As such the weighted score for the Rutger Hauer node is 180. The Star Trek node is closest to the Science Fiction node and the weight of the relationship between the Star Trek node and the Science Fiction node is in this example 1.1. As such the weighted score for the Star Trek node is 165.

In addition the scores may optionally be further adjusted based on relative user interest. For example the relative user interest in Science Fiction may be 

Still further if the user associated with the recording event is a preferred user the scores may be further adjusted to give additional weight to the new content.

Once the user interest scores for the new content are determined the user interest scores for the various nodes may be combined to form a combined user interest score for the new content. As discussed below the combined user interest scores and or the user interest scores for the various nodes may be used to determine whether the new content is to be added to the collective community space.

In a similar fashion the master content agent may determine the relevancy of the new content to the content already stored in the collective community space based on the metadata for the new content and the community content model step . More specifically in one embodiment the metadata for the new content is first used to score the content ontology. Since scoring the nodes of the content ontology based on the metadata for the new content has already occurred in step this may be redundant and therefore unnecessary. However it may be necessary in the situation where step is performed after determining the relevancy of the new content to the community content or if step is not performed at all. The scored nodes for the new content are then compared to the community content model to determine the relevancy of the new content to content already stored in the collective community space. The details of the comparison are as described above with respect to step where the user interest model is replaced with the community content model. As a result a combined community content score and or adjusted community content scores for the new content may be provided and thereafter used to determine whether to add the new content to the collective community space.

It should be noted that while the preferred embodiment uses both steps and the present invention is not limited thereto. The master content agent may alternatively perform only step or only step and determine whether to add the new content to the collective community space based on the relevancy of the new content to user interests the relevancy of the new content to the content already stored in the collective community space or both the relevancy of the new content to user interests and the relevancy of the new content to the content already stored in the collective community space. Alternatively the user interest model and the community content model may be combined into a single model. However in the preferred embodiment discussed herein separate and distinct community content and user interest models are used to allow for loose coupling between what the community finds interesting versus what content is actually stored in the collective community space. User interest may rapidly fluctuate however the content capture capabilities of the network may not be able to adjust to the changes in user interests as quickly as they are occurring. By factoring in the community content model this issue is alleviated. In addition it may be desirable to change the content stored in the collective community space at a slower rate than user interests to avoid thrashing due to wild swings in user interests.

Optionally the master content agent may compare the recording features of the PVR where the recording event originated to the device capabilities model step . By doing so the master content agent may determine whether the recording features of the PVR are compatible with the other PVRs and the playback devices in the community. For example if the PVR only records in high definition and very few of the other devices are capable of playing high definition content then as discussed below the new content may not be added to the community space. More specifically in one embodiment the device capabilities of the PVR are used to score the nodes of the device capabilities ontology. Those scores are then compared to the device capabilities model in a manner similar to that described above with respect to steps and to generate adjusted scores for the nodes of the device capabilities model and a combined device capabilities score for the PVR .

Steps illustrate an exemplary process implemented by the master content agent for determining whether to add the new content to the collective community space. First the master content agent determines whether the collective community space is near capacity step . For example the master content agent may determine a percentage of the collective community space that is currently used. If that percentage is above a predetermined threshold such as for example 75 then the master content agent determines that the collective community space is near capacity. Note that the master content agent may additionally or alternatively determine whether the community space of the PVR is near capacity.

If the collective community space is not near capacity the master content agent then determines whether to add the new content to the collective community space step . As discussed above the master content agent may determine whether to add the new content to the collective community space based on the relevancy of the new content to user interests the relevancy of the new content to the content already stored in the collective community space or both the relevancy of the new content to user interests and the relevancy of the new content to the content already stored in the collective community space. In addition the master content agent may consider the compatibility of the recording features of the PVR with the playback capabilities of the other devices in the community.

For example the master content agent may first determine whether the recording features of the PVR are compatible with the playback features of the other devices . This may be done by comparing the combined device capabilities score of step to a predetermined threshold. If the score is below the threshold then the new content is not added to the community space and the process ends step . If the score is above the threshold the master content agent then determines whether the combined user interest score provided by step and or the combined community content score provided by step are above corresponding predetermined thresholds. If not the new content is not added and the process ends step . Otherwise the new content is added to the collective community space step .

When adding the new content to the collective community space the new content may be moved to the community space of the PVR recording the content. Thereafter the new content may be distributed throughout the community as it is used or consumed by other devices in the community. In addition or alternatively the master content agent may effect copying of the new content to one or more additional devices such as for example the playback device associated with another user. The new content may be copied to additional devices in order to make the new content readily available to the community. The master content agent may effect replication of the new content throughout the devices in the community based on the user interest model the community content model the device capabilities model or any combination thereof.

In one embodiment the new content may be randomly distributed or copied throughout the network. The new content may be copied or replicated throughout the network based on for example the user interest model and the community content model. In a second embodiment the master content agent may identify geographic areas where the new content is most relevant to the user interests or community content already stored in that area and then copies the new content to one or more devices in that geographic area. In a third embodiment the master content agent may identify the user to whom the new content is most relevant and effect copying to at least a portion of those users. In a fourth embodiment the master content agent may distribute the new content among the PVRs and the playback devices in a manner similar to that used by OceanStore or other distributed file systems. For more information regarding OceanStore the interested reader is directed to http oceanstore.cs.berkeley.edu . OceanStore and other distributed file systems use content replicas to ensure high availability and survivability of content.

Returning to step if the collective community space is near capacity the master content agent determines whether the new content is to be added to the collective space step . As discussed above with respect to step the master content agent may determine whether to add the new content to the collective community space based on the relevancy of the new content to user interests the relevancy of the new content to the content already stored in the collective community space or both the relevancy of the new content to user interests and the relevancy of the new content to the content already stored in the collective community space. The master content agent may also consider the compatibility of the recording features of the PVR with the playback capabilities of the other devices in the community. If the new content is not to be added the process ends step . If the new content is to be added the process proceeds to step .

More specifically because the collective community space is near capacity the master content agent determines whether the new content is to be added to the collective community space and if the new content is to be added what content is to be removed from the community space. Thus in one embodiment the master content agent scores the content already stored in the collective community space using the user interest model and or the community content model as was done for the new content in steps and . Note that the scores for the content may be persisted or stored and updated only when desired. In order to decide whether to add the new content the master content agent may consider the scores of the new content the scores of the content already stored in the collective community space and optionally one or more additional factors such as for example original broadcast date running time of the content language ratings whether the content is or is not a re run whether the content does or does not have commercials whether the language or scene filters have been applied to the content edited versus non edited versions the source of the content recording quality the amount of time the content has been stored in the collective community space the number of times the content has been viewed by users in the community the number of requests from users to keep the content in the collective community space content size and the like.

For example after scoring the new content and the content already stored in the collective community space may be represented by the following table.

Next since the new content is to be added the master content agent then identifies the content to be removed from the collective community space step . Using the example above the content C3 is at the bottom of the sorted table or list. As such the content C3 is identified as the content to remove from the collective community space. Once identified the content is removed from the collective community space step . In one embodiment the master content agent instructs all devices storing the identified content to delete the content from their community spaces. In another embodiment the master content agent may notify all users in a subset of the users that the identified content is to be removed from the collective community space. The subset of the users may by those users who have either previously viewed the identified content or shown interest in the identified content by for example requesting that the content be kept in the collective community space The notified users may then copy the identified content to their personal space. At some point thereafter the identified content is removed or deleted from the collective community space.

Either before while or after the identified content is removed from the collective community space the master content agent operates to add the new content to the collective community space step . The master content agent may add the new content to the collective community space by instructing the PVR that has recorded or is recording the new content to move the new content to the community space of the PVR . Thereafter the new content may be replicated to other devices as the users of those devices view the new content. In addition or alternatively the master content agent may automatically copy or replicate the new content on one or more of the devices as discussed above.

Returning to step the triggering event may be a content injection request from the third party server . The third party server may provide the injection request when the third party server desires to inject content into the collective community space. The content injection request may include metadata describing the associated new content. Additionally or alternatively the master content agent may obtain the metadata for the new content from an internal or associated database or from another third party server. The content injection request may be processed as described above with respect to the recording event. As such the details will not be repeated.

Again looking at step the triggering event may be an idle event. An idle event may be provided by for example the PVR when the PVR is idle. The idle event may optionally be sent only when the PVR determines based on for example a history of the PVR and or time of day that the PVR is likely to be idle for at least a threshold amount of time. In the preferred embodiment in response to an idle event the master content agent may synthesize a recording event for each television program movie or the like accessible to the PVR at the time of receiving the idle event and optionally during a period of time that the PVR is expected to be idle. Each of the recording events may then be processed by steps as an individual recording event in the manner described above.

More specifically in response to receiving the idle event the master content agent obtains metadata for all content accessible to the PVR step . Thus for each channel accessible to the PVR the master content agent obtains metadata describing the content available on those channels during the idle time which is hereafter referred to as new content. For each television show movie or the like the relevancy of the new content to the user interest model and or the community content model is determined steps and . The recording features of the PVR may optionally be compared to the playback capabilities of the other devices step .

Steps then determine what if any of the new content is to be added to the collective community space. First the master content agent determines whether the collective community space is near capacity step . If the collective community space is not near capacity the master content agent then determines whether to add any of the new content to the collective community space step .

As discussed above the master content agent may determine whether to add the new content to the collective community space based on the relevancy of the new content to user interests the relevancy of the new content to the content already stored in the collective community space or both the relevancy of the new content to user interests and the relevancy of the new content to the content already stored in the collective community space. The master content agent may consider the compatibility of the recording features of the PVR with the playback capabilities of the other devices in the community. The master content agent also considers the recording capabilities of the PVR . More specifically if the PVR can record only two simultaneous channels then the master content agent factors this into the decision.

For example the master content agent may first determine whether the recording features of the PVR are compatible with the playback features of the other devices . This may be done by comparing the combined device capabilities score of step to a predetermined threshold. If the combined device capabilities score is below the threshold then the content is not added to the community space and the process ends step . If the device capabilities score is above the threshold the master content agent then determines whether the combined user interest score provided by step and or the combined community content score provided by step are above corresponding predetermined thresholds for each accessible television program movie or the like. If none of the scores for the new content are above the thresholds the process ends step . If only one television program movie or the like has scores above the thresholds then that content is added to the collective community space step . However if for example the PVR can record only two channels simultaneously and more than two simultaneous television programs movies or the like have scores above the thresholds then the master content agent may select the two having the highest scores and add them to the collective community space.

Returning to step if the collective community space is near capacity the master content agent determines what if any of the new content is to be added to the collective space step . As discussed above with respect to step the master content agent may determine whether to add the new content to the collective community space based on the relevancy of the new content to user interests the relevancy of the new content to the content already stored in the collective community space or both the relevancy of the new content to user interests and the relevancy of the new content to the content already stored in the collective community space. The master content agent may also consider the compatibility of the recording features of the PVR with the playback capabilities of the other devices in the community. In addition the master content agent may consider the recording capabilities of the PVR . If none of the new content is to be added the process ends step . If new content is to be added the process proceeds to step .

More specifically because the collective community space is near capacity the master content agent determines what if any of the new content is to be added to the collective community space and if new content is to be added what content is to be removed from the community space. Thus in one embodiment the master content agent scores the content already stored in the collective community space using the user interest model and or the community content model as was done for all of the new content available to the PVR in steps and . In a manner similar to that described above in order to determine whether to add any of the new content accessible to the PVR the master content agent may then consider the scores of all of the new content the scores of the content already stored in the collective community space and optionally one or more additional factors such as for example original broadcast date running time of the content language ratings whether the content is or is not a re run whether the content does or does not have commercials whether the language or scene filters have been applied to the content edited versus non edited versions the source of the content recording quality the amount of time the content has been stored in the collective community space the number of times the content has been viewed by users in the community the number of requests from users to keep the content in the collective community space content size and the like.

For example a sorted list of content may be generated including the content already stored in the collective community space and all of the new content accessible to the PVR . The table may be sorted based on the combined user interest model scores the combined community content model scores the combined device capabilities scores and optionally one or more additional factors as described above. Based on the sorted list and optionally the recording capabilities of the PVR the master content agent determines what if any of the new content accessible to the PVR is to be recorded by the PVR and added to the collective community space. In addition the master content agent may identify content to remove from the collective community space to make room for any new content added to the collective community space step .

At this point the content identified to be removed is removed from the collective community space . Further any new content identified as content to be added to the collective community space is recorded by the PVR and added to the collective community space step .

The present invention provides substantial opportunity for variation without departing from the spirit or scope of the present invention. For example while the master content agent is discussed herein as controlling the collective community space of the PVRs and playback devices at separate user locations the present invention is not limited thereto. More specifically the master content agent may be hosted by a server in a local area network LAN and operate to manage the collective community space of one or more PVRs and playback devices at a single user location where the PVRs and the playback devices are coupled to the master content agent via the LAN or alternatively P2P communication.

Those skilled in the art will recognize improvements and modifications to the preferred embodiments of the present invention. All such improvements and modifications are considered within the scope of the concepts disclosed herein and the claims that follow.

