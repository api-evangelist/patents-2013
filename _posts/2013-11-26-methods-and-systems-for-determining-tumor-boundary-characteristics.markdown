---

title: Methods and systems for determining tumor boundary characteristics
abstract: Described herein are methods and systems for determining tumor boundary characteristics. One example method involves (a) receiving imaging data, wherein the imaging data indicates a tumor and one or more tissues that surround the tumor; (b) determining one or more radial segments that extend from the tumor to the one or more surrounding tissues based on the imaging data, wherein the one or more radial segments each comprise one or more respective data points indicating signal intensity; (c) determining one or more respective tumor boundary parameters for each of the one or more radial segments based on at least the one or more respective data points indicating signal intensity; (d) determining a tumor margin based on the one or more determined tumor boundary parameters; and (e) causing a graphical representation of the determined tumor margin to be displayed on a graphical display.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09370328&OS=09370328&RS=09370328
owner: University of Washington Through its Center for Commercialization
number: 09370328
owner_city: Seattle
owner_country: US
publication_date: 20131126
---
This application claims priority to U.S. Provisional Patent Application Ser. No. 61 731 138 filed Nov. 29 2012 entitled Software and Method for Application to Surgical Navigation Systems which is incorporated herein in its entirety.

This invention was made with government support under grant no. R01CA065537 14 awarded by the National Institutes of Health. The government has certain rights in the invention.

Unless otherwise indicated herein the materials described in this section are not prior art to the claims in this application and are not admitted to be prior art by inclusion in this section.

Tumor resection has long been a mainstay of treatment for many kinds of cancers such as sarcoma. For example while many treatment protocols for sarcoma involve neo adjuvant treatment with chemotherapy and radiation a leading mode of sarcoma treatment in adults and children is primary tumor resection. The goals of resection include removal of the primary tumor to prevent local recurrence and metastases preservation of normal tissue function and in the majority of cases preservation of skeletal and limb function. Tumor resection may also be a mode of treatment for other types of tumors.

In planning for tumor resection surgery surgeons may consult images of the tumor that are produced using medical imaging techniques such as magnetic resonance imaging MRI positron emission tomography PET and computed tomography CT . These images of the tumor show the boundary between the tumor and the surrounding normal tissue. Often the boundary between the tumor and surrounding tissue is not well defined. Instead the tumor infiltrates into the surrounding tissue. Therefore since leaving tumor mass in the body is associated with poor patient outcome surgeons try to remove the tumor along with some surrounding tissue in an attempt to have no tumor left behind in the body.

To determine whether tumor was left behind in the body a pathologist may examine and sample the edge of the removed tumor to determine if the tumor involves the surface margins of the specimen. The cut surface of the tissue mass tumor and normal tissue removed may be referred to as the tumor margin. When the entire tumor is removed with a generous covering of normal tissue on all surfaces then the tumor resection specimen is said to be negative or margins free of tumor. If the tumor is present at the edge of the mass then the margins are said to be positive or tumor involved. This implies that tumor is left behind in the body at these locations and the patient is at high risk for tumor re growth local recurrence and shortened survival.

Often tumor resection surgery is performed with a goal of a resected tumor that has negative margins. However in some circumstances surgery will result in a tumor with positive margins since the tumor sometimes infiltrates into the surrounding tissue making it difficult to determine the tumor boundary. In other circumstances positive margins are a planned result of the surgery. For example in sarcoma because there is often little normal tissue surrounding the tumor resection margins can have tumor 1 2 mm from the edge of the resection and are called marginal margins. Although a lack of tumor margin involvement in these types of resection cannot be assumed tumor resections with marginal margins are sometimes performed to preserve a limb when amputation would otherwise be the alternative among other situations.

While marginal margins cannot be avoided in every surgery not all marginal margins are equal. By better understanding the nature of the tumor boundary the marginality of the tumor margin can be reduced.

Described herein are methods and systems for determining tumor boundary characteristics. Such methods and systems may involve quantitatively determined tumor boundary parameters that can be used to infer various tumor boundary characteristics. These tumor boundary characteristics can aid in pre surgery planning and predication of local tumor recurrence among other benefits. In addition the quantitative characterization described in this application may be combined with qualitative characterization.

The method and system may apply to a broad range of tumor types such as sarcoma and carcinoma and has been demonstrated on the following tumor types serous carcinoma leiomysarcoma synovial sarcoma alveolar rhabomyosarcoma pleomorphic sarcoma liposarcoma osteosarcoma desmoplastic round cell chondrosarcoma Ewing s sarcoma myxofibrosarcoma synovial sarcoma and spindle cell sarcoma.

In one aspect a computer implemented method is provided. The method may involve 1 receiving imaging data wherein the imaging data indicates a tumor and one or more tissues that surround the tumor 2 determining one or more radial segments that extend from the tumor to the one or more surrounding tissues based on the imaging data where the one or more radial segments each comprise one or more respective data points indicating signal intensity 3 determining one or more respective tumor boundary parameters for each of the one or more radial segments based on at least the one or more respective data points indicating signal intensity where each of the one or more radial segments intersect a tumor boundary 4 determining a tumor margin based on the one or more determined tumor boundary parameters and 5 causing a graphical representation of the determined tumor margin to be displayed on a graphical display.

In a further aspect a physical computer readable medium is provided. The physical computer readable medium may include instructions that are executable by a computing device to cause the computing device to perform functions. The functions include 1 receiving imaging data where the imaging data indicates a tumor and one or more tissues that surround the tumor 2 determining one or more radial segments that extend from the tumor to the one or more surrounding tissues based on the imaging data where the one or more radial segments each comprise one or more respective data points indicating signal intensity 3 determining one or more respective tumor boundary parameters for each of the one or more radial segments based on at least the one or more respective data points indicating signal intensity where each of the one or more radial segments intersect a tumor boundary 4 determining a tumor margin based on the one or more determined tumor boundary parameters and 5 causing a graphical representation of the determined tumor margin to be displayed on a graphical display.

In a further aspect a computing device is provided. The computing device may include A a display B a physical non transitory computer readable medium and C program instructions stored on the physical computer readable medium and executable by at least one processor to cause the computing device to 1 receive imaging data where the imaging data indicates a tumor and one or more tissues that surround the tumor 2 determine one or more radial segments that extend from the tumor to the one or more surrounding tissues based on the imaging data where the one or more radial segments each comprise one or more respective data points indicating signal intensity 3 determine one or more respective tumor boundary parameters for each of the one or more radial segments based on at least the one or more respective data points indicating signal intensity where each of the one or more radial segments intersect a tumor boundary 4 determine a tumor margin based on the one or more determined tumor boundary parameters and 5 cause a graphical representation of the determined tumor margin to be displayed on a graphical display.

These as well as other aspects advantages and alternatives will become apparent to those of ordinary skill in the art by reading the following detailed description with reference where appropriate to the accompanying drawings.

In the following detailed description reference is made to the accompanying figures which form a part thereof. In the figures similar symbols typically identify similar components unless context dictates otherwise. The illustrative embodiments described in the detailed description figures and claims are not meant to be limiting. Other embodiments may be utilized and other changes may be made without departing from the spirit or scope of the subject matter presented herein. It will be readily understood that aspects of the present disclosure as generally described herein and illustrated in the figures can be arranged substituted combined separated and or designed in a wide variety of different configurations all of which are explicitly contemplated herein.

As shown in computing device may include processor data storage and communication interface all linked together via system bus network or other connection mechanism .

Processor may include one or more general purpose microprocessors and or one or more dedicated signal processors and may be integrated in whole or in part with communication interface . Data storage may include memory and or other storage components such as optical magnetic organic or other memory disc storage which can be volatile and or non volatile internal and or external and integrated in whole or in part with processor . Data storage may be arranged to contain i program data and ii program logic . Although these components are described herein as separate data storage elements the elements could just as well be physically integrated together or distributed in various other ways. For example program data may be maintained in data storage separate from program logic for easy updating and reference by program logic .

Communication interface typically functions to communicatively couple computing device to networks. As such communication interface may include a wired e.g. Ethernet and or wireless e.g. Wi Fi packet data interface for communicating with other devices entities and or networks. Computing device may also include multiple interfaces such as one through which computing device sends communication and one through which computing device receives communication.

Computing device may also include or may be otherwise communicatively coupled to user interface . User interface may include one or more elements for communicating outputs for example one or more graphical displays and or a speaker. In operation user interface may be configured to display a graphical user interface GUI via graphical display corresponding to use of such a GUI.

As noted above in some embodiments the disclosed methods may be implemented by computer program instructions encoded on a physical and or non transitory computer readable storage media in a machine readable format or on other non transitory media or articles of manufacture. is a schematic illustrating a conceptual partial view of an example computer program product that includes a computer program for executing a computer process on a computing device arranged according to at least some embodiments presented herein.

In one embodiment the example computer program product is provided using a signal bearing medium . The signal bearing medium may include one or more programming instructions that when executed by one or more processors may provide functionality or portions of the functionality described herein. In some examples the signal bearing medium may encompass a computer readable medium such as but not limited to a hard disk drive a Compact Disc CD a Digital Video Disk DVD a digital tape memory etc. In some implementations the signal bearing medium may encompass a computer recordable medium such as but not limited to memory read write R W CDs R W DVDs etc. In some implementations the signal bearing medium may encompass a communications medium such as but not limited to a digital and or an analog communication medium e.g. a fiber optic cable a waveguide a wired communications link a wireless communication link etc. . Thus for example the signal bearing medium may be conveyed by a wireless form of the communications medium . It should be understood however that computer readable medium computer recordable medium and communications medium as contemplated herein are distinct mediums and that in any event computer readable medium is a physical non transitory computer readable medium.

The one or more programming instructions may be for example computer executable and or logic implemented instructions. In some examples a computing device such as the computing device of may be configured to provide various operations functions or actions in response to the programming instructions conveyed to the computing device by one or more of the computer readable medium the computer recordable medium and or the communications medium .

In some implementations method may be carried out entirely or in part by computing device or some other computing system.

At block a computing device receives imaging data where the imaging data indicates a tumor and one or more tissues that surround the tumor. For example computing device in may receive the imaging data over system bus network or other connection mechanism . In some embodiments the computer device may receive the imaging data from a medical imaging machine such as a magnetic resonance imaging MRI machine a positron emission tomography PET machine or a computed tomography CT machine. In other embodiments the computing device may receive the imaging data from another computing device via a network. In some embodiments the computing device may receive the imaging data via a transfer from a data storage device such as a hard disk drive or a USB flash drive. In other embodiments the computing device may receive the imaging data via a transfer from a data storage medium such as a CD ROM disk. Many other examples are possible as well.

The imaging data may include one or more medical images that show an image of the human body or a part thereof . Such medical images may be created using one or more of a variety of medical imaging techniques such as magnetic resonance imaging MRI positron emission tomography PET and computed tomography CT . Other types of medical images are contemplated as well such as ultrasound tactile imaging or photoacoustic imaging among other possibilities.

The one or more medical images may include one or more three dimensional medical images. In some embodiments a three dimensional 3 d medical image may be created by combining multiple two dimensional 2 d scans as layers to form a three dimensional image. In other embodiments the medical imaging machine produces a three dimensional medical image.

As noted the imaging data indicates a tumor and one or more tissues that surround the tumor. The tumor or neoplasm may include different types of tumors such as sarcomas or carcinomas. The surrounding tissue may include any tissue that completely or partially surrounds the tumor. The interface between the tumor and the surrounding tissue may be referred to as a tumor boundary. In some embodiments the imaging data includes in vivo imaging data for a patient.

In some embodiments the imaging data includes at least one MR image. One or more MR images collected during a session may be referred to as a scan. In some circumstances MR techniques may be chosen because they are capable of producing relatively higher resolution and higher detailed soft tissue images as compared with other medical imaging techniques. In addition MR techniques are capable of producing 3 d images that can image a tumor in three dimensions. In other circumstances different imaging techniques may be preferred. Such imaging techniques may in some circumstances produce relatively higher resolution and higher detailed images.

In some embodiments the imaging data indicates signal intensity. An MR image may have a pixel resolution such as 512 pixels by 512 pixels for a two dimensional MR image. Or where the MR image is 3 d the MR image may have a voxel resolution such as 512 voxels by 512 voxels by 66 voxels. The terms pixels and voxels may be used interchangeably such that description applying to pixels for 2 d images applies to voxels for 3 d images and vice versa.

A pixel may represent a physical region within the MR image. For example a pixel may represent a physical region of 0.8 0.8 mm. Therefore the pixel is an approximation of that physical region. Likewise a voxel may define a physical volume for example a volume of 0.8 0.8 7 mm. Because each pixel is an approximation of a physical region each pixel may have a physical location. Such a physical location may be represented by a 2 d or 3 d coordinate system.

Each pixel or voxel as noted above in an MRI image may have a signal intensity sample or simply signal intensity associated with that respective pixel. The signal intensity associated with that respective pixel represents the amplitude of the RF signal at one point. However it should be understood that a pixel is an approximation of a region. Therefore the imaging data may be a 2 d or 3 d array of signal intensity data. Such an array may be referred to as an image matrix. Depending on the imaging sequence used the MRI signal intensity may indicate a free water density or levels of contrast density among other alternatives. In MR images different tissues in the MR image may appear lighter or darker depending on the signal intensity of the imaged tissues.

In some embodiments MR images that have a certain quality threshold are chosen for use in connection with block . For example MR images having a signal to noise SNR ratio of above 30 may be chosen.

In some embodiments the MR images may be corrected and or enhanced using one or more image analysis tools. Some examples include the FMRIB Software Library FSL from Oxford UK and the Insight Segmentation and Registration Toolkit ITK from the National Library of Medicine.

In some embodiments the imaging data includes at least one T2 weighted MR image. Under some circumstances such as where the imaging data indicates a sarcoma a T2 weighted image produces a relatively detailed representation of the tumor tumor involved and normal surrounding tissue. This can apply to other types of tumors as well and can be applied to the numerous types of tumors. In particular T2 weighting may capture a relatively large difference in water mobility characteristics between tumor such as sarcoma and normal surrounding tissue.

It should be understood that the particular imaging data and elements thereof including the tumor and surrounding tissue shown in is set forth for purposes of example and explanation only. Other examples of imaging data exist and any such imaging data may be within the scope of the example method disclosed herein. The imaging data shown in should not be taken to be limiting.

As noted above the interface between the tumor and the surrounding tissue may be referred to as the tumor boundary. The computing device may define the tumor boundary by calculating a signal intensity threshold. For example signal intensities above a certain signal intensity threshold may indicate the presence of tumor while signal intensities below a certain threshold may indicate the presence of surrounding tissue. The signal intensity threshold may be statistically based on the average and standard deviation of both the signal intensities associated with the tumor shown in the imaging data and the signal intensities of the surrounding tissue. Other techniques to define the tumor boundary are possible as well.

A first study was conducted that involved twenty subjects having the following tumor types serous carcinoma leiomysarcoma synovial sarcoma alveolar rhabomyosarcoma pleomorphic sarcoma liposarcoma osteosarcoma desmoplastic round cell chondrosarcoma Ewing s sarcoma myxofibrosarcoma synovial sarcoma and spindle cell sarcoma. T2 weighted scans were acquired from the twenty subjects. The scans had been routinely collected as part of the clinical radiological protocol. The scans were acquired on three different MR scanner types including General Electric Signa Excite Philips Medical Systems and Siemens. The scans were acquired with the following parameters 1 fast spin echo type pulse sequences 2 T2 weighted echo times ranging from 69 to 100 milliseconds 3 repetition times ranging from 3000 to 5000 milliseconds 4 field of view and scan resolution set to encompass the body part where the tumor was located and 5 typical spatial matrix for acquisition was 512 512 66 voxels each with dimensions of 0.8 0.8 7 mm.

In a second study thirty two subjects were involved. T2 weighted scans were acquired from the twenty subjects. The scans were acquired on three different MR scanner types including General Electric Signa Excite Philips Medical Systems and Siemens. The scans were acquired with the following parameters 1 fast spin echo type pulse sequences 2 T2 weighted echo times ranging from 69 to 100 milliseconds 3 repetition times ranging from 3000 to 5000 milliseconds 4 field of view and scan resolution set to encompass the body part where the tumor was located and 5 typical spatial matrix for acquisition was 512 512 66 voxels each with dimensions of 0.8 0.8 7 mm. Subject characteristics are shown in Table 1 below 

At block the computing device determines one or more radial segments that extend from the tumor to the one or more surrounding tissues based on the imaging data. In some embodiments the one or more radial segments each include one or more respective data points indicating signal intensity. In further embodiments a number of the one or more radial segments is determined based on a determined degree of irregularity of the tumor boundary.

As described above each pixel may have both a physical location and a signal intensity associated with the respective pixel. A number of pixels may be combined to form a radial segment that extends from the tumor to the one or more surrounding tissues. The path of the radial segment may be based upon the physical location of the pixels in the path. Since the pixels include a signal intensity the radial segment represents a sequence of signal intensities that vary as the path of the radial segment crosses from tumor issue to the surrounding normal tissue.

In some embodiments the one or more radial segments may emanate from a point near the center of the tumor as shown in . Such a point may be referred to as a tumor reference point. In some embodiments the tumor reference point may be user defined. Other embodiments in which the radial segments do not emanate from a single point are contemplated as well.

In other embodiments the tumor reference point may be determined by the computing device. In such embodiments before determining the one or more radial segments the computing device may define a tumor reference point that is indicative of a center of the tumor based on the imaging data. The defined tumor reference point may be a statistically approximated center point based on the defined tumor boundary.

In further embodiments the defined tumor reference point may be the centroid of the region defined by the defined tumor boundary. Some examples include determination of the centroid based on approximation of a finite set of points e.g. pixels or voxels such that the centroid of a finite set of k points x x . . . xis C x x . . . x k. Other methods of calculating the centroid are possible as well.

In some embodiments the number of determined radial segments is predetermined. For example ninety radial segments may be determined. The number of determined radial segments may be determined based on the desired compute time and the resolution of the imaging data among other factors. A greater number of radial segments may increase the compute time involved in determining the radial segments determining the tumor boundary characteristics and determining the tumor margin. However a greater number of radial segments may help to more accurately characterize the tumor boundary. But the number of radial segments is limited by the resolution of the imaging data.

As one example embodiment where the radial segments are determined for 2 d imaging data the radial segments may be generated using the following equations angle segment length cosine angle segment length angle segment length cosine angle segment length In such equations x represents the horizontal Cartesian coordinate commonly x in the same coordinate space as the imaging data and y represents the vertical Cartesian coordinate commonly y in the same coordinate space as the imaging data. To generate ninety radial segments for example the angle is incremented 90 times every 4 degrees for a total of 360 degrees and the segment length variable is incremented in a loop for each pixel until the end of the radial segment is reached. This example may be repeated for each slice of 3 d imaging data. The above example is provided only for illustrative purposes. Many other techniques for generating the radial segments are possible.

In some embodiments the computing device may determine the number of the one or more determined radial segments. To facilitate this determination the computing device may determine a degree of irregularity of the tumor boundary. The computing device may determine the number of the determined one or more radial segments based on the determined degree of irregularity of the tumor boundary. For example if a tumor boundary is more irregular more radial segments may be used to characterize the tumor with sufficient accuracy. However if the tumor boundary is less irregular fewer radial segments may be used for sufficiently accurate characterization.

One having skill in the art will appreciate that the imaging data may be manipulated such that equivalents to radial segments may be used. For example the computing device may determine concentric rings that emanate from a point near the center of the tumor and continue to the surrounding tissue. Other examples are possible as well.

Returning to in some embodiments the radial segments may extend outside of the imaging data as shown. As one example this arrangement may occur when the tumor is not centered within the imaging data. Such portions of the radial segments may be assigned a default intensity value such as 0 and may be disregarded in the image analysis. In other embodiments the radial segment may end when the path of the radial segment reaches the boundaries of the imaging data.

At block the computing device determines one or more respective tumor boundary parameters for each of the one or more radial segments based on at least the one or more respective data points indicating signal intensity wherein each of the one or more radial segments intersect a tumor boundary. Determining one or more respective tumor boundary parameters for each of the one or more radial segments may include determining for each of the one or more respective radial segments at least one of i an average rate in change in signal intensity over the radial segment ii a maximum rate in change in signal intensity over the radial segment iii a normalized signal intensity at the tumor boundary or iv a distance from the tumor boundary to the maximum signal intensity along the tumor margin within a predetermined distance.

To aid in the determination of the one or more respective tumor boundary parameters for each of the one or more radial segment signal intensity along each radial segment may be plotted as a function of distance. This may indicate the details in how the signal intensity varies as data points of the radial segment change from tumor to tumor involved tissue and then to normal surrounding tissue. One having skill in the art will appreciate that in some embodiments plotting signal intensity along each radial segment as a function of distance may be done computationally without actually creating a physical or graphical plot.

In some embodiments an average rate in change in signal intensity over the radial segment may be determined from the data points indicating signal intensity. Each rate of change may be defined as the signal intensity change for one pixel distance along the radial segment. These rates of change may be averaged. The average rate in change in signal intensity over the radial segment may related to the biological and or biophysical properties of tumor water as compared with water in normal tissue at the tumor boundary.

In some embodiments the average rate in change in signal intensity over the radial segment may be determined from the data points that are within a predetermined distance from the tumor boundary. In some embodiments the predetermined distance represents a surgical margin of error. For example one centimeter may be the surgical margin of error and therefore the average rate in change in signal intensity over the radial segment may be calculated from the data points that are within one centimeter from the tumor boundary. Referring to data points that are within one centimeter from the tumor boundary often fully or partially overlap transitional region .

In further embodiments a maximum rate in change in signal intensity over the radial segment may be determined from the data points indicating signal intensity. The maximum rate in change in signal intensity over the radial segment may indicate abrupt changes in tumor water. In some embodiments the maximum rate in change in signal intensity over the radial segment may be calculated from the data points that are within a predetermined distance from the tumor boundary as described above. Referring to the maximum rate in change of signal intensity is often in transitional region .

In some embodiments a normalized signal intensity at the tumor boundary may be determined from the data points indicating signal intensity. The normalized signal intensity at the tumor boundary indicates the maximum signal intensity relative to the signal intensity of the surrounding tissue. The normalized signal intensity at the tumor boundary may indicate tumor boundary biophysical water properties. In some embodiments the normalized signal intensity at the tumor boundary may be calculated from the data points that are within a predetermined distance from the tumor boundary as described above.

In some embodiments a distance from the tumor boundary to the maximum signal intensity within a predetermined distance from the tumor boundary may be determined. This parameter may be referred to as the boundary distance. The boundary distance may indicate spatial properties of the tumor boundary.

Each of the above described tumor boundary parameters may be determined for each of the determined radial segments. In some embodiments the determined parameters may be statistically analyzed. For example the parameters may be averaged. In addition a standard deviation may be determined. The minimum and maximum values may be determined as well. Other statistical measurements are possible as well.

One all or any combination of the above described tumor boundary parameters may be determined. In some embodiments additional tumor boundary parameters may also be calculated from the data points indicating signal intensity.

Referring to the first study described above the results of four MRI tumor boundary parameters and histopathology parameters for the twenty subjects in the first study is shown in Table 2 as follows 

Referring to the second study described above the results of four MRI tumor boundary parameters for included subjects in the second study is shown in Table 3 as follows 

At block the computing device determines a tumor margin based on the one or more determined tumor boundary parameters. In some circumstances the goal of determining a tumor margin is to determine a negative or tumor free margin. However in other circumstances the tumor margin may not be completely negative i.e. marginal in order to balance other surgical considerations such as the desire to avoid amputation with the desire to have a negative tumor margin. In some circumstances the determined boundary parameters may assist in determining a tumor margin that balances the surgical considerations.

In some embodiments the determined tumor boundary parameters for each radial segment may be used to determine a tumor margin point along the respective radial segment. The respective tumor margin points for each radial segments may be connected to form the determined tumor margin.

In some embodiments the maximum rate in change in signal intensity may indicate the tumor margin. A maximum rate in change in signal intensity may be determined for each radial segment. The point along the radial segment at which the maximum rate in change in signal intensity occurs may be the tumor margin point. Or the tumor margin point may be a point along the radial segment at which the signal intensity crosses below a threshold. The threshold may be determined from the signal intensity of the surrounding tissue. For example the average and standard deviation signal intensity of the surrounding tissue may be determined and used to determine the tumor margin point.

The determination of maximum rate in change in signal intensity may be repeated for each radial segment to determine a tumor margin point for each radial segment. The tumor margin points for each radial segment may be connected to determine the tumor margin.

Although the example above describes determining the tumor margin based on the maximum rate of change of each radial segment the tumor margin may be determined based on any of the tumor boundary parameters or any combination of tumor boundary parameters. For example a tumor margin may be based on the maximum rate of change of each radial segment but be adjusted by the normalized signal intensity at the tumor boundary among many other examples.

In the first study the ability of the tumor boundary parameters to differentiate positive from negative margins was tested via a non parametric rank test by taking histopathologic data from 20 patients and correlating with the MR tumor boundary parameters. The individual values of the tumor boundary parameters were each ranked and a boxplot was generated to compare the ranks of cases with positive margins versus those with negative ones. The p values are based on the non parametric rank test.

The boxplot is shown in . In slope refers to the rate of change. Distance refers to boundary distance. Max refers to maximum rate of change. Signal refers to normalized signal intensity at the tumor boundary. The parameters slope distance max and signal appear on the plot from left to right respectively. The dark line in the middle of each plot indicates the median. The dotted portions of each plot indicate the minimum and maximum of the parameters.

In the second study p values for the tumor boundary parameters were determined. The results are in Table 4 as follows 

In some embodiments the risk of tumor recurrence may be predicted based on the one or more determined tumor boundary parameters. More particularly in some embodiments the local and metastatic risk of tumor recurrence may be predicted based on the one or more determined tumor boundary parameters. A set of tumor boundary parameters may be determined for multiple patients. The outcome of each patient may be correlated to the respective tumor boundary parameters. Using these accumulated determined tumor boundary parameters that are correlated to patient outcome the risk of tumor recurrence for a patient currently diagnosed with cancer may be determined based on the patient s tumor boundary parameters.

Patients identified by the methods of the invention as at an increased risk of tumor recurrence may be treated more aggressively to limit the risk of recurrence including but not limited to chemotherapy and or radiation therapy prior to or following tumor removal as deemed most appropriate by an attending physician based on all relevant factors for an individual patient. For example identification of an increased risk of tumor recurrence may cause a physician to treat with pre or post or intra operative radiation therapy. In some circumstances accurate identification of a tumor at less risk for recurrence may suggest that less surrounding tissues may be removed. In some cases such as where the tumor is located in the abdomen removing less surrounding tissue may result in a greater organ function after surgery since less surrounding tissue was removed during surgery.

In the second study a boxplot was generated that compares boundary distance to histological margin status graphically. The model suggests that the boundary distance parameter is related to histological margin status p 0.01 . The boxplot is shown in . A logical regression was used to quantify the relationship shown in between boundary distance and histological margin status. This data is shown in Table 5.

The data in and Table 5 suggests that the boundary distance parameter may act as surrogate marker for histological margin status prior to surgery in order to assess prognosis.

At block the computing device causes a graphical representation of the determined tumor margin to be displayed on a graphical display. For example computing device of may cause a graphical representation of the determined tumor margin to be displayed on graphical display . Causing a graphical representation of the determined tumor margin to be displayed on a graphical display may assist a user such as a surgeon in planning or performing tumor resection surgery.

In some embodiments causing a graphical representation of the determined tumor margin to be displayed on a graphical user interface involves causing the graphical representation of the determined tumor margin to be overlaid over the image of the tumor and the surrounding one or more tissues. This arrangement may display the determined tumor margin to the surgeon during the planning or performance of tumor resection surgery.

In some embodiments the computing device causes a surgical instrument to move based on the determined tumor margin. For example the computing device may cause a computer assisted surgical instrument to move based on the determined tumor margin. Or the computing device may cause a robotic surgical instrument to move based on the determined tumor margin. Such instruments may be configured to assist in tumor resection. In some embodiments the imaging data includes in vivo imaging data for a patient and the computing device causes a surgical instrument to move based on the determined tumor margin.

In some embodiments the determined tumor margin may indicate physical coordinates. The surgical instrument may move according to the physical coordinates. The surgical instrument may move along the determined tumor margin to assist in resecting the tumor along the determined tumor margin.

In some embodiments causing a surgical instrument to move based on the determined tumor margin involves sending data indicating tumor margin coordinates to a surgical instrument. For example computing device in may send the data indicating tumor margin coordinates over system bus network or other connection mechanism . In such embodiments the data indicating tumor margin coordinates may be arranged to cause a surgical instrument to move based on the determined tumor margin. Other examples are possible as well.

While various aspects and embodiments have been disclosed herein other aspects and embodiments will be apparent to those skilled in the art. For example with respect to the flow charts depicted in the figures and discussed herein functions described as blocks may be executed out of order from that shown or discussed including substantially concurrent or in reverse order depending on the functionality involved. Further more or fewer blocks and or functions may be used and or flow charts may be combined with one another in part or in whole.

The various aspects and embodiments disclosed herein are for purposes of illustration and are not intended to be limiting with the true scope and spirit being indicated by the following claims. Other embodiments can be utilized and other changes can be made without departing from the spirit or scope of the subject matter presented herein.

