---

title: Application controller for quality-of-service configuration of a telecommunication device radio
abstract: An application controller of a telecommunication device to determine, for a packet flow of an application, a quality-of-service rule associated with the application is described herein. The application controller then configures a data bearer for a wireless communication stack of the telecommunication device with a quality-of-service specified by the quality-of-service rule and provides a packet of the packet flow for transmission to a remote recipient via the configured data bearer.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09596697&OS=09596697&RS=09596697
owner: T-Mobile USA, Inc.
number: 09596697
owner_city: Bellevue
owner_country: US
publication_date: 20130315
---
This application claims priority to U.S. provisional patent application No. 61 619 898 entitled Wireless Application Controller and filed on Apr. 3 2012. Application No. 61 619 898 is fully incorporated herein by this reference.

Quality of service QoS provides a mechanism for controlling performance reliability and usability of telecommunication services by specifying parameters for a connection such as priority and minimum bit rate. Typically QoS is specified by a network operator for a communication connection with a telecommunication device such as a video call a voice call a network browsing session or a media streaming session. For example the QoS for a video call may request a minimum reservation of downlink and uplink bandwidth.

QoS may specify how a given connection is handled on either or both of a telecommunication device or network devices. For example a data bearer of a telecommunication device may be configured with a QoS to use in transmitting packets for a specific packet flow. Network devices such as base stations may also utilize the QoS in allocating spectrum and prioritizing packets for transmission.

This disclosure describes in part an application controller of a telecommunication device that determines for a packet flow of an application a quality of service rule associated with the application. The application controller then configures a data bearer such as a radio bearer for a wireless communication stack of the telecommunication device such as a Long Term Evolution LTE stack with a quality of service specified by the quality of service rule and provides a packet of the packet flow for transmission to a remote recipient via the configured data bearer. The data bearer may be a Packet Data Protocol PDP Context when the telecommunication network is a Universal Mobile Telecommunications Systems UMTS network or an Evolved Packet System EPS bearer when the telecommunication network is a Long Term Evolution LTE network.

In various embodiments the application controller may be part of one or more applications of the telecommunication device and may configure a data bearer at the radio interface layer RIL of the telecommunication device and access QoS functionality through a QoS application programming interface API . Alternatively the application controller may be part of the operating system of the telecommunication device or may be a layer between the applications and operating system or between the operating system and RIL. In some embodiments the operating system may further include RIL extensions to enable the application controller to communicate with and configure the RIL by for example creating or configuring data bearers.

The telecommunication device may receive or retrieve the QoS rules from a network operator or service provider. The QoS rules may be provided a single time provided incrementally or may be provided and then updated at intervals. The QoS rules may specify parameters for network connections such as transmission priorities or minimum bit rates. If provided by the network operator the network operator may take into account both telecommunication device conditions and network conditions in generating and updating the QoS rules. For example the network operator may generate two different QoS rules for a same application each rule associated with a different cell of the telecommunication network. QoS rules may also be associated with time periods e.g. for the first n time units of a packet flow use a first QoS for the next m time units use a second QoS .

In some embodiments upon receiving a packet of a packet flow the application controller determines an application identifier for the application associated with the packet flow. The application identifier may include one or more of an internet protocol IP address a communication protocol a source port a destination port an application name a signature or a website name. The application controller may then use the application identifier to retrieve one or more QoS rules for the application from the received retrieved set of QoS rules.

In various embodiments the telecommunication device or user equipment UE may be any sort device capable of cellular or wireless network communication such as a cellular phone a tablet computer a personal digital assistant PDA a personal computer PC a laptop computer a media center a work station etc. The telecommunication device may be associated with a subscription to telecommunication services of a network operator of the telecommunication network . An example telecommunication device is illustrated in and described below with reference to that figure.

The applications may be any sort of network applications such as video call clients voice call clients network browsers social media clients messaging clients or media streaming clients. Such applications may send and receive both signaling and data in the form of packets such as packets . These packets may specify any or all of an IP address of a packet destination a communication protocol a source port of the telecommunication device a destination port of the packet destination an application name a signature or a website name. In some embodiments the applications may each include as a subcomponent an application controller . When the application controller is a subcomponent of an application either the application or the operating system may provide a QoS API to expose QoS configuration capabilities of the operating system and RIL .

In some embodiments the operating system may be any sort of telecommunication device operating system such as an iOS an Android operating system a Windows operating system or a Unix based operating system. The operating system may include capabilities that enable QoS configuration of data bearers of the RIL or alternatively RIL extensions that provide such QoS configuration capabilities. The operating system may also include the application controller as for example a modification of a kernel of the operating system .

The RIL may be an RIL of a network stack and may serve as an interface to a radio of the telecommunication device . The RIL may support a number of data bearers for different packet flows applications or categories of applications each data bearer associated with a set of connection parameters that may be described as a QoS. A data bearer may be created with a specific QoS such as a QoS specified by a QoS rule or a default QoS and may be updated with a different QoS. The wireless communication stack may communicate with the telecommunication network to inform the telecommunication network of a QoS specified for a packet flow or application . The data bearers may further receive packets either from the operating system or from the application controller and may transmit the packets over the telecommunication network via the radio of the telecommunication device . The data bearers may also receive inbound packets associated with their respective packet flows or applications and may provide those inbound packets to the applications . The QoS configurations of the data bearers may apply to either or both of inbound and outbound packet transmissions.

In various embodiments the QoS rules may be stored locally on the telecommunication device or remotely. The QoS rules may be stored in a database file collection or other data structure. In one embodiment they may be specified in an extensible markup language XML file. The telecommunication device receives or retrieves the QoS rules from a network operator or service provider. This network operator or service provider is illustrated in by the one or more rules servers . The QoS rules may be provided a single time provided incrementally or may be provided and then updated at intervals. The QoS rules may specify parameters for network connections such as transmission priorities or minimum bit rates. The rules server s may take into account both telecommunication device conditions and network conditions in generating and updating the QoS rules . For example the rules server s may generate two different QoS rules for a same application each rule associated with a different cell of the telecommunication network . QoS rules may also be associated with time periods e.g. for the first n time units of a packet flow use a first QoS for the next m time units use a second QoS . Further the QoS rules may be associated with a user subscription level as the rules server s may generate different sets of QoS rules for different subscription levels.

As mentioned above the application controller may be part of one of more applications or part of the operating system . Alternatively the application controller may be a layer such as a layer in a network stack. In such embodiments that layer may be between the applications and the operating system or between the operating system and RIL . Regardless of whether it is incorporate in the applications or operating system or is a layer the application controller is in the communication path from an application to a data bearer .

In various embodiments the application controller receives or traps packets provided by the applications for transmission via the radio of the telecommunication device . Upon receiving a packet the application controller determines the application identifier of the packet and determines whether a data bearer has been configured for the packet flow or application associated with that packet . If such a data bearer has been configured the application controller provides the packet to that data bearer for transmission. If no data bearer has been configured for the packet flow application associated with the packet the application controller utilizes the application identifier of the packet to retrieve a QoS rule from the set of QoS rules . To retrieve the QoS rule the application controller may utilize mappings of application identifiers to QoS rules or mappings of application identifiers to categories and categories to QoS rules . As mentioned the QoS rules may be stored locally on the telecommunication device or remotely at for example rules server s . In some embodiments no QoS rule may be associated with the application identifier of the packet . In such embodiments the application controller may utilize a default QoS to configure the data bearer .

The retrieved QoS rule specifies a QoS and the application controller uses that QoS to configure a data bearer . Configuring a data bearer may involve initiation of a new data bearer or modification to the QoS parameters of an existing data bearer . In some embodiments a QoS rule may specify multiple QoSs to be selected from by the application controller based on device information such as a current location or to be used sequentially e.g. for different time periods . Upon configuring the data bearer the application controller may provide the packet to the data bearer for transmission.

In various embodiments the application controller may apply one or more user preferences in conjunction with the QoS rule . For example the user preferences may specify a fast start to video calls and that preference may be used to select a QoS in a QoS rule or override the QoS in the QoS rule . To override the QoS specified by a QoS rule a user of the telecommunication device may be required to pay a fee or purchase a service plan upgrade.

In some embodiments the application controller may provide the telecommunication network with a list of applications running on the telecommunication device . The telecommunication network may utilize this information in configuring a QoS utilized by the telecommunication network for the telecommunication device . The telecommunication network may also utilize the list of applications in deciding whether to grant a request from a telecommunication device application for a specific QoS.

The telecommunication network may be a telecommunication network of a telecommunication service provider that provides a plan or services to the telecommunication device . The telecommunication network may include a core network and a plurality of access networks that are associated with base stations nodeBs eNodeBs or other access points. The access networks of the telecommunication network may each be associated with a specific geographic area e.g. a cell a macrocell a microcell a femtocell etc. . In some embodiments the telecommunication network may be a cellular network having spectrum to allocate for cellular communications. As described above such spectrum allocation may be responsive to a QoS specified by a QoS rule . For example a base station may receive a request for certain resources e.g. priority minimum bit rate from a telecommunication device and may allocate resources such as spectrum or may prioritize packet flows based on the request.

In various embodiments the application server s and rule server s may each be or include a server or server farm multiple distributed server farms a mainframe a work station a personal computer PC a laptop computer a tablet computer an embedded system or any other sort of device or devices. In one implementation one or more of the application server s and rule server s represent a plurality of computing devices working in communication such as a cloud computing network of nodes.

The application server s may be associated with any sort of network application and may provide services to any number of remote clients such as application . For example the application server s may be video call server s voice call server s web server s social media server s messaging server s or media streaming server s . The application server s may receive packets and may respond with packets that are received using the data bearer configured with the QoS.

In some embodiments the rule server s may be devices of the network operator or service provider associated with the telecommunication network . As mentioned the QoS rules specified by the rule server s may be specific to an application or a category of applications . In addition the rules may be specific to any one or more of a time period a location a telecommunication device a subscription associated with the telecommunication device a group of telecommunication devices or a telecommunication service plan. The rule server s may receive network information such as congestion conditions at cells from the telecommunication network . The rule server s may also receive telecommunication device information from the telecommunication device e.g. from the application controller or from the telecommunication network . The rule server s may utilize the network information and telecommunication device information in formulating QoS rules or updates to QoS rules . In some embodiments specification or updating of QoS rules may be triggered by the telecommunication network . As mentioned above the QoS rules may specify connection parameters such as priority and minimum bit rate. They may also each be associated with an application identifier either in the set of QoS rules itself or in an accompanying table or structure. In embodiments where rules are associated with categories the rule server s may generate a further mapping of application identifiers to categories and associate categories with QoS rules . The QoS rules may be provided periodically or responsive to the generating or updating or QoS rules . In one embodiment the QoS rules are stored at the rule server s and the application controller may retrieve specific QoS rules by providing an application identifier.

In various embodiments system memory is volatile such as RAM non volatile such as ROM flash memory etc. or some combination of the two. The application controller the radio interface layer applications the operating system are described above in detail with regard to . The other modules or data stored in the system memory may comprise any sort of applications or platform components of the telecommunication device as well as data associated with such applications or platform components.

In some embodiments the processor s is a central processing unit CPU a graphics processing unit GPU or both CPU and GPU or any other sort of processing unit.

Telecommunication device also includes additional data storage devices removable and or non removable such as for example magnetic disks optical disks or tape. Such additional storage is illustrated in by removable storage and non removable storage . Tangible computer readable media may include volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. System memory removable storage and non removable storage are all examples of computer readable storage media. Computer readable storage media include but are not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM digital versatile disks DVD or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by the telecommunication device . Any such tangible computer readable media may be part of the telecommunication device .

In some embodiments the radio includes any sort of radio known in the art and may be associated with a wireless communication stack. For example radio may include a radio transceiver that performs the function of transmitting and receiving radio frequency communications via an antenna. The radio may facilitate wireless connectivity between the telecommunication device and various cell towers base stations and or access points of the telecommunication network . In addition to radio the telecommunication device may also include a wireless communication transceiver and a near field antenna for communicating over unlicensed wireless IP networks such as local wireless data networks and personal area networks e.g. Bluetooth or near field communication NFC networks .

In some embodiments the output devices include any sort of output devices known in the art such as a display e.g. a liquid crystal display speakers a vibrating mechanism or a tactile feedback mechanism. Output devices also include ports for one or more peripheral devices such as headphones peripheral speakers or a peripheral display.

In various embodiments input devices include any sort of input devices known in the art. For example input devices may include a camera a microphone a keyboard keypad or a touch sensitive display. A keyboard keypad may be a push button numeric dialing pad such as on a typical telecommunication device a multi key keyboard such as a conventional QWERTY keyboard or one or more other types of keys or buttons and may also include a joystick like controller and or designated navigation buttons or the like.

At an application controller of the telecommunication device receives a packet associated with a packet flow from an application of the telecommunication device. The application controller may be part of the application part of an operating system of the telecommunication device or a layer that is between the application and the operating system or between the operating system and a radio interface layer of the telecommunication device.

At upon receiving the packet the application controller determines whether a data bearer has already been configured for the packet flow associated with the packet. At if a data bearer has already been configured the application controller provides the packet to the data bearer for transmission.

At in response to determining that a bearer has not been configured for the packet flow the application controller determines for the packet flow a QoS rule associated with the application. The determining may comprise retrieving the QoS rule from the set of QoS rules based on an application identifier associated with the application. The application identifier may include one or more of an IP address a communication protocol a source port a destination port an application name a signature or a website name. The determined QoS rule may specify at least one of a priority or a minimum bit rate. Also the QoS rule may specify different qualities of service for uplink and downlink communications of packets of the packet flow.

At if the result of the determination is that there is no QoS rule for the application the application controller utilizes a default QoS to configure a data bearer.

At the application controller configures a data bearer for a wireless communication stack of the telecommunication device with a QoS specified by the QoS rule. At the configuring is further based at least in part on one or more user quality of service preferences. At the configuring comprises configuring the data bearer with a first quality of service for a time period and with a second quality of service at the expiration of the time period.

At the telecommunication device transmits the packet via the configured data bearer and in accordance with the QoS specified by the QoS rule to a remote recipient.

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described. Rather the specific features and acts are disclosed as exemplary forms of implementing the claims.

