---

title: Synchronizing annotations between printed documents and electronic documents
abstract: An image of a printed document portion is provided to a synchronizer. The synchronizer retrieves an electronic version of the printed document and identifies an electronic text portion that is textually similar to a printed text portion. The synchronizer detects an annotation in the printed document portion and inserts a corresponding digital annotation into the electronic document.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09436665&OS=09436665&RS=09436665
owner: THOMSON REUTERS GLOBAL RESOURCES
number: 09436665
owner_city: Baar
owner_country: CH
publication_date: 20130228
---
The popularity of e books and other electronic documents has increased among readers such as legal practitioners medical practitioners students and others in recent years. Some of these readers maintain a printed version of a document as well as an electronic version of the document. Many readers have grown accustomed to annotating printed documents by highlighting and underlining portions of text writing notes in the margins writing notes between lines of printed text crossing out printed text and the like. While conventional e books and other electronic documents sometimes allow for digital annotations to be added directly via a reading device a reader often must continue to refer to a printed version of a document that he or she has initially annotated as these electronic document platforms do not enable synchronization of annotations between a printed document and an electronic version of the printed document.

Embodiments of the present invention disclosed herein facilitate synchronization of annotations between a printed document and an electronic document. In embodiments an image of a portion of a printed document is provided to a synchronizer. The synchronizer may retrieve an electronic version of the printed document and identify an electronic text portion that is textually similar to a printed text portion. According to embodiments the synchronizer detects an annotation in the portion of the printed document and inserts a corresponding digital annotation in the identified textually similar portion of the electronic document.

While the present invention is amenable to various modifications and alternative forms specific embodiments have been shown by way of example in the drawings and are described in detail below. The present invention however is not limited to the particular embodiments described. On the contrary the present invention is intended to cover all modifications equivalents and alternatives falling within the ambit of the present invention as defined by the appended claims.

Although the term block may be used herein to connote different elements of illustrative methods employed the term should not be interpreted as implying any requirement of or particular order among or between various steps disclosed herein unless and except when explicitly referring to the order of individual steps.

In embodiments a reader such as a student doctor or attorney may wish to maintain both a printed version of a document and an electronic version of the document or to begin using only an electronic version of a document after having used the printed version. The printed document may include any number of annotations such as for example highlights underlines handwritten notes flags and the like that the reader may wish to have available in the electronic version of the document. Embodiments of the present invention include a synchronizer that facilitates synchronization of annotations such as these between the printed document and the electronic version so that the annotations may be available to the reader in the electronic version of the document. For example the reader may create images of annotated portions of the printed document e.g. using a camera or scanner and provide those images to the synchronizer or the reader may provide the printed document to a scanning service which may in embodiments be associated with the synchronizer . The scanning service may use a scanning device to create images of the annotated portions of the printed document and provide the resulting images to the synchronizer. Additionally in embodiments the synchronizer may facilitate navigation of an electronic version of a printed document such as for example to facilitate direct insertion by the reader of digital annotations into the electronic version. For example a reader may provide an image of a portion of the printed document to the synchronizer which uses the image to locate and display a corresponding portion of the electronic document into which the reader may directly insert a digital annotation.

As the name implies the reading device is in embodiments what the reader uses to read electronic documents and includes a display upon which the copy of the electronic document may be displayed. In embodiments the electronic document and the copy are electronic versions of a printed document not shown and may be in its original non annotated form or an annotated form. An electronic version of a printed document may include the same or substantially similar content as the printed document but may also include different content. For example an electronic version of a printed document may include an updated publication e.g. edition of the printed document an annotated version of the printed document and the like. Examples of documents both printed and electronic include books articles court decisions collections of statutes treatises footnotes reference notes translation notes and the like.

In embodiments a user not shown downloads the copy of the electronic document by utilizing the reading device to access the server through a communications network such as for example a local area network an enterprise network the Internet or the like. The copy of the electronic document may also be provided to the reading device via a removable memory device such as for example a compact disc a flash drive or the like. According to embodiments the electronic document and copy thereof may be embodied in one or more files using any number of various formats such as for example DjVu EPUB FictionBook Kindle Microsoft Reader eReader Plucker plain text in ASCII UNICODE markup languages a platform independent document format such as portable document format pdf and the like. The electronic document and or copy thereof may also be embodied in the Thomson Reuters ProView format available from Thomson Reuters of New York N.Y. Examples of markup languages and corresponding markup language files include Hypertext Markup Language HTML Extensible Markup Language XML Extensible Hypertext Markup Language XHTML and the like.

As shown in the reading device includes a processor and a memory . According to embodiments the reading device is a computing device and may for example take the form of a specialized computing device or a general purpose computing device such as a personal computer workstation personal digital assistant PDA mobile telephone smartphone tablet notebook or the like. An e reader component is stored in the memory . In embodiments the processor executes the e reader component which may cause at least a portion of the copy of the electronic document to be displayed on the display . The e reader component also may facilitate other operations and interactions associated with the copy such as for example inserting digital annotations searching bookmarking and the like as explained in greater detail below. In embodiments the e reader component may access the server to cause at least a portion of the electronic document to be displayed on the display .

As shown in the server includes a processor and a memory . The synchronizer may be stored in the memory . In embodiments the processor executes the synchronizer which may facilitate navigation of an electronic document or a copy thereof e.g. by interacting with a reading device and synchronization of annotations between a printed document and an electronic document and or a copy thereof . The electronic document may be stored in a content store in the memory . In embodiments to facilitate synchronization of annotations an image of a portion of a printed document referred to herein as a printed document portion is provided to the server which may also store the image in the content store .

According to embodiments a printed document portion may include one or more annotations in proximity to a portion of printed text referred to herein as a printed text portion and may be contained on one or more pages of one or more printed documents. Annotations may include for example highlights underlines handwritten notes in a margin or between lines of printed text bookmarks adhesive flags and the like. A printed text portion may include for example one or more chapters one or more paragraphs one or more lines one or more words one or more characters one or more parts of a chapter paragraph line word or character or the like. Additionally a printed text portion may include a passage of text and one or more corresponding footnotes endnotes figures tables or the like.

According to embodiments the image of the printed document portion may be created for example using a camera integrated with the reading device e.g. where the reading device is a smartphone or tablet computer and may be provided to the server by way of the communications network . For example a reader may use the camera to photograph i.e. create an image of an annotated portion of a printed document and communicate the image to the server along with a request that an electronic version of the printed document be modified to include digital annotations corresponding to the annotations appearing in the image . The server may respond to the request by inserting the digital annotations and providing a copy of the electronic document having the corresponding digital annotations to the reading device or by instructing the e reader component on the reading device to insert the annotations.

In embodiments the image may also be created using a scanning device such as an industrial scanner or any other type of imaging device not shown . For example an individual or entity e.g. a library school law firm or the like may provide annotated printed documents to a service provider associated with the server . The service provider may utilize an industrial scanner for example to scan large numbers of documents entire books or the like and provide the images created from the scanning process directly to the server . In embodiments a scanning service may utilize a scanning device and provide the resulting images to the server by way of the communications network .

According to embodiments to facilitate synchronization of annotations the synchronizer retrieves or otherwise accesses at least a portion of the image from the content store and retrieves or otherwise accesses at least a portion of an electronic version e.g. electronic document of the printed document. The synchronizer identifies a portion of electronic text referred to herein as an electronic text portion in the electronic document that corresponds to the printed text portion captured in the image . According to embodiments an electronic text portion corresponds to a printed text portion if the two text portions are textually similar. Textual similarity may for example refer to a degree of similarity between two portions of text and may be defined for example in the context of statistical measures ratios or the like. For example two text portions may be textually similar if they have a certain number e.g. as compared with other adjacent text portions of matching characters character n grams or the like.

Additionally in embodiments the synchronizer may be configured to analyze the image to detect annotations in the printed document portion and may also be configured to interpret detected annotations. For example the synchronizer may detect an annotation within an image of a printed document portion and may determine an annotation type e.g. highlight underline and the like of the detected annotation. According to embodiments one or more reviewers may be utilized e.g. via a crowd sourcing model to facilitate detection and or interpretation of annotations as well as creation modification and or verification of digital annotations. For example the server may provide an image of a handwritten annotation to a reviewing device e.g. via the communications network so that a reviewer may assist in creating the digital annotation by detecting interpreting and or transcribing the handwritten annotation into digital text which may be searchable using the reading device . In embodiments additional reviewers may verify the first reviewer s interpretations of the handwritten annotation. Crowd sourcing platforms may be used to interact with reviewers and may include crowd sourcing platforms integrated with the server or independent platforms such as for example Amazon Mechanical Turk provided by Amazon.com Inc. of Seattle Wash. U.S.A. Artificial intelligence algorithms may also be utilized to interpret modify and or verify digital annotations.

The synchronizer may insert a digital annotation corresponding to the detected annotation into the electronic document and in embodiments the e reader component may insert the digital annotation into the copy of the electronic document . For example the synchronizer may provide an instruction to the e reader component that causes the e reader component to insert the digital annotation into the copy of the electronic document . Examples of a digital annotation include but are not limited to an image of a detected annotation electronic text a formatting object e.g. code causing a portion of rendered electronic text to include a highlight an underline or the like an electronic bookmark digital flag a hyperlink a set of instructions for modifying a portion of the electronic document or copy thereof and the like.

Embodiments of the present invention also may facilitate various operations for managing digital annotations. For example the synchronizer and or the e reader component may be configured to remove a digital annotation from an electronic document or copy thereof that had previously been inserted during a synchronization process and that is no longer found in the corresponding printed document. In addition the synchronizer and or e reader component may be configured to distinguish between digital annotations that were inserted during a synchronization process referred to herein as migrated digital annotations and digital annotations that were added directly to the electronic document or copy thereof referred to herein as direct digital annotations . In embodiments a digital annotation may include an attribute that specifically indicates whether the digital annotation was inserted during a synchronization process or was added directly by a reader. The attribute may be represented by a value of a tag that is associated with the electronic document and the synchronizer may determine whether the annotation is a migrated digital annotation or a direct digital annotation by determining the value of the tag. In this manner embodiments of the present invention may facilitate removal of migrated digital annotations while minimizing unintentional removal of direct digital annotations.

Tag values may also be associated with particular annotation migrations. For example a reader may place a first sticky note related to a first piece of content e.g. a first legal case in a printed document. When a first digital annotation corresponding to the first sticky note is inserted into an electronic version of the printed document a tag value associated with the digital annotation may provide information about the instance of the migration. The tag value may for example indicate that the first digital annotation is related to the first case e.g. where the reader can specify the tag value was created at a particular time or the like. Subsequently the reader might remove the first sticky note from the printed document and replace it with a second sticky note related to a second piece of content e.g. a second legal case . In embodiments a second digital annotation corresponding to the second sticky note may also be inserted into the electronic document and may have an associated tag value indicating for example that it is related to the second legal case. The reader may be presented with an option for maintaining or removing the first digital annotation customizing tag values associated with first and or second digital annotations or the like.

Embodiments of the invention also facilitate manipulation of digital annotations. For example digital annotations may be stored as separate items attached to the electronic document that may be manipulated or digital annotations may be integrated within the electronic document which may be manipulated. Additionally the synchronizer and or the e reader component may be configured to adjust the positions of digital annotations such that new digital annotations do not obscure existing digital annotations. In embodiments the synchronizer and or the e reader component may allow a reader to search manipulate reposition edit delete or otherwise manage digital annotations.

Embodiments of the present invention also may facilitate selective display of digital annotations. For example if the copy of the annotated electronic document is used during a court session it might be desirable to display a section of the copy to opposing counsel the judge and or the jury without displaying one or more digital annotations contained therein. Thus the e reader component may include an option for hiding one or more digital annotations when the copy is displayed. To facilitate this a digital annotation may include a tag that allows for showing or hiding the digital annotation based on the value of the tag. For example a reader may specify that digital annotations having a certain tag value e.g. digital annotations related to a first legal case as discussed in the example above are to be hidden. The value of the tag also may enable conditional formatting of a digital annotation. For example the size shape file format and or layout of a digital annotation may be adjusted based on a value of the tag which may be static or dynamic and may be assigned based on characteristics of nearby digital annotations memory constraints available screen area reading device capabilities or the like. Additionally tag values may be generated manually or automatically. For example the e reader component may assign a particular value to a tag based on an event or condition and the e reader component may cause a selectable option e.g. a button or icon to be presented on the display so that upon receiving a selection of the option one or more annotations that may otherwise be displayed are not displayed.

According to embodiments various components of the operating environment illustrated in can be implemented on one or more computing devices. For example each of the server the reading device the scanning device and the reviewing device may be or include one or more computing devices. A computing device may include any type of computing device suitable for implementing embodiments of the invention. Examples of computing devices include workstations servers laptops desktops tablet computers hand held devices e book readers and the like all of which are contemplated within the scope of and reference to various components of the operating environment .

In embodiments a computing device includes a bus that directly and or indirectly couples the following devices a processor a memory an input output I O port an I O component and a power supply. Any number of additional components different components and or combinations of components may also be included in the computing device. The bus represents what may be one or more busses such as for example an address bus data bus or combination thereof . Similarly in embodiments the computing device may include a number of processors a number of memory components a number of I O ports a number of I O components and or a number of power supplies. Additionally any number of these components or combinations thereof may be distributed and or duplicated across a number of computing devices.

In embodiments the memories and include computer readable media in the form of volatile and or nonvolatile memory and may be removable nonremovable or a combination thereof. Media examples include Random Access Memory RAM Read Only Memory ROM Electronically Erasable Programmable Read Only Memory EEPROM flash memory optical or holographic media magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices data transmissions or any other medium that can be used to encode information and can be accessed by a computing device such as for example quantum state memory and the like. In embodiments the memories and store computer executable instructions for causing the processors and respectively to perform aspects of embodiments of methods and procedures discussed herein. Computer executable instructions may include for example computer code machine useable instructions and the like such as for example program components capable of being executed by one or more processors associated with a computing device. Examples of such program components include the e reader component and the synchronizer . Some or all of the functionality contemplated herein may also be implemented in hardware and or firmware.

The illustrative operating environment shown in is not intended to suggest any limitation as to the scope of use or functionality of embodiments of the present invention. Neither should the illustrative operating environment be interpreted as having any dependency or requirement related to any single component or combination of components illustrated therein.

According to embodiments the detection component detects an annotation in a printed document portion . For example the detection component may receive an image of the printed document portion e.g. from the memory and may perform one or more procedures to detect the annotation . In embodiments the detection component may also identify an annotation type of the annotation . Examples of annotation types include text highlights underlines flags bookmarks and the like. Any number of different types of procedures may be used to detect annotations and or identify annotation types. Examples of such procedures may include handwriting recognition procedures optical character recognition OCR procedures bitmap comparison procedures statistical language models statistical classifiers neural networks crowd sourcing and the like.

For example the detection component may analyze the image e.g. by examining pixels or blocks of pixels to establish patterns associated with the printed text portion and to detect an anomalous feature or features that may represent the annotation . Examples of such anomalous features may include instances of different colors e.g. associated with highlighting instances of irregular shapes and edges e.g. associated with handwritten notes or underlining instances of obscured text or geometric shapes having different shades of color e.g. associated with sticky notes flags or bookmarks and the like. For example a printed text portion may have been highlighted with a yellow text marker which may be detected as a yellow feature partially overlapping a printed text portion. In embodiments the detection component may use statistical techniques to determine a probability that a detected anomaly represents an annotation .

According to embodiments the detection component may detect the annotation in the printed document portion by comparing the image of the printed document portion to at least a portion of the electronic document . For example where the matching component is utilized before the detection component the matching component may provide an indication to the detection component of an electronic text portion that corresponds to the printed text portion . The detection component may for example access or create a bitmap of a corresponding portion of the electronic document and compare that bitmap to a bitmap e.g. the image of the printed document portion to identify differences between the two bitmaps. A difference in the bitmaps may represent for example the presence of the annotation that is not present in the electronic document . A difference in the bitmaps may also represent the presence of a digital annotation not shown in the electronic document that is not present in the printed document portion .

In embodiments the detection component may utilize an image zoning procedure to partition the image into zones. An image zoning procedure may define one or more text zones corresponding to printed text and one or more candidate zones corresponding to areas that may include annotations such as for example portions of a margin. The image zoning procedure may define a margin as a region that is to the left or right respectively of a left most or right most text zone. In embodiments a text zone may also be a candidate zone. A handwriting recognition process may be applied to a zone in an attempt to recognize handwriting. If the handwriting recognition process is successful in recognizing handwriting within the zone the detection component may identify the recognized handwriting as an annotation. Recognizing handwriting may include converting the handwriting into searchable electronic text which can be inserted into the electronic document as a direct digital annotation.

In embodiments a portion of handwriting may not be recognizable by the handwriting recognition procedure or the zone may not include handwriting and as a result the handwriting recognition procedure may be unsuccessful in recognizing handwriting. Additionally a handwriting recognition procedure may be unavailable or impractical e.g. due to memory constraints . In such cases other types of analysis may be performed on the zone to determine whether it contains unrecognizable handwriting or other types of annotations. For example an OCR procedure may be applied to attempt to identify annotations within the zone e.g. by labeling detected features within the zone that are not able to be mapped to a textual character by the OCR procedure as described in further detail below with reference to . In embodiments a region detection procedure may be used to identify regions of consistent color overlaying or adjacent to detected printed text which may facilitate identification of highlighting underlining and the like. Any number of statistical classifiers heuristics neural networks and the like may be utilized to detect annotations and tools such as these may be periodically or continually enhanced using machine learning techniques. As indicated above the detection component also may determine the type of annotation that it detects. For example the detection component may determine that a detected annotation in the printed document portion is of a particular annotation type based at least in part on look up tables characteristics of the annotation feedback from a reviewer output from classifiers and the like.

As indicated above the matching component is configured to access at least a portion of an image of a printed document portion from a memory e.g. memory shown in and to access at least a portion of an electronic document from a memory. The matching component identifies an electronic text portion in the electronic document that corresponds to e.g. is textually similar to a printed text portion in the printed document portion . The matching component may utilize algorithms incorporating OCR techniques parsing techniques and or the like to identify an electronic text portion that is textually similar to a printed text portion .

In embodiments an electronic version of a printed document may not include identical text to that of the printed document. For example a printed text portion may include a passage of text and three corresponding footnotes while the corresponding electronic text portion may include the passage of text and four corresponding footnotes e.g. the fourth footnote may discuss a recently decided case where e.g. the electronic version is a more recent edition of the document. To facilitate identification of corresponding text portions in a manner that takes into account textual variances such as these algorithms utilized by the matching component may be configured to evaluate textual similarities between the text portions and . As stated previously textual similarity may refer to a degree of overlap between recognized e.g. via OCR characters in the printed text portion and characters in the electronic text portion . For example the matching component may use n gram searching techniques to identify a set of lines of an electronic document that includes the largest number of n grams that match n grams of the recognized text of the printed text portion . In embodiments the matching component may utilize any number of statistical matching techniques to evaluate textual similarity.

In some cases the printed text portion may include only portions of words and or characters. For example the image may be captured in such a way that the entire printed document portion is not captured within the image or a sticky note or other object may obscure part of the printed text portion when the image is captured. In embodiments identical matching of text may be complicated by inaccurate character recognition during OCR procedures. According to embodiments the matching component may utilize character pruning techniques to facilitate evaluation of textual similarities between the text portions and . Turning briefly to a portion of a printed document is illustrated having a printed text portion . When a user captures a region of the printed document portion using an imaging device the captured region may include only part of the printed text portion as illustrated. When the captured region is digitized to create an image the image may include incomplete text lines words or characters. For example as shown in the illustrated image includes partial words some of which include partial characters. When the image is processed using an OCR procedure the resulting recognized electronic text may include recognition errors illustrated as underlined characters . The character sequences e.g. partial words that include the recognition errors may not be able to be precisely matched to entries in an OCR dictionary and may potentially reduce the efficiency and or effectiveness of the matching procedure. In embodiments suffix arrays regular expression matching e.g. using wildcard characters and or approximate string matching methods e.g. Edit Distance algorithms may be utilized to interpret the character sequences containing the recognition errors .

Additionally embodiments of the invention include removing the character sequences containing the recognition errors to create pruned recognized electronic text . The pruned recognized electronic text which includes the recognized electronic text without the recognition errors may be used to facilitate a matching procedure. The matching procedure may involve evaluating textual similarity rather than identity and thus a portion of recognized text that has been pruned may still be useful in identifying a corresponding electronic text portion. For example one or more search queries may be used to search the electronic document for corresponding electronic text portions and may result in retrieval of electronic text portions that are ranked so as to enable one or more of them to be identified as corresponding electronic text portions. Identification of corresponding electronic text portions may be further facilitated using crowd sourcing models by presenting one or more retrieved electronic text portions e.g. the top ranked retrieved electronic text portions electronic text portions with similar ranking or the like to a reader or reviewer and soliciting input from the reader or reviewer that may be used to identify or confirm the corresponding electronic text portion. Crowd sourcing may also be used for correction of OCR recognition errors. For example the character sequences containing the recognition errors and in embodiments surrounding character sequences may be provided to reviewers who may verify the OCR interpretation or provide suggestions for correct interpretation of the character strings.

According to embodiments of the invention the matching component may utilize various procedures classifiers and the like for determining which parts of a recognized text portion to prune. For example recognition errors may appear near the boundaries of a recognized text portion and recognized words near one or more of the boundaries that are not found in the OCR dictionary may be pruned. Additionally the image of the printed document portion can be analyzed to determine which regions of the image include printed text which may also be useful in facilitating pruning procedures.

Returning to the synchronizer may include a digital annotation component that facilitates insertion of a digital annotation into the electronic document or into a copy thereof . Inserting a digital annotation into an electronic document or copy may include for example inserting electronic text e.g. as a direct digital annotation provided by a reader as a migrated digital annotation or the like adding code corresponding to the digital annotation to an extensible markup language associating an annotation file with an electronic document file embedding the digital annotation within an electronic document file or the like. The digital annotation component may facilitate insertion of the digital annotation by inserting the digital annotation into the electronic document and or a copy thereof which may then be provided to the reading device .

According to embodiments the digital annotation component inserts the digital annotation by accessing the electronic text of the electronic document using an application programming interface API . For example the digital annotation component may insert a digital annotation into a pdf document using the Adobe Developer s API available from Adobe Systems Inc of San Jose Calif. The digital annotation may be inserted into an HTML based electronic document by providing an HTML overlay or by providing a metadata file or schema and by inserting into the HTML file a pointer to the metadata file or schema. The digital annotation may be generated using a handwriting recognition procedure and may be inserted into the electronic document as searchable electronic text. Additionally the digital annotation component may facilitate insertion of the digital annotation by providing the digital annotation to the e reader component which inserts the digital annotation into the copy of the electronic document . The digital annotation component may provide an instruction that is communicated to the e reader component and that causes the e reader component to insert the digital annotation into the copy of the electronic document .

As described above a synchronizer may facilitate navigation of an electronic document and or synchronization of annotations between a printed document and an electronic document. is a flow diagram depicting an illustrative method of synchronizing annotations between a printed document and an electronic document in accordance with embodiments of the present invention. Embodiments of the method include receiving an image of a printed document portion block . The printed document portion may include an annotation in proximity to a printed text portion. A synchronizer e.g. synchronizer shown in may receive the image from a reading device e.g. reading device shown in a scanning device e.g. scanning device shown in or the like and may store the image in a memory e.g. memory shown in .

The synchronizer may retrieve the image and an electronic document from the memory block . The synchronizer may use language modeling techniques OCR or the like to identify the electronic document that corresponds to the printed text portion. This may include using a language classifier to determine the language in which the book is written. In embodiments of the method the synchronizer identifies an electronic text portion within the electronic document that corresponds to the printed text portion block . For example the synchronizer may include a matching component e.g. matching component shown in that identifies an electronic text portion that is textually similar to the printed text portion. The matching component may perform a search within the electronic document in which lines of the printed text portion are phrasal queries that are applied against an indexed form of the electronic document. The indexed electronic document may include for example suffix arrays. Multiple phrasal queries leading to top ranked retrieval results may be used to identify the corresponding electronic text portion.

Embodiments of the method also include detecting an annotation in the printed document portion block . For example a detection component e.g. detection component shown in may detect the annotation by analyzing an image of the printed document portion. Annotations may be detected using OCR procedures handwriting recognition procedures classifiers or a combination of these as described in more detail below with reference to . As shown in a digital annotation corresponding to the detected annotation is inserted into the electronic document and or a copy of the electronic document block . As described above the digital annotation may be inserted into the electronic document by the synchronizer or may be inserted into a copy of the electronic document by an e reader component e.g. e reader component shown in . The digital annotation may be inserted in proximity to the corresponding electronic text portion at a location that at least substantially corresponds to the location of the detected annotation in the printed document portion.

Embodiments of the method include performing a handwriting recognition procedure block on a candidate zone which may for example be utilized to detect handwritten annotations in the candidate zone. Additionally handwritten text in text zones e.g. between lines of printed text may be identified using classifiers that distinguish between handwriting and printed text. Examples of such classifiers include support vector machine SVM classifiers k nearest neighbor K NN classifiers Fischer discriminators neural networks minimum distance classifiers and the like.

An OCR procedure may be performed on the candidate zone . The OCR procedure may be used to extract features from the candidate zone and to determine if the extracted features are associated with printed text. If the OCR procedure does not result in detecting any printed text an inference may be made that the candidate zone may contain annotations. Similarly if the OCR procedure detects printed text in only a part of the candidate zone an inference may be made that other parts of the candidate zone may contain annotations. The OCR procedure may include for example feature extraction matrix matching or a combination of these.

Embodiments of the method include applying a character level statistical language model block to features extracted by the OCR procedure. The character level statistical language model may be used to calculate a probability that an extracted feature includes a character string that is typical of a particular language e.g. P s where sis a character sequence. Additionally a word level statistical language model block may be applied to extracted features and may for example be used to calculate a probability that an extracted feature includes a word sequence typical of a particular language e.g. P s where sis a word sequence. The language models may be applied to facilitate determining whether the extracted features likely are associated with printed text.

Embodiments of the method further include determining color information associated with the candidate zone block . For example the image of the printed document portion may be a color photograph and the detection component may analyze the photograph to identify each pixel that includes a color e.g. other than black or white the color of each pixel characteristics of pixel colors e.g. hue saturation intensity and the like. In this manner for example regions of color in a candidate zone may be detected and used to facilitate detection of an annotation and or identification of an annotation type corresponding to a detected annotation. For example a relatively square region of yellow pixels in a candidate zone defined in a margin may be identified as a yellow sticky note whereas a narrower rectangular region of pink pixels in a text zone may be identified as highlighting. Supervised machine learning methods may be used to distinguish between different kinds of annotations e.g. sticky notes versus handwritten marginal notes versus green text marker highlighting .

Embodiments of the method further include comparing the image to a corresponding electronic document portion block . A bitmap of the image may be compared to a bitmap of the corresponding electronic document portion to evaluate differences between the pixels of the two bitmaps. For example a detection component may overlay the image bitmap on the electronic document portion bitmap and reorient the overlaid bitmaps until a minimum number of overlap pixel differences are obtained. The pixel differences that remain e.g. pixels that appear in the image bitmap that do not also appear in the electronic document bitmap or vice versa may represent annotations. Additionally noise thresholds may be utilized to ignore small differences e.g. 1 or 2 disconnected pixels that may represent for example dust particles camera lens blemishes or the like. As with any of the other procedures described herein the bitmap comparison procedure may be enhanced using machine learning techniques.

Embodiments of the method include classifying the candidate zone block . For example a binary statistical classifier may be utilized to classify the candidate zone as either containing an annotation or not. The classifier may consider input features such as information generated from one or more of the steps of embodiments of method described above such as for example P s P s color information bitmap overlay pixel differences the dimensions of the candidate zone and the position of the candidate zone with respect to a margin of the printed page. For example the classifier may take as inputs x y w and h where x is the horizontal distance of the candidate zone from the margin of the page y is the vertical distance of the candidate zone from the margin of the page w is the width of the candidate zone and h is the height of the zone all of which may be determined during partitioning. In embodiments the classifier may take as input any number of different types of information in addition to or in lieu of those discussed above. Additionally the classifier may be trained using any number of machine learning techniques to enhance its ability to classify zones. Examples of features that may be used to train the classifier include color hue saturation underlining handwriting fonts margin positions pixel noise and the like.

While embodiments of the present invention are described with specificity the description itself is not intended to limit the scope of this patent. Rather the inventors have contemplated that the claimed invention might also be embodied in other ways to include different steps or features or combinations of steps or features similar to the ones described in this document in conjunction with other technologies.

