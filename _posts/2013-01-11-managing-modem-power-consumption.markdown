---

title: Managing modem power consumption
abstract: Methods, systems, and devices are described for managing power consumption in a modem of a mobile device. A receive power associated with a receiver of the modem may be measured during a scheduled power-up of the modem associated with checking for paging messages. A power consumption metric associated with transmitting a pending wireless data transaction at a transmitter of the modem may then be estimated based on the measured receive power associated with the receiver. A determination of whether to transmit the pending wireless data transaction at a first time may then be made based at least in part on the estimated power consumption metric.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09367113&OS=09367113&RS=09367113
owner: QUALCOMM Incorporated
number: 09367113
owner_city: San Diego
owner_country: US
publication_date: 20130111
---
The technology discussed in this patent application relates generally to wireless communication and more specifically to managing modem power consumption in a mobile device. Embodiments of the present invention can be utilized in varying features for communication components.

Wireless communications systems are widely deployed to provide various types of communication content such as voice video packet data messaging broadcast and so on. These systems may be multiple access systems capable of supporting communication with multiple users by sharing the available system resources e.g. time frequency and power . Examples of such multiple access systems include code division multiple access CDMA systems time division multiple access TDMA systems frequency division multiple access FDMA systems and orthogonal frequency division multiple access OFDMA systems.

Many mobile devices are battery powered. The battery of a mobile device may store a finite amount of energy for powering the mobile device between charging cycles. The size of many mobile devices constrains the size of battery available to those devices and therefore the amount of energy available to power them. Moreover certain components of the mobile device including the transmitter and receiver of the modem may consume a relatively large amount of power when active. Thus a need exists for solutions that manage modem power consumption in a mobile device to extend the battery life of the mobile device.

The following presents a summary of one or more aspects of the present disclosure to provide a basic understanding of such aspects. This summary is not an extensive overview of all contemplated features of the disclosure and is intended neither to identify key or critical elements of all aspects of the disclosure nor to delineate the scope of any or all aspects of the disclosure. The summary s purpose is to present some concepts of one or more aspects of the disclosure in a simplified form as a prelude to the more detailed description that is presented later.

Methods devices systems and computer program products are disclosed for managing power consumption in a mobile device. When a wireless data transaction e.g. transmission of wireless data is pending at the mobile device a receive power associated with a receiver of the modem may be measured during a scheduled power up of the modem associated with checking for paging messages. A power consumption metric associated with transmitting the pending wireless data transaction may be estimated based on the measured receive power. The determination of whether to transmit the pending wireless data transaction during a first period of time may then be made based at least in part on the estimated power consumption metric.

According to a first set of examples a method of managing power consumption in a modem of a mobile device may include measuring during a scheduled power up of the modem associated with checking for paging messages a receive power associated with a receiver of the modem estimating a power consumption metric associated with transmitting a pending wireless data transaction at a transmitter of the modem based on the measured receive power associated with the receiver and determining whether to transmit the pending wireless data transaction at a first time. The determination may be based at least in part on the estimated power consumption metric.

In certain examples the power consumption metric may be estimated by performing a predetermined mapping function to derive the power consumption metric from the measured receive power of the receiver. The measurement of the receive power of the receiver and the predetermined mapping function may in certain examples be performed during each scheduled power up of the modem to check for paging messages. Performing the predetermined mapping function may include for example mapping the measured receive power to a transmit power mapping the transmit power to an instantaneous cost of transmission and mapping the instantaneous cost of transmission to a total cost of transmitting the pending wireless data transaction.

In certain examples the method may include determining not to transmit the pending wireless data transaction at the first time based on the power consumption metric and estimating a second power consumption metric for the pending wireless data transaction at a second time after the first time. The modem may be powered down based at least in part on the determination not to transmit the pending wireless data transaction at the first time. In certain examples a determination to transmit the pending wireless transaction at the second time may be made based at least in part on the received second power consumption metric.

In certain examples the method may include determining not to transmit the pending wireless data transaction at the first time based on power consumption metric determining that a timer associated with the pending wireless data transaction has expired and transmitting the pending wireless data transaction based at least in part on the expiration of the timer. A priority associated with the pending wireless data transaction may be increased in response to the determination that the timer has expired and the pending wireless data transaction may be transmitted based at least in part on a determination that the increased priority of the pending wireless data transaction outweighs the power consumption metric.

In certain examples the method may include identifying a priority associated with the pending wireless data transaction and comparing the priority associated with the pending wireless data transaction with the power consumption metric associated with transmitting the pending wireless data transaction. The determination of whether to transmit the wireless data transaction may be based on the comparison.

In certain examples the method may include transmitting an indication of the power consumption metric to an application associated with the pending wireless data transaction over an application programming interface API . The transmission of the power consumption metric to the application over the API may occur in response to a request for the power consumption metric received at the modem over the API from the application. In certain examples the power consumption metric may be classified into a selected category of a number of predetermined categories. The indication of the power consumption metric transmitted to the application may for example include the selected category.

In certain examples the determination of whether to transmit the pending wireless data transaction may occur at the application. Additionally or alternatively the determination may occur at the modem. In certain examples the modem may receive the pending wireless data transaction at a buffer associated with the modem and the modem may transmit the pending wireless data transaction from the buffer of the modem to a network based on the determination.

In a second set of examples a mobile device may include a transmitter a receiver a receive power measurement module a power consumption metric module and a transaction decision module. The receive power measurement module may be configured to measure during a scheduled power up of a modem associated with receiving paging messages a receive power associated with the receiver. The power consumption metric module may be configured to estimate a power consumption metric associated with transmitting a pending wireless data transaction at the transmitter based on the measured receive power associated with the receiver. The transaction decision module may be configured to determine whether to transmit the pending wireless data transaction at the transmitter at a first time. The determination may be based at least in part on the estimated power consumption metric.

In a third set of examples an apparatus for managing power consumption in a modem of a mobile device may include at least means for measuring during a scheduled power up of the modem associated with checking for paging messages a receive power associated with a receiver of the modem means for estimating a power consumption metric associated with transmitting a pending wireless data transaction at a transmitter of the modem based on the measured receive power associated with the receiver and means for determining whether to transmit the pending wireless data transaction at a first time. The determination may be based at least in part on the estimated power consumption metric.

In a fourth set of examples a computer program product may include a tangible computer readable storage device having computer readable program code stored thereon. The computer readable program code may include computer readable program code configured to cause at least one processor to measure during a scheduled power up of the modem associated with checking for paging messages a receive power associated with a receiver of the modem computer readable program code configured to cause the at least one processor to estimate a power consumption metric associated with transmitting a pending wireless data transaction at a transmitter of the modem based on the measured receive power associated with the receiver and computer readable program code configured to cause the at least one processor to determine whether to transmit the pending wireless data transaction at a first time. The determination may be based at least in part on the estimated power consumption metric.

Other aspects features and embodiments of the present invention will become apparent to those of ordinary skill in the art upon reviewing the following description of specific exemplary embodiments of the present invention in conjunction with the accompanying figures. While features of the present invention may be discussed relative to certain embodiments and figures below all embodiments of the present invention can include one or more of the advantageous features discussed herein. In other words while one or more embodiments may be discussed as having certain advantageous features one or more of such features may also be used in accordance with the various embodiments of the invention discussed herein. In similar fashion while exemplary embodiments may be discussed below as device system or method embodiments it should be understood that such exemplary embodiments can be implemented in various devices systems and methods.

The technology discussed in this patent application enables and relates to management of modem power consumption in a communications device e.g. mobile device smart phone cell phone entertainment device etc. . When a wireless data transaction e.g. transmission of wireless data is pending at the mobile device a receive power associated with a receiver of the modem may be measured during a scheduled power up of the modem associated with checking for paging messages. A power consumption metric associated with transmitting a pending wireless data transaction may be estimated based on the measured receive power. The determination of whether to transmit the pending wireless data transaction during a first period of time may then be made based at least in part on the estimated power consumption metric.

Techniques described herein may be used for various wireless communications systems such as cellular wireless systems Peer to Peer wireless communications wireless local access networks WLANs ad hoc networks satellite communications systems and other systems. The terms system and network are often used interchangeably. These wireless communications systems may employ a variety of radio communication technologies for multiple access in a wireless system such as Code Division Multiple Access CDMA Time Division Multiple Access TDMA Frequency Division Multiple Access FDMA Orthogonal FDMA OFDMA Single Carrier FDMA SC FDMA and or other technologies. Generally wireless communications are conducted according to a standardized implementation of one or more radio communication technologies called a Radio Access Technology RAT . A wireless communications system or network that implements a Radio Access Technology may be called a Radio Access Network RAN .

Examples of Radio Access Technologies employing CDMA techniques include CDMA2000 Universal Terrestrial Radio Access UTRA etc. CDMA2000 covers IS 2000 IS 95 and IS 856 standards. IS 2000 Releases 0 and A are commonly referred to as CDMA2000 1X 1X etc. IS 856 TIA 856 is commonly referred to as CDMA2000 1xEV DO High Rate Packet Data HRPD etc. UTRA includes Wideband CDMA WCDMA and other variants of CDMA. Examples of TDMA systems include various implementations of Global System for Mobile Communications GSM . Examples of Radio Access Technologies employing FDMA and or OFDMA include Ultra Mobile Broadband UMB Evolved UTRA E UTRA IEEE 802.11 Wi Fi IEEE 802.16 WiMAX IEEE 802.20 Flash OFDM etc. UTRA and E UTRA are part of Universal Mobile Telecommunication System UMTS . 3GPP Long Term Evolution LTE and LTE Advanced LTE A are new releases of UMTS that use E UTRA. UTRA E UTRA UMTS LTE LTE A and GSM are described in documents from an organization named 3rd Generation Partnership Project 3GPP . CDMA2000 and UMB are described in documents from an organization named 3rd Generation Partnership Project 2 3GPP2 . The techniques described herein may be used for the systems and radio technologies mentioned above as well as other systems and radio technologies. The description below however describes an LTE system for purposes of example and LTE terminology is used in much of the description below although the techniques are applicable beyond LTE applications.

Thus the following description provides examples and is not limiting of the scope applicability or configuration set forth in the claims. Changes may be made in the function and arrangement of elements discussed without departing from the spirit and scope of the disclosure. Various embodiments may omit substitute or add various procedures or components as appropriate. For instance the methods described may be performed in an order different from that described and various steps may be added omitted or combined. Also features described with respect to certain embodiments may be combined in other embodiments.

Referring first to a block diagram illustrates an example of a wireless communications system . The system may include base stations or cells mobile devices a base station controller and a core network the controller may be integrated into the core network . The system may support operation on multiple carriers waveform signals of different frequencies .

The base stations may wirelessly communicate with the mobile devices via a base station antenna not shown . The base stations may communicate with the mobile devices under the control of the base station controller via multiple carriers. Each of the base station sites may provide communication coverage for a respective geographic area. The coverage area for each base station here is identified as or . The coverage area for a base station may be divided into sectors e.g. sectors etc. making up only a portion of the coverage area. The system may include base stations of different types e.g. macro micro femto and or pico base stations . A macro base station may provide communication coverage for a relatively large geographic area e.g. 35 km in radius . A pico base station may provide coverage for a relatively small geographic area e.g. 2 km in radius and a femto base station may provide communication coverage for a relatively smaller geographic area e.g. 50 m in radius . There may be overlapping coverage areas for different technologies.

The mobile devices may be dispersed throughout the coverage areas . The mobile devices may be referred to as mobile stations mobile devices access terminals ATs user equipments UEs subscriber stations SSs or subscriber units. The mobile devices may include cellular phones and wireless communications devices but may also include personal digital assistants PDAs other handheld devices netbooks notebook computers etc. Mobile devices can also include many other types of devices capable of wireless communications.

As discussed in more detail below in certain examples a mobile device may be configured to adaptively control the timing of wireless data transactions to reduce overall power consumption and prolong battery life. For example at certain times the mobile device may require more power to transmit wireless data than others. Factors affecting the amount of power used to transmit wireless data include but are not limited to the distance between the mobile device and a serving base station the channel quality between the mobile device and the base station interference from other devices a type of modulation used to transmit the wireless data and or other relevant factors. If the cost to transmit the wireless data transaction in terms of power is currently high the mobile device may elect to postpone transmission of the wireless data transaction until the cost is lower.

The cost of transmitting a wireless data transaction in terms of power may be separately determined for separate transactions. When the mobile device is in a state of active transmission the power associated with transmitting a wireless data transaction may be determined based on the current power consumption of the transmitter of the mobile device . When the mobile device is in an idle state the power associated with transmitting a wireless data transaction may be derived from the receive power measured at the receiver during a scheduled power up to check for paging messages.

The decision to postpone transmission of the wireless data transaction may be based at least in part on an identified priority of the wireless data transaction. For example some high priority wireless data transactions may be transmitted immediately regardless of the power cost. Similarly some low priority wireless data transactions may be postponed until the power cost of transmitting the transactions has fallen below a certain threshold.

In the present example the modem of the mobile device may implement wireless communication between the mobile device and the base station . For example the modem may include a number of electronic components that collectively implement modulation and demodulation encoding and decoding baseband processing a Radio Frequency RF frontend a transmitter chain and a receiver chain. The modem may additionally include a number of electronic components configured to communicate with the application over an application programming interface API associated with the modem .

The application may be a piece of software running on hardware of the mobile device to implement a desired functionality. The application may be a user application or a system application. The application may generate a pending wireless data transaction. The pending wireless data transaction may be originated by a request from a user or automatically as part of the functionality implemented by the application . For example the pending wireless data transaction may include data for transmission to the base station or to a web server via the base station . Additionally or alternatively the pending wireless data transaction may include a request for data from the base station or from a web server via the base station 

In the present example the application may be configured to evaluate the power consumption impact of one or more wireless data transactions prior to sending the wireless data transaction to the modem for transmission. In certain examples this analysis may be performed for every wireless data transaction originating at the application . In other examples the analysis may be performed only for wireless data transactions originating while the modem is in an idle state. The application may receive a power consumption metric from the modem for each pending wireless data transaction being evaluated. The power consumption metric may indicate a relative cost of transmitting that wireless data transaction from the modem at a current time. In certain examples the power consumption metric received for a pending wireless data transaction may be weighed against a priority associated with the wireless data transaction and a decision of whether or not to submit the pending wireless data transaction to the modem for transmission may be made based on whether the priority of the transaction outweighs the power consumption metric for that transaction.

When the modem of the mobile device is powered up and actively transmitting and receiving data the power consumption metric for a pending wireless data transaction may be calculated based on at least an instantaneous measurement of the receive power at the modem. However if the modem of the mobile device is in an idle state and not actively transmitting or receiving data the transmitter and receiver may be turned off to conserve power. Powering up the transmitter or receiver from the idle state may consume power. Consequently if the application generates a new pending wireless data transaction while the mobile device is in the idle state it may not be power efficient to wake up the transmitter or receiver to calculate the power consumption metric for a pending wireless data transaction or to transmit a low priority wireless data transaction.

In light of these considerations illustrates a method of calculating power consumption metrics for wireless data transactions that originate while the mobile device is in an idle state by using measurements taken when the mobile device powers up the receiver of the modem during a scheduled check for paging messages. In this way the power consumption metrics may be determined for pending wireless transactions while the mobile device is in an idle state without powering up the transmitter or receiver beyond what is already scheduled to check for paging messages.

As shown in the application may a request a power consumption metric for a pending wireless data transaction from the modem over an application programming interface API . The modem may receive the request over the API and if the modem is in an idle state buffer the request and wait to calculate the power consumption metric for the pending wireless data transaction until the mobile device powers up the receiver of the modem during a scheduled check for paging messages from the base station 

At the scheduled time the receiver may power up to check a physical downlink control channel PDCCH or another specified channel for paging messages . When the receiver wakes up a receive power measurement may be taken and stored. The receive power measurement may indicate the power of one or more signals received at the receiver at the current time from the base station . A paging message directed to the mobile device may be optionally received by the mobile device but it is not necessary for the mobile device to actually receive a paging message to measure the receive power.

Based on the measured receive power during the scheduled check for paging messages a transmit power estimate associated with transmitting the pending wireless data transaction at the current time may be obtained. The transmit power estimate may be obtained for example using a mapping function implemented by a lookup table to map the measured instantaneous receive power of the receiver to an approximate instantaneous transmit power of the transmitter. In certain examples the mapping function may include mapping the measured receive power to a transmit power mapping the transmit power to an instantaneous cost of transmission and mapping the instantaneous cost of transmission to a total cost of transmitting the pending wireless data transaction. Using the instantaneous transmit power of the transmitter the transmit power estimate may be generated taking into account the size of the pending wireless data transaction the data transmission rate of the transmitter or receiver the channel quality between the mobile device and the base station the amount and size of other pending wireless data transactions the current state of the modem and or other relevant factors.

A power consumption metric based on the transmit power estimate for the pending wireless data transaction may be sent to the application over the API. The power consumption metric may include the transmit power estimate for the pending wireless data transaction. Additionally or alternatively the power consumption metric may include one of a number of predetermined classifications e.g. low medium high associated with the relative power cost of transmitting the pending wireless data transaction at a current time.

The application may receive the power consumption metric from the modem over the API and make a decision of whether to move forward with transmitting the pending wireless data transaction at the current time or postpone transmitting the pending wireless data transaction until the power consumption metric for the transaction is lower. In making this decision the application may weigh a priority of the pending wireless data transaction against the cost of transmitting the pending wireless data transaction at the current time as indicated by the power consumption metric . The priority of the pending wireless data transaction may be determined based on one or more of an urgency of the transaction the identity or type of the application the identity or type of the transaction the content of the transaction and or the like.

In example of after weighing the priority of the pending wireless data transaction against the cost of transmission the application may choose to immediately submit the pending wireless data transaction to the modem which may power up and submit the transaction to the base station 

While the example of shows the modem waiting until the next scheduled power up of the receiver to take a receive power measurement and obtain a transmit power estimate in alternative examples the modem may access stored receive power measurements from a preceding scheduled power up of the receiver to obtain the transmit power estimate and return the power consumption metric to the application . In this way the application may receive power consumption metric for the pending wireless data transaction sooner.

In the example of the application may request a power consumption metric for transaction A from the modem over an API of the modem . Transaction A may be a pending wireless data transaction of the application and may have a low priority. For example application may be a news application and Transaction A may be a non urgent automatic background update associated with updating news feeds associated with the application 

In certain examples the priority may be assigned to Transaction A by the application . Alternatively the priority of Transaction A may be inherently associated with the originating application a transaction type associated with Transaction A the content of Transaction A the size of Transaction A and or other relevant factors. In certain examples the application may transmit the priority of Transaction A to the modem as part of the power consumption request . The application may also transmit one or more parameters e.g. size for Transaction A to the modem particularly if the parameters are relevant to estimating the power consumption associated with transmitting Transaction A at the modem 

The modem may receive the request over the API and if the modem is in an idle state buffer the request and wait until the mobile device powers up the receiver of the modem during a scheduled check for paging messages from the base station 

At the scheduled time the receiver may power up to check a physical downlink control channel PDCCH or another specified channel for paging messages . When the receiver wakes up a receive power measurement may be taken and stored and a paging message directed to the mobile device may optionally be received.

Using a mapping function the measured receive power of the receiver may be converted to an instantaneous power consumption of the transmitter. Based on the instantaneous power consumption of the transmitter and the size of Transaction A a transmit power estimate associated with transmitting Transaction A at the current time may be obtained. A power consumption metric based on transmit power estimate for the pending wireless data transaction may be sent to the application over the API. The power consumption metric may indicate that the estimated power cost of transmitting Transaction A at the current time is high.

The application may receive the power consumption metric from the modem over the API weigh the high estimated power cost of transmitting Transaction A at the current time against the low priority of Transaction A to make a decision to postpone transmitting Transaction A until the power cost of transmitting Transaction A is lower.

The application may submit another request for a power consumption metric for Transaction A to the modem . Alternatively the modem may store the original request and choose to reevaluate the power cost of Transaction A at the later time based on the expiration of a timer or another trigger. Thus when the receiver powers up to check for new paging messages a new measurement of the receive power may be performed and a new transmit power estimate based on the new receive power measurement may be obtained.

At this later time the mobile device may have moved closer to base station or otherwise experienced an increase in channel quality. Accordingly a new power consumption metric may be transmitted to the application over the API indicating that the estimated power consumption associated with transmitting Transaction A is now low. Consequently the application may weigh the low priority of Transaction A against the low cost of transmitting Transaction A and make the decision to instruct the modem over the API to transmit Transaction A. The modem may then transmit Transaction A to the base station for processing by the base station and or forwarding to a web server.

In the example of the application may request a power consumption metric for transaction B from the modem over an API of the modem . Transaction B may be a pending wireless data transaction of the application and may have a medium priority. For example application may be an email client and Transaction B may be an automatic send receive request associated with retrieving new email from a server.

The modem may receive the request over the API and if the modem is in an idle state buffer the request and wait until the mobile device powers up the receiver of the modem during a scheduled check for paging messages from the base station 

At the scheduled time the receiver may power up to check a physical downlink control channel PDCCH or another specified channel for paging messages . When the receiver wakes up a receive power measurement may be taken and stored and a paging message directed to the mobile device may optionally be received.

Using a mapping function the measured receive power of the receiver may be converted to an instantaneous power consumption of the transmitter. Based on the instantaneous power consumption of the transmitter and the size of Transaction B a transmit power estimate associated with transmitting Transaction B at the current time may be obtained. A power consumption metric based on transmit power estimate for Transaction C may be sent to the application over the API. The power consumption metric may indicate that the estimated power cost of transmitting Transaction B at the current time is relatively high.

The application may receive the power consumption metric from the modem over the API weigh the high estimated power cost of transmitting Transaction B at the current time against the medium priority of Transaction B to make a decision to postpone transmitting Transaction B until the power cost of transmitting Transaction B is lower.

The application may submit another request for a power consumption metric for Transaction A to the modem . Alternatively the modem may store the original request and choose to reevaluate the power cost of Transaction B at the later time based on the expiration of a timer or another trigger. Thus when the receiver powers up at a later time to check for new paging messages a new measurement of the receive power may be performed and a new transmit power estimate based on the new receive power measurement may be obtained. A new power consumption metric may be transmitted to the application over the API indicating that the estimated power consumption associated with transmitting Transaction B is still high. Consequently the application may again weigh the medium priority of Transaction B against the high cost of transmitting Transaction B and make the decision to postpone the transmission of Transaction B again.

As further shown in if Transaction B has not yet been submitted to the modem for transmission by the time a timer expires the application may instruct the modem to transmit Transaction B regardless of the associated power cost. In certain examples the timer may override decisions to postpone transactions based on power only for transactions of a certain priority e.g. only medium or low priority transactions . Alternatively timers may be used to override postponement decisions for all types of wireless data transactions. In still other examples the priority of the pending wireless transaction may be increased in response to a determination that the timer has expired and the pending wireless transaction may be transmitted based at least in part on a determination that the increased priority of the transaction outweighs the power consumption metric. In certain examples different timer values may be associated with transactions of different priorities.

In the example of the application may request a power consumption metric for transaction C from the modem over an API of the modem . Transaction C may be a pending wireless data transaction of the application and may have a high priority. For example application may be a web browser or messaging application and Transaction C may be a user initiated request for a web page or message transmission.

The modem may receive the request over the API. If the modem is in an idle state the modem may buffer the request and wait until the mobile device powers up the receiver of the modem during a scheduled check for paging messages from the base station 

At the scheduled time the receiver may power up to check a physical downlink control channel PDCCH or another specified channel for paging messages . When the receiver wakes up a receive power measurement may be taken and stored and a paging message directed to the mobile device may optionally be received.

Using a mapping function the measured receive power of the receiver may be converted to an instantaneous power consumption of the transmitter. Based on the instantaneous power consumption of the transmitter and the size of Transaction C a transmit power estimate associated with transmitting Transaction C at the current time may be obtained. A power consumption metric based on the transmit power estimate for Transaction C may be sent to the application over the API. The power consumption metric may indicate that the estimated power cost of transmitting Transaction C at the current time is high.

The application may receive the power consumption metric from the modem over the API weigh the high estimated power cost of transmitting Transaction C at the current time against the high priority of Transaction C to make a decision to immediately transmit Transaction C. Consequently the application may issue an instruction to the modem to transmit Transaction C to the base station 

In alternative examples the application upon determining that Transaction C has a high priority may forego the process of requesting a power consumption metric and determining whether to postpone transmitting Transaction C based on the power consumption metric. Rather the application may immediately submit each high priority transaction to the modem for immediate transmission.

In the example of the decision of whether to postpone or immediately transmit pending wireless data transactions may be made at the modem . Thus the application may generate a wireless data transaction and submit an instruction to the modem to transmit the wireless data transaction. The modem may store the wireless data transaction in a buffer until a transmission decision is made for the transaction. The modem may wait to calculate the power consumption metric for the pending wireless data transaction until the mobile device powers up the receiver of the modem during a scheduled check for paging messages from the base station 

At the scheduled time the receiver may power up to check a physical downlink control channel PDCCH or another specified channel for paging messages . When the receiver wakes up a receive power measurement may be taken and stored. The receive power measurement may indicate the signal strength of a signal received by the receiver at the current time from the base station . A paging message directed to the mobile device may be optionally received by the mobile device but it is not necessary for the mobile device to actually receive a paging message to measure the receive power.

Based on the receive power measurement made during the scheduled check for paging messages a transmit power estimate associated with transmitting the pending wireless data transaction at the current time may be obtained using a mapping function and one or more parameters of the pending wireless data transaction.

The modem may make a decision of whether to move forward with transmitting the pending wireless data transaction at the current time or postpone transmitting the pending wireless data transaction until the transmit power estimate for the pending wireless data transaction is lower. In making this decision the modem may weigh a priority of the pending wireless data transaction against the cost of transmitting the pending wireless data transaction at the current time as indicated by the transmit power estimate . In certain examples the modem may receive the priority of the pending wireless data transaction from the application . Additionally or alternatively then modem may apply one or more rules to the content format type or size of the pending wireless data transaction to determine the priority.

As shown in the modem may determine to transmit the wireless data transaction to the base station immediately. Alternatively the modem may determine that the transaction power estimate associated with transmitting the pending wireless data transaction outweighs the priority of the pending wireless data transaction and keep the pending wireless data transaction in the buffer until the modem that the transmit power estimate has lowered or a timer associated with the pending wireless data transaction expires.

While the example of shows the modem waiting until the next scheduled power up of the receiver to take a receive power measurement and obtain a transmit power estimate in alternative examples the modem may access stored receive power measurements from a preceding scheduled power up of the receiver to obtain the transmit power estimate In this way the modem may make a faster initial decision of whether to postpone the transmission of the pending wireless data trans action.

While the decision table relies on two variables it will be understood that additional variables may be incorporated into the decision table . For example in addition to the priority of the wireless data transaction and the power consumption metric the decision of whether to postpone transmission of the wireless data transaction may be further based on one or more of the identity of the application associated with the wireless data transaction the size of the wireless data transaction the content of the wireless data transaction the identity of a base station or an intended recipient of the wireless data transaction whether the transmitter or the receiver of the modem is powered on or off whether other wireless data transactions are scheduled for transmission within a given window of time a battery level of the mobile device a time since the last battery recharge of the mobile device a congestion level of the network determined by the mobile device an amount of available memory at the mobile device a processor utilization of the mobile device time of day security parameters and or other desired or relevant parameters.

Additionally while the decision table of is based on a relatively low granularity e.g. low medium high of the priority level and power consumption metric of the pending wireless data transaction higher or lower granularity may be used.

In certain examples a user of the mobile device may be permitted to enter one or more rules associated with determining whether to postpone transmitting a wireless data transaction based on at least the power consumption metric associated with the wireless data transaction. In certain examples the mobile device may provide a user interface through which the user may add modify or delete such rules. In these scenarios the decision table may be updated to reflect the user selected rules.

The mobile device may include antennas a modem a memory and a processor module which each may be in communication directly or indirectly with each other e.g. via one or more buses . The modem may be configured to implement bidirectional wireless communications via the antennas and or one or more wired or wireless links with one or more networks as described above. For example the modem may be configured to communicate bi directionally with one or more of the base stations described above with reference to previous Figures. The modem may include an RF processing module a transmitter and a receiver . These components may collectively modulate packets and provide the modulated packets to the antennas for transmission and demodulate packets received from the antennas . While the mobile device may include a single antenna alternatively the mobile device may include multiple antennas for multiple links.

The memory may include random access memory RAM and read only memory ROM . The memory may store computer readable computer executable software code containing instructions that are configured to when executed cause the processor module to perform various functions described herein e.g. measuring receive power estimating power consumption metrics determining whether to transmit a pending wireless data transaction at a current time etc. . Alternatively the software may not be directly executable by the processor module but be configured to cause a computer e.g. when compiled and executed to perform functions described herein.

The processor module may include an intelligent hardware device e.g. a central processing unit CPU a microcontroller an application specific integrated circuit ASIC or other hardware device configured to execute code and control the memory .

According to the architecture of the mobile device may further include a receive power measurement module a power consumption metric module and a transaction decision module . In certain examples one or more aspects of these modules may be implemented by the processor module executing code stored by memory the modem or a combination thereof. Additionally or alternatively one or more aspects of the receive power measurement module the power consumption metric module or the transaction decision module may be implemented by one or more application specific integrated circuits ASICs adapted to perform some or all of the applicable functions in hardware. In additional or alternative implementations other types of integrated circuits may be used e.g. Structured Platform ASICs Field Programmable Gate Arrays FPGAs and other Semi Custom ICs which may be programmed in any manner known in the art. The functions of each unit may also be implemented in whole or in part with instructions embodied in a memory formatted to be executed by one or more general or application specific processors. Each of the noted modules may be a means for performing one or more functions related to operation of the mobile device 

The receive power measurement module may be configured to measure during a scheduled power up of the modem associated with receiving paging messages a receive power associated with the receiver . The measured receive power may be an amount of power e.g. in dBm associated with a signal received at the receiver while listening for paging messages from a base station during an allotted time slot.

The power consumption metric module may be configured to estimate a power consumption metric associated with transmitting a pending wireless data transaction at the transmitter based on the receive power measured at the receive power measurement module . For example as described above a predetermined mapping function may be used to convert the measured receive power to an estimated instantaneous power consumption of the transmitter .

Using the estimated instantaneous power of the transmitter and known parameters e.g. size type etc. of the pending wireless data transaction the power consumption metric module may estimate an amount of power that would be expended by the transmitter if the pending wireless data transaction were transmitted under current conditions. The power consumption metric associated with the pending wireless data transaction may reflect this estimated amount of power for the transaction. In certain examples the power consumption metric may include the estimated amount of power for transmitting the transaction under current conditions. Additionally or alternatively the power consumption metric may include a classification of the estimated amount of power for transmitting the transaction where the classification is selected from a finite set e.g. low medium high .

In certain examples the measurement of the receive power of the receiver during the scheduled check for paging messages and the mapping of the measured receive power of the receiver to an estimated power consumption of the transmitter may occur each time the modem listens for paging messages. For example the estimated power consumption of the transmitter may be determined in order to ascertain an amount of power to allocate to the transmitter when responding to paging messages received by the modem from a base station. However the measured receive power of the receiver and estimated power consumption of the transmitter determined during the check for paging messages may additionally be used to determine the estimated power consumption metric for the pending wireless data transaction.

The transaction decision module may be configured to determine whether to transmit the pending wireless data transaction during a first period of time e.g. within a given window of time with respect to measurement of the receive power . The transaction decision module may determine whether to immediately transmit the pending wireless data transaction or postpone transmission of the pending wireless data transaction. This determination may be made by comparing the power consumption metric estimated at the power consumption metric module with a priority associated with the pending wireless data transaction. In the case where transmission of the pending wireless data transaction is postponed the power consumption metric module may estimate a second power consumption metric for the pending wireless data transaction during a second period of time after the first period of time and the transaction decision module may then determine whether to transmit the pending wireless data transaction during the second period of time based on the second power consumption metric.

In the present example the application may be implemented by the processor module and the memory . The application may generate a pending wireless data transaction e.g. a request for data from a web server for transmission to a base station by the modem . The application may communicate with the power consumption metric module the transaction decision module the transaction execution module and or the modem over an API to indicate that the pending wireless data transaction has been generated. In certain examples upon generating the pending wireless data transaction the application may request a power consumption metric for the pending wireless data transaction over the API.

The idle state module may manage an idle state entered by the modem during periods of inactivity. When wireless data is not being actively transmitted or received the idle state module may power down at least the transmitter and the receiver of the modem to conserve battery power. The idle state module may include a page checking module configured to periodically power up the receiver of the modem during the idle state to check for scheduled paging messages from a base station. During these schedule power ups the receive measurement module may measure the receive power of the receiver . The transmit power estimation module may use a mapping function lookup table to estimate a power consumption of the transmitter under current channel conditions based on the measured receive power of the receiver during the scheduled check for paging messages.

The power consumption metric module may evaluate for pending wireless transactions generated at the application a power consumption metric indicating a relative cost of transmitting the pending wireless transaction at a current time. If the modem is in a state of actively transmitting or receiving data the power consumption metric may be determined by measuring a current expenditure of power at the transmitter and the receiver and extrapolate an estimated cost of transmitting the pending wireless transaction under current channel conditions. However if the modem is in the aforementioned idle state it may not be cost effective to power up the transmitter or receiver for the purpose of estimating the power cost of transmitting the pending wireless data transaction.

Accordingly when the modem is in the idle state the power consumption metric module may determine the power consumption metric for the pending wireless data transaction using the transmit power estimated by the transmit power estimation module during a scheduled power up of the receiver to check for paging messages.

One purpose of the receive power measurement module and the transmit power estimation module of the idle state module may be to determine how much power to allocate to the transmitter in the event that a response to a paging message is needed or the modem returns to a state of actively transmitting and receiving data. However the power consumption metric module may also use the transmit power estimated by the transmit power estimation module to generate the power consumption metric for the pending wireless transaction generated by the application while the modem is in the idle state. In certain examples the power consumption metric module may access a stored estimated transmit power performed for the most recent scheduled power up of the receiver to check for paging messages. Additionally or alternatively the power consumption metric module may wait for the next scheduled power up of the receiver to generate the power consumption metric for the pending wireless data based on a fresh receive power measurement and transmit power estimate from the idle state module .

In certain examples the power consumption metric may include a numerical representation e.g. in dBm of the estimated amount of power that would be consumed by the transmitter and receiver to conduct the pending wireless transaction at the current time or during a current period of time. Additionally or alternatively the power consumption metric may include a low granularity classification e.g. low medium high of the estimated amount of power that would be consumed by the transmitter and receiver to conduct the pending wireless transaction at the current time or during a current period of time.

The transaction decision module may use the power consumption metric to determine whether to transmit the pending wireless data transaction during a current time period or postpone transmission of the pending wireless data transaction to a later time period. In certain examples the transaction decision module may be a component of the application . Alternatively the transaction decision module may be a component of the modem . The transaction decision module may include a priority module configured to determine a priority associated with the pending wireless data transaction. The priority module can also be configured to weigh the priority of the pending wireless data transaction against the power consumption metric for the transaction to determine whether to transmitting the pending wireless transaction at a current time or postpone transmission of the transaction until the power consumption metric for the transaction is lower. In some embodiments the transaction decision module can be configured to throttle on and off transactions. Throttling can be based on various parameters such as those discussed herein with respect to the transaction decision module operational characteristics.

The transaction decision module may also include a timer module . In certain examples the timer module may implement a timer for a pending wireless data transaction. The timer may commence when the pending wireless data transaction is generated by the application . When the timer expires the priority of the pending wireless data transaction may be elevated. In certain examples when the timer for a transaction expires the transaction may be transmitted immediately irrespective of the priority of the transaction or the power consumption metric for the transaction. In additional or alternative examples pending wireless data transactions of different sizes types or priorities may have different predetermined timer values.

In certain examples if the transaction decision module determines not to transmit the pending wireless data transaction during a current period of time the transaction idle state module may power down the transmitter and receiver of the modem and return to the idle state.

The transaction execution module may be configured to receive the pending wireless data transaction and submit the transaction to the modem for wireless transmission in accordance with the decision of the transaction decision module . In certain examples one or more components of the transaction execution module may be implemented by the application . Additionally or alternatively one or more components of the transaction execution module may be implemented by the modem 

The transmit processor may process the data. The transmit processor may also generate reference symbols and a cell specific reference signal. A transmit TX Multiple Input Multiple Output MIMO processor may perform spatial processing e.g. precoding on data symbols control symbols and or reference symbols if applicable and may provide output symbol streams to the transmit modulators through . Each modulator may process a respective output symbol stream e.g. for OFDM etc. to obtain an output sample stream. Each modulator may further process e.g. convert to analog amplify filter and upconvert the output sample stream to obtain a downlink DL signal. In one example DL signals from modulators through may be transmitted via the antennas through respectively.

At the mobile device the mobile device antennas through may receive the DL signals from the base station and may provide the received signals to the demodulators through respectively. The demodulators may be components of a modem e.g. modem of or . Each demodulator may condition e.g. filter amplify downconvert and digitize a respective received signal to obtain input samples. Each demodulator may further process the input samples e.g. for OFDM etc. to obtain received symbols. A MIMO detector may obtain received symbols from all the demodulators through perform MIMO detection on the received symbols if applicable and provide detected symbols. A receive processor may process e.g. demodulate deinterleave and decode the detected symbols providing decoded data for the mobile device to a data output and provide decoded control information to a processor or memory 

On the uplink UL at the mobile device a transmit processor may receive and process data from a data store. The transmit processor may also generate reference symbols for a reference signal. The symbols from the transmit processor may be precoded by a transmit MIMO processor if applicable further processed by the modulators through e.g. for SC FDMA etc. and be transmitted to the base station in accordance with the transmission parameters received from the base station . The modulators may be components of a modem consistent with the principles described above.

In certain examples data for transmission i.e. a wireless data transaction may be generated at the mobile device while the transmitters and modulators are powered down in an idle state. A receive power measurement module may as described above with reference to previous Figures measure a receive power associated with the receiver and or demodulator during a scheduled power up of the modem associated with a check for paging messages from the base station . A power consumption metric module may estimate a power consumption metric associated with transmitting the wireless data transaction from the transmitter during a current period of time based on the measured receive power associated with the receiver. A transaction decision module may determine whether to transmit the pending wireless data transaction at the transmitter during the current period of time based at least in part on the estimated power consumption metric.

At the base station the UL signals from the mobile device may be received by the antennas processed by the demodulators detected by a MIMO detector if applicable and further processed by a receive processor. The receiver processor may provide decoded data to a data output and to the processor .

The components of the mobile device may individually or collectively be implemented with one or more Application Specific Integrated Circuits ASICs adapted to perform some or all of the applicable functions in hardware. Each of the noted modules may be a means for performing one or more functions related to operation of the system . Similarly the components of the base station may individually or collectively be implemented with one or more Application Specific Integrated Circuits ASICs adapted to perform some or all of the applicable functions in hardware. Each of the noted components may be a means for performing one or more functions related to operation of the system .

At block a receive power associated with a receiver of a modem in the mobile device may be measured during a scheduled power up of the modem associated with a check for paging messages. At block a power consumption metric associated with transmitting a pending wireless data transaction at a transmitter of the modem may be estimated based on the measured receive power. In certain examples the estimating the power consumption metric may include performing a predetermined mapping function to derive the power consumption metric from the measured receive power of the receiver. In certain examples the measurement of the receive power and the predetermined mapping function may be performed during each scheduled power up to check for paging messages and the measured receive power and results from the mapping function may also be used to determine the estimated power consumption metric for the pending wireless data transaction.

In certain examples an indication of the power consumption metric may be sent to an application associated with the pending wireless data transaction over an API in response to a request over the API from the application for the power consumption metric. In certain examples the power consumption metric may be classified into one of a number of predetermined categories and the indication of the power consumption metric may include the selected category. The determination of block may be performed at the application at the modem or a combination of the application and the modem. In examples where the modem performs the determination of block the modem may receive the pending wireless data transaction at a buffer and transmit the pending wireless data transaction from the modem based on the determination.

At block the mobile device may determine whether to transmit the pending wireless data transaction at a first time based at least in part on the estimated power consumption metric. The determination may be based on a comparison between a priority associated with the pending wireless data transaction and the power consumption metric. In certain examples the mobile device may determine not to transmit the pending wireless data transaction at the first time based on the power consumption metric and estimating a second power consumption metric for the pending wireless data transaction at a second time after the first time. In these cases the mobile device may power down the modem based at least in part on the determination not to transmit the pending wireless data transaction at the first time. The mobile device may then determine to transmit the pending wireless data transaction at the second time based at least in part on the received second power consumption metric.

In additional or alternative examples the mobile device may determine not to transmit the pending wireless data transaction at the first time based on the power consumption metric determine that a timer associated with the pending wireless data transaction has expired and transmit the pending wireless data transaction based at least in part on the expiration of the timer.

At block a request may be received from an application over an API. The request may be for a power consumption metric associated with a pending wireless data transaction from the application. At block a determination may be made of whether the transmitter and or receiver of the modem is active i.e. powered up .

If at least one of the transmitter or the receiver of the modem is active block YES an instantaneous receive power of the transmitter or the receiver may be measured at block . At block a power consumption metric associated with transmitting the pending wireless data transaction at the transmitter of the modem at a current time may be estimated based on the measured receive power and at block the power consumption metric may be returned to the application over the API. The application may use the power consumption metric to determine whether to transmit the pending wireless data transaction at the current time.

If on the other hand the transmitter and receiver of the modem are powered down in an idle state decision NO at block the modem may power up at least the receiver at a scheduled time to perform a check for paging messages. At block an instantaneous receive power associated with the receiver of the modem may be measured during the scheduled check for paging messages. At block a power consumption metric associated with transmitting the pending wireless data transaction from the transmitter of the modem at the current time may be estimated based on the measured instantaneous receive power of the receiver. At block the power consumption metric may be returned to the application over the API for use by the application in determining whether to transmit the pending wireless data transaction at the current time.

At block a pending wireless data transaction may be identified. The transaction may originate at the application. At block a power consumption metric for the pending wireless data transaction may be requested from a modem of the mobile device over an API. At block the requested power consumption metric for the pending wireless data transaction may be received from the modem over the API. The power consumption metric may be based on a measured receive power during a scheduled power up to check for paging messages at the modem. At block a priority associated with the pending wireless data transaction may be identified by the application.

At block the application may compare the priority of the pending wireless data transaction to the received power consumption metric for the transaction to determine whether transmitting the transaction at a current time is permissible. If transmission of the transaction is permissible at the current time block YES based on the priority and power consumption metric the pending wireless data transaction may be submitted to the modem for transmission to a base station or other wireless recipient. If transmission of the transaction is not permissible based on priority and the power consumption metric block NO a determination may be made at block of whether a timer associated with the pending wireless transaction has expired. If the timer has expired block YES then the pending wireless data transaction may be submitted to the modem for wireless transmission at block . If the timer has not expired block NO the application may wait a predetermined amount of time and flow may return to block .

The detailed description set forth above in connection with the appended drawings describes exemplary embodiments and does not represent the only embodiments that may be implemented or that are within the scope of the claims. The term exemplary used throughout this description means serving as an example instance or illustration and not preferred or advantageous over other embodiments. The detailed description includes specific details for the purpose of providing an understanding of the described techniques. These techniques however may be practiced without these specific details. In some instances well known structures and devices are shown in block diagram form in order to avoid obscuring the concepts of the described embodiments.

Information and signals may be represented using any of a variety of different technologies and techniques. For example data instructions commands information signals bits symbols and chips that may be referenced throughout the above description may be represented by voltages currents electromagnetic waves magnetic fields or particles optical fields or particles or any combination thereof.

The various illustrative blocks and modules described in connection with the disclosure herein may be implemented or performed with a general purpose processor a digital signal processor DSP an application specific integrated circuit ASIC a field programmable gate array FPGA or other programmable logic device discrete gate or transistor logic discrete hardware components or any combination thereof designed to perform the functions described herein. A general purpose processor may be a microprocessor but in the alternative the processor may be any conventional processor controller microcontroller or state machine. A processor may also be implemented as a combination of computing devices e.g. a combination of a DSP and a microprocessor multiple microprocessors one or more microprocessors in conjunction with a DSP core or any other such configuration.

The functions described herein may be implemented in hardware software executed by a processor firmware or any combination thereof. If implemented in software executed by a processor the functions may be stored on or transmitted over as one or more instructions or code on a computer readable medium. Other examples and implementations are within the scope and spirit of the disclosure and appended claims. For example due to the nature of software functions described above can be implemented using software executed by a processor hardware firmware hardwiring or combinations of any of these. Features implementing functions may also be physically located at various positions including being distributed such that portions of functions are implemented at different physical locations. Also as used herein including in the claims or as used in a list of items prefaced by at least one of indicates a disjunctive list such that for example a list of at least one of A B or C means A or B or C or AB or AC or BC or ABC i.e. A and B and C .

Computer readable media includes both computer storage media and communication media including any medium that facilitates transfer of a computer program from one place to another. A storage medium may be any available medium that can be accessed by a general purpose or special purpose computer. By way of example and not limitation computer readable media can comprise RAM ROM EEPROM CD ROM or other optical disk storage magnetic disk storage or other magnetic storage devices or any other medium that can be used to carry or store desired program code means in the form of instructions or data structures and that can be accessed by a general purpose or special purpose computer or a general purpose or special purpose processor. Also any connection is properly termed a computer readable medium. For example if the software is transmitted from a website server or other remote source using a coaxial cable fiber optic cable twisted pair digital subscriber line DSL or wireless technologies such as infrared radio and microwave then the coaxial cable fiber optic cable twisted pair DSL or wireless technologies such as infrared radio and microwave are included in the definition of medium. Disk and disc as used herein include compact disc CD laser disc optical disc digital versatile disc DVD floppy disk and blu ray disc where disks usually reproduce data magnetically while discs reproduce data optically with lasers. Combinations of the above are also included within the scope of computer readable media.

The previous description of the disclosure is provided to enable a person skilled in the art to make or use the disclosure. Various modifications to the disclosure will be readily apparent to those skilled in the art and the generic principles defined herein may be applied to other variations without departing from the spirit or scope of the disclosure. Throughout this disclosure the term example or exemplary indicates an example or instance and does not imply or require any preference for the noted example. Thus the disclosure is not to be limited to the examples and designs described herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.

