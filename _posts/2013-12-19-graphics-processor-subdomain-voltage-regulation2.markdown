---

title: Graphics processor sub-domain voltage regulation
abstract: Voltage regulation of processor sub-domains supplied by a same voltage domain power supply rail. Voltage to certain logic units within the voltage domain may be reduced relative to other logic units of the voltage domain, reducing idle time at high power. In an embodiment, a first voltage-regulated sub-domain includes at least one execution unit (EU) while a second voltage-regulated sub-domain includes at least one texture sampler to provide flexibility in setting the graphics core power-performance point beyond modulating active EU count through power domain (gating) control. In embodiments, a sub-domain voltage is regulated by an on-chip DLDO for fast voltage switching. Clock frequency and sub-domain voltage may be switched faster than the voltage of the voltage domain supply rail, permitting a more finely grained power management that can be responsive to EU workload demand.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09563263&OS=09563263&RS=09563263
owner: Intel Corporation
number: 09563263
owner_city: Santa Clara
owner_country: US
publication_date: 20131219
---
A graphics engine graphics processing unit GPU or visual processing unit VPU is a specialized electronic circuit designed to rapidly manipulate and alter memory to accelerate the creation of images in a frame buffer typically intended for output to a display. GPUs may be found in embedded systems mobile phones tablets notebook computers high performance computation HPC servers and game consoles. In addition to manipulating computer graphics in particular a highly parallel architecture also enables a GPU to more generally perform processing of large blocks of data in parallel.

While many of the processing activities handled by a GPU are computationally intensive there is an increasing need for energy efficient GPU architectures capable of scaling performance watt not only between form factors e.g. HPC server vs. a smartphone but also dynamically within a particular form factor to handle different workloads at different times. For example in an interactive usage application executing on a smartphone such as opening a set of photos in response to a user action a power level of an embedded GPU may be ramped up i.e. a graphics turbo mode for a few milliseconds seconds to provide a fast user experience. Such a turbo mode may dissipate significantly higher power during this short duration than over longer sustained workloads as generally limited by junction temperature. Depending on the thermal design power TDP for the given platform GPU sustained power dissipation may be restricted to no more than 1 2 W in an exemplary tablet form factor or a few hundred milliwatts in a smartphone form factor. Furthermore limited battery resources of a mobile device may impose additional limitations on power dissipation to ensure that the device can function for the longest possible time.

Processor architectures and operational modes that facilitate power management in a manner that can enhance the power performance point of the processor improve user perception of performance and offer greater operational flexibility are advantageous.

One or more embodiments are described with reference to the enclosed figures. While specific configurations and arrangements are depicted and discussed in detail it should be understood that this is done for illustrative purposes only. Persons skilled in the relevant art will recognize that other configurations and arrangements are possible without departing from the spirit and scope of the description. It will be apparent to those skilled in the relevant art that techniques and or arrangements described herein may be employed in a variety of other systems and applications beyond what is described in detail herein.

Reference is made in the following detailed description to the accompanying drawings which form a part hereof and illustrate exemplary embodiments. Further it is to be understood that other embodiments may be utilized and structural and or logical changes may be made without departing from the scope of claimed subject matter. Therefore the following detailed description is not to be taken in a limiting sense and the scope of claimed subject matter is defined solely by the appended claims and their equivalents.

In the following description numerous details are set forth however it will be apparent to one skilled in the art that embodiments may be practiced without these specific details. Well known methods and devices are shown in block diagram form rather than in detail to avoid obscuring more significant aspects. References throughout this specification to an embodiment or one embodiment mean that a particular feature structure function or characteristic described in connection with the embodiment is included in at least one embodiment. Thus the appearances of the phrase in an embodiment or in one embodiment in various places throughout this specification are not necessarily referring to the same embodiment. Furthermore the particular features structures functions or characteristics described in the context of an embodiment may be combined in any suitable manner in one or more embodiments. For example a first embodiment may be combined with a second embodiment anywhere the particular features structures functions or characteristics associated with the two embodiments are not mutually exclusive.

As used in the description of the exemplary embodiments and the appended claims the singular forms a an and the are intended to include the plural forms as well unless the context clearly indicates otherwise. It will also be understood that the term and or as used herein refers to and encompasses any and all possible combinations of one or more of the associated listed items.

As used throughout the description and in the claims a list of items joined by the term at least one of or one or more of can mean any combination of the listed terms. For example the phrase at least one of A B or C can mean A B C A and B A and C B and C or A B and C.

The terms coupled and connected along with their derivatives may be used herein to describe functional or structural relationships between components. It should be understood that these terms are not intended as synonyms for each other. Rather in particular embodiments connected may be used to indicate that two or more elements are in direct physical optical or electrical contact with each other. Coupled may be used to indicated that two or more elements are in either direct or indirect with other intervening elements between them physical optical or electrical contact with each other and or that the two or more elements co operate or interact with each other e.g. as in a cause an effect relationship .

Some portions of the detailed descriptions provide herein are presented in terms of algorithms and symbolic representations of operations on data bits within a computer memory. Unless specifically stated otherwise as apparent from the following discussion it is appreciated that throughout the description discussions utilizing terms such as calculating computing determining estimating storing collecting displaying receiving consolidating generating updating or the like refer to the action and processes of a computer system or similar electronic computing device that manipulates and transforms data represented as physical electronic quantities within the computer system s circuitry including registers and memories into other data similarly represented as physical quantities within the computer system memories or registers or other such information storage transmission or display devices.

While the following description sets forth various implementations that may be manifested in architectures such system on a chip SoC architectures or GPU architectures for example implementation of the techniques and or arrangements described herein are not restricted to particular architectures and or computing systems and may be implemented by any architecture and or computing system for similar purposes. Various architectures employing for example multiple integrated circuit IC chips and or packages and or various computing devices and or consumer electronic CE devices such as set top boxes smartphones etc. may implement the techniques and or arrangements described herein. Further while the following description may set forth numerous specific details such as logic implementations types and interrelationships of system components logic partitioning integration choices etc. claimed subject matter may be practiced without such specific details. Furthermore some material such as for example control structures and full software instruction sequences may not be shown in detail in order not to obscure the material disclosed herein.

Certain portions of the material disclosed herein are implemented in hardware for example as logic circuitry in a graphics processor. Certain other portions may be implemented in hardware firmware software or any combination thereof. At least some of the material disclosed herein may also be implemented as instructions stored on a machine readable medium which may be read and executed by one or more processors graphics processors and or central processors . A machine readable medium may include any medium and or mechanism for storing or transmitting information in a form readable by a machine e.g. a computing device . For example a machine readable medium may include read only memory ROM random access memory RAM magnetic disk storage media optical storage media flash memory devices electrical optical acoustical or other similarly non transitory tangible media.

One or more system apparatus article and method are described below for voltage regulation of processor sub domains. is a functional block diagram illustrating a micro processor which in the exemplary embodiment is a SoC including both a graphics core and central core s . While embodiments herein describe certain features in the context of an integrated graphics core the same features are applicable to discrete GPU dGPU embodiments. Processor employs an integrated voltage regulator IVR which depending on the embodiment may be integrated into a package of processor and or embedded directly on the processor die. IVR may include for example a buck boost converter stage and or a switched capacitor divider stage etc. IVR is coupled to graphics core and central cores to supply power to each over one or more power supply rails. One or more power supply rail to graphics core for example may be at a supply voltage Vthat may be varied as a function of a supply voltage control signal originating from somewhere within processor e.g. graphics core or central core etc. so that graphics core may meet a particular power performance point at a given time.

In embodiments a processor core includes one or more voltage regulated sub domain within a voltage domain. is a functional block diagram further illustrating a graphics core power management architecture employing sub domain voltage regulation in accordance with an embodiment. As shown graphics core includes a voltage domain . A voltage domain is a grouping of functional logic circuit units LU that are operated at a same domain voltage e.g. V as provided by a supply rail of a first voltage regulator e.g. IVR . Although only one voltage domain is illustrated in for the sake of clarity graphics core may have a number of voltage domains enabling different operating voltages across different functional logic units. Voltage regulated sub domain VRSD is within voltage domain . A voltage regulated sub domain entails one or more logic unit that is reliant upon a supply voltage of the voltage domain with which it is associated and is further operable at a voltage regulated to other than the domain voltage. More specifically a voltage regulated sub domain entails one or more logic unit that can be controlled to at least one operating voltage below that of the voltage domain from which the sub domain is powered. As shown in VRSD is powered through a supply branch off domain voltage supply rail . Supply branch functionally includes a sub domain voltage regulator SDVR to regulate the sub domain voltage Vdown to a suitable value below domain voltage Vthat will maintain LU in an operational state. Implementations of SDVR may vary as is described in more detail below. SDVR is notably down stream of IVR and therefore relatively more local than IVR . SDVR may be advantageously entirely integrated on the same die as graphics core whereas IVR may include at least external magnetics e.g. integrated at a package level or second chip etc. .

In further embodiments a sub domain power supply branch includes power gate functionality. For example in supply branch includes functionality of power gate operable to gate the domain voltage V e.g. V 0 when power gate transistor is turned off and thereby place LU into a non operable or inactive sleep state. This power gate functionality serves to reduce leakage loss at any given domain voltage Vwhen SDVR is not regulating sub domain voltage to some operational voltage. In addition to the voltage regulation and power gating modes in further embodiments a sub domain power supply branch is additionally configurable to bypass SDVR in a bypass mode during which the sub domain voltage Vis equal to domain voltage V or very nearly so e.g. V Vwhen power gate transistor is turned on . With the supply branch functionality illustrated in VRSD is operable both in a VR mode in which LU is operable at a different e.g. lower regulated voltage than domain voltage V and in a power domain mode where power to LU is either gated or unified with remainder of voltage domain . Notably while the exemplary embodiment in illustrates that VRSD is further operable in the power domain mode a voltage regulated sub domain need not have such gating bypassing capability in addition to voltage regulation. Similarly power domains need not be supplied through a sub domain voltage regulator. Therefore within a given voltage domain power domains may be provided independently from voltage regulated sub domains.

In embodiments Dynamic Voltage and Frequency Scaling DVFS may be utilized to vary clock frequencies of one or more voltage domains e.g. V and or sub domains e.g. V within graphics core . Such algorithms may be implemented by a power management unit PMU to meet performance demands of given workload at a reduced power level for example by using power gating to reduce high leakage power during idle time of voltage domain or by reducing high power idle time at the finer granular level of sub domain . As shown by the dashed line in PMU is communicatively coupled to both IVR and SDVR for example as a controller of one or more of the domain voltage Vand sub domain voltage V. Reducing domain voltage V and a target clock frequency Ffor a clock domain within voltage domain yields a cubic reduction in dynamic power C V F related to the charging and discharging of logic transistors. An exponential reduction in leakage power IV related to transistor gate and channel leakage is also achieved. To maintain voltage domain in an operational state however domain voltage Vis maintained above a minimum threshold below which the logic transistors become inactive in a sleep state. This minimum active domain voltage threshold is a function of die to die and w in die device variations in addition to dynamic variations as a result of worst case voltage droops junction temperatures and aging.

Power domain gating and sub domain voltage regulation may further serve to reduce the power dissipated by a voltage domain operating at a given domain voltage either by turning off power to unused logic units of the domain executing a workload or by reducing voltage to certain logic units within the voltage domain relative to other logic units within that voltage domain. Whereas a power domain or sleep island can be implemented with a number of power transistors a voltage regulated sub domain further comprises a sub domain voltage regulator. The power saving benefit achieved with the relatively more challenging implementation of a voltage regulated sub domain is dependent on the sub domain architecture. The additional flexibility afforded by the possibility of mixing voltage regulated sub domains and power domains also makes sub domain definition challenging.

In certain advantageous embodiments a first voltage regulated sub domain includes at least one execution unit EU or shader core. An EU generally has one or more single instruction multiple data SIMD machine and a number of vector arithmetic logic units ALU . For an exemplary embodiment with one or more EU in VRSD the EU operating voltage s may be regulated down independently of the operating point for other logic units in voltage domain . This additional sub domain level voltage regulation may provide further flexibility in tailoring graphics core power performance point beyond modulating active EU counts through power domain gating control. For example rather than merely turning an EU on or off an EU may be operated at a multiple different voltage frequency VF pairings independent of other logic units in the voltage domain.

In further embodiments one voltage regulated sub domain includes at least one or more execution unit EU while another voltage regulated sub domain includes at least one or more texture sampler logic circuit unit. A sampler generally performs texture processing for example mapping between a texel space and a pixel space with sampling and filtering functions designed to avoid frequency dependent artifacts etc. is a functional block diagram illustrating a graphics processor architecture employing sub domain voltage regulation in accordance with such an embodiment. In this exemplary embodiment within voltage domain is VRSD that includes at least one EU . VRSD is coupled to rail through supply branch which is operable to convert domain voltage Vdown to a first sub domain voltage Vthat maintains the EU logic circuitry operational in an active low power state. Also within voltage domain is VRSD that includes at least one sampler . VRSD is coupled to rail through supply branch which is operable to convert domain voltage Vdown to a second sub domain voltage Vthat maintains the sampler logic circuitry operational in an active low power state. Power supply branches are therefore each operable to provide a sub domain voltage lower than the voltage at which the other sub domain is operated. As further illustrated in there may be any number of similarly configured voltage regulated sub domains for example partitioning various groupings of execution units. PMU is coupled to each supply branch that includes a sub domain voltage regulator or power gate and is operable to set a regulated voltage target for each sub domain and or select between a voltage regulation mode and a power gating mode if supported by the supply branch circuitry.

In embodiments a voltage regulated sub domain including the sampler further includes other non EU logic units. Exemplary non EU logic units include but are not limited to rasterizers caches media pipeline fixed functions and memory interfaces. For such embodiments the EU logic units may be either controlled within another sub domain as described above or controlled only at the voltage domain level. is a modeled power performance comparison graph illustrating a performance line of a graphics processor architecture employing sub domain voltage regulation in accordance with an embodiment. Performance lines correspond to two alternative processor architectures provide in for comparison. Performance line corresponds to an exemplary architecture having non EU processor logic e.g. sampler rasterizer cache memory interface media fixed function blocks etc. in a VRSD controllable independently of a fixed number of active EUs e.g. 24 EU . At the low power end of the performance line the entire graphics processor is operating at the low voltage low frequency point e.g. V 0.6V F 450 MHz . At point A on performance line the EUs have been accelerated to operate at a high voltage high frequency point e.g. V 0.9V F 900 MHz while the other logic in the VRSD is regulated down to maintain the low voltage low frequency point e.g. V 0.6V F 450 MHz .

Performance line corresponds to an architecture where active EU count is again fixed e.g. 24 EU but there is no sub domain voltage regulation. To increase performance all the non EU logic is operated at the same shared voltage frequency point as the EU and so power increases more dramatically with increasing processor performance. For example at the iso performance line between points A and B e.g. 200 GFLOPS the voltage regulated sub domain provides a 25 30 power savings. Alternatively at least a 5 bump in performance is achieved for the iso power line between points A and C. Performance line represents an architecture where only active EU count is increased through power domain control with each active EU operated at a fixed low voltage and low clock frequency point e.g. V 0.6V F 450 MHz . While such an architecture is the most energy efficient of the three illustrated in the efficiency gain is at the expense of an EU area penalty of up to 125 e.g. 54 24 24 .

With illustrating the benefit of micro turbo functionality within a graphics processor afforded by the more granular voltage regulated sub domains it is further noted the greater granularity is of more benefit as the rate at which the sub domain voltage is modulated increases. This is because the dynamics of the workload become increasingly difficult to predict for the more finely grained sub domain and the time period over which one sub domain limits the performance of a domain may be of smaller duration. For example an EU limited workload execution condition may be present for time windows on the order of hundreds of nanoseconds to microseconds. In advantageous embodiments therefore a sub domain voltage regulator is further operable to vary a sub domain voltage between the domain voltage and a reduced voltage at a rate greater than the rate at which the voltage domain may be modulated. is a graph of a domain voltage and a regulated sub domain voltage as a function of time in accordance with one such embodiment. Beginning at time t domain voltage Vincreases from V e.g. 0.6V to V e.g. 0.9V at a relatively slow rate until leveling off at time t. The increase in Vmay be triggered for example to meet an initial increased performance demand for a given workload. This change in domain voltage Vmay be implemented for example by switching between external rails e.g. separate rails from IVR in or by raising the external rail voltage e.g. IVR outputting a higher Vvoltage on rail . In either case milliseconds may be required for this voltage change which may be too slow to provide adequate control for EU level granularity. At time t a sub domain voltage regulator e.g. SDVR is controlled to convert the domain voltage down to output a reduced sub domain voltage V for example back down to V. The decrease in Vmay be triggered for example based on a decreased performance demand on the EU. The change in sub domain voltage Vis much faster occurring over a time window that is less than a few microseconds advantageously less than a few hundreds of nanoseconds and more advantageously no more than a few tens of nanoseconds. At time t sub domain voltage Vis returned from Vback to domain voltage V for example in response to an increased EU demand. With fast sub domain voltage switching a sub domain switching cycle over which EU operating voltage is stepped down and back need be only slightly greater than the switching time allowing for relatively less latency than is associated with domain voltage V.

In an embodiment sub domain voltage regulation is implemented with a digital low dropout DLDO regulator. The power savings achieved through sub domain voltage regulation has a linear rather than quadratic dependence on voltage due to power loss attributable to the linear drop out through the regulator. Low dropout is therefore advantageous in addition to high voltage switching frequency. is a circuit schematic illustrating a sub domain supply branch employing a DLDO in accordance with an embodiment. An output of PMU is coupled to an input of DLDO and more specifically to an input of a comparator as a voltage reference specifying a sub domain voltage target. Comparator may be any digital comparator such as but not limited to a flash or direct conversion ADC capable of high sample rates and low operating voltage e.g. 0.6V . Comparator is advantageously a capacitive design clocked by a clock signal input into comparator that may be of any available rate e.g. 1 100 MHz with lower rates consuming less power but modulating the sub domain voltage less rapidly. Output of comparator is coupled to an input of switch array controller . Switch array controller may be for example based on a shift register with parallel outputs each output corresponding to a bit of an n bit shift register and coupled to a gate of a power transistor FET of switch array . In the exemplary embodiment illustrated in switch array includes a plurality of PMOS power transistors with their source and drains coupled in parallel across the power supply rail and DLDO output node . Output node is further coupled to an input of comparator for voltage sense feedback. Sub domain is further coupled to output node as the load. As an option a decoupling capacitor of a value sufficiently small to be integrated on chip may be further coupled to output node .

As shown in DLDO includes many parallel PMOS power transistor legs any number of which may be turned on or off. As further illustrated in SDVR incorporating DLDO may be modeled as a variable resistance between input power rail at domain voltage Vand an output at sub domain voltage V. The resistance value is dependent on the number of DLDO transistor legs that are enabled based on the voltage control signal output by PMU . In an advantageous embodiment where a sub domain supply branch is further operable in a power gating mode the parallel power FET legs of DLDO may be all disabled to isolate sub domain e.g. to place sampler in sleep mode etc. or may be all enabled to operatively short sub domain voltage Vto domain voltage V e.g. to bypass power gate and regulation etc. .

Notably chip area overhead for implementing sub domain voltage regulation with a DLDO of the type illustrated in is primarily attributable to the voltage sensor e.g. comparator and switch array controller which are each very compact. Switch array may be nominally overloaded onto a switch array configured for gating of a power domain. For example is a circuit schematic illustrating a physical implementation of the functional power gate introduced in in accordance with an embodiment. As shown the PMOS transistors are to be all turned on during an active mode and all turned off during a sleep mode. This multi gate power gate implementation beneficially distributes the current from the power gate device to all portions of the power domain. In a conventional power gate architecture one signal is typically used in a daisy chain fashion to turn the transistors all on or all off simplifying the overhead associated with implementing a power domain e.g. in terms of routing resources . Daisy chaining the turn on of power switches reduces voltage droop on the ungated power rail during a wake up of SD . This same functionality however can be achieved via switch array controller in the DLDLO illustrated in . Hence any power domains desired within a voltage domain can be overloaded with the voltage regulation function to enable the sub domain voltage regulation mode of one or more embodiments described herein.

At operation a sub domain in VR mode may be brought up to a higher operating voltage if the domain voltage Vprovides sufficient headroom above the minimum operative voltage threshold. If not increasing sub domain voltage Vat operation may be equivalent to bypassing voltage regulation such that V V. At operation a sub domain may be brought down to an operating voltage below domain voltage Vif there is sufficient headroom above the minimum operational voltage threshold. For example decreasing sub domain voltage Vat operation may switch a sub domain from bypass mode to VR mode where Vis brought from V down to V. Independently the domain voltage may be brought either up to a higher domain performance point at operation or down to a lower domain performance point at operation . Method then loops back to performance monitoring operation .

Method continues with operation where the non EU sub domain including one or more sampler is brought from bypass mode into voltage regulation mode with Vregulated down from Vto keep the sampler at V. The sampler is likewise maintained at the low clock frequency F as depicted in . At time ttherefore the EU of the unregulated sub domain e.g. sub domain in is in the micro turbo mode with the sampler in the regulated domain e.g. sub domain in operating at lower power. Method continues to monitor performance demand at operation and an end of the EU bottlenecking period is detected at t. Domain voltage Vhowever remains at Vaccording to the domain voltage switching time. With the relatively faster voltage switching afforded by the sub domain regulator sub domain voltage latency can be significantly less than that of the domain. Method proceeds to operation where the EU sub domain is brought into VR mode with Vregulated down to place the EU back at V. Along with the sub domain regulation the EU clock frequency is switched back to F as also depicted in . At this point two separate sub domains one for the EU s and one for the sampler s are in regulation mode keeping any number of other logic units operating in a low power mode while the supply rail common to both sub domains is at V.

Continuing with method upon detecting another EU bottlenecking the EU micro turbo mode is activated again by a sub domain voltage controller responsive to a performance parameter associated with relevant sub domain. Bypass operation is executed which terminates voltage regulation at time t returning Vto V. The EU sub domain then switches clocks to F. At time t the EU domain returns to regulation mode and low clock frequency. As such the EU sub domain voltage is cycled between domain voltage Vand Vto modulate the performance of the EU independently from the sampler and any other non EU logic units. After meeting the latency requirement for the domain voltage method continues to operation where domain voltage Vis reduced back to Vfor greater power savings.

In further embodiments the architecture with two voltage regulated sub domains may be maintained across additional subslices. For the architecture shown in multiple subslices etc. are provided for each slice common . Cache e.g. a L3 cache is also common to the plurality of subslices . With this architecture all EUs and are grouped within one voltage regulated sub domain while all non EU logic units are managed in another voltage regulated sub domain. illustrates an alternative voltage regulated sub domain architecture in which all logic units outside of subslice are in a voltage sub domain sampler is in another voltage sub domain and EUs are in another sub domain. The three sub domain architecture may then be maintained across additional subslices or two additional domains may be added for each additional subslice as for the architecture illustrated in .

In various implementations system includes a platform coupled to a HID . Platform may receive captured personal media data from a personal media data services device s a personal media data delivery device s or other similar content source. A navigation controller including one or more navigation features may be used to interact with for example platform and or HID . Each of these components is described in greater detail below.

In various implementations platform may include any combination of a chipset processor memory storage graphics processor applications and or radio . Chipset may provide intercommunication among processor memory storage graphics processor applications or radio . For example chipset may include a storage adapter not depicted capable of providing intercommunication with storage .

Processor may be implemented as one or more Complex Instruction Set Computer CISC or Reduced Instruction Set Computer RISC processors x86 instruction set compatible processors multi core or any other microprocessor or central processing unit CPU . In various implementations processor may be a multi core processor s multi core mobile processor s and so forth.

Memory may be implemented as a volatile memory device such as but not limited to a Random Access Memory RAM Dynamic Random Access Memory DRAM or Static RAM SRAM .

Storage may be implemented as a non volatile storage device such as but not limited to a magnetic disk drive optical disk drive tape drive an internal storage device an attached storage device flash memory battery backed up SDRAM synchronous DRAM and or a network accessible storage device. In various implementations storage may include technology to increase the storage performance enhanced protection for valuable digital media when multiple hard drives are included for example.

Graphics processor may perform processing of images such as still or video media data for display or perform general computing functions in a highly parallel manner. Graphics processor may include one or more GPU or visual processing unit VPU for example. An analog or digital interface may be used to communicatively couple graphics processor and display . For example the interface may be any of a High Definition Multimedia Interface Display Port wireless HDMI and or wireless HD compliant techniques. Graphics processor may be integrated with central processor onto a single chip i.e. SoC as a graphics core or provided as part of chipset . In some implementations graphics processor may be a stand alone card communicatively coupled to chipset . In various exemplary embodiments graphics processor and or central processor invokes or otherwise implements processes and or processor power management methods utilizing voltage regulated core sub domains for example as described elsewhere herein.

The sub domain voltage regulation and processor power management techniques described herein may be implemented in various hardware architectures cell designs or IP cores. As still another embodiment the methods and functions described herein in the context of graphics processor may be extended to a general purpose processor including a multi core processor. In further embodiments the methods and functions may be implemented in a purpose built consumer electronics device such as a game console processor.

Radio may include one or more radios capable of transmitting and receiving signals using various suitable wireless communications techniques. Such techniques may involve communications across one or more wireless networks. Example wireless networks include but are not limited to wireless local area networks WLANs wireless personal area networks WPANs wireless metropolitan area network WMANs cellular networks and satellite networks. In communicating across such networks radio may operate in accordance with one or more applicable standards in any version.

In various implementations HID may include any television type monitor or display. HID may include for example a computer display screen touch screen display video monitor television like device and or a television. HID may be digital and or analog. In various implementations HID may be a holographic display. Also HID may be a transparent surface that may receive a visual projection. Such projections may convey various forms of information images and or objects. For example such projections may be a visual overlay for a mobile augmented reality MAR application. Under the control of one or more software applications platform may display user interface on HID .

In various implementations personal media services device s may be hosted by any national international and or independent service and thus accessible to platform via the Internet for example. Personal media services device s may be coupled to platform and or to display . Platform and or personal services device s may be coupled to a network to communicate e.g. send and or receive media information to and from network . Personal media delivery device s also may be coupled to platform and or to HID .

In various implementations personal media data services device s may include a cable television box personal computer network telephone Internet enabled devices or appliance capable of delivering digital information and or content and any other similar device capable of unidirectionally or bidirectionally communicating content between a media data provider and platform via network or directly. It will be appreciated that the content may be communicated unidirectionally and or bidirectionally to and from any one of the components in system and a provider via network . Examples of personal media include any captured media information including for example video music medical and gaming information and so forth.

Personal media data services device s may receive content including media information with examples of content providers including any cable or satellite television or radio or Internet content providers. The provided examples are not meant to limit implementations in accordance with the present disclosure in any way.

In various implementations platform may receive control signals from navigation controller having one or more navigation features. The navigation features of controller may be used to interact with user interface for example. In embodiments navigation controller may be a pointing device that may be a computer hardware component specifically a human interface device that allows a user to input spatial e.g. continuous and multi dimensional data into a computer. Many systems such as graphical user interfaces GUI and televisions and monitors allow the user to control and provide data to the computer or television using physical gestures.

Movements of the navigation features of controller may be replicated on a display e.g. HID by movements of a pointer cursor focus ring or other visual indicators displayed on the display. For example under the control of software applications the navigation features located on navigation controller may be mapped to virtual navigation features displayed on user interface for example. In embodiments controller may not be a separate component but may be integrated into platform and or HID . The present disclosure however is not limited to the elements or in the context shown or described herein.

In various implementations program logic may allow platform to stream content to media adaptors or other personal media services device s or personal media delivery device s even when the platform is turned off In addition chipset may include hardware and or software support for 8.1 surround sound audio and or high definition 7.1 surround sound audio for example. Drivers may include a graphics driver for integrated graphics platforms.

In various embodiments system may be implemented as a wireless system a wired system or a combination of both. When implemented as a wireless system system may include components and interfaces suitable for communicating over a wireless shared media such as one or more antennas transmitters receivers transceivers amplifiers filters control logic and so forth. An example of wireless shared media may include portions of a wireless spectrum such as the RF spectrum and so forth. When implemented as a wired system system may include components and interfaces suitable for communicating over wired communications media such as input output I O adapters physical connectors to connect the I O adapter with a corresponding wired communications medium a network interface card NIC disc controller video controller audio controller and the like. Examples of wired communications media may include a wire cable metal leads printed circuit board PCB backplane switch fabric semiconductor material twisted pair wire co axial cable fiber optics and so forth.

Platform may establish one or more logical or physical channels to communicate information. The information may include media information and control information. Media information may refer to any data representing content meant for a user. Examples of content may include for example data from a voice conversation videoconference streaming video electronic mail message voice mail message alphanumeric symbols graphics image video text and so forth. Data from a voice conversation may be for example speech information silence periods background noise comfort noise tones and so forth. Control information may refer to any data representing commands instructions or control words meant for an automated system. For example control information may be used to route media information through a system or instruct a node to process the media information in a predetermined manner. The embodiments however are not limited to the elements or in the context shown or described in .

As described above system may be embodied in varying physical styles or form factors. illustrates embodiments of a small form factor device in which system may be embodied. In embodiments for example device may be implemented as a mobile computing device having wireless capabilities. A mobile computing device may refer to any device having a processing system and a mobile power source or supply such as one or more batteries for example.

As described above examples of a mobile computing device may include a personal computer PC laptop computer ultra laptop computer tablet touch pad portable computer handheld computer palmtop computer personal digital assistant PDA cellular telephone combination cellular telephone PDA television smart device e.g. smartphone tablet or smart television mobile internet device MID messaging device data communication device and so forth.

Examples of a mobile computing device also may include computers configured to be worn by a person such as a wrist computer finger computer ring computer eyeglass computer belt clip computer arm band computer shoe computers clothing computers and other wearable computers. In various embodiments for example a mobile computing device may be implemented as a smart phone capable of executing computer applications as well as voice communications and or data communications. Although some embodiments may be described with a mobile computing device implemented as a smart phone by way of example it may be appreciated that other embodiments may be implemented using other wireless mobile computing devices as well. The embodiments are not limited in this context.

As shown in device may include a housing a display an input output I O device and an antenna . Device also may include navigation features . Display may include any suitable display unit for displaying information appropriate for a mobile computing device. I O device may include any suitable I O device for entering information into a mobile computing device. Examples for I O device may include an alphanumeric keyboard a numeric keypad a touch pad input keys buttons switches rocker switches microphones speakers voice recognition device and software and so forth. Information also may be entered into device by way of microphone not shown or may be digitized by a voice recognition device. Embodiments are not limited in this context.

Various embodiments described herein may be implemented using hardware elements software elements or a combination of both. Examples of hardware elements or modules include processors microprocessors circuitry circuit elements e.g. transistors resistors capacitors inductors and so forth integrated circuits application specific integrated circuits ASIC programmable logic devices PLD digital signal processors DSP field programmable gate array FPGA logic gates registers semiconductor device chips microchips chip sets and so forth. Examples of software elements or modules include applications computer programs application programs system programs machine programs operating system software middleware firmware routines subroutines functions methods procedures software interfaces application programming interfaces API instruction sets computing code computer code code segments computer code segments data words values symbols or any combination thereof. Determining whether an embodiment is implemented using hardware elements and or software elements may vary in accordance with any number of factors considered for the choice of design such as but not limited to desired computational rate power levels heat tolerances processing cycle budget input data rates output data rates memory resources data bus speeds and other design or performance constraints.

One or more aspects of at least one embodiment may be implemented by representative instructions stored on a machine readable storage medium. Such instructions may reside completely or at least partially within a main memory and or within a processor during execution thereof by the machine the main memory and the processor portions storing the instructions then also constituting a machine readable storage media. Instructions representing various logic within the processor which when read by a machine may also cause the machine to fabricate logic adhering to the architectures described herein and or to perform the techniques described herein. Such representations known as cell designs or IP cores may be stored on a tangible machine readable medium and supplied to various customers or manufacturing facilities to load into the fabrication machines that actually make the logic or processor.

While certain features set forth herein have been described with reference to various implementations this description is not intended to be construed in a limiting sense. Hence various modifications of the implementations described herein as well as other implementations which are apparent to persons skilled in the art to which the present disclosure pertains are deemed to be within the spirit and scope of the present disclosure.

In one or more first embodiment a first voltage domain coupled to a power supply rail operable at a domain voltage. A first voltage sub domain of the first voltage domain coupled to the power supply rail through a first supply branch the first voltage sub domain including at least one or more texture sampler. A second voltage sub domain of the first voltage domain coupled to the power supply rail through a second supply branch the second voltage sub domain including at least one or more execution unit EU . At least one of the first and second supply branches is operable to convert the domain voltage down to a sub domain voltage that maintains the sampler or EU in an active low power state.

In furtherance of the one or more first embodiment the first supply branch further comprises a voltage regulator operable to provide to the first voltage sub domain a first sub domain voltage that is lower than a second sub domain voltage provided to the second voltage sub domain.

In furtherance of the one or more first embodiment the first supply branch further comprises a first voltage regulator operable to provide the first sub domain voltage. The second supply branch further comprises a second voltage regulator operable to provide to the second voltage sub domain a second sub domain voltage lower than the domain voltage and sufficient to maintain the EU in an active state.

In furtherance of the one or more first embodiment the domain voltage is modifiable between a high voltage and a low voltage. The first supply branch further comprises a voltage regulator operable to convert the high voltage down to the low voltage and to output the low voltage to the first sub domain. The domain voltage is modifiable at a first rate between a high voltage and a low voltage. The first supply branch further comprises a voltage regulator operable to provide the first sub domain voltage to the first voltage sub domain. The voltage regulator is further operable to vary the first sub domain voltage between the high voltage and the low voltage at a second rate that is greater than the first rate.

In furtherance of the one or more first embodiment at least the second supply branch comprises a plurality of power transistors operable in a voltage regulation mode to convert the domain voltage to the reduced sub domain voltage and further operable in a power gating mode to deactivate at least one of the EU.

In furtherance of the one or more first embodiment the system includes a sub domain voltage controller and a voltage regulator comprising a digital low dropout DLDO regulator coupled to the sub domain voltage controller.

In furtherance of the one or more first embodiment the system includes a sub domain voltage controller and a voltage regulator comprising a digital low dropout DLDO regulator coupled to the sub domain voltage controller. The DLDO regulator further comprises a voltage sensor a switch array including a plurality of power transistors coupled in parallel across the power supply rail and an output of the DLDO and a digital switch controller having outputs coupled to gates of the power transistors to vary the number of transistors enabled in the switch array as a function of an output of the sub domain voltage controller and an output of the DLDO that is coupled to the voltage sensor.

In furtherance of the one or more first embodiment the system includes a sub domain voltage controller responsive to a performance parameter associated with at least one of the first and second sub domain and includes a voltage regulator comprising a digital low dropout DLDO regulator coupled to the sub domain voltage controller. The DLDO regulator further comprises a switch array including a plurality of power transistors coupled in parallel across the power supply rail and an output of the DLDO a comparator to compare an output of the sub domain voltage controller and the output of the DLDO and a digital controller coupled to gates of the transistors to vary the number of transistors enabled in the switch array based on an output of the comparator.

In furtherance of the one or more first embodiment the first voltage sub domain includes at least the sampler a rasterizer and a memory interface. The second voltage sub domain includes a plurality of EUs and is exclusive of the sampler the rasterizer and the memory interface.

In one or more second embodiment a processing system includes a central processor core a graphics processor core a first voltage regulator to provide power supply rails to both the central processor core and graphics processor core. The graphics processor core further includes a first voltage domain coupled to receive a domain voltage from one or more of the power supply rails. The graphics processor core further includes a first voltage sub domain coupled to the one or more power supply rails through a first supply branch the first voltage sub domain including at least a texture sampler. The graphics processor core further includes a second voltage sub domain coupled to the one or more power supply rails through a second supply branch the second voltage sub domain including at least an execution unit EU . At least one of the first and second supply branches includes a second voltage regulator operable to reduce the domain voltage to a sub domain voltage that maintains the sampler or EU in an active low power state.

In furtherance of the one ore more second embodiment the first supply branch further comprises the second voltage regulator operable to provide the first sub domain voltage. The second supply branch further comprises a third voltage regulator operable to provide to the second voltage sub domain a second sub domain voltage that is lower than the domain voltage and maintains the EU in an active state.

In furtherance of the one ore more second embodiment the first voltage sub domain includes at least the sampler a rasterizer and a memory interface. The second voltage sub domain includes a plurality of EUs and is exclusive of the sampler rasterizer and the memory interface. Each of the second and third voltage regulators comprises a digital low dropout DLDO regulator. In furtherance of the one ore more second embodiment each DLDO regulator further includes a voltage sensor a switch array including a plurality of power transistors coupled in parallel across the power supply rail and an output of the DLDO and a digital switch controller having outputs coupled to gates of the transistors to vary the number of transistors enabled in the switch array from zero to power gate a sub domain to more than zero to voltage regulate a sub domain as a function of the output of the DLDO coupled to the voltage sensor and a control signal indicative of a target sub domain voltage.

In one or more third embodiments a method of managing performance of a graphics processor core includes supplying a domain voltage over a power supply rail coupled to a voltage domain including one or more sampler and one or more execution unit EU . The method further includes monitoring performance demand on the graphics processor core. The method further includes regulating a first sub domain voltage supplied from the rail and provided to the one or more sampler based on the monitoring to below the domain voltage independently of a second sub domain voltage supplied from the rail and provided to the one or more EU.

In furtherance of the one or more third embodiment the method includes operating the EU at a second sub domain voltage that is equal to the domain voltage while operating the sampler at the first sub domain voltage. The method further includes regulating the second sub domain voltage to below the domain voltage. The method further includes operating the EU at the reduced second sub domain voltage.

In furtherance of the one or more third embodiment the method includes cycling at least the second sub domain voltage between the domain voltage and a voltage below the domain voltage to modulate the performance of the at least one EU independently from the at least one sampler.

In furtherance of the one or more third embodiment the method includes increasing the domain voltage from a low voltage to a high voltage at a first rate before regulating the second sub domain voltage down from the high voltage to the low voltage at a second rate greater than the first rate.

In furtherance of the one or more third embodiment the method includes controlling a plurality of power transistors in a voltage regulation mode to regulate the domain voltage down to the second sub domain voltage during a first time period and

In furtherance of the one or more third embodiment the method includes controlling one or more of the plurality of transistors in a power gating mode to deactivate at least one of the EU.

In furtherance of the one or more third embodiment regulating a first sub domain voltage further includes receiving a sub domain voltage control signal performing a comparison of the sub domain voltage control signal with the first sub domain voltage and driving a digital controller coupled to gates of the transistors to vary based on the comparison a number of enabled power transistors coupled in parallel across the power supply rail and an output rail coupled to the first sub domain.

In one or more fourth embodiment at least one machine readable storage medium including machine readable instructions that in response to being executed on a computing device cause the computing device to manage performance of a graphics processor core by monitoring performance demand on the graphics processor core and based on the monitoring regulating a first sub domain voltage supplied to one or more sampler by a power supply rail coupled to a voltage domain including the sampler and one or more execution unit EU to below the domain voltage independently of a second sub domain voltage supplied to the one or more EU.

In furtherance of the on or more fourth embodiment the machine readable instructions further includes instructions that in response to being executed on the computing device cause the computing device to manage performance of a graphics processor core by operating the EU at a second sub domain voltage that is equal to the domain voltage while operating the sampler at the first sub domain voltage regulating the second sub domain voltage to below the domain voltage and operating the EU at the reduced second sub domain voltage.

In one or more fifth embodiment a machine readable storage medium including machine readable instructions when executed implement a method or realize an apparatus as described in any preceding embodiment.

In one or more sixth embodiment an apparatus includes means to perform the method as in any of the one or more third embodiment.

In one or more seventh embodiment a graphics processor core includes a means for supplying a domain voltage over a power supply rail coupled to a voltage domain including one or more sampler and one or more execution unit EU . The core further includes a means for monitoring performance demand on the graphics processor core. The core further includes a means for regulating a first sub domain voltage supplied from the rail and provided to the one or more sampler based on an output from the monitoring means to below the domain voltage independently of a second sub domain voltage supplied from the rail and provided to the one or more EU.

In furtherance of the one or more seventh embodiment the graphics processor core further includes a means for cycling at least the second sub domain voltage between the domain voltage and a voltage below the domain voltage to modulate the performance of the at least one EU independently from the at least one sampler.

In furtherance of the one or more seventh embodiment the means for supplying the domain voltage further comprises a means for increasing the domain voltage from a low voltage to a high voltage at a first rate before regulating the second sub domain voltage down from the high voltage to the low voltage at a second rate greater than the first rate.

It will be recognized that the embodiments are not limited to the exemplary embodiments so described but can be practiced with modification and alteration without departing from the scope of the appended claims. For example the above embodiments may include specific combination of features. However the above embodiments are not limited in this regard and in various implementations the above embodiments may include the undertaking only a subset of such features undertaking a different order of such features undertaking a different combination of such features and or undertaking additional features than those features explicitly listed. Scope should therefore be determined with reference to the appended claims along with the full scope of equivalents to which such claims are entitled.

