---

title: Method for transitioning radio resource control state of user equipment to idle state, system therefor, and the same user equipment
abstract: In a WCDMA mobile communication system, when the amount of packet traffic transmitted to or received from a UE decreases during a predetermined time in a CELL_DCH state in which a WCDMA packet data connection has been established, the UE transitions to a CELL_FACH state by a radio network controller (RNC). Thereafter, it is determined if there is no transmitted or received packet traffic during a certain time in the CELL_FACH state (which is an RRC state in which an RRC connection has been connected, and the dedicated physical channel has been released). When it is determined that there is no transmitted or received packet traffic during the certain time, the UE requests a network to release the RRC connection by utilizing a Signaling Connection Release Indication (SCRI) message. The invention enables a UE to check a packet transmission or reception flow, and to directly transmit the SCRI message to the network.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09420625&OS=09420625&RS=09420625
owner: Samsung Electronics Co., Ltd.
number: 09420625
owner_city: Suwon-si
owner_country: KR
publication_date: 20131203
---
The present application is a continuation of U.S. patent application Ser. No. 12 082 398 filed Apr. 10 2008 which is related to and claims the benefit under 35 U.S.C. 119 a of an application entitled METHOD FOR TRANSITIONING RADIO RESOURCE CONTROL STATE OF USER EQUIPMENT TO IDLE STATE SYSTEM THEREFOR AND THE SAME USER EQUIPMENT filed in the Korean Industrial Property Office on Apr. 13 2007 and assigned Korean Patent Application Serial No. 10 2007 0036670. The present application claims priority to both U.S. patent application Ser. No. 12 082 398 and Korean Patent Application Serial No. 10 2007 0036670 the contents of both of these applications are hereby incorporated by reference.

The present invention relates to a WCDMA mobile communication system and more particularly to a method for transitioning the radio resource control state of a user equipment UE to an idle state a system therefor and the same UE.

A WCDMA mobile communication system provides a Multimedia Broadcast Multicast Service MBMS to user equipments UEs . The MBMS is a service for transmitting data packets to users.

The WCDMA mobile communication system includes at least one UE and or for receiving the MBMS a UMTS Terrestrial Radio Access Network UTRAN containing a node B and a radio network controller RNC a Serving GPRS Support Node SGSN belonging to a core network CN a Home Location Register HLR a Gateway GPRS Support Node GGSN not shown and a packet network for transmitting packet data.

The UE or is connected to the node B and the UTRAN so as to process a call supports both circuit service CS and packet service PS and includes hardware and software for receiving MBMS data. The node B is connected to the UE or via a Uu interface and the RNC is connected to the SGSN via an Iu interface.

The UTRAN performs a protocol conversion process to transfer radio frequency RF data control messages transmitted from the UE or over the air to the CN using a GPRS Tunneling Protocol GTP . In this case the GPRS General Packet Radio Service is a packet data service provided in the UMTS network. The SGSN is a network node for managing subscriber and position information of the UE or . The SGSN is connected to the UTRAN via an Iu interface and transmits receives data control messages etc. to from the packet network . The SGSN is connected to the HLR via a Gr interface and manages the subscriber information and position information. The HLR stores subscriber information of a packet domain routing information etc. The HLR is connected to the SGSN via a Gr interface. A message flow for transmitting receiving packet data in a WCDMA mobile communication system having the aforementioned construction will now be described with reference to .

First in order for the UE and the RNC to transmit or receive packet data therebetween a radio resource control RRC connection must be set between the UE and the RNC .

The RRC connection set between the UE and the RNC may have one of three states i.e. a CELL DCH state a CELL FACH state and an IDLE state and transitions between the CELL DCH state the CELL FACH state and the IDLE state according to the volume of packet data traffic transmitted and received between the UE and the RNC .

The CELL DCH state refers to a 3GPP WCDMA RRC state and represents a state in which the RRC connection and a dedicated physical channel are connected between a UE and a node B i.e. UTRAN in a WCDMA network. In the CELL DCH state a large amount of packet data is actually transmitted or received.

The CELL FACH state refers to a 3GPP WCDMA RRC state and represents a state in which the dedicated physical channel is released and the RRC connection is maintained. In the CELL FACH state an S CCPCH FACH is continuously monitored and a small amount of uplink or downlink packet data can be transmitted or received.

The IDLE state represents a state in which both RRC connection and dedicated physical channel have been released. In the IDLE state only a paging indication channel PICH is monitored and it is possible to enter a WCDMA protocol sleep state.

Referring to the UE transmits an RRC connection setup request message to the RNC in step . When receiving the RRC Connection Setup Request message the RNC transmits an RRC Connection Setup message to the UE in step . When receiving the RRC Connection Setup message the UE transmits an RRC Connection Setup Complete message to the RNC in response to the RRC Connection Setup message thereby setting an RRC connection between the UE and RNC .

Then the UE performs a packet data protocol PDP Context Activation procedure for packet data communication. In detail the UE transmits a PDP Context Activation Request message to the SGSN in step . When receiving the PDP Context Activation Request message from the UE the SGSN transmits a PDP Context Activation Accept message to the UE in step thereby enabling the UE to perform packet communication.

After the PDP Context Activation procedure uplink and downlink packet data traffic is transmitted between the UE and the SGSN in step . Thereafter when there is no packet data traffic transmitted between the UE and the SGSN in step the RNC changes a state of a physical channel established between the UE and RNC in step . In other words when the volume of packet data traffic transmitted to or received from the UE is reduced the RNC transitions to the CELL FACH state. Subsequently when the RNC determines that there is no more packet data traffic transmitted in step the RNC proceeds to step where the RNC transmits an RRC Connection Release message to the UE . In response to the RRC Connection Release message the UE transmits an RRC Connection Release Complete message to the RNC in step so that the RRC connection transitions to the IDLE state.

As described above according to the conventional WCDMA 3GPP standard while packet data is being transmitted received after signaling for transmission of packet data has been achieved between the UE and the SGSN if the volume of packet data traffic is reduced the RNC releases the RRC connection and instructs the UE to transition the RRC state from the CELL FACH or CELL DCH state to the IDLE state.

Through this the UE releases the RRC connection and transitions from the CELL FACH or CELL DCH state to the IDLE state thereby entering a sleep state in terms of protocol. When the UE has entered the sleep state power consumption is minimized so that it is possible to stably manage the battery thereof.

However some WCDMA networks have a problem in that they do not release the RRC connection or that they release the RRC connection too late although there is no more packet data traffic being transmitted in the CELL FACH state.

According to the conventional technology there is no way for the UE to transition from the CELL FACH state to the IDLE state except for following the control of the network. Therefore the UE must continuously monitor a dedicated control channel DCCH a radio access channel RACH and a forward access channel FACH while in the CELL DCH state and must continuously monitor the FACH and the RACH while in the CELL FACH state so that unnecessary current consumption is caused thereby decreasing the battery lifetime.

Also among smart phones recently highlighted in the 3G market WinCE based phones have a menu which is configured in such a manner as to release a cellular connection by a wireless manager so that the WinCE based phone does not release the PDP connection even when the End key is pressed unlike other general phones thereby having a high probability of causing the aforementioned problem.

To address the above discussed deficiencies of the prior art it is a primary object to provide a method for transitioning the state of a user equipment UE to an idle state a system therefor and the same UE.

In accordance with an aspect of the present invention there is provided a system for transitioning a radio resource control RRC state of a user equipment to an idle state the system including the user equipment for transmitting a Signaling Connection Release indication SCRI message when packet data traffic transmitted to received from the user equipment has not been generated during a predetermined time and a radio network controller RNC for transmitting an RRC Connection Release message to the user equipment when the RNC has received the SCRI message from the user equipment.

In accordance with another aspect of the present invention there is provided a method for transitioning a radio resource control RRC state of a user equipment to an idle state by the user equipment the method including the steps of determining if packet data traffic transmitted from received to the user equipment has not been generated during a predetermined time and transmitting a Signaling Connection Release Indication SCRI message to a radio network controller RNC when the packet data traffic transmitted from received to the user equipment has not been generated during a predetermined time.

Before undertaking the DETAILED DESCRIPTION OF THE INVENTION below it may be advantageous to set forth definitions of certain words and phrases used throughout this patent document the terms include and comprise as well as derivatives thereof mean inclusion without limitation the term or is inclusive meaning and or the phrases associated with and associated therewith as well as derivatives thereof may mean to include be included within interconnect with contain be contained within connect to or with couple to or with be communicable with cooperate with interleave juxtapose be proximate to be bound to or with have have a property of or the like and the term controller means any device system or part thereof that controls at least one operation such a device may be implemented in hardware firmware or software or some combination of at least two of the same. It should be noted that the functionality associated with any particular controller may be centralized or distributed whether locally or remotely. Definitions for certain words and phrases are provided throughout this patent document those of ordinary skill in the art should understand that in many if not most instances such definitions apply to prior as well as future uses of such defined words and phrases.

According to the present invention there is provided a method for solving an inefficient current consumption problem which is caused because a WCDMA network attempts to transition a radio resource control RRC state to an IDLE state when there is no packet data actually being transmitted received in a packet data transmission reception stage a system for the method and an operation method of a user equipment UE therefor.

According to an exemplary embodiment of the present invention in a WCDMA mobile communication system when the amount of packet traffic transmitted to or received from a UE decreases during a predetermined time in a CELL DCH state which is an RRC state in which a dedicated physical channel has been connected in which a WCDMA packet data connection has been established the UE transitions to a CELL FACH state by a radio network controller RNC . Thereafter it is determined if there is no transmitted or received packet traffic during a certain time in the CELL FACH state which is an RRC state in which an RRC connection has been connected and the dedicated physical channel has been released . When it is determined that there is no transmitted received packet traffic during the certain time the UE requests a network to release the RRC connection by utilizing a Signaling Connection Release Indication SCRI message.

According to the conventional WCDMA 3GPP standard 3GPP TS 25.331 it is stipulated that the SCRI message should be transmitted by a UE either when the UE fails in an RRC connection in a network or when a time out of transmission reception of a dedicated control channel DCCH message on an RRC connection occurs. In contrast according to the present invention a UE checks a packet transmission reception flow and can directly transmit the SCRI message to the network.

In addition according to an exemplary embodiment of the present invention when an Iu Release request is transmitted between a radio network controller RNC and an SGSN under the above situation the RNC establishes cause 40 in the Iu Release request and transmits the Iu Release request to the SGSN. When the SGSN receives the Iu Release request with the cause 40 the SGSN can terminate only the Iu signaling connection while maintaining the PDP connection.

In step a UE determines if an SCRI transmission condition is satisfied. The SCRI transmission condition is a condition for transmitting an SCRI message from the UE to an RNC . In detail the UE periodically reports the volume of packet data traffic transmitted from received to the UE to the RNC . Then the RNC instructs the UE to transition to the CELL FACH state based on the reported volume of packet data traffic. The UE transitions to the CELL FACH state and then determines if the SCRI transmission condition is satisfied.

According to an exemplary embodiment of the present invention when there is no packet data traffic transmitted from received to the UE during a certain time or certain period it is determined that the SCRI transmission condition is satisfied. In this case the UE transitions to the CELL FACH state and then determines if packet data traffic transmitted from received to the UE has not been generated during a certain time. According to another exemplary embodiment of the present invention the UE may determine if packet data traffic transmitted from received to the UE has not been generated during a certain time in the CELL DCH state. It will be understood by those skilled in the art that various SCRI transmission conditions may be established depending on operators or systems.

When the SCRI transmission condition has been satisfied the UE transmits an SCRI message to the RNC in step . In this case if only a packet switching domain service is currently in activation the UE only has to record ps as a factor of the SCRI and to transmit an SCRI message and if the UE is in a multi RAB Radio Access Bearer situation e.g. CS PS a case where a Circuit Switching Domain Dedicated Resource and a Packet Switching Domain Dedicated Resource are simultaneously allocated to and used by the UE the UE transmits an SCRI message to the RNC after the CS domain service e.g. voice call has been completed.

When receiving the SCRI message the RNC transmits an Iu Release Request message to an SGSN in step . In this case a cause value included in the Iu Release Request message is set to cause 40 Release due to UE generated signaling connection release . 

Since the cause value included in the received Iu Release Request message has been set to cause 40 the SGSN can determine that the RNC requests the SGSN to release an Iu signaling connection but to maintain a PDP connection. Accordingly the SGSN transmits an Iu Release Command message to the RNC in step in order to preserve the PDP connection and to release the Iu signaling connection.

When receiving the Iu Release Command message the RNC releases an Iu signaling connection resource and transmits an Iu Release Complete message to the SGSN in step . Thereafter the RNC transmits an RRC Connection Release message to the UE in step in order to release an RRC connection with the UE .

After receiving the RRC Connection Release message the UE changes the RRC state to the IDLE state while transmitting an RRC Connection Release Complete message to the RNC in step which can achieve a state transition to a sleep state in terms of protocol thereby largely reducing the amount of current consumption.

The UE includes a PDA unit a display unit and a modem unit . The modem unit includes a protocol task section . The protocol task section communicates with a WCDMA network transfers packet data from the network to the PDA unit and transmits various data from the PDA unit to the network. In addition the protocol task section monitors the volume of packet data traffic transmitted received between the UE and the network.

The PDA unit includes an operating system OS a radio interface layer RIL and an interface task section . The interface task section performs interfacing with the modem unit . The interface task section monitors the volume of packet data traffic transmitted received between the interface task section and the modem unit . In addition the interface task section receives from the protocol task section information about the volume of packet data traffic transmitted received between the UE and the network. The interface task section determines if the SCRI transmission condition is satisfied based on the volume of packet data traffic transmitted received between the interface task section and the modem unit and the volume of packet data traffic transmitted received between the UE and the network.

As described above the SCRI transmission condition is satisfied when packet data traffic transmitted from received to the UE has not been generated during a certain time. To this end the interface task section may include a certain timer not shown or may use an existing timer within the PDA unit .

When the SCRI transmission condition is satisfied the interface task section notifies the RIL that it is necessary to enter a PDP Preservation state. The PDP Preservation state represents a state in which a PDP connection is preserved while an Iu signaling connection has been released.

The RIL interfaces for example an operating system for a wireless UE such as a CellCore layer of a Windows Mobile with a wireless protocol stack within the modem chip . In addition when the RIL receives the report that it is necessary to enter the PDP Preservation state from the interface task section the RIL transfers the notification for the PDP Preservation to the operating system .

Upon receiving the notification for the PDP Preservation from the RIL the operating system calls an RIL application programming interface RIL API . Then the RIL instructs the interface task section to transmit an SCRI message to the network according to the called RIL API. The interface task section instructs the RRC to transmit an SCRI to the RNC in response to the instruction of the RIL .

A control flow for transitioning to the IDLE state by the UE will now be described with reference to .

First the UE periodically measures and reports the volume of packet data traffic to the RNC . The network i.e. the RNC changes the RRC state of the UE based on the volume of packet data traffic reported from the UE . The following description will be given on the assumption that the UE periodically measures the volume of packet data traffic.

Referring to in step the UE is in the CELL FACH state. As described above the CELL FACH state represents a state in which a dedicated physical channel has been released while the RRC connection is maintained. In the CELL FACH state the UE can transmit or receive a small amount of uplink or downlink packet data to or from the network.

When the UE has entered the CELL FACH state the UE determines if there is packet data traffic transmitted to received from the RNC in step . If it is determined that there is no transmitted received packet data traffic the UE proceeds to step where the UE drives a timer T notraffic. The operating time of the timer is appropriately determined so as to prevent the UE from being maintained in the CELL FACH state and consuming battery power during no transmitted received packet data traffic.

In detail the operating time of the timer i.e. a timer value is determined to be an appropriate value for at least driving the timer directly after packet traffic is measured as zero by a traffic volume management of a MAC entity and preventing battery power from being consumed. Generally it takes about 10 seconds to release an RRC connection in an actual WCDMA commercial network. Therefore the operating time of the timer may be determined by taking the time into consideration. Otherwise the user may directly set the timer value through a menu.

After the timer has been driven the UE proceeds to step where the UE determines if the UE has received an RRC Connection Release message from the RNC . The network i.e. the RNC may transmit the RRC Connection Release message before the timer expires. When receiving the RRC Connection Release message the UE proceeds to step .

In contrast when the UE has not received the RRC Connection Release message from the RNC the UE proceeds to step where the UE determines if the timer T notraffic expires. When the timer T notraffic does not expire the UE returns to step .

In contrast when the timer T notraffic expires the UE transmits an SCRI message to the RNC in step and transitions to the IDLE state in step .

Although there is no packet data being transmitted or received between the UE and the network there may exist packet data transmitted received between the PDA unit and the modem unit . According to an exemplary embodiment of the present invention when there is no packet data being transmitted or received not only between the UE and the network but also between the PDA unit and the modem unit the SCRI message can be transmitted. Another exemplary embodiment of the present invention may be implemented in such a manner that when there is no packet data being transmitted or received between the UE and the network the UE transmits the SCRI message even if there is packet data being transmitted received between the PDA unit and the modem unit .

When an event satisfying an SCRI transmission condition occurs the interface task section notifies the RIL that it is necessary to enter a PDP Preservation state in step . The PDP Preservation state represents a state in which a PDP connection is preserved while an Iu signaling connection has been released. When receiving the notification that it is necessary to enter the PDP Preservation state from the interface task section the RIL transfers a notification for the PDP Preservation to the operating system in step .

When receiving the notification for the PDP Preservation from the RIL the operating system calls an RIL Application Programming Interface RIL API in step . Then in step the RIL instructs the interface task section to transmit an SCRI message to the network according to the called RIL API. In step the interface task section instructs the RRC to transmit the SCRI to the RNC in response to the instruction of the RIL .

Meanwhile although the embodiment of the present invention has been described about a case where the UE transitions from the CELL FACH state to the IDLE state the present invention may be applied to a case where the UE transitions from the CELL DCH state to the IDLE state. In other words even when the current RRC state of the UE is the CELL DCH state the method of the present invention may be performed if there is no packet data traffic being transmitted or received between the UE and the network.

As described above the method according to the present invention can solve a problem of unnecessarily increasing current consumption of the UE which is caused because the network does not attempt to release the RRC connection or attempts to release the RRC connection too late although there is no more packet data traffic actually being transmitted in the CELL FACH state.

In detail the method according to the present invention can be applied to all WinCE based 3G UEs using WCDMA data service and can efficiently handle a current consumption increase due to problems resulting from the network. In addition the method according to the present invention can be internally implemented by applying an additional algorithm to the UE without a change in the existing 3GPP messages and may be applied even to the network of an actual provider through interoperability testing IOT in the RNC SGSN.

Although the present disclosure has been described with an exemplary embodiment various changes and modifications may be suggested to one skilled in the art. It is intended that the present disclosure encompass such changes and modifications as fall within the scope of the appended claims.

