---

title: Data capturing method of NFC protocol and NFC electronic device using the same
abstract: A data capturing method of near-field communication (NFC) protocol and an NFC electronic device thereof are provided. The method can be applied to an NFC electronic device with an operation system, and the operation system includes a kernel mode and a user mode. The method includes following steps: detecting a readable element by an interface drive module in the kernel mode to obtain NFC original data transferred by the readable element; capturing the NFC original data from the interface drive module by a capturing module and outputting the NFC original data to an analyzing module in the user mode; and analyzing the NFC original data by the analyzing module to obtain NFC target data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09160422&OS=09160422&RS=09160422
owner: ASUSTeK COMPUTER INC.
number: 09160422
owner_city: Taipei
owner_country: TW
publication_date: 20131118
---
This application claims the priority benefit of U.S. provisional application Ser. No. 61 729 402 filed on Nov. 22 2012 and CN application serial No. 201310415379.8 filed on Sep. 12 2013. The entirety of each of the above mentioned patent applications are hereby incorporated by reference herein and made a part of specification.

The invention relates to a data capturing method and an electronic device and more particularly to a data capturing method of near field communication NFC protocol and an NFC electronic device using the same.

Electronic devices communicates with each other in a near field can be archived via Near field communication NFC which is a principle of magnetic induction that developed from an integration of radio frequency identification RFID and interconnection technology. The NFC technology permits two electronic devices to execute a point to point connection and a communication protocol when the devices exist nearby or close contact with each other so as to perform data exchange.

The NFC technology can achieve data exchange without a cable and additionally it also has many advantageous in application. Since two devices can communicate with each other in a close proximity under NFC data exchange becomes more intuitive and rapid. Furthermore since a physical connection is not needed in the NFC the transmission security is relatively high which is a better choice in electronic payment and ticket payment.

However application programs in a user mode cannot get detailed information relating to the NFC protocol such as a unique identification UID or types of an NFC smart card via a proximity application programming interface APIs provided in the Windows operation system.

A data capturing method of NFC protocol and an NFC electronic device thereof are provided. They can capture original data relating to the NFC protocol to an application program module in a user mode which improves the flexibility and convenience of NFC.

The data capturing method of the NFC protocol is applied to an electronic device. The electronic device has an operation system and the operation system includes a kernel mode and a user mode. The method includes following steps detecting a readable element in the kernel mode capturing and outputting NFC original data of the readable element and analyzing the NFC original data in the user mode to obtain NFC target data.

The NFC electronic device has an operation system and the operation system includes a kernel mode and a user mode. The NFC electronic device includes an interface drive module a capturing module and an analyzing module. The interface drive module is disposed in the kernel mode and detects a readable element to obtain NFC original data transmitted by the readable element. The capturing module captures the NFC original data from the interface drive module and outputs the NFC original data. The analyzing module is disposed in the user mode receives the NFC original data outputted by the capturing module and analyzes the NFC original data to obtain NFC target data.

As stated above the data capturing method of NFC protocol and the NFC electronic device thereof can obtain application program modules of the NFC electronic device without changing application program interfaces provided by the operation system and improve the using flexibility and convenience in NFC via NFC protocol specification data. Moreover if tags of the readable element and the account information of the operation system login process are integrated the user does not need to input the account information manually which simplifies the login process.

These and other features aspects and advantages of the present invention will become better understood with regard to the following description appended claims and accompanying drawings.

The NFC device transfers and receives data from a readable element via an NFC protocol. The NFC device may be but not limited to an active NFC reading device and it gives out a connection request signal to other NFC devices by generating a radio frequency field. Thus when the readable element with an NFC tag approaches the NFC electronic device the NFC device transfers information to the NFC tag of the readable element and the NFC tag gives a response to the NFC electronic device via the radio frequency field generated by the NFC device . If the NFC tag is an active type and includes a power resource the NFC tag can also generate an electric field to give a response to the NFC electronic device . The readable element may be a portable NFC product such as an inductive chip card like a watch. The type of the readable element is not limited.

The storage unit may be one or a combination of a random access memory RAM a read only memory ROM a flash memory and a hard disk which is not limited herein and it records multiple modules which can be executed by the processing unit . The modules can load the processing unit to capture data of the NFC protocol. Furthermore the storage unit also records at least one operation system such as the Windows 8 developed by the Microsoft Company to make the NFC electronic device operate normally.

The processing unit may be one or a combination of a central processing unit CPU a programmable microprocessor for a general or specified purpose a digital signal processor DSP a programmable controller an application specific integrated circuits ASIC and a programmable logic device PLD . The processing unit is connected to the NFC device and the storage unit accesses and executes the modules recorded in the storage unit to capture the data of the NFC protocol.

The modules include an interface drive module a capturing module and an analyzing module . The modules may be application programs or drive programs which is not limited herein. The modules can load the processing unit to capture the data of the NFC protocol. The processing unit also accesses and executes the operation system recorded in the storage unit to make the NFC electronic device operate normally. The operation system includes a kernel mode and a user mode. The data capturing method of the NFC protocol is illustrated as follows.

In step S the readable element is detected in the kernel mode. The NFC electronic device detects the readable element via the interface drive module in the kernel mode to obtain NFC original data of the readable element . Specifically when the processing unit executes the interface drive module the NFC device is drived to detect whether another NFC device exists. When the readable element is detected the interface drive module drives the NFC device to transfer data with the readable element via the NFC protocol. Thus the NFC original data transferred by the readable element are obtained via the interface drive module . The NFC original data may include multiple types of NFC protocol specification data such as types of the NFC tag or communication standards between the NFC devices.

In step S the NFC original data of the readable element are captured and outputted. The NFC electronic device captures the NFC original data from the interface drive module via the capturing module and outputs the NFC original data to the analyzing module in the user mode. For example a proximity application program interface API provided in Windows8 system cannot transfer the NFC original data to an application program in the user mode. However although the analyzing module is an application program in the user mode the NFC original data of the interface drive module can be transferred to the application program in the user mode by taking the capturing module as an output interface of the NFC original data which improves the flexibility of the NFC.

The capturing module can be directly disposed in the kernel mode or disposed in a proximity drive module in the user mode. That means the step of capturing and outputting the NFC original data of the readable element by the capturing module can be executed in the kernel mode or the user mode.

In step S the NFC original data are analyzed in the user mode to obtain the NFC target data. After the capturing module captures the data relating to the NFC protocol the analyzing module further analyzes and obtains the NFC target data. In other words the NFC original data includes various data relating to the NFC protocol and the analyzing module selects specified data needed by other application programs or itself. For example the NFC target data may a unique identification UID of the readable element or types of an NFC card which is not limited herein. The capturing module may be disposed in a proximity drive program of the user mode or directly disposed in the kernel mode and is connected to the interface drive module which is illustrated as follows.

The analyzing module can communicate with the proximity drive module and thus the capturing module outputs the NFC original data r data to the analyzing module . When the NFC device is driven by the interface drive module to detect the readable element the NFC original data r data are transferred to the proximity drive module . The proximity drive module regards the capturing module as a data output interface and outputs the NFC original data r data to the analyzing module . Additionally the proximity drive module can first analyzes the NFC original data r data and then transfers the analyzed data to the analyzing module via the capturing module. Both the NFC application program and the analyzing module can execute the NFC operation provided by the operation system via the proximity application program interface . However compared with the analyzing module since the NFC application program is not connected to the capturing module it cannot obtain the original data relating to the NFC protocol.

That is the analyzing module can communicate with the capturing module and thus the capturing module can output the NFC original data r data to the analyzing module . When the NFC device is driven by the interface drive module to detect the readable element the NFC original data r data are transferred to the capturing module and captured by the capturing module and then the NFC original data r data are outputted to the analyzing module for further analysis. Moreover both of the NFC application program and the analyzing module can execute the NFC operation provided by the operation system via the proximity application program interface . However compared with the analyzing module since the NFC application program is not connected to the capturing module it cannot obtain the original data relating to the NFC protocol.

Thus in the data capturing method of the NFC protocol the information relating to the NFC protocol can be captured for a further use without changing the proximity application program interface. For example the captured NFC protocol information can be used as an operation system login credential. The steps of using the NFC protocol data to login the system are illustrated with relating embodiments as follows.

In step S the interface drive module detects the readable element in the kernel mode to obtain the NFC original data of the readable element . In step S the capturing module captures and outputs the NFC original data of the readable element . In other words the capturing module captures the NFC original data from the interface drive module and outputs the NFC original data to the analyzing module in the user mode. In step S the analyzing module analyzes the NFC original data in the user mode to obtain the NFC target data. The steps S to S are the same or similar with the steps S to S in the previous embodiments which is omitted herein.

After the analyzing module analyzes and obtains the NFC target data in step S the analyzing module inquiries whether corresponding account information exists according to the NFC target data. For example the analyzing module inquiries whether corresponding account information exists in a database according to the NFC target data. If the inquiring result is no in the step S it means no corresponding account information is inquired. Then in step S the analyzing module registers the NFC target data to generate the corresponding account information. Furthermore if no account information corresponding to the NFC target data is inquired it means the NFC target data are not registered and the NFC target data are not related to any account information in the database. Thus the analyzing module executes a register process and builds the corresponding account information in the database according to the NFC target data.

Consequently when the user wants to login the operation system at the next time he or she only needs to make the NFC electronic device induct the registered readable element and the NFC electronic device automatically searches the account information meeting the login interface and finishes the operation system login process. Moreover after the register process is finished and the corresponding account information is built step S is executed and the analyzing module outputs the registered corresponding account information to a user interface of a login program to finish the operation system login process. The user interface of a login program may be a boot login interface of the Windows operation system.

On the other hand if the inquiring result is yes in the step S it means the analyzing module finds the corresponding account information. Thus in the step S the analyzing module directly outputs the corresponding account information to the user interface of a login program to finish the operation system login process. That is if the inquiring result is yes in the step S it means the account information corresponding to the NFC target data is already built in the database. The analyzing module can select a group of the account information meeting the user login interface in the database according to the NFC target data and finish the operation system login process. As stated above the user only needs to make the readable element inducted and the NFC electronic device automatically searches the account information meeting the user login interface and finishes the operation system login process. Generally when the user uses an electronic device to login the operation system he or she needs to input different account IDs and passwords manually. In the embodiment the step of inputting the account information manually can be omitted and the corresponding account information is searched and selected automatically which simplifies the login process.

In sum in the data capturing method of the NFC protocol and the NFC electronic device the NFC electronic device can capture the data relating to the NFC protocol to the analyzing module in a current mode via the capturing module without changing the application program interface. The analyzing module further analyzes the data relating to the NFC protocol and obtains specified target data for itself or other application programs to use which improves the flexibility and convenience of the NFC. Moreover the user login interface of the operation system can execute the login process via the specified data of the NFC protocol which can ensure the login security and simplify the login process.

Although the present invention has been described in considerable detail with reference to certain preferred embodiments thereof the disclosure is not for limiting the scope. Persons having ordinary skill in the art may make various modifications and changes without departing from the scope. Therefore the scope of the appended claims should not be limited to the description of the preferred embodiments described above.

