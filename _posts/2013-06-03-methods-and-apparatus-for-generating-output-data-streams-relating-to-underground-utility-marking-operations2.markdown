---

title: Methods and apparatus for generating output data streams relating to underground utility marking operations
abstract: Methods and apparatus for generating electronic records of marking operations for underground facilities/utilities. Electronic records of marking information may be logged/stored in local memory of a marking device, formatted in various manners, processed and/or analyzed at the marking device itself, and/or transmitted in whole or in part to another device (e.g., a remote computer/server) for storage, processing and/or analysis. In one example, an output stream of data packets is provided, wherein each data packet includes one or more flag fields that is/are set or reset upon at least one actuation of the marking device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09542863&OS=09542863&RS=09542863
owner: CertusView Technologies, LLC
number: 09542863
owner_city: Palm Beach Gardens
owner_country: US
publication_date: 20130603
---
This application claims a priority benefit under 35 U.S.C. 120 as a continuation CON of U.S. Non provisional application Ser. No. 12 622 768 entitled METHODS AND APPARATUS FOR GENERATING AN ELECTRONIC RECORD OF A MARKING OPERATION INCLUDING SERVICE RELATED INFORMATION AND OR TICKET INFORMATION filed on Nov. 20 2009.

U.S. patent application Ser. No. 12 622 768 claims a priority benefit under 35 U.S.C. 120 as a continuation CON of U.S. Non provisional application Ser. No. 12 539 497 entitled Methods and Apparatus for Generating an Electronic Record of a Marking Operation based on Marking Device Actuations filed on Aug. 11 2009 and issued as U.S. Pat. No. 8 280 631 on Oct. 2 2012.

U.S. patent application Ser. No. 12 539 497 claims the benefit under 35 U.S.C. 119 e of U.S. Provisional Application Ser. No. 61 102 151 entitled Data acquisition system for and method of analyzing marking operations based on marking device actuations filed on Oct. 2 2008.

Each of the above identified applications is hereby incorporated herein by reference in its entirety.

Field service operations may be any operation in which companies dispatch technicians and or other staff to perform certain activities for example installations services and or repairs. Field service operations may exist in various industries examples of which include but are not limited to network installations utility installations security systems construction medical equipment heating ventilating and air conditioning HVAC and the like.

An example of a field service operation in the construction industry is a so called locate and marking operation also commonly referred to more simply as a locate operation or sometimes merely as a locate . In a typical locate operation a locate technician visits a work site in which there is a plan to disturb the ground e.g. excavate dig one or more holes and or trenches bore etc. so as to determine a presence or an absence of one or more underground facilities such as various types of utility cables and pipes in a dig area to be excavated or disturbed at the work site. In some instances a locate operation may be requested for a design project in which there may be no immediate plan to excavate or otherwise disturb the ground but nonetheless information about a presence or absence of one or more underground facilities at a work site may be valuable to inform a planning permitting and or engineering design phase of a future construction project.

In many states an excavator who plans to disturb ground at a work site is required by law to notify any potentially affected underground facility owners prior to undertaking an excavation activity. Advanced notice of excavation activities may be provided by an excavator or another party by contacting a one call center. One call centers typically are operated by a consortium of underground facility owners for the purposes of receiving excavation notices and in turn notifying facility owners and or their agents of a plan to excavate. As part of an advanced notification excavators typically provide to the one call center various information relating to the planned activity including a location e.g. address of the work site and a description of the dig area to be excavated or otherwise disturbed at the work site.

A locate operation typically is initiated as a result of an excavator providing an excavation notice to a one call center. An excavation notice also is commonly referred to as a locate request and may be provided by the excavator to the one call center via an electronic mail message information entry via a website maintained by the one call center or a telephone conversation between the excavator and a human operator at the one call center. The locate request may include an address or some other location related information describing the geographic location of a work site at which the excavation is to be performed as well as a description of the dig area e.g. a text description such as its location relative to certain landmarks and or its approximate dimensions within which there is a plan to disturb the ground at the work site. One call centers similarly may receive locate requests for design projects for which as discussed above there may be no immediate plan to excavate or otherwise disturb the ground .

Using the information provided in a locate request for planned excavation or design projects the one call center identifies certain underground facilities that may be present at the indicated work site. For this purpose many one call centers typically maintain a collection polygon maps which indicate within a given geographic area over which the one call center has jurisdiction generally where underground facilities may be found relative to some geographic reference frame or coordinate system.

Polygon maps typically are provided to the one call centers by underground facilities owners within the jurisdiction of the one call center members of the one call center . A one call center first provides the facility owner member with one or more maps e.g. street or property maps within the jurisdiction on which are superimposed some type of grid or coordinate system employed by the one call center as a geographic frame of reference. Using the maps provided by the one call center the respective facilities owners members draw one or more polygons on each map to indicate an area within which their facilities generally are disposed underground without indicating the facilities themselves . These polygons themselves do not precisely indicate geographic locations of respective underground facilities rather the area enclosed by a given polygon generally provides an over inclusive indication of where a given facilities owner s underground facilities are disposed. Different facilities owners members may draw polygons of different sizes around areas including their underground facilities and in some instances such polygons can cover appreciably large geographic regions e.g. an entire subdivision of a residential area which may further obfuscate the actual precise location of respective underground facilities.

Based on the polygon maps collected from the facilities owners members the one call center may in some instances create composite polygon maps to show polygons of multiple different members on a single map. Whether using single member or composite polygon maps the one call center examines the address or location information provided in the locate request and identifies a significant buffer zone around an identified work site so as to make an over inclusive identification of facilities owners members that may have underground facilities present e.g. to err on the side of caution . In particular based on this generally over inclusive buffer zone around the identified work site and in some instances significantly over inclusive buffer zone the one call center consults the polygon maps to identify which member polygons intersect with all or a portion of the buffer zone so as to notify these underground facility owners members and or their agents of the proposed excavation or design project. Again it should be appreciated that the buffer zones around an indicated work site utilized by one call centers for this purpose typically embrace a geographic area that includes but goes well beyond the actual work site and in many cases the geographic area enclosed by a buffer zone is significantly larger than the actual dig area in which excavation or other similar activities are planned. Similarly as noted above the area enclosed by a given member polygon generally does not provide a precise indication of where one or more underground facilities may in fact be found.

In some instances one call centers may also or alternatively have access to various existing maps of underground facilities in their jurisdiction referred to as facilities maps. Facilities maps typically are maintained by facilities owners members within the jurisdiction and show for respective different utility types where underground facilities purportedly may be found relative to some geographic reference frame or coordinate system e.g. a grid a street or property map GPS latitude and longitude coordinates etc. . Facilities maps generally provide somewhat more detail than polygon maps provided by facilities owners members however in some instances the information contained in facilities maps may not be accurate and or complete. For at least this reason whether using polygon maps or facilities maps as noted above the one call center utilizes a significant buffer zone around an identified work site so as to make an over inclusive identification of facilities owners members that may have underground facilities present.

Once facilities implicated by the locate request are identified by a one call center e.g. via the polygon map buffer zone process the one call center generates a locate request ticket also known as a locate ticket or simply a ticket . The locate request ticket essentially constitutes an instruction to inspect a work site and typically identifies the work site of the proposed excavation or design and a description of the dig area typically lists on the ticket all of the underground facilities that may be present at the work site e.g. by providing a member code for the facility owner of an underground facility that falls within a given polygon and may also include various other information relevant to the proposed excavation or design e.g. the name of the excavation company a name of a property owner or party contracting the excavation company to perform the excavation etc. . The one call center sends the ticket to one or more underground facility owners and or one or more locate service providers who may be acting as contracted agents of the facility owners so that they can conduct a locate and marking operation to verify a presence or absence of the underground facilities in the dig area. For example in some instances a given underground facility owner may operate its own fleet of locate technicians in which case the one call center may send the ticket to the underground facility owner. In other instances a given facility owner may contract with a locate service provider to receive locate request tickets and perform a locate and marking operation in response to received tickets on their behalf.

More specifically upon receiving the locate request a locate service provider or a facility owner hereafter referred to as a ticket recipient may dispatch a locate technician to the work site of planned excavation to determine a presence or absence of one or more underground facilities in the dig area to be excavated or otherwise disturbed. A first step for the locate technician includes utilizing an underground facility locate device which is an instrument for detecting facilities that are concealed in some manner such as cables and pipes that are located underground to verify the presence or absence of underground facilities indicated in the locate request ticket as potentially present in the dig area e.g. via the facility owner member codes listed in the ticket . An underground facility locate device is used to detect electromagnetic fields that are generated by a test signal provided along a length of a target facility to be identified. Locate devices typically include both a signal transmitter to provide the test signal e.g. which is applied by the locate technician to a tracer wire disposed along a length of a facility and a signal receiver which is generally a hand held apparatus carried by the locate technician as the technician walks around the dig area to search for underground facilities. The signal receiver indicates a presence of a facility when it detects electromagnetic fields arising from the test signal. Conversely the absence of a signal detected by the receiver of the locate device generally indicates the absence of the target facility.

Subsequently the locate technician then generally marks the presence and in some cases the absence of a given underground facility in the dig area based on the various signals detected or not detected using the locate device. For this purpose the locate technician conventionally utilizes a marking device to dispense a marking material on for example the ground pavement or other surface along a detected underground facility. Marking material may be any material substance compound and or element used or which may be used separately or in combination to mark signify and or indicate. Examples of marking materials may include but are not limited to paint chalk dye and or iron. Marking devices such as paint marking wands and or paint marking wheels provide a convenient method of dispensing marking materials onto surfaces such as onto the surface of the ground or pavement.

In the mechanical actuation system of the marking device includes an actuator or mechanical trigger proximate to the handle that is actuated triggered by the technician e.g. via pulling depressing or squeezing with fingers hand . The actuator is connected to a mechanical coupler e.g. a rod disposed inside and along a length of the elongated shaft . The coupler is in turn connected to an actuation mechanism at the distal end of the shaft which mechanism extends outward from the shaft in the direction of the spray nozzle . Thus the actuator the mechanical coupler and the actuation mechanism constitute the mechanical actuation system of the marking device .

In some environments arrows flags darts or other types of physical marks may be used to mark the presence or absence of an underground facility in a dig area in addition to or as an alternative to a material applied to the ground such as paint chalk dye tape along the path of a detected utility. The marks resulting from any of a wide variety of materials and or objects used to indicate a presence or absence of underground facilities generally are referred to as locate marks. Often different color materials and or physical objects may be used for locate marks wherein different colors correspond to different utility types. For example the American Public Works Association APWA has established a standardized color coding system for utility identification for use by public agencies utilities contractors and various groups involved in ground excavation e.g. red electric power lines and cables blue potable water orange telecommunication lines yellow gas oil steam . In some cases the technician also may provide one or more marks to indicate that no facility was found in the dig area sometimes referred to as a clear .

As mentioned above the foregoing activity of identifying and marking a presence or absence of one or more underground facilities generally is referred to for completeness as a locate and marking operation. However in light of common parlance adopted in the construction industry and or for the sake of brevity one or both of the respective locate and marking functions may be referred to in some instances simply as a locate operation or a locate i.e. without making any specific reference to the marking function . Accordingly it should be appreciated that any reference in the relevant arts to the task of a locate technician simply as a locate operation or a locate does not necessarily exclude the marking portion of the overall process.

Inaccurate locating and or marking of underground facilities can result in physical damage to the facilities property damage and or personal injury during the excavation process that in turn can expose a facility owner or contractor to significant legal liability. When underground facilities are damaged and or when property damage or personal injury results from damaging an underground facility during an excavation the excavator may assert that the facility was not accurately located and or marked by a locate technician while the locate contractor who dispatched the technician may in turn assert that the facility was indeed properly located and marked. Proving whether the underground facility was properly located and marked can be difficult after the excavation or after some damage e.g. a gas explosion because in many cases the physical locate marks e.g. the marking material or other physical marks used to mark the facility on the surface of the dig area will have been disturbed or destroyed during the excavation process and or damage resulting from excavation .

Previous efforts at documenting locate operations have focused primarily on locate devices that employ electromagnetic fields to determine the presence of an underground facility. For example U.S. Pat. No. 5 576 973 naming inventor Alan Haddy and entitled Apparatus and Method for Obtaining Geographical Positional Data for an Object Located Underground hereafter Haddy is directed to a locate device i.e. a locator that receives and stores data from a global positioning system GPS to identify the position of the locate device as an underground object e.g. a cable is detected by the locate device. Haddy notes that by recording geographical position data relating to the detected underground object there is no need to physically mark the location of the underground object on the ground surface and the recorded position data may be used in the future to re locate the underground object.

Similarly U.S. Pat. No. 7 319 387 naming inventors Willson et al. and entitled GPS Interface for Locating Device hereafter Willson is directed to a locate device for locating position markers i.e. passive antennas that reflect back RF signals and which are installed along buried utilities. In Willson a GPS device may be communicatively coupled to the locate device or alternatively provided as an integral part of the locate device to store GPS coordinate data associated with position markers detected by the locate device. Electronic memory is provided in the locate device for storing a data record of the GPS coordinate data and the data record may be uploaded to a remote computer and used to update a mapping database for utilities.

U.S. Publication No. 2006 0282280 naming inventors Stotz et al. and entitled Ticket and Data Management hereafter Stotz also is directed to a locate device i.e. a locator including a GPS receiver. Upon detection of the presence of a utility line Stotz locate device can update ticket data with GPS coordinates for the detected utility line. Once the locate device has updated the ticket data the reconfigured ticket data may be transmitted to a network.

U.S. Publication No. 2007 0219722 naming inventors Sawyer Jr. et al. and entitled System and Method for Collecting and Updating Geographical Data hereafter Sawyer is directed to collecting and recording data representative of the location and characteristics of utilities and infrastructure in the field for creating a grid or map. Sawyer employs a field data collection unit including a locating pole that is placed on top of or next to a utility to be identified and added to the grid or map. The locating pole includes an antenna coupled to a location determination system such as a GPS unit to provide longitudinal and latitudinal coordinates of the utility under or next to the end of the locating pole. The data gathered by the field data collection unit is sent to a server to provide a permanent record that may be used for damage prevention and asset management operations.

Applicants have recognized and appreciated that uncertainties which may be attendant to locate and marking operations may be significantly reduced by collecting various information particularly relating to the marking operation rather than merely focusing on information relating to detection of underground facilities via a locate device. In many instances excavators arriving to a work site have only physical locate marks on which to rely to indicate a presence or absence of underground facilities and they are not generally privy to information that may have been collected previously during the locate operation. Accordingly the integrity and accuracy of the physical locate marks applied during a marking operation arguably is significantly more important in connection with reducing risk of damage and or injury during excavation than the location of where an underground facility was detected via a locate device during a locate operation.

More specifically Applicants have recognized and appreciated that conventional techniques for using a locate device to detect underground facilities are sometimes tentative and typically iterative in nature and use of locate devices with GPS capabilities may result in redundant spurious and or incomplete geographic location data collected by such devices. For example during a typical locate operation a technician attempting to locate an underground facility with a locate device often needs to sweep an appreciable area around a suspected underground facility and make multiple passes with the locate device over the underground facility to obtain meaningful detection signals. Furthermore the technician often needs to rely significantly on visual observations of the area including relevant landmarks such as facility connections to buildings transformer boxes maintenance public access points curbs sidewalks roadways etc. to effectively deduce a sensible path of an underground facility to be located. The foregoing is particularly true if at some point during the locate operation the technician loses a signal from an underground facility in the process of being detected e.g. due to a broken transmitter circuit path from a damaged tracer wire and loss of the transmitter test signal . In view of the foregoing it may be readily appreciated that collecting and logging geographic location information throughout this process may result in excessive and or imprecise data or in some instances incomplete relevant data e.g. in the case of signal loss broken tracer wire from which it may be difficult to cull the data that is truly complete and representative of where the underground facility ultimately was detected.

Furthermore Applicants have recognized and appreciated that the location at which an underground facility ultimately is detected during a locate operation is not always where the technician physically marks the ground pavement or other surface during a marking operation in fact technician imprecision or negligence may in some instances result in significant discrepancies between detected location and physical locate marks. Accordingly having documentation e.g. an electronic record of where physical locate marks were actually dispensed i.e. what an excavator encounters when arriving to a work site is notably more relevant to the assessment of liability in the event of damage and or injury than where an underground facility was detected prior to marking.

Examples of marking devices configured to collect some types of information relating specifically to marking operations are provided in U.S. publication no. 2008 0228294 A1 published Sep. 18 2008 filed Mar. 13 2007 and entitled Marking System and Method With Location and or Time Tracking and U.S. publication no. 2008 0245299 A1 published Oct. 9 2008 filed Apr. 4 2007 and entitled Marking System and Method both of which publications are incorporated herein by reference. These publications describe amongst other things collecting information relating to the geographic location time and or characteristics e.g. color type of dispensed marking material from a marking device and generating an electronic record based on this collected information. Applicants have recognized and appreciated that collecting information relating to both geographic location and color of dispensed marking material provides for automated correlation of geographic information for a locate mark to facility type e.g. red electric power lines and cables blue potable water orange telecommunication lines yellow gas oil steam in contrast in conventional locate devices equipped with GPS capabilities as discussed above there is no apparent automated provision for readily linking GPS information for a detected facility to the type of facility detected. Applicants have further appreciated that building a more comprehensive electronic record of information relating to marking operations further facilitates ensuring the accuracy of such operations.

In view of the foregoing various inventive embodiments disclosed herein relate generally to methods and apparatus for collecting logging electronically storing formatting processing and or electronically analyzing a variety of information relating to marking operations. More specifically some exemplary embodiments described herein are directed to methods and apparatus for acquiring information relating to a marking operation i.e. dispensing of a marking material so as to mark a presence or absence of an underground facility generating a comprehensive electronic record of the marking operation including data relating to one or more actuations of a marking device to dispense a marking material and storing and or transmitting the electronic record for subsequent access processing and or analysis.

For example in some implementations of the methods and apparatus described herein when a locate technician actuates triggers a marking device to dispense marking material control electronics in the marking device may collect and store information from various devices also referred to herein generally as input devices included in the marking device e.g. a location sensor or tracking system to provide geographic information about where the material is dispensed a time sensor or timing system to provide timing information about when the material is dispensed a marking material detection mechanism to provide information about one or more characteristics of material dispensed etc. . Information may be collected at a start of a given actuation at one or more times during the actuation and or at the end of the actuation and for successive actuations. In some cases information relating to the marking operation may be collected or otherwise available before or after a given actuation or a succession of multiple actuations as an alternative to or in addition to information collected during one or more actuations.

Further in some embodiments of the invention disclosed herein one or more input devices of a marking apparatus may include a communication interface e.g. network interface and or a user interface and information received from the interface s may include or be related to a locate request ticket in response to which the locate and marking operation is being performed i.e. ticket information . This ticket information may include for example a one call center ticket number a street address or other geographic location of the work site a description of the dig area and or an indication of one or more facilities to be marked in the dig area e.g. via facility owner member codes . Examples of additional and or other information that may be received via a user interface associated with the marking device may include service related information e.g. one or more identifiers for the locate technician carrying out the locate and marking operation one or more identifiers for equipment used by the technician and or one or more identifiers for an employer of the technician.

Accordingly for purposes of the present disclosure marking information refers generally to any of the various types of information relating to a marking operation including for example but not limited to service related information ticket information time information geographic location information and marking material information alone or in various combinations with each other.

In various embodiments discussed herein marking information collected in response to actuation of the marking device and or otherwise generally associated with the locate and marking operation may be logged in entered into an electronic record of the marking operation and such an electronic record may be stored in memory of the marking device particularly formatted processed and or analyzed at the marking device itself and or transmitted to another device for storage formatting processing and or analysis.

During and or following collection and or storage of information regarding the marking operation data compiled in one or more electronic records associated with the marking operation may be accessed processed and or analyzed to provide further information relating to the performance of the marking operation. For example in other embodiments disclosed herein data from one or more electronic records of the marking operation is processed so as to electronically render visually recreate the marking operation e.g. on a display device associated with the marking device or other display device .

In one such exemplary implementation lines dots or other indicators are displayed in relative positions on a display screen e.g. at an appropriate scale based on an available display field and represent respective actuations of the marking device and corresponding physical locate marks created on a ground pavement or other surface . In one aspect of this implementation multiple different underground facilities that may have been located and marked during a locate and marking operation may be electronically rendered based on the information contained in one or more electronic records to provide a composite visual representation in the available display field e.g. in which different marked underground facilities are displayed in different line types and or different colors .

In other aspects electronic renderings may be generated statically e.g. in which all available data in an electronic record is rendered essentially simultaneously on an available display field or in an animated time sequenced recreation of the marking operation e.g. based on at least timing and geographic location information in the electronic record once an electronic record is generated. In yet another exemplary implementation various information to be logged in an electronic record may be passed transmitted in essentially real time to one or more display devices to facilitate an essentially real time electronic rendering on an available display field of a marking operation in process.

In sum one embodiment of the present invention is directed to an apparatus for generating an electronic record of a marking operation to mark on ground pavement or other surface a presence or an absence of at least one underground facility. The apparatus comprises an actuator to dispense a marking material so as to form at least one locate mark on the ground pavement or other surface to mark the presence or the absence of the at least one underground facility at least one input device to provide marking information regarding the marking operation and a memory to store processor executable instructions and the electronic record of the marking operation. The apparatus further comprises a processor coupled to the memory the at least one input device and the actuator. Upon execution of the processor executable instructions by the processor the processor logs in the electronic record an actuation data set including a plurality of actuation event entries for at least one actuation of the actuator wherein at least one actuation event entry includes at least some of the marking information provided by the at least one input device.

Another embodiment is directed to a method for generating an electronic record of a marking operation to mark on ground pavement or other surface a presence or an absence of at least one underground facility. The method comprises A effecting at least one actuation of an actuator of a marking apparatus to dispense a marking material so as to form at least one locate mark on the ground pavement or other surface to mark the presence or the absence of the at least one underground facility B providing marking information regarding the marking operation and C logging into an electronic record an actuation data set including a plurality of actuation event entries for the at least one actuation of the actuator in A wherein at least one actuation event entry includes at least some of the marking information provided in B .

Another embodiment is directed to an apparatus for generating an electronic record of a marking operation to mark on ground pavement or other surface a presence or an absence of at least one underground facility. The apparatus comprises an actuator to dispense a marking material so as to form at least one locate mark on the ground pavement or other surface to mark the presence or the absence of the at least one underground facility at least one input device to provide marking information regarding the marking operation wherein the marking information includes at least one of service related information and ticket information and a memory to store processor executable instructions and the electronic record of the marking operation. The apparatus further comprises a processor coupled to the memory the at least one input device and the actuator. Upon execution of the processor executable instructions by the processor the processor logs in the electronic record actuation data for at least one actuation of the actuator and wherein the processor further logs in the electronic record at least some of the service related information and or at least some of the ticket information provided by the at least one input device.

Another embodiment is directed to a method for generating an electronic record of a marking operation to mark on ground pavement or other surface a presence or an absence of at least one underground facility. The method comprises A effecting at least one actuation of an actuator of a marking apparatus to dispense a marking material so as to form at least one locate mark on the ground pavement or other surface to mark the presence or the absence of the at least one underground facility B providing marking information regarding the marking operation wherein the marking information includes at least one of service related information and ticket information C logging into an electronic record actuation data for the at least one actuation of the actuator in A and D logging into the electronic record at least some of the service related information and or at least some of the ticket information provided in B .

Another embodiment is directed to a method for providing an electronic rendering on a display device of a marking operation to mark on ground pavement or other surface a presence or an absence of at least one underground facility. The method comprises A accessing an electronic record of the marking operation generated by a marking device the electronic record comprising a plurality of actuation data sets each actuation data set associated with a corresponding locate mark created by an actuation of the marking device wherein each actuation data set comprises at least two pieces of geographic information for the corresponding locate mark and B for each actuation data set of the electronic record displaying on the display device at least one electronic locate mark so as to provide the electronic rendering of the marking operation based at least in part on the at least two pieces of geographic information for the corresponding locate mark.

Another embodiment is directed to a method for providing an electronic rendering on a display device of a marking operation to mark on ground pavement or other surface a presence or an absence of at least one underground facility. The method comprises A accessing an electronic record of the marking operation generated by a marking device the electronic record comprising a plurality of actuation data sets each actuation data set associated with a corresponding locate mark created by an actuation of the marking device wherein each actuation data set comprises at least two pieces of geographic information for the corresponding locate mark B displaying on the display device a digital image representative of at least a portion of an area of the ground pavement or other surface on which the locate mark is created and C for at least some actuation data sets of the electronic record displaying on the display device at least one electronic locate mark overlaid on the displayed digital image so as to provide the electronic rendering of the marking operation based at least in part on the at least two pieces of geographic information for the corresponding locate mark and on the displayed digital image.

Another embodiment is directed to at least one computer readable storage medium storing an electronic record of a marking operation the electronic record comprising a plurality of actuation data sets each actuation data set associated with a corresponding actuation of a marking device to dispense a marking material during the marking operation wherein at least one first actuation data set of the electronic record corresponds to a first actuation. The at least one first actuation data set comprises a first field including a first piece of geographic information for the first actuation and at least one second field including at least one second piece of geographic information for the first actuation. In one aspect the at least one computer readable storage medium is combined with at least one processor to form a machine wherein the at least one computer readable storage medium further stores processor executable instructions and wherein the processor upon execution of the processor executable instructions accesses at least one of the first field and the at least one second field of the at least one first actuation data set. In another aspect upon execution of the processor executable instructions by the processor for the at least one first actuation data set the at least one processor displays on a display device at least one electronic locate mark so as to provide an electronic rendering of the marking operation based at least in part on the first piece and the at least one second piece of geographic information for the first actuation.

Another embodiment is directed to a marking apparatus to perform a marking operation. The marking apparatus comprises an actuation system a memory to store processor executable instructions and a processor coupled to the memory and the actuation system. Upon execution of the processor executable instructions by the processor the processor provides an output stream of data packets each data packet including at least one flag field that is set or reset upon at least one actuation of the actuation system.

Another embodiment is directed to a method for providing information relating to a marking operation to mark on ground pavement or other surface a presence or an absence of at least one underground facility. The method comprises A effecting at least one actuation of an actuation system of a marking apparatus to dispense a marking material so as to form at least one locate mark on the ground pavement or other surface to mark the presence or the absence of at least one underground facility and B providing an output stream of data packets each data packet including at least one flag field that is set or reset upon the at least one actuation of the at least one actuation system.

For purposes of the present disclosure the term dig area refers to a specified area of a work site within in which there is a plan to disturb the ground e.g. excavate dig holes and or trenches bore etc. and beyond which there is no plan to excavate in the immediate surroundings. Thus the metes and bounds of a dig area are intended to provide specificity as to where some disturbance to the ground is planned at a given work site. It should be appreciated that a given work site may include multiple dig areas.

The term facility refers to one or more lines cables fibers conduits transmitters receivers or other physical objects or structures capable of or used for carrying transmitting receiving storing and providing utilities energy data substances and or services and or any combination thereof. The term underground facility means any facility beneath the surface of the ground. Examples of facilities include but are not limited to oil gas water sewer power telephone data transmission cable television TV and or internet services.

The term locate device refers to any apparatus and or device for detecting and or inferring the presence or absence of any facility including without limitation any underground facility.

The term marking device refers to any apparatus mechanism or other device that employs a marking dispenser for causing a marking material and or marking object to be dispensed or any apparatus mechanism or other device for electronically indicating e.g. logging in memory a location such as a location of an underground facility. Additionally the term marking dispenser refers to any apparatus mechanism or other device for dispensing and or otherwise using separately or in combination a marking material and or a marking object. An example of a marking dispenser may include but is not limited to a pressurized can of marking paint. The term marking material means any material substance compound and or element used or which may be used separately or in combination to mark signify and or indicate. Examples of marking materials may include but are not limited to paint chalk dye and or iron. The term marking object means any object and or objects used or which may be used separately or in combination to mark signify and or indicate. Examples of marking objects may include but are not limited to a flag a dart and arrow and or an RFID marking ball. It is contemplated that marking material may include marking objects. It is further contemplated that the terms marking materials or marking objects may be used interchangeably in accordance with the present disclosure.

The term locate mark means any mark sign and or object employed to indicate the presence or absence of any underground facility. Examples of locate marks may include but are not limited to marks made with marking materials marking objects global positioning or other information and or any other means. Locate marks may be represented in any form including without limitation physical visible electronic and or any combination thereof.

The terms actuate or trigger verb form are used interchangeably to refer to starting or causing any device program system and or any combination thereof to work operate and or function in response to some type of signal or stimulus. Examples of actuation signals or stimuli may include but are not limited to any local or remote physical audible inaudible visual non visual electronic mechanical electromechanical biomechanical biosensing or other signal instruction or event. The terms actuator or trigger noun form are used interchangeably to refer to any method or device used to generate one or more signals or stimuli to cause or causing actuation. Examples of an actuator trigger may include but are not limited to any form or combination of a lever switch program processor screen microphone for capturing audible commands and or other device or method. An actuator trigger may also include but is not limited to a device software or program that responds to any movement and or condition of a user such as but not limited to eye movement brain activity heart rate other data and or the like and generates one or more signals or stimuli in response thereto. In the case of a marking device or other marking mechanism e.g. to physically or electronically mark a facility or other feature actuation may cause marking material to be dispensed as well as various data relating to the marking operation e.g. geographic location time stamps characteristics of material dispensed etc. to be logged in an electronic file stored in memory.

The terms locate and marking operation locate operation and locate are used interchangeably and refer to any activity to detect infer and or mark the presence or absence of an underground facility. In some instances the term marking operation is used to more specifically refer to that portion of a locate operation in which a marking material and or one or more marking objects is are employed to mark a presence or an absence of one or more underground facilities. The term locate technician refers to an individual performing a locate operation. A locate operation often is specified in connection with a dig area at least a portion of which may be excavated or otherwise disturbed during excavation activities.

The term user refers to an individual utilizing a locate device and or a marking device and may include but is not limited to land surveyors locate technicians and support personnel.

The terms locate request and excavation notice are used interchangeably to refer to any communication to request a locate and marking operation. The term locate request ticket or simply ticket refers to any communication or instruction to perform a locate operation. A ticket might specify for example the address or description of a dig area to be marked the day and or time that the dig area is to be marked and or whether the user is to mark the excavation area for certain gas water sewer power telephone cable television and or some other underground facility. The term historical ticket refers to past tickets that have been completed.

The term complex event processing CEP refers to a software and or hardware implemented e.g. facilitated by a computer system distributed computer system computational analysis coded in software and or a combination thereof technique relating to recognizing one or more events patterns of events or the absence of an event or pattern of events within one or more input streams of information and performing one or more actions and or computations in response to such recognition in accordance with specified rules criteria algorithms or logic. CEP generally involves detection of relationships between information contained in input streams which input streams may include indications of previously recognized events such as causality membership timing event driven processes detection of complex patterns of one or more events event streams processing event correlation and abstraction and or event hierarchies. CEP may complement and contribute to technologies such as but not limited to service oriented architecture SOA event driven architecture EDA and or business process management BPM . CEP allows the information contained in the events flowing through all of the layers of a service business an enterprise information technology infrastructure and or management operation to be discovered analyzed and understood in terms of its impact on management goals and business processes and acted upon in real time or as a management process.

It should be appreciated that all combinations of the foregoing concepts and additional concepts discussed in greater detail below provided such concepts are not mutually inconsistent are contemplated as being part of the inventive subject matter disclosed herein. In particular all combinations of claimed subject matter appearing at the end of this disclosure are contemplated as being part of the inventive subject matter disclosed herein. It should also be appreciated that terminology explicitly employed herein that also may appear in any disclosure incorporated by reference should be accorded a meaning most consistent with the particular concepts disclosed herein.

Following below are more detailed descriptions of various concepts related to and embodiments of inventive systems methods and apparatus for generating electronic records of marking operations based on marking device actuations. It should be appreciated that various concepts introduced above and discussed in greater detail below may be implemented in any of numerous ways as the disclosed concepts are not limited to any particular manner of implementation. Examples of specific implementations and applications are provided primarily for illustrative purposes.

In some embodiments of the present invention a marking device employed by a locate technician to dispense marking material is particularly configured to acquire marking information relating to a marking operation based at least in part on actuations of the marking device and create an electronic record of at least some of the marking information. As discussed in greater detail below examples of marking information relating to the marking operation that may be logged into an electronic record may include but are not limited to 

One or more electronic records based on the marking information may be generated logged stored in local memory of the marking device formatted in any of a variety of manners processed and or analyzed at the marking device itself and or transmitted to another device e.g. a computer for storage processing and or analysis.

In various implementations of the methods and apparatus described herein data from one or more electronic records including multiple pieces of geographical location information geo location data time and date information and duration as well as a total number of actuations characteristics of the marking material e.g. color brand type dispensed during the actuations and the like may be processed and analyzed to provide insight into the marking operation. In one embodiment a computer generated image or other visual representation of the marking operation may be electronically rendered for example this visual representation may provide electronic indications electronic locate marks of the relative placement of marking material dispensed during a marking operation and electronic locate marks corresponding to different types of facilities may be color coded. Such a visual representation of the marking operation may be used for example to provide immediate feedback to the locate technician e.g. via a display device associated with the marking device provide essentially real time feedback to a supervisor monitoring the marking operation from a remote location provide a visual record of the marking operation e.g. for archiving purposes once the marking operation is completed and one or more electronic records are generated and or to verify the quality e.g. accuracy and completeness of work performed during the locate and marking operation.

As shown in in one embodiment marking device includes control electronics the components of which are powered by a power source . Power source may be any power source that is suitable for use in a portable device such as but not limited to one or more rechargeable batteries one or more non rechargeable batteries a solar photovoltaic panel a standard AC power plug feeding an AC to DC converter and the like.

The marking device is configured to hold a marking dispenser which as shown in is loaded into a marking material holder of the marking device . In one exemplary implementation the marking dispenser is an aerosol paint canister that contains paint however it should be appreciated that the present invention is not limited in this respect as a marking material dispensed by the marking device may be any material substance compound and or element used to mark signify and or indicate. Examples of marking materials may include but are not limited to paint chalk dye and or marking powder.

As also shown in in one embodiment control electronics of marking device may include but are not limited to a processor at least a portion of an actuation system another portion of which may include one or more mechanical elements a local memory a communication interface a user interface a timing system and a location tracking system .

The processor may be any general purpose processor controller or microcontroller device. Local memory may be any volatile or non volatile data storage device such as but not limited to a random access memory RAM device and a removable memory device e.g. a universal serial bus USB flash drive . As discussed further below the local memory may store a marking data algorithm which may be a set of processor executable instructions that when executed by the processor causes the processor to control various other components of the marking device so as to generate an electronic record of a marking operation which record also may be stored in the local memory and or transmitted in essentially real time as it is being generated or after completion of a marking operation to a remote device e.g. remote computer .

In one exemplary implementation a Linux based processing system for embedded handheld and or wireless devices may be employed in the marking device to implement various components of the control electronics . For example the Fingertip4 processing system including a Marvell PXA270 processor and available from InHand Electronics Inc. www.inhandelectronics.com products fingertip4 may be used. In addition to the PXA270 processor e.g. serving as the processor the Fingertip4 includes flash memory and SDRAM e.g. serving as local memory multiple serial ports a USB port and other I O interfaces e.g. to facilitate interfacing with one or more input devices and other components of the marking device supports a variety of wired and wireless interfaces WiFi Bluetooth GPS Ethernet to facilitate implementation of the communication interface and connects to a wide variety of LCD displays to facilitate implementation of a user interface display .

Communication interface of marking device may be any wired and or wireless communication interface by which information may be exchanged between marking device and an external or remote device such as a remote computing device that is elsewhere in the dig area i.e. not a part of the marking device or outside the dig area. For example data that is provided by components of data acquisition system and or stored in local memory e.g. one or more electronic records may be transmitted via communication interface to a remote computer such as remote computer for processing. Examples of wired communication interfaces may include but are not limited to USB ports RS232 connectors RJ45 connectors Ethernet and any combination thereof. Examples of wireless communication interfaces may include but are not limited to an Intranet connection Internet Bluetooth technology Wi Fi Wi Max IEEE 802.11 technology radio frequency RF Infrared Data Association IrDA compatible protocols Local Area Networks LAN Wide Area Networks WAN Shared Wireless Access Protocol SWAP combination thereof and other types of wireless networking protocols. The wireless interface may be capable of capturing signals that reflect a user s intent. For example the wireless interface may include a microphone that can capture a user s intent by capturing the user s audible commands. Alternatively the wireless interface may interact with a device that monitors a condition of the user such as eye movement brain activity and or heart rate.

User interface of marking device may be any mechanism or combination of mechanisms by which a user may operate data acquisition system and by which information that is generated by data acquisition system may be presented to the user. For example user interface may include but is not limited to a display device including integrated displays and external displays such as Heads Up Displays HUDs a touch screen one or more manual pushbuttons one or more light emitting diode LED indicators one or more toggle switches a keypad an audio output e.g. speaker buzzer and alarm and any combination thereof. In one implementation the user interface includes a menu on button to power up the marking device and provide a menu driven graphical user interface GUI displayed by the display device e.g. menu items and or icons displayed on the display device and navigated by the technician via a joystick or a set of four up down left right buttons as well as a select ok button to take some action pursuant to the selection of a menu item icon. As described below the display may also be used in some embodiments of the invention to display information relating to a placement of marking material in a dig area a location of an underground facility in a dig area or any other suitable information that may be displayed based on information acquired to create an electronic record .

In various embodiments the one or more interfaces of the marking device including the communication interface and user interface may be used as input devices to receive information to be stored in the memory as part of an electronic record of a marking operation. In some cases marking information received via the interface s e.g. via the communication interface may include ticket information regarding underground facilities to be marked during a marking operation. As another example using an interface such as the user interface service related information may be input including an identifier for the marking device used by the technician an identifier for a technician and or an identifier for the technician s employer. Alternatively some or all of the service related information similarly may be received via the communication interface and likewise some or all of the ticket information may be received via the user interface .

The actuation system of marking device shown in the block diagram of may include both electrical and mechanical elements according to various embodiments discussed in further detail below and for purposes of illustration is shown in as included as part of the control electronics . The actuation system may include a mechanical and or electrical actuator mechanism e.g. see the actuator shown in to provide one or more signals or stimuli as an input to the actuation system . Upon receiving one or more signals or stimuli e.g. actuation triggering by a locate technician or other user the actuation system causes marking material to be dispensed from marking dispenser . In various embodiments the actuation system may employ any of a variety of mechanical and or electrical techniques e.g. one or more switches or other circuit components a dedicated processor or the processor executing instructions one or more mechanical elements various types of transmitters and receivers or any combination of the foregoing as would be readily appreciated by those of skill in the relevant arts to cause the marking dispenser to dispense marking material in response to one or more signals or stimuli. The actuation system also provides one or more output signals in the form of an actuation signal to the processor to indicate one or more actuations of the marking device in response to which the processor may acquire collect various marking information and log data into the electronic record . Additional details of exemplary actuation system implementations are provided below in connection with .

In some embodiments the actuation system may be configured so as not to cause marking material to be dispensed from marking dispenser in response to one or more signals or stimuli rather the actuation system may merely facilitate a logging of data from one or more input devices in response to operation of an actuator trigger without necessarily dispensing marking material. In some instances this may facilitate simulation of a marking operation i.e. simulating the dispensing of marking material by providing an actuation signal to the processor indicating one or more simulated actuation events in response to which the processor may cause the logging of various data for creating an electronic record without any marking material actually being dispensed.

Location tracking system of marking device constitutes another type of input device that provides marking information and may include any device that can determine its geographical location to a certain degree of accuracy. For example location tracking system may include a global positioning system GPS receiver or a global navigation satellite system GNSS receiver. A GPS receiver may provide for example any standard format data stream such as a National Marine Electronics Association NMEA data stream or other data formats. An error correction component may be but is not limited to any mechanism for improving the accuracy of the geographic information provided by location tracking system for example error correction component may be an algorithm for correcting any offsets e.g. due to local disturbances in the atmosphere in the geo location data of location tracking system . While shown as part of a local location tracking system of the marking device error correction component alternatively may reside at a remote computing device such as remote computer . In other embodiments location tracking system may include any device or mechanism that may determine location by any other means such as performing triangulation by use of cellular radiotelephone towers.

In one exemplary implementation the location tracking system may include an ISM300F2 C5 V0005 GPS module available from Inventek Systems LLC of Westford Mass. see www.inventeksys.com html ism300f2 c5 v0005.html . The Inventek GPS module includes two UARTs universal asynchronous receiver transmitter for communication with the processor supports both the SIRF Binary and NMEA 0183 protocols depending on firmware selection and has an information update rate of 5 Hz. A variety of geographic location information may be requested by the processor and provided by the GPS module to the processor including but not limited to time coordinated universal time UTC date latitude north south indicator longitude east west indicator number and identification of satellites used in the position solution number and identification of GPS satellites in view and their elevation azimuth and SNR values and dilution of precision values. Accordingly it should be appreciated that in some implementations the location tracking system may provide a wide variety of geographic information as well as timing information e.g. one or more time stamps to the processor .

In another embodiment location tracking system may not reside locally on marking device . Instead location tracking system may reside on any on site computer which serves as a location reference point to which the location of marking device may be correlated by any other means such as but not limited to by a triangulation technique between the on site computer and marking device .

With respect to other input devices of the marking device that may provide marking information the control electronics may also include a timing system having an internal clock not shown such as a crystal oscillator device for processor . Additionally timing system may include a mechanism for registering time with a certain degree of accuracy e.g. accuracy to the minute second or millisecond and may also include a mechanism for registering the calendar date. In various implementations the timing system may be capable of registering the time and date using its internal clock or alternatively timing system may receive its time and date information from the location tracking system e.g. a GPS system or from an external timing system such as a remote computer or network via communication interface . In yet other implementations a dedicated timing system for providing timing information to be logged in an electronic record may be optional and timing information for logging into an electronic record may be obtained from the location tracking system e.g. GPS latitude and longitude coordinates with a corresponding time stamp .

Marking material detection mechanism of the marking device shown in is another type of input device that provides marking information and may be any mechanism or mechanisms for determining a presence or absence of a marking dispenser in or otherwise coupled to the marking device as well as determining certain attributes characteristics of the marking material within marking dispenser when the dispenser is placed in or coupled to the marking device. As shown in in some embodiments the marking material detection mechanism may be disposed generally in an area proximate to a marking material holder in which a marking dispenser may be placed.

For example in one embodiment the marking material detection mechanism may include one or more switch devices e.g. a make break single pole single throw contact switch disposed at one or more points along the marking material holder and electrically coupled to the processor . The switch device s may also be coupled to ground or a DC supply voltage such that when the switch device is in a first state e.g. closed making contact the ground or DC supply voltage is passed to the processor e.g. via an I O pin of the processor which provides an interrupt to or is periodically monitored by the processor and when the switch is in a second state e.g. open no contact the ground or DC supply voltage is not passed to the processor . When the marking dispenser is present in the holder the switch device s is in one of two possible states and when there is no marking dispenser the switch device s is in another of the two possible states e.g. the marking dispenser when present may depress the switch device s so as to make contact and pass the ground DC voltage to the processor . In this manner the marking material detection mechanism may provide a signal to the processor indicating the presence or absence of the marking dispenser in the marking device .

The marking material detection mechanism also or alternatively may include a barcode reader to read barcode data from a dispenser and or a radio frequency identification RFID reader for reading information from an RFID tag that is provided on marking dispenser . The RFID tag may include for example a unique serial number or universal product code UPC that corresponds to the brand and or type of marking material in marking dispenser . The type of information that may be encoded within the RFID tag on marking dispenser may include product specific information for the marking material but any information of interest may be stored on an RFID tag. For example user specific information and or inventory related information may be stored on each RFID tag for a marking dispenser to facilitate inventory tracking of marking materials. In particular an identifier for a technician may be stored on an RFID tag when the technician is provided with a marking dispenser and information relating to weight amount dispensed and or amount remaining may be written to the RFID tag whenever the marking dispenser is used.

In one exemplary implementation the marking material detection mechanism may include a Micro RWD MIFARE ICODE RFID reader module available from IB Technology Eccel Technology Ltd of Aylesbury Buckinghamshire UK see www.ibtechnology.co.uk products icode.htm . The Micro RWD reader module includes an RS232 communication interface to facilitate communication between the processor and the reader module e.g. via messages sent as a string of ASCII characters and supports both reading information from an RFID tag attached to a marking dispenser as well as writing information to an RFID tag attached to the marking dispenser. In one aspect of an exemplary implementation an antenna constituted by one or more turns of wire e.g. two turns of awg 26 wire 6.5 cm in diameter about 1 uH is coupled to the Micro RWD reader module and disposed in the marking material holder of the marking device see proximate to a marking dispenser when placed in the holder so as to capture close near field signals e.g. from an RFID tag on the dispenser within about 2 inches and exclude far field signals. In another aspect the Micro RWD reader module may be configured to read RFID tags having an ICODE SLI format e.g. ISO 15693 ICODE SLI . In yet another aspect an RFID tag may be affixed to an aerosol paint can serving as the marking dispenser such that the tag conforms to a plastic cap of the paint can and is disposed at a particular location relative to a notch in the cap e.g. 90 degrees 15 degrees from the notch that allows access to the spray nozzle of the can and is in a relatively predictable position substantially aligned with the antenna when the paint can is placed in the marking material holder . Examples of RFID tags suitable for this purpose are available from BCS Solutions Inc. see www.bcssolutions.com solutions rfid and include but are not limited to the HF Bullseye Wet Inlay SLA Round 40.

In yet other embodiments marking material detection mechanism may alternatively or further be configured to detect properties of marking material as it is dispensed. For example the marking material detection mechanism may include one or more of an optical sensor an olfactory sensor an auditory sensor e.g. a microphone a weight sensor and any combination thereof. For example in one embodiment an optical sensor in the marking device may be used to identify the composition and or type of marking material in the marking dispenser by analyzing light reflected by the material as it is dispensed. Similarly an olfactory sensor may be used to identify one or more characteristics of the marking material based on an odor profile of the material and an auditory sensor may be used to identify the difference between paint being sprayed from an aerosol can and aerosol without paint being sprayed from a can e.g. as the dispenser becomes emptied of paint .

In one embodiment information provided by one or more input devices of the marking device e.g. the timing system the location tracking system the marking material detection mechanism the user interface the communication interface is acquired and logged stored in memory upon actuation of the actuation system e.g. triggering an actuator . Some embodiments of the invention may additionally or alternatively acquire log information from one or more input devices at one or more times during or throughout an actuation such as when a technician is holding a mechanical or electrical actuator for some period of time and moving to dispense marking material in a line e.g. see . In various aspects of such embodiments marking information derived from one or more input devices may be collected at a start time of an actuation at one or more times during an actuation and in some cases at regular intervals during an actuation e.g. several times per second once per second once every few seconds . Further some marking information may be collected at an end of an actuation such as time information that may indicate a duration of an actuation.

Additionally it should be appreciated that while some marking information may be received via one or more input devices at the start of each marking operation and upon successive actuations of the marking device in other cases some marking information may be collected by or provided to the marking device once prior to a marking operation e.g. on power up or reset of the marking device as part of an electronic instruction or dispatch by a locate company and or in response to a request query from a locate technician and stored in local memory for later incorporation into an electronic record. For example prior to a given marking operation and one or more actuations of the marking device ticket information and or service related information may have already been received e.g. via the communication interface and or user interface and stored in local memory . Upon generation of an electronic record of a given marking operation information previously received via the interface s may be retrieved from the local memory if stored there initially and entered into an electronic record in some case together with information collected pursuant to one or more actuations of the marking device. Alternatively ticket information and or service related information may be received via the interface s and stored in an entry in the electronic record directly in response to one or more actuations of the marking device e.g. without being first stored in local memory .

In sum according to embodiments of the present invention various marking information from one or more input devices regardless of how or when it is received may be stored in an electronic record of a marking operation in which at least some of the marking information is logged pursuant to one or more actuations of the marking device.

In one embodiment the optional remote computer of the data acquisition system may be a centralized computer such as a central server of an underground facility locate service provider. In another embodiment remote computer may be a computer that is at or near the work site i.e. on site e.g. a computer that is present in a locate technician s vehicle.

Whether resident and or executed on either the marking device or the remote computer as noted above the marking data algorithm includes a set of processor executable instructions e.g. stored in memory such as local memory of the marking device that when executed by processor of the marking device or another processor processes information e.g. various marking information collected in response to e.g. during one or more actuations of the marking device and or in some cases before or after a given actuation or series of actuations. As also discussed above according to various embodiments the actuations of marking device may effect both dispensing marking material and logging of marking information or merely logging of marking information for other purposes e.g. simulating the dispensing of marking material without dispensing marking material. In either situation marking data algorithm when executed by the processor may cause the processor to perform collection logging storage creation of electronic records and in some instances further processing and analysis of various marking information with respect to marking device actuations. For example as discussed in further detail below in connection with the operations of marking data algorithm as effected by the processor may include but are not limited to the following 

It should also be appreciated that the marking data algorithm may include one or more adjustable parameters that govern various aspects of the collection and logging of marking information e.g. the rate at which various marking information is collected from one or more input devices and that these parameters may be adjusted or set for example by an administrator at a remote computer after which the marking data algorithm is downloaded to the marking device for execution by the processor . Alternatively in other implementations adjustable parameters of a marking data algorithm already resident on a marking device may in some cases be adjusted remotely via the communication interface or locally via the user interface.

While the functionality of various components of the marking device was discussed above in connection with shows some structural aspects of the marking device according to one embodiment. For example the marking device may include an elongated housing in which is disposed one or more elements of the actuation system one or more elements of the control electronics and the power source . Elongated housing may be hollow or may contain certain cavities or molded compartments for installing any components therein such as the various components of marking device that are shown in . The elongated housing and other structural elements associated with the housing as discussed below may be formed of any rigid semi rigid strong and lightweight material such as but not limited to molded plastic and aluminum.

Incorporated at a proximal end of elongated housing may be a handle which provides a convenient grip by which the user e.g. the locate technician may carry the marking device during use i.e. the exemplary marking device depicted in is intended to be a hand held device . In one implementation the power source may be provided in the form of a removable battery pack housing one or more rechargeable batteries that are connected in series or parallel in order to provide a DC voltage to marking device and disposed within a compartment in the handle . Such an arrangement facilitates use of conventional removable rechargeable battery packs often employed in a variety of cordless power tools in which the battery pack similarly is situated in a handle of the tool. It should be appreciated however that the power source in the form of a battery pack may be disposed in any of a variety of locations within or coupled to the elongated housing .

As also shown in mounted near handle is user interface which may include a display . The display may be a touch screen display to facilitate interaction with a user technician and or the user interface also may include one or more buttons switches joysticks a keyboard and the like to facilitate entry of information by a user technician. One or more elements of the control electronics e.g. the processor memory communication interface and timing system also may be located in the proximal end of the elongated housing in the vicinity of the user interface and display . As with the power source it should be appreciated that one or more elements of the control electronics may be disposed in any of a variety of locations within or coupled to the elongated housing .

In the embodiment of the location tracking system similarly may be positioned on the proximal end of the elongated housing to facilitate substantially unobstructed exposure to the atmosphere in particular as illustrated in the location tracking system may be situated on an a ground plane providing an electrical ground at least at the antenna frequency of the location tracking system e.g. at approximately 1.5 GHz that extends from the proximal end of the housing and is approximately parallel to the ground surface or pavement when the marking device is being normally operated by a technician so as to reduce signal modulation with subtle movements of the marking device .

As also shown in incorporated at the distal end of elongated housing is a marking dispenser holder for holding one or more marking dispensers e.g. an aerosol paint canister . Dispenser may be one or more replaceable dispensers or one or more reusable refillable dispensers including a fixed reservoir forming a part of the device or any other suitable dispenser. Also situated at the distal end of the housing is the marking material detection mechanism to detect a presence or absence of the marking dispenser in the marking material holder and or one or more characteristics of the marking material as well as an actuation mechanism which in some implementations may constitute part of the actuation system and be employed to interact with the marking dispenser so as to effect dispensing of the marking material .

With respect to the actuation system as shown in at least a portion of the actuation system is indicated generally along the length of the elongated housing for purposes of illustration. More specifically however in various implementations the actuation system may include multiple components disposed in various places in on or coupled to the marking device . For example in the embodiment of the actuation system includes an actuator which for example may be a mechanical mechanism provided at the handle in the form of a trigger that is pulled by a finger or hand of an user technician. The actuation system further includes the actuation mechanism disposed at the distal end of the marking device that is responsive to the actuator to dispense marking material. In general in various exemplary implementations as discussed in further detail below the actuation system may employ any of a variety of mechanical and or electrical techniques to cause the marking dispenser to dispense marking material in response to one or more signals or stimuli. In the embodiment shown in the signal stimulus is initially provided to the actuation system via the mechanical actuator i.e. a locate technician or other user triggers e.g. pulls depresses the actuator to provide a signal stimulus to the actuation system which in turn operates the actuation mechanism to dispense marking material in response to the signal stimulus.

In response to the signal stimulus provided by the actuator as discussed above the actuation system may also provide an actuation signal to the processor to indicate an actuation. As discussed in further detail below in connection with pursuant to the execution by the processor of the marking data algorithm the actuation signal may be used to cause the logging of information that is provided by one or more components of the marking device so as to generate an electronic record of the marking operation.

In one implementation the sensor may include a switch device e.g. a make break single pole single throw contact switch disposed along the handle of the marking device such that when pulled the actuator contacts e.g. depresses the switch causing a state of the switch to toggle. In another implementation the sensor may include a switch device such as a reed magnetic switch disposed at some point along the length of the elongated housing in such an implementation the mechanical coupler may have a magnet disposed along it at an appropriate position relative to the reed switch such that movement of the mechanical coupler upon actuation of the actuator causes a state of the reed switch to toggle. Electrically a switch device serving as the sensor may be coupled to ground or a DC supply voltage such that when the switch device is in a first state e.g. closed making contact the ground or DC supply voltage is passed to the processor e.g. via an I O pin of the processor which provides an interrupt to or is periodically monitored by the processor and when the switch is in a second state e.g. open no contact the ground or DC supply voltage is not passed to the processor . In this manner the sensor may provide the actuation signal to the processor indicating actuation and release of the actuator .

For example the link receiver may include a linear solenoid mechanically coupled to the actuation mechanism and whose movement is responsive to one or more signals and or stimuli received from the link . In various exemplary implementations the link transmitter and the link simply may include a wire that couples the sensor to the solenoid to activate the solenoid upon changes of state in the actuation signal . Alternatively the transmitter may be an RF transmitter that is activated in response to the actuation signal the link may be a wireless link and the receiver may include an RF receiver.

Other examples of transmitter link receiver combinations include but are not limited to an acoustic transmitter link receiver e.g. a sound wave source that provides a sound wave of a certain tone duration and or amplitude when the actuator is actuated and a corresponding sound wave detector an optical transmitter link receiver e.g. a light or laser source that provides an optical signal of a certain wavelength duration and or amplitude when the actuator is actuated and a corresponding optical detector a fluid transmitter link receiver e.g. a fluid system that provides a fluid control output of a certain volume pressure and or duration when the actuator is actuated and a corresponding fluid sensor for sensing the presence of for example a short blast of water of a certain volume pressure and or duration to indicate an actuation the fluid system may be for example a closed loop system that has a source reservoir at the top of the marking device a fluid line in proximity with the fluid sensor a return reservoir for capturing water during the actuation process and appropriate pressure regulation and ducts for cycling water from the return reservoir back to the source reservoir and an air transmitter link receiver e.g. an air system that provides an air control output of a certain volume pressure and or duration when the actuator is actuated and a corresponding air sensor for sensing the presence of for example a blast or puff of air of a certain volume pressure and or duration to indicate an actuation .

While not explicitly shown in in yet other embodiments it should be appreciated that the sensor may be coupled to the processor to provide the actuation signal representing actuation release of the actuator and in turn the processor may provide a signal to the link transmitter such that dispensing of marking material may in part be under the control of the processor executing particular instructions for this purpose. More specifically while in some implementations dispensing of marking material may be directly responsive to actuation of the actuator and cease upon release of the actuator in other implementations dispensing of marking material may be initiated in some manner upon actuation of the actuator but then continued dispensing of marking material may not necessarily be dictated by continued actuation or release of the actuator. Rather the processor may provide one or more signals or commands to the link transmitter to govern dispensing of marking material in some manner that does not necessarily track each actuation and release of the actuator.

For example in one implementation the processor may execute instructions such that once the actuation signal from the sensor indicates actuation of the actuator the processor provides a signal to the link transmitter that causes dispensing of marking material for some predetermined or user defined amount of time irrespective of release of the actuator. Additionally or alternatively the processor may provide one or more signals to the link transmitter that causes dispensing of marking material for multiple discrete amounts of time with a single actuation e.g. three bursts of 1 second each per actuation . From the foregoing it should be generally appreciated that a wide variety of marker sizes and patterns may be generated from the marking device in an automated or semi automated manner based on processor based control of the actuation system . It should also be appreciated that automated or semi automated processor based control of the dispensing of marking material may also govern in some fashion how how often and or what type of marking information is collected and logged to generate an electronic record of a marking operation as discussed further below in connection with .

Referring now to a perspective view of marking device when in use for marking a lines pattern is presented. In marking operations a lines pattern is typically the end product of a marking operation. This pattern extends the dotting pattern e.g. dotting pattern of so as to create lines e.g. a series of dashes that indicate the presence or absence of an underground facility. These lines subsequently provide important reference marks to an excavator so as to avoid damage to a facility during excavation activities or other disturbances of the ground. By way of example shows underground facility which may be any concealed facility such as an underground gas line water pipe sewer pipe power line telephone line cable television conduit and the like. also shows a lines pattern that is formed by multiple locate marks dispensed via marking device . A characteristic of locate marks of lines pattern is that each locate mark is formed by an extended burst of marking material e.g. a longer actuation of the marking device as compared with a dotting pattern. As with the dotting pattern shown in however each locate mark of the lines pattern shown in may correspond to one actuation of marking device . In some alternative implementations as discussed above a series of locate marks e.g. all three marks may be automatically generated by one actuation of marking device pursuant to processor based control of the actuation system.

In one embodiment of the present invention for generating an electronic record of a marking operation the processor of the marking device executing the marking data algorithm may collect various marking information and generate an electronic record having one or more actuation data sets respectively associated with one or more actuations act 1 act 2 act 3 . . . act n and corresponding locate marks as shown in . Marking information may be collected and entered into such an electronic record at various times relative to the start time t1 and the end time t2 of a given actuation e.g. at t1 only at t2 only at both t1 and t2 at any time s between t1 and t2 and or before or after t1 and t2.

Examples of marking information that generally but not necessarily is acquired with respect to t1 and t2 of each actuation and points between t1 and t2 actuation data may include but are not limited to 

Examples of marking information that may be acquired before during or after a given actuation or succession of actuations and also entered into an electronic record include but are not limited to 

In exemplary methods for generating an electronic record of marking operations according to some embodiments of the invention as discussed in greater detail below for a given actuation the processor may request the location tracking system to provide geographic information at one or more times during the actuation e.g. periodically at regular intervals . Thus an actuation data set of an electronic record for a given actuation of the marking device may have multiple pieces of geographic information and associated time stamps representing the location of the marking device at multiple times during a corresponding actuation. Additionally for a given actuation the processor also may request the marking material detection mechanism to provide marking material information as part of the actuation data set. The processor also may include ticket information and service related information which may be collected e.g. via one or more of the user interface and the communication interface before a corresponding actuation stored in memory and retrieved from the memory for entry into the electronic record upon or during the corresponding actuation or collected and entered into the electronic record upon or during the corresponding actuation.

While the collection and logging of marking information to generate an electronic record is discussed in some aspects for purposes of illustration in terms of actuation data sets i.e. a set of data that is associated and logged with a corresponding actuation of the marking device it should be appreciated that various embodiments of the present invention are not limited in this respect. More generally an electronic record of a marking operation may be generated in any of a variety of manners have a variety of file formats and or data structures and include any of a variety of marking information some of which may be germane to one or more actuations of the marking device and some of which may be common to multiple actuations or the overall marking operation in general .

In block of the process shown in ticket information and or service related information may be received e.g. via one or more of the user interface and the communication interface of marking device and this information optionally may be stored in whole or in part in local memory of the marking device. The ticket information and or service related information may be received electronically in any of a variety of formats and the processor may be configured to appropriately parse the information for subsequent entry into an electronic record. For example in some embodiments the ticket information may be received as part of an electronic locate request ticket and individual respective pieces of ticket information e.g. ticket number work site address information requesting party etc. may be extracted or derived from the electronic locate request ticket. In other embodiments various aspects of ticket information may be input by a user technician via the user interface. Similarly with respect to service related information a user technician may manually enter some aspects of this information while other aspects may already be available in other memory locations e.g. the marking device ID or serial number a technician ID to which the marking device is assigned or checked out etc. . Accordingly while block is illustrated as one element of the process it should be appreciated that respective pieces of information received as input in block may be received at different times and via different interfaces sources.

In block the locate technician utilizes the user interface to indicate the initiation of a marking operation. For example the technician may press a button operate a joy stick or touch a touch screen display portion of a graphical user interface to commence a marking operation. In response a job initiation signal is provided to the processor e.g. via a switch closure and a ground or DC level applied to an I O pin of the processor or by the user interface providing a signal to the processor to initiate generation of an electronic record. Alternatively a remote job initiation signal may be received by the processor via the communication interface from another device such as the remote computer .

In response to the job initiation signal in block the processor opens a file in the memory in which to store the electronic record and assigns a file identifier to the opened file. In one example the file identifier assigned to the opened file may be or include one or more of a job number job ID or ticket number derived from the ticket information and or the service related information an identifier for the marking device itself and an identifier for a remote computer associated with the marking device e.g. for either remote control operation of the device and or data uploading downloading . To this end if ticket information and or service related information is not previously available e.g. if no information is received in block the technician optionally may be prompted to manually enter e.g. via a wizard or sequence of dialogues germane to obtaining relevant information displayed on the display of the user interface various elements of ticket information and or service related information from which a file identifier may be derived or provide other information that may be used as a file identifier.

A file opened in block for purposes of storing an electronic record may have any of a variety of formats and include any of a variety of data structures. In one embodiment the processor initially opens up a flat file for collection and logging of marking information to facilitate generation of an electronic record. As known in the art a flat file is a plain text or mixed text binary file containing one entry data record per line in which each entry may have multiple fields containing respective values and wherein the respective values may be separated by delimiters e.g. commas or have a fixed length. In one exemplary implementation the processor logs data into a flat file opened for the electronic record as a succession of time stamped event entries. Some event entries may be related specifically to actuation and or logged in response to actuation of the marking device e.g. the processor receiving an actuation signal . Other event entries may be more generally related in some manner to overall operation of the marking device or the marking operation itself but not necessarily associated with one or more particular actuations e.g. start pause stop marking operation power battery status communication link network connection status etc. and these other event entries may be logged at virtually any time in some cases irrespective of one or more actuations .

Accordingly it should be appreciated that in one aspect of this embodiment a flat file for an electronic record may contain a succession of time stamped event entries on respective lines in which one or more event entries may have multiple delimited fields values and at least some of the event entries relate to actuation of the marking device. In another aspect one or more fields values in a given event entry may specifically indicate in some manner whether or not the event is associated with an actuation of the marking device. In general an actuation event entry constitutes an entry in a file for an electronic record that is in some manner specifically related to and or logged in response to or during actuation of the marking device and multiple actuation event entries for a given actuation constitute an actuation data set for that actuation. Again it should be appreciated that a file for an electronic record may include one or more other event entries that may not be particularly associated with an actuation.

In other embodiments the file for an electronic record may or may not be a flat file and event entries associated with actuations actuation event entries may be somehow identified and differentiated from other event entries that are not associated with an actuation. For example a file for an electronic record may include a particular data structure or format that segregates or separates in some manner event entries associated with successive actuations from those event entries that are not particularly associated with actuations and or may be common to multiple actuations or a group of actuations . In yet other embodiments as discussed below marking information may be initially collected and logged in a first file for an electronic record in a first format e.g. a flat file including a succession of time stamped event entries as raw data for the marking operation that may be stored and or transmitted for any of a variety of purposes and then reformatted and or reorganized in some manner in one or more subsequent files e.g. a file having a particular data structure that segregates separates actuation related information from other information in different fields elements of a data structure for archiving and or transmission to one or more other devices processors.

Once a file for an electronic record is opened in block in block the processor can begin collecting and logging various marking information i.e. logging in the electronic record and or transmitting via the communication interface actuation event entries and or other event entries. In one exemplary implementation the processor may be programmed so as to poll one or more input devices and or other components of the marking device to receive information either once or multiple times periodically following the job initiation signal and log responses to these polls polling events as event entries with associated time stamps. Examples of entries corresponding to polling events that may be logged into the file for the electronic record and or transmitted include but are not limited to one or more power status event entries including power information associated with the power source one or more ticket information event entries including ticket information e.g. as received from the user interface or the communication interface retrieved from local memory etc. one or more service related information event entries including the service related information e.g. as received from the user interface or the communication interface retrieved from local memory etc. and one or more communication interface event entries including status information regarding operation of the communication interface e.g. network communication available unavailable .

Additionally or alternatively the processor may be programmed so as to respond to one or more signals designated as interrupt events from one or more components of the marking device. Such interrupt events cause logging of information in the electronic record and or transmission of information upon following the processor detecting the corresponding signal s . For example the job initiation signal itself may constitute an interrupt event in response to which the processor not only opens a file for the electronic record but once the file is opened the processor may request timing information from the timing system and log into the electronic record a start job event entry including a job initiation time stamp associated with receipt of the job initiation signal.

In a similar manner following commencement of a marking operation the locate technician may utilize the user interface e.g. press a button operate a joy stick or touch a touch screen display portion of a graphical user interface to pause restart and or indicate completion of the marking operation and these actions may constitute interrupt events. For example as indicated in block of a pause signal may be provided by the user interface to the processor in response to which the processor may request timing information from the timing system and log a pause job event entry including a pause job time stamp associated with the at least one pause signal. When the technician is ready to continue as shown in block of the technician may indicate this via the user interface and a restart job event entry similarly may be logged. When the marking operation is deemed by the technician to be completed as noted in block of the technician may utilize the user interface so as to provide a stop signal to the processor in response to which the processor may request timing information from the timing system and log a stop job event entry including a stop job time stamp associate with the stop signal.

While various events are noted above as examples of polling events as opposed to interrupt events it should be appreciated that the invention is not limited in these respects and that the marking data algorithm executed by the processor may be configured in any of a variety manners to designate various functions performed by and or information provided by various components of the marking device as polling events or interrupt events. For example the power source may be configured to provide a low battery signal to the processor which when present is treated by the processor as an interrupt event that may be logged by the processor and or that may cause the processor to take some particular action e.g. provide an audible visible alert disable logging of further data etc. . In one aspect absent the low battery signal the processor may request status information from the power source once or occasionally as a polling event. Similarly the communication interface may be configured to provide a no network connection available signal to the processor which when present is treated by the processor as an interrupt event that is logged and or causes the processor to take some action and when not present the processor may poll the communication interface to request status information as a polling event.

Another example of an interrupt event is given by the actuation signal provided by the actuation system upon actuation of the actuator i.e. a signal change of state indicating a transition from a non actuated state to an actuated state in response to which the processor logs one or more actuation event entries in the electronic record. More specifically in one implementation the receipt of a non actuated to actuated transition state of the actuation signal by the processor may cause an initial actuation event entry to be logged as a start actuation event entry having an associated time stamp i.e. a start time for the corresponding actuation and also cause the processor to subsequently poll one or more input devices for information during the corresponding actuation and until release of the actuator i.e. subsequent change of state of the actuation signal . In this manner an actuation data set for a given actuation may include multiple actuation event entries.

For example during actuation of the actuator the processor may poll the location tracking system so as to receive geographic information and in turn log one or more geo location data event entries in the actuation data set for the corresponding actuation. As discussed above in connection with in one exemplary implementation the location tracking system is configured to provide geographic information at an information update rate of approximately 5 Hz and the processor may log respective updates of geographic information provided by the location tracking system at this update rate during an actuation as multiple geo location data event entries of the actuation data set. It should be appreciated however that methods and apparatus according to various embodiments of the present invention are not limited in this respect and that other geographic information update rates may be employed in various implementations e.g. update rates of up to approximately 100 Hz based in part on the particular location tracking system employed. Furthermore it should be appreciated that in some implementations the geographic information provided by the location tracking system may include one or more longitude coordinates latitude coordinates and a corresponding geo location data time stamp at which a given set of longitude latitude coordinates are obtained by the location tracking system accordingly a given geo location data event entry in an actuation data set may include a longitude coordinate a latitude coordinate and the corresponding geo location data time stamp.

Similarly in some implementations pursuant to an interrupt provided by the actuation signal the processor may subsequently poll one or more of the timing system and the marking material detection mechanism so as to receive timing information and or marking material information during a corresponding actuation and in turn log one or more of a timing event entry and a marking material detection event entry as part of the actuation data set. Any of a variety of marking material information as discussed above may be collected and logged during actuation in response to processor polling of the marking material detection mechanism e.g. causing an RFID tag reader to read various information from an RFID tag affixed to the marking dispenser .

Additionally in some implementations pursuant to an interrupt provided by the actuation signal the processor may subsequently poll one or more of the user interface the communication interface and the local memory to retrieve ticket information and or service related information for logging into an actuation data set. As discussed above in some implementations the receipt retrieval of ticket information and or service related information may be treated as a polling event not necessarily associated with actuations and this information need not be included in one or more actuation data sets. However in other implementations it may be desirable to include at least some aspect of ticket information and or service related information in each actuation data set notwithstanding the possible redundancy of data content in respective actuation data sets e.g. see Table 2 discussed further below in connection with .

Another example of an interrupt event is given by a change of state of the actuation signal indicating a transition from the actuated state to the non actuated state i.e. release of the actuator . In response to this event the processor may request information from the timing system and log an end actuation event entry including an end time stamp.

Yet another type of interrupt event causing the processor to log one or more event entries may be provided by the marking material detection mechanism in the form of a signal that indicates whether or not a marking dispenser is contained in or appropriately coupled to the marking device. To this end as discussed above in connection with the marking material detection mechanism may include a toggle switch that provides a two state signal to the processor e.g. dispenser in dispenser out as an interrupt. Upon receiving an interrupt indicating a transition from dispenser out to dispenser in the processor may collect and log this event as a dispenser in event entry with a corresponding time stamp and then request other marking material information relating to the marking material in the dispenser from the marking material detection mechanism. In view of the foregoing it should be appreciated that in some embodiments marking material information may not necessarily be collected during one or more actuations of the marking device but alternatively may be collected only upon a dispenser in event being detected. Upon detection of an interrupt event indicating a transition from dispenser in to dispenser out the processor similarly may collect and log this event as a dispenser out event entry. 

In yet another embodiment the processor executing marking data algorithm may be configured to repeatedly regularly poll all available input devices and other components of the marking device e.g. in a predetermined order in response to receipt of the job initiation signal and generate an essentially continuous stream of data packets including marking information received pursuant to these polling events. In one aspect of this embodiment each data packet of marking information may include a header one or more flag fields and one or more information payload fields. For example in one implementation the header for each packet may include one or more of a job ID e.g. ticket identifier technician ID device ID e.g. serial number packet type ID and or a time stamp corresponding to logging of information generation of the packet. Each packet also may include one or more payload fields for carrying information provided by the polled device s or components and one or more flag fields that are set or reset upon occurrence of one or more predetermined interrupt events e.g. pull depress actuator release actuator marking dispenser in marking dispenser out low power communication link fail etc. . In this manner a continuous stream of data may be provided as an output by the processor in which certain interrupt events such as an actuation and or release of the actuator tag certain data packets via an interrupt flag. In yet other aspects of this embodiment all data packets thusly generated may be stored in the file opened for the electronic record and or transmitted from the marking device in essentially real time alternatively only certain data packets with one or more predetermined flags set may be stored and or transmitted.

Table 1 below illustrates an example of a portion of the contents of a relatively simple flat file for an electronic record that may be generated by the process of 

As noted above it should be appreciated that the portion of the file shown in Table 1 is provided primarily for purposes of illustration and that the format and or content for respective event entries and the file itself for an electronic record generated by and or based on the information collection process discussed above in connection with may have any of a variety of different formats and or content.

To this point Tables 2 through 5 below provide examples of various events for which event entries may be logged in a file for an electronic record and or transmitted by the marking device exemplary formats for these event entries and exemplary file formats for files having multiple such entries according to another embodiment of the present invention.

This event entry format provides information about when a marking operation job was started and completed in addition to capturing details about if and when the job was paused and restarted.

For purposes of this event format the actuator is deemed to have three possible states i.e. PRESSED HELD and RELEASED. Marking information from one or more input devices other components of the marking device is recorded with these events to provide information about the job in progress.

The status event collects various marking information and or information on operating characteristics of the device on a periodic basis while a job is in progress e.g. pursuant to processor polls .

Should any input device or other component of the marking device encounter a significant error condition this may be logged as an event. In some cases the user technician also may be notified of the error through the user interface visible alert on display audible alarm alert etc. . Similar event formats may be adopted for warning alerts events and informational alerts events.

With respect to file formats for electronic records including the event entries outlined above in Tables 2 through 5 two exemplary file formats namely ASCII and XML are provided below for purposes of illustration. In various implementations a given marking device may be particularly configured to store and or transmit electronic records and respective entries therein in either format or other formats . With respect to identification of files electronic records a standard naming scheme format may be adopted for example including an identifier for the remote computer with which the marking device may be communicating ServerID an identifier for the marking device itself WandID and an identifier for the marking operation job JobID and having the format ServerID WandID Job ID. 

This format allows low level remote processing engines to quickly and easily receive parse and react to marking information logged and or transmitted by the marking device. An example of an electronic record formatted in ASCII based on the event entries outlined in Tables 2 through 5 is as follows 

This format allows transmission of self describing data elements from the marking device in some instances reducing processing errors and reducing the risks and effort involved in upgrades and data changes. An example of an electronic record formatted in XML based on the event entries outlined in Tables 2 through 5 is as follows 

Yet another alternative format for storing and organizing marking information in an electronic record of a marking operation according to one embodiment of the invention is shown in Table 6 below. By way of example Table 6 shows the format and content of three actuation data sets of an electronic record of a marking operation for a given facility in which each actuation data set includes information associated with multiple actuation event entries logged during a corresponding actuation and resulting locate mark e.g. act 1 act 2 and act 3 as shown for example in . As discussed above it should be appreciated that the format and content shown below in Table 6 may constitute an original electronic record generated by the processor pursuant to the process shown in or may be derived from raw data collected and logged pursuant to the process e.g. as a flat file an ASCII formatted file or an XML formatted file and subsequently reorganized and particularly formatted.

In addition to the information shown in Table 6 a job ID or some other identifier for the electronic record as a whole e.g. a ticket number as well as a total number of actuations for a given marking operation e.g. the total number of actuation data sets in a given electronic record in this embodiment may be included in the electronic record.

With regard to color information that may be included in any of the event entries and electronic records discussed herein Table 7 below shows an example of the correlation of marking material color to the type of facility to be marked.

The data structure of the actuation data set 3 C of the electronic record shown in includes a start location field corresponding to T1 geo location data shown in Table 2 an end location field corresponding to T2 geo location data shown in Table 2 a start time field corresponding to T1 timestamp data shown in Table 2 an end time field corresponding to T2 timestamp data shown in Table 2 and a duration field corresponding to the duration t shown in Table 2 . Additionally the data structure for entry 3 C includes one or more fields A B . . . N for intermediate location data corresponding to 1interval location data 2interval location data . . . Nth interval location data shown in Table 2 . Finally the data structure for the entry 3 C may include one or more ticket information fields e.g. corresponding to Locate request data in Table 2 and one or more service related information fields e.g. corresponding to Service provider ID User ID and Device ID in Table 2 .

In addition to one or more actuation data sets corresponding to actuations of a marking device the electronic record shown in may include one or more additional elements. For example shows an additional element of the electronic record to store the total number of entries in the record. Furthermore according to another embodiment various other information that may be common to multiple or all actuation data sets of a given electronic record may be stored in one or more additional elements of the electronic record that are not contained within one or more of the actuation data sets themselves. For example in one alternative implementation one or more of the ticket information field the service related information field and the marking material properties field which are shown as part of the data structure for a given actuation data set of the electronic record may instead be elements of the electronic record that are not included within any one actuation data set e.g. the information contained in one or more of the ticket information field and the service related information field may be common to all actuation data sets of a given electronic record .

With reference again to in yet another embodiment the processor executing marking data algorithm and or one or more remote computers executing marking data algorithm may additionally process various marking information provided in real time from a marking device and or stored in an electronic record of a marking operation and control a display device e.g. display of marking device or some other display device to render a computer generated visual representation of a marking operation. Such a visual representation of the marking operation may be used for example to provide immediate feedback to the locate technician provide essentially real time feedback to a supervisor monitoring the marking operation from a remote location provide a visual record of the marking operation e.g. for archiving purposes once the marking operation is completed and one or more electronic records are generated and or to verify the quality e.g. accuracy and completeness of work performed during the marking operation.

In various aspects of this embodiment a visual representation may be static in that all available information is presented in a display field at one time after completion of the marking operation and generation of an electronic record alternatively the visual representation may be dynamic in that information representing successive actuations of the marking device is displayed in essentially real time or may be displayed after completion of the marking operation and generation of the electronic record in a time sequenced animation that recreates the marking operation on the time scale in which it was performed originally.

In other aspects the relative positions of all locate marks represented by actuation event entries logged and or transmitted by the marking device may be displayed e.g. based on geo location data and some appropriate scale of an available display field of display to provide a visual representation of the marking operation. A visual representation of a marking operation may also be rendered in one or more particular colors corresponding to one or more particular underground facilities marked during the marking operation e.g. see Table 7 .

In one exemplary implementation such a visual representation may include one electronic locate mark displayed in a display field for each actuation dispensing action of a marking device such that there is essentially a one to one correspondence between electronic locate marks and physical locate marks for a given underground facility marked during a marking operation. Alternatively in another exemplary implementation of such a visual representation an essentially continuous solid line or other line type may be displayed in a display field to represent a given underground facility marked during a marking operation. In another aspect the processor may process the geo location data in respective actuation data sets of an electronic record so as to filter average interpolate and or otherwise smooth data e.g. so as to provide cleaner visual renderings and or connect successive locate marks represented by the respective actuation data sets of the electronic record alternatively raw data provided by the marking device may be utilized for the visual representation. In yet another aspect of this embodiment visual representations of multiple marking operations for different underground facilities within the same work site dig area may be generated in the same display field of a display device so as to provide a composite visual representation in which different underground facilities may be uniquely identified in some manner e.g. by different line types and or different colors .

In block of the process if an electronic record has already been generated for the marking operation in which one or more underground facilities are marked the record is examined to determine the geographic extents of the locate marks to be visually rendered on a display device. In particular the processor may review the geo location data of all actuation data sets of the electronic record to determine e.g. based on the respective latitude and longitude coordinates of the available geo location data the maximum extents of the marking operation to be visually rendered.

The maximum extents of the marking operation may be determined in any of a variety of manners according to different exemplary implementations. For example in one exemplary implementation in block the processor may determine the centroid of all electronic locate marks represented by respective actuation data sets of the electronic record to be displayed. The processor then determines the geographic extent of the collection of electronic locate marks by determining one or more latitude longitude coordinate pairs from the available data having a greatest distance from the centroid. In one example the processor may determine a single farthest point from the centroid and a distance between this farthest point and the centroid serves as a radius of a circle that provides an extents area circle. In another example the farthest opposing corners of a rectangle around the centroid may be determined by assigning the centroid as the origin of a reference coordinate system and finding the coordinate pairs in opposing quadrants of the coordinate system having a greatest distance from the centroid e.g. the LAT LONG and LAT LONG coordinate pairs at a greatest distance from the origin to provide an extents area rectangle. Other types of polygons and closed shapes ovals may be employed to provide an extents area for the marking operation to be displayed.

Alternatively if an electronic record has not been previously generated and information received in essentially real time from the marking device is to be displayed in a display field a default extents area may be selected in advance based on any of a variety of criteria. For example address and or site description information provided in a ticket pursuant to which the marking operation is performed may provide a basis on which an extents area for the marking operation may be estimated a priori. Similarly as discussed further below in connection with an available digital image of the work site dig area may be employed to determine or estimate an initial extents area for the marking operation.

In block the extents area of the marking operation to be visually rendered is then mapped to an available display field of a display device using any appropriate scaling factor as necessary to ensure that all of the geo location data in the electronic record fits within the display field. For example in one exemplary implementation a transformation may be derived using information relating to the available display field e.g. a reference coordinate system using an appropriate scale for a given display field of a display device to map data points within the extents area to the available display field. In another aspect of this example a buffer area around the extents area may be added to provide one or more suitable margins for the displayed visual representation and or to accommodate different shapes of extents areas to the available display field of the display device and an appropriate transformation may be derived based on this optional additional buffer area.

Once a transformation is derived to map the marking operation extents area to the available display field of a display device in block one or more electronic locate marks is are rendered in the display field based on applying the transformation to the geo location data present in the data set of one or more corresponding actuation data sets of the electronic record. In one exemplary implementation one electronic locate mark is rendered in the display field for each actuation data set of an electronic record. With reference again to Table 6 and in one embodiment each actuation data set includes at least T1 geo location data for a start of an actuation of a marking device and one or more other pieces of geo location data during actuation. Using multiple pieces of geo location data per actuation data set an electronic locate mark may be rendered as a line in the display field e.g. so as to visually represent one of the physical locate marks or shown in . In another exemplary implementation an electronic locate mark may be rendered for each geo location data in a given entry such that multiple electronic locate marks correspond to one actuation e.g. a series of dots electronically rendered to graphically represent a line type physical locate mark . In one aspect as discussed above a given electronic locate mark may be rendered in a particular color and or line type to represent a type of underground facility represented by the mark e.g. as indicated by marking material information included in the electronic record .

As noted above while in one embodiment there may be a one to one correspondence between electronic locate marks rendered in a single or composite visual representation and physical locate marks placed in a dig area during a marking operation or there may be multiple electronic locate marks for a corresponding physical locate mark in yet other embodiments a single or composite visual representation may provide a variety of other indicators digital representations of marked underground facilities in a computer generated visual rendering. For example illustrates another example of a composite visual representation based on the same electronic record used to generate the composite visual representation of in which continuous lines are used to indicate the respective marking operations. To this end in one exemplary implementation an additional step may be included in the process shown in in which the processor may process the geo location data in an electronic record by filtering averaging interpolating and or otherwise smoothing the data so as to connect successive discrete locate marks represented by the respective actuation data sets of the electronic record and thereby provide a substantially smooth continuous line for display.

In the example of as also noted above different underground facility types may be indicated in different color lines and the different colors facility types may be derived from the electronic record e.g. based on the correlations provided in Table 7 . Furthermore in other aspects text indicators may be included in the visual representation and or other types of coding may be used different line styles such as patterns width bold etc. a succession of symbols or other graphic icons etc. to indicate different facility types and or some other aspect of a given facility e.g. the material used for a particular pipe conduit cable sheathing the diameter of a particular pipe conduit cable offsets to one or more environmental landmarks etc. . By way of example indicates that the four underground facilities in the composite visual representation correspond to a power line which may be rendered in the color red a first sewer line which may be rendered in the color green a second sewer line which also may be rendered in the color green and a telecommunications line which may be rendered in the color orange . While not shown explicitly in an exemplary composite visual representation may include additional textual numeric and or graphic elements to provide other information available in the electronic record for the marking operations e.g. timestamp information ID information coordinates for location information offset indications etc. .

In some marking operations a technician may use the marking device not only to mark an underground facility s placement path relative to the ground pavement or other surface but also to annotate the marking operation in some fashion. For example in some instances a technician actually writes with the marking device e.g. by actuating the marking device to dispense paint to provide text annotations offset indications arrows other symbols and the like on the ground pavement or other surface. Accordingly the electronic record for a marking operation may include one or more actuation data sets corresponding to actuations in which the technician was writing to annotate the marking operation in some fashion rather than marking the path of an underground facilities. In some cases providing such technician annotations on a visual representation of a marking operation may be desirable however in other instances such annotations may provide erratic markings on a visual representation in which case additional processing of geo location data or other information in the electronic record e.g. filtering averaging interpolating and or otherwise smoothing the data may be employed.

In yet another embodiment a single or composite visual representation of a marking operation may rendered on a display device together with a digital image representative of at least a portion of a dig area at a work site such that one or more electronic locate marks appear in appropriate relative positions overlaid on the displayed digital image. illustrates yet another example of a composite visual representation albeit based on an electronic record different than that used to generate the visual representations of in which continuous lines are used to indicate the respective different underground facilities marked and these lines are overlaid on a digital image of a dig area. It should be appreciated that although continuous lines representing underground facilities are depicted on a digital image in in other embodiments discrete electronic locate marks corresponding to successive actuations of a marking device or multiple discrete electronic locate marks per actuation may be overlaid on a digital image of the dig area.

In the embodiment of a number of different image sources and image types may be employed to provide the digital image on which a visual representation of a marking operation may be overlaid. For purposes of the present disclosure such a digital image also referred to herein as an input image may be any image represented by source data that is electronically processed e.g. the source data is in a computer readable format to display the image on a display device. An input image may include any of a variety of paper tangible image sources that are scanned e.g. via an electronic scanner or otherwise converted so as to create source data e.g. in various formats such as XML PDF JPG BMP etc. that can be processed to display the input image. An input image also may include an image that originates as source data or an electronic file without necessarily having a corresponding paper tangible copy of the image e.g. an image of a real world scene acquired by a digital still frame or video camera or other image acquisition device in which the source data at least in part represents pixel information from the image acquisition device .

In some exemplary implementations input images according to the present disclosure may be created provided and or processed by a geographic information system GIS that captures stores analyzes manages and presents data referring to or linked to location such that the source data representing the input image includes pixel information from an image acquisition device corresponding to an acquired real world scene or representation thereof and or spatial geographic information geo encoded information .

In view of the foregoing various examples of input images and source data representing input images according to the present disclosure to which the inventive concepts disclosed herein may be applied include but are not limited to 

It should also be appreciated that source data representing an input image may be compiled from multiple data information sources for example any two or more of the examples provided above for input images and source data representing input images or any two or more other data sources can provide information that can be combined or integrated to form source data that is electronically processed to display an image on a display device.

As noted above in some implementations an input image may be indexed to Global Positioning System GPS coordinates or another coordinate system that provides geo spatial positioning. An input image may include geo coding or other geographical identification metadata and may be provided in any computer readable format. An input image may also include images of map symbols such as roads and street names that may be superimposed upon or displayed separately from an underlying geographic area when the input image is displayed on a display device.

Based on the foregoing a digital image may be displayed in an available display field of a display device either before or after electronic locate marks are displayed in the available display field. For example in one implementation after the block in all or a portion of the digital image may be mapped to the available display field based on any relevant geographic information accompanying the digital image e.g. GPS coordinates to which the image is indexed . Alternatively the digital image may be mapped first to the available display field of the display device depending on appropriate scaling and or transformation parameters as would be readily appreciated by one of ordinary skill in the art and thereafter one or more electronic locate marks similarly may be mapped to the available display field in appropriate positions relative to the underlying digital image. In the example of a first visual representation of a gas line is depicted a second visual representation of a communication line is depicted and a third visual representation of an electric line is depicted on an aerial image of a residential dig area for purposes of illustration. As discussed above in connection with other embodiments these visual representations may be displayed in different colors and or line types to denote different types of underground facilities and or various attributes of a given facility. As also illustrated in other types of markings may be included as part of the displayed image including environmental landmarks streets property boundaries tie downs reference lines between marked facilities and environmental landmarks and or property boundaries and their associated dimensions junction boxes or transformers and one or more text boxes e.g. to indicate an address of the work site over the residence and the like.

The various examples of visual representations illustrated in may be used for various purposes including but not limited to 

In the data acquisition system of embodiments of the present disclosure and the method of analyzing marking operations based on actuations of a marking device the data that may be acquired and analyzed for any purpose and is not limited to the data described with reference to and the various tables herein. The data of interest that may be acquired and analyzed may include but is not limited to t1 timestamp data t2 timestamp data geo location information direction information any information included in the standard data stream of the locate tracking system e.g. GPS system color type of marking material amount of marking material in marking dispenser serial number of marking dispenser e.g. barcode RFID ID information e.g. individual vehicle wage and or hour compliance battery status of the marking device angle of spray of marking material e.g. using an inclinometer wired wireless connection status Bluetooth signal strength storage capacity of the local memory temperature humidity light level movement of the marking device mode of operation of the marking device docking state of the marking device e.g. docked undocked charging not charging alerts against expectations in performance e.g. compare amount and or type of marking material sprayed against facility maps and any combination thereof.

The information such as shown in various tables herein that may be acquired by use of the data acquisition system and methods described herein may be used for any purpose. In an embodiment the information of the data acquisition system may be analyzed against expected marking operations in order to gain benefits in for example operating efficiency personnel management inventory management quality control training operations safety customer satisfaction and the like.

Additionally the information that is acquired by use of the data acquisition system and the methods of the present disclosure may be correlated to other aspects of locate and marking operations. This correlation may occur for example by performing complex event processing CEP using multiple data streams from multiple devices. For example the marking device data streams e.g. respective event entries or one or more electronic records transmitted by the marking device may be correlated to other data streams of multiple marking devices or any other devices in order to aggregate assess evaluate draw insights from take action on this information and any combination thereof. Correlating disparate data streams may be useful in order to better interpret and or gain new interpretations that are useful. For example by analyzing the aggregated data field service providers may gain visibility into the distributed workforce may take corrective and or any other constructive action to improve process management may improve and or develop best practices and any combination thereof. In an embodiment certain trends may be identified by correlating historical records of the amount of time that is spent performing locate and marking operations to other information such as but not limited to the time of day time of year address of the locate site experience of the locate technician weather conditions heavy or light traffic times and the like.

While various inventive embodiments have been described and illustrated herein those of ordinary skill in the art will readily envision a variety of other means and or structures for performing the function and or obtaining the results and or one or more of the advantages described herein and each of such variations and or modifications is deemed to be within the scope of the inventive embodiments described herein. More generally those skilled in the art will readily appreciate that all parameters dimensions materials and configurations described herein are meant to be exemplary and that the actual parameters dimensions materials and or configurations will depend upon the specific application or applications for which the inventive teachings is are used. Those skilled in the art will recognize or be able to ascertain using no more than routine experimentation many equivalents to the specific inventive embodiments described herein. It is therefore to be understood that the foregoing embodiments are presented by way of example only and that within the scope of the appended claims and equivalents thereto inventive embodiments may be practiced otherwise than as specifically described and claimed. Inventive embodiments of the present disclosure are directed to each individual feature system article material kit and or method described herein. In addition any combination of two or more such features systems articles materials kits and or methods if such features systems articles materials kits and or methods are not mutually inconsistent is included within the inventive scope of the present disclosure.

The above described embodiments can be implemented in any of numerous ways. For example the embodiments may be implemented using hardware software or a combination thereof. When implemented in software the software code can be executed on any suitable processor or collection of processors whether provided in a single computer or distributed among multiple computers.

The various methods or processes outlined herein may be coded as software that is executable on one or more processors that employ any one of a variety of operating systems or platforms. Additionally such software may be written using any of a number of suitable programming languages and or programming or scripting tools and also may be compiled as executable machine language code or intermediate code that is executed on a framework or virtual machine.

In this respect various inventive concepts may be embodied as a computer readable storage medium or multiple computer readable storage media e.g. a computer memory one or more floppy discs compact discs optical discs magnetic tapes flash memories circuit configurations in Field Programmable Gate Arrays or other semiconductor devices or other tangible computer storage medium encoded with one or more programs that when executed on one or more computers or other processors perform methods that implement the various embodiments of the invention discussed above. The computer readable medium or media can be transportable such that the program or programs stored thereon can be loaded onto one or more different computers or other processors to implement various aspects of the present invention as discussed above.

The terms program or software are used herein in a generic sense to refer to any type of computer code or set of computer executable instructions that can be employed to program a computer or other processor to implement various aspects of embodiments as discussed above. Additionally it should be appreciated that according to one aspect one or more computer programs that when executed perform methods of the present invention need not reside on a single computer or processor but may be distributed in a modular fashion amongst a number of different computers or processors to implement various aspects of the present invention.

Computer executable instructions may be in many forms such as program modules executed by one or more computers or other devices. Generally program modules include routines programs objects components data structures etc. that perform particular tasks or implement particular abstract data types. Typically the functionality of the program modules may be combined or distributed as desired in various embodiments.

Also data structures may be stored in computer readable media in any suitable form. For simplicity of illustration data structures may be shown to have fields that are related through location in the data structure. Such relationships may likewise be achieved by assigning storage for the fields with locations in a computer readable medium that conveys relationship between the fields. However any suitable mechanism may be used to establish a relationship between information in fields of a data structure including through the use of pointers tags or other mechanisms that establish relationship between data elements.

Also various inventive concepts may be embodied as one or more methods of which an example has been provided. The acts performed as part of the method may be ordered in any suitable way. Accordingly embodiments may be constructed in which acts are performed in an order different than illustrated which may include performing some acts simultaneously even though shown as sequential acts in illustrative embodiments.

All definitions as defined and used herein should be understood to control over dictionary definitions definitions in documents incorporated by reference and or ordinary meanings of the defined terms.

The indefinite articles a and an as used herein in the specification and in the claims unless clearly indicated to the contrary should be understood to mean at least one. 

The phrase and or as used herein in the specification and in the claims should be understood to mean either or both of the elements so conjoined i.e. elements that are conjunctively present in some cases and disjunctively present in other cases. Multiple elements listed with and or should be construed in the same fashion i.e. one or more of the elements so conjoined. Other elements may optionally be present other than the elements specifically identified by the and or clause whether related or unrelated to those elements specifically identified. Thus as a non limiting example a reference to A and or B when used in conjunction with open ended language such as comprising can refer in one embodiment to A only optionally including elements other than B in another embodiment to B only optionally including elements other than A in yet another embodiment to both A and B optionally including other elements etc.

As used herein in the specification and in the claims or should be understood to have the same meaning as and or as defined above. For example when separating items in a list or or and or shall be interpreted as being inclusive i.e. the inclusion of at least one but also including more than one of a number or list of elements and optionally additional unlisted items. Only terms clearly indicated to the contrary such as only one of or exactly one of or when used in the claims consisting of will refer to the inclusion of exactly one element of a number or list of elements. In general the term or as used herein shall only be interpreted as indicating exclusive alternatives i.e. one or the other but not both when preceded by terms of exclusivity such as either one of only one of or exactly one of Consisting essentially of when used in the claims shall have its ordinary meaning as used in the field of patent law.

As used herein in the specification and in the claims the phrase at least one in reference to a list of one or more elements should be understood to mean at least one element selected from any one or more of the elements in the list of elements but not necessarily including at least one of each and every element specifically listed within the list of elements and not excluding any combinations of elements in the list of elements. This definition also allows that elements may optionally be present other than the elements specifically identified within the list of elements to which the phrase at least one refers whether related or unrelated to those elements specifically identified. Thus as a non limiting example at least one of A and B or equivalently at least one of A or B or equivalently at least one of A and or B can refer in one embodiment to at least one optionally including more than one A with no B present and optionally including elements other than B in another embodiment to at least one optionally including more than one B with no A present and optionally including elements other than A in yet another embodiment to at least one optionally including more than one A and at least one optionally including more than one B and optionally including other elements etc.

In the claims as well as in the specification above all transitional phrases such as comprising including carrying having containing involving holding composed of and the like are to be understood to be open ended i.e. to mean including but not limited to. Only the transitional phrases consisting of and consisting essentially of shall be closed or semi closed transitional phrases respectively as set forth in the United States Patent Office Manual of Patent Examining Procedures Section 2111.03.

