---

title: Methods and apparatus to credit internet usage
abstract: Methods, apparatus, systems and articles of manufacture to monitor mobile internet usage are disclosed. An example method includes identifying an application associated with a first request received at a proxy. The application is credited with a presentation duration based on a time difference between the first request and a second request, the second request associated with a same application as the first request.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09301173&OS=09301173&RS=09301173
owner: The Nielsen Company (US), LLC
number: 09301173
owner_city: New York
owner_country: US
publication_date: 20130315
---
This disclosure relates generally to media monitoring and more particularly to methods and apparatus to credit usage of mobile devices.

In recent years methods of accessing Internet content have evolved. For example Internet content was formerly primarily accessed via computer systems such as desktop and laptop computers. Recently handheld mobile devices e.g. smartphones have been introduced that allow users to request and view Internet content.

The figures are not to scale. Wherever possible the same reference numbers will be used throughout the drawing s and accompanying written description to refer to the same or like parts.

Monitoring companies desire to gain knowledge on how users interact with their handheld mobile devices such as smartphones. For example monitoring companies want to monitor Internet traffic to and or from the handheld mobile devices to among other things monitor exposure to advertisements determine advertisement effectiveness determine user behavior identify purchasing behavior associated with various demographics credit application usage etc. Some known systems have utilized a proxy server to monitor Internet content being transmitted to and from the monitored device.

Proxy servers relay requests for media e.g. images video webpages etc. from a requesting device to a server and in turn relay a response from the server to the requesting device. Mobile devices commonly include multiple communication options such as for example a Wi Fi radio a cellular radio etc. In some examples mobile devices can be configured to route requests for media to and or through a proxy server.

In some examples the communication options of the mobile device are configured separately for use with the proxy. For example a Wi Fi radio may be configured using a proxy auto configuration PAC file while a cellular radio may be configured using a profile. Example systems methods and apparatus for configuring a mobile device to interact with a proxy are disclosed in U.S. patent application Ser. Nos. 12 856 651 12 856 643 13 174 517 each of which are hereby incorporated by reference in their entirety.

Example systems methods and apparatus disclosed herein illustrate how applications associated with hypertext transfer protocol HTTP messages received at a proxy are credited with durations of presentation. In some examples browser traffic e.g. traffic from a browser application such as for example Apple Safari is analyzed to credit page views and or presentation durations associated with page views. Some applications utilize protocols other than HTTP such as for example HTTP Secure HTTPS . Accordingly while the examples disclosed herein are described with reference to the HTTP protocol any other past present and or future protocol and or format of communication may additionally or alternatively be used such as for example HTTP secure HTTPS File Transfer Protocol FTP etc.

The example mobile device of is a handheld mobile device. While in the illustrated example the mobile device is shown as a cellular phone any other type of device may be used. For example other types or phones e.g. an Apple iPhone a laptop computer a desktop computer a personal digital assistant PDA a netbook or a tablet computer e.g. an Apple iPad may additionally or alternatively be used. The mobile device may be implemented with any mobile operating system and may be implemented with any type of hardware and or form factor. In the illustrated example the mobile device communicates via a wireless interface. However any other type s of communication interface may additionally or alternatively be used such as for example an Ethernet connection a Bluetooth connection a Wi Fi connection a cellular connection e.g. a Time Division Multiple Access TDMA connection Code Division Multiple Access CDMA connection Worldwide Interoperability for Microwave Access WiMAX connection Long Term Evolution LTE connection etc. 

In the illustrated example the mobile device is associated with a panelist participating in a monitoring service. Although the example system of is a panelist based system non panelist and or hybrid panelist systems may alternatively be employed. In the panelist system of the illustrated example demographic information is obtained from the user when the user joins and or registers for the panel. The demographic information may be obtained from the user via a telephone interview by having the user complete an online survey etc. Additionally or alternatively panelists may be contacted and or enlisted using any desired methodology e.g. random selection statistical selection phone solicitations Internet advertisements surveys advertisements in shopping malls etc. .

In the illustrated example a first panelist is associated with the mobile device . In the illustrated example the mobile device is owned leased or otherwise belongs to the first panelist. The monitoring entity of the illustrated example does not provide the mobile device to the first panelist. In other systems panelists may be provided with mobile devices to participate in the panel. While in the illustrated example the mobile device is associated with a single panelist the mobile device may alternatively be associated with more than one panelist. For example a family may have a single mobile device e.g. a tablet computer that may be shared amongst multiple users. The sharing of a client device is less common when the client device is a cellular phone than when the client device is a portable computer e.g. an Apple iPad .

In the illustrated example the example monitoring system is shown as multiple computing systems. However the monitoring system may alternatively be comprised of a single computing system. In the illustrated example the monitoring system includes the example registrar the example proxy the example data store the example creditor and the example reporter . However additional structures may be implemented to carry out one or more portions of the functionalities implemented by the example proxy the example data store the example creditor the example reporter and or other structures associated with one or more additional and or alternative functions.

The registrar of is implemented by a logic circuit such as a processor executing computer readable instructions but it could additionally or alternatively be implemented by an Application Specific Integrated Circuit ASIC s a Programmable Logic Device PLD s a Field Programmable Logic Device FPLD s an analog circuit and or digital circuitry. In the example of the registrar receives registration information from the panelist and stores a record identifying the panelist and or their respective client device . In the illustrated example the record identifying the panelist is a port number assigned to the panelist e.g. the port assigned to the panelist may be 50 000 and the record identifying the panelist may be 50 000 . In the illustrated example the received registration information includes demographic information. However any other information may additionally or alternatively be collected. The registration information may include for example information identifying the model of the mobile device associated with the panelist a mailing address associated with the panelist an email address associated with the panelist a phone number associated with the mobile device a unique identifier of the panelist and or mobile device e.g. a social security number of the panelist a phone number of the mobile device a zip code of the panelist and or any combination or derivation of any information related to the panelist and or mobile device the age of the panelist the gender of the panelist the race of the panelist the marital status of the panelist the income of the panelist and or the household of the panelist the employment status of the panelist where the panelist typically intend to use their device how long the panelist has owned their device the education level of the panelist and or any other information related to the panelist and or the mobile device .

In the illustrated example the registration data is received by the registrar via an electronic interface e.g. by a panelist entering data into a form at a website or answering survey questions at a website . However the registrar may receive the registration data via any other means. For example the registrar may receive the registration data via a personal interview by telephone or in person a telephone interface direct mailing purchased lists etc. While the registrar of the illustrated example is an electronic system the registrar may alternatively be implemented manually by a person or group of people collecting and entering the registration data into the data store .

Upon receiving the registration data the registrar of the illustrated example creates a record associating the panelist and device identifier information with the collected demographic information. The registrar may also assign a unique alphanumeric identifier to the panelist or device. The identifier may be based on for example a serial number of the mobile device . The record is stored in the data store . In the illustrated example the registrar also assigns a unique port number to the panelist and or the mobile device and stores the port number in the record or in association with the record for that panelist and or mobile device . As noted above in addition to assigning and storing the port number the registrar may assign and store additional identifiers. For example the registrar may assign and store an identifier of the client device and or the panelist. The panelist or client device identifier s may be the same as the port number or they may be different from the port number.

While in the illustrated example port numbers are used to identify the panelist and or mobile device any other way of identifying the panelist and or mobile device may additionally or alternatively be used. For example a username and or password may be used to identify the panelist and or mobile device .

The data store may be any device for storing data such as for example flash memory magnetic media optical media etc. Furthermore the data stored in the data store may be in any data format such as for example binary data comma delimited data tab delimited data structured query language SQL structures etc. While in the illustrated example the data store is illustrated as a single database the data store may be implemented by multiple databases. The data store receives and stores identifiers associating a panelist with the mobile device from the registrar . Additionally the data store receives and stores monitoring data from the proxy . The monitoring data is associated with the corresponding panelist and or client device via the port number used for the corresponding monitored Internet traffic. The data store may also be capable of storing data that is not identifiers and or measurement data. For example software and or firmware for any component of the monitoring system may be stored in the data store . Additionally the data store may store demographic data as collected by the registrar .

The example proxy of the illustrated example of is implemented by a logic circuit such as a processor executing computer readable instructions but it could additionally or alternatively be implemented by an ASIC a PLD an FPLD an analog circuit and or digital circuitry. The proxy of the illustrated example receives requests from the mobile device . The requests of the mobile device are received by the proxy based on configuration information e.g. a server address a port number a username a password etc. provided to the panelist and or mobile device . The configuration information causes the mobile device to transmit all subsequent requests through the proxy .

Upon receiving a request from the mobile device the proxy retrieves the requested Internet content from the Internet content providers or from a local cache if for example the content has previously been requested and stored . In order to identify the panelist associated with the request communication to and from each specific panelist occurs over the uniquely assigned e.g. dedicated port. Thus each panelist is assigned a unique port and no other panelist communicates via that port. In some examples each panelist device pair is assigned a unique port number to facilitate differentiation between usage of a first device e.g. a phone by a panelist and usage of a second device e.g. an iPad by the same panelist. While the communication between a mobile device and the proxy occurs over a single port communication between the proxy and the Internet content providers may be implemented over any port. Typically the port used by the proxy to communicate with content providers is limited to hypertext transfer protocol HTTP data that occurs over port . After retrieving the requested Internet content from the Internet content provider s in the illustrated example the content is relayed to the requesting mobile device via the port assigned to the mobile device. Additionally or alternatively the content may be relayed to the requesting mobile device via a port other than the assigned port e.g. port .

The proxy of the illustrated example stores the requests for Internet content and or portion s of such requests originating from the mobile device in the data store in association with the port numbers over which the request was received. Example data collected by the proxy includes a username e.g. proxy access credentials an IP Address of the mobile device a proxy port number for a request a timestamp e.g. a timestamp in a format such as 2010 06 14 16 04 38 0400 a request method including a full requested URL and or a query string a status code of a response to the request a size of a response to the request e.g. a size of the payload excluding headers a User Agent an X DSID e.g. a user id for iTunes or App Store on a iPhone an X Apple Client Application field value e.g. Software for AppStore WiFi Music for iTunes a referrer a content type of a response to the request a total size of a response to the request e.g. a total size of the payload and HTTP headers and or time taken to serve the request e.g. in microseconds . In storing the requests the proxy may additionally store other identifiers such as for example the identifier of the mobile device and or an identifier of the panelist. Additionally or alternatively the proxy may store a portion of the Internet content in the data store . For example the proxy may store the body of a webpage transmitted to the mobile device . In another example the proxy may store an identifier of an advertisement appearing on the webpage transmitted to the client. This is particularly useful in situations where advertisements are rotated at websites. Additionally or alternatively the proxy may store characteristics of the response such as for example the HTTP header a status code of the HTTP header a content type of the HTTP header etc.

The Internet content providers supply content to clients via the Internet. In the illustrated example the proxy acts as an intermediary for the mobile device and thus is the client of the Internet content providers . Internet content is often supplied over port as most Internet content is in the form of HTTP data. However any other port may be used to supply Internet content. For example file transfer protocol FTP data may be transmitted over port HTTP over Secure Socket Layer SSL may be transmitted over port etc.

The Internet content providers can be implemented by any number and or type of Internet provider. For example the Internet content providers may comprise a web server hosting webpages formatted as Hypertext Markup Language HTML content. Alternatively the Internet content provider may be an application server providing application content e.g. media audio video etc. to applications accessing Internet content. The application content may be formatted as HTML XML or may use any other protocol or port to return content to the requester. In some examples the application data is implemented in a protocol specifically targeted for an application e.g. a weather application requesting Internet content.

The example creditor of the illustrated example of credits application and or browser usage to the panelist and or mobile device based on the requests received by the proxy . In the illustrated example the creditor includes the example user identifier the example device identifier the example request filter the example application identifier and the example duration calculator .

The example user identifier of the illustrated example of is implemented by a logic circuit such as a processor executing computer readable instructions but it could additionally or alternatively be implemented by an ASIC a PLD an FPLD an analog circuit and or digital circuitry. The example user identifier inspects HTTP requests and or records including HTTP requests received by the proxy to determine which user e.g. panelist transmitted the request. In the illustrated example the example user identifier identifies the panelist based on a port number via which the HTTP request is received. As shown in the example table of each panelist and device combination is associated with a unique port number. Accordingly the panelist and device may be identified by the user identifier based on the port number. However any other approach to identifying a panelist may additionally or alternatively be used. For example panelists may be identified based on user identifying information included in the received HTTP request e.g. a username a password a cookie etc. 

The example device identifier of the illustrated example of is implemented by a logic circuit such as a processor executing computer readable instructions but it could additionally or alternatively be implemented by an ASIC a PLD an FPLD an analog circuit and or digital circuitry. The example device identifier identifies a device that transmitted an HTTP request by performing a lookup of registration data and or device data received from the panelist that is associated with the port number of the received request. However any other method of identifying the device associated with the received request may additionally or alternatively be used. For example the device identifier may inspect the data in the user agent field of the received request to identify a device from which it was transmitted. In some examples a user agent field of the received request contains information about the operating system version and or a hardware version of the device transmitting a request. In some examples identifiers present in the user agent field e.g. version numbers may be used to look up a device model in a lookup table. In some examples the device identifier identifies capabilities and or features of the mobile device based on the lookup. For example the device identifier may identify that the mobile device includes for example a cellular radio a sixteen gigabyte memory device etc.

The example request filter of the illustrated example of is implemented by a logic circuit such as a processor executing computer readable instructions but it could additionally or alternatively be implemented by an ASIC a PLD an FPLD an analog circuit and or digital circuitry. The example request filter filters requests received by the proxy and stored in the data store based on one or more filters. The request filter creates a filtered request log that is inspected by the example application identifier . In the illustrated example the request filter filters requests based on for example a port number of the received request a user agent of the received request a URL of the received request a content type of the received request an HTTP status message of the received request an HTTP status code of a message returned to the proxy by the Internet content providers a parameter of an HTTP response received by the proxy e.g. a response to a request transmitted to the Internet content providers on behalf of the mobile device etc. In examples disclosed herein the example request filter filters requests and or responses to remove records that are not related to crediting. For example the example request filter may remove records that contain invalid information data errors e.g. messages including an HTTP status code indicating that there was an error in serving the response duplicate records etc.

The example application identifier of the illustrated example of is implemented by a logic circuit such as a processor executing computer readable instructions but it could additionally or alternatively be implemented by an ASIC a PLD an FPLD an analog circuit and or digital circuitry. The example application identifier identifies an application associated with the received request. In the illustrated example the application identifier identifies the application based on one or more of the user agent and or the URL of the request. In some examples the user agent may be generic and the URL may not identify a particular application. That is the application may be difficult to identify. In such an example the application identifier may identify the application associated with the request based on other HTTP requests and or records including HTTP requests that came from the same panelist device and are within a threshold period of time of the difficult to identify HTTP request.

The example duration calculator of the illustrated example of is implemented by a logic circuit such as a processor executing computer readable instructions but it could additionally or alternatively be implemented by an ASIC a PLD an FPLD an analog circuit and or digital circuitry. The example duration calculator identifies temporal differences between HTTP requests and based on whether the requests are associated with the same application identifies a duration of usage of the application.

The example reporter of the illustrated example of is implemented by a logic circuit such as a processor executing computer readable instructions but it could additionally or alternatively be implemented by an ASIC a PLD an FPLD an analog circuit and or digital circuitry. The reporter generates reports indicative of application usage metrics based on one or more different types of mobile devices e.g. personal computers portable devices mobile phones tablets etc. . For example the reporter compiles application usage metrics based on application crediting performed by the example duration calculator . A report is then generated to indicate application usage statistics. In some examples the application usage measurements provide ratings information for different applications.

Additionally or alternatively popularities of different applications across different device types may be reported. Such different types of applications may be for example news applications media applications e.g. a streaming media application an internet radio application etc. games streaming games email applications productivity application e.g. note taking applications dictation applications etc. etc. Such comparisons may be made across any type s and or numbers of devices including for example cell phones smart phones dedicated portable multimedia playback devices iPod devices tablet computing devices e.g. an iPad Internet enabled televisions stationary computers portable computers Internet radios etc. Any other type s and or number of applications and or devices may be analyzed. The report may also associate the application usage metrics with demographic segments e.g. age groups genders ethnicities etc. corresponding to the user s of the client device s . Additionally or alternatively the report may associate the application usage metrics with metric indicators of the popularity of the application and or similar applications across one or more user characteristics selected from one or more demographic segment s one or more age group s one or more gender s and or any other user characteristic s .

The networking subsystem provides a framework for transmitting and receiving content. The networking subsystem may be implemented via an application processor a software system that facilitates networked communication a browser engine a baseband processor that transmits network traffic and or any other system that provides a framework for transmitting and receiving content. As used in this context content encompasses material of interest to a user such as entertainment news etc. as well as information that may not be of interest to the user such as advertisements. In the illustrated example the networking subsystem is implemented by the networking libraries provided in the Apple iPhone operating system. However any other libraries systems or programs may additionally or alternatively be used.

The browser application and application are applications that are executed by a processor of the mobile device . The browser application requests HTTP Internet content from Internet content providers and renders the HTTP content for display. Additionally or alternatively the browser application may request and render HTTPS Internet content. In some examples the browser application is implemented by Apple Safari . However any other application may alternatively be used. For example Pocket Internet Explorer may be used. In some examples the HTTP Internet content is HTML content. However the content may be presented in any format that may be rendered by the browser application .

The application accessing Internet content may be any application on the mobile device that requests Internet content. For example the application accessing Internet content may be a weather application accessing Internet content provided by www.weather.com. The Internet content provider providing content for www.weather.com may respond to content requests with HTML data. However any other type of data may be contained in the content request. For example the Internet content provider providing content for www.weather.com may provide an XML file containing a condensed weather forecast. Additionally or alternatively the application accessing Internet content may request media such as for example photos video audio etc. Typically applications accessing Internet content are limited to a small amount of information to be displayed. For example the weather application may not be able to display sports news. Although the browser or the application accessing Internet content may initiate requests for content in some devices such as the Apple iPhone requests are formatted and transmitted by the device networking subsystem based on system wide settings that control routing and or addressing of such requests e.g. to a specific port of a proxy .

The user interface of the illustrated example provides a display to the user and receives input from the user. The user interface may comprise hardware a graphics library and or a graphics driver for displaying content to the panelist and may comprise hardware an input library and or an input driver for receiving input from the panelist. Either or both the browser application and or the application accessing Internet content may utilize the user interface to display content and receive input.

The first and second networks of the illustrated example of are public networks e.g. the Internet . However a private network may instead be employed for one or more of the first and or second networks . For example a network internal to an organization and or company may be used to determine how members of the organization and or employees of the company utilize mobile devices. In the illustrated example the first and second networks are Internet Protocol IP version 4 IPv4 based networks. However any other networking technology may additionally or alternatively be implemented. For example the networks may implement the IP version 6 IPv6 protocol.

The proxy of the illustrated example receives a first request for Internet content from the mobile device retrieves the content by sending a second request to the corresponding content provider receives the content in a response from the content provider and relays the content to the mobile device via a second response . In the illustrated example the proxy stores characteristics and or identifiers of the request and or response in the data store . These characteristics and or identifiers may be for example a timestamp of the request and or response an IP address of the mobile device a user agent of the request a status code of the response a content type of the response etc. However the proxy may additionally store the Internet content of the response in the data store .

The illustrated example shows a communication stream for a single request. The first request is transmitted to the proxy from the mobile device over the carrier network . The first request uses the unique port assigned to the mobile device e.g. port and is for HTTP content e.g. the request is for content that is served over port . However the content requested may be requested over any port. For example the request may be for file transfer protocol FTP content and may occur over port . The proxy upon receiving the first request stores some or all of the request in the data store and generates a second request . The second request is addressed to the Internet content provider identified in the first request . The second request in the illustrated example is transmitted via the second network over port because the first request identified content to be served over port . The Internet content provider responds to the second request with the first response . The proxy receives the first response via port stores some or all of the request in the data store and forwards the content of the first response as the second response to the mobile device over the port assigned to the mobile device .

The first HTTP request header is the header of a GET request generated by the mobile device . In the illustrated example the Internet content provider is identified by the absolute Universal Resource Locator URL identified in the first line of the first HTTP request header and the address of the proxy and uniquely assigned port are identified by the Host line of the first HTTP request header . The host identified in the illustrated example is proxy.MonitoringEntity.com and the port that the request was made on is 50 000. However any other address identifying the proxy and any other port may alternatively be used. For example the address identifying the proxy may be the Internet Protocol IP address of the proxy . In the illustrated example the absolute URL of the Internet resource is http www.weather.com home.html . However any other URL may additionally or alternatively be used.

The proxy receives the first content request and generates the second content request . The second content request is represented by the second HTTP request header . In the illustrated example the second HTTP request header is a GET request directed to http www.weather.com and is transmitted over port as no port other than port is identified in the header of the first content request . The content being requested from http www.weather.com in the illustrated example is home.html . The proxy generates the contents of the second request by inspecting the first request . For example the proxy identifies the requested content of the first request as http www.weather.com home.html determines that the port to be translated to is port identified by http determines that the Internet content provider identified is www.weather.com and determines that the requested webpage from the Internet content provider is home.html . The second content request is transmitted over port because the proxy determines that the requested content is HTTP content and no alternative port number is specified.

In some examples the content identified by a first content request may be content that is provided on a port other than port . For example the mobile device may seek to request content that is hosted on port rather than the default port e.g. port . In that alternate example an absolute URL of a first HTTP request header identifies the requested content as http www.weather.com 1234 home.html to convey that the content identified by the request is provided on port rather than the default port . Further in such an example the proxy generates a second HTTP request header that identifies port e.g. www.weather.com 1234 .

The Internet content providers receive the second content request and respond to the request via the first response . The first response is transmitted to the proxy . In the illustrated example the first response is transmitted over port as it is a response to a content request made on port . However any other port may be used to transmit the first response to the proxy . The proxy receives the first response and determines the correct port that the second response should be transmitted over. In the illustrated example the proxy determines the port that the second response should be transmitted over by associating the first response with the first request via the second request . In such an example the proxy can identify that the first request originated on port 50 000 and thus the second response should be transmitted on port 50 000. However any other method of determining the port to transmit the second response over may additionally or alternatively be used. Further the response may be transmitted over a port other than the port assigned to the mobile device .

The example data table of includes a first row a second row a third row a fourth row and a fifth row . The first example row of the illustrated example of includes a record that identifies that an Apple iPhone associated with the panelist transmitted an HTTP request at 6 00 00 PM. The second example row of the illustrated example of includes a record that identifies that the Apple iPhone associated with the same panelist transmitted an HTTP request at 6 01 23 PM. The third example row of the illustrated example of includes a record that identifies that the Apple iPhone associated with the same panelist transmitted an HTTP request at 6 04 43 PM. The fourth example row of the illustrated example of includes a record that identifies that the Apple iPhone associated with the panelist transmitted an HTTP request at 6 15 39 PM. The first second and fourth example rows include user agents identifying that the requests were associated with an ESPN application. The example HTTP requests of the example third row includes a user agent identifying that the request was associated with an iPhone e mail application. The example HTTP request of fifth example row is associated with a Safari browser. However the user agent s may associate their respective request s with any other application such as for example a YouTube application a newsreader application a browser application etc. The fifth example row of the illustrated example of includes a record that indicates that the Apple iPhone associated with the same panelist transmitted an HTTP request at 6 17 42 PM.

As disclosed herein the example table represents a filtered record log that may be processed by the example application identifier and or the example duration calculator to calculate durations of application usage associated with different applications.

While an example manner of implementing the example monitoring system is illustrated in one or more of the elements processes and or devices illustrated in may be combined divided re arranged omitted eliminated and or implemented in any other way. Further the example registrar the example proxy the example data store the example user identifier the example device identifier the example request filter the example application identifier the example duration calculator and or more generally the example creditor the example reporter and or more generally the example monitoring system of may be implemented by hardware software firmware and or any combination of hardware software and or firmware. Thus for example any of the example registrar the example proxy the example data store the example user identifier the example device identifier the example request filter the example application identifier the example duration calculator and or more generally the example creditor the example reporter and or more generally the example monitoring system of could be implemented by one or more analog or digital circuit s logic circuits programmable processor s application specific integrated circuit s ASIC s programmable logic device s PLD s and or field programmable logic device s FPLD s . When reading any of the apparatus or system claims of this patent to cover a purely software and or firmware implementation at least one of the example registrar the example proxy the example data store the example user identifier the example device identifier the example request filter the example application identifier the example duration calculator the example creditor and or the example reporter is are hereby expressly defined to include a tangible computer readable storage device or storage disk such as a memory a digital versatile disk DVD a compact disk CD a Blu ray disk etc. storing the software and or firmware. Further still the example monitoring system of may include one or more elements processes and or devices in addition to or instead of those illustrated in and or may include more than one of any or all of the illustrated elements processes and devices.

Flowcharts representative of example machine readable instructions for implementing the example monitoring system of are shown in and or . In these examples the machine readable instructions comprise a program s for execution by a processor such as the processor shown in the example processor platform discussed below in connection with . The program may be embodied in software stored on a tangible computer readable storage medium such as a CD ROM a floppy disk a hard drive a digital versatile disk DVD a Blu ray disk or a memory associated with the processor but the entire program and or parts thereof could alternatively be executed by a device other than the processor and or embodied in firmware or dedicated hardware. Further although the example program is described with reference to the flowchart illustrated in and or many other methods of implementing the example monitoring system may alternatively be used. For example the order of execution of the blocks may be changed and or some of the blocks described may be changed eliminated or combined.

As mentioned above the example processes of and or may be implemented using coded instructions e.g. computer and or machine readable instructions stored on a tangible computer readable storage medium such as a hard disk drive a flash memory a read only memory ROM a compact disk CD a digital versatile disk DVD a cache a random access memory RAM and or any other storage device or storage disk in which information is stored for any duration e.g. for extended time periods permanently for brief instances for temporarily buffering and or for caching of the information . As used herein the term tangible computer readable storage medium is expressly defined to include any type of computer readable storage device and or storage disk and to exclude propagating signals. As used herein tangible computer readable storage medium and tangible machine readable storage medium are used interchangeably. Additionally or alternatively the example processes of and or may be implemented using coded instructions e.g. computer and or machine readable instructions stored on a non transitory computer and or machine readable medium such as a hard disk drive a flash memory a read only memory a compact disk a digital versatile disk a cache a random access memory and or any other storage device or storage disk in which information is stored for any duration e.g. for extended time periods permanently for brief instances for temporarily buffering and or for caching of the information . As used herein the term non transitory computer readable medium is expressly defined to include any type of computer readable device or disk and to exclude propagating signals. As used herein when the phrase at least is used as the transition term in a preamble of a claim it is open ended in the same manner as the term comprising is open ended.

The device identifier of the illustrated example of identifies the device associated with the proxy request block . In the illustrated example the device identifier identifies the device by performing a lookup of registration data and or device data that is associated with the port number of the received request. However any other method of identifying the device associated with the received request may additionally or alternatively be used. For example the device identifier may inspect the user agent of the received request to identify a device from which it was transmitted. In some examples a user agent of the received request contains information about the operating system version and or a hardware version of the device transmitting a request. In some examples identifiers present in the user agent e.g. version numbers may be used to look up a device model in a lookup table. In some examples the device identifier identifies capabilities and or features of the mobile device based on the lookup. For example the device identifier may identify that the mobile device includes for example a cellular radio a sixteen gigabyte memory device etc.

Despite having received device identifying information from the panelist e.g. a device model such as for example an iPhone an iPad etc. in some examples it is beneficial to understand additional information about the device such as for example a model number a size of available memory e.g. eight gigabytes sixteen gigabytes etc. an operating system version identifier etc. Such information may be difficult to receive from a panelist and or may be inaccurate if for example the panelist does not remember or know which operating system version identifier their mobile device is using. In some examples not all requests transmitted by the mobile device include such device identifying and or feature identifying data e.g. a model number a size of available memory etc. . However some applications such as App Store applications e.g. apple iTunes Google Play transmit device and or feature identifying data. App store applications typically transmit this information to ensure that a correct version of an application to be downloaded and or installed on the mobile device is retrieved. For example an application that operates on an iPhone may not operate correctly on an iPad an application may require a minimum operating system version identifier. In some examples the device identifying and or feature identifying information may only be included when the HTTP request is transmitted by an App Store application of the mobile device. In such an example panelists may be asked to periodically access the App Store application to trigger an HTTP request that conveys the device identifying information to the monitoring entity via the user agent. In some examples the device identifier responds to such an HTTP request by updating a table associating device information with a panelist. Such information may be useful for identifying which devices and or versions of devices are in use by panelists.

The example request filter of the illustrated example of then filters the requests stored at block to create a filtered request log block . An example filtered request log is shown in . The filtered request log does not include HTTP requests that cannot be credited to an application and or browser. An example method of filtering the stored requests is described below in the illustrated example of . In some examples the example request filter filters based on one or more properties of an HTTP response e.g. a response to a request made by the mobile device via the proxy . Response headers e.g. an HTTP response header and or response bodies e.g. an HTTP response body may be analyzed to filter the requests. For example a content type of a response may be used to filter an associated request a response code e.g. an HTTP status code may be used to filter an associated request etc.

In some examples the example request filterer filters some of the received HTTP messages e.g. HTTP requests and or HTTP responses when they are received by the proxy to determine whether a record associated with the HTTP message should be stored in the data store . Filtering the messages when they are received reduces the amount of data that must be stored in the data store as less HTTP messages may be stored when compared to storing all received HTTP messages. As an additional benefit the amount of processing time required to post process the stored records is reduced as less records are later processed by the example request filterer .

The example application identifier of the illustrated example of identifies an application that transmitted each request in the filtered request log block . In examples disclosed herein the application identifier identifies the application associated with each request based on a user agent and or a universal resource locator URL . However any other identifier may additionally or alternatively be used. An example method of identifying the application associated with a request is described in the illustrated example of . In some examples identifying an application that transmitted the request is performed at the time that the request is received.

Based on the filtered and identified e.g. application resolved requests the duration calculator credits application s with representative usage durations block . In examples disclosed herein the duration calculator calculates a duration of usage of an application based on differences between records associated with a same application. An example method of calculating a duration of usage of an application is described in the illustrated example of .

Based on the application crediting data the reporter generates a report block . In the illustrated example the example report identifies application usage across different types of mobile devices and or demographics of panelists. For example the reporter may generate a report indicating that a first demographic of user is more likely to use and or purchase a first application than a second demographic. An example report is shown in .

Next the proxy receives a content request on a port. Because multiple requests for content may be received at substantially the same time the proxy may receive a first content request on a first port block and a second content request on a second port block . In the illustrated example the content requests are processed in parallel to decrease the amount of time taken to respond to requests. However the content requests may be processed in any other manner. For example the content requests may be processed serially. The parallel processing of any number of requests is represented in by these dots .

Next the proxy generates second request s based on corresponding ones of the request received at blocks and to retrieve the Internet content identified in the corresponding content requests blocks and . The proxy also associates the content requests and or responses with the corresponding requesting device and stores the association in the data store blocks and . In the illustrated example the proxy associates the first content request with the corresponding mobile device using the port number that the request was received upon. In some examples the proxy associates the response to the request with the corresponding mobile device. The response may include information that may be useful for crediting purposes e.g. an HTTP content types an HTTP status code an HTTP response body such as contents of a webpage etc. Since each port is used only by a single mobile device each mobile device can be uniquely identified based on the port number of the port on which a request is received. Further when storing the association in the data store the proxy may store one or more identifier s of the port the client device the panelist etc. In some examples the application that transmitted the request is identified and stored in the data store at this point rather than post processing the received request s . Additionally the proxy may store the returned content or a portion of the returned content in the data store block .

The proxy may filter what is stored in the data store. For example the proxy may only store content requests that request HTTP content as requests for non HTTP content may not be parsed properly when analyzing the information. As another example the proxy may omit style content e.g. cascading style sheet CSS documents from being stored in the data store as style content may be of limited use when analyzing the information.

The proxy finishes servicing the request from the client device by transmitting the requested Internet content to the client device via the port on which the content request was received blocks and . In some examples the proxy stores the body of the request. In some other examples the proxy stores the content of the response to the request. Control returns to the block where the proxy waits for more content requests block .

The example request filter tags requests with user agents related to mobile device system functionality block . Some applications such as location applications app store applications email applications newsreader applications etc. transmit requests for content automatically e.g. without user instruction . That is as a result of the requests with user agents related to mobile device system functionality no visual indicators are shown on the mobile device display. For example an e mail application may send a request to an e mail server to determine whether any new messages are present and or are to be downloaded. Such a request from an e mail application may occur periodically and or a periodically and is not necessarily performed as a result of user interaction with the mobile device.

The example request filter tags requests directed to advertisement servers block . In the illustrated example advertisement servers are identified based on a known list of advertising servers. The list may periodically and or a periodically be updated to identify newly identified advertisement and or advertising servers. Advertising traffic primarily occurs when using a browser e.g. to view a website that includes an advertisement . In the illustrated example browser records e.g. HTTP requests that can be identified as being associated with a browser such as for example Safari should be tagged as related to advertisement server activity when they are directed to an advertisement server. For example browser records may be tagged as advertisement server activity based on identification of URLs directed to application advertisement servers. In the illustrated example these records are not ignored and instead are kept so that they can be included in ad server traffic reporting. However records tagged as directed to tracking scripts bots and or analytics scripts are not considered when calculating a duration of usage of an application as they do not represent user activity. Records tagged as related to advertisement server activity that identify an application being used may be used to credit applications and the duration spent using an application.

The example request filter applies a content type filter to remove records having particular content types block . As described above advertisement and or tracking requests see Blumenau U.S. Pat. No. 6 108 637 which is hereby incorporated by reference in its entirety are commonly sent when applications are running. In some examples the advertisement and or tracking requests are the only type s of requests that applications transmit. For example a game application that does not request information from a network resource as part of the gameplay functionality may include advertisements e.g. at the top and or bottom of the screen . Such advertisements may be requested and categorized as advertisement traffic based on for example a URL to which they were directed. While it may not be possible to identify applications based on the advertising traffic because in some examples the advertising traffic is generic to multiple applications knowing that the advertising traffic occurred factors into how other applications are credited because for example it is known that a game was played while another application was not. In some examples the advertising traffic uses particular content types that must be included in the results for determining how long a particular application was executed.

In the illustrated example a white list is used for filtering content types. That is requests having a content type that is included on the white list are not filtered and or removed from the HTTP record blogs. In an illustrated example the whitelist of content types includes for example application XHTML XML application text HTML application text application j son application XML application binary application octet stream text vnd.wap.wml application PDF application MSWord text HTML text XML etc. However any other content type s may additionally and or alternatively be used. In the illustrated example there are some content types that are not included in the whitelist. For example the content types text CSS text x cross domain policy text javascript text x js and text cfg are example content types that are not included in the whitelist. While in the illustrated example a white list is used any other approach for filtering records management alternately be used such as for example a blacklist.

The example request filter applies a port number filter to remove records having particular port numbers block . As described above panelists are each assigned a unique port number to use when sending HTTP requests. The example request filter applies a port number filter to remove records that are not associated with a panelist. In the illustrated example the port number filter is a whitelist including port numbers that are associated with respective panelists. For example if no panelist is associated with port HTTP requests received port may be removed from the HTTP log. In some examples the filter is implemented as a blacklist in that HTTP requests made via ports that are not related to panelist traffic are removed. For example the example request filter may remove HTTP communications that were received via port . Port is associated with the HTTP protocol and is not assigned to a panelist. In some examples when the mobile device requests proxy configuration details e.g. prior to when the mobile device is configured to transmit requests via the proxy such requests are made via port . Because requests for configuration information do not represent user activity they can be ignored and or removed by the request filter .

While in the illustrated example of the example request filter applies a number of different filters e.g. a port filter a user agent filter a URL filter etc. any other number and or types of filters may additionally or alternatively be used such as for example a filter based on HTTP status messages a filter based on a HTTP method e.g. get post etc. etc.

In some examples the user agent may not include a name that directly and or indirectly identifies the application that transmitted the associated HTTP request blocks . In such an example the application identifier determines if the user agent is a generic user agent block . For example some applications use a standard application programming interface API and or software development kit SDK e.g. webkit which when used sets a default user agent identifying the API and or SDK. In some examples it may be possible to identify the application based on other parameters of the HTTP request e.g. a URL despite the generic user agent. If the user agent of the HTTP request is not generic block and the user agent does not impliedly and or explicitly identify the associated application blocks the application identifier ignores the record associated with the HTTP request block . In examples disclosed herein when the record is ignored block a duration of presentation is not calculated for the application. However the record is not excluded from the log as it may indicate that the user switched from one application to another.

If the user agent does not identify the application blocks but instead is generic block the example application identifier determines whether the application can be identified via a universal resource locator of the request block . An application may be known to transmit requests to a particular URL. For example a sports application may routinely transmit request to a sports website and or webserver. Identifying that the request is sent to the sports website and or webserver may identify the application that transmitted the request. In the illustrated example the application is identified by performing a lookup against a table associating URLs and or domain names that are associated with a particular application. Accordingly if the example application identifier can identify the application based on the URL of the associated HTTP request the application identifier identifies the application based on the user agent and universal resource locator combination e.g. the generic user agent and the URL block .

If the application cannot be identified by URL of the request block the application identifier determines if any other identified application exists within a previous time window block . In the illustrated example the application identifier uses a previous time window of fifteen minutes. However any other time window may additionally or alternatively be used. In the illustrated example the application identifier determines that other identified application exists by comparing the user agent of the instant request with previous requests to identify HTTP requests that are associated with the same user agent. User agents of applications do not typically change. That is applications do not typically change their user agent unless a change to the application is also made. For example a user agent may change when an application is upgraded from a first version using a first user agent to a second version using a second user agent different from the first user agent . As a further example the first version of the application will typically only use the first user agent. Accordingly HTTP request that include a user agent other than the user agent of the instant record are not likely to have come from the same application. If the example application identifier identifies an HTTP request with the previous time window that used a same user agent block the example application identifier identifies the application of the instant HTTP request as the same application as the HTTP request in the previous time window. If no previous request is identified block the example application identifier ignores the record block . In examples disclosed herein when the record is ignored block it is not included in the duration calculation described in connection with .

In examples disclosed in the application identifier parses each filtered request in the filtered request log created by the request filter . That is the example process of the illustrated example of the is performed for each record in the filtered request log. As an outcome of the application identification process each record is identified as either app resolved unknown or ignored . App resolved records represent records where an application associated with the HTTP request is identified. In contrast unknown and or ignored records represent records where the application associated with the HTTP request cannot be identified.

The process of begins when the application identifier has identified applications associated with the HTTP request in the filtered request log. The example duration calculator begins parsing the filtered request log e.g. the filtered request log of by identifying a first time associated with a first occurrence of a first application block . Example first times are shown in B C and D as times and . With respect to the example of the first time is identified by performing a lookup of a timestamp associated with the HTTP request in the example table of e.g. the timestamp column . In the illustrated example the duration calculator identifies the first chronologically application resolved record from a particular application. In examples disclosed herein the mobile device only allows one application to be executed at once. However some mobile devices allow more than one application to be executed at a time.

The example duration calculator then identifies a second time associated with a second occurrence of the first application block . The second time represents the last occurrence of the same identified application of the first time. In the illustrated example the second time is identified when there are no application resolved e.g. app resolved records from another application having a time of occurrence between the first time and the second time. If for example a record from another application were stored in between the first time in the second time that intermediate record might indicate that the user switched from a first application to a second application and then back to the first application. With respect to B C and D a second time is shown as times and . In examples disclosed herein the second application may be a resolved application and or an unknown application. In some examples the duration calculator identifies the second time only when there are no consecutive records between the first time and the second time whose time difference is more than a threshold. For example in the record at 6 00 00 PM is more than fifteen minutes away from the record at 6 15 39 PM. Accordingly the record is identified as both the first time and the second time. In the illustrated example the threshold is fifteen minutes however any other threshold may additionally or alternatively be used. Identifying gaps in the HTTP request log is important because such gaps indicate user inactivity.

The example duration calculator then identifies a third time associated with a first application resolved record following the second time. The application associated with the third time is not the same as the application associated with the first time. With continued respect to the example of the record at 6 15 39 PM represents the same application e.g. ESPN as the record at 6 00 00 PM and accordingly the record is not identified as the third time. That is the third time represents a time at which the user transitions from a first application to a second application. In some examples the transition to the second application occurs sometime after a final HTTP request of the first application is transmitted. However in some examples the first HTTP request transmitted by the second application occurs upon a launch of the second application. That is in some examples the first application was presented until the third time. With respect to the example of the record at 6 04 43 PM is associated with a different application than the record which is identified as the second time and accordingly the record at 6 04 43 is identified as the third time.

In some examples the third time may not be defined. That is no records may exist after the second time. With respect to the examples of no records are identified as the third time. In the illustrated example the example duration calculator determines whether the third time is defined block . The illustrated example of shows an example where a third time is not defined. If the third time is not defined block the duration calculator determines that the first time is different from the second time block . If the first time is different than the second time block the duration calculator credits and application associated with the first time with a duration of presentation equal to the difference between the second time and the first time block . In the illustrated example of the first time is different from the second time for both instances of HTTP records and a third time is not defined. Accordingly the record is credited with a presentation duration equal to the difference between the first time and the second time.

If the first time is not different from the second time e.g. the first time and the second time are both associated with a same HTTP request the example duration calculator credits the first application with a minimal presentation duration. In the illustrated example of the first time is not different from the second time for both instances of HTTP records and a third time is not defined. Accordingly the record is credited with a minimal presentation duration . In the illustrated example the minimal presentation duration is one minute. However any other minimal presentation duration may additionally or alternatively be used such as for example thirty seconds ten seconds two minutes etc.

Referring back to block if the third time is defined the duration calculator calculates the difference between the third time and the first time block . The illustrated examples of show example timelines where a third time is defined. The duration calculator then determines if the difference between the third time and the first time calculated in block is greater than a threshold block . In the illustrated example the threshold is fifteen minutes. However any other threshold may additionally or alternatively be used. If the difference between the third time and the first time is greater than the threshold block the example duration calculator credits the first application with the duration equal to the difference between the second time and the first time block . With respect to the illustrated example of the difference between the first time record and the third time record is greater than the threshold. Accordingly the application associated with the first record e.g. the ESPN application is credited with a duration of presentation of fifteen minutes and thirty nine seconds. In the illustrated example if it takes more than a threshold amount of time from the time that a first HTTP request was received from the first application to the time that a request was received from another application it is assumed that the user left the first application and is no longer interacting with the first application. To account for this the last known time e.g. the second time that the application was active is used to calculate the presentation duration. If the difference between the third time and the first time is not greater than the threshold block the example duration calculator credits the first application with a duration equal to the difference between the third time and the first time block . With respect to the illustrated example of B the difference between the first time record and the third time record is not greater than the threshold. Accordingly the application associated with the first record is credited with a duration of presentation of four minutes and forty two seconds.

In examples disclosed herein the example duration calculator processes each record to determine a presentation duration associated with the application of the record HTTP request. In the illustrated example the example duration calculator only processes records that are resolved to a particular application e.g. app resolved . However in some examples the duration calculator determines a presentation duration for unknown applications. In some examples the unknown application is assigned a minimal unknown presentation duration of one second. The minimal unknown presentation duration ensures that the reporter is able to identify records that were not application resolved and or to call out non generic user agents that have not yet been identified. In some other examples applications using non generic user agents e.g. unidentified applications are credited as unknown application specific user agents. An identity of these non generic user agents can be determined at a later time e.g. manually .

In some examples application resolved records may be associated with an App Store application e.g. Apple iTunes Google Play etc. . In some examples the App Store application is invoked within another application to for example enable a user to purchase another application e.g. some free applications allow a user to purchase a full version of the application enable user to purchase application features and or items e.g. within a game . In some examples these App Store application records do not indicate that the user left the application invoking the App Store but rather indicate that App Store information was requested by the application. In some examples if records that are application resolved to the App Store application are observed within a threshold time period from records that are application resolved to the App Store application the App Store application records may be ignored. In the illustrated example of the app store record is ignored as it likely represents in application offerings made by the ESPN application.

As described above records that are associated with e mail applications are filtered out by the request filter . However in some examples the request may not be filtered and instead may be tagged as being associated with an e mail application. illustrates an example timeline where multiple e mail application records that would otherwise be ignored are credited with a presentation duration . In some examples monitoring entities are interested to understand how users interact with e mail applications on a mobile device. Ignoring and or filtering records that are associated with the e mail application may prevent such an analysis. Accordingly in some examples the e mail application records are identified such that the e mail application may be credited with a presentation duration. However besides being displayed the e mail application may transmit requests in the background of the device and accordingly may interfere with application crediting. Accordingly the example duration calculator of the illustrated example identifies e mail application records only when a threshold number of records are consecutively included in the request log. In the illustrated example the threshold number of consecutive records is five. However any other threshold number may additionally or alternatively be used. The presence of the threshold number of records indicate the user is actively using the e mail application and a duration of the e mail application may be calculated by the duration calculator .

While the examples disclosed herein are described with respect to crediting an application executed by the mobile device any other type of crediting may additionally and or alternatively occur. For example the duration calculator may credit different URLs e.g. websites based on the HTTP records. For example browser applications such as a browser application of the illustrated example are typically used to request websites from a wide range of domains. While crediting the browser applications is important it may also be important to understand which websites the user visited while using a browser application . Accordingly the duration calculator may credit different domains e.g. websites based on the HTTP records received via the proxy .

The processor platform of the illustrated example includes a processor . The processor of the illustrated example is hardware. For example the processor can be implemented by one or more integrated circuits logic circuits microprocessors or controllers from any desired family or manufacturer.

The processor of the illustrated example includes a local memory e.g. a cache . The processor of the illustrated example is in communication with a main memory including a volatile memory and a non volatile memory via a bus . The volatile memory may be implemented by Synchronous Dynamic Random Access Memory SDRAM Dynamic Random Access Memory DRAM RAMBUS Dynamic Random Access Memory RDRAM and or any other type of random access memory device. The non volatile memory may be implemented by flash memory and or any other desired type of memory device. Access to the main memory is controlled by a memory controller.

The processor platform of the illustrated example also includes an interface circuit . The interface circuit may be implemented by any type of interface standard such as an Ethernet interface a universal serial bus USB and or a PCI express interface.

In the illustrated example one or more input devices are connected to the interface circuit . The input device s permit s a user to enter data and commands into the processor . The input device s can be implemented by for example an audio sensor a microphone a camera still or video a keyboard a button a mouse a touchscreen a track pad a trackball isopoint and or a voice recognition system.

One or more output devices are also connected to the interface circuit of the illustrated example. The output devices can be implemented for example by display devices e.g. a light emitting diode LED an organic light emitting diode OLED a liquid crystal display a cathode ray tube display CRT a touchscreen a tactile output device a light emitting diode LED a printer and or speakers . The interface circuit of the illustrated example thus typically includes a graphics driver card a graphics driver chip or a graphics driver processor.

The interface circuit of the illustrated example also includes a communication device such as a transmitter a receiver a transceiver a modem and or network interface card to facilitate exchange of data with external machines e.g. computing devices of any kind via a network e.g. an Ethernet connection a digital subscriber line DSL a telephone line coaxial cable a cellular telephone system etc. .

The processor platform of the illustrated example also includes one or more mass storage devices for storing software and or data. Examples of such mass storage devices include floppy disk drives hard drive disks compact disk drives Blu ray disk drives RAID systems and digital versatile disk DVD drives.

The coded instructions of and or may be stored in the mass storage device in the volatile memory in the non volatile memory and or on a removable tangible computer readable storage medium such as a CD or DVD.

Although certain example methods apparatus and articles of manufacture have been disclosed herein the scope of coverage of this patent is not limited thereto. On the contrary this patent covers all methods apparatus and articles of manufacture fairly falling within the scope of the claims of this patent.

