---

title: Generating user selectable media event using graphics page
abstract: A system and method for controlling a media generation system where a media event may be selected via a stateless software module, the system receiving a media event protocol file corresponding to the selected media event. The media generation system generates the media event based on the received media event protocol file.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09342221&OS=09342221&RS=09342221
owner: Sony Corporation
number: 09342221
owner_city: Tokyo
owner_country: JP
publication_date: 20130507
---
This invention is related to Utility Patent Application 09 775 692 filed Feb. 2 2001 and entitled Web Browser Plug in for TV Provisional Patent Application 60 197 297 filed Apr. 14 2000 and entitled Contextual Web Page Provisional Patent Application 60 197 848 filed Apr. 14 2000 and entitled User Interface for a Set Top Box Provisional Patent Application 60 197 308 filed Apr. 14 2000 and entitled Method for VOD Provisional Patent Application 60 197 233 filed Apr. 14 2000 and entitled Cable Modem Set Top Box Provisional Patent Application 60 182 822 filed Feb. 16 2000 and entitled Support for Television Viewing in a Standard Web Browser Provisional Patent Application 60 180 085 filed Feb. 3 2000 and entitled Web Browser Plug in for TV Provisional Patent Application 60 197 234 filed Apr. 14 2000 and entitled Web Based EPG Support Provisional Patent Application 60 197 320 filed Apr. 14 2000 and entitled Support for tuning while viewing a Web Based EPG and Provisional Patent Application filed Jan. 30 2001 and entitled Web Browser and Set Top Box Interface System and Method each of which is hereby incorporated by reference for their teachings.

This invention relates to controlling a system via a web browser and more particularly to controlling a media generation system via a web browser.

As more people become familiar with Web Browser software environments it has become desirable to incorporate Web Browser software application in systems or devices to control the operation of the system devices. In particular it is desirable to control systems by navigating through a plurality of Web pages. Web Browser environments however are stateless because that do not differentiate web pages as navigation occurs. When a web browser is used to request a system or device to perform a particular action several steps may be required. Meanwhile a different web page could be accessed without completing the required steps and without knowledge of the previous request. Accordingly a need exists for system that incorporate employ a Web browser to effectively control some or all functions of system.

The present invention includes a method and system for controlling a media generation system via a stateless software module. This is accomplished by employing a media event protocol file. In particular a user selectable media event in the stateless software module is generated. A media event protocol file for the selected media event is received. The media generation system is directed to generate the media event based on the media event protocol file.

The invention may also parse the media event protocol file. Then the media generation system is directed to generate the media event based on the parsed media event protocol file. The stateless software module may be a Web browser. In this case a user selectable link coupled to the media event in a page of a Web Browser is generated. Also the media event protocol file for the selected media event is received from the selected link

The media generation system may be a video generation system and the media event may be a video media event. Further the media generation system may be a television set top box. In either case the media event protocol file may include the screen location for the video media event within a page of the Web Browser. The media event protocol file may also include the height and width of the video media event within the page of the Web Browser. The media event protocol file may further include the channel location of the video media event.

In this invention a media event handler software module may be evoked when the media event protocol file is received. The media event handler software module directs the media generation system to generate the media event based on the media event protocol file. The media event handler software module may parse the media event protocol file and direct the media generation system to generate the media event based on the parsed media event protocol file. It is noted that the media event handler software module may be a Web Browser plug in.

In a further case the stateless software module evokes the media event handler software module upon receiving the media event protocol file.

In a particular case the invention includes a method and system for controlling a windowless television set top box. A user selectable link coupled to a video media event in a page of a Web Browser is generated. A video media event protocol file for the video media event is received from the selected link. The Web Browser evokes a media event handler plug in upon receiving the video media event protocol file. The media event handler plug in directs the media generation system to generate the video media event based on the media event protocol file. The media event handler plug in may also parse the media event protocol file and directs the media generation system to generate the video media event based on the parsed media event protocol file.

Throughout this description the preferred embodiment and examples shown should be considered as exemplars rather than as limitations on the present invention.

An overview of an application of the present invention is presented with reference to . is a block diagram of exemplary media generation architecture in which the present invention may be employed. The architecture includes a media signal generator a media generation system a media viewer and a protocol file source . As explained in detail below the media generation system generates a media event upon the election of a user via a Web based interface operating within the media generation system . The media generation system may receive a media signal related to the media event. The media signal generator may generate the media signal and communicate the signal to the media generation system via a link . The media signal generator may be any system that can produce a media signal including a satellite system radio television broadcast system Internet system. Accordingly the link may be a satellite link radio frequency link and Internet link.

The media viewer may be any device capable of converting the media event into a human perceptible format including computer television radio and telephone. In one embodiment the media viewer may be part of the media generation system . As noted the media generation system ideally includes a Web based user interface. The user selects a media event for presentation via the media viewer by generating a user selectable link on a web page corresponding to the media event. Upon the election of the media event the media generation system may need to perform multiple steps to generate the media event depending on the location of the media signal corresponding to the media event.

In a preferred embodiment when a user selects a link corresponding to the media event the corresponding link transmits a session description protocol SDP file to the media generation system . In the architecture the SDP file is located at a protocol file source and is transmitted to the media generation system via the link . The protocol file source may be a web based server satellite signal provider cable signal provider and conventional radio television provider. The link may be similar to link . In some embodiments the media signal generator may be linked to protocol file source or directly include the protocol file source . In one embodiment the SDP file includes information about the selected media event where the media generation system includes software for parsing the SDP file to determine how to generate the media event. The SDP file may also include information about how to present the media event in the media viewer . The SDP file enables the media generation system to process generate the media event while the user navigates the Web based interface to a different page where the new page may or may not refer to the pending media event.

One exemplary media generation architecture is shown in is a block diagram for an exemplary interactive cable or satellite television TV architecture or system in which the present invention may be employed. The system includes a service provider head end remote server Internet audio visual devices Internet appliances television set top box STB and remote control . The head end of the service provider includes a media server EPG server and ISP Host . The media server of the head end provides on demand movies and other programming such as interviews with actors games advertisements available merchandise associated Web pages and other related content obtained from a media database . The electronic programming guide EPG server includes a program listing database for generating an EPG. The ISP host includes a content database and is coupled to remote servers via the Internet . The remote servers may include another content such as video on demand VOD content or EPG content. The EPG content received from the remote server may be used to populate or update the program listing database of the EPG server . The ISP host includes protocols that enable communication between remove servers via the Internet . Accordingly the service provider head end may represent a media signal generator of .

The media server and EPG server are coupled by a transmission medium to the set top box STB . The transmission medium link in may include for example a conventional coaxial cable television network a fiber optic cable network telephone system twisted pair a satellite communication system a radio frequency RF system a microwave system other wireless systems a combination of wired and wireless systems or any of a variety of known electronic transmission mediums. In the case of a coaxial cable television network transmission medium is commonly realized at the subscriber s premises as a coaxial cable that is connected to a suitable cable connector at the rear panel of the STB . The STB represents the media generation system shown in .

As noted system further includes a TV such as a digital television. The TV includes a display for displaying programming an EPG web browser and other content. The TV represents a media viewer as shown in . The STB may be coupled to the TV and various other audio visual devices and Internet Appliances by an appropriate interface link in which can be any suitable analog or digital interface including an Institute of Electrical and Electronics Engineers IEEE 1394 standard interface S Video Component Video NTSC PAL or other analog television interface.

Set top box can generally provide for bi directional communication over a transmission medium in the case of a cable STB . In other embodiments bi directional communication can be effected using asymmetrical communication techniques possibly using dual communication media one for the uplink and one for the downlink. In any event the STB can have its own Universal Resource Locator URL assigned thereto to provide for direct addressing by the head end and users of the Internet. In the case of a Direct Satellite System DSS the STB is often referred to as an Integrated Receiver Decoder IRD . The transmission medium is a satellite transmission at an appropriate microwave band. A satellite dish antenna with an integral Low Noise Block LNB is used to receive such transmissions. A down converter converts the received signal to a lower frequency baseband frequency for processing by the STB .

As shown in the STB may include a central processing unit CPU and memory such as Random Access Memory RAM Read Only Memory ROM flash memory mass storage such as a hard disc drive floppy disc drive optical disc drive or may accommodate other electronic storage media. Such memory and storage media is suitable for storing data as well as program instructions for processes to be executed by the CPU. Information and programs stored on the electronic storage media or memory may also be transported over any suitable transmission medium such as that illustrated as . STB may include circuitry suitable for audio decoding and processing the decoding of video data compressed in accordance with a compression standard such as the Motion Pictures Experts Group MPEG standard and other processing. It is noted that these components may be incorporated into the TV eliminating the STB . In addition a computer may substitute the TV and STB . The computer may include a vary of devices capable of generating video media including a tuner card coupled to a digital network cable television network or DSS network.

It is noted that the STB may be coupled to additional devices such as a personal computer video cassette recorder camcorder digital camera personal digital assistant and other audio visual or Internet related devices not shown . In addition a data transport architecture such as that set forth by an industry group which includes Sony Corporation and known as the Home Audio Video Interoperability HAVi architecture may be utilized to enable interoperability among devices on a network regardless of the manufacturer of the device. This architecture may be used to create a home network system between electronic devices and Internet appliances. The STB may run an operating system suitable for a home network system such as Sony Corporation s Aperios real time operating system. Other operating systems could also be used.

As shown in the STB includes an infrared IR receiver for receiving IR signals from an input device such as the remote control . Alternatively it is noted that many other control communication methods may be utilized besides IR such as wired or wireless radio frequency etc. In addition it can be readily appreciated that the input device may be any device suitable for controlling the STB such as a remote control personal digital assistant laptop computer keyboard or computer mouse. In addition an input device in the form of a control panel located on the TV or the STB can be provided.

The STB may also be coupled to an independent service provider ISP host by a suitable W connection including dial up connections DSL Digital Subscriber Line or the same transmission medium described above e.g. using a cable modem to thus provide access to services and content from the ISP and the Internet. STB may also be used as an Internet access device to obtain information and content from remote servers such as remote server via the Internet using host operating as an Internet portal for example. In certain satellite STB environments the data can be downloaded at very high speed from a satellite link with asymmetrical upload speed from the set top box provided via a dial up or DSL connection. In one embodiment the ISP or remove server may be a protocol file source as shown in with the corresponding link .

One configuration of a digital STB is shown in detail in . The STB includes a tuner demodulator demultiplexer descrambler audio decoder modulator video decoder data decoder I O interfaces system bus graphics processor memory central processing unit CPU smart card reader disc drive interface and disc drive . A transmission medium such as a coaxial cable is coupled by a suitable interface to the tuner . Tuner may include a broadcast in band tuner for receiving content an out of band OOB tuner for receiving data transmissions and a return path tuner for providing an OOB return path for outbound data destined for example for the head end . A separate tuner not shown may be provided to receive conventional RF broadcast television channels. Demodulator may demodulate any modulated information from the tuner such MPEG 2 formatted data. The demultiplexer descrambler circuit separates the demodulated information into discrete channels of programming. The programming is divided into packets each packet bearing an identifier called a Packet ID PID that identifies the packet as containing a particular type of data e.g. audio video and data . The demultiplexer descrambler circuit also decrypts encrypted information in accordance with a decryption algorithm to prevent unauthorized access to programming content for example.

Audio packets from the circuit those identified with an audio PID are decrypted and forwarded to an audio decoder . The audio decoder may be convert the audio packets to analog audio to drive a speaker system e.g. stereo or home theater multiple channel audio systems or other audio system e.g. stereo or home theater multiple channel amplifier and speaker systems or may simply provide decoded audio out at . Video packets from the circuit those identified with a video PID are decrypted and forwarded to the video decoder . Similarly data packets from the circuit those identified with a data PID are decrypted and forwarded to the data decoder .

The data decoder transmits decoded data packets to the CPU via the system bus . Video decode passes video data to the graphics processor . The graphics processor is a computer optimized to processes graphics information rapidly in particular graphics intensive data associated with Internet browsing gaming and multimedia applications such as those associated with MHEG Multimedia and Hypermedia information coding Experts Group set top box applications. Graphics processor is also coupled to the system bus and operates under the control of CPU . It should be noted that the function of a graphics processor may be unnecessary in set top box designs having lower capabilities. Also the CPU may function as a graphics processor in some applications.

The STB may include a smart card reader for communicating with a so called smart card where the smart card reader acts as a Conditional Access Module CAM . In CAM systems the smart card reader may include a central processor unit CPU with associated RAM and ROM memory. Such smart card based CAMs are conventionally utilized for authentication of the user of transactions carried out by the user and of services and storage of cryptography keys. For example the CAM may be used to provide the key for decoding incoming cryptographic data. STB may operate in a bi directional communication mode. Accordingly data and other information may be transmitted from the head end to the STB and from the STB using an out of band channel. In one embodiment the data passes through the system bus modulator and the tuner operating as a return path OOB tuner to the transmission medium . This enables the STB user to send information to the head end e.g. service requests or changes and registration information.

Set top box may include any of a plurality of I O Input Output signals at I O interface for interconnection with other devices. By way of example and not limitation a serial RS 232 signal may be provided at port to enable interconnection to any suitable serial device supported by the STB s internal software. Similarly communication with appropriately compatible devices can be provided via an Ethernet port a USB Universal Serial Bus port an IEEE 1394 Firewire or I Link port S video port or infrared port . These interfaces may be utilized to interconnect the STB with any of a variety of devices such as storage devices audio visual devices gaming devices not shown and Internet Appliances .

I O interfaces can include a modem port to facilitate high speed or alternative access to the Internet or other data communication functions. In one preferred embodiment modem port includes a DOCSIS Data Over Cable System Interface Specification cable modem. This modem facilitates high speed network access over a cable system when port is appropriately coupled to a transmission medium embodied as a coaxial cable. A PS 2 or other keyboard mouse joystick coupled to port may be used to enable data entry into the STB . STB also may include a basic video output port for direct connection to a television set such as . In one embodiment Video output port can provide composite video formatted as National Television System Committee NTSC video. In some embodiments the video output port may be coupled directly to the graphics processor or the demultiplexer descrambler rather than passing through the system bus as illustrated in the exemplary block diagram. S Video signals at output port can be similarly provided without passing through the system bus if desired in other embodiments.

The infrared port may be embodied as an infrared receiver as illustrated in . The infrared port may receive commands from an infrared remote control infrared keyboard or other infrared control device. Although not explicitly shown front panel controls may be used in some embodiments to directly control the operation of the STB through a front panel control interface coupled to the I O interfaces . Selected interfaces such as those described above and others can be provided in STB in various combinations as required or desired.

STB may also include a disc drive interface and disc drive mass storage for storage of content and data as well as providing storage of programs operating on CPU . STB may also include other storage mediums such as a floppy disc drive CD ROM drive CD R W drive DVD drive and others. CPU is coupled through the system bus to the memory . Memory may include any suitable memory technology including Random Access Memory RAM Read Only Memory ROM Flash memory Electrically Erasable Programmable Read Only Memory EEPROM and others.

The system may receive control data from the front end via the interface and send control data to the front end and ultimately a content provider or media signal generator via the cable modem and front end . The cable modem is coupled to the front end and MPU control system and can retrieve and place digital data packets on the cable system in this embodiment . The audio graphics system can receive video and audio content information from the front end for analog video audio the MPEG 2 decoder digital audio and video and the MPU control system .

A block diagram of the software architecture for the STB is shown in . The architecture depicts the hardware layer hardware layer interface driver layer middleware layer and local content application layer . During normal operation of the STB the driver APIs are loaded in the memory of the control system . The driver APIs enable communication of events between the MPU and the hardware modules of the STB . As shown in the hardware modules include the Front End Tuner MPEG 2 Decoder Demultiplexer Descrambler Graphics Ethernet Serial port Smart Card miscellaneous hardware including keyboard light emitting diodes infrared and front panel display.

The middleware layer includes a group of content handlers spyglass content manager spyglass user interface manager spyglass thin graphical user interface GUI and application manager. The middleware layer enables the handlers and managers to run on multiple platforms with little regard for the actual operating system in place. At the top layer is the application layer where user applications reside e.g. web browser email Chat user setup home page of STB Video On Demand VOD EPG and iLink user interface . In the present invention the browser enables Hyper Text Markup Language HTML based pages or screens and browser related pages to be formatted for graphic generation by the audio graphics system . The browser also serves as a jumping point for a mechanism for viewing video media content a selected media event received from the front end and MPEG 2 decoder .

In summary the TV media handler is a content handler in the middleware layer that is responsible for controlling a region of the screen and painting that region with a transparent color to allow an underlying video frame or layer to show through the browser or HTML layer or frame based on data returned with the URL indicating video media content. The TV media handler communicates with the STB front end and audio graphics system . In the invention when the handler a web browser plug in is instantiated via a URL request that returns the header for video mpeg media content thus indicating a media event has been selected data in the format of a Session Description Protocol SDP file is also received from the correspond link and protocol file source. The SDP file indicates parameters for the video session layer i.e. the media event to be presented via the media viewer . These parameters may include the channel number to be selected by the front end the size of the video layer within the HTML layer and the location of the video layer within the HTML layer. For example represents a video session where the video layer is positioned in the upper right corner of the HTML layer. represents a session where the video layer media event is positioned in the lower middle of the HTML layer. represents a session where the video layer is positioned over the entire the HTML layer.

In this embodiment the STB generates a HTML layer and video layer and the audio graphics system is directed to draw these layers. In the HTML layer consists of the entire screen. In this case the graphics system is not directed to clear a section of the HTML layer for the video layer. In the video layer consumes a segment of the upper right corner of the screen. In this case the TV media handler directs the corresponding section of the HTML layer to be cleared and drawn with a transparent color by the graphics handler. The handler also directs the front end to tune to the appropriate channel for the video signal for the video layer. The media handler also directs the graphics system to size the video layer to fit within the transparent window of the HTML layer.

When the handler receives the SDP file the handler parses information in the file using the SPD decoder . Based on the parsed data the handler makes calls to the TV State Machine to perform the appropriate actions as mandated by the SDP file. Accordingly the media generation system STB may generate the selected media event while the user may select to navigate to a different web page while the video section remains cleared in this embodiment. When the SDP file indicates that this instance is a VOD session then media handler will communicate with the VOD server through the use of a special URL request. The VOD server acts a media signal generator in this embodiment. The URL request generates URL handlers that will parse the request and communicate with the VOD system at the head end of the respective system to create a new session. The URL handlers will pass the information from the VOD server system back to the TV media handler.

A flowchart of one process executed by the TV media handler to handle media events is shown in . As shown in at step the handler parses the video layer session from a received SDP file. The session indicates the source of the video signal to be shown in the video layer. The source may be directly tunable at the front end or may require a URL request to generate a new video stream to be transmitted to the STB from the media signal generator and retrieved by the front end of the media generation system . Step determines whether the session is a Video on Demand VOD session. When the SDP file indicates a VOD session the handler generates a URL request to be directed to the respective VOD server as described.

The handler also parses the video layer size step and location step from the SDP file. There may be default locations and sizes in some applications. The handler directs a transparent section of the HTML or browser layer to be formed step . The present invention is a windowless system where the screen consists of one HTML or browser layer. To display a video layer in this system a section or all of the HTML or browser layer is cleared and filled with a transparent layer for the video layer to show there through. This reduces the complexity of the STB in terms of MPU cycles memory overhead and graphics system requirements.

At step the handler directs the front end to tune to the channel corresponding to the video signal to be shown in the video layer after parsing the channel from the SDP file at step . The channel may correspond to a VOD channel directed to the STB . The handler size the video layer at step and specifies the location of the video layer on the screen at step .

It is noted that other events that cause the TV media handler to activate. A channel may be selected via a remote control keyboard mouse or front panel of the STB for example. In this case the event decoder of the handler directs the TV state machine to act accordingly. Other events may include Channel Up Fast Forward and on screen display OSD Program Info Display such as the current settings of the STB .

In the TV media handler the platform APIs provide an abstraction layer to enable the TV Media Handler to interface with the STB . The platform APIs include the TV control OSD Front Panel Display Timer Utility and Video Scaling . The TV control section will provide an API to the rest of the TV media handler that will abstract the functions of interacting with the actual platform tuning module and others. The On Screen Display OSD section like the TV Tuning section will provide an interface to the rest of the TV media handler that will abstract the functions and control of running the OSD. This subsection will receive commands through its interface and make the necessary drawing calls to the Spyglass Thin GUI to draw the information onto the correct area of the TV media handler s window. The Front Panel Display APIs provides an abstract for the TV Media Handler module to control the visual display of the front panel.

The timer utility section provides a set of APIs for the TV Media Handler to set up timing specific events. The video scaling section provides the TV Media Handler a method to perform video scaling and or re positioning the video window on screen. The content handler APIs of the TV media handler provide a communications channel between the TV media handler and the media handlers parent either the Spyglass CTM or an HTML media handler. The API s also provide channels to the data sources URL handlers and subviews gif jpeg images .

As noted when the TV medial handler is initiated by a selection in a HTML page the returned data will be in the form of a session description protocol SDP file. In one embodiment this resource will be returned with the content type of video mpeg. The TV media handler will begin reading the incoming SDP file and decode the data to set up the TV session. The set of parameters that are available in a SDP file include 

While this invention has been described in terms of a best mode for achieving this invention s objectives it will be appreciated by those skilled in the art that variations may be accomplished in view of these teachings without deviating from the spirit or scope of the present invention. For example the present invention may be implemented using any combination of computer programming software firmware or hardware e.g. a software language other than Java such as C or others may be used to implement the invention . As a preparatory step to practicing the invention or constructing an apparatus according to the invention the computer programming code whether software or firmware according to the invention will typically be stored in one or more machine readable storage mediums such as fixed hard drives diskettes optical disks magnetic tape semiconductor memories such as ROMs PROMs etc. thereby making an article of manufacture in accordance with the invention. The article of manufacture containing the computer programming code is used by either executing the code directly from the storage device by copying the code from the storage device into another storage device such as a hard disk RAM etc. or by transmitting the code on a network for remote execution.

