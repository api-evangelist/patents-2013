---

title: Wireless communication terminal, wireless communication method, and wireless communication system
abstract: A wireless communication terminal according to an embodiment includes a wireless LAN communication unit, a prediction unit which predicts a moving area of a user, an estimation unit, and a communication control unit. The estimation unit estimates a switching state of a wireless LAN connection in the wireless LAN communication unit, on the basis of a wireless LAN communication environment in the moving area predicted by the prediction unit. The communication unit restricts the wireless LAN connection in the wireless LAN communication unit, on the basis of the switching state estimated by the estimation unit.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09301277&OS=09301277&RS=09301277
owner: YAHOO JAPAN CORPORATION
number: 09301277
owner_city: Tokyo
owner_country: JP
publication_date: 20131224
---
The present application claims priority to and incorporates by reference the entire contents of Japanese Patent Application No. 2013 042209 filed in Japan on Mar. 4 2013.

The present invention relates to a wireless communication terminal a wireless communication method and a wireless communication system.

In recent years wireless LAN communication has rapidly come into wide use. Wireless LAN access points have been installed in various places such as stations airports or shops. In addition a wireless LAN communication function has been installed as a standard function in cellular phone terminals that can communicate with a wireless WAN base station such as telephone communication network.

It is predicted that the wireless LAN communication will further have come into wide use. It is also predicted that users of wireless communication terminals such as cellular phone terminals connect to the Internet through wireless WAN communication and also use the connection environment for rapid access to the Internet using the wireless LAN communication function in many places.

Generally the wireless communication terminal can register the wireless LAN access points for performing automatic connections. When the wireless communication terminal enters a wireless LAN communication area of the registered wireless LAN access point it automatically connects to the wireless LAN access point for example see Japanese Patent Application Laid open No 2011 166600 .

However when the user of the wireless communication terminal moves travels if the automatic connection is set the connection stability may remarkably be decreased in wireless communication of the wireless communication terminal. For example a frequent occurrence of connection and disconnection to and from the wireless LAN access points may occur.

According to an exemplary embodiment a wireless communication terminal includes a wireless LAN communication unit a prediction unit an estimation unit and a communication control unit. The prediction unit predicts a moving area of a user. The estimation unit estimates a switching state of a wireless LAN connection in the wireless LAN communication unit on the basis of a wireless LAN communication environment in the moving area predicted by the prediction unit. The communication control unit restricts the wireless LAN connection in the wireless LAN communication unit on the basis of the switching state estimated by the estimation unit.

The above and other objects features advantages and technical and industrial significance of this invention will be better understood by reading the following detailed description of presently preferred embodiments of the invention when considered in connection with the accompanying drawings.

Descriptions will now be made to a wireless communication terminal a wireless communication method and a wireless communication system according to embodiments of the present disclosure with reference to the drawings. The embodiments are not to limit the wireless communication terminal the wireless communication method and the wireless communication system according to the present disclosure. In the following descriptions a database is referred to as a DB.

The wireless LAN access points to hereinafter may be referred to as a wireless LAN access point collectively have wireless LAN communication areas to hereinafter may be referred to as a wireless LAN communication area collectively and are connected to a communication network by wire or wirelessly. The communication network is an IP Internet Protocol network for example the Internet. The wireless LAN may for example be a wireless LAN defined in IEEE 802.11 but is not limited to the wireless LAN of this standard.

The wireless WAN base station is connected to a cellular phone communication network not illustrated as a wireless WAN communication network and can perform communication with an apparatus connected to the communication network through the cellular phone communication network. The wireless WAN communication network connected to the wireless WAN base station may be a network dedicated to data communication in this case the wireless WAN base station is a wireless base station for the network dedicated to data communication.

The wireless communication terminal has a wireless WAN communication unit and can access a server for example information providing apparatus or web server connected to the communication network from the wireless WAN base station through the wireless WAN communication network. The wireless communication terminal has a wireless LAN communication unit and can access a server connected to the communication network even through the wireless LAN access point in the wireless LAN communication area of the wireless LAN access point .

The wireless communication terminal has an automatic connection function for the wireless LAN access point . When the terminal enters the wireless LAN communication area it automatically performs connection through wireless LAN communication with the wireless LAN access point corresponding to this wireless LAN communication area .

If a user U of the wireless communication terminal moves in a state where the automatic connection function of the wireless communication terminal is ON the user may possibly and repeatedly enter and leave the wireless LAN communication area . In this case the wireless communication terminal may repeat connection and disconnection of the communication with the wireless LAN access point thus remarkably lowering the connection stability.

Hence the wireless communication terminal predicts a moving area of the user U and restricts connection of the wireless LAN communication on the basis of the estimation result. Descriptions will now specifically be made to an operation of a control unit of the wireless communication terminal with reference to a sequence diagram illustrated in .

As illustrated in the control unit of the wireless communication terminal acquires information regarding the current location Step S and sends the acquired information regarding the current location to the information providing apparatus Step S S . The wireless communication terminal has a position detection unit which acquires information regarding the current location while the control unit of the wireless communication terminal acquires information regarding the current location from the position detection unit.

This sending of the current location information from the wireless communication terminal to the information providing apparatus is performed through the wireless LAN access point when the wireless communication terminal is connected to the wireless LAN access point and is performed through the wireless WAN base station when the wireless communication terminal is not connected to the wireless LAN access point .

Upon acquisition of the current location information from the wireless communication terminal the information providing apparatus acquires position information of the wireless LAN access point existing in a predetermined range including a position represented in the current location information from an internal DB and sends the information to the wireless communication terminal as AP information Step S S .

The sending of the AP information from the information providing apparatus to the wireless communication terminal is performed along a route that the wireless communication terminal sends the current location information. For example when the wireless communication terminal sends the current location information through the wireless WAN base station the AP information is sent to the wireless communication terminal through the wireless WAN base station .

The control unit of the wireless communication terminal predicts a moving area see of the user U Step S . The moving area is an area within which the user U can move travel during for example a predetermined period of time Ta. The wireless communication terminal determines a moving direction or moving speed of the user U on the basis of the information regarding the current location acquired for example by the position detection unit and predicts the moving area on the basis of the determination result.

The control unit of the wireless communication terminal estimates how many times switching of the wireless LAN connection is performed in the wireless communication terminal when the user U moves in the moving area on the basis of the AP information acquired from the information providing apparatus Step S .

The control unit of the wireless communication terminal can estimate a switching state hereinafter may be referred to as a wireless LAN switching state of wireless LAN connection on the basis of for example the number or distribution of the wireless LAN access points existing in the moving area . The control unit of the wireless communication terminal estimates the number of switching times of the wireless LAN connection hereinafter referred to as the number of wireless LAN switching times as a wireless LAN switching state. However the control unit may also estimate the wireless LAN switching interval or a wireless LAN switching frequency. The wireless LAN switching interval represents a time interval for switching the wireless LAN connection. The wireless LAN switching frequency represents a switching frequency of the wireless LAN connection per unit time. The control unit of the wireless communication terminal may also estimate the wireless LAN switching state on the basis of the number or shapes of areas excluded from the wireless LAN communication areas of the wireless LAN access point inside the moving area .

On the basis of the estimated wireless LAN switching state the control unit of the wireless communication terminal determines whether to restrict the wireless LAN connection Step S . The control unit of the wireless communication terminal does not restrict the wireless LAN connection when for example the number of wireless LAN switching times in the moving area is lower than a preset threshold value. In this case the control unit of the wireless communication terminal performs wireless LAN connection with the wireless LAN access point when the wireless communication terminal enters the wireless LAN communication area in the moving area Step S . Thus the control unit of the wireless communication terminal can access a server connected to the communication network through the wireless LAN access point .

When the number of wireless LAN switching times in the moving area is equal to or greater than the preset threshold value the wireless LAN connection is restricted. Thus the control unit of the wireless communication terminal does not perform the wireless LAN connection with the wireless LAN access point but performs the wireless WAN connection with the wireless WAN base station even when the wireless communication terminal enters for example the wireless LAN communication area in the moving area Step S . The control unit of the wireless communication terminal accesses a server connected to the communication network through the wireless WAN base station .

The control unit of the wireless communication terminal can also restrict the wireless LAN connection on the basis of the wireless LAN switching intervals in place of the number of wireless LAN switching times or in addition to the number of wireless LAN switching times. For example the control unit of the wireless communication terminal restricts the wireless LAN connection when the wireless LAN switching interval is estimated and also when a percentage of relatively short wireless LAN switching intervals is equal to or greater than a predetermined threshold value. The control unit does not restrict the wireless LAN connection when the percentage of relatively short wireless LAN switching intervals is lower than the predetermined threshold value.

In this manner the wireless communication terminal according to the first embodiment restricts the wireless LAN connection on the basis of the estimated number of wireless LAN switching times in the moving area of the user U. Thus it is possible to prevent a frequent occurrence of the connection and disconnection between the wireless communication terminal and the wireless LAN access point and to prevent a decrease in the connection stability of the wireless communication in the wireless communication terminal .

The wireless communication terminal according to the first embodiment can restrict the wireless LAN connection on the basis of the wireless LAN switching intervals. This enables to prevent the switching of the wireless LAN connection in a short period of time and to prevent a decrease in the connection stability of the wireless communication in the wireless communication terminal after the wireless communication terminal connects to the wireless IAN access point .

Even when the wireless LAN connection is restricted on the basis of the wireless LAN switching state the wireless communication terminal can access a server connected to the communication network through communication connection with the wireless WAN base station using the wireless WAN communication. Descriptions will further specifically be made to a specific configuration and a specific process of the wireless communication system with reference to the illustrations.

Descriptions will now be made to an example of a specific configuration of the wireless communication system according to the first embodiment using . is a diagram illustrating an example of a specific configuration of the wireless communication system according to the first embodiment.

As illustrated in the wireless communication system includes the plurality of wireless LAN access points to the wireless WAN base station the information providing apparatus and the wireless communication terminal . The wireless LAN access point and the information providing apparatus are connected to each other through the communication network . The information providing apparatus can provide various information items from the wireless LAN access point to the wireless communication terminal through the communication network .

The wireless WAN base station is connected to a wireless WAN communication network and is connected also to the communication network through gateway servers and . The information providing apparatus can send information to the wireless communication terminal from the wireless WAN base station connected to the wireless WAN communication network through the communication network . As described above the wireless WAN communication network is for example a cellular phone communication network or a network dedicated to data communication.

Descriptions will now be made to contents of a specific configuration and a specific process of the information providing apparatus and the wireless communication terminal with reference to the illustrations.

Descriptions will now be made to a specific configuration of the information providing apparatus according to this embodiment. As illustrated in the information providing apparatus has a communication unit a DB and a control unit .

The communication unit is an interface such as a NIC Network Interface Card . The control unit sends receives various information items between the wireless LAN access point the wireless WAN base station and the wireless communication terminal through the communication unit and the communication network .

The DB is a memory unit for example a hard disk RAM Random Access Memory a semiconductor memory device flash memory or an optical disk. This DB stores an AP information table and program data for example a wireless LAN communication control application hereinafter referred to as a wireless LAN communication control application .

The AP ID is identification information of the wireless LAN access point and information assigned to each wireless LAN access point . The Installation Position is information about the installation position of the wireless LAN access point . In the example illustrated in set information represents the latitude longitude of the installation position of the wireless LAN access point as the Installation position . Wireless LAN communication Area represents the wireless LAN communication area of the wireless LAN access point and represents for example the latitude longitude of the wireless LAN communication area .

The control unit is realized by an integrated circuit such as an ASIC Application Specific Integrated Circuit an FPGA Field Programmable Gate Array . The control unit executes various functions by executing programs stored in an inner memory unit using the RAM as a working area under the control of a CPU Central Processing Unit or MPU Micro Processing Unit .

In response to an information transmission request from the wireless communication terminal through the communication unit the control unit acquires information about the wireless LAN access point from the AP information table and sends the acquired information to the wireless communication terminal as a transmission request source through the communication unit .

The information transmission request sent from the wireless communication terminal includes current location information. The control unit sends information as AP information to the wireless communication terminal as an information transmission request source. This AP information represents the installation location of the wireless LAN access point and the wireless LAN communication area . The wireless LAN access point exists in a predetermined range from the current location of the wireless communication terminal represented in the current location information included in the information transmission request.

In response to a transmission request for program data of a wireless LAN communication control application from the control unit data of the wireless LAN communication control application is acquired from the DB and is sent to the wireless communication terminal as a request source.

As illustrated in the wireless communication terminal has a wireless LAN communication unit a wireless WAN communication unit a display unit an operation unit a storage unit a position detection unit and a control unit . The wireless LAN communication unit sends receives information to from the wireless LAN access point . The wireless WAN communication unit sends receives information to from the wireless WAN base station .

The display unit is a touch panel display. The user U of the wireless communication terminal can operate a screen displayed on the display unit in accordance with a touch operation by a finger tap on the screen of the display unit . This display unit is a small sized LCD Liquid Crystal Display or an organic EL display.

The operation unit has a keyboard including keys for inputting letters numerals spaces an enter key and arrow keys and a power button.

The storage unit is a semiconductor memory device for example RAM flash memory or a memory unit for example a hard disk or an optical disk . This storage unit stores various programs or setting values. The program stored in the storage unit is a wireless LAN communication control application acquired from an OS Operating System or the information providing apparatus . The wireless LAN communication control application may be acquired from a server other than the information providing apparatus .

The position detection unit has a GPS Global Positioning System receiving function and acquires information regarding the current location of the wireless communication terminal . The information regarding the current location represents the longitude latitude or may represent a corresponding address.

The control unit is realized by an integrated circuit for example an ASIC or FPGA. The control unit realizes or executes functions or actions of an information process described later by executing programs stored in the storage unit using inner RAM as a working area under the control of the CPU or MPU.

The control unit executes the wireless LAN communication control application whose program data is stored in the storage unit thereby functioning as a prediction unit an estimation unit a communication control unit and a setting unit . The configuration of the control unit is not limited to the above configuration and any other configuration may be applied as long as an information process described later can be performed thereby.

The prediction unit predicts a possible area in which the user U of the wireless communication terminal may possibly move in a predetermined period of time Ta as the moving area see . This moving area is predicted on the basis of for example the moving direction Y and the moving speed Va of the user U.

Specifically the prediction unit obtains the moving direction Y and the moving speed Va of the user U on the basis of a change of the current location of the wireless communication terminal which is detected by the position detection unit . For example the prediction unit obtains the moving speed Va of the user in accordance with how much the current location of the wireless communication terminal detected by the position detection unit has changed in a predetermined period of time. The prediction unit obtains also the moving direction Y of the user U in accordance with to which direction the current location of the wireless communication terminal detected by the position detection unit has changed in a predetermined period of time.

When the moving speed of the user U is equal to or greater than a predetermined threshold value Vth a prediction is made on a fan shaped area spreading out toward the forward direction of the user U as the moving area . For example as illustrated in the prediction unit predicts as the moving area the fan shaped area with the current location X of the user U as an origin and a distance D1 and an angle in accordance with the moving speed Va of the user. is a diagram illustrating an example of the moving area predicted by the prediction unit when the moving speed Va of the user U is equal to or greater than the predetermined threshold value Vth. In the angle is an angle with respect to the moving direction Y of the user U.

When the moving speed Va of the user U is lower than the predetermined threshold value Vth the prediction unit predicts a circular area with a distance D1 as a radius as the moving area with the current location X of the user U as a center as illustrated in . is a diagram illustrating an example of the moving area predicted by the prediction unit when the moving speed Va of the user U is lower than the predetermined threshold value Vth.

When the user U is in a stopped state or nearly a stopped state in many cases it is not clear to which direction the user U moves. Thus the prediction unit predicts the circular area with the current location X of the user U as its center as the moving area . Note that the distance D2 is obtained by for example D2 Kd2 va where Kd2 is a coefficient.

The prediction unit can also set the circular moving area in a manner that a position deviated from the center of the moving area is the current location X of the user U. In this case the prediction unit sets the circular moving area in a manner that a position deviated into a direction opposite to the last moving direction of the user U becomes the current location X of the user U.

When the user U is in a stopped state or nearly a stopped state the prediction unit can determine a circular or elliptical area as the moving area which has a long distance in a direction with a high probability of predicted movement and a short distance in a direction with a low probability of predicted movement.

The prediction unit can also predict the moving area in a manner that the area gets close to a fan shaped form as the moving speed Va is high and gets close to a circular form as the moving speed Va is low.

The prediction unit can also change the distances D1 and D2 the angle and the area form in accordance with attributes of the current location. The attributes of the current location include for example a shopping district an amusement park a shopping center and a station building. Accordingly if the distances D1 and D2 the angle and the area form are changed in accordance with the attributes of the current location thereby predicting the moving area with high accuracy.

The estimation unit estimates the number Na of switching times hereinafter referred to as a number Na of wireless LAN switching times of the wireless LAN connection in the wireless LAN communication unit as a switching state of the wireless LAN connection in the wireless LAN communication unit on the basis of information regarding the wireless LAN access point existing in the moving area . The estimation of the number Na of wireless LAN switching times by the estimation unit is performed in any of a first to third estimation modes.

The estimation unit estimates the number Na of wireless LAN switching times on the basis of the number of wireless LAN access point existing in the moving area when the first estimation mode is set. Information regarding the wireless LAN access point existing in the moving area is included in information which is sent from the information providing apparatus in response to an information transmission request. The estimation unit obtains the number of wireless LAN access point existing in the moving area on the basis of the information acquired from the information providing apparatus .

The estimation unit acquires information regarding the current location from the position detection unit and sends an information transmission request including the current location information to the information providing apparatus through the wireless LAN communication unit or the wireless WAN communication unit thereby acquiring information from the information providing apparatus .

After the estimation unit obtains the number of wireless LAN access point existing in the moving area it obtains a ratio hereinafter referred to as a service area non service area ratio Ra of the wireless LAN communication area and a wireless LAN non communication area in the moving area .

The service area non service area ratio Ra is obtained by dividing a value by an area Smv of the moving area . This value is obtained by multiplying a preset area Sap of the wireless LAN communication area by the number Na of wireless LAN access point . An equation is given as Ra Sap Na Smv Tav in which an average value Tav of a weighted value is considered. This weighted value is obtained on the basis of a positional relationship between the moving area and each wireless LAN access point .

The estimation unit estimates the number Na of wireless LAN switching times on the basis of the service area non service area ratio Ra. For example the estimation unit estimates the number Na of wireless LAN switching times on the basis of a function f Ra with Ra as a parameter.

The function may be expressed for example as f Ra Ra Ka. Ka is a coefficient. This equation has been given only by way of example and any other different arithmetic formulas may be given as long as the number Na of wireless LAN switching times can be estimated.

When the second estimation mode is set the estimation unit estimates the number Na of wireless LAN switching times on the basis of the number and shapes of areas hereinafter referred to as non service areas which are not the wireless LAN communication areas of the wireless LAX access point in the moving area .

Information regarding the wireless LAN communication area existing in the moving area is included in information which is sent from the information providing apparatus in response to an information transmission request. The estimation unit obtains the number and shapes of non service areas in the moving area on the basis of the information acquired from the intonation providing apparatus .

The estimation unit estimates the number Na of wireless LAN switching times using a function f Nb G with the number Nb and the complexity U of the shapes of the non service area .

The complexity G of the shapes of the non service area becomes large as the width of the moving direction of the user U is large. In addition the complexity G becomes large as the number of tops is large. The method for obtaining the complexity G is not limited to this and any other method may be applied. The total area Sb of the non service area may be a parameter.

The above function may be expressed for example as f Nb G Nb G Kb. Kb is a coefficient. This equation has been given only by way of example and any other arithmetic formulas may be given as long as the number Na of wireless LAN switching times can be estimated on the basis of the number Nb of the non service areas and the complexity G of the shapes.

The information acquired by the estimation unit from the information providing apparatus may be information see regarding the installation position of the wireless LAN access point in place of the area information. In this case the estimation unit may set a range with a predefined effective radius in which the installation position of the wireless LAN access point is the center thereof as the wireless LAN communication area .

When the third estimation mode is set the estimation unit estimates the number Na of wireless LAN switching times on the basis of a service area non service area map of the moving area . The service area non service area map is a map representing the service area and the non service area in the moving area . This service area non service area map can be obtained by the same process as that in the second estimation mode.

The estimation unit obtains a plurality of routes to be presumed as moving routes of the user U in the moving area and obtains also a number Nax x is a natural number of wireless LAN switching times along each of the routes. is a diagram illustrating the service area non service area map and the moving routes.

When the service area non service area map is in a state illustrated in the estimation unit obtains for example routes L1 to L9 as the moving routes of the user U and obtains also numbers Na1 to Na9 of wireless LAN switching times along the routes L1 to L9.

For example when the user U moves along the route L1 the user passes through four wireless LAN communication areas . Thus the estimation unit sets the number Na1 of wireless LAN switching times to 4 . When the user U moves along the route L4 the user passes through five wireless LAN communication areas to and . The estimation unit sets the number Na4 of wireless LAN switching times to 5 .

The estimation unit sets an average value of the numbers Na1 to Na9 of wireless LAN switching times as the number Na of wireless LAN switching times. When the numbers Na1 to Na9 of wireless LAN switching times are 4 5 4 5 5 5 5 5 3 and 3 the number Na of wireless LAN switching times is 4.33 .

When the wireless communication terminal has a roaming function it is possible to obtain the number Na of wireless LAN switching times on the basis of the number of non service area through which the user U passes along the moving route.

For example when the user U moves along the route L1 the user passes through the two separated non service areas and . Thus the estimation unit sets the number Na1 of wireless LAN switching times to 3 . In addition when the user U moves along the route L4 the user passes through one non service area . Thus the estimation unit sets the number Na4 of wireless LAN switching times to 2 .

The estimation unit sets an average value of for example the numbers Na1 to Na9 of wireless LAN switching times as the number Na of wireless LAN switching times. When the numbers Na1 to Na9 of wireless LAN switching times are 3 3 4 3 2 2 2 4 and 4 the number Na of wireless LAN switching times is 3 .

Accordingly the estimation unit obtains the number Na of wireless LAN switching times in any of the first to third estimation modes. However the unit may obtain the number Na of wireless LAN switching times in accordance with any other method on the basis of information about the wireless LAN access point .

The estimation unit has acquired the information about the wireless LAN access point from the information providing apparatus . However the information may be included in advance in program data of the wireless LAN communication control application. In this case the control unit stores the information about the wireless LAN access point in the storage unit by executing the wireless LAN communication control application. The estimation unit obtains the number Na of wireless LAN switching times on the basis of the information about the wireless LAN access point stored in the storage unit .

The estimation unit may estimate a time interval Ts hereinafter referred to as a wireless LAN switching intervals Ts of switching the wireless LAN connection in the wireless LAN communication unit or a switching frequency Fs hereinafter referred to as a wireless LAN switching frequency Fs per unit time as switching states of the wireless LAN connection in the wireless LAN communication unit . The estimation unit can estimate the distribution of the wireless LAN switching intervals Ts.

The wireless LAN switching interval Ts is an interval of timings for switching the wireless LAN connection and also an interval between one switching of the wireless LAN connection and next switching of the wireless LAN connection. For example when the number Na of wireless LAN switching times is 3 the estimation unit estimates an interval Ts1 between the first switching of the wireless LAN connection and the second switching of the wireless LAN connection and estimates an interval Ts2 between the second switching of the wireless LAN connection and the third switching of the wireless LAN connection. The wireless LAN switching frequency Fs can be expressed by for example Na Ta Tk when the unit time is Tk .

The communication control unit restricts the wireless LAN connection in the wireless LAN communication unit on the basis of the wireless LAN switching state estimated by the estimation unit . For example when the number Na of wireless LAN switching times estimated by the estimation unit is equal to or greater than a threshold value Nth the communication control unit restricts the wireless LAN connection in the wireless LAN communication unit not to perform wireless LAN connection in the wireless LAN communication unit .

When the wireless LAN connection in the wireless LAN communication unit is restricted the communication control unit does not perform automatic connection for the wireless LAN access point . The communication control unit accesses a server from the wireless WAN communication unit through the information providing apparatus in response to an access instruction for a server for example a Web server connected to the communication network in accordance with an operation hereinafter referred to as a user operation onto the display unit or the operation unit by the user U.

When the wireless LAN connection in the wireless LAN communication unit is not restricted the communication control unit performs automatic connection for the wireless LAN access point . Thus the communication control unit accesses a server using the wireless LAN communication unit as priority in response to an access instruction for a server connected to the communication network in accordance with a user operation. That is when a connection is made to the wireless LAN access point the communication control unit accesses a server from the wireless LAN communication unit through the information providing apparatus . On the contrary when a connection is not made to the wireless LAN access point the unit accesses to a server from the wireless WAN communication unit through the information providing apparatus .

The communication control unit determines whether to perform a process hereinafter referred to as a restriction determination process for determining whether to restrict the wireless LAN connection in the wireless LAN communication unit at a period corresponding to the moving speed Va of the user U. For example the communication control unit performs a restriction determination process at a period Tc Tb Va which is obtained by multiplying a basic period Tb by the average moving speed Vav Va Tb of the user U.

Accordingly the communication control unit performs the restriction determination process at a timing on the basis of the average moving speed Vav of the user U. When the user U continues to be in a stopped state during movement the unit does not perform the restriction determination process thus lowering a process load on the control unit . On the basis of the setting in accordance with a user operation Ta Tc may be set or Ta Tc may also be set.

Instead of performing the restriction determination process at the period Tc the communication control unit may perform the restriction determination process every time a change in the current value detected by the position detection unit exceeds a predetermined value. Accordingly the average moving speed Vav may not necessarily be performed.

The communication control unit may also perform the restriction determination process when a movement history of the user U does not satisfy a predefined condition for example when the user U suddenly changes the moving direction in the moving area . This enables to improve the connection stability of the wireless communication in the wireless communication terminal .

The communication control unit may restrict the wireless LAN connection in the wireless LAN communication unit not to perform the wireless LAN connection in the wireless LAN communication unit on the basis of the wireless LAN switching interval Ts estimated by the estimation unit or the distribution of the wireless LAN switching intervals Ts. For example when a percentage of relatively short wireless LAN switching intervals Ts is equal to or greater than a threshold value the communication control unit may restrict the wireless LAN connection in the wireless LAN communication unit . When the number of wireless LAN switching intervals Ts equal to or greater than a threshold value is equal to or greater than a predetermined number the communication control unit can also restrict the wireless LAN connection in the wireless LAN communication unit . When the minimum value of the wireless LAN switching intervals Ts is equal to or greater than a predetermined threshold value the communication control unit restricts the wireless LAN connection in the wireless LAN communication unit .

The communication control unit can restrict the wireless LAN connection in the wireless LAN communication unit not to perform the wireless LAN connection in the wireless LAN communication unit on the basis of the wireless LAN switching frequency Fs estimated by the estimation unit . For example the communication control unit restricts the wireless LAN connection in the wireless LAN communication unit when the wireless LAN switching frequency Fs is equal to or greater than a predetermined threshold value.

The prediction unit and the estimation unit perform the processes before and at the same rate with the restriction determination process of the communication control unit . The prediction unit may predict the moving area at a predetermined interval Td 

The setting unit can change various setting values of the wireless LAN communication control application in accordance with a user operation. For example the setting unit can change the above described coefficients Kd1 Kd2 Kang Ka and Kb in accordance with the user operation.

Descriptions will now be made to an information process of the wireless communication terminal according to the first embodiment with reference to . is a flowchart of the information process in the wireless communication terminal . The information process illustrated in is repeatedly performed by the control unit of the wireless communication terminal . Descriptions will now be made to the number Na of wireless LAN switching times by way of example as a wireless LAN switching state.

As illustrated in the control unit determines whether it is the timing to start the restriction determination process Step S . When the unit determines that it is the timing to start the restriction determination process Step S Yes the control unit predicts the moving area step S . The control unit estimates the number Na of wireless LAN switching times in the moving area Step S and determines whether the estimated number Na of wireless LAN switching times is equal to or greater than the threshold value Nth Step S .

When it is determined that the number Na of wireless LAN switching times is equal to or greater than the threshold value Nth Step S Yes the control unit restricts the wireless LAN connection step S . The control unit sets a wireless LAN restriction flag stored in the storage unit to for example 1 .

When the unit determines that it is not the timing to start the restriction determination process Step S No when the unit determines that the number Na of wireless LAN switching times is not equal to or greater than the threshold value Nth Step S No or when the procedure of Step S is ended the control unit shifts to Step S.

In Step S the control unit determines whether the wireless LAN access point has been detected. The control unit determines that the wireless LAN access point has been detected when a beacon sent from the wireless LAN access point is received by the wireless LAN communication unit or when a probe response is received in response to a probe request sent from the wireless LAN communication unit .

Even when the wireless LAN access point has been detected the control unit can determine that the wireless LAN access point has not been detected as long as no automatic connection is set at the detected wireless LAN access point .

In Step S when it is determined that the wireless LAN access point has been detected Step S Yes the control unit determines whether the wireless LAN connection is restricted by the process of Step S Step S . For example when the wireless LAN restriction flag stored in the storage unit is set to 1 the control unit determines that the wireless LAN connection has been restricted. When the wireless LAN restriction flag is set to 0 the control unit determines that the wireless LAN connection has not been restricted.

When determined that the wireless LAN connection has not been restricted Step S No the control unit performs a wireless LAN connection for the detected wireless LAN access point as determined in Step S Step S .

When it is determined that the wireless LAN access point has not been detected Step S No when determined that the wireless LAN connection has been restricted Step S Yes or when the procedure of Step S is ended the control unit ends the information process illustrated in .

When there is generated an access instruction for a server connected to the communication network in accordance with a user operation if a wireless LAN connection is made with the wireless LAN access point the control unit accesses the server from the wireless LAN communication unit through the wireless LAN access point . On the contrary if the wireless LAN connection is not made with the wireless LAN access point the unit accesses the server from the wireless WAN communication unit through the wireless WAN base station .

Accordingly the wireless communication terminal of the wireless communication system according to the first embodiment estimates the switching state of the wireless LAN connection in the wireless LAN communication unit on the basis of the wireless LAN communication environment in the predicted moving area of the user U and restricts the wireless LAN connection in the wireless LAN communication unit on the basis of the estimated switching state. As a result it is possible to prevent a frequent occurrence of the connection and disconnection between the wireless communication terminal and the wireless LAN access point and to prevent a decrease in the connection stability of the wireless communication in the wireless communication terminal .

The wireless LAN connection service by the wireless LAN access point may be provided by a plurality of wireless LAN service providers. In this case there may exist the wireless LAN access point of different wireless LAN connection services in the moving area . In this situation the control unit of the wireless communication terminal estimates the number Na of wireless LAN switching times in the moving area in the unit of wireless LAN connection service for example. When there is a wireless LAN connection service with a number Na of wireless LAN switching times lower than the threshold value Nth the control unit makes a wireless LAN connection with the wireless LAN access point corresponding to this wireless LAN connection service.

Descriptions will further specifically be made to an example of a process when there are a plurality of wireless LAN connection services. is a diagram illustrating an example of an AP information table stored in the DB of the information providing apparatus . is a flowchart of an information process performed by the control unit of the wireless communication terminal .

The AP information table illustrated in stores information regarding wireless LAN service providers in association with AP IDs. When an information transmission request is sent from the wireless communication terminal through the communication unit the control unit of the information providing apparatus sends information regarding the installation position the wireless LAN communication area and the wireless LAN service provider as information about the wireless LAN access point to the wireless communication terminal as a request source.

The control unit determines whether to connect to the wireless LAN access point in the unit of wireless LAN connection service on the basis of the information regarding the wireless LAN access point which is acquired from the information providing apparatus . Specifically as illustrated in it obtains the number Na of wireless LAN switching times in the unit of wireless LAN connection service Step SA and determines whether there is a wireless LAN connection service with the number Na of wireless LAN switching times lower than the threshold value Nth Step SA .

When it is determined that there is no wireless LAN connection service with the number Na of wireless LAN switching times lower than the threshold value Nth Step SA No the control unit restricts the wireless LAN connection Step S . Procedures of Steps S and S illustrated in are the same as those procedures of Steps S and S illustrated in .

When it is determined that the wireless LAN connection is restricted Step S Yes the control unit determines whether the wireless LAN access point detected in Step S is a wireless LAN access point corresponding to the wireless LAN connection service with the number Na of wireless LAN switching times lower than the threshold value Nth Step S . It is possible to also change the threshold value Nth for each wireless LAN connection service.

In the procedure of Step S the control unit can determine to which wireless LAN connection service the wireless LAN access point corresponds on the basis of for example an ESSID Extended Service Set Identifier included in a wireless signal for example a beacon or a probe response sent from the wireless LAN access point . Information regarding the ESSID is included for example in information regarding the wireless LAN service provider sent from the information providing apparatus . The control unit compares information from the wireless LAN access point and information from the information providing apparatus thereby determining to which wireless LAN connection service the wireless LAN access point corresponds.

When it is determined that the wireless LAN access point corresponds to the wireless LAN connection service with the number Na of wireless LAN switching times lower than the threshold value Nth Step S Yes or when it is determined that the wireless LAN connection is not restricted Step S No the control unit executes the procedure of Step S. In the procedure of Step S the wireless LAN access point with the wireless LAN connection is one corresponding to one of a plurality of wireless LAN service providers. The procedures of the Steps S S and S illustrated in are the same as those procedures of Steps S S and S illustrated in .

When it is determined that the wireless LAN access point does not correspond to the wireless LAN connection service with the number Na of wireless LAN switching times lower than the threshold value Nth Step S No the control unit ends the information process illustrated in .

Accordingly the wireless communication terminal estimates the number Na of wireless LAN switching times in the moving area in the unit of wireless LAN connection service and can restrict the wireless LAN connection on the basis of this number Na of wireless LAN switching times. Thus even if an automatic connection is set in the wireless communication terminal for a plurality of wireless LAN connection services it is possible to improve the connection stability of the wireless communication.

When roaming is set for the wireless LAN access point corresponding to the same wireless LAN connection service and when the wireless communication terminal has a roaming function the control unit can obtain the number Na of wireless LAN switching times while the wireless LAN communication areas of the plurality of wireless LAN access points corresponding to the same wireless LAN connection service are assumed as one wireless LAN communication area. In this case the control unit can obtain the number Na of wireless LAN switching times on the basis of the wireless LAN communication areas of the wireless LAN access points corresponding to the plurality of wireless LAN connection services.

In the wireless communication system according to the first embodiment the wireless LAN connection between the wireless communication terminal and the wireless LAN access point is controlled using the function of the wireless communication terminal . However in the second embodiment a wireless LAN connection between the wireless communication terminal and the wireless LAN access point is controlled using the function of the wireless LAN access point and the information providing apparatus . The same elements as those of the wireless communication system according to the first embodiment are identified with the same reference numerals and thus will not be repeatedly described hereinafter again.

The wireless communication terminal A has a wireless LAN communication unit a wireless WAN communication unit a display unit an operation unit a storage unit a position detection unit and a control unit A. The control unit A sends current location information of the wireless communication terminal A which is detected by the position detection unit to the information providing apparatus A through the wireless LAN communication unit or the wireless WAN communication unit .

The control unit A determines a movement distance of a user U on the basis of a change in the current location of the wireless communication terminal A which is detected by the position detection unit and can send the current location information of the wireless communication terminal A to the information providing apparatus A when the user U moves a predetermined distance. The control unit A sends identification information hereinafter referred to as a terminal ID of the wireless communication terminal A together with the current location information. The terminal ID is a MAC address Media Access Control address of the wireless LAN communication unit .

Upon detection of the wireless LAN access point the control unit A tries a wireless LAN connection for the wireless LAN access point . When the wireless LAN connection is completely made for the wireless LAN access point the unit performs communication with a server connected to a communication network through the wireless LAN access point . When the wireless LAN connection is not possibly made for the wireless LAN access point the unit performs communication with a server connected to the communication network through the wireless WAN communication unit .

The information providing apparatus A includes a communication unit a DB and a control unit A. The control unit A includes an acquisition unit A a prediction unit A an estimation unit A and a communication control unit A.

The acquisition unit A acquires current location information and a terminal ID sent from the wireless communication terminal A through the communication unit and stores them in the DB . Like the prediction unit the prediction unit A predicts as a moving area a possible area where the user U of the wireless communication terminal A moves in a predetermined period of time Ta in association with each wireless communication terminal A on the basis of the current location information and the terminal ID stored in the DB .

The estimation unit A estimates a wireless LAN switching state on the basis of information regarding the wireless LAN access point existing in the moving area in association with each wireless communication terminal A. This process is the same as that of the estimation unit .

The communication control unit A restricts the wireless LAN connection for the wireless LAN access point of the wireless communication terminal A on the basis of the wireless LAN switching state estimated by the estimation unit A in association with each wireless communication terminal A. For example the communication control unit A determines whether the number Na of wireless LAN switching times is equal to or smaller than a threshold value Nth. Then the communication control unit A informs the wireless LAN access point existing around the current location of the wireless communication terminal A about a terminal ID of the wireless communication terminal A with the number Na of wireless LAN switching times equal to or lower than the threshold value Nth as a connection refused terminal ID.

The wireless LAN access point does not perform the wireless LAN connection when a wireless LAN connection is requested by the wireless communication terminal A having the connection refused terminal ID as informed by the information providing apparatus . For example when a probe request is sent from the wireless communication terminal A having the connection refused terminal ID the wireless LAN access point does not perform a probe response. For example when an association request is sent from the wireless communication terminal A having the connection refused terminal ID in response to a sent beacon the wireless LAN access point does not perform an association response.

As illustrated in the control unit A of the information providing apparatus A determines whether current location information has been acquired from the wireless communication terminal A Step S . When it is determined that the current location information has been acquired from the wireless communication terminal A Step S Yes the control unit A stores the current location information in the DB step S . The current location information from the wireless communication terminal A includes information regarding the current location and a terminal ID. The control unit A stores the information regarding the current location and the terminal ID in the DB .

Upon completion of a procedure of Step S the control unit A determines that it is the timing to start a restriction determination process Step S . The procedure of Step S is the same as the procedure of Step S. When it is determined that it is the timing to start the restriction determination process Step S Yes the control unit A predicts the moving area Step S . The control unit A estimates the number Na of wireless LAN switching times in the moving area Step S and determines whether the estimated number Na of wireless LAN switching times is equal to or greater than the threshold value Nth Step S .

When it is determined that the number Na of wireless LAN switching times is equal to or greater than the threshold value Nth Step S Yes the control unit A sets a restriction on the wireless LAN connection for the wireless communication terminal A corresponding to the sent current location information as determined in step S Step S . For example the control unit A sets to 1 a wireless LAN restriction flag of the wireless communication terminal A of wireless LAN restriction flags of the wireless communication terminals A which are stored in the DB . This enables the restriction setting of the wireless LAN connection.

Upon completion of the procedure of Step S the control unit A sends a terminal ID of the wireless communication terminal A with the set restriction as a connection refused terminal ID to the wireless LAN access point Step S . The wireless LAN access point as a destination of the connection refused terminal ID is a wireless LAN access point for example having the wireless LAN communication area with the current location of the wireless communication terminal A corresponding to the connection refused terminal ID or is its surrounding wireless LAN access point .

When it is determined that the current location information has not been acquired from the wireless communication terminal A Step S No when it is determined that it is not the timing to start the restriction determination process Step S No when the number Na of wireless LAN switching times is not equal to or greater than the threshold value Nth Step S No or when the procedure of Step S is completed the control unit A ends the information process illustrated in .

Accordingly in the wireless communication system A according to the second embodiment the information providing apparatus A is aware of the current location of the wireless communication terminal A and the request for the wireless LAN connection sent from the wireless communication terminal A is not responded in the wireless LAN access point . This enables to lower a process load on the wireless communication terminal A as compared to the wireless communication system according to the first embodiment.

The information providing apparatus A performs the above described process only for the wireless communication terminal A which has sent the restriction process setting request but may perform the above process also for the wireless communication terminal A which has not sent the restriction process setting request. The restriction process setting request is sent from the wireless communication terminal A in accordance with a user operation of the wireless communication terminal A.

The descriptions have been made under the assumption that the current location information of the wireless communication terminal A is sent from the wireless communication terminal A. However the information providing apparatus A may detect the current location of the wireless communication terminal A on the basis of a detection result of the wireless communication terminal A in the wireless WAN base station or the wireless LAN access point .

In the above described embodiments the moving area has been predicted on the basis of a change in the current location of the wireless communication terminal A . However the moving area may be predicted in accordance with any other method. For example the load way on the guided route may be set as the predicted area when the destination is set in the wireless communication terminal A on which a route guiding function for the destination is operated.

The control unit of the wireless communication terminal may detect the communication traffic with the server connected to the communication network and change the threshold value Nth on the basis of the communication traffic. For example when the communication traffic is very small the threshold value Nth is increased and when the communication is very large the threshold value Nth is decreased.

As a result for example when video content is viewed the threshold value Nth is decreased and at the page browsing for a blog or news the threshold value Nth can be increased. This enables to lower an effect in the communication with the server and increase an opportunity to communicate through the wireless LAN connection.

The control unit A of the wireless communication terminal A detects the communication traffic with the server connected to the communication network and informs the information providing apparatus A of the detection. The control unit A of the information providing apparatus A can change the threshold value Nth on the basis of the communication traffic.

Like the case of the number Na of wireless LAN switching times the control unit A of the wireless communication terminal A can change the threshold value for the number Ts of wireless LAN switching intervals Ts or the threshold value for the wireless LAN switching frequency Ts on the basis of the communication traffic.

In the above embodiments examples of the wireless LAN communication state estimated by the estimation unit are the number of wireless LAN communication switching times the wireless LAN switching intervals and the wireless LAN switching frequency. However the wireless LAN communication state may be estimated with a combination of the examples. In this case the communication control unit can restrict the wireless LAN connection in the wireless LAN communication unit on the basis of the number of wireless LAN communication switching times the wireless LAN switching intervals and the wireless LAN switching frequency.

As described above the wireless communication terminal according to the embodiment has the prediction unit the estimation unit and the communication control unit . The prediction unit predicts the moving area of the user U. The estimation unit estimates the switching state of the wireless LAN connection in the wireless LAN communication unit on the basis of the wireless LAN communication environment in the moving area predicted by the prediction unit . The communication control unit restricts the wireless LAN connection in the wireless LAN communication unit on the basis of the switching state estimated by the estimation unit .

According to this Configuration it is possible to prevent a frequent occurrence of connection and disconnection between the wireless communication terminal and the wireless LAN access point and to prevent a remarkable decrease in the connection stability of the wireless communication in the wireless communication terminal .

When the restriction is not made on the wireless LAN connection in the wireless LAN communication unit the communication control unit communicates with a server an example of an apparatus connected to an external network connected to the communication network using the wireless LAN communication unit . When the restriction is made on the wireless LAN connection in the wireless LAN communication unit the unit communicates with a server connected to the communication network using the wireless WAN communication unit .

According to this configuration even if a restriction is made on the wireless LAN connection the wireless communication terminal can access the server connected to the communication network through the communication connection with the wireless WAN base station using the wireless WAN communication.

The prediction unit changes the size of the moving area to be predicted in accordance with the moving speed Va of the user U.

According to this configuration it is possible to prevent a decrease in the connection stability of the wireless communication in the wireless communication terminal with high accuracy.

The prediction unit predicts the fan shaped area spreading out toward the forward direction of the user U as the moving area .

According to this configuration it is possible to prevent a decrease in the connection stability of the wireless communication in the wireless communication terminal with high accuracy.

The estimation unit estimates the switching state of the wireless LAN connection in the wireless LAN communication unit on the basis of the number of wireless LAN access points existing in the moving area .

According to this configuration it is possible to easily estimate the switching state of the wireless LAN connection and thus reducing the load in the estimation process.

The estimation unit estimates the switching state of the wireless LAN connection in the wireless LAN communication unit on the basis of the number and shapes of areas which are not the wireless LAN communication area of the wireless LAN access point in the moving area .

According to this configuration it is possible to estimate the switching state of the wireless LAN connection with high accuracy.

The wireless communication system A according to the embodiment includes the prediction unit A the estimation unit A and the communication control unit A . The prediction unit A predicts the moving area of the user U of the wireless communication terminal A . The estimation unit A estimates the switching state of the wireless LAN connection in the wireless LAN communication unit of the wireless communication terminal A on the basis of the wireless LAN communication environment in the wireless LAN communication unit of the wireless communication terminal A . The communication control unit A restricts the wireless LAN connection in the wireless LAN communication unit on the basis of the switching state estimated by the estimation unit A .

According to this configuration it is possible to prevent a frequent occurrence of connection and disconnection between the wireless communication terminal A and the wireless LAN access point and to prevent a remarkable decrease in the connection stability of the wireless communication in the wireless communication terminal A .

The above described information providing apparatus may be realized by a plurality of server computers and its configuration may flexibly be changed. For example some function may be realized by calling the external platform by an ATP Application Programming Interface or network computing.

The wireless communication terminal the wireless communication method and the wireless communication system according to the present disclosure have an effect of improving the connection stability of wireless communication in the wireless communication terminals.

Although the invention has been described with respect to specific embodiments for a complete and clear disclosure the appended claims are not to be thus limited but are to be construed as embodying all modifications and alternative constructions that may occur to one skilled in the at that fairly fall within the basic teaching herein set forth.

