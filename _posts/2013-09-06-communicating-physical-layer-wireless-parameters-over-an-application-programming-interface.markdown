---

title: Communicating physical layer wireless parameters over an application programming interface
abstract: Methods, systems, and devices are described for communicating physical layer wireless parameters over an application programming interface. A wireless modem of a wireless device may measure at least one physical layer wireless parameter. The wireless modem may report the at least one physical layer wireless parameter to an application running on the wireless device over an application programming interface between the wireless modem and the application. A behavior of the application may be adapted to control wireless communications between the application and a network based on the at least one physical layer wireless parameter reported by the wireless modem. Other aspects, embodiments, and features are also claimed and described.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09143921&OS=09143921&RS=09143921
owner: QUALCOMM Incorporated
number: 09143921
owner_city: San Diego
owner_country: US
publication_date: 20130906
---
The technology discussed below relates generally to wireless communication and more specifically to adapting wireless device application behavior to changing network conditions.

Wireless communications systems are widely deployed to provide various types of communication content such as voice video packet data messaging broadcast and so on. These systems may be multiple access systems capable of supporting communication with multiple users by sharing the available system resources e.g. time frequency and power . Examples of such multiple access systems include code division multiple access CDMA systems time division multiple access TDMA systems frequency division multiple access FDMA systems and orthogonal frequency division multiple access OFDMA systems.

Generally a wireless multiple access communications system may include a number of base stations each simultaneously supporting communication for multiple wireless devices. Base stations may communicate with wireless devices on downstream and upstream links. Each base station has a coverage range which may be referred to as the coverage area of the cell. In cellular networks both uplink and downlink channel conditions can vary unpredictably over time. These fluctuations may be influenced by channel fades shadowing changes sector load changes interference transmitter power scheduler dynamics and other factors. Such fluctuations may detrimentally affect the rate at which data can be transmitted over the channels.

Wireless device applications often rely on data transmitted to and from cellular networks and changing channel conditions may affect the operations of the applications. While wireless device applications may implement different techniques to compensate for reduced rates of data transmission often a wireless device application is unaware of deteriorating channel conditions until after the user experience of the mobile application has suffered. Thus there is an ongoing need in the art to provide solutions for applications to quickly and efficiently obtain information about wireless channel conditions.

The described features generally relate to one or more improved systems methods and or apparatuses for communicating wireless physical layer parameters between a wireless modem of a wireless device and an application running on the wireless device. Further scope of the applicability of the described methods and apparatuses will become apparent from the following detailed description claims and drawings. The detailed description and specific examples are given by way of illustration only since various changes and modifications within the spirit and scope of the description will become apparent to those skilled in the art.

According to at least a first illustrative set of embodiments a method of managing a wireless device may include measuring at least one physical layer wireless parameter at a wireless modem of the wireless device reporting the at least one physical layer wireless parameter from the wireless modem to an application running on the wireless device over an application programming interface between the wireless modem and the application and adapting a behavior of the application to control wireless communications between the application and a network based on the at least one physical layer wireless parameter reported by the wireless modem.

In certain examples a request from a client component of the application may be received at a server running on the wireless modem over the application programming interface. The request may identify the at least one physical layer wireless parameter. The at least one physical layer wireless parameter may be transmitted over the application programming interface in response to the request.

In certain examples the reporting may include receiving at least one standing request for the at least one physical layer wireless parameter from the application over the application programming interface and reporting at each of a plurality of periodic reporting intervals while the wireless modem is in a connected state the at least one physical layer wireless parameter to the application based on the at least one standing request.

In certain examples the reporting may include reporting the at least one physical layer wireless parameter to the application over the application programming interface during each of a plurality of scheduled wakeups while the wireless modem is in an idle state. A different set of physical layer wireless parameters may be reported to the application during the idle state of the wireless modem than during an connected state of the wireless modem. In certain examples the at least one physical layer wireless parameter may be mapped into one of a plurality of predetermined categories and the reporting may include transmitting the predetermined category to the application over the application programming interface.

In certain examples the at least one physical layer wireless parameter may include one or more of a cost of modem power associated with transmitting data from the wireless modem an uplink data rate a downlink data rate a network loading parameter a maximum multimedia rate an uplink buffer size of the wireless modem a pilot signal strength or a device reachability.

In certain examples adapting the behavior of the application may include one or more of dynamically modifying a usage of Domain Name Server DNS prefetches by the wireless device dynamically modifying a format of data requested by the application from the network dynamically modifying a download of a background update for the application dynamically modifying a compression used to stream data between the application and the network or dynamically selecting a radio access technology used for the wireless communications between the application and the network.

In certain examples a battery status of the wireless device may be reported to the application over the application programming interface in connection with the at least one physical layer wireless parameter and the adapting of the behavior of the application may be further based on the battery status of the wireless device.

According to a second set of illustrative embodiments a wireless device may include at least one processor and a memory communicatively coupled with the at least one processor. The at least one processor may be configured to execute an application stored on the memory to measure at least one physical layer wireless parameter at a wireless modem of the wireless device report the at least one physical layer wireless parameter from the wireless modem to the application running on the wireless device over an application programming interface between the wireless modem and the application and adapt a behavior of the application to control wireless communications between the application and a network based on the at least one physical layer wireless parameter reported by the wireless modem.

In certain examples the at least one processor executing the application may be further configured to implement one or more aspects of the method of the first illustrative set of embodiments.

According to a third set of illustrative embodiments a wireless device may include means for measuring at least one physical layer wireless parameter at a wireless modem of the wireless device means for reporting the at least one physical layer wireless parameter from the wireless modem to the application running on the wireless device over an application programming interface between the wireless modem and the application and means for adapting a behavior of the application to control wireless communications between the application and a network based on the at least one physical layer wireless parameter reported by the wireless modem.

In certain examples the wireless device may include means for implementing one or more aspects of the method of the first illustrative set of embodiments.

According to a fourth set of illustrative embodiments a computer program product may include a non transitory computer readable medium. The computer readable medium may include computer readable code that when executed by at least one processor causes the at least one processor to measure at least one physical layer wireless parameter at a wireless modem of the wireless device report the at least one physical layer wireless parameter from the wireless modem to an application running on the wireless device over an application programming interface between the wireless modem and the application and adapt a behavior of the application to control wireless communications between the application and a network based on the at least one physical layer wireless parameter reported by the wireless modem.

In certain examples the computer readable code may when executed by the at least one processor cause the at least one processor to implement one or more aspects of the method of the first illustrative set of embodiments.

According to a fifth set of illustrative embodiments a method of managing a wireless device may include requesting at least one physical layer wireless parameter from a wireless modem of the wireless device over an application programming interface between an application running on the wireless device and the wireless modem the at least one physical layer wireless parameter comprising information associated with an air interface between the wireless device and at least one base station receiving the at least one physical layer wireless parameter from the wireless modem over the application programming interface determining a modification to wireless communications between the application and a network based on the received at least one physical layer wireless parameter from the wireless modem and communicating with the network using the wireless modem according to the determined modification.

In certain examples at least one standing request for the at least one physical layer wireless parameter may be transmitted to the wireless modem over the application programming interface. A report of the at least one physical layer wireless parameter may be received from the wireless modem over the application programming interface at each of a plurality of periodic reporting intervals while the wireless modem is in a connected state.

In certain examples a report of the at least one physical layer wireless parameter may be received from the wireless modem over the application programming interface during each of a plurality of scheduled wakeups while the wireless modem is in an idle state.

In certain examples the at least one physical layer wireless parameter may include one or more of a cost of modem power associated with transmitting data from the wireless modem an uplink data rate a downlink data rate a network loading parameter a maximum multimedia rate an uplink buffer size a pilot signal strength or a device reachability.

In certain examples the modification to wireless communications between the application and the network may include a modification to one or more of a usage of Domain Name Server DNS prefetches by the wireless device a format of data requested by the application from the network a download of a background update for the application a compression used to stream data between the application and the network or a radio access technology used for the wireless communications between the application and the network.

In certain examples a battery status of the wireless device may be received over the application programming interface in connection with the at least one physical layer wireless parameter and the modification to the wireless communications may be further based on the battery status of the wireless device.

According to a sixth set of illustrative embodiments a wireless device may include at least one processor and a memory communicatively coupled with the at least one processor. The at least one processor may be configured to execute an application stored on the memory to request at least one physical layer wireless parameter from a wireless modem of the wireless device over an application programming interface between the application running on the wireless device and the wireless modem the at least one physical layer wireless parameter comprising information associated with an air interface between the wireless device and at least one base station receive the at least one physical layer wireless parameter from the wireless modem over the application programming interface determine a modification to wireless communications between the application and a network based on the received air link information from the wireless modem and communicate with the network using the wireless modem according to the determined modification.

In certain examples the at least one processor executing the application may be further configured to implement one or more aspects of the method of the fifth illustrative set of embodiments.

According to at least a seventh set of illustrative embodiments a wireless device may include means for requesting at least one physical layer wireless parameter from a wireless modem of the wireless device over an application programming interface between an application running on the wireless device and the wireless modem the at least one physical layer wireless parameter comprising information associated with an air interface between the wireless device and at least one base station means for receiving the at least one physical layer wireless parameter from the wireless modem over the application programming interface means for determining a modification to wireless communications between the application and a network based on the received at least one physical layer wireless parameter from the wireless modem and means for communicating with the network using the wireless modem according to the determined modification.

In certain examples the wireless device may include means for implementing one or more aspects of the method of the fifth illustrative set of embodiments.

According to at least an eighth set of illustrative embodiments a computer program product may include a computer program product may include a non transitory computer readable medium. The computer readable medium may include computer readable code that when executed by at least one processor causes the at least one processor to request at least one physical layer wireless parameter from a wireless modem of the wireless device over an application programming interface between the application running on the wireless device and the wireless modem the at least one physical layer wireless parameter comprising information associated with an air interface between the wireless device and at least one base station receive the at least one physical layer wireless parameter from the wireless modem over the application programming interface determine a modification to wireless communications between the application and a network based on the received air link information from the wireless modem and communicate with the network using the wireless modem according to the determined modification.

In certain examples computer readable code may when executed by the at least one processor cause the at least one processor to implement one or more aspects of the method of the fifth illustrative set of embodiments.

Other aspects features and embodiments of the present invention will become apparent to those of ordinary skill in the art upon reviewing the following description of specific exemplary embodiments of the present invention in conjunction with the accompanying figures. While features of the present invention may be discussed relative to certain embodiments and figures below the various embodiments of the present invention can include one or more of the advantageous features discussed herein. In other words while one or more embodiments may be discussed as having certain advantageous features one or more of such features may also be used in accordance with the various embodiments of the invention discussed herein. In similar fashion while exemplary embodiments may be discussed below as device system or method embodiments it should be understood that such exemplary embodiments can be implemented in various devices systems and methods.

The present description is directed to techniques for managing of the measurement and reporting of physical layer wireless parameters e.g. cost of modem power buffer size network loading channel rate pilot signal strength device reachability etc. in a wireless device. An application programming interface API may be established between a wireless modem of a wireless device and an application running on the wireless device. The API may allow the application to communicate directly with the wireless device at the application layer to receive physical layer wireless parameters measured and reported by the wireless modem.

The behavior of the application may then be adapted to control wireless communications between the application and a network based on the physical layer wireless parameters reported by the wireless modem. In particular the behavior of the application with respect to the wireless communications may be adapted in response to and or to compensate for a measured degradation in channel quality reflected in the physical layer wireless parameters reported by the wireless modem. In certain examples the behavior of the application may be adapted by modifying one or more of the usage of Domain Name Server DNS prefetches by the application the format of data requested by the application from the network e.g. mobile version of web page instead of full web page the download of background updates for the application the compression used to stream data between the application and the network or a radio access technology RAT used for the wireless communications between the application and the network.

Techniques described herein may be used for various wireless communications systems such as CDMA TDMA FDMA OFDMA SC FDMA and other systems. The terms system and network are often used interchangeably. A CDMA system may implement a radio technology such as CDMA2000 Universal Terrestrial Radio Access UTRA etc. CDMA2000 covers IS 2000 IS 95 and IS 856 standards. IS 2000 Releases 0 and A are commonly referred to as CDMA2000 1x 1x etc. IS 856 TIA 856 is commonly referred to as CDMA2000 1xEV DO High Rate Packet Data HRPD etc. UTRA includes Wideband CDMA WCDMA and other variants of CDMA. A TDMA system may implement a radio technology such as Global System for Mobile Communications GSM . An OFDMA system may implement a radio technology such as Ultra Mobile Broadband UMB Evolved UTRA E UTRA IEEE 802.11 Wi Fi IEEE 802.16 WiMAX IEEE 802.20 Flash OFDM etc. UTRA and E UTRA are part of Universal Mobile Telecommunication System UMTS . 3GPP Long Term Evolution LTE and LTE Advanced LTE A are new releases of UMTS that use E UTRA. UTRA E UTRA UMTS LTE LTE A and GSM are described in documents from an organization named 3rd Generation Partnership Project 3GPP . CDMA2000 and UMB are described in documents from an organization named 3rd Generation Partnership Project 2 3GPP2 . The techniques described herein may be used for the systems and radio technologies mentioned above as well as other systems and radio technologies. The description below however describes an LTE system for purposes of example and LTE terminology is used in much of the description below although the techniques are applicable beyond LTE applications.

Thus the following description provides examples and is not limiting of the scope applicability or configuration set forth in the claims. Changes may be made in the function and arrangement of elements discussed without departing from the spirit and scope of the disclosure. Various embodiments may omit substitute or add various procedures or components as appropriate. For instance the methods described may be performed in an order different from that described and various steps may be added omitted or combined. Also features described with respect to certain embodiments may be combined in other embodiments.

The base stations may wirelessly communicate with the wireless devices via one or more base station antennas. Each of the base stations sites may provide communication coverage for a respective coverage area . In some embodiments base stations may be referred to as a base transceiver station a radio base station an access point a radio transceiver a basic service set BSS an extended service set ESS a NodeB eNodeB Home NodeB a Home eNodeB or some other suitable terminology. The coverage area for a base station may be divided into sectors making up only a portion of the coverage area not shown . The wireless communications system may include base stations of different types e.g. macro micro and or pico base stations . There may be overlapping coverage areas for different technologies.

In embodiments the wireless communications system is an LTE LTE A network communication system. In LTE LTE A network communication systems the terms evolved Node B eNodeB may be generally used to describe the base stations . The wireless communications system may be a Heterogeneous LTE LTE A network in which different types of eNodeBs provide coverage for various geographical regions. For example each eNodeB may provide communication coverage for a macro cell a pico cell a femto cell and or other types of cell. A macro cell generally covers a relatively large coverage area e.g. several kilometers in radius and may allow unrestricted access by UEs with service subscriptions with the network provider. A pico cell would generally cover a relatively smaller coverage area e.g. buildings and may allow unrestricted access by UEs with service subscriptions with the network provider. A femto cell would also generally cover a relatively small coverage area e.g. a home and in addition to unrestricted access may also provide restricted access by UEs having an association with the femto cell e.g. UEs in a closed subscriber group CSG UEs for users in the home and the like . An eNodeB for a macro cell may be referred to as a macro eNodeB. An eNodeB for a pico cell may be referred to as a pico eNodeB. And an eNodeB for a femto cell may be referred to as a femto eNodeB or a home eNodeB. An eNodeB may support one or multiple e.g. two three four and the like cells.

The core network may communicate with the base stations via a backhaul link e.g. S1 interface etc. . The base stations may also communicate with one another e.g. directly or indirectly via backhaul links e.g. X2 interface etc. and or via backhaul links e.g. through core network . The wireless communications system may support synchronous or asynchronous operation. For synchronous operation the base stations may have similar frame timing and transmissions from different base stations may be approximately aligned in time. For asynchronous operation the base stations may have different frame timing and transmissions from different base stations may not be aligned in time. The techniques described herein may be used for either synchronous or asynchronous operations.

The wireless devices may be dispersed throughout the wireless communications system and each wireless device may be stationary or mobile. A wireless device may also be referred to by those skilled in the art as a UE mobile station a subscriber station a mobile unit a subscriber unit a wireless unit a remote unit a wireless device a wireless communications device a remote device a mobile subscriber station an access terminal a mobile terminal a wireless terminal a remote terminal a handset a user agent a mobile client a client or some other suitable terminology. A wireless device may be a cellular phone a personal digital assistant PDA a wireless modem a wireless communication device a handheld device a tablet computer a laptop computer a cordless phone a wireless local loop WLL station or the like.

The communication links shown in the wireless communications system may include uplink UL transmissions from a wireless device to a base station and or downlink DL transmissions from a base station to a wireless device . The downlink transmissions may also be called forward link transmissions while the uplink transmissions may also be called reverse link transmissions.

As discussed above downlink and uplink channel rates can vary unpredictably over time for a number of reasons. Examples of factors that may affect the downlink or uplink channel rate between a wireless device and a base station may include channel fades shadowing changes sector load changes interference transmitter power fluctuations uplink scheduling dynamics and other factors. Real time applications such as video chat applications mobile gaming applications adaptive streaming DASH applications web browsing applications and the like may face the challenge of adapting the behavior of the application to the network conditions to provide an acceptable user experience. For example a video chat application streaming data to and from the internet via a cellular base station may encode video at a compression rate that matches channel conditions. If the compression rate is too high playback of the video may be interrupted. On the other hand if the compression rate is too low the quality of the video may suffer. Many wireless device applications do not have a way to directly access the current condition of the wireless communication channels of the wireless device . Thus these applications may be unable to adapt their behavior to changing channel conditions quickly enough to prevent degradation in user experience or application performance.

To address these and other issues the present description provides for an application programming interface API between the wireless modem of a wireless device and an application running on the wireless device . The wireless modem of the wireless device may provide one or more physical layer wireless parameters to the application over the API to facilitate application adaptation. The physical layer wireless parameters may be provided to the application in response to a standing or one time request by the application. The wireless modem may report physical layer wireless parameters to the application when the wireless device is in connected state or idle state. In certain examples a different set of physical layer wireless parameters for the wireless modem may be available when the wireless device is in connected state than is available when the wireless device is in idle state.

The base station may be equipped with base station antennas through where x is a positive integer and the wireless device may be equipped with wireless device antennas through . In the wireless communications system the base station may be able to send data over multiple communication links at the same time. Each communication link may be called a layer and the rank of the communication link may indicate the number of layers used for communication. For example in a 2 2 MIMO system where base station transmits two layers the rank of the communication link between the base station and the wireless device is two.

At the base station a base station transmit processor may receive data from a base station data source and control information from a base station controller processor communicatively coupled with base station memory . The base station transmit processor may process e.g. encode and symbol map the data and control information to obtain data symbols and control symbols respectively. The base station transmit processor may also generate reference symbols e.g. for a primary sounding signal PSS secondary sounding signal SSS and cell specific reference signal. A base station transmit TX MIMO processor may perform spatial processing e.g. precoding on data symbols control symbols and or reference symbols if applicable and may provide output symbol streams to the base station modulators demodulators through . Each of the base station modulators demodulators may process a respective output symbol stream e.g. for OFDM etc. to obtain an output sample stream. Each base station modulator demodulator may further process e.g. convert to analog amplify filter and upconvert the output sample stream to obtain a downlink DL signal. In one example DL signals from base station modulators demodulators through may be transmitted via the base station antennas through respectively.

At the wireless device the wireless device antennas through may receive the DL signals from the base station and may provide the received signals to the wireless device modulators demodulators through respectively. Each of the wireless device modulators demodulators may condition e.g. filter amplify downconvert and digitize a respective received signal to obtain input samples. Each of the wireless device modulators demodulators may further process the input samples e.g. for OFDM etc. to obtain received symbols. A wireless device MIMO detector may obtain received symbols from all the wireless device modulators demodulators through perform MIMO detection on the received symbols if applicable and provide detected symbols. A wireless device receiver Rx processor may process e.g. demodulate deinterleave and decode the detected symbols providing decoded data for the wireless device to a data output and provide decoded control information to a wireless device controller processor or wireless device memory .

On the uplink UL at the wireless device a wireless device transmit processor may receive and process data from a wireless device data source. The wireless device transmit processor may also generate reference symbols for a reference signal. The symbols from the wireless device transmit processor may be precoded by a wireless device transmit MIMO processor if applicable further processed by the wireless device modulators demodulators through e.g. for SC FDMA etc. and be transmitted to the base station in accordance with the transmission parameters received from the base station . At the base station the UL signals from the wireless device may be received by the base station antennas processed by the base station modulators demodulators detected by a base station MIMO detector if applicable and further processed by a base station receiver processor . The base station receiver processor may provide decoded data to a base station data output and to the base station controller processor . The components of the wireless device may individually or collectively be implemented with one or more Application Specific Integrated Circuits ASICs adapted to perform some or all of the applicable functions in hardware. Each of the noted modules may be a means for performing one or more functions related to operation of the wireless communications system . Similarly the components of the base station may individually or collectively be implemented with one or more Application Specific Integrated Circuits ASICs adapted to perform some or all of the applicable functions in hardware. Each of the noted components may be a means for performing one or more functions related to operation of the wireless communications system .

The communication networks that may accommodate some of the various disclosed embodiments may be packet based networks that operate according to a layered protocol stack. For example communications at the bearer or Packet Data Convergence Protocol PDCP layer may be IP based. A Radio Link Control RLC layer may perform packet segmentation and reassembly to communicate over logical channels. A Medium Access Control MAC layer may perform priority handling and multiplexing of logical channels into transport channels. The MAC layer may also use Hybrid ARQ HARD to provide retransmission at the MAC layer to improve link efficiency. At the Physical layer the transport channels may be mapped to Physical channels.

In one configuration the wireless device transmit processor the wireless device receiver processor the wireless device MIMO detector the wireless device Tx MIMO processor and the wireless device modulators demodulators may be components of a wireless device wireless modem. Additionally the wireless device controller processor may be configured to execute code stored on the wireless device memory to run one or more wireless device applications.

In one aspect of such a configuration the wireless device may include means for measuring at least one physical layer wireless parameter at the wireless modem means for reporting the at least one physical layer wireless parameter from the wireless modem to an application running on the wireless device over an application programming interface API between the wireless modem and the application and means for adapting a behavior of the application to control wireless communications between the application and a network based on the at least one physical layer wireless parameter reported by the wireless modem.

In another aspect of such a configuration the wireless device may include means for requesting at least one physical layer wireless parameter from the wireless modem of the wireless device over an application programming interface between an application running on the wireless device and the wireless modem the at least one physical layer wireless parameter comprising air link information associated with a link between the wireless device and the base station means for receiving the at least one physical layer wireless parameter from the wireless modem over the application programming interface means for determining a modification to wireless communications between the application and a network based on the received at least one physical layer wireless parameter from the wireless modem and means for communicating with the network using the wireless modem according to the determined modification.

The aforementioned means of both described aspects may be the wireless device controller processor the wireless device memory the wireless device receiver processor the wireless device MIMO detector the wireless device transmit processor the wireless device Tx MIMO processor and the wireless device modulators demodulators .

In the present example the wireless device may include a wireless modem communicatively coupled with an application running on the wireless device . The wireless modem and the application may communicate with each other at the application layer through an application programming interface API . The API may define a library of routines data structures object classes and variables for communications between the wireless modem and the application . Specifically the API may define a series of calls between the wireless modem and the application to request and transport physical layer wireless parameters measured by the wireless modem . Additionally the API may define a series of call to provide a battery status of the wireless device to the application . The physical layer wireless parameters may be related to condition associated with an air interface between the wireless modem and the core network which may affect the connectivity or data rate between the wireless modem and the core network and by extension the PDN .

In certain examples the API may be implemented over a client server architecture in which the wireless modem runs a server component while each application of the wireless device runs a client component. The client server architecture may be implemented within the Qualcomm Mobile station modem MSM Interface QMI framework or another API .

The physical layer wireless parameters received from the wireless modem over the API may affect the behavior of the application with respect to wireless communications between the application and the PDN . For example the API may provide useful air interface information to the application that can be used by the application to inform the application of network conditions. For example the API may allow the application to request and receive one or more of the following physical layer wireless parameters from the wireless modem a cost of modem power parameter a downlink data rate parameter an uplink data rate parameter an uplink buffer size parameter a maximum multimedia rate e.g. a maximum video codec rate a network loading parameter a pilot signal strength parameter and or a device reachability parameter. In certain examples the application may also request and receive a battery status of the wireless device over the API . The battery status of the wireless device may be reported to the application by the wireless modem and or another entity.

The physical layer wireless parameter s received over the API and or the battery status of the wireless device may allow the application to control its network communications to achieve a better user experience. For example the application adapt its behavior based on one or more of the physical layer wireless parameters and or battery status parameters received from the wireless modem over the API by modifying one or more of a usage of Domain Name Server DNS prefetches by the application a format of data requested by the application from the PDN a download of a background update for the application from the PDN a compression used to stream data between the application and the PDN or a radio access technology used for the wireless communications between the application and the core network 

In certain examples the wireless device may be capable of supporting multiple radio access technologies RATs . The API inputs and outputs for requesting physical layer wireless parameters may remain the same across all RATs to provide a consistent interface to the application . In a multi mode wireless device capable of communicating over multiple RATs concurrently the wireless modem may make the decision of which RAT metrics to report in response to receiving a request for a physical layer wireless parameter from the application . Additionally or alternatively the application may also request and receive RAT specific physical layer wireless parameters over the API .

The application and the wireless modem of the wireless device may communicate with each other over an API as discussed in . In the present example the application may transmit a physical layer wireless parameter request message to the wireless modem over the API . The physical layer wireless parameter request message may specify one or more of the physical layer wireless parameters measured by the wireless modem . In certain examples the physical layer wireless parameter request message may signal a standing request for the indicated physical layer wireless parameter s . The standing request may opt the application into a subscription to regular reports of the indicated physical layer wireless parameter s over the API . Alternatively the physical layer wireless parameter request message may signal a one time request for the indicated physical layer wireless parameter s .

At block the wireless modem may measure the physical layer wireless parameter s indicated in the physical layer wireless parameter request message . In certain examples this measurement may occur in response to the physical layer wireless parameter request message . Additionally or alternatively the wireless modem may measure the indicated physical layer wireless parameter s prior to receiving the physical layer wireless parameter request message . The wireless modem may respond to the physical layer wireless parameter request message by transmitting a physical layer wireless parameter report message over the API to the application . The physical layer wireless parameter report message may include the physical layer wireless parameter s indicated in the physical layer wireless parameter request message if available. In certain examples the wireless modem may also transmit a battery status of the wireless device over the API to the application 

At block the application may adapt its behavior with respect to network communications based on the one or more physical layer wireless parameters received in the physical layer wireless parameter report message from the wireless modem . In certain examples the behavior may be further adapted based on the battery status of the wireless device received over the API from the wireless modem . As noted above this adaptation of the behavior of the application may include modifying one or more of a usage of Domain Name Server DNS prefetches by the wireless device a format of data requested by the application from the PDN a download of a background update for the application from the PDN a compression used to stream data between the application and the PDN or a radio access technology used for the wireless communications between the application and the core network 

The call flow of may illustrate an example of a process for reporting physical layer wireless parameters to the application over the API when the wireless device is in a connected state. As used herein and in the appended claims the term connected state refers to a state of attachment to a base station with an active Radio Resource Control RRC connection.

The application may request physical layer wireless parameters from the wireless modem by transmitting a physical layer wireless parameter standing request message to the wireless modem over the API . The physical layer wireless parameter standing request message may subscribe the application to periodic reports by the wireless modem of the one or more physical layer wireless parameters identified in the physical layer wireless parameter standing request message .

At block the wireless modem may measure the indicated physical layer wireless parameter s . The wireless modem may then transmit the measured physical layer wireless parameter s to the application over the API in a physical layer wireless parameter report message . In certain examples a battery status of the wireless device may be transmitted to the application over the API in the physical layer wireless parameter report message or in a separate message. Based on the measured physical layer wireless parameter s in the physical layer wireless parameter report message and or the battery status of the wireless device the application may adapt its behavior at block to control wireless communications between the application and a network as described above.

As long as the application remains subscribed to reports on the indicated physical layer wireless parameter s e.g. as long as the application does not cancel the standing request the wireless device may continue to periodically report the physical layer wireless parameter s to the application . Thus in the example of the wireless modem may wait a periodic reporting interval e.g. 40 ms at block measure the indicated physical layer wireless parameters after the periodic reporting interval at block and issue another physical layer wireless parameter report message to the application with the updated measurements. In certain examples different physical layer wireless parameters may be associated with different periodic reporting intervals. Alternatively the same periodic reporting interval may be used for multiple physical layer wireless parameters. The application may adapt its behavior at block to control wireless communications between the application and the network based on the updated measurements received over the API 

The wireless modem may then wait another periodic reporting interval at block measure the indicated physical layer wireless parameters at block transmit another physical layer wireless parameter report to the application over the API and the application may adapt its behavior at block based on the updated measurements received over the API . This cycle of waiting measuring reporting and adapting application behavior may continue until the application transmits a physical layer wireless parameter standing request cancel message to cancel the standing request.

In certain examples the wireless modem may support multiple applications concurrently and different applications may have standing requests for the same physical layer wireless parameters. In such cases the physical layer wireless parameter report messages from the wireless modem may be synchronized across the applications 

In some embodiments the wireless modem may stop reporting the measurements of a physical layer wireless parameter when it has received a physical layer wireless parameter standing request cancel message for that physical layer wireless parameter from all applications that had requested periodic reports of that physical layer wireless parameter. The wireless modem may continue measuring physical layer wireless parameters for which no standing request is active e.g. at the same or a reduced frequency or may stop measuring the physical layer wireless parameters entirely.

In certain examples as an alternative to standing requests the application may make a one time query to the wireless modem over the API for a set of one or more physical layer wireless parameters. In response to the one time query the wireless modem may report new or saved measurements of the requested physical layer wireless parameter s to the application over the API 

The call flow of may illustrate an example of a process for reporting physical layer wireless parameters to the application over the API when the wireless device is in an idle state. As used herein and in the appended claims the term idle state refers to a state in which the wireless device does not have an active Radio Resource Control RRC connection. In such cases the periodicity of physical layer wireless parameter reports by the wireless modem may be tied to the frequency with which the wireless modem wakes up during the to check for pages.

Thus in the example of the wireless device may enter idle state at block . The application may transmit a physical layer wireless parameter standing request message to the wireless modem over the API to request periodic reports for one or more physical layer wireless parameters. At block the wireless modem may wake up to check for pages at which point the wireless modem may perform measurements block for at least the physical layer wireless parameter s indicated in the physical layer wireless parameter standing request message . The wireless modem may report the measured physical layer wireless parameter s to the application over the API in a physical layer wireless parameter report message and the application may use the reported physical layer wireless parameters to adapt its behavior block to control wireless communications between the application and a network. In certain examples the wireless modem may transmit a battery status of the wireless device e.g. with the physical layer wireless parameter report message and the application may adapt its behavior further based on the battery status of the wireless device 

At block the wireless modem may wake up again to check for pages and at block the measurements may be performed again while the wireless modem is powered up. The wireless modem may transmit the updated physical layer wireless parameters to the application over the API in a physical layer wireless parameter report message and the application may again adapt its behavior at block based on the updated physical layer wireless parameters. This cycle of reporting measurements when the wireless modem powers up to check for pages may continue until the application transmits a wireless parameter standing request cancel message over the API or the wireless device transitions into a connected state.

While in the example of the wireless modem measures and reports the indicated physical layer wireless parameters at each paging power up the periodicity of measurements and or reports may be less frequent. For example the wireless modem may measure and report the indicated physical layer wireless parameters every second or third time the wireless modem powers up to check for pages. In certain examples the application may request a specific periodicity of reporting over the API e.g. in the physical layer wireless parameter standing request message .

The call flow of may illustrate an example of the application using a cost of modem power parameter received over the API from the wireless modem to adapt the behavior of the application and control wireless communications between the application and a network. The cost of modem power parameter may be an example of one or more of the physical layer wireless parameters described above with reference to the previous Figures. The cost of modem power parameter may indicate the relative power cost associated with transmitting wireless data from the application to the network over the wireless modem based on current network conditions.

The process may begin with the application transmitting a cost of modem power request message to the wireless modem over the API . The cost of modem power request message may be an example of one or more of the physical layer wireless parameter standing request messages described above with reference to . Alternatively the cost of modem power request message may be a one time request for the cost of modem power parameter.

At block the wireless modem may measure the cost of modem power parameter. The process of measuring the cost of modem power parameter may vary depending on whether the wireless modem is in connected state or idle state.

In one example of a 1x EV DO wireless modem in connected state the wireless modem may measure the filtered transmit pilot power FiltTxPilotPwr used in reverse media access control RMAC . The wireless modem may also estimate a linear overhead Ovhd as 

In another example of a 1x EV DO wireless modem in idle state the wireless modem may generate the cost of modem power parameter each time the wireless modem wakes up to check for pages. During the wake up a filtered receive power of the wireless modem may be measured block and the measured receive power may be used to estimate block the transmit power. For example a transmit pilot power TxPilotPwr parameter may be calculated based on the open loop equation. The linear overhead parameter Ovhdand filtered transmit total power FiltTxTotalPwr parameters may then be calculated as described above with respect to the connected state example. As in the connected state example the value of the FiltTxTotalPwr parameter may be mapped to one of a discrete set of classifications e.g. low medium or high and the classification may be the cost of modem power parameter returned to the application . Additionally or alternatively the cost of modem power parameter returned to the application may include the calculated FiltTxTotalPwr parameter.

Once the wireless modem has determined the cost of modem power parameter the wireless modem may transmit a cost of modem power report message containing the cost of modem power parameter to the application over the API . The cost of modem power report message may be an example of one or more of the physical layer wireless parameter reports described above with reference to .

Upon receiving the cost of modem power parameter the application may adapt its behavior block to control wireless communications between the application and the network based on the cost of modem power parameter. For example the application may reduce or suspend its of use of DNS pre fetches over the network based on a determination that the cost of modem power parameter is greater than a predetermined threshold e.g. greater than a low classification . Additionally or alternatively the application may dynamically modify the data format of objects requested from the network based on a modem power parameter that is greater than a predetermined threshold. For example if the application is a browser the application may request the smaller mobile version of a web page instead of the full version of a web page in response to a higher cost of modem power parameter. Additionally or alternatively the application may reduce or suspend background update downloads based on a determination that the cost of modem power is greater than a predetermined threshold.

Conversely the application may increase or reactivate its use of DNS pre fetches dynamically select a larger data format over the network and or increase or reactivate the use of background update downloads based on a determination that the cost of modem power is less than a predetermined threshold. Separate thresholds may be used for separate actions taken by the application based on the cost of modem power parameter.

The call flow of may illustrate an example of the application using an uplink buffer size parameter received over the API from the wireless modem to adapt the behavior of the application and control wireless communications between the application and a network. The uplink buffer size parameter may be an example of one or more of the physical layer wireless parameters described above with reference to the previous Figures. The uplink buffer size parameter may be available when the wireless modem is in a connected state and may indicate an amount of data currently waiting to be transmitted over the network by the wireless modem and may thus serve as one indicator of network congestion signal quality and or uplink data rates.

The process may begin with the application transmitting an uplink buffer size request message to the wireless modem over the API . The uplink buffer size request message may be an example of one or more of the physical layer wireless parameter request messages described above with reference to . At block the wireless modem may receive the uplink buffer size request and determine the uplink buffer size. In the example of a 1x EV DO system the uplink buffer may be a reverse link RL radio link protocol RLP queue. The wireless device may transmit the uplink buffer size to the application over the API in an uplink buffer size report message . The uplink buffer size report message may be an example of one or more of the physical layer wireless parameter report messages described above with respect to .

Upon receiving the uplink buffer size report message the application may take one or more steps at block to adapt the application behavior with respect to network communications based on the uplink buffer size. In the example of the application may be a video chat application that is transmitting streaming video data to the network. Thus if the uplink buffer size is greater than a predetermined threshold the application behavior may be adapted at block by increasing a media compression rate e.g. lowering a video codec rate of the streaming video data transmitted to the network. Doing so may reduce the size of the streaming video data and help lower the uplink buffer size over time. Conversely if the uplink buffer size is smaller than a predetermined threshold the application behavior may be adapted at block by lowering the media compression rate e.g. raising the video codec rate of the streaming video data transmitted to the network to improve the quality of the video data.

The call flow of may illustrate an example of the application using a network loading parameter received over the API from the wireless modem to adapt the behavior of the application and control wireless communications between the application and a network. The network loading parameter may be an example of one or more of the physical layer wireless parameters described above with reference to the previous Figures.

The call flow may begin with the application transmitting a network loading request message to the wireless modem over the API The network loading request message may be an example of one or more of the physical layer wireless parameter request messages described above with reference to . Upon receiving the network loading request message the wireless modem may measure the network loading at block .

The measurement may be accomplished in a number of ways. In certain examples the wireless modem may measure the network loading based on one or more signaling messages from the base station indicating the network loading as measured at the base station or another network entity. For example a 1x EV DO QuickConfig message from the base station may include a set of FTCValid bits indicative of the network congestion. In certain examples the wireless modem may solicit this message from the base station. Additionally or alternatively the wireless modem may measure the network loading by media access control MAC channel demodulation . In one example the wireless modem may detect the MAC channel for all MAC indices at every half slot to determine the network loading. In another example the wireless modem may spread the MAC channel detection over multiple half slots e.g. detecting a subset of MAC indices for each half slot to determine the network loading. Additionally or alternatively the wireless modem may measure the network loading by preamble detection . For example the wireless modem may detect preambles for all the MAC indices over a time period and count how many users are active in the network.

The wireless modem may transmit the network loading parameter to the application over the API in a network loading report message . The uplink data rate report message may be an example of one or more of the physical layer wireless parameter reports described above with reference to . Upon receiving the network loading report message the application may take one or more steps at block to adapt the application behavior with respect to network communications based on the network loading parameter in the network loading report message . In the example of the application behavior may be adapted by increasing or decreasing the use of DNS pre fetches based on the network loading parameter modifying the data format transmitted to or requested from the network based on the network loading parameter increasing or decreasing the use of background update downloads based on the network loading parameter and or increasing or decreasing the compression rate of media streamed to or requested from the network based on the network loading parameter.

The call flow of may illustrate an example of the application using a uplink data rate parameter received over the API from the wireless modem to adapt the behavior of the application and control wireless communications between the application and a network. The uplink data rate parameter may be an example of one or more of the physical layer wireless parameters described above with reference to the previous Figures. In certain examples the uplink data rate parameter may reflect an aggregate uplink data rate available to the wireless modem over multiple carriers and or RATs.

The call flow may begin with the application transmitting an uplink data rate request message to the wireless modem over the API . The uplink data rate request message may be an example of one or more of the physical layer wireless parameter request messages described above with reference to . Upon receiving the uplink data rate request message the wireless modem may measure the uplink data rate of the wireless modem at block .

The measurement may be accomplished in a number of ways. In certain examples the wireless modem may measure the uplink data rate parameter based on the percentage of time the wireless device is not data limited. Additionally or alternatively the wireless modem may measure the uplink data rate parameter based on an actual data uplink throughput of the wireless modem . Additionally or alternatively the wireless modem may measure the uplink data rate parameter based on MAC limited uplink throughput . Additionally or alternatively the wireless modem may measure the uplink data rate parameter based on a percentage of wireless devices utilized or served in the network or on a network loading parameter determined for the network.

The wireless modem may transmit the uplink data rate parameter to the application over the API in an uplink data rate report message . The uplink data rate report message may be an example of one or more of the physical layer wireless parameter reports described above with reference to . Upon receiving the uplink data rate report message the application may take one or more steps at block to adapt the application behavior with respect to network communications based on the uplink data rate parameter in the uplink data rate report message . In the example of the application behavior may be adapted by increasing or decreasing the use of DNS pre fetches based on the uplink data rate parameter modifying the data format transmitted to or requested from the network based on the uplink data rate parameter increasing or decreasing the use of background update downloads based on the uplink data rate parameter and or increasing or decreasing the compression rate of media streamed to or requested from the network based on the uplink data rate parameter.

The call flow of may illustrate an example of the application using a downlink data rate parameter received over the API from the wireless modem to adapt the behavior of the application and control wireless communications between the application and a network. The downlink data rate parameter may be an example of one or more of the physical layer wireless parameters described above with reference to the previous Figures. In certain examples the downlink data rate parameter may reflect an aggregate downlink data rate available to the wireless modem over multiple carriers and or RATs.

The call flow may begin with the application transmitting a downlink data rate request message to the wireless modem over the API . The downlink data rate request message may be an example of one or more of the physical layer wireless parameter request messages described above with reference to . Upon receiving the downlink data rate request message the wireless modem may measure the downlink data rate of the wireless modem at block .

The measurement may be accomplished in a number of ways. In certain examples the wireless modem may measure the downlink data rate parameter based on an actual downlink throughput of the wireless modem . Additionally or alternatively the wireless modem may measure the downlink data rate parameter based on a requested downlink data rate for the wireless modem . Additionally or alternatively the wireless modem may measure the downlink data rate parameter based on slot or other resource utilization for the wireless modem . Additionally or alternatively the wireless modem may measure the downlink data rate parameter based on a percentage of wireless devices utilized or served in the network or on a network loading parameter determined for the network.

The wireless modem may transmit the downlink data rate parameter to the application over the API in a downlink data rate report message . The downlink data rate report message may be an example of one or more of the physical layer wireless parameter reports described above with reference to . Upon receiving the downlink data rate report message the application may take one or more steps at block to adapt the application behavior with respect to network communications based on the downlink data rate parameter in the downlink data rate report message . In the example of the application behavior may be adapted by modifying the data format requested from the network based on the uplink data rate parameter e.g. requesting mobile versions of web pages if the downlink data rate is below a predetermined threshold or requesting full versions of web pages if the downlink data rate is above a predetermined threshold and or performing RAT selection to switch downlink communications to a new RAT e.g. switch from WWAN to WLAN if the downlink data rate is below a predetermined threshold .

The call flow of may illustrate an example of the application using a pilot signal strength parameter received over the API from the wireless modem to adapt the behavior of the application and control wireless communications between the application and a network. The pilot signal strength parameter may be an example of one or more of the physical layer wireless parameters described above with reference to the previous Figures. In certain examples the pilot signal strength parameter may reflect an aggregate or average signal strength available to the wireless modem over multiple carriers and or RATs. Alternatively the wireless modem may select one carrier and or RAT on which to base the pilot signal strength parameter.

The call flow may begin with the application transmitting a pilot signal strength request message to the wireless modem over the API . The pilot signal strength request message may be an example of one or more of the physical layer wireless parameter request messages described above with reference to . Upon receiving the pilot signal strength request message the wireless modem may measure the downlink pilot signal strength of the wireless modem at block .

In the example of the pilot signal strength parameter may be calculated by measuring block the Ec Io of the active set pilot signal for each carrier over a number N of wakeups then passing the measured pilot signal strengths for the N wakeups through an infinite impulse response IIR filter .

The wireless modem may transmit the pilot signal strength parameter to the application over the API in a pilot signal strength report message . The pilot signal strength report message may be an example of one or more of the physical layer wireless parameter reports described above with reference to . Upon receiving the pilot signal strength report message the application may take one or more steps at block to adapt the application behavior with respect to network communications based on the pilot signal strength parameter in the pilot signal strength report message . In the example of the application behavior may be adapted by modifying the data format requested from the network based on the uplink data rate parameter e.g. requesting mobile versions of web pages if the pilot signal strength parameter is below a predetermined threshold or requesting full versions of web pages if the pilot signal strength parameter is above a predetermined threshold and or performing RAT selection to switch downlink communications to a new RAT e.g. switch from WWAN to WLAN if the downlink data rate is below a predetermined threshold .

The call flow of may illustrate an example of the application using a device reachability parameter received over the API from the wireless modem to adapt the behavior of the application and control wireless communications between the application and a network. The device reachability parameter may be an example of one or more of the physical layer wireless parameters described above with reference to the previous Figures. In certain examples the device reachability parameter may indicate the degree to which the wireless device is reachable by the network which may affect the frequency with which the application sends presence information over the air link with the network.

In one example the device reachability parameter may be selected from one of four discrete device reachability parameters defined as 0x00 0x01 0x10 and 0x11. Device reachability parameter 0x00 may indicate that the wireless device has good coverage and that there is no need for the application to send periodic presence updates to the server or that the periodic presence updates may be sent less frequently. Device reachability parameter 0x01 may indicate that the wireless device has weak coverage and that the application may send periodic presence updates to a server according to a predetermined schedule. Device reachability parameter 0x10 may indicate that the wireless device has just woken up which may trigger the application to update a server of its change in status e.g. let the server know that the application is available for communication with the server . Following this one time update the wireless device may transition to reachability state 0x00 or 0x01. Device reachability parameter 0x11 may indicate that the wireless device is about powering down which may trigger the application to update a server of its change in status e.g. let the server know that the application is unavailable until further notice . To allow time for this update the power down of the wireless device may be delayed by a configurable amount of time.

The call flow of may begin with the application transmitting a device reachability request message to the wireless modem over the API . The device reachability request message may be an example of one or more of the physical layer wireless parameter request messages described above with reference to . Upon receiving the device reachability request message the wireless modem may determine the device reachability parameter at block .

Continuing with the example of four discrete device reachability parameters if the wireless modem has just woken up the device reachability parameter may be set to 0x10. Similarly if the wireless modem is about to power down the device reachability parameter may be set to 0x11. If the wireless modem is in a connected or idle state the device reachability parameter may be determined by obtaining block a filtered version of a current receive side automatic gain control filteredRxAGC . When the wireless modem is in an idle state the value of filtered RxAGC may be reset each time the wireless modem wakes up. The wireless modem may compare block the filteredRxAGC value to a predetermined threshold AGCThreshold at block to compute the device reachability parameter. In one example AGCThreshold may be equal to about 90 dBm. If a maximum value of filteredRxAGC is less than AGCThreshold the device reachability parameter may be set to 0x01 and if the maximum value of filteredRxAGC is greater than AGCThreshold the device reachability parameter may be set to 0x00. Block and block may be performed periodically e.g. at the end of every slot when the wireless modem is in a connected state or at every wakeup when the wireless modem is in an idle state.

The wireless modem may transmit the device reachability parameter to the application over the API in a device reachability report message . The device reachability report message may be an example of one or more of the physical layer wireless parameter reports described above with reference to . Upon receiving the device reachability report message the application may take one or more steps at block to adapt the application behavior with respect to network communications based on the pilot signal strength parameter in the device reachability report message . In the example of the application behavior may be adapted by modifying a frequency with which the application transmits presence updates to a server based on the device reachability parameter. For example if the device reachability parameter is 0x00 the application may reduce the frequency of presence updates thereby reducing network congestion and conserving resources at the wireless device .

The wireless device may include a processor a memory an application module a wireless modem and antennas . Each of these components may be in communication directly or indirectly.

The processor may be configured to execute computer readable program code stored by the memory to execute one or more applications . The functional aspects of the processor executing the one or more applications are illustrated as the application module . In certain examples the processor may implement one or more aspects of the wireless modem . Additionally or alternatively the wireless modem may include a separate processor not shown . The application s of the application module and the wireless modem may communicate over an application programming interface API . In certain examples the API may be implemented by or as a QMI system or another interface.

The wireless modem may include a measurement module configured to measure at least one physical layer wireless parameter associated with a physical interface e.g. an air interface between the wireless modem and a network. The wireless modem may also include a reporting module configured to report the measured at least one physical layer wireless parameter to the application module over the API. The application module may include an application behavior module configured to adapt a behavior of the application module to control wireless communications between the application module and the network based on the at least one physical layer wireless parameter reported over the API by the reporting module .

In certain examples the wireless modem may run a server and the application module may run a client. The server and the client may communicate with each other. In certain examples the server component of the wireless modem may receive a request from the client component of the application module over the API. The request may identify the at least one physical layer wireless parameter. The measurement of the at least one physical layer wireless parameter at the measurement module may be triggered by the request and the reporting module may transmit the at least one physical layer wireless parameter over the API to the application module in response to the request.

In certain examples the wireless modem may receive at least one standing request for the at least one physical layer wireless parameter from the application module over the API. The reporting module of the wireless modem may report at each of a plurality of periodic reporting intervals while the wireless modem is in a connected state the at least one physical layer wireless parameter to the application module based on the standing request.

In certain examples the reporting module of the wireless modem may report the at least one physical layer wireless parameter to the application module over the API during each of a plurality of scheduled wakeups while the wireless modem is in an idle state. In certain examples the reporting module may report a different set of physical layer wireless parameters to the application during the idle state of the wireless modem than during the connected state of the wireless modem.

In certain examples the wireless modem may classify the at least one physical layer wireless parameter into one of a plurality of predetermined categories e.g. low medium high . The reporting module may report the at least one physical layer wireless parameter by transmitting the predetermined category to the application over the API.

In certain examples the at least one physical layer wireless parameter may include one or more of a cost of modem power associated with transmitting data from the wireless modem an uplink data rate a downlink data rate a network loading parameter a maximum multimedia rate e.g. a maximum video codec rate an uplink buffer size of the wireless modem or a pilot signal strength.

In certain examples the application behavior module may adapt the behavior of the application module by dynamically modifying a usage of Domain Name Server DNS prefetches by the wireless device . Additionally or alternatively the application behavior module may adapt the behavior of the application module by dynamically modifying a format of data requested by the application module from the network. Additionally or alternatively the application behavior module may adapt the behavior of the application module by dynamically modifying a download of a background update for the application module . Additionally or alternatively the application behavior module may adapt the behavior of the application module by dynamically modifying a compression used to stream data between the application module and the network. Additionally or alternatively the application behavior module may adapt the behavior of the application module by dynamically selecting a radio access technology used for the wireless communications between the application module and the network.

In certain examples the reporting module may additionally report a battery status of the wireless device to the application module over the API in connection with the at least one physical layer wireless parameter. The application behavior module may adapt the behavior of the application module further based on the battery status of the wireless device 

The wireless device may include a processor a memory an application module a wireless modem and antennas . Each of these components may be in communication directly or indirectly.

The processor may be configured to execute computer readable program code stored by the memory to execute one or more applications which may encompass the functionality of the application module . In certain examples the processor may implement one or more aspects of the wireless modem . Additionally or alternatively the wireless modem may include a separate processor not shown . The application module and the wireless modem may communicate over an application programming interface API . The application module may include an API client module configured to communicate with an API server module of the wireless modem to implement the API. In certain examples the API may be implemented by or as a QMI system or another interface.

The API client module of the application module may be configured to request at least one physical layer wireless parameter from the API server module of the wireless modem over the API. The at least one physical layer wireless parameter may include information associated with an air interface between the wireless device and at least one base station not shown e.g. base station of . The measurement module of the wireless modem may measure the requested at least one physical layer wireless parameter and the API server module of the wireless modem may transmit the requested at least one physical layer wireless parameter to the API client module over the API.

Upon receiving the at least one physical layer wireless parameter at the API client module a network communication module of the application module may determine a modification to wireless communications between the application module and the network based on the received at least one physical layer wireless parameter. The network communication module may further communicate with the network using the wireless modem according to the determined modification.

In certain examples the API client module may be configured to transmit at least one standing request for the at least one physical layer wireless parameter to the API server module of the wireless modem over the API. The API client module may receive a report of the at least one physical layer wireless parameter from the API server module of the wireless modem over the API at each of a plurality of periodic reporting intervals while the wireless modem is in a connected state. Additionally or alternatively the API client module may receive a report of the at least one physical layer wireless parameter from the wireless modem over the application programming interface during each of a plurality of scheduled wakeups while the wireless modem is in an idle state.

In certain examples the at least one physical layer wireless parameter may include one or more of a cost of modem power associated with transmitting data from the wireless modem an uplink data rate a downlink data rate a network loading parameter a maximum multimedia rate e.g. a maximum video codec rate an uplink buffer size or a pilot signal strength.

In certain examples the modification to wireless communications between the application and the network may include a modification to one or more of a usage of Domain Name Server DNS prefetches by the wireless device a format of data requested by the application module from the network a download of a background update for the application module a compression used to stream data between the application module and the network or a radio access technology used for the wireless communications between the application module and the network.

In certain examples the API client module may receive a battery status of the wireless device over the application programming interface in connection with the at least one physical layer wireless parameter and the modification to the wireless communications may be further based on the battery status of the wireless device 

At block at least one physical layer wireless parameter may be measured at a wireless modem of a wireless device. At block the at least one measured physical layer wireless parameter may be reported from the wireless modem to an application running on the wireless device over an application programming interface API between the wireless modem and the application. At block a behavior of the application may be adapted to control wireless communications between the application and a network based on the at least one measured physical layer wireless parameter reported by the wireless modem.

At block at least one physical layer wireless parameter may be requested from a wireless modem of a wireless device over an API interface between an application and the wireless modem. The at least one physical layer wireless parameter may include information associated with an air interface between the wireless device and at least one base station. At block the at least one physical layer wireless parameter may be received from the wireless modem over the API. At block a modification to wireless communications between the application and a network may be determined based on the received at least one physical layer wireless parameter from the wireless modem. At block communication with the network may occur with the wireless network using the wireless modem according to the determined modification.

The detailed description set forth above in connection with the appended drawings describes exemplary embodiments and does not represent the only embodiments that may be implemented or that are within the scope of the claims. The term exemplary used throughout this description means serving as an example instance or illustration and not preferred or advantageous over other embodiments. The detailed description includes specific details for the purpose of providing an understanding of the described techniques. These techniques however may be practiced without these specific details. In some instances well known structures and devices are shown in block diagram form in order to avoid obscuring the concepts of the described embodiments.

Information and signals may be represented using any of a variety of different technologies and techniques. For example data instructions commands information signals bits symbols and chips that may be referenced throughout the above description may be represented by voltages currents electromagnetic waves magnetic fields or particles optical fields or particles or any combination thereof.

The various illustrative blocks and modules described in connection with the disclosure herein may be implemented or performed with a general purpose processor a digital signal processor DSP an application specific integrated circuit ASIC a field programmable gate array FPGA or other programmable logic device discrete gate or transistor logic discrete hardware components or any combination thereof designed to perform the functions described herein. A general purpose processor may be a microprocessor but in the alternative the processor may be any conventional processor controller microcontroller or state machine. A processor may also be implemented as a combination of computing devices e.g. a combination of a DSP and a microprocessor multiple microprocessors one or more microprocessors in conjunction with a DSP core or any other such configuration.

The functions described herein may be implemented in hardware software executed by a processor firmware or any combination thereof. If implemented in software executed by a processor the functions may be stored on or transmitted over as one or more instructions or code on a computer readable medium. Other examples and implementations are within the scope and spirit of the disclosure and appended claims. For example due to the nature of software functions described above can be implemented using software executed by a processor hardware firmware hardwiring or combinations of any of these. Features implementing functions may also be physically located at various positions including being distributed such that portions of functions are implemented at different physical locations. Also as used herein including in the claims or as used in a list of items prefaced by at least one of indicates a disjunctive list such that for example a list of at least one of A B or C means A or B or C or AB or AC or BC or ABC i.e. A and B and C .

Computer readable media includes both computer storage media and communication media including any medium that facilitates transfer of a computer program from one place to another. A storage medium may be any available medium that can be accessed by a general purpose or special purpose computer. By way of example and not limitation computer readable media can comprise RAM ROM EEPROM CD ROM or other optical disk storage magnetic disk storage or other magnetic storage devices or any other medium that can be used to carry or store desired program code means in the form of instructions or data structures and that can be accessed by a general purpose or special purpose computer or a general purpose or special purpose processor. Also any connection is properly termed a computer readable medium. For example if the software is transmitted from a website server or other remote source using a coaxial cable fiber optic cable twisted pair digital subscriber line DSL or wireless technologies such as infrared radio and microwave then the coaxial cable fiber optic cable twisted pair DSL or wireless technologies such as infrared radio and microwave are included in the definition of medium. Disk and disc as used herein include compact disc CD laser disc optical disc digital versatile disc DVD floppy disk and blu ray disc where disks usually reproduce data magnetically while discs reproduce data optically with lasers. Combinations of the above are also included within the scope of computer readable media.

The previous description of the disclosure is provided to enable a person skilled in the art to make or use the disclosure. Various modifications to the disclosure will be readily apparent to those skilled in the art and the generic principles defined herein may be applied to other variations without departing from the spirit or scope of the disclosure. Throughout this disclosure the term example or exemplary indicates an example or instance and does not imply or require any preference for the noted example. Thus the disclosure is not to be limited to the examples and designs described herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.

