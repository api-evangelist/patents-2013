---

title: Methods and apparatus to measure exposure to streaming media
abstract: Methods and apparatus to measure exposure to streaming media are disclosed herein. An example method includes demultiplexing a closed captioning transport stream from a media stream, the media stream intercepted intermediate a media device and a display. Metadata is extracted from the closed captioning transport stream. At least one of the metadata or data based on the metadata is exported to a media measurement server.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09357261&OS=09357261&RS=09357261
owner: The Nielsen Company (US), LLC
number: 09357261
owner_city: New York
owner_country: US
publication_date: 20130311
---
This patent arises from a continuation of U.S. patent application Ser. No. 13 767 548 which was filed on Feb. 14 2013 and is hereby incorporated herein by reference in its entirety.

This disclosure relates generally to measuring media exposure and more particularly to methods and apparatus to measure exposure to streaming media.

Internet access to media has become widespread. Media is now frequently streamed to consumers via streaming services such as Netflix Hulu and others. Streaming enables media to be delivered to and presented by a wide variety of media presentation devices such as a digital versatile disc DVD player a smart TV an Apple TV a Roku media player a Boxee media player a Sony PlayStation a Microsoft Xbox etc. A significant portion of media e.g. content and or advertisements is presented via streaming to such devices.

The figures are not to scale. Wherever possible the same reference numbers will be used throughout the drawing s and accompanying written description to refer to the same or like parts.

Example methods apparatus systems and articles of manufacture disclosed herein may be used to measure exposure to streaming media. Some such example methods apparatus and or articles of manufacture measure such exposure based on media metadata user demographics and or media device types. Some examples disclosed herein may be used to monitor streaming media transmissions received at media devices such a DVD player a Smart TV an Apple TV a Roku media player a Boxee media player a Sony PlayStation a Microsoft Xbox and or any other device capable of playing media. Some example implementations disclosed herein may additionally or alternatively be used to monitor playback transmitted via a high definition media interface HDMI interface. Example monitoring processes disclosed herein collect media metadata associated with media presented via media devices and associate the metadata with demographics information of users of the media devices. In this manner detailed exposure metrics are generated based on collected media metadata and associated user demographics.

The use of media devices e.g. a DVD player an Apple TV a Roku media player a Boxee media player a Sony PlayStation a Microsoft Xbox etc. to present media via a monitor or television has increased in recent years. Because these media devices are typically controlled using a remote control rather than a mouse and a keyboard media interfaces are traditionally created for use at a ten foot interface. That is interfaces on the media devices are typically created to enable users to control a media application from across a room. As different types of media applications e.g. a Netflix application a Hulu application a Pandora application etc. for such media devices have been created the popularity of streaming media has increased. In view of the increasing popularity of accessing media in this manner understanding how users interact with the streaming media e.g. such as by understanding what media is presented how the media is presented etc. provides valuable information to service providers advertisers content providers manufacturers and or other entities.

To provide streaming media media is received at a service provider from a media provider such as for example a satellite provider a cable provider a physical media provider e.g. a Digital Versatile Disk DVD by mail service etc. . The media is intended to be streamed from the service provider to one or more media devices for presentation thereon in response to the request for the same. In the illustrated example the media is provided to the media devices as a transport stream. In some examples metering data having a first format is extracted from the transport stream. In some such examples the transport stream corresponds to a Moving Picture Experts Group MPEG 2 transport stream sent according to a hypertext transfer protocol HTTP live streaming HLS protocol. However the transport stream may additionally or alternatively correspond to and or be sent according to any other past present or future protocol and or format such as for example MPEG 4 an HTTP Secure protocol HTTPS a file transfer protocol FTP a secure file transfer protocol SFTP .

The Twenty First Century Communications and Video Accessibility Act of 2010 requires in part for HDTV decoding media devices to have an input to enable and or disable closed captioning in an output signal. The Act also requires that broadcasters provide closed captioning for television programs even for programs that are distributed via the Internet. When playing the media the media devices transmit the closed captioning data to a display using a closed captioning data stream such as for example a Digital Television Closed Captioning DTVcc transport stream. In some examples the media device renders the closed captioning information as an overlay to the media. Nonetheless the media device is still required to transmit the closed captioning data stream. Besides traditional closed captioning data e.g. English subtitles Spanish subtitles etc. media identifying information e.g. metadata may be transmitted using the closed captioning transport stream.

Audio watermarking is a technique used to identify media such as television broadcasts radio broadcasts downloaded media streaming media prepackaged media etc. Existing audio watermarking techniques identify media by embedding audio codes e.g. a watermark such as identifying information into an audio and or video component having a signal characteristic sufficient to hide the watermark. As used herein the terms code or watermark are used interchangeably and are defined to mean an identifier that may be inserted or embedded in the audio or video of media e.g. a program or advertisement for the purpose of identifying the media or for another purpose such as tuning e.g. a packet identifying header . As used herein media refers to audio and or visual still or moving content and or advertisements.

Unlike media monitoring techniques based on codes and or watermarks included with and or embedded in the monitored media fingerprint or signature based media monitoring techniques generally use one or more inherent characteristics of the monitored media during a monitoring time interval to generate a substantially unique proxy for the media. Such a proxy is referred to as a signature and can take the form of a series of digital values a waveform etc. representative of the media signal s such as the audio and or video signals forming the media presentation being monitored. A good signature is usually one that is repeatable when processing the same media presentation but that is unique relative to other e.g. different presentations of other e.g. different media. Accordingly the term fingerprint and signature are used interchangeably herein and are defined herein to mean a proxy for identifying media that is generated from one or more inherent characteristics of the media.

Signature based media monitoring generally involves determining e.g. generating and or collecting signature s representative of a media signal e.g. an audio signal and or a video signal output by a monitored media device and comparing the monitored signature s to one or more references signatures corresponding to known e.g. reference media sources. Various comparison criteria such as a cross correlation value a Hamming distance etc. can be evaluated to determine whether a monitored signature matches a particular reference signature. When a match between the monitored signature and one of the reference signatures is found the monitored media can be identified as corresponding to the particular reference media represented by the reference signature that matched the monitored signature. Because attributes such as an identifier of the media a presentation time a broadcast channel etc. are collected for the reference signature these attributes may then be associated with the monitored media whose monitored signature matched the reference signature.

In some examples metadata embedded in the media is in a first format e.g. a watermark a signature a code etc. . In some examples the metering data having the first format includes an audio watermark that is embedded in an audio portion of the media. Additionally or alternatively the metering data having the first format can include a video e.g. image watermark that is embedded in a video portion of the media. Many media devices do not have access to the metadata in the first format and or in some cases enough processing power to identify the metadata in the first format. Thus in examples disclosed herein the service provider identifies the watermark and converts the metadata into a second format readable by the media device. The metadata in the second format may correspond to for example metadata represented in a text format such as a text format for inclusion in a timed text track file sent in association with the streaming media.

A timed text track is a document and or file that is linked to transmitted with and or embedded in an object e.g. a webpage a flash player etc. that causes display of media. The timed text track defines times for displaying text e.g. closed captioning subtitles comments advertisements metadata etc. at corresponding places and or times associated with the presentation of the media. For example the timed text track may specify that the phrase This is a patentable invention should be displayed at time 00 01 12 after the start of the media presentation should the closed captioning option be utilized by the displaying device e.g. a television etc. . In examples illustrated herein the timed text track is provided to the media device in association with the media. In the illustrated example the timed text track is requested separately from the media based on a source attribute of a timed text track tag. Thus the timed text track is associated with the media but not bodily incorporated therein. However in some examples the information of the timed text track is included in the media e.g. within an MPEG2 transport stream .

The timed text track document includes start cues end cues and data associated with those cues. The start cues and end cues define times in the associated media that trigger an event associated with the timed text track. In some examples the timed text track document is used to cause the display of subtitles and or captioning data defined in the data associated with the cues. Upon reaching a start cue the subtitles and or captioning data are displayed. Upon reaching an end cue the subtitles and or captioning data are removed from display. An example timed text track file is shown in and discussed further below.

In some disclosed examples streaming media is delivered to the media device using HTTP Live Streaming HLS . However any other past present and or future protocol s and or method s of streaming media to the media device may additionally or alternatively be used such as for example an HTTP Secure HTTPS protocol a custom application etc. Additionally or alternatively any other past present and or future web page language may additionally or alternatively be used. The HyperText Markup Language version 5 HTML5 allows metadata to be included in a timed text track and or otherwise associated with for example a media stream etc. In some disclosed examples a media device uses an application to display media received via HLS. Additionally or alternatively in some disclosed examples the media device uses a media presenter e.g. a browser plugin an app a framework an application programming interface API etc. to display media received via HLS.

In some examples illustrated herein the media device requests the web page from a service provider. In some examples illustrated herein the webpage defines a timed text track document that is to be separately requested by the media device. In some examples the timed text track document is hosted by the service provider. However in other examples the timed text track document is hosted by an entity other than the service provider such as for example the central facility of the audience measurement entity etc. In some examples the timed text track is included in the web page such that no additional request is needed to access the timed text track document.

In examples illustrated below media exposure metrics are monitored by identifying metadata transmitted from the media device to a display e.g. a television. In some such examples the media device transmits metadata received via the timed text track as part of an MPEG2 stream transmitted to the display.

Example methods apparatus systems and articles of manufacture disclosed herein involve intercepting or collecting metadata e.g. metadata stored in an ID3 tag extensible markup language XML based metadata and or metadata in any other past present and or future format associated with streaming media transmissions e.g. streaming audio and or video between the media device and the display e.g. a TV or monitor . In some examples the metadata identifies one or more of a genre an artist a song title an album name a transmitting station server site etc. In such examples highly granular e.g. very detailed data can be collected. Whereas in the past ratings were largely tied to specific programs or broadcasting stations example methods apparatus systems and or articles of manufacture disclosed herein can generate ratings for a genre an artist a song an album CD a particular transmitting server site etc. in addition to or as an alternative to generating ratings for specific programs e.g. radio television etc. advertisements content providers broadcasters and or stations.

In some examples metadata collection may be implemented by monitoring a closed captioning transport stream within an MPEG2 transport stream being transmitted from the media device to the display. In examples disclosed herein metadata is continually monitored e.g. polled and or collected . However the metadata may be monitored for a change in the transmitted metadata and or only collected when a change is detected. In some examples the collected metadata is time stamped based on its time of collection.

Example methods apparatus systems and articles of manufacture disclosed herein collect demographic information associated with users of media devices based on identifiers e.g. an Internet protocol IP address a cookie a device identifier etc. associated with those media devices. Media exposure information may then be generated based on the media metadata and the user demographics corresponding to the identifier to indicate exposure metrics and or demographic reach metrics for any or all of the media a genre an artist an album name a transmitting station server site etc.

To link demographics to the monitoring information the audience measurement entity establishes a panel of users who have agreed to provide their demographic information and to have their streaming media activities monitored. When an individual joins the panel they provide detailed information concerning their identity and demographics e.g. gender race income home location occupation etc. to the audience measurement entity. In some examples the audience measurement entity sends e.g. via postal mail a media monitor to be configured intermediate a media device and a display e.g. a television . In particular the media monitor provided to each panelist reports access es to streamed media in substantially real time to a central facility of the audience measurement entity. In some examples the media monitor reports access es to streamed media as the access es occur e.g. streaming . In some examples the media monitor caches e.g. stores buffers etc. the access es to streamed media and transmits the cached access es to the central facility.

Example methods apparatus systems and articles of manufacture disclosed herein may also be used to generate reports indicative of media exposure metrics on one or more different types of media devices e.g. a Smart TV a DVD player an Apple TV a Roku media player a Boxee media player a Sony PlayStation Microsoft Xbox etc. . For example an audience measurement entity may generate media exposure metrics based on metadata extracted from the streaming media at the media device and or similar devices. A report is then generated based on the media exposure to indicate exposure measurements e.g. for a type of media e.g. a genre using different types of media devices. Thus for example reports indicating the popularity of watching for instance sports events on certain types of media devices e.g. streaming devices can be compared to other popularities of watching sports events on other types of media devices e.g. televisions that are not enabled for streaming .

Additionally or alternatively popularities of different types of media across different device types may be compared. Such different types of media may be for example news movies television programming on demand media Internet based media games streaming games etc. Such comparisons may be made across any type s and or numbers of devices including for example cell phones smart phones dedicated portable multimedia playback devices iPod devices tablet computing devices e.g. an iPad etc. standard definition SD televisions high definition HD televisions three dimensional 3D televisions stationary computers portable computers Internet radios etc. Any other type s and or number of media and or devices may be analyzed. The report may also associate the media exposure metrics with demographic segments e.g. age groups genders ethnicities etc. corresponding to the user s of the media device s . Additionally or alternatively the report may include metric indicators of popularity of artist genre song title etc. across one or more user characteristics selected from one or more demographic segment s one or more age group s one or more gender s and or any other user characteristic s .

In some examples the media exposure metrics are used to determine demographic reach of streaming media ratings for streaming media engagement indices for streaming media user affinities associated with streaming media broadcast media and or any other audience measure metric associated with streaming media one or more aspects and or components of streaming media e.g. an actor s name . In some examples the media exposure metrics are audience share metrics indicative of percentages of audiences for different device types that accessed the same media. For example the metrics may indicate a first percentage of an audience may be exposed to news media via smart phones while a second percentage of the audience may be exposed to the same news media via tablets.

The media provider of the illustrated example of corresponds to any one or more media provider s capable of providing media for presentation via the media device . The media provided by the media provider s can provide any type of media such as audio video multimedia etc. Additionally the media can correspond to live media streaming media broadcast media stored media on demand content etc.

The service provider of the illustrated example of provides media services to the media device via for example web pages including links e.g. hyperlinks embedded media etc. to media provided by the media provider . In the illustrated example the service provider modifies the media provided by the media provider prior to transmitting the media to the media device . In the illustrated example the service provider includes an example media identifier an example transcoder an example metadata embedder and an example media transmitter .

The media identifier of the illustrated example of is implemented by a logic circuit such as a processor executing instructions but it could additionally or alternatively be implemented by an application specific integrated circuit s ASIC s programmable logic device s PLD s and or field programmable logic device s FPLD s an analog circuit and or other circuitry. The media identifier of extracts metering data e.g. signatures watermarks etc. from the media obtained from the media provider . For example the media identifier can implement functionality provided by a software development kit SDK to extract one or more audio watermarks one or more video e.g. image watermarks etc. embedded in the audio and or video of the media obtained from the media provider . For example the media may include pulse code modulation PCM audio data or other types of audio data uncompressed video image data etc. 

The example media identifier of determines e.g. derives decodes converts etc. the metering data e.g. such as media identifying information source identifying information etc. included in or identified by a watermark embedded in associated with and or transmitted with the media and converts this metering data and or the watermark itself into a text and or binary format for inclusion in an ID3 tag and or other data type e.g. text binary etc. for insertion as metadata in a timed text track associated with the streaming media. For example the code watermark itself may be extracted and inserted as metadata in for example a text or binary format in the ID3 tag. Thus the metadata and or media identifying metadata included in the ID3 tag may be a text or binary representation of a code a watermark and or metadata or data identified by a code and or watermark etc.

The example transcoder of the illustrated example of is implemented by a logic circuit such as a processor executing instructions but could additionally or alternatively be implemented by any other logic circuit ASIC DSP FPGA and or other analog and or digital circuitry. In some examples the transcoder and the media identifier are implemented by the same physical processor. In the illustrated example the transcoder employs any appropriate technique s to transcode and or otherwise process the received media into a form suitable for streaming e.g. a streaming format . For example the transcoder of the illustrated example transcodes the media in accordance with MPEG 2 audio video compression for use via the HLS protocol.

The metadata embedder of the illustrated example of is implemented by a logic circuit such as a processor executing instructions but could additionally and or alternatively be implemented by any other logic circuit ASIC DSP FPGA and or other analog and or digital circuitry. In some examples the transcoder the media identifier and the metadata embedder are implemented by the same physical processor.

In the illustrated example the metadata embedder embeds the metadata determined by the media identifier into a timed text track document. In some examples the metadata is embedded into a closed captioning transport stream of the media. In the illustrated example the timed text track is in a Web Video Text Track WebVTT format. However any other past present and or future format such as for example a Timed Text Markup Language TTML SubViewer SUB Subtitle resource tracks SRT Web Subtitle Resource Tracks WebSRT SubRip Distribution Exchange Profile DFXP W3C Timed Text Format Timed Test Exchange Profile Extensible Markup Language XML Captionate XML Synchronized Accessible Media Interchange SAMI Consumer Electronics Association CEA standard 608 CEA standard 708 teletext and or Line 21 format may additionally or alternatively be used. In some examples the metadata embedder inserts ID3 tag metadata corresponding to the metering metadata into the timed text track document to identify particular events within the media such as for example when an advertisement is displayed via product placement when a dedicated advertisement is displayed when a particular event occurs within the media e.g. when a contestant on a television game show answers a question when a televised movie returns from an advertisement etc. etc. Additionally or alternatively the metadata embedder may embed the metadata into a separate metadata document such as by encoding the metadata into an M3U8 or other data file that is to be associated with e.g. included in appended to sent prior to etc. the media.

The media transmitter of the illustrated example of is implemented by a logic circuit such as a processor executing instructions but could additionally or alternatively be implemented by any other circuit ASIC DSP FPGA and or other analog and or digital circuitry. In some examples the transcoder the media identifier the metadata embedder and the media transmitter are implemented by the same physical processor.

The media transmitter employs any appropriate technique s to select and or stream the media to a requesting device such as the media device . For example the media transmitter of the illustrated example selects media that has been identified by the media identifier transcoded by the transcoder and undergone metadata embedding by the metadata embedder . The media transmitter then streams the media to the media device via the network using HLS or any other streaming protocol such as for example Media Player version 4 MP4 Adobe Flash FLV Moving Picture Experts Group MPEG version 2 MPEG2 MPEG version 4 MPEG4 etc.

In some examples the media identifier the transcoder and or the metadata embedder prepare media for streaming regardless of whether e.g. prior to a request is received from the media device . In such examples the already prepared media is stored in a data store of the service provider e.g. such as in a flash memory magnetic media optical media etc. . In such examples the media transmitter prepares a transport stream for streaming the already prepared media to the media device when a request is received from the media device . In other examples the media identifier the transcoder and or the metadata embedder prepare the media for streaming in response to a request received from the media device .

The network of the illustrated example is the Internet. Additionally or alternatively any other network s communicatively linking the service provider and the media device such as for example a private network a local area network LAN a virtual private network VPN etc. may be used. The network may comprise any number of public and or private networks using any type s of networking protocol s .

The media device of the illustrated example of is a computing device that is capable of presenting streaming media provided by the media transmitter via the network . The media device may be for example a DVD player an Apple TV a Roku media player a Boxee media player a Sony PlayStation Microsoft Xbox etc. In the illustrated example the media device outputs media via an HDMI interface e.g. an HDMI cable . However any other type and or format of interface may additionally or alternatively be used. In some examples multiple HDMI interfaces and or cables may be used. For example and audio video receiver may include multiple HDMI outputs. While a single media device is illustrated any number and or type s of media devices may be used. For example shows an example system where multiple media devices are used.

In the illustrated example the media device outputs media including closed captioning data. In some examples the closed captioning data is received as part of the media e.g. embedded in an MPEG2 transport stream . However in some examples the closed captioning data and or metadata is received separately from the media e.g. the closed captioning data and or metadata is received via a timed text track . When the closed captioning data and or metadata is received separately from the media the media device multiplexes the closed captioning data and or metadata into the media e.g. into the MPEG2 transport stream prior to sending the media to the display . In some examples the user is able to select whether the closed captioning data and or metadata is displayed by the display . In some examples the user makes such selection at the display. In such a scenario the closed captioning data and or metadata is sent to the display where the display renders the selected closed captioning data and or metadata as an overlay to the media. In some examples the user makes the selection at the media device . In such examples the media device may render the closed captioning data and or metadata as an overlay to the media. Regardless of when the selection is entered the media device outputs the closed captioning data and or metadata to the display .

The display of the illustrated example of is a display device that is capable of displaying media received from the media device . In the illustrated example the display is a television. However any other type of display may additionally or alternatively be used such as for example a three dimensional television a high definition television a computer monitor etc.

In the illustrated example the media monitor intercepts HDMI data transmitted from the media device to the display via the HDMI cable . An example implementation of the media monitor is described in further detail in connection with . The example media monitor of includes a media interceptor . The media interceptor of the illustrated example functions as an HDMI tap in that it allows the media monitor to intercept the HDMI data. The HDMI data is passed through the media interceptor such that the display displays media as if the media interceptor were not present. In the illustrated example of the media interceptor is separate from the media monitor . The media interceptor transmits the HDMI data to the media monitor of via a wire. However the media interceptor may transmit the data to the media monitor in any other fashion such as for example wirelessly. The example media monitor inspects the HDMI data to identify media identifying metadata. The metadata is transmitted from the example media monitor to the central facility for analysis.

In the illustrated example the media interceptor is separate from the media monitor . The media interceptor is located electrically between the media device and the display . That is a cable e.g. an HDMI cable which would traditionally extend from the media device to the display is instead routed from the media device to the media interceptor . A second cable is then routed from the media interceptor to the display . In other words the media interceptor is to intercept a media stream intermediate a media device and a display. In some examples the media interceptor may be referred to as being in line with the electric connection e.g. an HDMI cable between the media device and the display . In addition when the media interceptor is implemented separately from the media monitor the media interceptor splits information transmitted by the media device and sends the information to both the display and the media monitor . In the illustrated example the media interceptor transmits data to the media monitor via an HDMI cable. However any other type s and or format s of data interface may additionally or alternatively be used.

In the illustrated example the media monitor is implemented separate from the display . However in some examples the media monitor may be implemented as a part and or component of the display. That is the display may be sold with the media monitor included and or as an available attachment. In some examples the media monitor is located inside a housing of the display. When the media monitor is located inside the housing of the display the HDMI ports mentioned herein may be replaced with internal data lines e.g. a bus to receive and or intercept HDMI data.

The central facility of the illustrated example is a facility of an audience measurement entity e.g. the Nielsen Company US LLC and includes an interface to receive reported metering information e.g. metadata from the media monitor via the network . In the illustrated example the central facility includes an HTTP interface to receive HTTP requests that include the metering information. The HTTP requests are sent with the metering information in their payload. The requests may not be intended to actually retrieve content but are instead used as a vehicle to convey the metering information. Thus the requests may be referred to dummy requests in that they are not actually intended to request any content. The central facility is provided with software e.g. a daemon to extract the metering information from the payload of the dummy request s . Additionally or alternatively any other method s to transfer the metering information may be used such as for example an HTTP Secure protocol HTTPS a file transfer protocol FTP a secure file transfer protocol SFTP an HTTP and or HTTPS GET request an HTTP and or HTTPS POST request etc. In the illustrated example the central facility stores and analyzes the extracted metering information received from a plurality of different media devices. For example the central facility may sort and or group metering information by media provider e.g. by grouping all metering data associated with a particular media provider . Any other processing of metering information may additionally or alternatively be performed. In some examples the central facility adds a timestamp to the metadata upon receipt. Timestamping e.g. recording a time that an event occurred enables accurate identification and or correlation of media that was presented and or the time that it was presented with the user s of the presentation device.

The example system of includes a second media interceptor . The second media interceptor of the illustrated example functions as an HDMI tap in that it allows the media monitor to intercept the HDMI data transmitted from the alternate media device to the display . In the illustrated example of the second media interceptor is separate from the media monitor . The second media interceptor transmits the HDMI data to the media monitor via a wire. However the second media interceptor may transmit the data to the media monitor in any other fashion such as for example wirelessly.

The example media interceptor of the illustrated example of is implemented by one or more HDMI ports. The example media interceptor intercepts media transmitted from the media device to the display via HDMI. In the illustrated example the media interceptor includes a first port e.g. an input port to receive media transmitted from the media device . The example media interceptor includes a second port e.g. an output port to transmit the media received via the first port to the display . In the illustrated example of the media interceptor is depicted as both internal and external to the media monitor . As mentioned above and described in connection with a number of different configurations of the media interceptor may be used. For example the media interceptor may be external to the media monitor and transmit data to the media monitor . That is the media interceptor may be thought of as an in line interceptor. In some examples multiple media interceptors may be used to for example monitor multiple media devices. In some other examples the media interceptor may be implemented as an internal component of the media monitor . The media interceptor intercepts HDMI data and forwards the same to the example demultiplexer .

The example demultiplexer of the illustrated example of is implemented by a logic circuit such as a processor executing instructions but it could additionally or alternatively be implemented by any other logic circuit an ASIC DSP FPGA and or other analog and or digital circuitry. In the illustrated example the example demultiplexer demultiplexes an MPEG2 stream from the HDMI data. However the demultiplexer may demultiplex any other format from the HDMI data. Furthermore the demultiplexer demultiplexes a closed captioning transport stream from the MPEG2 stream. From the closed captioning transport stream the demultiplexer extracts captioning data. The captioning data is transmitted to the metadata extractor .

The metadata extractor of the illustrated example of is implemented by a logic circuit such as a processor executing instructions but it could additionally or alternatively be implemented by any other logic circuit an ASIC DSP FPGA and or other analog and or digital circuitry. In some examples the demultiplexer and the metadata retriever are implemented by the same physical processor. In the illustrated example the metadata extractor receives closed captioning data from the demultiplexer . The metadata extractor parses the closed captioning data to identify metadata contained therein.

The example metadata converter of is implemented by a logic circuit such as a processor executing instructions but it could additionally or alternatively be implemented by any other logic circuit an ASIC DSP FPGA and or other analog and or digital circuitry. In some examples the demultiplexer the metadata extractor and the metadata converter are implemented by the same physical processor. In the illustrated example the metadata converter converts the metadata extracted by the metadata extractor into a converted metadata format for transmission to the central facility . For example the metadata converter may encrypt decrypt compress modify etc. the metadata and or portions of the metadata to for example reduce the amount of data to be transmitted to the central facility . In the illustrated example the metadata converter adds a timestamp to the metadata prior to converting the metadata. Timestamping e.g. recording a time that an event occurred enables accurate identification and or correlation of media that was presented with the user s of the presentation device present at the corresponding time s .

The transmitter of the illustrated example of is implemented by a logic circuit such as a processor executing instructions but it could additionally or alternatively be implemented by any other logic circuit an ASIC DSP FPGA and or other analog and or digital circuitry. In some examples the demultiplexer the metadata extractor the metadata converter and the transmitter are implemented by the same physical processor. In the illustrated example the transmitter transmits the converted metadata to the central facility via for example the Internet. While the converted metadata is transmitted in substantially real time in the illustrated example in some examples the converted metadata is stored cached and or buffered before being transmitted to the central facility . Additionally or alternatively the transmitter may transmit an identifier of the media monitor and or the media device to enable the central facility to correlate the metadata with a panelist a group of panelists demographic s etc. In some examples a separate people meter is used to identify persons in the local audience of the monitored device. An example people meter is disclosed in U.S. Pat. No. 7 609 853 which is hereby incorporated by reference in its entirety. In the illustrated example the central facility is associated with an audience measurement company and is not involved with the delivery of media to the media device. In some examples the central facility applies a timestamp upon receipt of the converted metadata.

HLS is an adaptive format in that although multiple devices retrieve the same manifest different transport streams may be displayed depending on one or more factors. For example devices having different bandwidth availabilities e.g. a high speed Internet connection a low speed Internet connection etc. and or different display abilities select an appropriate transport stream for their display and or bandwidth abilities. In some examples a media device connecting to the internet via a slow Internet connection may use a lower resolution transport stream compared to a media device connecting to the Internet via a fast Internet connection.

In the illustrated example of a high resolution transport stream a medium resolution transport stream and a low resolution transport stream are shown. In the illustrated example each transport stream and or represents a portion of the associated media e.g. five seconds ten seconds thirty seconds one minute etc. . Accordingly the high resolution transport stream corresponds to a first portion of the media a second high resolution transport stream corresponds to a second portion of the media a third high resolution transport stream corresponds to a third portion of the media. Likewise the medium resolution transport stream corresponds to the first portion of the media a second medium resolution transport stream corresponds to the second portion of the media and a third medium resolution transport stream corresponds to the third portion of the media. In addition the low resolution transport stream corresponds to the first portion of the media a second low resolution transport stream corresponds to the second portion of the media and a third low resolution transport stream corresponds to the third portion of the media. Although three transport streams are shown in the illustrated example of for each resolution any number of transport streams representing any number of corresponding portions of the media may additionally or alternatively be used.

In the illustrated example each transport stream and or includes a video stream an audio stream and a metadata stream . The video stream and or includes video associated with the media at different resolutions according to the resolution of the transport stream with which the video stream is associated. The audio stream and or includes audio associated with the media. The metadata stream and or includes metadata such as for example timed text track data a link to the timed text track data closed captioning data and or an ID3 tag associated with the media. In some examples the metadata stream and or is not included as the information used to measure exposure to streaming media may already be transmitted to the media monitor as the timed text track. In some examples the metadata stream and or includes information that is not contained in the timed text track e.g. additional closed captioning information etc. 

The timed text track code describes cue change events that are to be triggered in association with the presentation of the media. In the illustrated example the first time segment is identified by the first timed event . The identifying information of the metadata of the first timed event identifies the first segment of the television show. In the illustrated example the first timed event is triggered after one second of media has been presented. The first timed event is triggered after one second of media has been presented because in some examples the event listener function may not have loaded within the first second of media playback. In some examples alternative start times are used such as for example zero seconds e.g. no delay five seconds ten seconds one minute etc.

In the illustrated example the second time period is identified by a second timed event . The second timed event begins one second after the completion of the first time segment. However any other time delay may additionally or alternatively be used. The second timed event includes metadata identifying the advertisement displayed during the second time segment.

In the illustrated example the third time period is identified by a third timed event . The third timed event begins one second after the completion of the second timed event . However any other time delay may additionally or alternatively be used. The third timed event includes metadata identifying the second segment of the television show. In the illustrated example the metadata identifying the second segment of the television show is different from the metadata identifying the first segment of the television show. However in some examples the metadata identifying the second segment of the television show is the same as the metadata identifying the first segment of the television show.

In the illustrated example a cue change event is triggered at the start of each of the timed events e.g. the first timed event the second timed event the third timed event etc. . Thus the timed events occur when the media is within a different time segment defined by the timed text track than was previously presented including the start of media presentation . In the illustrated example the timed text track time segments and corresponding timed events are divided into segments corresponding to the media presented e.g. the first timed event is associated with the first segment of the television show the second timed event is associated with the advertisement etc. .

In some examples the timed text track events are divided into fixed length segments e.g. five seconds ten seconds one minute etc. and are associated with the media presented within the respective fixed length segments. Segmenting the timed text track into segments facilitates accurate collection of media monitoring data as more data points representing various times within the media presentation are collected. When used with timestamps using small segments e.g. thirty seconds one minute etc. facilitates detection of other media interaction events such as for example skip stop pause play events because expected time durations between timed text track cue changes can be compared to actual time durations between timed text track cue changes. In some examples the timed text track is not divided into separate segments and includes a single segment spanning the entire presentation of the media.

While an example manner of implementing the service provider the media device and or media monitor has been illustrated in and or one or more of the elements processes and or devices illustrated in and or may be combined divided re arranged omitted eliminated and or implemented in any other way. Further the example media identifier the example transcoder the example metadata embedder the example media transmitter and or more generally the example service provider of the example media device of the example media interceptor the example media interceptor the example demultiplexer the example metadata extractor the example metadata converter the example transmitter the example splitter the example switch and or more generally the example media monitor of and or may be implemented by hardware software firmware and or any combination of hardware software and or firmware. Thus for example any of the example media identifier the example transcoder the example metadata embedder the example media transmitter and or more generally the example service provider of the example media device of the example media interceptor the example media interceptor the example demultiplexer the example metadata extractor the example metadata converter the example transmitter the example splitter the example switch and or more generally the example media monitor of and or could be implemented by one or more circuit s programmable processor s application specific integrated circuit s ASIC s programmable logic device s PLD s and or field programmable logic device s FPLD s etc. When reading any of the apparatus or system claims of this patent to cover a purely software and or firmware implementation at least one of the example media identifier the example transcoder the example metadata embedder the example media transmitter the example media device the example media interceptor the example media interceptor the example demultiplexer the example metadata extractor the example metadata converter the example transmitter the example splitter and or the example switch are hereby expressly defined to include a tangible computer readable storage device or storage disc such as a memory DVD CD Blu ray etc. storing the software and or firmware. Further still the example service provider of the example media device of and or the example media monitor of and or may include one or more elements processes and or devices in addition to or instead of those illustrated in and or and or may include more than one of any or all of the illustrated elements processes and devices.

A flowchart representative of example machine readable instructions for implementing the service provider of is shown in . A flowchart representative of example machine readable instructions for implementing the media device of is shown in . A flowchart representative of example machine readable instructions for implementing the media monitor of and or is shown in . A flowchart representative of example machine readable instructions for implementing the example central facility of is shown in . A flowchart representative of example machine readable instructions for implementing the example service provider of the example media device of the example media monitor of and or the example central facility of is shown in . In these examples the machine readable instructions comprise a program for execution by a processor such as the processor shown in the example processor platform discussed below in connection with . The program may be embodied in software stored on a tangible computer readable storage medium such as a CD ROM a floppy disk a hard drive a digital versatile disk DVD a Blu ray disk or a memory associated with the processor but the entire program and or parts thereof could alternatively be executed by a device other than the processor and or embodied in firmware or dedicated hardware. Further although example programs are described with reference to the flowcharts illustrated in and or many other methods of implementing the example service provider the example media device and or the example media monitor may alternatively be used. For example the order of execution of the blocks may be changed and or some of the blocks described may be changed eliminated or combined.

As mentioned above the example processes of and or may be implemented using coded instructions e.g. computer and or machine readable instructions stored on a tangible computer readable storage medium such as a hard disk drive a flash memory a read only memory ROM a compact disk CD a digital versatile disk DVD a cache a random access memory RAM and or any other storage device or storage disk in which information is stored for any duration e.g. for extended time periods permanently for brief instances for temporarily buffering and or for caching of the information . As used herein the term tangible computer readable storage medium is expressly defined to include any type of computer readable storage device and or storage disk and to exclude propagating signals. As used herein tangible computer readable storage medium and tangible machine readable storage medium are used interchangeably. Additionally or alternatively the example processes of and or may be implemented using coded instructions e.g. computer and or machine readable instructions stored on a non transitory computer and or machine readable medium such as a hard disk drive a flash memory a read only memory a compact disk a digital versatile disk a cache a random access memory and or any other storage device or storage disk in which information is stored for any duration e.g. for extended time periods permanently brief instances for temporarily buffering and or for caching of the information . As used herein the term non transitory computer readable medium is expressly defined to include any type of computer readable device or disc and to exclude propagating signals. As used herein when the phrase at least is used as the transition term in a preamble of a claim it is open ended in the same manner as the term comprising is open ended.

The media identifier of the illustrated example then identifies the media block . The media identifier identifies the media by extracting metering data e.g. signatures watermarks codes etc. from the media. Based on the extracted metering data the media identifier generates metadata block . In the illustrated example the metadata is generated in an ID3 format. However any other metadata format may additionally or alternatively be used. Further in the illustrated example the metadata is generated based on the extracted metering data. However in some examples the metadata may be generated by querying an external source using some or all of the extracted metering data.

The media is then transcoded by the transcoder of the service provider block . In the illustrated example the media is transcoded into an MPEG2 transport stream that may be transmitted via HTTP live streaming HLS . In particular the metadata embedder of the service provider embeds the metadata into a timed text track associated with the HLS stream block . In the illustrated example the metadata is embedded in a timed text track document that is external to the HLS stream. However in some examples the metadata is embedded into the media itself as for example closed captioning data. For example the timed text track information may be encoded in an MPEG2 transport stream as closed captioning. In the illustrated example the metadata embedded into the timed text track identifies different media being presented at different times.

The media is then transmitted by the media transmitter of the service provider block . In the illustrated example the media is transmitted using HTTP live streaming HLS . However any other format and or protocol for transmitting e.g. broadcasting unicasting multicasting streaming etc. media may additionally or alternatively be used.

The media device determines if a timed text track event is to be triggered block . If the timed text track is not to be triggered block the media device continues to present the media block . If the timed text track event is to be triggered block the media device retrieves metadata associated with the timed text track event block .

In some examples the closed captioning transport stream including the metadata is already included in the MPEG2 transport stream received from the service provider . That is the metadata included in the timed text track may previously been integrated into the closed captioning transport stream. The media device determines if the metadata is already present in the closed captioning stream block . If the closed captioning transport stream includes the metadata block the media device continues to present the media block . If the metadata is not included in the closed captioning transport stream the example media device embeds the metadata in the MPEG2 transport stream as closed captioning data block . The media device then continues to present the media including the embedded metadata in the closed captioning transport stream block .

If media identifying metadata is found the metadata converter of the media monitor converts the metadata block into a format for use by the transmitter of the media monitor . In the illustrated example the metadata is converted from a binary data format into a text format. In some examples the metadata is parsed to identify portions e.g. fields sections etc. of interest of the metadata e.g. a genre an artist a song title an album name a transmitting station server site etc. . In some examples the metadata converter embeds an identifier of the media monitor an identifier of the media device and or an identifier of a user of the media device e.g. a panelist identifier in the metadata. Including the identifier s of the presentation device and or the user of the presentation device enables the central facility to correlate the media that was presented with the presentation device and or the user s of the presentation device. In the illustrated example the metadata converter adds a timestamp to the metadata prior to transmitting the metadata to the central facility . Timestamping e.g. recording a time that an event occurred enables accurate identification and or correlation of media that was presented and or the time that it was presented with the user s of the presentation device.

In some examples the metadata may not undergo conversion before transmission by the transmitter e.g. the metadata may be sent in the format in which it is extracted by the metadata extractor . In such examples the central facility converts the metadata into a format for use by the central facility by for example converting the metadata to a different format parsing the metadata to identify portions of interest of the metadata etc. Conversion of the metadata by the central facility facilitates correlation of the media that was presented with an identifier identifying to whom the media was presented. In some examples the central facility timestamps the metadata upon receipt. Timestamping the metadata enables accurate identification and or correlation of media that was presented and or the time that it was presented with the user s of the presentation device.

The transmitter then transmits the metadata to the central facility block . In the illustrated example the metadata is transmitted using an HTTP Post request. However any other method of transmitting data and or metadata may additionally or alternatively be used. For example a file transfer protocol FTP an HTTP Get request Asynchronous JavaScript and extensible markup language XML AJAX etc. may be used to transmit the metadata. In some examples the data and or metadata may be stored in a memory of the media monitor e.g. a memory card a flash drive etc. which may be removed and physically sent e.g. mailed etc. to the central facility . In the illustrated example the metadata is transmitted in real time e.g. streamed to the central facility . However in some examples the metadata may be stored e.g. cached buffered etc. for a period of time before being transmitted to the central facility .

The central facility identifies media based on the received metadata block . In the illustrated example the metadata represents media exposure information indicative of which users e.g. panelists are associated with the media monitor . In the illustrated example the central facility determines demographics of the panelist s block associated with the media monitor transmitting the metadata. For example the central facility may look up demographic information based on the geographic location s of the identified panelist s may look up demographic information provided by the panelist s etc.

The example central facility determines media exposure measures block based on the metadata received at block . In some examples the central facility determines media exposure metrics based on different demographics associated with the collected media metadata and or different device types associated with the collected media metadata. In some examples a people meter collects data identifying people present in the audience of a metered information presentation device such as for example the display the media device etc. The people identifying information is used to look up demographics collected from panelists during a registration process. This information is used to statistically project the demographic composition of the audience as a whole. The example central facility generates a media exposure report summarizing the media exposure metrics block .

The timed text track including the media identifying metadata and the media are transmitted to the media device block . In the illustrated example the timed text track and the media are transmitted as separate items i.e. they are transmitted in response to separate requests . However in some examples the timed text track and the media may be transmitted together.

The media device of interprets the timed text track block . As described in connection with the timed text track is interpreted to identify when particular closed captioning data e.g. metadata should be included in the media. Timed text track events are trigged when the media device reaches a particular time within the playback of the media. Events within the timed text track when triggered cause the media device to embed the closed captioning data associated with the respective timed text track event into the media block . The embedded metadata is transmitted as part of the media e.g. in a closed captioning transport stream of the MPEG2 stream to the display .

The media monitor intercepts the media intermediate the media device and the display via a media interceptor block . That is the media is split to two or more devices after being output from the media device namely the display and the media monitor . The media monitor extracts metadata e.g. the media identifying metadata generated in block from the media by inspecting the closed captioning transport stream block . The extracted metadata is reported by the media monitor to the central facility block . With the metadata received at the central facility central facility generates a media exposure report summarizing the media exposure metrics block . In the illustrated example the media exposure report identifies viewing preferences of viewers having different demographic details. However the media exposure report may identify any other metrics and or statistics associated with media exposure.

The processor platform of the illustrated example includes a processor . The processor of the illustrated example is hardware. For example the processor can be implemented by one or more integrated circuits logic circuits microprocessors or controllers from any desired family or manufacturer.

The processor of the illustrated example includes a local memory e.g. a cache . The processor of the illustrated example is in communication with a main memory including a volatile memory and a non volatile memory via a bus . The volatile memory may be implemented by Synchronous Dynamic Random Access Memory SDRAM Dynamic Random Access Memory DRAM RAMBUS Dynamic Random Access Memory RDRAM and or any other type of random access memory device. The non volatile memory may be implemented by flash memory and or any other desired type of memory device. Access to the main memory is controlled by a memory controller.

The processor platform of the illustrated example also includes an interface circuit . The interface circuit may be implemented by any type of interface standard such as an Ethernet interface a universal serial bus USB and or a PCI express interface.

In the illustrated example one or more input devices are connected to the interface circuit . The input device s permit a user to enter data and commands into the processor . The input device s can be implemented by for example an audio sensor a microphone a camera still or video a keyboard a button a mouse a touchscreen a track pad a trackball a remote control and or a voice recognition system.

One or more output devices are also connected to the interface circuit of the illustrated example. The output devices can be implemented for example by display devices e.g. a liquid crystal display a cathode ray tube display CRT a touchscreen a tactile output device a light emitting diode LED and or speakers . The interface circuit of the illustrated example thus typically includes a graphics driver card.

The interface circuit of the illustrated example also includes a communication device such as a transmitter a receiver a transceiver a modem and or network interface card to facilitate exchange of data with external machines e.g. computing devices of any kind via a network e.g. an Ethernet connection a digital subscriber line DSL a telephone line coaxial cable a cellular telephone system etc. .

The processor platform of the illustrated example also includes one or more mass storage devices for storing software and or data. Examples of such mass storage devices include floppy disk drives hard drive disks compact disk drives Blu ray disk drives RAID systems and digital versatile disk DVD drives.

The coded instructions of and or may be stored in the mass storage device in the volatile memory in the non volatile memory and or on a removable tangible computer readable storage medium such as a CD or DVD.

Although certain example methods apparatus and articles of manufacture have been described herein the scope of coverage of this patent is not limited thereto. On the contrary this patent covers all methods apparatus and articles of manufacture fairly falling within the scope of the claims of this patent.

