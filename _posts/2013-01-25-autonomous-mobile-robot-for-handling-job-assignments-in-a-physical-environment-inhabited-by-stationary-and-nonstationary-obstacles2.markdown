---

title: Autonomous mobile robot for handling job assignments in a physical environment inhabited by stationary and non-stationary obstacles
abstract: An intelligent mobile robot having a robot base controller and an onboard navigation system that, in response to receiving a job assignment specifying a job location that is associated with one or more job operations, activates the onboard navigation system to automatically determine a path the mobile robot should use to drive to the job location, automatically determines that using an initially-selected path could cause the mobile robot to run into stationary or non-stationary obstacles, such as people or other mobile robots, in the physical environment, automatically determines a new path to avoid the stationary and non-stationary obstacles, and automatically drives the mobile robot to the job location using the new path, thereby avoiding contact or collisions with those obstacles. After the mobile robot arrives at the job location, it automatically performs said one or more job operations associated with that job location.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09592609&OS=09592609&RS=09592609
owner: Omron Adept Technologies, Inc.
number: 09592609
owner_city: San Ramon
owner_country: US
publication_date: 20130125
---
The present invention generally relates to mobile robots. In particular the present invention is directed to mobile robots for handling job assignments in a physical environment inhabited by stationary and non stationary obstacles.

In a typical order processing environment human operators are frequently required to fill orders by placing products on wire frame carts and moving them throughout a factory or warehouse. There are many disadvantages to using human operators including for example difficulties tracking the physical location of the transported items difficulties moving items around the factory or warehouse according to schedules dictated by automated components in the order processing system exposing the human operators to increased risks of physical injury or death and exposing the manufacturing equipment and products to higher contamination levels caused by the presence of humans. In a typical industrial manufacturing environment products may be moved about the factory or warehouse using an overhead product transportation system monorails suspended from the ceiling instead of humans. The disadvantages of using overhead transport systems include being constrained to a fixed linear delivery path not being able to deliver products to down stream destinations if an upstream component in the process is out of service and having to move the entire overhead infrastructure to a new location if a single workstation in the process has to be moved to a different location.

To help move materials between locations in the factory or warehouse more efficiently mobile robots also called automated guided vehicles or AGVs have been introduced to order processing plants manufacturing facilities hospitals and office buildings. But the utility and flexibility of conventional mobile robots used in these environments has heretofore been very limited due to several significant operational shortcomings including 1 the mobile robots having to navigate by following markers rails wires or grids installed in the floors of the facilities 2 the mobile robots having little or no ability to determine their routes to specified destinations i.e. to navigate autonomously 3 the mobile robots having little or no ability to modify a selected route to a specified destination in response to other non stationary objects including people encountered while driving to the specified destination and 4 the mobile robots having little or no ability to automatically determine and carry out a particular task or operation upon arriving at a specified destination to name but a few examples. Another significant shortcoming of existing mobile robot technology is that the existing solutions tend to rely on the mobile robots always being able to travel in straight lines which is not conducive to servicing tools and workstations having varying shapes and sizes or that are physically offset from one another. Many factories grow over time as funds permit and so are not able to be laid out in perfectly straight lines.

Embodiments of the present invention address and solve these problems and shortcomings by providing an intelligent mobile robot that in response to receiving a job assignment 1 automatically determines how to get to the job location in the physical environment i.e. autonomous navigation to carry out the job assignment 2 automatically determines that traveling along an initially selected path is likely to cause the mobile robot to come into contact with or collide with another non stationary object 3 automatically determines a new path to use to reach the intended destination thereby avoiding potential collisions with stationary and non stationary obstacles including people in the physical environment and 4 automatically performs a job operation once it has reached the intended job location. Notably all of these determinations are made on board the mobile robot itself which provides a tremendous benefit in terms of the utility and flexibility of the mobile robot especially in situations involving large numbers of mobile robots large numbers of non stationary obstacles including people in the physical environment and large and diverse collections of job locations and job operations. This technology is especially useful in environments such as but not limited to ISO 5 clean room environments narrow aisle ways e.g. less than 2 meters wide under typical semiconductor fabrication facility conditions.

In one aspect of the present invention there is provided a mobile robot for handling a job assignment in a physical environment inhabited by stationary and non stationary obstacles. The mobile robot generally comprises a robot base that includes a map defining a floor plan for the physical environment a robot base controller and an onboard navigation system. The job assignment may include a job location defined by the map a job operation defined by the map or both a job location and a job operation. The specified job location may have one or more job operations associated with it which are to be performed automatically by the mobile robot after the mobile robot arrives at the specified job location. In response to receiving the job assignment the robot base controller generates a command signal that causes the onboard navigation system to automatically determine in accordance with the map how as in what path to use to get to the place on the floor plan that represents the specified job location. The onboard navigation system then automatically follows the path to the job location required by the job assignment. If the mobile robot encounters a stationary obstacle such as a closed door or piece of furniture or a non stationary obstacle such as a person vehicle or other mobile robot the onboard navigation system automatically calculates a new path to follow to get to the required job location.

The map defines a floor plan corresponding to the physical environment and also defines a set of job locations in respect to the floor plan. For at least some of the job locations on the floor plan the map also defines a set of one or more job operations to be performed automatically at that job location. Thus the map may contain for example data defining where a particular job location exists in terms of coordinates delineating the floor plan as well as certain job operations that should be carried out automatically upon arrival at that particular job location. In response to receiving a job assignment on the robot base controller the onboard navigation system is activated to use the map the floor plan and the coordinates in the floor plan to drive the mobile robot to a set of coordinates on the floor plan i.e. the floor plan job location as defined by the map. The floor plan location in the map represents an actual job location in the real world of the physical environment. So for example if the map defines a job location called pod loading station which represents an actual pod loading station in the real world of the physical environment and the map also identifies in terms of floor plan coordinates where on the floor plan the pod loading station is located then the onboard navigation system is configured to use the map the floor plan and the coordinates to drive the mobile robot to the pod loading station on the map thereby also causing the mobile robot to drive to the actual pod loading location in the real world of the physical environment.

In another example the job assignment sent to the mobile robot may command the mobile robot to perform a certain job operation such as Charge Battery without identifying in the assignment command itself any particular location where this job operation should be performed. The map definitions may include sufficient information to permit the onboard navigation system in the mobile robot to derive the actual location for the job assignment based solely on what job operation is to be performed. So in this example having received an assignment to Charge Battery the onboard navigation system on the mobile robot will use the map to obtain the current locations of battery charging stations in respect to the floor plan as well as the current availability of the nearby battery charging stations and based on this information automatically drive the mobile robot to the nearest battery charging station that is not currently being used by another mobile robot. Once there the mobile robot could automatically start charging its battery because charging its battery is the task that the assignment commanded the mobile robot to do. Similarly if the job assignment command specifies a location such as Go To Battery Charging Station No. 5 without specifying a job operation to perform upon arrival at the specified location the mobile robot may be configured to automatically start charging its battery on arrival because the definitions and attributes stored in the map indicate that battery charging is one of the job operations associated with battery charging station No. 5.

The map may also dictate through its definitions that certain job operations shall occur at certain locations. In this case when a mobile robot receives a job assignment telling it to go to a particular location the job assignment does not necessarily need to specify which job operations the mobile robot should carry out upon arrival because the map in the mobile robot s memory has already associated one or more job operations with that particular job location. Thus using the map s defined floor plan as well as the job location and job operation definitions in the map mobile robots operating according to embodiments of the present invention are capable of receiving and processing a job assignments that specify job locations without specifying job operations b job assignments that specify job operations without specifying job locations and c job assignments that specify both job locations and job operations.

The robot base controller may be configured to receive the job assignment or changes associated with the job assignment from a variety of sources including without limitation from a remote job management system via a wireless communications interface from an operating terminal in the computer network via the wireless communications interface or from a human via a human machine interface device attached directly to the mobile robot. The human machine interface may comprise one or more display devices monitors keyboards keypads touch screens scanners telephones printers buttons speakers switches cameras or lights.

The onboard navigation system is configured to carry out several steps automatically including 1 determining the job location for the job assignment based on the job assignment and the map 2 determining that driving the mobile robot along a first path from the mobile robot s current position in the physical environment to an actual job location will cause the mobile robot to come into contact with one of the stationary or non stationary obstacles in the physical environment 3 generating a second path in accordance with the map to avoid the contact with the stationary or non stationary obstacles and 4 driving the mobile robot to the actual job location along the second path. In some embodiments the onboard navigation system may also determine that driving the mobile robot to the actual job location along the second path could still cause the mobile robot to come into contact with one of the stationary and non stationary obstacles and responds by generating and using a third path in accordance with the map to avoid the contact. Thus the onboard navigation system is capable of recalculating and changing the path of travel to drive the mobile robot to the specified or implied job location representing the actual job location in the physical environment as many times as necessary depending on the number of stationary or non stationary obstacles encountered along the way.

The first path may be determined by the onboard navigation system itself in accordance with the map or it may be determined by another computer system such as a remote job management system and received on the mobile robot via a wireless communications interface on the mobile robot. Typically the onboard navigation system uses sensor readings for the physical environment to determine that driving the mobile robot to the job location along the first path or along the second path could cause the mobile robot to come into contact with one or more stationary or non stationary obstacles. But the robot base controller and or the onboard navigation system may also be configured to periodically receive via the wireless communication interface updated information indicating the current positions and headings of other mobile robots in the physical environment as well as other non stationary obstacles which the onboard navigation system then uses to determine whether any collisions might occur. Thus in some embodiments the map provides the current positions and or currently selected paths for one or more non stationary obstacles in the physical environment such as another mobile robot a human being a motorized vehicle or a non motorized vehicle and the onboard navigation system uses those current positions and or currently selected paths to assess whether driving the mobile robot to the job location along the first path or along the second path might cause the mobile robot to come into contact with those non stationary obstacles. In this embodiment the robot base periodically receives updated information for the map wherein the updated information accounts for changes in the current positions and currently selected paths for the non stationary obstacles.

When the mobile robot reaches the job location specified in the job assignment the mobile robot automatically carries out one or more job operations associated with the job location by the map. Thus the robot base controller is configured to automatically generate a command signal that causes the mobile robot to perform one or more job operations associated with the job location by the map. The robot base controller may generate the command signal before or after the mobile robot is driven to the actual job location by the onboard navigation system. Some of the associated job operations may be carried out by the robot payload e.g. unload cargo while other associated job operations may be carried out by the robot base e.g. rotate 90 degrees . Notably the map does not necessarily associate job operations with all of the job locations on the floor plan. Thus some job locations will have no associated job operations while other job locations will have one or more job operations associated with them. In cases where the job location has no job operation associated with it the mobile robot may obtain instructions about what job operations to perform from the original assignment or from subsequent assignments received after reaching the job location. The mobile robot may also be configured to receive specific job operation instructions from a human operator located at the job location.

Stationary obstacles in the physical environment that are avoided by mobile robots operating according to embodiments of the present invention may include for example a wall a door a door frame a piece of furniture a workstation a manufacturing tool a break in the travelling surface for the mobile robot an object suspended above said travelling surface a restricted zone in the physical environment a contaminated zone in the physical environment or a dangerous zone in the physical environment. A restricted zone stationary obstacle may be thought of as a virtual stationary obstacle such as a do not enter or one way zone which may be placed into the map by a system operator to control the mobile robot s access to that zone.

Typically the mobile robot is configured to automatically handle various types of job assignments once it reaches the selected job location in the job assignment. Accordingly the mobile robot may also have a robot payload connected to the robot base which is specifically configured to carry out certain job operations associated with handling the job assignment. If the job assignment includes a selected job operation defined by the map the robot base controller activates the robot payload to automatically perform that job operation after the mobile robot arrives at the selected job location. The robot payload may include a cargo hold for carrying objects and or an actuator for performing certain types of jobs. Any number of actuators may be used for the payload including without limitation an articulated robotic arm an electromechanical manipulator a portable robot an electric motor a panning unit a tilting unit a conveyor a mechanical lifting device a mechanical gripping device a pump a sprayer a vacuum device a laser a sampler and a linear actuator.

For embodiments of the present invention having payloads and cargo holds and payload actuators the payload may also include a robot payload controller operable with the robot base and or the robot base controller which controls the operation of the actuators and or cargo holds so that the actuator carries out the real world job operation under the control of the robot payload controller. If the actuator on the robot payload comprises for instance an articulated mechanical arm or an industrial style robotic manipulator then the robot base controller generates a command signal that causes the a payload controller on the robot payload to cause the mechanical arm to pick up an object and place that object in the cargo hold on the robot payload. Another signal transmitted from the robot base controller to the payload controller may cause the mechanical arm to remove an object from the cargo hold.

Preferably the payload controller is configured to send an assignment status signal to the robot base controller indicating whether job assignments have been successfully completed and or provide error codes and other feedback for the robot base controller when the robot payload cannot complete the job assignment. In certain embodiments the robot base controller further comprises a status manager configured to record a current status for the mobile robot which may be transmitted to a remote job management system to a personal computer communicatively coupled to the mobile robot and or to another mobile robot in the network via a wireless communications interface attached to the robot base.

The robot payload on the mobile robot may also include a sensor for performing certain real world job operations. Sensors may include for example a video recorder a sound recorder a photographic image recorder an RFID reader a magnetic stripe reader a barcode reader a gas detector a particle detector a temperature sensor a scanner a distance sensor a near field communication sensor and a wireless signal detector. When the robot payload on the mobile robot comprises a cargo hold the robot payload may also include a sensor configured to detect when an item is located or securely positioned within the cargo hold.

In another aspect of the present invention there is provided a method of handling a job assignment with a mobile robot in a physical environment inhabited by stationary and non stationary obstacles the method comprising the steps of 1 storing on a robot base a map defining a floor plan corresponding to the physical environment a set of job locations in respect to the floor plan and a set of job operations associated with one or more of the job locations in the set of job locations 2 receiving the job assignment on the robot base the job assignment including a job location defined by the map a job operation defined by the map or both and 3 in response to receiving the job assignment activating an onboard navigation system on the mobile robot to a automatically determine in accordance with the map a floor plan location for the job assignment the floor plan location representing an actual location in the physical environment b automatically determine that driving the mobile robot to the floor plan location along a first path will cause the mobile robot to come into contact with one or more of the stationary or non stationary obstacles c automatically generate a second path in accordance with the map to avoid the contact and d automatically drive the mobile robot to the actual job location represented by the floor plan location using the second path. The final step of the method comprises causing the mobile robot to carry out a job operation or a set of job operations associated with the specified job location by the map. In this aspect the method may further include the steps of 4 determining on the onboard navigation system that driving the mobile robot along the second path could cause the mobile robot to come into contact with one of the stationary and non stationary obstacles 5 generating a third path in accordance with the map to avoid the contact and 6 driving the mobile robot to the actual job location represented by the floor plan location using the third path.

Embodiments of the present invention have a wide range of practical uses including but not limited to 

Transporting materials and containers such as uniformly sized totes around a manufacturing facility or distribution center. These environments may involve a lot of other vehicular and pedestrian traffic 

Transporting goods such as pharmaceuticals and lab samples between different locations within hospital environments. These environments may also involve a lot of vehicular or pedestrian traffic as well as a lot of interaction with the public people who are unfamiliar with autonomous vehicles 

Transporting extremely sensitive materials such as Standard Manufacturing Interface SMIF Pods within a cleanroom or between racks or tools used to manufacture SMIF pods 

Transporting electronic equipment such as LCD screens telepresence systems projectors barcode scanners or other heavy and or valuable equipment between locations in a typical office building and

Environmental monitoring radio frequency signals air quality temperature at a particular location in any one of the above listed environments and

RFID scanning for the purposes of asset tracking. For instance as the mobile robot drives around the physical environment it scans for RFID tags and catalogs the discovered RFID tags in a database so that assets can be more easily located when they re needed.

Reference will now be made in detail to the preferred embodiments of the invention examples of which are illustrated in the accompanying drawings. Notably the present invention may be implemented using software hardware or any combination thereof as would be apparent to those of skill in the art and the figures and examples below are not meant to limit the scope of the present invention or its embodiments or equivalents.

An exemplary embodiment of a mobile robot configured to operate in accordance with the present invention is shown in . As shown in the mobile robot includes a robot base and a robot payload which is connected to and supported by the robot base as the mobile robot moves about the physical environment. A horizontally oriented laser sensor on the robot base produces a horizontally oriented plane of laser light rays not shown which when reflected back to the laser sensor helps the onboard navigation system not shown in in the robot base detect objects and obstacles people furniture other robots etc. in the vicinity and potentially in the travel path of the mobile robot . In some embodiments assistance is needed to load and unload items from shelves on the mobile robot . Accordingly in the embodiment depicted in the robot payload comprises several cargo holds configured to hold cargo and cargo which may be placed in and removed from the cargo holds by a human operator or by another mobile or industrial robot not shown in . Wheels on the robot base are electronically coupled to the onboard navigation system via a locomotion microcontroller inside the robot base so as to permit the onboard navigation system to drive the mobile robot to actual locations in the physical environment according to a map stored in the memory of the robot base . As shown in mobile robot is optionally equipped with a vertically oriented laser sensor which is attached to the robot payload and electronically coupled to the onboard navigation system in the robot base . As the mobile robot moves about the physical environment laser sensor scans and senses in the area in front of the mobile robot in a substantially vertically oriented plane so as to make it easier for the onboard navigation system in the robot base to detect objects and obstacles that ordinarily would not be detected by the horizontally oriented laser sensor .

Additional exemplary embodiments of mobile robots configured to operate in accordance with the present invention are shown in . As shown best in an embodiment of the mobile robot includes a robot base configured to carry a robot payload . The robot payload includes an articulated mechanical arm actuator configured to identify grasp and lift standard manufacturing interface SMIF pods . As shown in mobile robot also comprises a robot payload having an articulated mechanical arm actuator . The articulated mechanical arm actuator is configured to remove SMIF pods from a platform on workstation and place the SMIF pods on supports attached to the robot payload . In preferred embodiments the articulated mechanical arm actuator may comprise a 4 degree of freedom SCARA Selectively Compliant Articulated Robot Arm or 6 degree of freedom articulated arm that is mounted on the robot base of the mobile robot .

The robot base controller in the robot base is programmed to activate the onboard navigation system in the robot base to so that the mobile robot carries the SMIF pods directly to another location or workstation without following markers rails or wires and without colliding into stationary or non stationary obstacles. More particularly the onboard navigation system in the robot base automatically determines in accordance with a map stored on the robot base a path to the next workstation. The onboard navigation system then uses the path to drive the mobile robot to the location of the next workstation avoiding negative and positive obstacles as well as other robotic transporters along the way.

The robot base controller comprises computer program instructions executable on a microprocessor not shown on board the robot base to initiate coordinate and manage all of the automation functions associated with the mobile robot including without limitation handling of job assignments automatic locomotion and navigation communications with other computers and other robots activating the robot payload functions and controlling power functions. The robot base controller has an assignment manager not shown that keeps track of all of the robot s assignments and job operations. When a job assignment is received by the mobile robot the robot base controller activates the other subsystems in the mobile robot to respond to the job assignment. Thus the robot base controller generates and distributes the appropriate command signals that cause other processing modules and units on the mobile robot to start carrying out the requested job assignment. So for example when the received job assignment requires that the mobile robot drive itself to a certain location in the physical environment it is the robot base controller that generates the command signal that causes the onboard navigation system to start driving the mobile robot to the specified destination. The robot base controller also provides an activation signal for the robot payload if necessary to cause the robot payload to perform a particular operation at the specified job location. The robot base controller also manages and updates the map and the floor plan when appropriate based on updated map or floor plan information received from other computer systems or other robots in the computer network. The robot base controller also receives assignment status information if any from the robot payload and if appropriate relays the status information out to a remote job management system not shown which typically delegates job assignments to the mobile robot . Typically the robot base controller will communicate with the job management system via an application programming interface API and a wireless communications interface .

The map defines a floor plan corresponding to the physical environment and also defines a set of job locations in terms of the floor plan . The map also associates one or more job operations with one or more of the job locations in the set of job locations. shows an example of the data content for a computer file comprising the map . shows a graphical representation of the map . Each job location on the floor plan corresponds to an actual location in the physical environment. Some of the job locations on the floor plan will also have associated with them a set of one or more job operations to be carried out automatically by the mobile robot after the mobile robot arrives at the actual location. The map may be obtained by the robot base controller from the remote job management system not shown or alternatively from another mobile robot or from a standalone operating terminal for the network not shown . Certain job operations on the floor plan may have multiple locations in the physical environment. It is understood however that not all job operations need to be pre programmed into the map . It is also possible for job operations to be commanded as needed by the robot base controller or the remote job management system irrespective of the whether or not the job operation is defined in the map .

The onboard navigation system operating under the control of the robot base controller handles all of the localization path planning path following and obstacle avoidance functions for the mobile robot . If the system includes a positive and negative obstacle avoidance engine to help the mobile robot avoid colliding with objects that may be resting on the floor but who s shape is not appropriately identified by the mobile robot s horizontally scanning laser and to avoid driving into gaps in the floor this functionality is encompassed by the onboard navigation system . The onboard navigation system automatically determines the job location for the job assignment based on the map and the job assignment. Using sensors the onboard navigation system also detects when driving the mobile robot along a selected path from the mobile robot s current position to an actual location in the physical environment will cause the mobile robot to touch collide or otherwise come too close to one or more of the stationary or non stationary obstacles in the physical environment. When the onboard navigation system determines that contact with an obstacle might occur it is able to automatically plan a second path to the intended job location in accordance with the map to avoid the contact. The path planning may be accomplished using any one of a variety of robot path planning techniques known in the art. One such path planning technique is discussed in detail in Chapter 7 of the book Artificial Intelligence and Mobile Robots First Edition published in 1998 by AAAI Press and edited by David Kortenkamp R. Peter Bonnaso and Robin Murphy. For purposes of the present invention the path planning engine plans a path that avoids all of the locations that have been identified as containing obstacles. The onboard navigation system may also use sensing lasers to sample objects in the physical environment and compare the samples with information in the map . This process is called laser localization or Monte Carlo localization with a laser. Another known technique called light localization involves using a camera to find lights in the ceiling and then comparing the lights found to lights identified on the map . All of these different techniques may be employed to help the onboard navigation system determine its current position relative to the job location.

After the onboard navigation system determines an alternative second path to the floor plan location representing the actual job location it operates in combination with the locomotion system to drive the mobile robot from its current location to the actual job location using the second path. In some embodiments the onboard navigation system may subsequently determine that driving the mobile robot to the actual job location along the second path may cause the mobile robot to come into contact with another stationary or non stationary obstacle in which case the onboard navigation system creates and uses a third path in accordance with the map to avoid the contact. Thus the onboard navigation system is capable of generating and changing the paths of travel between the mobile robot s current location and the floor plan location representing the actual job location in the physical environment as many times as necessary to accomplish driving the mobile robot to the actual job location. On the other hand if the onboard navigation system determines via its internal path planning engine that no path to the actual job location exists it may optionally be programmed to send an error message back to the robot base controller which reports the error condition out to a remote job management system if appropriate.

The API is operable with the robot base controller and the wireless communication interface to provide information and commands to the robot base controller as well as retrieve job assignment status and route information from the robot base controller . For example if the robot payload needs to send information concerning the status of the cargo in the cargo hold to the job management system not shown the cargo information may be transmitted from the robot cargo payload controller to the robot base controller via the API . The robot base controller will then transmit the cargo information to the remote job management system through the same API . In preferred embodiments API is ARCL or ArInterface an application programming interface distributed by Omron Adept Technologies Inc. of San Ramon Calif. However other API s may be suitably adapted and used to provide communication between the mobile robot and other computer systems.

Sensors may comprise a collection of different sensors such as sonar sensors bumpers cameras gas sensors smoke sensors motion sensors etc. and can be used to perform a variety of different functions. These sensors may also be used for traffic mitigation by redirecting the mobile robot when other mobile robots are detected in the immediate surroundings. Other elements on the robot base include Power which typically includes a battery and software to manage the battery.

The locomotion system includes the hardware and electronics necessary for making the mobile robot move including for example motors wheels feedback mechanisms for the motors and wheels and encoders. The onboard navigation system typically drives the mobile robot by sending commands down to the wheels and motors through the locomotion system .

The human machine interface or HMI typically includes the hardware and electronics such as buttons switches touchscreens touchpads speakers as well as software controllers for buttons switches touchscreens touchpads and speakers which enable the mobile robot to provide data to and receive commands and other input from humans.

Turning now to the components of the robot payload the cargo sensors provide signals to the robot payload controller and possibly directly to robot base controller by means of API which permit the robot payload controller and or robot base controller to make programmatic decisions about whether the mobile robot has completed an assignment or is available to acquire more cargo. HMI may include buttons switches keyboards touchscreens etc. or some combination of buttons switches keyboards and touchscreens used to communicate with a human operator. Humans can for example use the HMI to make the mobile robot proceed to a specified location in the physical environment by selecting the location on the mobile robot s internal map . To facilitate selection of a new location mobile robot may be configured to display locations floor plans zones and sectors defined by the map on an HMI comprising a display screen.

Payload sensors may include for example temperature or gas sensors cameras RFID readers environmental sensors wireless Ethernet sniffing sensors etc. Payload sensors may be used to provide information about the state of the robot payload the state of the cargo in the cargo hold the state of the physical environment the proximity of the mobile robot to physical objects or some combination of all of this information.

Actuators may include a wide range of devices including without limitation linear actuators panning and tilting units articulated mechanical arms conveyor belts non mobile industrial robots manipulators lifts drills pumps and sprayers. Could be anything to distribute things into or collect things from the environment.

The robot payload may also include a wireless communications interface which sends information to and receives information from other devices or networks. Telepresence applications which permit for example physicians to see and speak with patients by using remotely controlled mobile robots carrying video and audio recording equipment may use the wireless communications interface for instance to relay the video and audio signals from the mobile robot to the remotely located physician.

The robot payload controller processes command and operation signals coming into the robot payload and generally controls and coordinates all of the functions performed by the robot payload . In preferred embodiments the robot payload controller can also cancel a job assignment. For example if the mobile robot arrives at a specified job location to pick up an item such as a SMIF pod and learns through sensors or vision technology attached to the robot payload that the SMIF pod is not present at that location then the robot payload controller can cancel the job assignment by generating a job cancellation signal and transmitting it to the robot base controller in the robot base along with a string of data that indicates the reason for the cancellation. The robot base controller typically relays that cancellation signal to the job management system to inform the job management system that mobile robot is now available to receive a new job assignment. When it is done with an assignment the robot payload controller sends a completion signal to the robot base controller or alternatively toggles a I O bit in the memory of the robot base which informs the robot base controller that the job assignment is completed.

Next in step the robot base controller receives a job assignment. Typically but not necessarily the job assignment is received from a remote job or enterprise management system in charge of processing job requests that might be generated for example by an automated order management system or automated warehouse management system operatively connected to the job management system. The job assignment may specify a job location a job operation or both a job location and job operation. If a job location is specified the specified job location may or may not have one or more job operations associated with it by the definitions in the map. At step in response to receiving the job assignment the robot base controller generates a command signal or instruction that activates the onboard navigation system. Then in step the onboard navigation system determines a floor plan location based on the map stored on the robot base and the job assignment e.g. the specified job location if any . The floor plan location is a location on the floor plan e.g. a two or three dimensional coordinate that corresponds to the specified job location based on the map. The floor plan location also corresponds to or represents an actual job location in the real world physical environment in which the mobile robot operates.

At step the onboard navigation system uses any one of a number of known path planning techniques to generate a new path i.e. a route between the mobile robot s current position on the map to the floor plan location. shows a high level flow diagram illustrating the steps in one example of such a path planning technique. The mobile robot may determine its current position by using any one of a number of known localization techniques including for example comparing laser or camera sensor readings identifying doors walls and overhead lights to the locations of such doors walls and overhead lights on an electronic representation of a map stored in the mobile robot s memory. The localization map may or may not be the same map the onboard navigation system uses to define the job operations and job locations for the floor plan.

Next at step the onboard navigation system automatically determines whether using the new path generated in step above is likely to cause the mobile robot to come into contact with a stationary obstacle such as a door a wall or piece of furniture or non stationary obstacle such as a human being other mobile robot or vehicle in the physical environment. Put another way the onboard navigation system determines whether there is a stationary or non stationary obstacle blocking access to or safe use of the new path generated in step above. Depending on the requirements of the particular system and the physical environment a path may be considered to be blocked based on any number of conditions and or operator preferences. In some situations for example access to a new path may be considered blocked if there is even a remote possibility that using the new path will cause the mobile robot to come into contact with a human being. In the context of this disclosure coming into contact with a human being or other obstacle could mean anything from actually colliding with the human being or other obstacle to merely coming within a certain range or distance of the human being or other obstacle. Thus the term contact is not limited herein to mean actual physical contact. For example contact may also mean coming within sensor range or entering the same room or zone. Techniques for determining the likelihood that a mobile robot will come into contact with an obstacle in the physical environment are known. One technique for example is to install sonar or laser sensors on the front of the mobile robot and use the readings of these sensors to determine the mobile robot s proximity to a person or thing as it travels along an intended path.

If the onboard navigation system determines that contact will occur or might occur the onboard navigation system program returns again to step to plot a new path between the mobile robot s current position and the job location. When the new path is generated the program will again check to see if the path is clear. Thus as illustrated by the loop at steps and the onboard navigation system program will check and revise the path between the mobile robot s current position and the selected or implied location as many times as necessary to find a new path that does not involve coming into contact with a stationary or non stationary obstacle.

When onboard navigation system finds a new path that can be used without bringing the mobile robot into contact with an obstacle the onboard navigation system automatically drives the mobile robot to the actual job location in the physical environment using the new path. See step . When the mobile robot arrives at the actual job location embodiments of the present invention may be configured so that as shown in steps and the robot base controller automatically transmits a command signal to the payload controller to begin a job operation or set of job operations associated by the map with the specified job location in the assignment. For example if there is one job operation associated with the specified job location that job operation may comprise an operation such as unload cargo. If a set of job operations are associated with the specified job location then the set of job operations might include for example pick up cargo rotate 90 degrees drive 50 yards and unload cargo. At step the payload controller automatically activates an actuator to carry out the associated job operation or set of job operations and the payload controller sends a status signal back to the robot base controller when the assignment is complete. Finally at step the robot base controller sends a status signal back to the job management system if appropriate informing the job management system that the assignment is complete.

The above described preferred embodiments are intended to illustrate the principles of the invention but not to limit its scope. Various other embodiments modifications and equivalents to these preferred embodiments may occur to those skilled in the art upon reading the present disclosure or practicing the claimed invention. Such variations modifications and equivalents are intended to come within the scope of the invention and the appended claims.

