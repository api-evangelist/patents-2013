---

title: Server-centric customized interactive program guide in an interactive television environment
abstract: Techniques to create, generate, and deliver customized interactive program guide (custom-IPG). In one embodiment, selections indicative of a set of channels to be included in the custom-IPG are received. In response, one or more custom-IPG screens including the set of selected channels are rendered at a headend. Custom-IPG screens can be formed as subsets of the regular IPG screens, or as new screens. The rendered custom-IPG screens are provided from the head end to a set top terminal upon receiving a viewer request for the custom-IPG. Commands indicative of a particular location at which to overlay the custom-IPG screens may also be received, and the custom-IPG screens are re-rendered at the indicated location. Custom-IPG screens can be overlaid on a video sequence provided on a particular channel being viewed, used to carry regular program guide, or a channel independent of the channel used to carry regular programming and program guide.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09456241&OS=09456241&RS=09456241
owner: Comcast IP Holdings I, LLC
number: 09456241
owner_city: Philadelphia
owner_country: US
publication_date: 20131101
---
This application is a continuation of U.S. patent application Ser. No. 11 059 055 filed Feb. 16 2005 which application is a continuation of U.S. patent application Ser. No. 09 605 522 filed Jun. 27 2000 which application claims the benefit of U.S. provisional Application Ser. No. 60 141 334 entitled SERVER CENTRIC CUSTOMIZED INTERACTIVE PROGRAM GUIDE IN AN INTERACTIVE TELEVISION ENVIRONMENT filed Jun. 28 1999 each of the above prior applications is incorporated herein by reference in their entireties for all purposes.

The aforementioned U.S. patent application Ser. No. 09 605 522 is also a continuation in part of the following U.S. patent applications all of which are assigned to the assignee of the present invention and incorporated herein by reference in their entireties for all purposes 

Ser. No. 09 293 526 entitled DATA STRUCTURES AND METHODS FOR PROVIDING AN INTERACTIVE PROGRAM GUIDE filed Apr. 15 1999 

Ser. No. 09 359 559 entitled SYSTEM FOR GENERATING DISTRIBUTING AND RECEIVING AN INTERACTIVE USER INTERFACE filed Jul. 22 1999 

Ser. No. 09 384 394 entitled METHOD AND APPARATUS FOR COMPRESSING VIDEO SEQUENCES filed Aug. 27 1999 and

Ser. No. 09 602 547 entitled EFFICIENT ENCODING ALGORITHMS FOR DELIVERY OF SERVER CENTRIC INTERACTIVE PROGRAM GUIDE filed Jun. 21 2000 now U.S. Pat. No. 6 704 359.

The invention relates to communications systems in general. More specifically the invention relates to an interactive user interface suitable for use in an interactive multimedia information delivery system.

Over the past few years the television industry has seen a transformation in a variety of techniques by which its programming is distributed to consumers. Cable television systems are doubling or even tripling system bandwidth with the migration to hybrid fiber coax HFC cable plant. Customers unwilling to subscribe to local cable systems have switched in high numbers to direct broadcast satellite DBS systems. And a variety of other approaches have been attempted focusing primarily on high bandwidth digital technologies intelligent two way set top terminals or other methods of trying to offer service differentiated from standard cable and over the air broadcast systems.

With this increase in bandwidth the number of programming choices has also increased. Leveraging off the availability of more intelligent set top terminals several companies such as Starsight Telecast Inc. and TV Guide Inc. have developed elaborate systems for providing an interactive listing of a vast array of channel offerings expanded textual information about individual programs the ability to look forward to plan television viewing as much as several weeks in advance and the option of automatically programming a VCR to record a future broadcast of a television program.

Unfortunately the existing program guides have several drawbacks. They tend to require a significant amount of memory some of them needing upwards of one megabyte of memory at the set top terminal STT . They are very slow to acquire their current database of programming information when they are turned on for the first time or are subsequently restarted e.g. a large database may be downloaded to a STT using only a vertical blanking interval VBI data insertion technique . Disadvantageously such slow database acquisition may result in out of date database information or in the case of services such as pay per view PPV or video on demand VOD limited scheduling flexibility for the information provider. Furthermore the user interface of existing program guides do not usually look like a typical television control interface rather the user interface looks like a 1980 s style computer display i.e. blocky ill formed text and or graphics .

Therefore it is seen to be desirable to provide an interactive program guide in a manner tending to reduce the above described problems.

The invention provides techniques to create generate and deliver customized interactive program guide i.e. custom IPG . The custom IPG allows each viewer to create an IPG based on the viewer s preference and is highly desirable in providing an enjoyable viewer experience. With the custom IPG search time for the desired programs can be reduced the likelihood of not finding the desired programs among the clutter of programs and channels can be minimized viewer satisfaction may be enhanced and other benefits may also be realized. With certain embodiments of the invention the viewer can elect to view either the custom IPG or the regular IPG. The viewer can also simultaneously view the custom IPG overlaid on the program currently being viewed.

An embodiment of the invention provides a method for providing a custom interactive program guide custom IPG . In accordance with the method selections indicative of a set of channels to be included in the custom IPG are received. In response one or more custom IPG screens having included therein the set of selected channels are rendered at a head end. The rendered custom IPG screens are provided from the head end to a set top terminal upon receiving a viewer request for the custom IPG. Command indicative of a particular location at which to overlay the custom IPG screens may also be received. In this case the custom IPG screens are then re rendered at the location indicated by the received command and delivered from the head end.

In one implementation the custom IPG screens are overlaid on a video sequence being played on a particular channel. This particular channel can be the channel currently being viewed or some other channel. The custom IPG screen can be turned off by the viewer e.g. by depressing a particular key on the remote control unit . The custom IPG can also be provided on a channel that is independent of the channels used to carry regular programming and program guide. The custom IPG can also be provided on the channel used to carry the regular program guide and multiplexed with the regular IPG. In this implementation either the custom IPG or the regular IPG is provided on the program guide channel depending on which IPG is selected.

The custom IPG screens can be formed as subsets of the regular IPG screens or as new screens in which the viewer has freedom to select and arrange the contents. The custom IPG can be rendered and stored at the head end possibly as part of a profile for a particular viewer. The custom IPG can also be dynamically modified and re rendered at the head end.

Another embodiment of the invention provides a method for creating a custom IPG. In accordance with the method a program guide customization process is activated e.g. by highlighting a particular object provided on a regular IPG screen by depressing a particular key on a remote control unit or by some other mechanism . In response a pop up menu which can be generated at a head end is provided to assist in the customization process. The pop up menu can be overlaid on the current screen being viewed. A set of channels can then be selected for inclusion in the custom IPG. One or more custom IPG screens which are rendered at the head end having included therein the set of selected channels are then received. A particular arrangement or layout for the selected channels can also be indicated by the viewer in which case the custom IPG screens are re rendered and include therein the selected channels in the indicated arrangement.

The invention further provides systems e.g. head ends and set top terminals that supports and or implements the custom IPG described herein.

The foregoing together with other aspects of this invention will become more apparent when referring to the following specification claims and accompanying drawings.

To facilitate understanding identical reference numerals have been used where possible to designate identical elements that are common to the figures.

This invention is a unique user interface that is illustratively embodied in an interactive program guide that enables a user to interactively review preview and select programming for a television system.

The distribution network is generally a high bandwidth full duplex communications network such as a hybrid fiber coax network. However the network may comprise multiple simplex communications channels where together the simplex channels provide bi directional communications between the head end and the STT e.g. a forward channel could carry information from the head end to the STT through a cable system while a back channel could carry information from the STT to the head end via a telephone system.

The head end which carries the most user interface related processing power and storage capability comprises a user interface graphics generation storage unit video source compositor encoding unit multiplexer video modulator a video session manager VSM or multiple VSM s depending on the viewer subscriber load and a video server .

The VSM performs the command and control functionality and operates as a bridge between the user interface graphics generation storage unit and the STTs one of which is depicted as STT being responsible from the establishment and maintenance of the head end to STT communication. Specifically the VSM controls user interface transmission to the STT and controls the response of the system to user requests that are made through the user interface

As shall be discussed in detail below the user interface comprises both graphical information and video information under the control of the VSM . The video information for the user interface is produced by the video source or sources . The graphical information for the user interface is produced in the user interface graphics generation storage unit . The unit comprises a graphics storage unit a graphics server and a graphics formatter . The graphics server recalls the graphics information from the storage unit and has the recalled information formatted in the graphics formatter such that the graphics are in an appropriate format for use in a user interface. The server sends a bitmap containing the graphical information for a user interface to the compositor .

The compositor combines the graphics with the video to produce a composite video frame sequence. The frame sequence is then encoded within the encoding unit . The encoding unit comprises a plurality of real time MPEG encoders . . . where n is an integer . The encoding unit also comprises an audio encoder that encodes the audio information associated with the video source signal.

The compositor produces a plurality of frame sequences containing graphics and video. For example to produce interrelated user interfaces the video is the same in each sequence but the graphics are different. Each of these sequences is encoded using for example a real time encoder that produces an MPEG compliant bitstream. Each of the bitstreams are coupled to the multiplexer to form one or more transport streams for example MPEG compliant transport streams. Each of the encoded user interfaces are identified in the transport streams using a unique identifier e.g. a program identifier PID code. As such the STT can select a particular user interface for display by selecting the identifier e.g. selecting a PID. Once encoded and multiplexed the transport stream or streams are then coupled to the digital video modulator e.g. a quadrature amplitude modulation QAM modulator for transmission through the distribution network to the STT .

As shall be described in detail below the user interface that is transmitted as a digital video bitstream can be used to control and request video and other information from the information server . The information server interacts with the VSM to produce requested information for transmission to a particular STT to all the STT s or a particular subset of STT s.

Transport stream demultiplexer in response to a control signal TD produced by controller demultiplexes i.e. extracts an audio information stream A and a video information stream V. The audio information stream A is coupled to audio decoder which decodes the audio information stream and presents the decoded audio information stream to an audio processor not shown for subsequent presentation. The video stream V is coupled to the video decoder which decodes the compressed video stream V to produce an uncompressed video stream VD that is coupled to the video compositor . OSD in response to a control signal OSD produced by controller produces a graphical overlay signal VOSD that is coupled to the video compositor .

The video compositor merges the graphical overlay signal VOSD and the uncompressed video stream VD to produce a modified video stream i.e. the underlying video images with the graphical overlay that is coupled to the frame store unit . The frame store unit stores the modified video stream on a frame by frame basis according to the frame rate of the video stream. Frame store unit provides the stored video frames to a video processor not shown for subsequent processing and presentation on a display device. The frame store unit in response to a control signal F produce by the controller freezes in memory i.e. does not update a presently stored video frame such that the video information provided to the video process results in a still image. This is useful when e.g. a user interface utilizes scrolling information a telephone number or address is briefly displayed or a user simply wants to view a presently displayed frame for a longer period of time.

Controller comprises a microprocessor an input output module a memory an infrared IR receiver and support circuitry . The microprocessor cooperates with conventional support circuitry such as power supplies clock circuits cache memory and the like as well as circuits that assist in executing the software routines that are stored in memory . The controller also contains input output circuitry that forms an interface between the controller and the tuner the transport demultiplexer the onscreen display unit the back channel modulator and the remote control unit . Although the controller is depicted as a general purpose computer that is programmed to perform specific interactive program guide control function in accordance with the present invention the invention can be implemented in hardware as an application specific integrated circuit ASIC . As such the process steps described herein are intended to be broadly interpreted as being equivalently performed by software hardware or a combination thereof.

In the exemplary embodiment of the remote control unit comprises an 8 position joystick a numeric pad a select key a freeze key and a return key. User manipulations of the joystick or keys of the remote control device are transmitted to a controller via an infrared IR link. The controller is responsive to such user manipulations and executes appropriate user interaction routines uses particular dynamic overlays that are available in a dynamic overlay storage and uses particular static overlays form a static overlay storage .

The IPG display A of comprises a first A second B and third C time slot object a plurality of channel content objects through a pair of channel indicator icons A B a video barker and associated audio barker a cable system or provider logo a program description region a day of the week identification object a time of day object a next time slot icon a temporal increment decrement object a favorites filter icon a movies filter object a kids i.e. juvenile programming filter icon a sports programming filter object and a VOD programming icon . It should be noted that the day of the week object and next time slot icon may comprise independent objects as depicted in or may be considered together as parts of a combined object.

Additionally to better understand the invention depict respective display screens of the interactive program guide IPG of the guide of with various objects icons and or text emphasized.

The interactive program guide display A comprises a video layer and a graphics layer . In this context the video layer comprises the imagery from the decoded digital video bitstream containing the video and graphical information of the user interface. As described above with respect to video information representative of each of the objects icons and text is generated at the head end of the system and transmitted as part of a video stream. Thus the actual display parameters i.e. the size shape color position and other visual parameters associated with each object are entirely controlled at the head end.

The modifiable via viewer interaction objects icons and text are selected by for example a remote control device associated with the STT. Selecting the screen objects causes a locally stored and or locally generated graphical overlay to identify the selected objects on the screen by associating each manipulable object or element with a corresponding graphical overlay element e.g. an x y coordinate box or other element . An overlay element is selectively emphasized or de emphasized e.g. selectively shading highlighting coloring and the like via manipulation of the remote control unit.

The IPG display A of is logically divided into two operational regions a guide region the graphical region and an image region the video region . The guide region comprises the time slot objects channel content objects through and channel indicator icons A B. The image region comprises the remaining objects that are delineated above. When a user or viewer is interacting with the program guide of the present invention only one of these two regions will be active at any one time. Some keys or controls utilized by a viewer to control the IPG will operate differently depending upon which region is active. The operational differences between the two regions will be described in more detail below.

Referring to the guide region of it can be seen that the first time slot A is emphasized by a time slot highlighting object H. The slot A is emphasized with respect to the other time slots B and C which can be said to be de emphasized. The slot A can be emphasized by highlighting the slot using a colored highlighting overlay graphic H or the highlighting graphic may provide a 0 opacity window through which the slot text A can be seen and the others slots may be overlaid with a graphic having an opacity that is more than 0 e.g. 25 50 or 75 percent opacity. The level of opacity is selected to facilitate clear emphasis of the selected time slot by muting the intensity of the un selected slots. Similarly it can be seen that each respective first title object A of each of the plurality of channel content objects through is also emphasized or highlighted by a title highlighting object H. Time slot emphasis is coordinated with title slot emphasis. That is if the first time slot object A is emphasized or highlighted then the first title object A of each of the plurality of channel content objects through is also emphasized or highlighted. Similarly if the second time slot object B is emphasized or highlighted as in then the second title object B of each of the plurality of channel content objects through is also emphasized or highlighted. Lastly if the third time slot C is emphasized as shown in then the third title objects C are emphasized or highlighted. This coordinated highlighting or emphasizing of time slot and title objects assists the viewer in determining which titles within the respective channel content objects through are associated with which time slot.

In another embodiment of the invention the coordinated emphasis or highlighting of time slot and title objects is accomplished by using the graphics layer to adjust a color brightness or other attributes of an object or display area surrounding the object. For example an x y coordinate grid a rectangular cell or other shape surrounding an object to be highlighted or emphasized may be changed in color or brightness level such that the surrounded or proximate object is emphasized. Similarly an x y coordinate grid or other shape surrounding an object to be non highlighted or de emphasized may be changed in color or brightness level such that the surrounded or proximate object is de emphasized.

The program description region of the image region is used to display a description of a presently indicated emphasized title. The description comprises illustratively one or more of a brief textual description of the title title start and end times title run time title ratings e.g. MPAA or other ratings title reviews e.g. thumbs up or thumbs down or other qualitative indicia ranking of title in comparison to other titles e.g. popularity aggregated positive or negative viewer feedback and the like.

The pair of channel indicator icons A B or a single channel indicator icons A or B is used to indicate which of the plurality of channel content objects through includes a highlighted or emphasized title object having associated with it title description within the program description icon . That is the channel indicator icons A B provide a visual indication of a presently indicated channel to the viewer.

It is important to note that the video barker of is itself an object that may be selected in some embodiments of the invention. Specifically in such an embodiment where the video barker is used to present a movie trailer selection of the video barker object by the user implies a desire to view that movie in e.g. a video on demand context. Thus in an embodiment of the invention where the video barker comprises an active or selectable object selection of the video barker brings the user to a video on demand interaction screen where the user is provided the opportunity to purchase the movie presented in the video barker. Similarly where the video barker is used to present merchandise or other products and or services for sale selection of the video barker results in the user being brought to an interaction screen suitable for fulfilling a user s desire to purchase or shop for such goods and or services e.g. an advertisement from a store is associated with a virtual mall an advertisement for a restaurant is associated with a food coupon retrieval system either virtual or via regular mail after entering a name and address .

Referring to the second channel which is indicated by the channel icons A and B includes a second title B that is associated with the highlighted or emphasized second time slot B. In one embodiment of the invention selecting this title i.e. pressing the select key when the guide region is active which is to be presented in the future results in the user being transferred to a preview screen depicting a preview of the selected title. For example in the case of the selected title being a television sitcom to be broadcast in e.g. 20 minutes from the present time selecting that title results in the display of a preview information screen related to the sitcom. Similarly in the case of the selected title being a boxing match or other sporting event usually associated with a pre game show or pre fight program of some sort on one or more channels the user is displayed a screen in which he or she may select which of these pre event programs to view. Alternatively the viewer is displayed a screen describing the upcoming fight.

When the guide region is active user manipulations of left or right arrow keys on e.g. a remote control device result in a change in the highlighted or emphasized time slot while user manipulations of up or down arrow keys result in a change in the indicated channel. In the case of a change in time slot or channel indication contents of the title description information which is displayed in the program description region is also changed. The guide region becomes inactive and the image region becomes active when the user utilizes the left or right arrow keys to highlight or emphasize an object within the image region i.e. icons .

As noted above the video streams for the IPG display may be included as a PES within a single transport stream. Thus a user desiring to view the next 1.5 hour time interval e.g. 9 30 11 00 may activate a scroll right object or move the joystick to the right when a program within program grid occupies the final displayed time interval . Such activation will result in the controller of the STT noting that a new time interval is desired. The video stream corresponding to the new time interval will then be decoded and displayed. If the corresponding video stream is within the same transport stream i.e. a new PID then the stream will be immediately decoded and presented. If the corresponding video stream is within a different transport stream then the different transport stream will be extracted from the broadcast stream and the appropriate video stream will be decoded and presented. If the corresponding transport stream is within a different broadcast stream then the different broadcast stream will be tuned the different transport stream will be extracted from the different broadcast stream and the appropriate video stream will be decoded and presented.

It is important to note that each extracted video stream is associated with a common audio stream. Thus the video audio barker function of the program guide is continuously provided regardless of the selected video stream.

Similarly a user interaction resulting in a prior time interval or a different set of channels results in the retrieval and presentation of an appropriate video stream. If the appropriate video stream is not normally part of the broadcast video streams then a pointcast session is initiated. That is the STT sends a request to the head end via the back channel requesting a particular stream. The head end processes the request retrieves the appropriate stream from the information server incorporates the stream within a transport stream as a video PID ideally the transport stream currently being tuned selected by the STT and informs the STT which PID should be demultiplexed and from which transport stream it should be demultiplexed. The STT then retrieves the appropriate video PID. In the case of the appropriate video PID being within a different transport stream the STT must first demultiplex the different transport stream possibly even tuning a different QAM stream within the forward channel .

Upon completion of the viewing of the appropriate stream the STT indicates to the head end that the STT no longer needs the stream whereupon the head end tears down the pointcast session.

When the image region is active activations of up or down arrows by a user via a remote control device results in incrementing and decrementing the indicated next time slot. Upon receiving a select command the video PID including the channel information for the time indicated by the selected next time slot object is retrieved. In the case of that video stream being part of a currently broadcast or currently used video stream e.g. another user had requested this stream the head end provides information to the set top terminal enabling the set top terminal to identify the video PID including the appropriate channel guide information. The set top terminal then retrieves the appropriate video PID. If the selected video PID is located in a different transport stream then the audio PID is also retrieved from the new transport stream.

This process of moving from one program guide page to another is depicted in . depicts a flow diagram A illustrating contextual changes in the IPG display screen A in response to horizontal increment and decrement right left commands such as right arrow and left arrow key activations from e.g. a remote control. Each of the objects depicted in the contextual flow diagram comprises a video object having associated with it a graphical overlay providing emphasis to indicate an active i.e. selectable object or de emphasis to indicate a non active object i.e. non selectable .

The objects depicted in the contextual flow diagram A of comprise a subset of the objects shown in the IPG display screen of . Specifically the objects depicted in the contextual flow diagram A of comprise in the order of emphasis in response to a right arrow or horizontal increment the first A second B and third C time slot objects of the IPG display screen guide region. These objects are followed by the following IPG display screen image region objects day of week identification object next time slot object favorites filter object movies filter object a kids filter object sports filter object and VOD user interface object . It should be noted that while the objects depicted in the contextual flow diagram A comprise objects depicted in the IPG display screen other IPG display screens may be adapted accordingly.

For purposes of this discussion it is assumed that the first object to be highlighted or emphasized is the first time slot object A. Referring to in response to a first right arrow or horizontal increment the first time slot object A is de emphasized and the second time slot object B is emphasized in response to a second right arrow or horizontal increment the second time slot object B is de emphasized and the third time slot object C is emphasized in response to a third right arrow or horizontal increment the third time slot object C is de emphasized and the day of week identification object is emphasized and so on for the next time slot object favorites object movies selection object kids selection object sports selection object VOD selection object and finally is returned to the first time slot object A.

The graphical representation of is divided into guide region objects the three timeslots A C and image region objects the remaining objects . The functionality of vertical increment up arrow vertical decrement down arrow page up and page down depends on which region is activated. The differences between guide region and image region key functionality will be discussed in more detail below with respect to and .

When the guide region is active any of objects A C emphasized the up and down arrow keys are used to scroll through the various portions of the guide region. That is the content object number through is changed by one i.e. incremented or decremented in response to up arrow or down arrow activation. Similarly the displayed video stream is changed via selecting the next or prior video PID in response to page up or page down key activation. Thus active guide region functionality provides for navigation of the various video streams providing broadcast IPG screens to a user.

When the image region is active any of objects emphasized the up and down arrow keys are used to change the next time slot object while the page up and page down keys are used to change the day of week identification object . Specifically in response to an up arrow key activation the next time slot object is incremented by e.g. 1.5 hours by selecting the video PID including the guide information for the next three time slot objects of the current channels presented in the guide region. Similarly in response to a page up key activation the day of week identification object is incremented by 1 day by selecting the video PID including the guide information for the next day of the current channels presented in the guide region.

The objects depicted in the contextual flow diagram B of comprise a subset of the objects shown in the IPG display screen of . Specifically the objects depicted in the contextual flow diagram B of comprise the channel content object through as indicated by the channel indicator objects A and or B. In response to successive down arrow or vertical decrement key activations the indicated channel content object traverses from to to to to to to and to . Similarly activating an up arrow or vertical increment key changes the indicated channel in the reverse order.

In response to a down arrow activation while channel object is indicated the next video PID is selected for display. That is the video PID containing the next eight channels to be displayed for the currently viewed time slot is selected. If the last eight channels are presently being displayed then the video PID associated with the first eight channels is selected i.e. channel roll over . In the case of the next video PID being part of a different transport stream the related transport stream is retrieved and the appropriate video PID and the associated audio and data PIDs are extracted.

In response to an up arrow activation while channel object is indicated the prior video PID is selected for display. That is the video PID containing the prior eight channels to be displayed for the currently viewed time slot is selected. If the first eight channels are presently being displayed than the video PID associated with the last eight channels is selected i.e. channel roll under In the case of the prior video PID being part of a different transport stream the related transport stream is retrieved and the appropriate video PID and the associated audio and data PIDs are extracted.

The object depicted in the contextual flow diagram C of comprises the next time slot object shown in the IPG display screen A of . Specifically when an image region object is activated the next time slot object is incremented or decremented in response to respectively an up arrow or vertical increment key activation and a down arrow or vertical decrement key activation. In the exemplary embodiment the next time slot object is delineated in 1.5 hour intervals i.e. the time slot following the three time slots A B and C of the guide region for a 24 hour period.

In one embodiment of the invention the operations described in the contextual flow diagram C only occur if the next time slot object or a combined object comprising the day object and next time slot object are highlighted or emphasized. In another embodiment of the invention the operations described in the contextual flow diagram C occur when any image regions object is highlighted or emphasized.

In response to successive up arrow or vertical increment key activations the indicated next time slot object traverses from the actual with respect to the present time next time slot to a next time slot 3 via path a next time slot 6 via path a next time slot 9 via path and so on up to a next time slot 21 via path . An additional up arrow or vertical increment key activation results in the present embodiment in a return to the next time slot via path . Similarly activating a down arrow or vertical decrement key changes the indicated next time slot object in the reverse manner except for one case. Specifically in the case of activating a down arrow or vertical decrement key when the next time slot is indicated the system enters a time shift mode via path .

Referring simultaneously to depicts an IPG display A having the first time slot A emphasized and each of the title objects A associated with the first time slot being revealed while each of the title objects B C associated with the non emphasized time slots B and C are masked hidden . In the first time slot object A is emphasized and the second and third time slots B and C are de emphasized in the second time slot object B is emphasized while the first and third time slot objects A and C are de emphasized and in the third time slot object C is emphasized while the first and second time slot objects A and B are de emphasized. Note that in all cases the operation of the title description object remains unchanged as does the operation of the video barker and all the other functional elements of the program guide. By using the mask and reveal technique the irrelevant information in the IPG is effectively removed to simplify the user interface. When the user has previously defined certain programs as favorites the subsequent selection of the favorites icon masks all non favorite programming. Similarly selecting the sports icon masks all non sports programming.

If the query at step indicates that a contextual change is requested by the viewer then the method proceeds to step where a query is made for the pressed key type. If a RETURN key is pressed the algorithm proceeds to where the system reacquires the previous context. For example the viewer may have previously been viewing a movie preview and at the end of the preview the viewer has been returned to the IPG context. If the viewer then presses the RETURN key he or she is returned to the previous context and the movie preview is re displayed. At the end of the requested context presentation the method returns to step .

If at step the viewer presses a SELECT key to select a presently emphasized or highlighted object the method proceeds to step where the context is identified as being changed. At step the new context functions are performed. For example the user may have highlighted and then selected the video on demand icon. Such a selection will cause the system to enter the video on demand VOD context. In this context the STT is sent a VOD navigator in a pointcast manner to enable the user to select a movie to view. Other context changes result when the viewer selects the video barker any of the programs in the guide region of the IPG display and the like. Barker selection causes the system to enter a barker defined context i.e. a movie if the barker was displaying a movie preview a sales page if the barker was advertising a product and so on. The selection of a program available for viewing in the current time frame causes the system to send the program video to the STT s either as pointcast or broadcast stream. The stream type depends upon the program selection. The selection of a program listed in an upcoming time slot results in display of a preview of the selected program.

If the query at step indicates that local interactivity is requested by the user then the method proceeds to step where a query is made to identify the type of key pressed by the user. If the query at step indicates that a freeze key has been pressed then the method proceeds to step where the video frame presently stored in the frame store unit is frozen. That is the frame store unit is not updated by subsequent video frames until such time as a freeze key or other key is pressed. The method then proceeds to step where the processor waits for user input.

If the query at step indicates that one of an increment or decrement key has been pressed e.g. a channel indication increment or decrement command then the method proceeds to step . If the query at step indicates that one of the page up or page down keys has been depressed then the method proceeds to step .

At step a query is made to determine whether the page up key has been pressed. If this is the case then the method proceeds to step . Then a query is made at step to determine whether the PID being viewed is the first PID in the transport stream. If this is the case then depending on the organization of the video PID s in a single or multiple transport streams either it is tuned to the previous broadcast stream or it is wrapped around to the last video PID in the same transport stream. If the query at step reveals that the PID is being viewed is not the first PID in the transport stream then the previous video PID in the same transport stream is demultiplexed and displayed at step . If the query at indicates that a page down key has been pressed then the method proceeds to step . Then a query is made at step to determine whether the PID being viewed is the last PID in the transport stream. If this is the case then depending on the organization of video PID s in a single or multiple transport streams either it is tuned to next broadcast transport stream or it is wrapped around to the first video PID in the same transport stream at step . If the query at step reveals that the PID being viewed is not the last PID in the transport stream then the next video PID in the same transport stream is demultiplexed and displayed at step .

At step a query is made as to whether an increment key has been pressed. If the query at step is answered affirmatively then the method proceeds to step . If the query at step is answered negatively i.e. a decrement key has been pressed then the method proceeds to step .

At step a query is made as to whether the upper most channel of the program guide i.e. channel content object is presently indicated by channel icons A and B. If the query at step is answered affirmatively then the method proceeds to step and continues as described above with respect to step . If the query at step is answered negatively then the method proceeds to step .

At step a query is made as to whether an upper threshold level has been reached. An upper threshold level is a pre set channel number in the group of channels of an IPG page at which a request for a prior channel PID should be made if such a prior channel PID is unavailable. If the query at step is affirmatively answered then the method proceeds to step . If the query at step is negatively answered then the method proceeds to step .

At step a determination is made as to whether the prior channel group is available. An available channel group is a channel group within a video stream that is presently being broadcast or narrow cast or pointcast to one or more set top terminals. As previously noted the set top terminal receives information associating each channel group with a particular video stream as identified by a unique PID. If the unique PID or the stream associated with the unique PID is not being broadcast narrow cast or pointcast then it is appropriate at this time to request that the head end begins a pointcast session so that the prior channel group can be received by the set top terminal without undue delay e.g. without the user experiencing latency due to the amount of time required to process and respond to a request for a video stream . If the query at step is answered negatively then the method proceeds to step where a request for the prior channel group is sent to the head end for processing. The method then proceeds to step . If the query at step is answered affirmatively then the method proceeds to .

At step the channel indicator is moved up by one channel content object . That is the channel content object immediately above the presently indicated channel content object is now indicated. The method then proceeds to step to wait for the next user input.

If the query at step is negatively answered then the method then proceeds to . At step a query is made as to whether the presently indicated channel is the last lower channel. That is a query is made as to whether the presently indicated channel is channel content object in . If the query at step is answered affirmatively then the method proceeds to step . It is important to note that if the presently indicated channel is associated with channel content object then a decrement command as noted above with respect to and path requires the selection of the next channel PID to display the upper most channel of the next channel group i.e. channel content object of the next channel group . If the query at step is answered negatively then the method precedes to step .

At step a query is made as to whether a lower threshold has been reached. If the query at step is answered negatively then the method proceeds to step . If the query at step is answered affirmatively then the method proceeds to step .

At step a determination is made if the next channel group is available. This is similar to step described above a determination is made if a presently broadcast narrowcast or pointcast stream includes an IPG guide display including information related to the next channel group. If the query at step is answered affirmatively then the method proceeds to step . If the query at step is answered negatively then the method proceeds to step .

At step a request is made by the set top terminal to the head end for the head end to send information associated with the next channel group i.e. the guide and image portions of the IPG display including the next channel group or alternatively a previously stored video screen including the appropriate information . As previously noted by requesting such information at this point the apparent latency of the system as experienced by the user is greatly reduced. The method then proceeds to step .

At step channel icons A and B are decremented or moved down by one channel content object . The method then proceeds to step where it waits for user input.

In addition to these differences there can be found many other ones to differentiate the two user interfaces. However the supporting system is designed to produce either of these interfaces.

Upon receiving a select entry from the remote control unit the set top terminal transmits via a back channel or some other communications path the information that identifies the selected object to the head end. It is important to note that as with the mask and reveal technique changing the emphasis of an object or element is performed entirely at a local level within the STT. That is there is no change in the actual video information transmitted by the head end to the subscriber. Only the graphical overlay layer on the display is changed within the STT to facilitate object emphasis.

The interactive program guide display i.e. the video layer provided by the head end depicts a program offering of 10 channels within a 1.5 hour time interval. Since there are 24 hours in a day 16 video streams each representing one program guide screen are required to depict 24 hours of program offerings of 10 channels. These 16 video streams may be included within a single transport stream. Thus a user desiring to view the next 1.5 hour time interval e.g. 9 30 11 00 may activate a scroll right object or move the joystick to the right when a program within the program grid occupies the final displayed time interval . Such activation will result in the controller of the STT noting that a new time interval is desired. The digital video stream corresponding to the new time interval will then be decoded and displayed i.e. the STT selects the bitstream within the transport stream that represents the desired program guide and decodes that bitstream. The process for selecting and decoding a bitstream is accomplished in the same manner as described above.

The foregoing description details three layouts for a user interface however any user interface layout that can be produced in a head end as a digital video bitstream and sent to a user is considered to be within the scope of the invention. As a further example the informational video could be a program that is being watched and the graphical imagery could be an HTML page that is associated with the program. The program video could also be contained in the IPG display such that the viewer can continue watching a program while browsing the IPG for other program scheduling information.

The UI of provides for services such as impulse purchasing and reminders. In particular shows a screen which provides for impulse purchasing of pay per view PPV content and shows a screen which provides for a programming reminder.

The screen of illustrates impulse purchasing of PPV content. A selectable PPV broadcast Days of Thunder 1990 and a corresponding beginning time of the PPV broadcast 8 05 PM are displayed on the screen . This PPV information is provided along with the broadcast programming data for timeslots during which the PPV broadcast occurs. For example if the PPV broadcast is to occur from 8 05 pm to 9 25 pm then the in order to encourage impulse purchasing of the PPV content. In the particular screen shown the PPV information would be displayed along with programming guide data for the 8 00 pm 8 30 pm and 9 00 pm timeslots.

When the title of the PPV content is selected the title is highlighted for example by changing color and a description of the PPV content is provided Days of Thunder 1990 You can t stop the thunder. He s a hot driver with an attitude . . . . The description is provided in a box that goes from the left side to the right side on the bottom of the screen. In contrast a similar description box in goes from only the middle to the right side on the bottom of the screen.

In addition a pop up object appears which prompts the viewer as to whether he she wishes to purchase the PPV program. The pop up object may lay over the video barker and may be drawn by the STT from data stored at the STT or alternately encoded at the head end and downloaded as a video stream to the STT . By selecting the Yes in the pop up object the viewer is able to purchase the PPV program for viewing. In one embodiment a password would need to be entered in order to authorize the purchase. Optionally the ability to make such a purchase may be disabled during the last several minutes of the PPV program since viewers are unlikely to want to pay for viewing only the last several minutes.

The screen of illustrates provision of a programming reminder. A broadcast program 4 NBC 3rd Rock from the Sun is shown at a particular future timeslot 8 30 PM .

When the title of the broadcast is selected the title is highlighted for example by changing color and a description of the broadcast program is provided Dick and Tuck A photo of Harrison Ford . . . . In addition a pop up object appears which prompts the viewer as to whether he she wishes to set a reminder for the program. The pop up object may lay over the video barker and may be drawn by the STT from data stored at the STT or alternately encoded at the head end and downloaded as a video stream to the STT . By selecting Yes in the pop up object the viewer sets the reminder. Once the reminder is set then at or slightly before the program is to begin the STT will provide a reminder by display and or sound.

The server centric system architecture includes a local interactive program guide IPG center a head end a service center and a plurality of set top terminals STT . In addition the system may be integrated with a video on demand VOD system and a corresponding VOD application at the STT .

The local IPG center generates guide page user interface UI screens and periodically sends the UI screens to an IPG server at the head end . MSO third party IPG add on content may be provided to the IPG server from MSO equipment within the head end . For example the add on content may include real time advertisement video or HTML pages for electronic commerce.

The IPG server composes C encodes E processes P multiplexes M and modulates QAM the IPG content guide plus add on content and transmits it to a combiner . The combiner combines the IPG content with broadcast TV premium content e.g. HBO pay per view PPV and other content from a multiple service operator MSO content delivery system . The combined content is then broadcast to the STTs via an in band distribution network .

Upon viewer tuning of the STT to the IPG channel an IPG application at the STT processes the IPG stream and provides the IPG via an application programming interface API to a native application running on the STT . The native application decodes and presents the IPG to the viewer.

In one embodiment the TV program guide for a current time period 1.5 hours is broadcast to viewers. In addition two weeks of look ahead TV programming may be delivered to viewers on demand via demand cast. Upon a view action of moving a cursor to a look ahead time interval the STT sends a request via a back channel to a session manager SM for example via an OOB channel to a reverse path demodulator RPD then to a network controller NC then to the SM . The SM then causes the IPG server to multiplex the requested IPG page into the IPG stream.

The SM also interacts with a subscription billing interface in the VOD system to coordinate access to VOD services from a link in the IPG user interface UI . The UI also provides for access to premium content and pay per view purchasing by interacting through a two way interface to a MSO customer management system CMS and digital access controller DAC in the service center . The DAC generates digital encryption related keys.

The server centric system architecture also includes a bandwidth manager BWM . The BWM provides techniques for more efficient utilization of the finite bandwidth available for distribution of the interactive user interface.

The Impulse PPV request messages are stored locally at the STT until they are transmitted to the digital access control DAC at the Service Center. The DAC periodically collects purchase order data collects the purchase requests through the OOB path comprising paths 2 and 3.

After the purchase request reaches to the DAC it is passed to the CMS for authorization via path 4. The CMS then authorizes or declines the request by sending a response to DAC.

If CMS authorizes then DAC sends the authorization message ecm and encryption keys emm to the MSO Content Delivery System IRT s as step . The PPV content is then delivered to the STT as shown in step .

If CMS declines the purchase request then DAC sends the decline response to STT through NC and OM in OOB equipment.

Note that Live Events such as Boxing Games Music Concerts can be processed within the same context as IPPV by considering such events as PPV but shown only once.

The process starts as IPG Application sends a subscription request to SM following the OOB paths 1 and 2 in . With this path the viewer interactions requests captured via the IPG Premium Services Subscription user interface is passed to SM.

SM then passes the subscription request along with the STT information to the MSO CMS via the Billing Interface though paths 3 and 4. As the Premium Services Content and the subscribers belong to the MSO subscriber information is not required to be maintained within the IPG system. The CMS then authorizes or declines the request by sending a message to DAC.

If CMS authorizes the subscription via checking subscriber information and limits then DAC sends the authorization message ecm and encryption keys emm to the MSO Content Delivery System IRT s as step . The Premium Services content is then delivered to the STT as shown in step . If the authorization is handled by a satellite based national conditional access center then the path 5 is replaced by the MSO via a satellite delivery. Upon STT receiving the authorization the STT force tunes to the Premium Service channel.

Note that in order to provide security in subscription a password table update mechanism can be maintained by SM. In such a password protected system a viewer can subscribe to premium service by providing password information via the interactive user interface which is then delivered to the SM along with the requested premium service information.

One model is to replace the telephone purchase ordering with the two way IPG system in dedicated TV commerce channels and non commerce channels. A telephone number in a dedicated channel is constantly displayed and in a non dedicated channel a telephone number is displayed during certain periods along with advertisements.

In any of these cases by replacing the telephone ordering process with the automated ordering via IPG will save operator operation costs for the product selling company. Considering these savings IPG provider and MSO can jointly bill the product selling company per each transaction as fixed commission based or for a percentage which is then shared between MSO and IPG provider.

Currently for impulse ordering from advertisements the CMS to DAC to STT path does not have real time message processing capability. The following sections discusses possible systems and user interfaces for commerce dedicated and non dedicated channels.

For such a functionality the system shown in can be utilized. The illustrated system assumes CMS having the complete product information being advertised in a dedicated channel s which is retrieved by the IPG generator non realtime ahead of time of purchasing transaction via path 5 Another data center instead of CMS can be reached via path 5 if CMS does not have complete product information .

The IPG generator produces IPG impulse buying user interface bitmaps which are then sent to STT through paths 6 2 and 1 as OOB data. Such bitmap data can be loaded to STT via OOB periodically before the product is advertised at a different time that the other OOB data. Or this data can be demandcast to STT as requested. While the later introduces slight delay it might be preferred due to limited time usage of viewer ordering process and requiring less STT memory footprint.

The TV commerce user interfaces can be designed in a few different ways. IPG user interface icon e.g. might appear as a constant screen on a corner of a TV commerce channel e.g. where the 800 tel. no. appears upon click on brings the product information and consequently ordering pages. Or the IPG user interface can appear on the TV commerce screen on request by clicking TV commerce button or similar one on remote control when the viewer decides to buy a product. A TV commerce icon in IPG user interface may be clicked to list the current dedicated commerce channels. Upon viewing of this interface viewer may click on a desired commerce channel to tune to it.

After the IPG user interface appears as overlaid on a dedicated channel as soon as the viewer hits the purchase icon a set of new interfaces appears to receive password data product confirmation . . . and information. all of which are forwarded to the SM through reverse path. The same IPG overlay can be made to disappear from the TV commerce channel upon viewer request.

The IPG Application sends the purchase request information to SM via paths 7 and 2. Then SM passes this information through Billing Interface to MSO CMS via paths 3 and 4. The CMS checks the purchase request and if authorizes sends a response to SM via paths 4 and 3. Then SM sends an OOB acknowledgement message to STT through paths 2 and 1. There is no inband stream in this example to be sent to STT Assuming the TV commerce is selling products content to be shipped via outside resources than MSO s system 

If the content purchased from advertisement is a music file or some other content to be streamed by MSO then MSO CMS uses inband content delivery to STT in addition to the described processes above.

For such TV commerce impulse transactions password mechanism and customer credit card information may be needed.

In a non dedicated channel a telephone number is displayed during certain periods along with the advertisements. The main difference of this case from the dedicated channel is the coordination of tremendous number of product information that appears with advertising in various channels. If the product information is available at CMS or a third party system then IPG system works the same way as described above for the Dedicated Channels e.g. during or at the end of an advertising a pop up IPG screen is used to initiate the impulse buying process. This user interface may also be demandcast as OOB.

Prior similar windows have been generated at a set top terminal . The present invention generates such a window at a server in a cable head end or other distribution center. Because the window is generated at a server in accordance with the present invention rather than at a terminal the terminal may be simplified and made less expensively.

In accordance with a preferred embodiment of the present invention a bitmap for the spotlight window may be digitally encoded and transmitted from the server to the terminal via an out of band channel. In a preferred embodiment one such a bitmap may be broadcast continually for each broadcast video channel. Alternatively the bitmaps may be demandcast sent by the server in response to requests from the terminals but such an embodiment may have substantial latencies delays . A terminal separate from or built into a television receives and decodes the bitmap and then overlays the bitmap over the broadcast video .

In accordance with an alternate embodiment of the present invention a bitmap for the spotlight window may be sent via an in band channel. For example the bitmap may be digitally encoded and multiplexed into a transport stream using an interactive information distribution system like the one described above in relation to . The transport stream is then transmitted via a distribution network to the terminals . A terminal capable of receiving the transport stream retrieving the bitmap and overlaying the bitmap over broadcast video is described above in relation to .

A particular button on a remote control may be used to cause the spotlight window to pop up and overlay the broadcast video . The terminal receives a signal indicating that the button on the remote has been pressed. If bitmaps for the spotlight window are broadcast continually then the terminal overlays the appropriate spotlight window over the broadcast video . Alternatively if demandcast is used to transmit the spotlight window then the terminal relays that indication upstream to for example the head end system . The components within the head end system then sends the appropriate encoded spotlight window to the terminal . The terminal then overlays the window over the broadcast video .

The example layout displays channel number e.g. 8 broadcast network name e.g. ESPN and service provider name e.g. Comcast . This information is shown on the left portion of the example layout but it may instead be placed at other locations in alternate layouts.

The example layout also displays a program s title e.g. Mavericks The Movie rating e.g. PG time period e.g. 8 00 10 00 copyright or release year e.g. 1998 and brief description e.g. The California big wave . . . . This information is shown in the middle portion of the example layout but it may instead be placed at other locations in alternate layouts.

In addition the example layout displays various modes of operation for the spotlight window . The modes shown include an All or all channels mode a Fav or favorites mode a M or movies mode a K or kids mode and a S or sports mode. These modes are shown in the right portion of the example layout but they may instead be placed at other locations in alternate layouts.

Finally the example layout includes a close caption icon CC a secondary audio programming icon SAP and a stereo icon . The stereo icon indicates that the program is broadcast in stereo otherwise the stereo icon does not appear.

Buttons on a remote control may be used to navigate between the modes and among channels within the spotlight window. For example right and left arrow buttons may be used to select between modes while up and down arrow buttons may be used to navigate among channels.

In the All mode all channels available to the terminal are navigable from within the spotlight system. For example a press of the up arrow button on the remote will bring up the channel information for the next higher available channel e.g. from 8 to 9 and a press of the down arrow button will bring up the channel information for the next lower available channel e.g. from 8 to 6 if 7 is unavailable . While the contents of the spotlight window change the background broadcast video remains the same during such navigation unless or until an OK or Enter button is pressed at which point the broadcast video may change to the channel shown in the spotlight window .

In the Fav mode only channels marked as favorite channels are navigated within the spotlight window . For example in the Fav mode a press of the up arrow will bring up the channel information for the next higher favorite channel. Designations of favorite channels may be accomplished by user selection via a portion of the interactive program guide.

Similarly in the M mode only movie channels or channels broadcasting movies are navigated. In the K mode only kids channels or channels broadcasting content appropriate for children are navigated. In the S mode only sports channels or channels broadcasting sports related content are navigated. Other modes for other categories of specialized content may also be implemented.

Note that common graphics used by the spotlight window such as the background for the window the spotlight logo and the various icons including All Fav M K S CC SAP and the stereo icon may be stored at the terminal . The bitmaps for the non common information such as program names descriptions of programs rating time channel number and channel name are rendered encoded at the server and sent to the terminal .

The above described technique for navigating among channels does not change the background broadcast video during navigation among channels within the spotlight window . An alternate or additional technique to navigate among channels involves changing the background broadcast video to display the broadcast of the channel currently being shown and described in the spotlight window . Changing the broadcast video display may be accomplished for example by changing which video packet stream is being decoded and presented. Advantageously this provides real time updating of the background broadcast video in synchronization with the navigation in the spotlight window .

In one embodiment of this alternate or additional technique a special button on a remote control may be used to navigate in loop fashion amongst a series of channels. For example in a Fav mode pressing the special button may switch to the next available higher favorite channel. When the highest number favorite channel is reached then pressing the special button may switch to the first lowest number favorite channel. Similarly the special button may be used to navigate in loop fashion for other navigation modes.

The interactive program guide IPG display shown in and variations of this display shown in represent specific designs of the IPG screen. Various other IPG screens can also be designed and are within the scope of the invention. For example different number of channels different number of time slots different objects and different arrangements of the channels and objects can be provided in the IPG screen.

In accordance with an aspect of the invention techniques are provided to allow for customization of the IPG custom IPG by a user i.e. a viewer . The custom IPG allows each viewer to define and arrange the IPG display according to the viewer s preference and is highly desirable in providing an enjoyable viewer experience. For example a particular viewer may want to arrange movies news sports shopping educational and other types of channel together. The viewer may further prefer to arrange these channels in a particular layout that the viewer finds pleasing. The selection of the channels and the arrangement of the layout allow the viewer to quickly scan the available programs in the channels normally viewed by the viewer instead of having to flip through pages and pages of channels in the regular program guide which may be of no interest to the viewer. With the custom IPG search time for the desired programs can be reduced the likelihood of not finding the desired programs among the clutter of programs and channels may be minimized viewer satisfaction may be enhanced and other benefits may also be realized.

In accordance with another aspect of the invention techniques are provided to efficiently generate and deliver the custom IPG to the viewer and for the STT to process and display the custom IPG. With certain embodiments of the invention the viewer can elect to view either the custom IPG or the regular IPG both of which are generated at the head end in accordance with an aspect of the invention . With certain other embodiments the viewer can simultaneously view the custom IPG overlaid on a program video.

The ability to create render and deliver the custom IPG in an efficient manner becomes more important as the number of available programs and channels continues to grow e.g. to hundred of channels or more due to for example data compression increased system bandwidth and other factors.

The viewer then initiates the customization process to create or modify the custom IPG at step . Various mechanisms to initiate the custom IPG can be implemented and are within the scope of the invention. In one implementation to create or modify a custom IPG the viewer highlights the Favorites object on the regular IPG screen. In another implementation a Customize object or some other object can be provided on the regular IPG screen to allow for entry into the custom IPG environment. In yet another implementation a special button on remote control unit can be used to initiate the custom IPG process.

In an embodiment after the custom IPG process is initiated e.g. by highlighting the Favorites or Customize object a pop up menu is provided to assist the viewer with the customization process at step . This pop up menu can be a spotlight window generated and delivered for example in the manner described above in reference to . The pop up menu includes a set of objects that can be manipulated e.g. highlighted or selected by the viewer to create and modify the custom IPG.

At step the process waits for a selection from the viewer. The viewer can elect to perform any one of a number of allowed functions such as for example 1 select a desired channel for inclusion in the custom IPG 2 remove an undesired channel from the custom IPG 3 change the location of one or more channels in the custom IPG 4 arrange the channels in the custom IPG 5 arrange the layout of the custom IPG screen and others. Upon receipt of a viewer selection a determination is made of the particular selection made by the viewer at step .

If the viewer s selection is to add a channel to the custom IPG the process waits for the viewer s selection of a particular channel or a set of channels to be included in the custom IPG at step . The viewer can enter a channel selection for example by toggling a channel provided on the display e.g. if the regular IPG is also displayed concurrent with the pop up menu by entering the desired channel e.g. with the remote control unit or by some other mechanism. The selected channel s are then included in the custom IPG at step . The process then returns to step and waits for another viewer selection.

Back at step if the viewer s selection is to remove a channel from the custom IPG the process waits for the viewer s selection of a particular channel or a set of channels to be removed from the custom IPG at step . Again the viewer can enter a channel selection for example by toggling a channel provided on the screen entering the channel with the remote control unit or by some other mechanism. The selected channel s are then removed from the custom IPG at step . The process then returns to step and waits for another viewer selection.

Back at step if the viewer s selection is to change the location of a channel in the custom IPG the process waits for the viewer s selection of a particular channel or a set of channels to be rearranged in the custom IPG at step . Again the viewer can enter a channel selection for example by highlighting a channel provided on the screen. The selected channel s can then be moved about the screen for example by using the left right up and down arrows on the remote control unit. Other mechanisms can also be used to move the selected channels such as specifying a particular coordinate for the selected channel s . The selected channel s are then moved to the indicated location in the custom IPG at step . The process then returns to step and waits for another viewer selection.

Buttons on the remote control unit can be used to assist with the customization of the IPG. As these buttons are depressed the STT can receive the selections and forward them to the head end. The head end then updates the pop up menu and or the custom IPG screen and sends them back to the STT for decoding and display.

The custom IPG screen can be updated as the viewer performs the customization. In one specific implementation upon the initiation of each action by the viewer e.g. the selection of a set of channels for inclusion or exclusion in the custom IPG the movement of a set of channels to a new location in the custom IPG screen and so on a command is sent to the head end. In response to the received command the head end re renders the custom IPG and sends the re rendered custom IPG back to the STT for display. In this manner the viewer is able to view the results of the viewer s selection and can further modify as desired. This allows for an interactive customization session.

In an embodiment the viewer s custom IPG screen is formed as a subset of the regular IPG screen. Upon receiving the viewer selection the head end generates the custom IPG screen. This can be achieved for example by removing the non selected channels from the regular IPG screen and forming a smaller IPG screen for the requesting viewer. In another embodiment the custom IPG is formed as a new screen having the contents e.g. channels selected by the viewer and arranged in a particular layout also selected by the viewer.

Other mechanisms can also be used to create and modify the custom IPG. For example instead of being provided with a pop up menu a customization region can be provided in additional to the guide and image regions described above to allow for creation and modification of the custom IPG. The customization region can be easily implemented for example with a Customize object provided on the regular IPG screen. In this implementation the customization region can be activated by selecting the Customize object.

Once the customization region is active the keys in the remote control unit can be used to select i.e. add and de select i.e. remove channels from the custom IPG. Initially the current custom IPG is displayed or the regular IPG screen is displayed if no custom IPG has been created. The viewer can then simply scroll through the displayed IPG screen and add remove channels by hitting for example the add remove button on the remote control unit . To add a channel that has been previously removed the viewer can for example enter the desired channel number with the numeric keypad in the remote control unit and hit the add remove button. Upon completion of the customization the viewer can exit from the customization region for example by highlighting an Exit Customization object which can be formed at the same location as the Customize object. Alternatively the viewer can exit from the customization region via a special key e.g. an exit key on the remote control unit.

Thus as can be seen from the above description various mechanisms can be used to support the creation and modification of the custom IPG. and the above description depict two specific embodiments of the process for creating and modifying the custom IPG. Others mechanisms can also be implemented and are within the scope of the invention.

Using the customization process described above a viewer can also re arrange the program guide based on the viewer s preference. The modification of the custom IPG can be performed dynamically and in any desired order and subset. The custom IPG allows the viewer to select a small subset of the hundreds of available channels and to organize the selected channels in a viewer friendly arrangement. The custom IPG screens for a particular viewer can be rendered composed formatted and stored at the head end in a profile for the viewer.

In accordance with an aspect of the invention the custom IPG is generated at the head end and provided to the STT. This reduces the complexity and costs of the STT. Moreover implementation of the custom IPG at the head end allows for support of new features as they become available without having to replace the STT.

In an embodiment the viewer s custom IPG can be overlaid on the program being viewed at the time of the selection to view the custom IPG. The generation of the new screens can be achieved at the head end when requested by overlaying the custom IPG on the current program. The generated screens with the overlaid custom IPG can then be sent to the STT for display.

Various data structures can be used to efficiently encode the video screens having the custom IPG overlaid thereon. Each custom IPG screen overlaid on a video sequence results in a corresponding and different output video sequence. Multiple output video sequences are generated for multiple custom IPG screens. These output video sequences have a common video portion but different custom IPG portions. The redundant common video portion can be removed from processing to simplify the encoding process and to reduce the amount of data needed to represent the output video sequences.

The output video sequences with the overlaid custom IPG screens can be represented with a matrix representation. Each column of the matrix can represent a group of pictures GOP corresponding to the video sequence with a particular custom IPG screen overlaid on it. Typically only the video portion changes with time and the custom IPG portion does not change over the period of interest i.e. the GOP .

In one data structure the first picture in each GOP is encoded as an I picture. The remaining pictures in one of the GOPs are encoded as a sequence of P and B pictures which is referred to as a base PID . The encoded I pictures and the base PID are sent to the STT. To view a particular custom IPG screen the I picture for the output video sequence with that custom IPG screen is decoded and the base PID is also decoded. The video portion from the decoded based PID is combined with the custom IPG portion from the decoded I picture to generate the desired output video sequence.

In another data structure the first picture in one of the GOPs is encoded as an I picture and the first picture in each of the remaining GOPs is encoded as a difference picture. The remaining pictures in the GOP with the encoded I picture are encoded as a sequence of P and B pictures i.e. the base PID. The encoding of the first pictures as difference pictures further reduces the amount of data to be transmitted.

In yet another data structure a minimum number of pictures required to construct the video sequence and the custom IPG screens is encoded. For example if 15 custom IPG screens are generated and transmitted using 15 GOPs and if each GOP includes 15 pictures only the diagonal elements in the matrix need to be encoded. Each encoded element would include one of the custom IPG screens and one of the pictures in the video sequence. The selected custom IPG screen can be generated at the STT by decoding and combining the pictures from the proper rows and columns of the matrix.

These various data structures for generating output video sequences having the custom IPG screens overlaid thereon are described in further detail in the aforementioned U.S. patent application Ser. No.

The generated output video sequences can also be efficiently multiplexed into a transport stream. In one embodiment referred to as a ganging structure each output video sequence is sent via a respective PID. Three video PIDs or a different number of video PIDs can be combined with one audio PID and one data PID into a transport stream. As many transport streams are generated as needed to send the required number of output video sequences. The ganging structure and other efficient structures are described in detail in the aforementioned U.S. patent application Ser. No. 09 293 526.

Various delivery mechanisms can be used to deliver the custom IPG to the STT such that increased bandwidth efficiency is obtained and viewer interaction is improved i.e. decreased system response latency . Some of these delivery mechanisms are described below.

In a specific embodiment the head end overlays the custom IPG on the program being viewed at the time of the viewer request to view the custom IPG. Since the rendered custom IPG screens are stored at the head end upon receiving the viewer request to view the custom IPG the head end can overlay these custom IPG screens on any particular program and deliver the resultant video sequence to the STT. The viewer can subsequently remove the custom IPG overlay at any time by various mechanisms such as for example the toggle off functionality in the STT remote control. In response to the toggle off command the head end can remove the custom IPG overlay and send the unmodified program to the STT.

In the above embodiment the viewer can also define the overlay position by sending the desired overlay coordinates to the head end. The desired coordinates may be expressed using for example the numeric keys on the remote control unit the arrow keys some other buttons available on the remote control unit e.g. the move left and move right buttons or some other mechanisms. Upon receiving the viewer request the head end re composites the custom IPG and the video sequence and provides the new video sequence to the STT.

In another embodiment the custom IPG is provided on a channel that is independent of the channels used to carry the regular programming and program guide. This embodiment is particularly advantageous when the custom IPG offers functionality related to an interactive service such as for example home shopping network. In this embodiment the custom IPG can be delivered to the viewer on one or more PIDs in one or more transport streams. Via the dedicated channel s assigned to the custom IPG the viewer may be able to interact with the head end with less delays.

In yet another embodiment the custom IPG is multiplexed and sent in the same channel used to provide the regular IPG. This embodiment conserves bandwidth while allowing the viewer to view the desired IPG. In this embodiment the viewer can toggle between the custom IPG and the regular IPG i.e. via a toggle button on the remote control unit . In response the head end delivers the viewer selected custom or regular IPG to the STT for decoding and display.

One or more video decoders can be used at the STT to decode the video sequences having the custom IPG screens overlaid thereon. To reduce the processing delays multiple decoders can be used to decode the selected custom IPG screen. The decoders may also be directed to decode custom IPG screen s anticipated to be viewed by the viewer thereby reducing the delays if and when the viewer does select such screen s . Multiple decoders can thus be used to increase the parallel processing and efficiency of the receiving STT.

The foregoing description of the preferred embodiments is provided to enable any person skilled in the art to make or use the present invention. Various modifications to these embodiments will be readily apparent to those skilled in the art and the generic principles defined herein may be applied to other embodiments without the use of the inventive faculty. Thus the present invention is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.

