---

title: System, apparatus and method for integrated wireless link management for a multi-polarized antenna system
abstract: According to one embodiment of the disclosure, a non-transitory computer-readable medium comprising instructions which, when executed by one or more hardware processors, causes performance of operations. One of these operations comprises transmitting, from a first device to a second device, a first plurality of frames using a first polarization configuration for a first antenna corresponding to the first device. Based on feedback information associated with the first plurality of frames, a second polarization configuration, which is different than the first polarization configuration, is selected for transmitting a second plurality of frames. Thereafter, the second plurality of frames is transmitted from the first device to the second device using the second polarization configuration for the first antenna.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09312944&OS=09312944&RS=09312944
owner: ARUBA NETWORKS, INC.
number: 09312944
owner_city: Sunnyvale
owner_country: US
publication_date: 20131226
---
Embodiments of the disclosure relate to the field of wireless networks. More specifically one embodiment of the disclosure relates to management of wireless links between a first network device and a second network device through modification of antenna properties such as polarization of antennas communicatively coupled to radio frequency RF chains for example to increase de correlation between spatial streams and enhance link reliability.

Recent advances in antenna technology allow for the construction of compact and efficient multi polarized antennas. Currently multi polarized antennas may be adapted to operate as an omni directional antenna a directional antenna or even an antenna supporting both omni directional and directional beam s e.g. switched beam antenna . Furthermore each of the multi polarized antennas may support at least two types of polarization e.g. vertical and horizontal . When such multi polarized antennas are used to construct a MIMO system for instance an 3 3 MIMO system with three antennas three transmit radio frequency RF chains and three receive RF chains each antenna may be individually configured with a specific polarization e.g. vertical vertical horizontal V V H .

One disadvantage associated with conventional management of wireless communications especially using multi polarized antennas is that the polarization configuration for the antenna system is static in nature. In other words the polarization selected for the antenna system is set during installation of the electronic device and this polarization cannot be reset without manual reconfiguration of the electronic device. Hence conventional technology fails to take into account how the modification of antenna properties at run time such as modification of antenna polarization for example may be used to enhance reliability of the wireless communications.

Furthermore a particular modulation and coding scheme MCS is selected during a wireless transmission in order to achieve a desired data rate. To ensure acceptable quality of service QoS each MCS requires a minimum signal to noise ratio SNR that must be maintained. Conventional rate control schemes are adapted to ensure that acceptable QoS levels are achieved which typically involves reducing the data rate and or switching to a different MCS if necessary. For instance conventional rate control schemes commonly reduce the data transmission rate and may switch to a different MCS if the number of retries caused by collisions the Packet Error Rate PER or interference exceeds a maximum threshold without considering whether the failures experienced during the wireless communication session are due to a lack of de correlation.

Embodiments of the disclosure relate to a framework within a first network device for modifying its antenna properties in order to enhance de correlation of wireless signals communicated over a wireless link to a second network device. Such modification of the antenna properties may be conducted at run time so as to increase reliability of the wireless link while avoiding unnecessary reduction in data rate.

According to one embodiment of the disclosure in response to detecting transmission failures of wireless messages and reduced quality of service QoS the rate control logic within the first network device determines if there is sufficient signal strength e.g. signal to noise ratio SNR to support the current multi stream modulation and coding scheme MCS used for this wireless communication session. If so instead of scaling down the data rate one or more alternative antenna polarization configurations or beam patterns may be selected with subsequent analysis being conducted to determine whether an acceptable QoS reduced retries or PER can be maintained with such antenna configuration. As a result the rate control logic maintains an optimal antenna polarization configuration for the current MCS in use.

For an antenna system such as a Multiple Input and Multiple Output MIMO antenna for example more than one antenna may be used and each antenna may be configured separately on a per frame basis in any supported polarization such as a linear polarization type e.g. vertical horizontal etc. or a non linear polarization type e.g. elliptical circular etc. . In accordance with one embodiment of the disclosure the polarization of the antenna system plays a significant role in maintaining reliable device connectivity especially in a MIMO antenna system for both single user or multi user MIMO as polarization mismatches may result in power loss.

Herein rate control logic within an electronic device may be configured based on certain criteria to modify antenna properties e.g. polarity beam pattern etc. associated with each RF chain in order to increase the de correlation between spatial streams. The increased de correlation may increase the link reliability and data rate or throughput of a wireless link especially when wireless signals using a certain modulation and coding scheme MCS are experiencing a high rate of failures due to a lack of de correlation rather than a lack of sufficient signal strength e.g. signal to noise ratio SNR . In other words link reliability and data rate of the wireless link may be maintained through modification of antenna properties provided an acceptable signal strength level for the particular MCS is maintained.

Herein de correlation generally refers to decreased spatial correlation. Spatial correlation generally refers to a correlation between a signal s spatial direction and the average received signal gain. Theoretically if the propagation channels between each pair of transmit and receive RF chains are statistically independent and identically distributed then multiple independent channels with identical characteristics can be created by pre coding and be used for either transmitting multiple data streams or increasing the reliability in terms of bit error rate . In practice the channels between different RF chains are often correlated and therefore the potential multi antenna gains may not always be obtainable which is also generally referred to as spatial correlation.

In some embodiments such as in an MIMO antenna system a first group of spatial streams is directed to communicating with a first client device whereas a second group of spatial streams is directed to communicating with a second client device. In such embodiments the disclosed system is configured to increase not only de correlation among multiple spatial streams within the same group but also de correlation between the first and second groups.

According to this embodiment of the disclosure the rate control logic in lieu of merely conducting a transmission retry of a non received message at the same or different data rate one or more different polarization configurations permutations may be used depending on allowed polarization configurations for this rate and or client based on previous measurements. The polarization configurations may be predetermined through analysis of regular data transmissions or through explicit probing e.g. NULL data transmission s . This analysis may be conducted on a periodic or an aperiodic basis.

An optimal antenna polarization configuration for communications with a particular client device may be determined from the stored polarization configurations. Even after being pre stored the optimal antenna polarization configuration can be further refined without additional overhead as part of the regular transmission. However it is contemplated that to reduce the amount of time necessary to conduct a thorough search for the optimal antenna polarization configuration certain unlikely configurations e.g. H H H for 3 3 system etc. may be avoided. Furthermore properties associated with the client device may be taken into account based on heuristics of favorable polarizations for certain types or characteristics of the client devices e.g. client devices having a certain number of RF chains operating system OS type such as iOS based or Android based client devices etc. .

Of course the optimal antenna polarization for client devices may change over time due to the changes in the RF environment. In addition the optimal antenna polarization configuration is highly dependent on the number of spatial streams. The network device may determine and maintain one or more optimal antenna polarization configurations for a given spatial stream for each client device. The changed antenna configuration may be selected to decrease a spatial correlation among the plurality of spatial streams as received at the second device where the spatial correlation comprises a similarity between signal properties e.g. time phase amplitude etc. . A lowering of the spatial correlation between spatial streams increases the ability to distinguish data between different spatial streams. Hence the optimal polarization on a per client basis and or a per stream basis may be maintained for use by the rate control logic.

Conventionally when a frame is retried the same data rate is often retried for a threshold number of times without changing polarization configuration before scaling down the data rate to the next lowest rate level. Herein according to one embodiment of the invention when the frame is retried at the same data rate a different polarization configuration may be used depending on allowed polarization configurations for this data rate and or client device based on previous measurements.

In summary one embodiment of the disclosure describes a non transitory computer readable medium within a first network device that comprises instructions which when executed by one or more hardware processors causes performance of operations 1 transmitting to a second network device a first plurality of frames using a first polarization configuration for a first antenna corresponding to the first network device 2 selecting based on feedback information associated with the first plurality of frames a second polarization configuration different than the first polarization configuration for transmitting a second plurality of frames 3 transmitting from the first device to the second device the second plurality of frames using the second polarization configuration for the first antenna. As an illustrative example the feedback information includes information that may be analyzed to improve the quality of transmission such as Acknowledgement ACK messages Signal to Noise SNR metrics power level metrics in efforts to use the least amount of transmit power while complying with throughput tranmission requirements.

Another embodiment of the disclosure describes a non transitory computer readable medium within a first network device that comprises instructions which when executed by one or more hardware processors causes performance of operations 1 selecting a first plurality of configurations for a corresponding plurality of antennas for a first network device 2 transmitting from a first network device to a second network device a first plurality of frames distributed over a plurality of spatial streams using the plurality of antennas of the first network device with the first plurality of configurations 3 selecting based on feedback information associated with the first plurality of frames a second plurality of configurations for the plurality of antennas to transmit a second plurality of frames at least one configuration in the second plurality of configurations being different than a configuration in the first plurality of configurations 4 transmitting from the first network device to the second network device the second plurality of frames distributed over the plurality of spatial streams using the plurality of antennas of the first network device with the second plurality of configurations.

Herein certain terminology is used to describe features within embodiments of the invention. For example the term network device generally refers to electronic equipment configured with an antenna system that enables transmission and or receipt of wireless messages over a wireless network. Hence the network device is further adapted with circuitry to support wireless connectivity with other network devices being part of the wireless network. Different types of network devices may include but are not limited to 1 a client device and 2 an edge device.

Herein client device may be a stationary network device e.g. desktop computer television set top box video gaming console etc. or a mobile network device capable of connecting to one or more wireless networks. Illustrative examples of mobile network devices may include a tablet laptop netbook bar code scanner a digital camera and or a mobile handset such as a smartphone personal digital assistant PDA or the like. Likewise illustrative examples of an edge device which at least partially controls access to a network may include a wired access point wireless access point wireless base station a cellular base station or any device configured as a hot spot or gateway for network connectivity.

It is contemplated that a network device includes hardware logic such as one or more of the following i processing circuitry ii one or more communication interfaces such as a radio e.g. component that handles the wireless data transmission and or reception and or a physical connector to support wired connectivity and or iii memory in the form of a non transitory computer readable storage medium e.g. a programmable circuit a semiconductor memory such as a volatile memory such as random access memory RAM or non volatile memory such as read only memory power backed RAM flash memory phase change memory or the like a hard disk drive an optical disc drive etc. or any connector for receiving a portable memory device such as a Universal Serial Bus USB flash drive portable hard disk drive or the like.

Herein the term logic is generally defined as hardware and or software. For example as hardware logic may include processing circuitry e.g. a microcontroller any type of processor a programmable gate array an application specific integrated circuit etc. semiconductor memory combinatorial logic or the like. As software logic may be one or more software modules such as executable code in the form of an executable application an application programming interface API a subroutine a function a procedure an object method implementation an applet a servlet a routine a source code an object code a shared library dynamic load library or one or more instructions. These software modules may be stored in any type of a suitable non transitory storage medium described above or transitory computer readable transmission media e.g. electrical optical acoustical or other form of propagated signals such as carrier waves infrared signals digital signals .

The term link is a physical or logical communication path between two or more network devices. Examples of a link may include a wireless link that supports the transfer of wireless messages over certain radio frequency RF channels and or bands or cellular frequency channels and or bands as well as the logic associated therewith.

The term message generally refers to information transmitted as information in a prescribed format where each message may be in the form of a packet a frame an IEEE 802.11 frame or any other series of bits having the prescribed format.

Lastly the terms or and and or as used herein are to be interpreted as an inclusive or meaning any one or any combination. Therefore A B or C or A B and or C mean any of the following A B C A and B A and C B and C A B and C. An exception to this definition will occur only when a combination of elements functions steps or acts are in some way inherently mutually exclusive.

As this invention is susceptible to embodiments of many different forms it is intended that the present disclosure is to be considered as an example of the principles of the invention and not intended to limit the invention to the specific embodiments shown and described.

According to one embodiment of the disclosure as shown in a first network device operating within a wireless network environment is shown. Herein first network device operates as a gateway to control access by another network device e.g. client device to a public or private network network such as the Internet or an Intranet. The first network device may include an access point APs that controls connectivity where wireless network environment is a WiFi network. Of course it is contemplated that the first network device may operate as a cellular base station that controls connectivity where wireless network environment is a cellular network and or a WiMAX network.

According to one embodiment of the disclosure first network device transmits wireless signals to the client device via an antenna system . Operating as a directional or an omnidirectional antenna antenna system comprises a plurality of radio frequency RF chains see that transmit wireless signals according to a first antenna polarization configuration . These wireless signals undergo influences e.g. reflection and or refraction off objects absorption interference phase modification etc. that create one or more multipaths at client device . These multipath s provides a first level of de correlation.

The first network device receives feedback information in order to monitor wireless communications and where applicable improve the quality of wireless transmissions. The feedback information may be information accessed from returned signaling that identifies the quality of the transmission such as one or more returned Acknowledgements ACK measured signal strength e.g. SNR measured from returned wireless signals transmit power level or the like.

Based on feedback information that may be used to detect QoS levels falling below a prescribed threshold e.g. a number of retries at a particular MCS exceeding a threshold or a PER exceeding a particular threshold first network device may commence transmitting wireless signals with a second antenna polarization configuration which may increase de correlation between spatial streams through one or more multipaths that provide a second level of de correlation at client device . The second de correlation level may exceed the first de correlation level which may reduce the measured signal strength in some cases but increase the data rate so that modification of the MCS may be avoided where the reduced signal strength is still acceptable for the particular MCS.

It is contemplated that in lieu of transmitting wireless signals and with different antenna polarization configurations the first multipath and second multipath may be created by transmission of wireless signals and with different beam patterns. Furthermore it is contemplated that antenna system may be configured as an omni directional antenna or at least support omni directional transmissions in lieu of a directional based antenna system as shown.

Referring now to an exemplary block diagram of logic associated with network device of is shown. Network device comprises one or more processors that are coupled to a communication interface via a first transmission medium . According to this embodiment of the disclosure the communication interface comprises signal processing logic and an antenna module which includes one or more antennas for supporting wireless communications with other network devices. However it is contemplated that communication interface may be implemented as a physical interface including one or more ports for wired connectors.

Herein signal processing logic includes one or more RF chains N 1 which are adapted to process a signal targeted for wireless transmission by converting the signal from a digital form to an analog form. Thereafter the analog signal is processed e.g. signal modulation etc. prior to transmission over an antenna. Each of the RF chains is further adapted to alter properties of its corresponding antenna being part of antenna module e.g. polarization beam pattern types power setting etc. as described below. For instance according to one example each of the RF chains is able to pre distort the polarization of a corresponding transmitted wireless signal which can provide significant improvement especially for MIMO antenna systems on link reliability by increased de correlation where a certain MCS fails due to a lack of de correlation rather than a lack of sufficient SNR.

Processor s is further coupled to persistent memory via a second transmission medium . According to one embodiment of the disclosure persistent storage may include i rate control logic including de correlation logic and beam pattern control logic ii a polarization data storage including a plurality of antenna polarization configurations on a per client device basis and or per spatial stream basis.

Rate control logic comprises one or more software modules that are configured to adjust antenna properties on a per message e.g. per frame basis. For instance according to one embodiment of the disclosure de correlation logic within the rate control logic may be configured to adjust antenna properties between successive messages based on communications with a particular client device or based on communications over a particular spatial stream. These antenna properties may be directed to the polarity of transmitted and or received signaling as handling by each RF chain. As an example for a 3 3 system having a polarization configuration V V H namely the first and second antennas support a vertical polarity while a third antenna supports a horizontal polarity the polarization may be altered so that the second antenna has a horizontal polarity V H H or a non linear polarity V E H where E denotes an elliptical polarization.

These polarization configurations are stored within polarization data storage where the testing to determine M M 2 polarization configurations for storage e.g. polarizations that provide better data rates for a particular MCS than realized data rates with other polarizations may be conducted through transmission of regular data transmissions or probing messages e.g. NULL data transmission s at times where the network device is not conducting actual data transmissions.

Herein the polarization configurations may be directed to optimal data rates associated with wireless signal transmissions directed to a particular client device and or a finer granularity of optimal data rates associated with a particular spatial stream directed to the particular client device e.g. first spatial stream SS with a vertical polarity second SS with a horizontal H polarity third SS with an elliptical E polarity or the like. For instance in multi stream communications with a client device the network device may utilize a first polarization configuration for a first spatial stream and a second polarization configuration which is different than the first polarization configuration for a second spatial stream. Also the optimal antenna polarization configuration for each different spatial stream may be stored as well e.g. where network device s 3 3 system supports one spatial stream SS use polarization V V V where supporting two SS use polarization V H V where supporting three SS use polarization V V E etc. 

In order to reduce the amount of time necessary to conduct a thorough search for optimal polarization configurations for storage within data store certain unlikely configurations e.g. H H H for 3 3 system may be avoided by de correlation logic . Furthermore properties associated with the client device may be taken into account based on heuristics of favorable polarization configurations for certain types of client devices e.g. client devices having two RF chains normally operate best at V H polarities while three RF chains normally operate best at V V H etc. .

Similarly rate control logic comprises beam pattern control logic that comprises one or more software modules configured to adjust antenna properties on a per message e.g. per frame basis where the antenna properties may be directed to a particular beam pattern used by an RF chain for message transmission and or reception. As another example again for a 3 3 system the first and second RF chains and may support a first radiation pattern having a narrower beamwidth with a high magnitude while the third RF chain may support a broader beamwidth with a main beam having a lesser magnitude.

Referring now to an exemplary block diagram of multiple RF chains associated with signal processing logic of is shown. Herein a first RF chain comprises media access control MAC logic baseband logic and RF switch logic . Similarly RF chain comprises media access control MAC logic baseband logic and RF switch logic . Herein media access control MAC logic is directed to routing feedback information associated with the state of the wireless communication session supported by RF chains while each of baseband logic includes at least a digital signal processing logic directed to processing digital signals a digital analog conversion logic directed to converting digital signals into an analog form that is utilized by wireless signals transmitted from one or more antennas and an analog signal processing logic directed to processing analog signals.

Normally implemented as a programmable logic device e.g. CPLD antenna properties setting logic is communicatively coupled to channel access logic of MAC logic where channel access logic i 1 . . . N allows several spatial streams or signals to share the same communication channel or physical medium. Based on feedback signaling received by RF receive chains and routed thereto antenna properties setting logic is configured to set RF switch logic in accordance with altered polarization beam patterns or the like. In particular each RF switch logic includes a data store of polarization configurations and or beam patterns as described above.

Referring to a general illustrative embodiment of run time operations conducted by the network device to alter antenna properties such as polarization for example to improve link reliability is shown. First the network device may analyze its link reliability with a client device block . This analysis may involve determining the signal to noise ratio SNR measured by the network device for signals from the client device determining if the SNR is greater than a prescribed threshold for the MCS currently utilized for communications with client device and determining the data rate throughput from the client device is maintained above a prescribed threshold. During periods of silence where data transmissions receptions are not being conducted the network device sends test signaling using different antenna polarization configurations and analyzes the feedback information received in response to the test signaling blocks and . This feedback information includes SNR measured data rate taking into account retries or the like.

Based on the feedback information a determination is made whether a better link quality is achievable using a different antenna property such as a different antenna polarization configuration block . If so one or more antenna properties e.g. antenna polarity are altered during run time and such alteration may be on a message by message basis block . Otherwise the same antenna properties are used.

Referring now to an illustrative embodiment of run time operations conducted by the network device having a multi polarized antenna to alter antenna properties such as the polarization configuration or beam pattern configuration for example to improve link reliability is shown. Herein adjustment of the antenna polarization will be described. However it is contemplated that alternation of another antenna property such as beam pattern for example may be used in lieu of altering antenna polarization.

As described in RF chains associated with a multi polarized antenna are set according to a first antenna polarization configuration or a first beam pattern configuration as set forth in block . After setting of the RF chains one or more wireless signal transmissions are conducted using the first antenna polarization configuration or first beam pattern configuration as set forth in block . Contemporaneous with these wireless signal transmissions in accordance with the first antenna polarization configuration or a first beam pattern configuration such as prior after or between successive transmissions the testing of other polarization configurations or beam pattern configurations may be conducted. Such testing comprises the transmission of wireless test messages e.g. NULL data frames etc. and receipt of feedback information associated with the wireless test messages which is subsequently analyzed block and . Such feedback information may be in the form of 802.11 Acknowledgement frames measured SNR data rate metrics or other factors.

Thereafter link reliability is analyzed to determine whether such reliability exceeds a prescribed threshold block . For instance for a given MCS the link reliability may be based at least in part on the signal strength e.g. SNR Packet Error Rate and the current data rate e.g. Modulation and Coding Rate . If so wireless signal transmissions will continue in accordance with the first antenna polarization configuration or first beam pattern configuration . However if the link reliability falls below the prescribed threshold during run time the polarity of the antennas associated with a multi polarized antenna may be modified according to a second antenna polarization configuration or a second beam pattern configuration as set forth in block . The second antenna polarization configuration or second beam pattern configuration is different than the first antenna polarization configuration or first beam pattern configuration .

After setting the RF chains one or more wireless signal transmissions are conducted using the second antenna polarization configuration or second beam pattern configuration as set forth in block .

Referring now to a more detailed illustrative embodiment of run time operations conducted by the network device with a multi polarized antenna to alter antenna properties such as polarization for example is shown. Herein based on feedback information in response to messages transmitted in accordance with a first antenna polarization configuration the link reliability for communications between a first network device and a second network device is analyzed block . Such link reliability may be further analyzed for each of the spatial streams transmitted from the first network device in accordance with i the first antenna polarization configuration and ii other antenna polarization configurations block .

Upon determining that a second antenna polarization configuration is different from and provides better link reliability than the first antenna polarization configuration the second antenna polarization configuration is stored in a data store for subsequent access by rate control logic of the first network device blocks and .

Upon detecting that the data rate associated with a current MCS falls below a prescribed threshold a determination is made whether another metric such as SNR for example falls below a prescribed minimum threshold blocks and . If the analyzed metric does not fall below its prescribed minimum threshold the metric is re analyzed while the data rate associated with the current MCS remains below the prescribed threshold. However if the analyzed metric fell below its prescribed minimum threshold during run time the antenna polarization configuration for the multi polarized antenna is altered from the first antenna polarization configuration to the second antenna polarization configuration block .

Thereafter if the data rate associated with the current MCS rises above the prescribed threshold the first network device uses the second antenna polarization configuration for communications with the second network device block . Otherwise if all of the stored antenna polarization configurations have not been analyzed still during run time the antenna polarization configuration for the multi polarized antenna is altered from the second antenna polarization configuration to a third antenna polarization configuration and the data rate associated with the current MCS is analyzed again blocks and . If all of the stored antenna polarization configurations have been analyzed the process exits for subsequent analysis as to whether the MCS needs to be altered to reduce the data rate block .

Lastly it is noted that the functionality associated with the non transitory computer readable medium described above may be captured by a network device that includes at least one device including a hardware processor and the system configured to perform operations identical to the operations described for the computer readable medium.

This invention may be embodied in other forms without departing from the spirit or essential attributes thereof. Accordingly reference should be made to the following claims rather than to the foregoing specification as indicating the scope of the invention.

