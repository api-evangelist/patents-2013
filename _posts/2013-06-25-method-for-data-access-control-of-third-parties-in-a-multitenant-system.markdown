---

title: Method for data access control of third parties in a multitenant system
abstract: The invention discloses, inter alia, a computer executable method for controlling user's access to transaction data in the context of a service in a multitenant data management system comprising data of a first organization, a second organization providing at least one service, at least one user representing the second organization, and a transaction associable by its content with the first organization. The method comprises steps for receiving a request for a user representing the second organization to access the transaction associable with the first organization in the context of a service, verifying the secondary stakeholder status of the second organization regarding the transaction, verifying the validity of a chain of trust between the user of the request and the second organization in the context, and conditional to the validity of the secondary stakeholder status and the chain of trust, authorizing the user representing the second organization to access the transaction in the context of the service.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09160747&OS=09160747&RS=09160747
owner: BASWARE CORPORATION
number: 09160747
owner_city: Espoo
owner_country: FI
publication_date: 20130625
---
This invention is related to business application services that utilize the concepts of social networking such as establishing connections between people of a network. The business services may be any business application services including but not being limited to electronic commerce systems e.g. electronic invoicing purchase ordering and contract lifecycle management. Yet further the invention is applicable to multitenant systems dealing with business transactions where each transaction has a plurality of stakeholding parties e.g. a sender and a receiver. Still yet further the invention may be applicable to service execution platforms acting as an execution environment for a plurality of services for the transactions.

Today social networks have grown to a popular class of web services. In such systems access to data is controlled by the owner of the data i.e. an individual user. Another class of web services gaining popularity today are multitenant data management systems dealing with business data i.e. data owned by organizations instead of individuals. In such systems access rights are typically managed by an administrative function using e.g. a suitable role based access control solution.

A need is arising to utilize ideas familiar from social networks in business services that deal with data owned by business organizations. The prior art methods of controlling services access to data are not suitable in such systems. On one hand the known access control methods of social networks are not applicable as they require an individual user to own the data. On the other hand the traditional access control methods of business application services are not practical as they require extensive amount of administrative work e.g. in the form of frequent management of organizational structures and users positions and roles in organizations.

There thus exist various problems in controlling business application service providers access to data owned by business organizations in a multitenant service execution and or data management platform. Especially there is a need to ensure that access of a third party e.g. a service provider to data owned by a business organization is managed in a simple and reliable manner. Also improvements in the area of reducing the administrative burden of business systems would be greatly appreciated.

It is an object of the present invention to provide a third party access authorization method and arrangement for a service platform that uses a multitenant data management system. It is desirable that at least some of the above mentioned issues left open in the prior art solutions are addressed by some preferred embodiments of the invention.

The first aspect of the present invention is a computer executable method for controlling user s access to transaction data in the context of a service in a multitenant data management system comprising data of a first organization a second organization providing at least one service at least one user representing the second organization and a transaction associable by its content with the first organization. The method may be characterized in that the comprises steps for receiving a request for a user representing the second organization to access the transaction associable with the first organization in the context of a service verifying the secondary stakeholder status of the second organization regarding the transaction verifying the validity of a chain of trust between the user of the request and the second organization in the context and conditional to the validity of the secondary stakeholder status and the chain of trust authorizing the user representing the second organization to access the transaction in the context of the service.

The step of verifying the secondary stakeholder status of the second organization may comprise verifying trust between at least one user representing the first organization and at least one user representing the second organization in the context of the request.

The chain of trust verified may need to be valid for the specified context. The context data may be maintained by the data management system for a plurality of services arranged to access the data of the data management system. The context may be associated with at least one service that is executable upon the granted access permission.

The method may further comprise the step of creating a log entry comprising information about at least one user whose trust was involved in the verified chain of trust. The method may also comprise the step of granting rights to the log entry to the at least one user whose trust was involved in the verified chain of trust.

The second aspect of the invention is a computer executable method for managing access control data for the purpose of authorizing a second user representing a second organization to access transaction data of a first organization represented by a first user wherein the first organization is according to the content of the transaction a primary stakeholder to the transaction. The method may be characterized e.g. in that it comprises a step for establishing in the memory of the computer a trust relationship between the first user and the second user the trust relationship comprising or being associable with at least one of the following context for the trust and data selection criteria for selecting transaction data to be made available to the second organization. The method may also comprise a step for establishing based on the validity of the established trust relationship between the first user and the second user the trust relationship between the second user and the second organization and the trust relationship between the first organization and the first user at least one of the following a conditional stakeholder association between the transaction and the second organization in the usage context and a conditional access permission association between the transaction and at least one user representing the second organization.

The third aspect of the present invention is a computer executable method for provisioning a service in a multitenant system comprising a plurality of primary stakeholder organizations a plurality of service provider organizations providing services a plurality of documents and a plurality of services. The method is characterized e.g. in that it comprises steps for establishing in the computer memory a trust relationship between a user representing the primary stakeholder organization and a user representing the service provider organization associating e.g. by the multitenant platform with the context of the trust relationship at least one service to be provided by the service provider organization associating with the trust relationship at least one user representing the service provider organization wherein the user s identity is to be used when executing the service on the documents of the primary stakeholder organization and associating with the trust relationship at least one rule usable for granting the service provider organization the status of a secondary stakeholder to at least some data of at least one document in at least one context. Another aspect of the present invention is an arrangement comprising at least one server computer. The arrangement is adapted to comprise means for performing the steps of at least one of the methods disclosed herein.

Yet another aspect of the present invention is a computer program product stored in a tangible computer readable storage medium. The product is adapted to comprise computer executable instructions for the purpose of performing at least one combination of steps of at least one of the methods disclosed herein.

The server computer comprising a data storage is a source or destination of business transactions e.g. documents e.g. invoices purchase requests purchase orders or contracts. The computer sends receives copies of documents e.g. invoices purchase orders or contracts to from another server computer of the system via a data exchange interface and network . A copy of the sent received documents may reside also in the data storage of the server . There may be any number of server computers in the system.

The server computer is the master data management server of the documents and other data of the system. In a preferred embodiment there may be any number of server computers which together provide the master data management server functionality. The master data is stored in the storage of the server. Advantageously the storage comprises business documents which each are associable with multiple stakeholder organizations e.g. buyer and seller of an invoice and which are accessible by a plurality of users. The organization data and user data are part of the master data and are thus also stored in the storage of the server . In addition to managing the master data of the system the server computer acts as a platform for running a plurality of services related to the master data of the storage . The users may access the master data via a plurality of terminal computers and data communication connections through the application services hosted e.g. by the server computer . In an embodiment the server acts as the manager of the master data and as the provider of master data access control services. The master data may in this embodiment be accessed from other computers through an interface publishing the master data access control services.

The server computer depicts an application server which provides additional services related to the documents organizations and users managed by the master data management system . A copy of at least some of the data of the system may be stored in the storage of the server. There thus may be one copy of a document in the storage and another copy in the storage . In an embodiment the back end application server may provide e.g. invoice automation services e.g. invoice routing services invoice life cycle management services or factoring services. There may be any number of servers in the system. For example there may be separate servers for each service provider. There may also be multiple service providers utilizing the same server. The servers may also be virtual servers. In a preferred embodiment the server has a data exchange interface with the server for the purpose of exchanging document and document related data e.g. document status update events between the servers and .

In the embodiment shown the user is further linked to at least one document via an access permission link relationship . The permission may specify which kind of access the user has to the document. The access permission may be e.g. for a read access or for a read write access. The permission may also contain information about the basis of the permission. One basis for a user to have access to a document may for example be that the same user has access rights to the document or has accessed the document in another system e.g. or in . Another basis for a user to have access to a document may be that another user with whom the user has a trust relationship in a context is allowed to access or has accessed the document in the context of the trust. A permission object may thus be created between a user and a document when another user has accessed or has permission to access the document utilizing trust of the user. Yet another basis for user to have access permission to a document may be e.g. a rule that has been defined in the established trust relationship. For example the rule may specify that the user to whom the trust has been granted has access permission to the same documents to which the grantor of the trust has access permission.

The data objects mentioned herein may be implemented in the memory of a computer e.g. as data objects or in any other manner accessible and modifiable by a processor of the computer. The functional components of various embodiments described herein including steps of various methods may be implemented as instructions executable by the processor of the computer.

In a preferred embodiment the data model of is used for user access authorization purposes in a multitenant system comprising a plurality of organizations and a plurality of documents each document having at least one preferably multiple organizations as stakeholders. If a user wants to represent an organization in a process involving a document the user needs to have established a trust link relationship with the organization either directly or via another user who already has established a trust relationship with the organization for the context of the process. Additionally the user needs to have a permission link to the document and the organization must be a stakeholder of the document .

The documents imported to the collection of documents are analyzed using for example an arrangement shown in . The analysis is needed to establish the stakeholder relationships between organizations and imported documents . The analysis is performed using a document analyzer component . The analyzer inspects the data of the imported document and determines based on its findings which organizations are stakeholders of the document. The inspected data may comprise the content of the document and or meta data including routing data usable by the router related to the document. The content of the document may contain e.g. the name and address information of the sender seller and recipient buyer of an invoice. In an embodiment a specific combination of information may identify two stakeholders. E.g. the seller name specifies the seller but the associated address or other contact information specifies the financing company who performs the invoicing on behalf of the seller. In such case both the seller and the financing company should be added as stakeholders of the document. The meta data of the document may comprise e.g. routing information of the document in a document routing network or some data related to an activity performed on the document.

In a preferred embodiment the stake object between a document and an organization is established only if there is at least one additional data item available that confirms the business relationship between the organizations identifiable in the document. For example sending an invoice document from an organization to another organization may not be a sufficient act alone to make the receiving organization a stakeholder of the document and thus establish a business relationship between the organizations.

The receiving organization may become a stakeholder if the document analyzer e.g. identifies a purchase order document that is associable with the invoice or if the document analyzer identifies an event received from an external system e.g. an invoice processing system that indicates that the invoice has been accepted by the receiving organization as a valid invoice.

In addition to establishing the stakeholder relationships between organizations and documents the document analysis process of an embodiment performed e.g. by the document analyzer component determines the possible usage contexts of the document . The usage context may e.g. indicate which kind of services may be provided for the document. The process of determining the possible usage contexts may utilize e.g. the content of the document or any properties of the stakeholder organizations as input. For example a usage context may require a certain property from the document a certain capability from the application services of the sender and or a certain capability from application services of the receiver. To exemplify further in order to be able to provide a factoring service to an invoice the invoice must contain a discount percentage for quick payment of the invoice and the receiver of the invoice must be able to receive the invoice from a party other than the original sender. The factoring context can thus be associated with an invoice only if it contains the discount percentage and the receiver meets the interface criteria set for factoring services.

According to a preferred embodiment in order for a user to access a document a permission link must have been established between the user and the document. In some embodiments some other applicable condition may be checked when determining access right to the document. shows an exemplary arrangement for establishing the permissions. The arrangement comprises a mapper component which receives information usable for establishing the permission from an access data source . The access data source may be e.g. an application server and in which has a copy of the document and which is capable of providing an application service regarding the document. The access data source sends access data regarding users and documents to the mapper via a data exchange interface . The access data may comprise e.g. access control list of a document or access history data i.e. access log data of the document. Typically an access data item comprises identifiers for a user and a document. The data that comes from the access data source in is specific to the application service and needs to be mapped to the data of the master data management system . For example the user IDs local user IDs of the obtained access data are typically specific to the access data source. Therefore the local user ID must be mapped with the corresponding user ID global user ID of the user of the master data management system. Similarly the document identifier of the back end system in may be different than what is used for the document in the master data management system. The identifiers of the local systems must be mapped with the identifiers of the master data management system by the mapper component before the permission object between the user and document is established. The mapping information is advantageously managed by the master data management system .

A user who has a trust relationship with a first organization may establish a trust relationship with the user who has a trust relationship in the shown embodiment indirectly through trust links with the second organization . The established trust relationship contains information about the context in which the user trusts the user . The trust relationship also contains information about organizations that the users represent while establishing the relationship. In a preferred embodiment the trust relationship that has been established between representatives of two different organizations represents an agreement to share at least some data of at least some documents of organization with organization preferably in the context of at least one service provided e.g. by the organization . The agreement information may be used e.g. when determining secondary stakeholders to a document. For example the ORG may be selected as a secondary stakeholder to a document which already has ORG as a primary stakeholder if the USER has established a trust relationship with USER and the document in question belongs or is applicable to the context specified in the trust relationship .

It is also noteworthy that a single user such as USER may be trusted directly by multiple organizations . For example the USER may have a role in invoicing services e.g. invoice data validation services in both organizations . For this reason both organizations have granted the user rights to represent the respective organizations in the context of invoice management services.

In the example shown there is also another organization ORG who is represented in the master data management system by USER via a trust relationship object that allows user to represent the organization in a context. Advantageously the context is associated with at least one service provided by the organization. In a preferred embodiment the organization is an application service provider who provides services related to documents e.g. invoices to a plurality of organizations . The user has delegated some of the trust he she has received from the organization for a context further to user USER by means of a trust object .

To continue the example further the user representing the organization in a context e.g. invoicing wants to establish a service subscription on behalf of the organization to an application service that belongs to the desired context. The service is provided by the organization . In order for the organization to access the document data required by the service a trust relationship must be established between the user and user for the desired service context e.g. invoice automation services. While the trust relationship is valid the organization may be regarded as a secondary stakeholder of documents where the organization is a primary stakeholder e.g. a sender or receiver of an invoice. In other words the organization may be a secondary stakeholder of a document in a context as long there exists a valid trust relationship for the context between the users and wherein the user represents a primary stakeholder. The trust agreement relationship may comprise or be associated with data selection criteria which define for which subset of the transactions of the primary stakeholder the organization may be considered as a secondary stakeholder. Further the user may use the conditional access permission to access the document . The conditional access permission may be e.g. a copy of the user s permission or a pointer to the permission which is valid if the trust agreement relationship is valid. Now that the access permission exists for the user and stake exists for the organization the access control module may grant the service provided by the organization and used by the user access rights to the document . Should the trust relationship become invalid e.g. via revocation by user or or via expiration the access of service to the document is denied by the access control module.

In an embodiment the conditional stake object and or the conditional permission object may comprise or have access to instructions for adapting the content of the document that is shown to the user representing the organization . For example some data content of the document may be hidden from the user or delivered to the user in an obfuscated form when accessed in the context. The data adaptation instructions may be associated e.g. with the trust relationship established between the organizations and .

The Context Analysis Module analyzes the content and or properties of the documents and their relationships with e.g. organizations for the purpose of identifying whether a certain context e.g. a group category of services is possible for the document . For example the module may analyze if the context of electronic invoice routing services is possible for an invoice that has been received into the database of storage . For such context the received document must be or must be translatable into a format of an electronic invoice and the recipient organization stakeholder of the document must be able to receive and process such invoices.

The Permission Analysis Module comprises functionality for determining if a user is allowed to access a document in general. In a preferred embodiment the user must have both a general permission to access a document and also a permission to represent the organization in the context granted in a trust relationship where the document is to be used.

The Social Network Analysis Module analyses trust relationships between users and organizations . The module is thus able to determine e.g. if a user is permitted to represent an organization in a specified context.

To further elaborate the process of analyzing existence of a context for a document an example about invoice factoring context is provided herein. To determine if a document may be used in the context of invoice factoring service a number of conditions may need to be met. First the document must be an invoice that has a discount percentage for immediate payment. Second there must be a secondary stakeholder relationship in between an organization providing the factoring service and the invoice document . The data e.g. the discount percentage required by the factoring service is described e.g. in the service provider interface description . Third the receiver organization stakeholder of the invoice must be able to receive factored invoices. This ability is described in the receiver interface description . In a further example the receiver is able to receive better service e.g. in form of a better discount from the factoring service provider if the receiver of the invoice is able to send document status update information to the document collection of the database of storage . For example a quick approval and or payment of an invoice may be rewarded by the factoring service provider in the form of a discount.

In a preferred embodiment the document may also have at least one secondary stakeholder. In such embodiment an organization is a secondary stakeholder to a document preferably in a context of at least one service if a trust relationship exists between a user representing the primary stakeholder of the document and a user representing the second organization. The flow chart of depicts an exemplary method of identifying such stakeholders utilizing the social network of an embodiment of the present invention. In step a document is selected for the process. The document may be e.g. a document that was received in the process described in . Next in step a previously identified primary stakeholder is selected from the list of primary stakeholders of the document. Next in step possible contexts e.g. services or classes of services available to the document of the document are identified. In a preferred embodiment the identification process inspects the content of the document and or the capabilities of the already known stakeholders of the document. For example a document may belong to an electronic invoice routing context if the document can be interpreted as an electronic invoice i.e. it is already one or it can be translated into one and the receiver of the document i.e. a primary stakeholder is capable of receiving electronic invoices. In step at least one second organization is identified whose representative user i.e. user who is allowed to represent the organization has a trust relationship in with the representative user of the primary stakeholder in at least one identified context. If the trust relationship comprises or is associated with data selection criteria the method checks that the document meets those criteria. Those documents that fail to meet the criteria are ignored. Finally in step the second organization is granted a secondary stakeholder status to the document in the context specified in the trust relationship. For example an organization providing invoice routing services may be granted a secondary stakeholder status to the document in the context of routing of electronic invoices. In a preferred embodiment the secondary stakeholder status is valid as long as the chain of trust between the primary and secondary stakeholder organizations involving the trust relationship in is a valid one.

According to a preferred embodiment trust relationships may also be established between organizations by establishing a trust relationship e.g. in between users representing their respective organizations. Such trust relationships may be regarded as agreements between organizations. In a preferred embodiment such agreement authorizes an organization to act in a context specified in the agreement as a secondary stakeholder for documents meeting selection criteria specified in the agreement. depicts a simplified example of a method for establishing trust between two organizations for a context. First in step a first user representing via a trust relationship an organization e.g. a primary stakeholder of a plurality of documents in the master data management system is authenticated in the system. Next a second user who represents the second organization in the system is selected . In a preferred embodiment both the first and the second user must have representation rights to represent their respective organizations in the context in which the trust having the data sharing agreement between the organizations is to be established. Those representation rights are specified in the trust relationship objects between the users and their respective organizations. Now a trust link in may be established between the first and the second user. In this case the trust link specifies an agreement that allows the second organization to act in the context specified in the agreement as a secondary stakeholder to documents that meet criteria specified in the agreement. The trust link of agreement type thus comprises information about at least one context in which the users and their respective organizations trust each other. Furthermore the trust link of agreement type also comprises information about data selection criteria that specify the document data that is made available to the second organization. Such data selection criteria may form e.g. at least one stakeholder status grant rule which thus specifies conditions under which the second organization may be granted the status of secondary stakeholder in regarding a document. The trust link may also be amended with rules that specify how a user e.g. the second user representing the second organization is authorized in to access a document in while the trust link is a valid one.

In a preferred embodiment the step of granting or denying access to the document or the step of actual use of the granted access is followed by a step of creating and persisting in the memory of a computer a log entry about the authorization action. The log entry may comprise any information used in the process of determining the access rights including information about users whose trust was part of the chains of trust between user and secondary stakeholder organization and or between user and primary stakeholder organization verified e.g. in step . At least one of the users may be other than the user to whom access was granted. In an embodiment information about any or all of the trust objects of the entire chain of trust from organization to organization may be included in the log entry. Those users may be granted access to the created log entry e.g. for the purpose of enabling them to monitor the use of their trust and to take action if necessary. Allowing an individual user to monitor the use of his her trust in the system may reduce even significantly if not almost entirely the need of separate access right administration in the system. In an embodiment the method of the present invention comprises means for e.g. statistically analyzing the created log entries e.g. for the usage of the trust and alerting at least one user e.g. higher in the chain of trust if e.g. the usage pattern of the trust granted by the user to other users changes in a significant manner.

The computer system is shown comprising hardware elements that can be electrically coupled via a bus or may otherwise be in communication as appropriate . The hardware elements can include one or more processors communication subsystems one or more input devices which can include without limitation a mouse a keyboard and or the like and one or more output devices which can include without limitation a display device a printer and or the like. The computer system may further include and or be in communication with one or more storage devices . The computer system also can comprise software elements shown as being located within the working memory including an operating system and or other code such as one or more application programs which may comprise computer programs of the described embodiments and or may be designed to implement methods of the described embodiments of a computer method of the embodiments as described herein.

At least some embodiments include a program storage device readable by a machine tangibly embodying a program of instructions executable by the machine to perform a computer executable method of an embodiment of the present invention.

Although specific embodiments have been described and illustrated the embodiments are not to be limited to the specific forms or arrangements of parts so described and illustrated.

