---

title: System and processor implemented method for improved image quality and enhancement
abstract: System and method for image improvement comprising providing a plurality of frames; determining the value of each pixel within each frame to form a first array of pixel values; selecting pixel locations within a frame; summing the intensity values of those pixels; multiplying the pixels in the first array by the summation of intensity values for selected pixel locations to produce a first product array for each frame; summing the first product arrays; determining the average of first product arrays; determining the average value of each pixel for the plurality of frames to form an a second array of averaged pixel values; determining the average of the summation of intensity values for the selected pixel locations; multiplying the array of average pixel values and the average of the summation of intensity values to form a second product array; subtracting the second product array from the average of first product arrays.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09064315&OS=09064315&RS=09064315
owner: The United States of America as represented by the Secretary of the Army
number: 09064315
owner_city: Washington
owner_country: US
publication_date: 20131121
---
This application is a continuation in part CIP application of and claims priority to U.S. patent application Ser. No. 14 022 148 filed Sep. 9 2013 herein incorporated by reference in its entirety. This application is a continuation in part CIP application of and claims priority to U.S. patent application Ser. No. 13 838 249 filed Mar. 15 2013 to be issued as U.S. Pat. No. 8 594 455 on Nov. 26 2013 herein incorporated by reference in its entirety. This application is a also a continuation in part CIP application of and claims priority to U.S. patent application Ser. No. 13 247 470 filed Sep. 28 2011 now U.S. Pat. No. 8 532 427 issued Sep. 10 2013 herein incorporated by reference in its entirety. This application also claims priority to U.S. Provisional Application No. 61 834 497 entitled System and Method for Image Enhancement and Improvement filed on Jun. 13 2013 herein incorporated by reference.

The invention described herein may be manufactured used and or licensed by or for the United States Government without the payment of royalties.

A computer program listing appendix has been submitted via EFS Web labeled as codeappendixA1A8 containing Appendices A1 A8 and having a size of 15.9 kilobytes. The material contained in the Appendices A1 through A8 is incorporated by reference herein as though rewritten fully herein.

Image processing is a form of signal processing for which the input is an image such as a photograph or video frame and the output is either image or a set of characteristics or parameters related to the image. Forms of image processing include for example but are not limited to face detection feature detection medical image processing computer vision extraction of information from an image by a computer microscope image processing etc.

Image resolution relates at least in part to the detail that an image possesses. For satellite images generally speaking an image is considered to be more detailed as the area represented by each pixel is decreased. As used herein the term images include digital images electronic images film images and or other types of images. Cameras taking pictures from great distances such as aerial photos may not obtain detailed information about the subject matter. Consequently subtle or detail information may not present in the images.

An image may be captured by for example a monochrome camera a single charge coupled device CCD or complementary metal oxide semiconductor CMOS sensor and the image is formed via the light intensity projected onto the sensor therein.

In U.S. Pat. No. 7 536 012 to Meyers et al. hereby incorporated by reference entitled Entangled Quantum Communications and Quantum Imaging there is disclosed inter alia a quantum imaging system see Col. 8 line 50 et seq. in which the sender sends an image of an image mask using entangled photons and coincidence measurements to a receiver. The system differs from the conventional quantum imaging set up in that polarization beam splitters are placed in the path of the photons to provide two channels for each of the sender and the receiver as shown in FIG. 4 of the 012 patent. On the sender s side a photon beam is split by a beam splitter into first and second sub beams. The first sub beam is passed through a mask 164 which creates the image which is directed through a beam splitter 166 to bucket detectors 168 170 which are operatively connected to a coincidence circuit. The second sub beam is transmitted to the receiver without ever passing through the mask 164. In the embodiment of FIG. 4 of the 012 patent the receiver receives the second sub beam and an image of the mask is constructed based upon photon coincident measurements composited from two photon detectors 168 and 170 also referred to a bucket detectors. The image of a mask is transmitted via coincidences and the photons transmitting the image have never encountered the image mask. Because of the somewhat puzzling nature or circumstances of the transmission the process has been dubbed by some as Ghost Imaging while others have explained the effects as resulting from the quantum properties of light.

determining the value of each pixel at each location within each frame to form a first array of pixel values for each frame 

multiplying the pixels in the pixel value array by the summation of intensity values for the selected pixel locations to produce a first product array for each frame 

determining the average of first product arrays by dividing the sum of first product arrays by the number of frames in the plurality of frames 

determining the average value of each pixel at each pixel location for the plurality of frames to form an a second array of averaged pixel values for the plurality of frames 

determining the average of the summation of intensity values for the selected pixel locations for the plurality of frames 

multiplying the array of average pixel values and the average of the summation of intensity values for the selected pixel locations for the plurality of frames to form a second product array 

subtracting the second product array from the average of first product arrays to provide an improved image of the region of interest.

Optionally the selecting of pixel locations comprises selecting different pixel locations in different frames and wherein the pixel locations are selected based upon predetermined criteria. Optionally a color may be used for the bucket value selected pixels at predetermined locations which is different from the color selected for the pixels in the pixel value array. Optionally the frames of a region of interest may have been influenced by the effects of turbulence or taken in bad or changing weather or influenced by the effects of low light. Optionally the inputted frames may be scanned images or radiation emitting images.

at least one memory operatively associated with the at least one processor adapted to store frames of data taken of a region of interest each frame of data comprising an array of pixels each pixel having a pixel value the at least one processor operating to process a plurality of frames of a given region of interest by 

determining the value of each pixel at each location within each frame to form a first array of pixel values for each frame 

multiplying the pixels in the pixel value array by the summation of intensity values for the selected pixel locations to produce a first product array for each frame 

determining the average of first product arrays by dividing the sum of first product arrays by the number of frames in the plurality of frames 

determining the average value of each pixel at each pixel location for the plurality of frames to form an a second array of averaged pixel values for the plurality of frames 

determining the average of the summation of intensity values for the selected pixel locations for the plurality of frames 

multiplying the array of average pixel values and the average of the summation of intensity values for the selected pixel locations for the plurality of frames to form a second product array 

subtracting the second product array from the average of first product arrays to provide an improved image of the region of interest.

determining the value of each pixel at each location within each frame to form a pixel value array for each frame the pixel locations being arranged horizontally and vertically 

for each of the plurality of first frames creating a shifted frame in which the pixel values are shifted horizontally and or vertically from the first frame pixel values 

computing the average frame intensity for the plurality of first frames computing the average shifted frame intensity for the plurality of shifted frames 

determining the frame intensity deviation for each first frame by subtracting the average frame intensity for the plurality of first frames from the frame intensity for each first frame 

determining the shifted frame intensity deviation for each shifted frame by subtracting the average shifted frame intensity for the plurality of shifted frames from the frame intensity for each shifted frame 

creating a first subgroup of all locations of pixel values where both the first frame intensity deviations and the shifted frame intensity deviations are positive 

creating a second subgroup of all locations of pixel values where the first frame intensity deviations are positive and the shifted frame intensity deviations are negative 

creating a third subgroup of all locations of pixel values where the first frame intensity deviations are negative and the shifted frame intensity deviations are positive 

creating a fourth subgroup of all locations of pixel values where the first frame intensity deviations are negative and the shifted frame intensity deviations are negative 

for each subgroup multiplying the first frame intensity deviations by the shifted intensity deviations to create first product arrays for each subgroup 

summing the first product arrays together and dividing by the total number of frames to obtain a second product array for each subgroup 

Optionally when the first frame intensity deviations or the shifted frame intensity deviations have zero intensity deviations they are grouped in either the first group of all locations of pixel values where both the first frame intensity deviations and the shifted frame intensity deviations are positive or the second subgroup of all locations of pixel values where the first frame intensity deviations are positive and the shifted frame intensity deviations are negative or to both subgroups or omitted. Optionally all second product arrays are combined after reversing the sign of the negative valued second product arrays to generate an enhanced image. Optionally all second product arrays are combined to generate an enhanced image. The frames may comprise frames influenced by the effects of low light or the frames may be in different colors or comprise images of an emitting target.

These and other aspects of the embodiments herein will be better appreciated and understood when considered in conjunction with the following description and the accompanying drawings. It should be understood however that the following descriptions while indicating preferred embodiments and numerous specific details thereof are given by way of illustration and not of limitation. Many changes and modifications may be made within the scope of the embodiments herein without departing from the spirit thereof and the embodiments herein include all such modifications.

The embodiments herein and the various features and advantageous details thereof are explained more fully with reference to the non limiting embodiments that are illustrated in the accompanying drawings and detailed in the following description. Descriptions of well known components and processing techniques are omitted so as to not unnecessarily obscure the embodiments herein. The examples used herein are intended merely to facilitate an understanding of ways in which the embodiments herein may be practiced and to further enable those of skill in the art to practice the embodiments herein. Accordingly the examples should not be construed as limiting the scope of the embodiments herein.

Rather these embodiments are provided so that this disclosure will be thorough and complete and will fully convey the scope of the invention to those skilled in the art. Like numbers refer to like elements throughout. As used herein the term and or includes any and all combinations of one or more of the associated listed items.

It will be understood that although the terms first second etc. may be used herein to describe various groups subgroups elements components regions layers and or sections these groups subgroups elements components regions layers and or sections should not be limited by these terms. For example when referring first and second groups or subgroups these terms are only used to distinguish one group subgroup element component region layer or section from another group subgroup region layer or section. Thus a first group subgroup element component region layer or section discussed below could be termed a second element component 

The terminology used herein is for the purpose of describing particular embodiments only and is not intended to limit the full scope of the invention. As used herein the singular forms a an and the are intended to include the plural forms as well unless the context clearly indicates otherwise. It will be further understood that the terms comprises and or comprising when used in this specification specify the presence of stated features integers steps operations elements and or components but do not preclude the presence or addition of one or more other features integers steps operations elements components and or groups thereof.

Unless otherwise defined all terms including technical and scientific terms used herein have the same meaning as commonly understood by one of ordinary skill in the art to which this invention belongs. It will be further understood that terms such as those defined in commonly used dictionaries should be interpreted as having a meaning that is consistent with their meaning in the context of the relevant art and will not be interpreted in an idealized or overly formal sense unless expressly so defined herein.

The present invention provides a method and system for the enhancement of images using the quantum properties of light. An embodiment of the present invention increases the image quality of an object or scene as seen by a detector. When a low quality detector is aimed at an object a high quality image is generated using the quantum properties of light. A low quality detector picks up quantum information on the object shape and its temporal relations to reference fields. The reference fields may be recorded by the same imager CCD camera etc. that acts as a bucket detector that is it does not necessarily contain spatial information . Current imaging methods are limited to the quality of the detector looking at the object being imaged. A preferred embodiment generates an improved quality image of the object without the object being imaged in high resolution directly. The preferred method may be used in connection with photographs taken during turbulent conditions.

An alternate embodiment comprises computing the average overall intensity of a plurality of frames and arranging the frames into two sets. A first set contains the frames having frame intensities greater than the average overall intensity for all frames the average overall intensity being the summation of the intensities for frames divided by the number of frames. The second set containing frames having an overall intensity less than the average overall intensity. Each of the first and second sets is processed by repeating steps a through i . The result obtained using the second set of frames is then subtracted from the result obtained using the first set of frames to create the image.

Yet another embodiment includes a method for image improvement that comprises providing a series of frames of a given region of interest determining the value of each pixel within each frame to form a first array of pixel values determining the integral of pixel values of each frame to form a second array of overall frame integrals partitioning the first array into two sets based on a predetermined criteria partitioning the second array into two sets based on a predetermined criteria using the first and second sets of the first and second arrays to compute a conditional product term for each of the four combinations of the first and second sets of the first and second arrays and combining the conditional product terms to provide an improved image of the region of interest.

And yet a further embodiment includes a method for image improvement comprising providing a series of frames of a given region of interest determining the value of each pixel at each location within each frame to form a first array of pixel values for each frame determining the overall intensity of each frame determining the product of the overall intensity and the array of pixel values for each frame determining the sum of the products by adding together the products of the overall frame intensity and first array of pixel values for each frame determining the average of the sum of products by dividing the sum of products by the number of frames in the series of frames determining the average value of each pixel at each pixel location for the series of frames to form a second array of average pixel values determining the average overall frame intensity for the series of frames determining a second product of the second array of average pixel values and the average overall frame intensity subtracting the second product from the first product to provide an improved image of the region of interest partitioning the improved image into at least two partitions based on a predetermined criteria mathematically operating upon the partitioned improved image to increase image contrast or image clarity.

The current invention utilizes the ability to increase the image quality of an object as seen by a detector using methods relating to the Quantum nature of light. For example when a low quality detector is aimed at an object then a high quality image may be generated based on the quantum properties of light. The high quality image is generated even in the presence of turbulence which might otherwise be disruptive to image clarity. Scattering of quantum particles such as photons off the object carries information of the object shape even when the quantum particles such as photons do not go directly into the camera or detector. An additional low quality bucket detector such as for example a detector lacking spatial information records quantum information on the object shape and its temporal relations to collocated reference fields. The reference fields may be recorded by the same type of imager CCD Camera etc. that looks at the object and which act like bucket detectors in U.S. Pat. No. 7 536 012 referenced in the foregoing.

Current imaging methods are limited to the quality of the detector looking at the object being imaged. This invention enables an image quality improvement by using techniques developed in the course of Ghost Imaging experiments and includes but is not limited to methods to generate a high quality image of the object without the object being imaged in high resolution directly i.e. low resolution images may be enhanced thereby enabling high quality imaging when only low quality images of the object are imaged directly.

Imaging of a scene or subject is typically accomplished by mapping an illuminated scene or subject onto an image sensor where there is a light measurement component such as film CCD or other sensing device. Light consists of a plurality of photons that may be measured. The illuminating light may be from one or more light sources either natural or artificial or both. Common sources of light include for example the sun coherent incoherent or partially coherent light entangled photons infrared radiation emitted by atoms and molecules accelerating charges lasers light bulbs light emitting diodes LEDs chaotic laser light pseudo thermal light generated by passing laser light through a rotating ground glass or other scattering material stars moons clouds planets space objects fluorescent lamps electrical discharges plasmas bio luminescence and stimulated emission. Although it is not absolutely necessary a lens is often used to perform this mapping. Imaging is often susceptible to adverse affects such as obscuration turbulence low signal to noise ratio such as when operating in low light conditions jitter and noise. Often this type of imaging is referred to as First Order imaging due to the time ensemble or mixed time ensemble averaging of the sensors involved. For instance a first order light intensity image I x y t can be produced by light interacting with a sensor for some time t i.e. shutter or integration time. A single instance of this may be referred to as a frame . Multiple frames of images I x y t may be averaged over some or all of the frames in a sequence of frames to generate an averaged first order image of the subject where indicates an ensemble average. A second order image involves averages of products of two first order intensity or normalized intensity measurements. An enhanced image results from the subtraction of products of averages of first order intensities from the average of the product of the intensities. An intensity or normalized intensity can be decomposed into a mean plus a deviation from the mean or average I .

Where Iand Iare intensities or normalized intensities measured by sensors 1 and 2 I Iand I Iwith Iand Ibeing functions of space and time i.e. x y t. is the ensemble average of intensity or normalized measurements of sensor 1 and Iis the deviation from the mean for the intensity or normalized intensity measurements of sensor 1. is the ensemble average of intensity or normalized measurements of sensor 2 and Iis the deviation from the mean for the intensity or normalized intensity measurements of sensor 2. The deviation is often called a fluctuation.

Mathematically the second order enhanced image can be described by . Simplifying this expression yields .

As an example Iand Imay refer to intensities measured by at least two sensors where one of the sensors measures spatial information of the light I coming from the scene or subject the Reference sensor and the other sensor measures a quantity representative of the intensity I coming from the scene or subject i.e. a the bucket sensor. One of the sensors may be a virtual sensor wherein for instance the representative intensity coming from the scene or subject is comprised of spatially integrating all or a selected subset of pixels on a CCD or CMOS camera or even consist of a single pixel from a CCD or CMOS camera. The enhanced image is contained in which has a function like correspondence between points on the object and points on the image sensor and is largely unaffected by the degrading effects of turbulence obscuration low signal to noise ratio such as when operating in low light conditions jitter and noise. See for example Meyers et al. Turbulence free ghost imaging Appl. Phys. Lett. 98 111115 2011 herein incorporate by reference.

A preferred method for practicing the present invention may be correlated to the mathematical representations as follows. Expressed using the terms Iand I a preferred method for image improvement comprises inputting a series of frames of an image determining the value of each pixel at each location within each frame to form a pixel value array for each frame summing the pixel values in each frame to obtain the frame intensity for each frame correlates to determining I multiplying the pixels in pixel value array by the frame intensity to produce a frame intensity multiplied pixel value array correlates to determining the product II summing the frame intensity multiplied pixel value arrays together and dividing by the number of frames to obtain an average of the frame intensity multiplied pixel value arrays correlates to determining using the pixel value arrays creating an array of average pixel values correlates to determining determining the average frame intensity for the series of frames correlates to determining multiplying the array of average pixel values by the average frame intensity for all of the inputted frames correlates to the product and subtracting the array of average pixel values multiplied by average frame intensity from the average of the frame intensity multiplied pixel value arrays correlates to to provide an array of modified pixel values to form an improved image second order image which from the previously expresses mathematical equations correlates to the equation .

Other preferred methods may include the normalizing of the intensity to produce an enhanced image. There are several ways to normalize intensity. One way is to divide the Reference pixel intensity values by a non zero value bucket intensity J I I. This normalization would give J Jand I Iwith Jand Jbeing functions of space and time i.e. x y t. Where Jand Iare normalized intensities and intensities measured by sensors 1 and 2. is the ensemble average of intensity or normalized measurements of sensor 1 and Jis the deviation from the mean for the normalized intensity measurements of sensors 1 and 2. is the ensemble average of intensity or normalized measurements of sensor 2 and Iis the deviation from the mean for the intensity or normalized intensity measurements of sensor 2. The deviation is often called a fluctuation.

Mathematically the second order enhanced image can be described by . Simplifying this expression yields rearranging terms yields wherein the enhanced image is contained in .

The enhanced image may be normalized by the product of the standard deviations of Iand Ito generate an enhanced image that displays the correlation of Iand I. Other alternative ways to normalize the enhanced image include dividing or by the product or respectively. A preferred embodiment of the current invention would comprise the subject area illumination being generated by one or more light sources which can be internal external or a mixture of external and internal light sources. An example of an external light source would be the sun coherent incoherent or partially coherent light illuminating the subject area generated by natural or artificial means indoors or out of doors propagating through any transmissive or partially transmissive media such as the air water or biological tissue. An example of an internal light source would be the subject emanating light in the infrared given off by atoms and molecules. Light received may be reflected scattered or emanated from the subject into at least one first receiver at predetermined time intervals. Light may be received at the at least one second receiver at corresponding time intervals from the light source which may be reflected or partially reflected from the subject and contains spatial information. The first and second receivers may be selected from for example one or more arrays of pixels from one or more cameras imagers CCDs etc. In a preferred embodiment the measured values are transmitted from the first and second receivers to the at least one processor. The measured values of the at least one first receiver are then correlated with the spatially resolved measurements of the at least one second receiver at the corresponding intervals of time. A first image of the subject is then created based upon the correlated measured values and spatial information by combining the spatial information from at least one second receiver at predetermined intervals of time with the measured values from at least one first receiver at the corresponding intervals of time. An enhanced second image of the subject is generated by removing the blurred distorted or noisy averaged first order image part from the first image. The first order image part may be removed by subtraction or other equivalent mathematical operation.

It is to be appreciated that the methods and techniques described in this invention can be applied to microscopy. Microscopy of biological samples in particular can be degraded by the transmission and scattering of light propagating through scattering and absorbing media that can significantly degrade the quality of the image. It is to be appreciated that substituting a microscope objective for a telescope as described in certain embodiment only alters the focal length of the optical system and does not affect the image enhancement properties of this invention.

Another embodiment would entail generating enhanced images using intensity products where more than two intensity measurements are available. This is especially useful for when the intensity deviations do not follow Gaussian statistics. This would involve simultaneous measurements of three or more sensors at a time. Our method would be applied to generate enhanced images of the form . . . 

This has application to the investigation of turbulence finding of non classical photon behavior and as a research tool exploring higher order correlation statistics the investigation of the fundamental nature of quantum physics such as non local correlations Bell inequalities and EPR effects.

Referring now to in accordance with one preferred embodiment in Box a series of frames are inputted into the memory or input of a processor or image processor. The frame may be composed on a plurality of pixels typically in a two dimensional 2D array that together form an image. Exemplary frames may be electronic image data such a TIFF or JPEG file. As used herein the terminology processor or image processor as used in the following claims includes a computer multiprocessor CPU minicomputer microprocessor or any machine similar to a computer or processor which is capable of processing algorithms. The frames may comprise photographs of the same region of interest. The region of interest may be a scene landscape an object a subject person or thing. In Box the frame data or value of each pixel at each pixel location is determined for a frame. In Box the overall intensity of the frame is determined. The overall intensity correlates to a bucket value determination in that overall intensity value does not comprise spatial information. Instead it correlates to the summation of the light intensity of a frame. In the case of a picture the overall intensity correlates to the sum of the reflected illumination. In the case of an electronic display formed by pixels the overall intensity is the summation each pixel value at each pixel location within a given frame. At Box the values in Box are multiplied by the value determined in Box . Box represents the Frame Data Intensity Product for the frame. Inasmuch as the Frame Data is an array of pixel values the Frame Data Intensity Product is also an array of values. At Box the products of Box Frame Data Intensity Product are repeated for each frame in a selected plurality of frames. As an example one hundred frames may be selected. At Box the summation of the Frame Data Intensity Products for the plurality of frames determined in Box is divided by the number of frames such as for example one hundred to determine the Frame Data Intensity Product Average for the plurality of frames. As noted in Box this Product Average is an array containing pixel values at each pixel location within the frame.

Box represents the multiplication of Boxes and to form the Average Frame Data Average Intensity Product which is an array. As shown in the bottom portion of the Average Frame Data Average Intensity Product is subtracted from the Frame Data Intensity Product Average to form the refined image of Box .

It is postulated that the preferred methodology in effect subtracts out or negates the effects or errors due to the effects of turbulence or the like. Most fluctuations caused by turbulence occur at the edges of objects. The algorithm focuses on the edges of letters objects etc. to refine the image edges.

In the lower portion of note that Box A is repeated as shown by the arrow. In Box A the average frame data or average value of each pixel at each pixel location is determined for the first set of frames by averaging the pixel values at each pixel location for the first set of frames to determine an array of average pixel values for the first set. In Box A the average overall intensity for the first set of frames is determined. This is similar to the determination of Box A except that Box A is a determination for a frame and Box A is an average for a plurality of frames. As stated with respect to Box A the overall frame intensity correlates to a bucket value determination in that overall intensity value does not comprise spatial information. Instead it correlates to the summation of the light intensity of a frame. In the case of a picture the overall frame intensity correlates to the sum of the reflected illumination. In the case of an electronic display formed by pixels the overall intensity is the summation each pixel value at each pixel location within a given frame. The average overall intensity is the summation of the values for a plurality of frames divided by the number of frames.

Box represents the multiplication of Boxes A and A to form the Average Frame Data Average Intensity Product which is an array. As shown in the bottom portion of the Average Frame Data Average Intensity Product is subtracted from the Frame Data Intensity Product Average to form the refined image of Box A.

The steps are comparable in effect to the similarly numbered frames in and as denoted by the addition of a letter B suffix to the correlating element number. In Box B the frame data or value of each pixel at each pixel location is determined for a frame. In Box B the overall intensity bucket value of the frame is determined. In the case of a picture the overall intensity correlates to the sum of the reflected illumination. In the case of an electronic display formed by pixels the overall intensity is the summation each pixel value at each pixel location within a given frame. At Box the values in Box B are multiplied by the value determined in Box B. Box B represents the Frame Data Intensity Product for the frame. Inasmuch as the Frame Data is an array of pixel values the Frame Data Intensity Product is also an array of values. At Box B the products of Box B Frame Data Intensity Product are repeated for each frame in a second set of frames. At Box B the summation of the Frame Data Intensity Products for the plurality of frames determined in Box B is divided by the number of frames such as for example one hundred to determine the Frame Data Intensity Product Average for the second set of frames. As noted in Box B this Product Average is an array containing pixel values at each pixel location within the frame.

In the lower portion of note that Box B is repeated as shown by the arrow. In Box B the average frame data or average value of each pixel at each pixel location is determined for the first set of frames by averaging the pixel values at each pixel location for the first set of frames to determine an array of average pixel values for the first set. In Box B the average overall intensity for the second set of frames is determined. This is similar to the determination of Box B except that Box B is a determination for a frame and Box B is an average for a plurality of frames. As stated with respect to Box B the overall frame intensity correlates to a bucket value determination in that overall intensity value does not comprise spatial information. Instead it correlates to the summation of the light intensity of a frame. In the case of a picture the overall frame intensity correlates to the sum of the reflected illumination. In the case of an electronic display formed by pixels the overall intensity is the summation each pixel value at each pixel location within a given frame. The average overall intensity is the summation of the values for a plurality of frames divided by the number of frames.

Box represents the multiplication of Boxes B and B to form the Average Frame Data Average Intensity Product which is an array. As shown in the bottom portion of the Average Frame Data Average Intensity Product is subtracted from the Frame Data Intensity Product Average to form the refined image of Box B.

Another alternate preferred method of the present invention applies the use of techniques from the field of Compressive Imaging or Compressive Sensing. In this embodiment the bucket values for each frame of the series is computed by integrating the values of the pixels within each frame. This bucket data is stored for use per Eq. 5 below. The pixel values for each frame of the series are stored as a row in a matrix J. The improved image is computed by application of a Compressive Imaging inversion algorithm such as GPSR to solve Eq. 6. The improved image is returned in the matrix R.

Virtual Ghost Imaging refers to an imaging process which creates an enhanced image from a series of frames of an imaging subject based on a process related to Ghost Imaging.

Virtual Ghost Imaging in the current instance applies the following process to a series of frames of an imaging subject. Inasmuch as the overall frame intensity value determined in Box correlates to the bucket value a brief discussion of ghost imaging and reflective ghost imaging follows. Typically ghost imaging uses two detectors one to observe the light source and the other single pixel or bucket detector to observe the light scattering and reflecting from the target object. 1 where denotes an ensemble average. If Iand Iare recorded from the same target object Imay be computed as source 2 Basic Virtual Ghost Imaging

Results of an experiment conducted through turbulence using chaotic laser or pseudo thermal light are presented in . shows the same target computed with data taken using a typical two path configuration.

A relatively new mathematical field named Compressive Sensing CS or Compressive Imaging CI can be used to good effect within the context of ghost imaging. The first use of compressive techniques in the context of Ghost Imaging was performed by the Katz group see 0. Katz et al. Compressive Ghost Imaging Appl. Phys. Lett. 95 131110 2009 hereby incorporated by reference who demonstrated a ghost like imaging proposal of Shapiro see J. Shapiro Computational Ghost Imaging Phys. Rev. A 78 061802 R 2008 . Their demonstration was limited to a transmission object.

More recently the present inventors have performed experiments of this nature using reflection objects.

The inventors use of CS and CI is based on finding approximate solutions to the integral equations using the GPSR mathematical methodology where 3 and 4 is the object reflectance. The term J is a matrix where the rows are the illumination patterns at time k and the B vector 5 represents the bucket values. In cases where the system is underdetermined too few B then Lconstraints are applied to complete the system and sparseness is

Compressive imaging CI results for the ARL target are presented using Eq. 2 and varying the parameter. is an example of a result where is too large and most of the pixel values are driven to 0. One can sense that the letters ARL are in the figure. Decreasing to a value of 5e7 shown in more portions of the ARL letters appear. When is set to 2.5e7 the R is quite clear in but the appearance of the A and the L are still degraded. Continuing with the examination of the effect of the parameter the value of is set to 1e7. These results are shown in .

Finally as a lower image quality bound is set to equal 1e6. The ARL presented in is quite degraded. These GPSR calculated Virtual Ghost imaging results highlight the sensitivity of the calculations to an external parameter which has no connection to the underlying physics.

Results were computed using Eq. 1 subject to the self bucketing concept of Eq. 2. These results are generated from a few hundred shots of the Air Force resolution target imaged at a 100 m distance through turbulence.

A single image from this data set is presented in . This image illustrates the distorting effect of turbulence on imaging. A simple averaging of 335 frames of the dataset that was performed is shown in . This average image has some better qualities that the single frame image of but one can still only resolve the coarser scale features of the Air Force target.

Using the self bucket ghost imaging concept on this dataset an initial result using only 2 frames of the dataset is displayed in . Some of the edges in this image are very distinct and superior to areas in either the instantaneous or the average images. When the entire dataset is used as presented in the results are striking. In particular the 4 and 5 on the right side of the target are legible and the small horizontal and vertical bars to the left of the numbers are distinct whereas those regions in the instantaneous and average images are simply blurs.

In a preferred embodiment there is provided a method to partition the values in the measured data sets i.e. frames into two or more groups for the frame data reference fields and overall frame intensities bucket values . These groups are then used to compute products or cross correlations between the different groupings. These individual product terms can be mathematically combined via addition and or subtraction processes to generate improve images of the target or scene. This method further adapts the techniques presented in the parent application. One key advantage to this method is that it is possible with the following embodiments to generate all positive valued images and largely eliminate background and noise effects. Other advantages include the ability to operate on a computed partitioned image using functions such as logarithms and exponentials to further increase contrast or better identify objects and information on their properties.

The following embodiments are predicated on the appreciation that other operations involving the partitioned sets of above average and below average measurements are beneficial to improve image quality in adverse conditions such as turbulence. These operations would include but are not limited to cross correlations between above average bucket overall frame intensities and below average reference fields. Typically four correlation types are available when data is partitioned into two distinct sets such as above the average and below the average values. In a non normalized form this can be written as

The product terms that comprise a particular Rare computed conditionally. The Rcan be called conditional product terms. For instance Rmay be computed for the set of pixel values Ithat are above the mean for those frames of data with bucket values Ithat are above the mean. For example 

Another alternative embodiment may include computing a Gimproved image. This improved image is then partitioned into pixels that are for example above the spatial mean Gand pixels that are below the spatial mean G. These alternative positive negative Gpartitioned improved images can display higher contrast and can be further operated upon by using mathematical operations such as logarithms to increase the dynamic range. It is to be recognized that other partitions are possible to tailor results needed for specific applications.

Another alternative embodiment may include computing a Rcorrelation image by calculating the correlation coefficient between the Iand Ipartitions where the Iand Iare not aligned in time or frame. For instance at a particular pixel i j there may be 10 frames in which that pixel is above the mean value of that pixel for all frames and there may only be say 5 frames for which the Ivalues is above the mean of I. A correlation coefficient may be computed between these two sets of data using 

As an example for imaging measurements of pixel values and bucket values that have been grouped into two sets each of above and below their respective averages there is a total of 80 possible ways to present for output the results of the computed conditional product terms. For instance each conditional product term may be presented for display individually with either a positive or negative sign. Thus individually for the four conditional product terms there is a total of 8 ways to present them for display. Combinations of two conditional product terms with signs allows for 24 options to present for display combinations of three conditional product terms allows for 32 and combinations of all four conditional product terms allows for 16 ways to present for output and display.

Continuing in in Box P if overall intensity deviation is positive for a given frame the frame is grouped into a first group P. In Box P for each frame in the first group select all pixels in each frame with a positive deviation from the array of average pixel values and place in a first subgroup PP.

In Box P for each frame in the first group select all pixels in each frame with a negative deviation from the array of average pixel values and place in a second subgroup PN. In Box P for each frame in the first group select all pixels in each frame with a zero deviation from the array of average pixel values and place in a either the first or second subgroup PP or PN .

Continuing in in Box N if the overall intensity deviation is negative for a given frame the frame is grouped into a second group N. In Box N for each frame in the second group select all pixels in each frame with a positive deviation from the array of average pixel values and place in a third subgroup NP. In Box N for each frame in the second group select all pixels in each frame with a negative deviation from the array of average pixel values and place in a fourth subgroup NN. In Box N for each frame in the second group select all pixels in each frame with a zero deviation from the array of average pixel values and place in a either the first or second subgroup NP or NN . In Box for each pixel value for each frame in the each subgroup multiply each pixel value by overall intensity deviation for that frame to obtain a first product array or conditional product array for each frame in the subgroup PN PP NP NN . In Box for each subgroup add up the product arrays in the subgroup and divide by the number of frames in the subgroup to obtain a second or average conditional product array for each subgroup. In Box one of more second product arrays is selected to generate an image.

The method proceeds to . In Box a series of frames are entered into the memory or input of a processor or image processor. The frames may comprise photographs of the same region of interest. The region of interest may be a scene landscape an object a subject person or thing. These frames are the same frames used in Box and may be reused if they are still available in the memory or input of the processor or image processor. In Box the Average Frame Data is determined by computing the average value of each pixel at each pixel location for the plurality of frames. In Box the Deviation Frame Data is determined by subtracting the Average Frame Data from the Frame Data for all pixels in each frame for the plurality of frames.

The method proceeds via path to which shows how to generate a third set of data which is referred to here at SET 3. SET 3 data includes conditional product terms using frames having a positive overall intensity deviation and positive deviation frame data pixels. SET 3 may be determined as follows In Box frames with a Positive Overall Intensity Deviation multiply the value of the Overall Intensity Deviation by the Positive Frame Data Deviation pixels within that set of frames. In Box pixel locations a the square of the Positive Overall Intensity Deviation b the product of the Positive Overall Intensity Deviation the Positive Deviation Frame Data pixels and the square of the Positive Deviation Frame Data pixels are recorded and accumulated. In Box the pre normalized Positive Positive Product pixel values are determined by dividing the product of the Positive Overall Intensity Deviation the Positive Deviation Frame Data Frame Data pixels by . The average of the squares of the Positive Overall Intensity is determined by dividing by . The average of the squares of the Positive Deviation Frame Data pixels is determined by dividing by .

Continuing via path to the method proceeds to In Box the standard deviation of the Positive Overall Intensity Deviation is determined by taking the square root of the average of the squares of the Positive Overall Intensity Deviation . In Box the standard deviations of the Positive Deviation Frame Data pixels is computed by taking the square root of the average of the squares of the Positive Deviation Frame Data pixels . Box determines the Normalized Positive Positive Product pixel values by dividing the pre Normalized Positive Positive Product by the product of the standard deviation of the Positive Overall Intensity Deviation and the standard deviation of the Positive Deviation Frame Data pixels .

The method proceeds via path to which shows how to generate a fourth set of data which is referred to here at SET 4. SET 4 frame data includes conditional product terms using frames having a negative overall intensity deviation and negative deviation frame data pixels. SET 4 may be determined as follows In Box frames with a Negative Overall Intensity Deviation multiply the value of the Overall Intensity Deviation by the Negative Frame Data Deviation pixels within that set of frames. In Box pixel locations a the square of the Negative Overall Intensity Deviation b the product of the Negative Overall Intensity Deviation the Negative Deviation Frame Data pixels and the square of the Negative Deviation Frame Data pixels are recorded and accumulated. In Box the pre normalized Negative Negative Product pixel values are determined by dividing the product of the Negative Overall Intensity Deviation the Negative Deviation Frame Data Frame Data pixels by . The average of the squares of the Negative Overall Intensity is determined by dividing by . The average of the squares of the Negative Deviation Frame Data pixels is determined by dividing by .

From Box in the method can proceed via path to . In Box the standard deviation of the Negative Overall Intensity Deviation is determined by taking the square root of the average of the squares of the Negative Overall Intensity Deviation . In Box the standard deviations of the Negative Deviation Frame Data pixels is computed by taking the square root of the average of the squares of the Negative Deviation Frame Data pixels . Box determines the Normalized Negative Negative Product pixel values by dividing the pre Normalized Negative Negative Product by the product of the standard deviation of the Negative Overall Intensity Deviation and the standard deviation of the Negative Deviation Frame Data pixels . At the conclusion of Box the method proceeds via path to for determining an improved image data or to for determining alternative improved image data by an alternative embodiment.

Returning to the method also can concurrently proceeds via path to which shows how to generate a fifth set of data which is referred to here at SET 5. SET 5 frame data includes conditional product terms using frames having a negative overall intensity deviation and positive deviation frame data pixels. SET 5 may be determined as follows In Box frames with a Negative Overall Intensity Deviation multiply the value of the Overall Intensity Deviation by the Positive Frame Data Deviation pixels within that set of frames. In Box pixel locations a the square of the Negative Overall Intensity Deviation b the product of the Negative Overall Intensity Deviation the Positive Deviation Frame Data pixels and the square of the Positive Deviation Frame Data pixels are recorded and accumulated. In Box the pre normalized Positive Negative Product pixel values are determined by dividing the product of the Negative Overall Intensity Deviation the Positive Deviation Frame Data Frame Data pixels by . The average of the squares of the Negative Overall Intensity is determined by dividing by . The average of the squares of the Positive Deviation Frame Data pixels is determined by dividing by .

From Box in the method can proceed via path to . In Box the standard deviation of the Negative Overall Intensity Deviation is determined by taking the square root of the average of the squares of the Negative Overall Intensity Deviation . In Box the standard deviations of the Positive Deviation Frame Data pixels is computed by taking the square root of the average of the squares of the Positive Deviation Frame Data pixels . Box determines the Normalized Positive Negative Product pixel values by dividing the pre Normalized Positive Negative Product by the product of the standard deviation of the Negative Overall Intensity Deviation and the standard deviation of the Positive Deviation Frame Data pixels .

At the conclusion of Box in the method proceeds via path to for determining an improved image data or to for determining alternative improved image data by an alternative embodiment.

Similar as discussed above with respect to the fifth set of data SET 5 returning to the method also can concurrently proceed via path to which shows how to generate a sixth set of data which is referred to here at SET 6. SET 6 frame data includes conditional product terms using frames having a positive overall intensity deviation and a negative deviation frame data pixels. SET 6 may be determined as follows In Box frames with a Positive Overall Intensity Deviation multiply the value of the Overall Intensity Deviation by the Negative Frame Data Deviation pixels within that set of frames. In Box pixel locations a the square of the Positive Overall Intensity Deviation b the product of the Negative Overall Intensity Deviation the Negative Deviation Frame Data pixels and the square of the Negative Deviation Frame Data pixels are recorded and accumulated. In Box the pre normalized Negative Positive Product pixel values are determined by dividing the product of the Positive Overall Intensity Deviation the Negative Deviation Frame Data Frame Data pixels by . The average of the squares of the Positive Overall Intensity is determined by dividing by . The average of the squares of the Negative Deviation Frame Data pixels is determined by dividing by .

From Box in the method can proceed via path to . In Box the standard deviation of the Positive Overall Intensity Deviation is determined by taking the square root of the average of the squares of the Positive Overall Intensity Deviation . In Box the standard deviations of the Negative Deviation Frame Data pixels is computed by taking the square root of the average of the squares of the Negative Deviation Frame Data pixels . Box determines the Normalized Negative Positive Product pixel values by dividing the pre Normalized Negative Negative Product by the product of the standard deviation of the Positive Overall Intensity Deviation and the standard deviation of the Negative Deviation Frame Data pixels .

At the conclusion of Box in the method proceeds via path to for determining an improved image data or to for determining alternative improved image data by an alternative embodiment.

Objects within the field of view of a light sensing device typically reflect and scatter light from an external source of illumination as well as emitting light. Depending on the source of illumination and the material composition of the objects within the scene the contributions from reflected scattered light and emitted light are often quite different. Light that is reflected from an object typically polarizes the reflected light while emitted light is often unpolarized. Emitted light may be from physical processes that include but are not limited to luminescence fluorescence black body and thermal radiation.

The present invention relates to a method that can be applied to improve images of many types of low light target objects and areas. Objects and target areas of interest are often very faint either due but not limited to to low photon emission rate being very distant radiation intensity with distance from a source follows an inverse square law i.e. 1 r where r is the distance from the center of the emitter to the receiving device the reflectance of the object or target area of interest being very small the effective integration or shutter time of the measurement device being very short the efficiency of the detector may be small or through attenuation and or scattering due to the media through which the radiation propagates. Low light conditions could generally said to exist when the quality of the image degrades with the reduction of illuminating light or light received from the imaged area of interest by the eye or a sensor such as a camera. A low signal to noise ratio sensed by a sensor such as a CCD CMOS or single photon detector may also indicate low light imaging conditions when the noise of the sensor exceeds the measured light by the sensor. Outdoors between dusk and dawn would typically be considered low light conditions and indoors without bright overhead illumination may also produce low light conditions. In an environment when obstacles occlude the light source such as in a cave or thick forest also produce low light conditions. Conditions that cause the use of intensity amplification are considered low light conditions. is an average image of a distant 2.33 km target taken under low light conditions. demonstrates an improved enhanced image of the same target as shown in . A close up picture of the target is shown in . It was determined that the conditions were low light because the average image deteriorated to be virtually free from recognizable patterns as the intensity of the sun decreased by more than a factor or two late in the afternoon.

Referring now to in accordance with one preferred embodiment in Box series of frames are inputted into the memory or input of a processor or image processor. The frame may be composed on a plurality of pixels typically in a two dimensional 2D array that together form an image. Exemplary frames may be electronic image data such a TIFF or JPEG file. As used herein the terminology processor or image processor as used in the following claims includes a computer multiprocessor CPU minicomputer microprocessor or any machine similar to a computer or processor which is capable of processing algorithms. The frames may comprise photographs of the same region of interest. The region of interest may be a scene landscape an object a subject person or thing. In Box the frame data or value of each pixel at each pixel location is determined for a frame. In Box Q a predetermined number of pixels are selected rather than the entire overall intensity as was the case in regard to the preferred embodiment of . The intensity value of the predetermined pixels correlates to a bucket value determination. It correlates to the summation of the light intensity at the predetermined pixel locations. In the case of a picture the overall intensity correlates to the sum of the reflected illumination at the predetermined pixel locations. In the case of an electronic display formed by pixels the intensity is the summation each pixel value at each pixel location. At Box the values in Box are multiplied by the value determined in Box Q. Box C represents the frame data sum of intensity of selected pixels product for the frame which will henceforth be referred to as the First Product Array which is also an array of values. At Box C the sum of the First Product Arrays for a plurality of frames 1 100 products is obtained. As an example one hundred frames may be selected. At Box C the summation of the First Product Arrays determined in Box C is divided by the number of frames such as for example one hundred to determine the Average Of The First Product Arrays.

Box represents the multiplication of Boxes and to form the Average Frame Data Average Intensity Product which is an array. As shown in the bottom portion of the Average Frame Data Average Intensity Product is subtracted from the Average Of The First Product Arrays to form the refined image of Box .

The methods and techniques described in conjunction with the present invention can be applied to improve and enhance imaging of subject areas objects and scenes that would otherwise be degraded by the influence of bad weather conditions including but not limited to rain or fog turbulence and obscuration.

The invention has been demonstrated to improve and enhance images as shown by . Turbulence a type of obscuring property of the atmosphere degrades the conventional image. In like manner a conventional image degraded by bad or changing weather low light and or obscuration would also be enhanced and improved by the current invention.

 1 Separation of different orders of interference with measurements at different space time locations for better contrast visibility and different views of the physics. 2 With two levels i.e. there are 80 different views. 3 Separating the orders of photon interference as manifest in images at the data ensemble levels is useful for quantum imaging and quantum computing.

Improved stereoscopic images and movies can be generated with application of the methods and techniques described in this invention. A typical stereoscopic image or movie is produced by viewing a region of interest with two distinct and separated imaging sensors such as two cameras or two human eyes. The optical path from the region of interest to each sensor is slightly different and each sensor also emphasizes slightly different portions of the region of interest. Furthermore the field of view between each sensor and the region of interest is typically subject to different degrees of obscuration and degrading turbulence effects. The methods and techniques described in this invention can be applied to each of the stereoscopic channels individually or in other embodiments cross channel products between the reference fields and the buckets may be used i.e. a right channel reference with a left channel bucket and a left channel reference with a right channel bucket. Range or depth maps of a region of interest can be generated from stereographic images. Since the stereographic images are adversely affected by obscurants and turbulence the methods and techniques described herein can be applied to generate improved stereographic images which may then be used to generate more accurate range or depth maps of the region of interest.

Turbulence causes changes in the index of refraction in the atmosphere. These changes in the index of refraction cause a change in the speed of light through media thereby causing ranging problems. For example light travels slower thru air with higher index of refraction. Other factors that influence the index of refraction in the atmosphere include but are not limited to temperature and concentrations of other materials such as water. The current invention can be applied to mitigate the effects of the anisotropic inhomogeneous and temporally fluctuating changes in the index of refraction along an optical path from a sender to a receiver. As an example a current type of LADAR system would direct a laser pulse to the region of interest on sending the pulse the receiver detector would start taking a series of measurements for N consecutive measurements or bins. Each of the measurements would correspond to a dT where light returning from the target area would be measured. The particular dT out of the N dT measurements that measured the greatest number of photons would be assumed to give the range to the region of interest c M dT 2 where c is the speed of light M is the index of the measurement time with the greatest number of photons measured dT is the time width of each bin. The factor of 2 corrects for the time of the pulse to travel from the laser to the target and back from the target to the receiver. However index of refraction variations generally spread out the pulse sometimes to the extent where no single dT bin has the greatest number of photon counts. Applying the methods and techniques described in this invention can mitigate this variable index of refraction induced degradation and generate improved depth or distance to target maps of the region of interest.

An alternative embodiment of the current invention may use different groupings of pixels or spatially resolved measurements for the reference field and the bucket field measurements. As an example the pixels of a CCD type sensor may be grouped into a checker board type pattern where the equivalent pixels to a red even or black odd box on a checker board are treated as two distinct sensors. The even odd pixel set is then used as a set of reference measurements while the odd even pixel set is summed over and used as the set of bucket measurements. A Gtype image for each pairing even odd or odd even can then be computed using the methods and techniques described herein to generate improved images of a region of interest. Each of the computed improved images may be examined separately or the can be added or subtracted from each other to highlight different features of the region of interest. It is to be appreciated that other groupings of pixels or spatially resolved measurements would be advantageous for specific applications or characteristics and details in the region of interest.

Many current imaging devices are able to measure distinct portions of the electro magnetic and optical spectrum. These devices such as color CCD cameras smart phone cameras and video recorders often split the colors of a region of interest into three color bands i.e. red green and blue. Turbulence and obscurants typically impose an optical frequency dependent degradation on color images. The current invention can mitigate these degradations on a per color band basis. For example using the methods and techniques described in this invention the measured red green and blue color bands could be used to generate an improved red image improved green image and an improved blue image. These three improved color band images could then be collected into a single improved color image. Other alternative embodiments would include using for instance a red bucket with a blue reference field. These types of cross color calculations may be useful to highlight or suppress desired features of the region of interest.

Embodiments of the present invention can be used to determine the dynamics and relative dynamics contained in measurements of the region of interest. The dynamics would consist of the information on the physical chemical and biological processes as they evolve in space and time. This would include but is not limited to the dynamics of light sources surface characteristics such as reflection and scattering in the transmission media.

Using ghost imaging we have shown that it is possible to generate an improved image of an area of interest using two detectors. The first detector is a sensitive light meter that measures light scattered or reflected from the area of interest. The second detector can be a camera such as a charged coupled device CCD CMOS or other device capable of imaging the relevant light source such as the sun stars and moon outdoors or light bulbs indoors that illuminate the area of interest. In the case where the area of interest emits radiation such as infrared radiation detector one measures the combined reflected scattered and emitted radiation. Detector two measures the effects of the reflected scattered and emitted radiation sources. By combining coincident measurements of first detector and the second detector a ghost image can be computed of the area of interest. It turns out that the ghost image can achieve higher resolution or greater clarity than an image of the area of interest using the camera type device alone taking a picture classically. This has been demonstrated in experiments and publications of peer reviewed articles. An explanation for the improvement of the image in turbulence is demonstrated by so called two photon models of coincident imaging found in our publication. There it is shown that turbulence aberrations cancel and do not affect the improved resolution of the ghost image. Sometimes a two photon ghost image is referred to as a second order image. Whereas the camera image taken by classical means is referred to as a first order image. Classical theory and experiment show that first order images are smeared by turbulence.

It would be desirable to generate a second order ghost image with high resolution and clarity even through turbulence while using just a single camera which may or may not be a color camera. In the case of a color camera ghost imaging system and method can be applied to each color that the color camera measures a color ghost image will result. Also the camera could measure in infrared UV or more than one other wavelengths and pseudo coloring can be used to display the ghost image depicting the intensity in the different wavelength bands. One embodiment of how to do this would be to treat the area of interest as a mirror or an imperfect mirror for the light sources. Thus an array of pixel on the camera can image the area of interest as a measure of the light sources just as the second detector above. The first detector which measures the reflected and scattered light from the area of interest can be other or the same array of pixels in the camera.

One method would be to use a black and white checkerboard pattern of pixels where the white pixels act as detector two and the sum of the measurements on the black pixels act as detector one. By combining coincident measurements of first detector and the second detector a ghost image can be computed of the area of interest.

An alternate embodiment of this would be to place a beam splitter between the camera and the area of interest. The beam splitter can split the radiation into two parts one part towards detector one and the other part towards detector two. For example with a 50 50 beam splitter half of the light from the area of interest would be directed to the pixels of the camera which act as the second detector. The remaining half of the light would be directed to a separate sensor which acts as the first detector. The separate sensor could be attached to the camera or even be a single pixel of the usual camera array. This second embodiment is not as simple as the first embodiment. However it may be more accurate if the first detector has higher sensitivity or accuracy. By combining coincident measurements of first detector and the second detector a ghost image can be computed of the area of interest.

Another alternate embodiment would be to use all of the pixels of the camera to act as detector two and the sum of the measurements of all of the pixels act as detector one. By combining coincident measurements of first detector and the second detector a ghost image can be computed of the area of interest. Various combinations of the pixels including those which overlap or do not overlap of the camera can used as detector one and detector two. It has been demonstrated with experiments that these combinations described can be useful to obtain improved quality ghost images.

In calculating the improved quality ghost image the processor creates a correlation product of measurements from detector one times measurements from detector two at coincident times for each pixel location measured by detector two. Summing and averaging these correlations over an ensemble of coincidence times yields a measure of the ghost image. This ghost image is combined of both first order and second order image information. Subtracting off the first order image which may be smeared by turbulence yields a second order ghost image which will be improved over the first order image in that it will have higher resolution and less distortion due to turbulence. This image is often referred to as a Gimage. When for instance thermal photons have Gaussian statistics then the Gimage is expected to be positive. However Gaussian statistics may not accurately characterize the photon measurements made by cameras imaging areas of interest. In addition turbulence and other physical characteristics of the illuminating source area of interest camera detectors one and two and intervening media may combine in ways to create photon measurements that would be best characterized as non Gaussian. Some of the physical characteristics that may contribute to the non Gaussian photon statistics can include any or all of inhomogeneous non stationary anisotropic non ergodic nonlinear and quantum processes.

As it turns out empirically Ggives a good image of the area of interest. However it is important to try to improve the Gimage contrast. Sometimes Gcontrast is not as high as ideally desirable. One way to improve the image contrast is to artificially scale the ghost image by subtracting off any background. An analysis of the Gsign shows that when Gis positive then the intensity deviations that comprise it are correlated. When Gis zero then the intensity deviations are uncorrelated. When Gis negative then intensity deviations are anti correlated. When the negative parts of Gsubtracts from the positive parts of Gthen an all positive AG Gcorrelated Ganti correlated can be computed. This method can be imaged by a display to have high contrast since the minimum is zero and other values are positive.

As described in the specification for U.S. patent application Ser. No. 13 247 470 filed Sep. 28 2011 ARL 11 03 herein incorporated by reference there are many possibilities to combine results from the conditional product terms R R R and R computations to generate and display an improved image of the region of interest. This sum RI is a weighed sum of correlated products. These correlated products would be formed from results of measurements of quantum particles. There are many applications for the method described below including imaging using photons and other quantum particles measurement of gravitational waves measurement of the quantum properties of sound improved LIDARs LADARs improved medical imaging improved Earth surveillance from space improved space surveillance from Earth or other places in space. It is helpful to put the weighted sum of correlated products in a form where a user could compare the value of one vs. others for their application.

In particular one useful way would be to weight terms in R R R R by cos and sin factors i.e. cos sin where is an angle. This arrangement allows for continuously varying the contributions of the conditional product terms to display improved images to include an all positive image an all negative image a Gimage and the negative of the Gimage.

While the conditional product terms can be displayed independently as an image the alternative means described here to present and display the results would be useful for teaching and for detailed examination and analysis of the properties of the region of interest.

In practice a movie displaying RIor RIwould be made that scans through values of by the desired amount. For example the movie could start at 0 and each for each successive frame could be incremented by one degree until takes all values from 0 to 360 degrees. This will show the continuous change of RIor RIexhibiting varying contrast visibility and resolution of the computed image of the region of interest. For example when the symmetric terms are added to the asymmetric terms then a Gimage results when the asymmetric terms are subtracted from the symmetric terms then an all positive image results. Which image is better for the user depends on the needs of the user. For example from RIone may obtain high contrast for 180 degrees for an all positive image with high visibility. In some cases more resolution of the region of interest may be found for 0 degrees.

Color cameras often have pixel sensors that are covered by color filters. That way light directed towards a pixel sensor first passes through a filter before interacting with the pixel sensor. The filters are often laid out on a grid of pixel sensors in patterns that are variations of the Bayer pattern. For example the filters over each pixel may be red green or blue arranged in a Bayer pattern. Usually 50 of the pixels are green 25 are blue and 25 are red so that the pixels only respond to the color of light that transmits through their color filter. There is a process for converting a Bayer pattern image to a RGB image where a processor computes a RGB value for each pixel. For example at a pixel that ordinarily measures a green value the RGB values may be completed by interpolating surrounding red pixel values and surrounding blue pixel values to that pixel. One method to record the RGB image is a variation of the AVI standard. Video sequences or individual pictures from a color camera are often recorded in AVI. Producing ghost images from AVI may result in high quality ghost images. Occasionally visual artifacts may be present in the ghost images due to the Bayer to RGB interpolation and conversion process. For some images that have been converted from Bayer to RGB it is possible to reverse the process to investigate what the ghost image would look like in the original Bayer pattern format.

For example one means to convert back to a Bayer pattern image from a RGB image would be to extract the Bayer pixel color for each pixel location and zero out the interpolated color components. This would recover the underlying Bayer pattern image which could then be used to compute a ghost image that would be absent any artifacts from the interpolative or Bayer to RGB process.

This section contains information on the conditional product terms. Conditional product terms are terms formed by correlations between values measured above or below the mean value. The values may represent intensity polarization or other physical quantities that are able to be measured. When these quantities have quantum properties or are able to be represented by quantum physics such as photons or other quantum particles then the resolution and visibility of the conditional product terms may be enhanced beyond conventional limits.

The values of a particular Gcan be either positive or negative. A positive Gindicates that the measurements at an x y pixel are correlated with the bucket measurements. A negative Gindicates that the two measurements are anti correlated.

CASE 1. As an example assume that an ensemble of measurements is made at location a and location b . For this case assume that the ensemble consists of two measurement realizations 1 and 2. For realization 1 I 1 8 and I 1 8. For realization 2 I 2 2 and I 2 2. G where indicates and average over the ensemble of realizations. For this ensemble G 34 25 9. Examining Ia and Ib it is easy to see that the values of both of the measurements decrease at the same and typically referred to as correlated.

CASE 2. In a case where the ensemble of measurements is made at location a and location b for realizations 1 and 2 I 1 2 I 1 8 and I 1 8 I 2 2. Then G 16 25 9. In this example I increases in magnitude from 2 to 8 while Idecreases from 8 to 2. This is typically referred to as anti correlated.

Bucket pixels can be allocated down to an individual pixel or a group of pixels in particular frames. The pixels in a group of pixel selected to be summed to a bucket integrated intensities value for a frame need not be contiguous. The bucket pixel or pixels may also be chosen on a per frame basis. For instance all pixels within 10 of the maximum pixel value for a frame may be chosen to be summed over for the bucket value for that frame. The spatial distribution of those pixels within 10 of the maximum pixel value is likely to change from frame to frame based on lighting conditions and turbulence obscuration effects between the target area and the measurement system.

Reference values and bucket integrated intensities of pixels values may be allocated based upon the wavelength or color of the measured photons. For instance measured green values on a color CCD or CMOS camera may be used to provide the reference field pixel measurements and measured red values may be allocated or summed to provide the value of the bucket measurement for a frame.

Modern advanced infrared cameras may provide per pixel co located measurements of infrared wavelengths in for instance the mid wave infrared MWIR and long wave infrared LWIR wavelength bands. One band may be used to provide reference pixel values and pixel in the other band can be allocated or summed to provide bucket values. A further local Gtype calculation may take place wherein deviations from the ensemble mean of one wavelength band can be multiplied with deviations from the ensemble mean of the other wavelength band. These deviation products are performed for each pixel in a frame and summed over all the frames of data in the ensemble. A preferred methodology may therefore comprise dividing this deviation product sum by the total number of frames in the ensemble to yield a Gimage of the area of interest.

Gtype images may be calculated on a per pixel basis by shifting the pixels in a frame of data for instance if a frame of measured is I i j k where i j indicates a pixel location and k is the time or frame index then 12 can be set to be equal to a pixel shifted set of measured values I i j k I i 1 j k . Deviations of Iand Ifrom their respective ensemble averages can then be computed and the average of the products of those deviations is a Gimage computed from space or coordinate shifted pixels of the measured values. Other statistical quantities such as standard deviations may also be computed from the spatially shifted arrays.

The concept of time frame shift of pixel values enhancement can be beneficial in identifying objects in a scene that are in motion. Shifting of pixel values can also occur between frames wherein for instance I2 i j k I1 i j k 1 . Deviations and averages of the products of those deviations can be computed to yield Gimages of the area of interest.

Gimproved images can be normalized by dividing the improved Gimage by for example the product of the standard deviations of the reference values and the bucket values or dividing by the product of the ensemble averages of the reference values and the bucket values. Other normalizations i.e. G I I where Iand Ican be pixel values over time and G I I Where indicates an ensemble average and a indicates the standard deviation. Gimages can also be normalized by dividing by an all positive Gto enhance image features. All positive Gimages can also be normalized by dividing by std I1 std I this type of normalization on the all positive Gcalculations is particularly lifelike. It is noted that Gimages that are normalized by the product of the averages typically need to be colormap inverted i.e. multiplied by 1 to recover realistic shading. Gimages that are computed with a pixel shift process or the bucket process can be used to normalize the other calculation to highlight differences in the spatial or temporal scales of any distorting media between the measurement component and the area of interest.

Subensembles such as utilizing a portion of an full ensemble e.g. 1000 frames can be averaged subset blocks of G I1 I2 i.e. 10 blocks of 10 frames for frames 1 to 100. Examples of subensemble Gs are as follows.

An example of a subensemble used in a preferred method of the present invention comprises utilizing sum of Gper frame where G k I1 k I2 k and the sum of the G k over a set of i 1 to total number of frames in the ensemble is the improved image. A smaller subset of G k can be summed over a sub ensemble k 1 to N where N is less than the total number of frames in the ensemble to provide an improved image. Note that the full set of measurements may be greater than the N being used for the current ensemble.

A further example of a subensemble used in a preferred method of the present invention comprises a Gimage that may be computed by summing and averaging per frame Gimages over a set of frames that is less than the total number of frames in the ensemble of measurements. A per frame Gwould be G k I1 k I2 k where the k indicates the frame number out of the ensemble of frames. and are the reference and bucket averages over the ensemble of measurements. When the G k are summed and averaged over a set of frames that is less than the total number of frame this constitutes a sub ensemble Gcalculation. This sub ensemble improved Gimage can highlight different features of the area of interest and may further provide a means to generate improved image frames for a movie of the area of interest.

The movies produced by this method can separate scale of turbulence. Separate scales of turbulence can be better images by the ability to choose different sizes of an ensemble and different size sets within an ensemble to use as the sub ensemble.

An iterative means to calculate in improved Gimage could involve progressively incorporating more or fewer pixels of the measured frames to be summed over for a bucket value. One such method would be to choose a single pixel location to provide the bucket values over all frames. A Gimage would then be computed using those bucket values. A new set of bucket values would be selected based on some criteria such as choosing pixel locations where the Gvalue is greater than 0. A new Gimage is computed and the process iterated until no new pixels are being added to or removed from the set of pixels being used to provide bucket values. Criteria other than the positively of the Gmay be used to emphasize or converge to differing features in the Gimage of the area of interest.

When an area of interest is illuminated by a source of photons such as the Sun the illuminated area acts as an imperfect mirror of the illuminating source. A perfect mirror would acts to reflect the photons from the illuminating source where the angle of incidence would equal the angle of reflection. Furthermore the perfect mirror would not absorb any of the incident photons. However a region of interest may contain many differing scattering and absorbing elements. All of these elements are illuminated by the source and when the reflected and scattered photons from the region of interest are measured some information about the spatial distribution of photons of the light source is retained. It is this retained information of the spatial distribution of photons that enables a series of images measured with a single sensor of a region of interest to act much as a typical two sensor ghost imaging system wherein one of the sensors for a ghost imager measures only undisturbed spatial distributions of photons from the light source.

Gimaging in the infrared may be useful for applications in art medical imaging of blood vessels identify and face recognition imaging of blood vessels medical imaging of blood vessel flow over the face and other parts of the body and remote feature extraction.

A further application is terahertz ghost imaging. The methods and techniques of this invention apply to all electromagnetic wavelengths. Gamma rays ultraviolet visible infrared microwave and radio waves and terahertz radiation can be utilized to produce improved images of a region of interest.

The potential extent of possible use of this invention is described in the following. However this description should not be construed as limited to the statements. Potential applications include high resolution imaging remote sensing microscopic sensing phase contrast imaging or microscopy astronomical imaging physics chemistry biology medical applications quality control surveillance surface tampering detection imaging partially occluded scenes spectroscopy raman spectroscopy satellite imaging detection of exoplanets identification of hidden or concealed objects remote biometrics design of new sensors and image processing methods design of new types of stealth technology design of new types of communications devices. Furthermore the methods and techniques can be used to determine characteristics of imaging sensors and discover favorable or unfavorable artifacts and properties including but not limited to spatial and temporal noise.

Speed Traffic Enforcement Current local governments use traffic enforcement cameras to enforce traffic regulation violations. A traffic enforcement camera also road safety camera road rule camera photo radar speed camera Gatso is an automated ticketing machine. It may include a camera which may be mounted besides on or over a highway or installed in an enforcement vehicle to detect traffic regulation violations including speeding vehicles going through a red traffic light unauthorized use of a bus lane for recording vehicles inside a congestion charge area and others. The latest automatic number plate recognition ANPR systems can be used for the detection of average speeds and use optical character recognition on images to read the license plates on vehicles. There are a number of possible factors that affect the ANPR software performance. One of these important factors is poor image resolution usually because the plate is too far away but sometimes resulting from the use of a low quality camera. In the case of camera recording a video a sequence of images this invention can process the recorded images to improve image quality of the license plate on vehicle. The enhanced license plate images are used to improve the performance of ANPR software. The invention is especially useful when the images are acquired from a far away distance and or from a low quality camera.

The invention may be utilized in conjunction with large crowd event security and management. Events involving a large crowd especially the types of events including circuses sporting events theatrical events concerts rallies parades etc. the security task is to prevent where possible crimes including theft vandalism or assault through the deployment of trained and licensed security personnel. Camera monitoring is an important component in this type of event security and management. The invention can be used to improve image details of a human face nomenclature on a jersey or a moving object vehicle etc. from a distance or from the periphery of the event location. Also at football games a preferred embodiment could be used to enhance the readability of numbers and or names on football uniforms.

As used herein the terminology subject means an area a scene an object or objects a landscape overhead view of land or an object or objects or a combination thereof.

As used herein the terminology frame means a picture an image or one of the successive pictures on a strip of film or video.

As used herein the terminology process means an algorithm software subroutine computer program or methodology.

As used herein the terminology algorithm means sequence of steps using computer software process software subroutine computer program or methodology.

As used herein the terminology image sensor means a camera bucket detector CMOS SPAD quantum well LIDAR LADAR charge coupled device CCD video device spatial sensor light field plenoptic camera gyro stabilized camera spatial phase sensitive camera or range sensor. The image sensor may comprise a device having a shutter controlled aperture that when opened admits light enabling an object to be focused usually by means of a lens onto a surface thereby producing a photographic image OR a device in which the picture is formed before it is changed into electric impulses.

The terminology processor or image processor as used in the following claims includes a computer multiprocessor CPU minicomputer microprocessor or any machine similar to a computer or processor which is capable of processing algorithms.

The terminology operations as used in the following claims includes steps a series of operations actions processes subprocesses acts functions and or subroutines.

As used herein the terminology succession means the act or process of following in order or sequence but is not limited to sequential order. As used herein the terminology succession refers to a later taken image being compared with an earlier taken image.

As used herein the terminology array refers to a systematic arrangement of data in rows and columns. An example of an array is a matrix which is a rectangular array of numbers symbols or expressions. Examples of arrays include a matrix which is a rectangular array of numbers symbols or expressions and a vector which is a linear array of numbers symbols or expressions.

As used herein the terminology phase refers to a property of waves that measures the advance of one wave relative to another wave or that wave at an earlier place in space time. Quantum particles such as photons having some wave properties may exhibit phase properties. Phase differences may be manifest as interference or diffraction fringes. Since images are the result of interaction of quantum particles with reflective or scattering objects they can exhibit interference fringes as signatures of instantaneous or average phase variations. Often objects that exhibit some fringes can be referred to as phase objects. Phase information refers to images that provide indications such as interference or diffraction fringes induced by the target and its environment. Phase information can be useful to distinguish features of the target that are generally not as recognizable without the phase information. Phase is discussed in R. E. Meyers K. S. Deacon and Y. H. Shih Turbulence free ghost imaging Appl. Phys. Lett. 98 111115 2011 R. E. Meyers K. S. Deacon and Y. H. Shih Positive negative turbulence free ghost imaging Appl. Phys. Lett. 100 131114 2012 . As used herein the terminology SPAD refers to an array of Single Photon Counting Detectors that is used for imaging.

As used herein the terminology synchronous means data or frames that are acquired at the time or are time coincident.

As used herein the terminology asynchronous means data or frames that are not acquired at the same time or are not time coincident.

As used herein the terminology light is meant to describe electro magnetic energy of any portion of the electro magnetic spectrum to include but not limited to cosmic rays x rays ultra violet visible infra red terahertz microwave and radio waves. Light may be measured in terms of its photons or fields.

Although various preferred embodiments of the present invention have been described herein in detail to provide for complete and clear disclosure it will be appreciated by those skilled in the art that variations may be made thereto without departing from the spirit of the invention.

It should be emphasized that the above described embodiments are merely possible examples of implementations. Many variations and modifications may be made to the above described embodiments. All such modifications and variations are intended to be included herein within the scope of the disclosure and protected by the following claims. The invention has been described in detail with particular reference to certain preferred embodiments thereof but it will be understood that variations and modifications can be effected within the spirit and scope of the invention. All references mentioned herein are hereby incorporation by reference herein.

