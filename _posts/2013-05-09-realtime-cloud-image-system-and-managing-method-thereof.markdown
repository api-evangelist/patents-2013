---

title: Real-time cloud image system and managing method thereof
abstract: A real-time cloud imaging system includes at least a frontend device and a backend system. The frontend device generates an instruction message and a ROI (Region of Interest) message, and the backend system is coupled to the frontend device. The backend system has at least a raw image, wherein the raw image has a plurality of images of different resolutions. Each of the images and the raw image are composed of a plurality of tiles. The ROI message corresponds to a region of interest respectively within each of the images and the raw image. The backend system, according to the instruction message and the ROI message, selectively provides a grouping of the tiles within the region of interest of the raw image or one of the images to the frontend device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09047318&OS=09047318&RS=09047318
owner: NATIONAL TAIWAN UNIVERSITY OF SCIENCE AND TECHNOLOGY
number: 09047318
owner_city: Taipei
owner_country: TW
publication_date: 20130509
---
The present invention generally relates to a real time cloud image system and managing method thereof particularly the present invention relates to a real time cloud imaging system and managing method thereof that can display process and analyze ultra high resolution images.

For many years medical pathology departments have been slow in updating their equipments resulting in the continued use of conventional pathology optical microscopes. This not only results in more human errors in judgments and ineffective data management to occur data storage is also of concern. Along with the increased popularity of digital pathology images in recent years fast and objective analysis of digital pathology images may be conducted. As well the physical storage space once required to store physical pathology images can be significantly decreased. In recent years digitalization of pathology slide images has become an area of great activity. However in terms of sharing high resolution pathology images on the cloud problems of slowness or delays from use of the system often occurs due to a bottleneck in the technology. In addition the conventional cloud system lacks smart recognition and comparison technologies to help medical experts with clinical diagnostics or research analysis.

It is an object of the present invention to provide a real time cloud image system and managing method thereof that can increase data transfer speed and decrease wait times of data transfers by decreasing the image sizes that are transferred.

It is another object of the present invention to provide a real time cloud image system and managing method thereof that can decrease the amount of data transfer and image analysis processing needed while also enable parallel processing of the data such that the speed at which images are displayed analyzed and processed can be increased.

The real time cloud image system includes at least a frontend device and a backend system. The frontend device generates an instruction message and a ROI Region of Interest message and the backend system is coupled to the frontend device. The backend system has at least a raw image wherein the raw image has a plurality of images of different resolutions. Each of the images and the raw image are composed of a plurality of tiles. The ROI message corresponds to a region of interest respectively within each of the images and the raw image. The backend system according to the instruction message and the ROI message selectively provides a grouping of the tiles within the region of interest of the raw image or one of the images to the frontend device.

The managing method of the real time cloud image system includes A receiving in the backend system a ROI Region of Interest message from the frontend device B selecting one of the image levels of the pyramid structure as a designated image level according to the ROI message in the backend system and then determining a position of a region of interest in the designated image level and C receiving an instruction message in the backend system from the frontend device and selectively transmitting a grouping of the tiles within the region of interest of the designated image level to the frontend device.

The present invention provides a real time cloud image system and managing method thereof for the displaying sharing processing and analyzing of high volumes of high or low resolution images on a cloud network including private networks local networks and public networks . The real time cloud imaging system includes at least a frontend device and a backend system. The frontend device generates an instruction message and a ROI Region of Interest message and the backend system is coupled to the frontend device. The backend system has a backend database storing a plurality of object data such as medical records data and their respective large volume high or low resolution image data such as large volume high resolution pathology images. Each image has a plurality of images of different resolutions. Each of the images and the raw image are composed of a plurality of tiles. The backend system can in real time provide medical data and their high resolution pathology images to the frontend device so that the frontend device may display the medical data and the pathology images. The frontend device may instruct the backend system to provide in real time the plurality of tiles of the high resolution pathology images such that portions of the image may be quickly retrieved without wasting too much memory through high speed parallel processing. The ROI message corresponds to a region of interest respectively within each of the images and the raw image. The backend system according to the instruction message and the ROI message selectively provides a grouping of the tiles within the region of interest of the raw image or one of the images to the frontend device. Alternatively the backend system may instead process and or analyze the grouping of the tiles within the region of interest of the raw image or one of the images. During the high speed parallel processing the data of the tiles may be individually retrieved and processed wherein it is transmitted to an individual processing core and undergoes parallel high speed multi core processing.

As shown in the backend system includes at least a processor and at least a main memory wherein the main memory stores at least an operating system at least an application program and at least a database management system . In a preferred embodiment the backend system is a type of server system including one or a plurality of servers. In the present embodiment the backend system may be a Apache HTTP server although it is not restricted to this. The operating system executes the Apache operating system to provide the frontend device different types of web services. The application program can include application programs providing services for PHP JavaScript and FLASH web pages. However in other different embodiments the backend system may be other types of servers such as a ASP Active Server Page web service server of Microsoft.

As shown in in the present embodiment the database management system is another type of application program acting as an interface for the application program to use the backend database . The backend database may include one or many physical storage devices. In the present embodiment no matter how many physical storage devices there are in the backend database in terms of software the backend database is realized through SQL Structured Query Language or MySQL. However the backend database is not limited to these forms. In the present example the MySQL database of the backend database may be used with the Apache web server PHP JavaScript and Flash such that the backend system can provide the frontend device web services as well as data stored on the backend database . However in other different embodiments if the backend system does not use Apache the backend database may also be in other forms such as Microsoft s Access databases SQL databases or Oracle databases.

In another embodiment the frontend device can only request medical history data and pathology image data that the account and password used to log into the backend system has privilege for. However when the frontend device is logged into the backend system with the administrator account the backend system will allow the frontend device privileges of uploading deleting and downloading of data. In the present embodiment the administrator account privileges can allow the frontend device to update or amend any data on the backend database .

As shown in the Object storage layer represents the physical storage device of the backend database . In the present embodiment the backend database includes a buffer management module for buffering and managing the storage and transmitting of data of the database. As shown in the buffer management module is connected to at least a raw image database and another storage device. The raw image database can include a plurality of storage servers and is used for storing raw files of pathology image data. The other storage device may include serial hard drive storage devices or any other storage devices.

As shown in of the textual and numerical query the image database has search capabilities. The search capabilities may be defined respectively as a normal search and an advanced search. In a normal search of the electronic medical records database a single patient data such as surname or age may be selected to undergo searching. The advanced search on the other hand may allow multiple criteria of the patient data such as surname and age to be entered for the search. A single criterion such as organ or cancer may be selected to execute normal search of the patient pathology slide data. Multiple criteria such as organ and cancer may be selected to execute advanced search. As shown in of the image search the user inputs an image and then a new image characteristic is automatically detected. A characteristic is inputted into the query interface whereby any image data matching the characteristic inputted is found and shown.

When the frontend device quickly retrieves and displays the image of the default highest image level lowest resolution pathology image of the image level users may select a ROI Region of Interest on the displayed image of the highest image level by touching the spot on the user interface of the frontend device . In the present embodiment the area and size thereof included by the ROI may be defined by the user. For instance users may draw a square shaped area of ROI on the image of the high image level on the user interface. This area represents the section that the user wishes to view. The frontend device will generate an image position instruction according to the position of the ROI designated by the user. The image position instruction is used for notifying the backend system information related to the selected ROI area such as the size range the relative position of the ROI within the image level the shape of the outlined area and any other related information.

After selecting or drawing out the ROI and generating the image position instruction users may instruct the frontend device to display the other higher resolution images corresponding to the indicated ROI. In more definite terms the frontend device will generate an instruction message to the backend system according to the designated ROI and the pathology image level currently being displayed on the frontend device . In the present embodiment users may select different levels of resolutions such as the resolutions of image level or . Accordingly to the selection the backend system will compute according to the image level indicated by the instruction message and the ROI the position on the image level corresponding to the ROI as well as the tiles on the image level to which it overlaps with. The backend system will then accordingly retrieve from the backend database the group of tiles of higher resolution in the indicated image level associated with the ROI and then transmit them to the frontend device . For instance if the frontend device currently displays the default lowest resolution of the pathology image image level of when the frontend device transmits the image position instruction to the backend system and the user has selected an image level of higher resolution a lower image level in the pyramid structure the backend system will transmit the group of tiles of the selected image level of higher resolution such as image level that correspond with the ROI to the frontend device . In other words as shown in when the frontend device is at an image level of higher resolution such as image level users can indicate the range of the ROI and select a lower image level of higher resolution image level or so that the backend system will transmit the corresponding group of tiles or on the indicated image level that is associated with the ROI to the frontend device . For instance users may select image level such that the backend system will correspondingly transmit the tile associated with the ROI from the backend database to the frontend device .

In another embodiment the frontend device can allow users to selectively activate an image analysis processing mode so that the frontend device will generate and transmit an instruction message including an image analysis processing instruction to the backend system . When the backend system receives from the frontend device the ROI the image level selection made by the user and the image analysis processing instruction the backend system will according to the selected ROI schedule priority to processing the image content of the group of tiles of the designated image level adjacent to the ROI and the group of tiles within the ROI of the image levels above and below the designated image level in the pyramid structure such that the processed image content may be used as pre fetch data for the frontend device . In this manner the real time image display processing and analysis may be achieved by the real time cloud imaging system . In addition when the individual tiles are being processed by the backend parallel processing may be employed. For instance if the image displayed by the frontend device is the group of tiles corresponding to the ROI in image level of and the image analysis processing mode is activated the backend system will accord priority to processing the group of tiles adjacent to the ROI as well as the group of tiles and corresponding to the ROI in the image level and . In this manner under the pretense that the frontend device is displaying the image of the tile corresponding to the ROI users may execute a drag instruction on the display of the frontend device to instruct the frontend device to display tiles that are adjacent and outside of the ROI range in the direction of the dragging movement. Since the backend system has already pre processed those adjacent tiles as pre fetch data and sent them to the frontend device the frontend device is able to immediately display the data that the user wants when the user initiates the dragging motion. In the present embodiment dragging motion or dragging movement refers to conventional techniques of sliding a finger in a direction on the screen of the frontend device . However in other different embodiments users may utilize other different methods of input to the drag motion such as scroll keys or buttons. In the above example if the user instead selects a resolution of the upper or lower image level the frontend device will display the pre fetch data of the tiles and that were pre processed by the backend system . In this manner the wait time or lag experienced by the frontend device in the real time cloud imaging system may be decreased. Under parallel processing the tile data can be independently retrieved and process and can be individually transmitted to a single processor core to undergo high speed multi core parallel processing.

As shown in step S includes receiving in the backend system a ROI Region of Interest message from the frontend device . In the present embodiment users may select or draw an area of interest ie. ROI through the user interface of the frontend device . The frontend device will generate the ROI message according to the drawn or selected area of interest. In more concrete terms in an embodiment when the user queries for medical data and the raw pathology image thereof after logging into the backend system through the frontend device the backend system will by default first transmit the highest image level lowest resolution of the raw pathology image of the pyramid structure corresponding to the raw pathology image to the frontend device . At this time the user in front of the frontend device may select circle or draw the ROI area through the use of the user interface of the frontend device on the displayed lowest resolution pathology image. The frontend device will then generate the ROI message according to the ROI drawn or selected by the user.

Step S includes selecting one of the image levels of the pyramid structure as a designated image level according to the ROI message in the backend system and then determining a position of a region of interest in the designated image level. In more concrete terms the frontend device will notify the backend system of the image level that the user is currently viewing. For instance if the pathology image currently being viewed on the frontend device corresponds to a middle image level in the pyramid structure medium resolution of the pathology image the ROI message will include this information such that the backend system may set that image level as the designated image level. After selecting the designated image level the backend system will determine on the designated image level the position corresponding to the ROI. As shown in if the designated image level is image level the backend system will according to the ROI defined by the user on the highest image level lowest resolution of the pathology image of determine the associated position on the designated image level of image level .

Step includes receiving an instruction message in the backend system from the frontend device and selectively transmitting a grouping of the tiles within the region of interest of the designated image level to the frontend device . In terms of the above example as shown in after the backend system has determined the ROI area in the designated image level the backend system will determine which grouping of tiles of the designated image level lie within the determined ROI area. The backend system will then transmit the grouping to the frontend device . In this manner the frontend device may be able to display the grouping of image tiles on its screen and or user interface.

Step S includes receiving a drag instruction in the backend system from the frontend device . In the present embodiment users may execute a drag instruction on the displayed pathology image on the frontend device such as a drag motion or movement to the right hand direction of the frontend device on the pathology image. The frontend device will generate and transmit to the backend system the drag instruction according to the drag motion or movement. In the present embodiment users may change the position on the display image through the drag motions. However in other different embodiments users may use other different forms to instruct the frontend device to change the resolution of displayed pathology image.

Step S includes selectively transmitting from the backend system to the frontend device the grouping of the tiles within the region of interest of image levels above and below the designated image level in the pyramid structure or the grouping of the tiles of the designated image level adjacent to the region of interest. In more definite terms according to the determination in step S of the grouping of the tiles and the grouping of tiles adjacent to the ROI in the designated image level these groupings of the tiles may be selectively transmitted to the frontend device by the backend system as pre fetch data. For instance if users do a drag motion on the displayed pathology image of the designated image level on the frontend device the backend system will transmit to the frontend device the grouping of the tiles adjacent to the ROI on the designated image level that is in the direction of the drag motion. In other different embodiments the backend system can also transmit to the frontend device all tiles adjacent outside of the ROI on the designated image level. In this circumstance when the user does the drag motion the frontend device will immediately display the tiles that are adjacent and outside of the ROI in the direction of the drag motion since those tiles were already transmitted to the frontend device . In another embodiment users may change the resolution of the display. In more definite terms when the user selects the ROI and gives the instruction to increase or decrease the resolution of the pathology image the backend system can predetermine and process the groupings of tiles above and below the designated image level according to step S and then send them to the frontend device .

Although the preferred embodiments of the present invention have been described herein the above description is merely illustrative. Further modification of the invention herein disclosed will occur to those skilled in the respective arts and all such modifications are deemed to be within the scope of the invention as defined by the appended claims.

