---

title: Adaptive video white spot learning and user bandwidth delivery control system
abstract: A system and method that utilize a learning system to maintain a set of geographical locations indicating an area where network data coverage is poor. When it is determined that a client device is moving towards such an area, the client is forced or instructed to switch to a lower delivery bitrate for video segments in order to force the client's Adaptive Bit Rate (ABR) playback buffer to fill itself with enough low-quality video segments to enable the client to cross the area without video playback interruption. Thus, the client mobile device may be preemptively forced to choose the lowest bitrate specified in a manifest file for the delivered video segments as the bitrate for downloading video segments when approaching the poor coverage area. Hence, the client device can maintain a minimum level of Quality of Service (QoS) when moving through network areas with poor data coverage.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09444870&OS=09444870&RS=09444870
owner: ERICSSON AB
number: 09444870
owner_city: Stockholm
owner_country: SE
publication_date: 20130925
---
The present disclosure relates to audio visual data content delivery in a mobile communication network. More particularly and not by way of limitation particular embodiments of the present disclosure are directed to a system and method to maintain a dataset of geographical locations within a cellular network where network data coverage is less than desired and to force a mobile terminal to utilize a lower bitrate for download of an audio visual content delivered from the cellular network when it is determined that the mobile device is moving towards such a geographical location.

Adaptive Bit Rate ABR streaming is a technique used in streaming multimedia content over computer networks. Adaptive streaming technologies are primarily based on Hypertext Transfer Protocol HTTP and designed to work efficiently over large distributed HTTP networks such as the Internet. Thus in the discussion below the terms streamed or delivered may be used interchangeably to refer to a multimedia content delivered through adaptive streaming through ABR HTTP downloads or through any other suitable network based content delivery method.

In ABR streaming a user s bandwidth and processing capacity are detected in real time and the quality of video stream is adjusted accordingly. The source audio visual content is encoded at multiple bitrates and then each of the different bitrate streams is segmented into small multi second e.g. 2 to 10 seconds parts. A manifest file is provided to the streaming client. The manifest file makes the client aware of the available streams at different bitrates and segments of the streams. The player client can thus switch between streaming the different encodings depending on available network resources. For example when the network throughput has deteriorated the client may find that the download speed for a currently downloaded segment is lower than the bitrate specified for that segment in the manifest file. In that event the client may request that the next segment be at that lower bitrate. Similarly if the client finds that the download speed of the currently downloaded segment is greater than the manifest file specified bitrate of the segment downloaded then the client may request that next segments be at that higher bitrate.

Some examples of ABR streaming solutions include the MPEG DASH standard where MPEG refers to Moving Picture Experts Group and DASH refers to Dynamic Adaptive Streaming over HTTP the HTTP Live Streaming HLS solution offered by Apple Inc. for iPhones and iPads and the Smooth Streaming solution offered by Microsoft Inc.

It is noted here that the terms like audio visual content audio visual segment video content video segment and other terms of similar import are used interchangeably herein to primarily refer to data content having audio components video components or both.

In adaptive streaming multiple versions of a video audio visual content are offered at different bitrates or quality levels e.g. from 100 Kbps to 2 Mbps . Thus video is transported not as one big file but as separate distinct chunks e.g. by cutting up the video in small files and user agents are allowed to seamlessly switch between quality levels specified in a manifest file e.g. based upon changing device or network conditions simply by downloading the next chunk from a different bitrate level.

Thus in ABR streaming videos or audio visual data are served as separate small chunks and the accompanying manifest file provides metadata needed for the client s ABR player. The manifest file may be an Extensible Markup Language XML file. The media server that provides the ABR streaming may automatically adapt to any changes in each user s network and playback conditions. A user agent in the client s ABR player may parse the manifest file to appropriately switch between different stream levels or bitrates . The ABR mode of content delivery is useful in many applications such as for example long downloads of video content where ABR streaming may save bandwidth if the user is not currently watching the video live video feeds where ABR streaming may maintain the stability of the content delivery delivery to mobile devices where lots of buffering may be needed due to changing network conditions .

Modern cellular radio networks provide for sending and receiving data such as for example audio visual data. As mentioned above adaptive streaming technologies allow mobile devices in a cellular network to adjust or adapt to changes in bandwidth by switching between higher and lower quality video segments indicated within a manifest file.

While mobile radio data network coverage is widespread there are still many geographical areas or locations where data coverage is low i.e. less than desired or where there is an above average amount of noise due to various factors such as structures interference and weather. While phone calls delivered over data networks can generally overcome these issues by switching to a different communication technology such as the GSM EDGE where GSM refers to Global System for Mobile communications and EDGE refers to Enhanced Data Rate for GSM Evolution systems or other network protocol video delivered over data networks generally cannot.

Currently adaptive streaming systems are unaware of a mobile device s radio interface i.e. the condition or quality of radio signals through which the mobile device is sending or receiving data. As such an ABR player client on the mobile device simply attempts to download streamed video segments when the device s playback buffer begins to empty. When the mobile device is consuming video via adaptive streaming while traveling through an area of low data coverage or high noise the device is unable to continue to fill its playback buffer. As a result the video playback stops.

It is therefore desirable to devise a mechanism that prevents such video playback failures resulting from a less than desired radio coverage in certain geographical locations within a cellular network. To support such mechanism it is also desirable to maintain a database of geographical locations where network data coverage is low.

As a solution particular embodiments of the present disclosure provide a system and method that utilize a learning system to maintain a data set of geographical locations where network data coverage is low i.e. less than desired . When it is determined that a client i.e. a mobile device is moving towards such an area the client is forced or instructed to switch to a lower bitrate stream of segments in order to force the client s playback buffer to fill itself with enough video segments to travel through or cross the area of low data coverage without video playback interruption.

In one embodiment the present disclosure is directed to a method of building a database of geographical locations in a cellular network that have a less than desired radio coverage. The method comprises performing the following using a network entity in the cellular network i for a mobile device operating in the cellular network and playing an audio visual content through an adaptive streaming process determining a minimum threshold bitrate authorized under the adaptive streaming process ii monitoring whether a current audio visual segment is being delivered to the mobile device at a delivery bitrate that is lower than the authorized minimum threshold bitrate iii when the delivery bitrate is lower than the authorized minimum threshold bitrate obtaining geographic location coordinates for the mobile device and iv reporting the geographic location coordinates for storage into the database.

In another embodiment the present disclosure is directed to a method for delivering an audio visual content to a mobile device operating in a cellular network. The method comprises performing the following using a network entity in the cellular network i monitoring a direction and speed of travel of the mobile device to ascertain whether the mobile device is approaching a geographical location in the cellular network that has a less than desired radio coverage and ii when the mobile device is determined to be approaching the geographical location with the less than desired radio coverage forcing the mobile device to switch to a delivery bitrate for receiving the audio visual content wherein the delivery bitrate is lower than a bitrate currently being used by the mobile device to receive the audio visual content.

In a further embodiment the present disclosure is directed to a network entity in a cellular network facilitating delivery of an audio visual content to a mobile device operating in the cellular network. The network entity is configured to perform the following i maintain access to a database that contains identifications of those geographical locations within the cellular network that have a less than desired radio coverage ii monitor a direction and speed of travel of the mobile device and consult the database to ascertain whether the mobile device is approaching a geographical location in the cellular network that has the less than desired radio coverage and iii when the mobile device is determined to be approaching the geographical location with the less than desired radio coverage force the mobile device to receive the audio visual content at a delivery bitrate that is lower than a bitrate currently being used by the mobile device to receive the audio visual content.

In a still further embodiment the present disclosure is directed to a mobile device that is operating in a cellular network and is configured to perform the following i receive an audio visual content from the cellular network at a first bitrate wherein the first bitrate is specified in a manifest file associated with the audio visual content ii upon approaching a geographical location in the cellular network that has a less than desired radio coverage receive an indication of a second bitrate from the cellular network wherein the second bitrate is lower than the first bitrate and iii upon receiving the indication switch to the lowest bitrate specified in the manifest file to receive the audio visual content regardless of the bitrate with which an audio visual segment was delivered to the mobile device immediately prior to the switch.

Thus an ABR streaming delivery system according to certain embodiments of the present disclosure can rapidly adapt to ad hoc issues such as inclement weather structural interference or any other kind of radio coverage interruption because of a pre stored data set of geo locations where network data coverage is low. Due to the forcing of the client mobile device to switch to a lower bitrate while traveling through a geographical area with low data coverage the ABR content delivery system according to the teachings of the present disclosure allows the client device to maintain a certain minimum level of Quality of Service QoS when moving through network areas with spotty data coverage.

In the following detailed description numerous specific details are set forth in order to provide a thorough understanding of the disclosure. However it will be understood by those skilled in the art that the present disclosure may be practiced without these specific details. In other instances well known methods procedures components and circuits have not been described in detail so as not to obscure the present disclosure. It should be understood that the disclosure is described primarily in the context of a Third Generation Partnership Project 3GPP cellular telephone data network but it can be implemented in other forms of cellular or non cellular wireless networks as well.

Reference throughout this specification to one embodiment or an embodiment means that a particular feature structure or characteristic described in connection with the embodiment is included in at least one embodiment of the present disclosure. Thus the appearances of the phrases in one embodiment or in an embodiment or according to one embodiment or other phrases having similar import in various places throughout this specification are not necessarily all referring to the same embodiment. Furthermore the particular features structures or characteristics may be combined in any suitable manner in one or more embodiments. Also depending on the context of discussion herein a singular term may include its plural forms and a plural term may include its singular form. Similarly a hyphenated term e.g. less than desired pre defined etc. may be occasionally interchangeably used with its non hyphenated version e.g. less than desired predefined etc. a capitalized entry e.g. Time of Arrival Downlink etc. may be interchangeably used with its non capitalized version e.g. time of arrival downlink etc. . Such occasional interchangeable uses shall not be considered inconsistent with each other.

It is noted at the outset that the terms coupled connected connecting electrically connected etc. are used interchangeably herein to generally refer to the condition of being electrically electronically connected. Similarly a first entity is considered to be in communication with a second entity or entities when the first entity electrically sends and or receives whether through wireline or wireless means information signals whether containing voice information or non voice data control information to from the second entity regardless of the type analog or digital of those signals. It is further noted that various figures including component diagrams shown and discussed herein are for illustrative purpose only and are not drawn to scale.

The wireless devices in the system are shown to be in wireless communication via respective radio links with the wireless network through a base station BS also interchangeably referred to herein as a mobile communication node or simply a node of the network . The base station may provide radio interface in the form or Radio Frequency RF links to devices via an antenna unit . Thus terminals operating in a wireless network may exchange information which includes data scheduling and control information feedback information etc. via a base station in the network over a communication channel or link e.g. an RF channel between the base station and the wireless terminals. The wireless network may be a dense network with a large number of wireless terminals operating therein. For ease of illustration only two such devices are shown in . The carrier network may support stationary as well as mobile devices. The mobile communication network may be a cellular carrier network operated managed and or owned by a wireless service provider or operator .

The base station may be for example a base station in a Third Generation 3G network or an evolved Node B eNodeB or eNB when the carrier network is a Third Generation Partnership Project s 3GPP Long Term Evolution LTE network. In other embodiments the base station may also include a site controller an access point AP a radio tower or any other type of radio interface device capable of operating in a wireless environment. In addition to providing air interface or wireless channel e.g. as represented by wireless links to the devices via antenna the communication node or base station may also perform radio resource management as for example in case of an eNodeB in an LTE system .

In case of a 3G carrier network the base station may include functionalities of a 3G base station along with some or all functionalities of a 3G Radio Network Controller RNC . Various base stations whether 3G base stations or base stations in other types of carrier networks e.g. Fourth Generation 4G networks and beyond may be configured as discussed below to implement at least a portion of the ABR bitrate control solution according to particular embodiments of the present disclosure. For example in one embodiment the base station may be configured in hardware via software or both to implement at least a portion of the ABR bitrate control methodology as discussed herein. For example when existing hardware architecture of the base station cannot be modified the ABR bitrate control solution according to one embodiment of the present disclosure may be implemented through suitable programming of one or more processors and or schedulers e.g. processor or more particularly the processing unit and scheduler in in the base station . The execution of the program code by a processor and or scheduler in the node may cause the processor and scheduler to perform appropriate method steps illustrated in discussed later below .

The base station may be part of an Access Network AN not shown portion of the carrier network . The AN may be a 3GPP cellular AN or an International Mobile Telecommunication IMT Radio Access Network RAN such as for example a Universal Terrestrial Radio Access Network UTRAN an Evolved UTRAN E UTRAN a GSM EDGE RAN GERAN a Worldwide Interoperability for Microwave Access WiMAX network and the like. In case of a 3G RAN for example the base station may include cellular backhaul not shown having functionalities of a 3G Radio Network Controller RNC or Base Station Controller BSC . The base station and some of the portions of its backhaul such as for example a BSC or an RNC may be considered to comprise the RAN portion of the network.

In case of cellular access the term access network may include not only a RAN portion comprising for example a base station with or without a base station controller of a cellular carrier network but other portions e.g. cellular backhaul and core network as well. As is understood a cellular AN may include multiple cell sites as shown for example in each under the radio coverage of a respective base station BS or base transceiver station BTS .

The carrier network may include a network controller coupled to the base station and providing logical and control functions e.g. terminal mobility management access to external networks or communication entities subscriber account management billing delivery of streamed video content etc. Internet Protocol IP connectivity and interconnection to other networks e.g. the Internet or entities roaming support etc. In case of an LTE carrier network the network controller may be a Core Network CN which may include some or all functionalities of an Access Gateway AGW or an Evolved Packet Core EPC . In certain embodiments the CN may be for example an IMT CN such as a 3GPP CN or a 3GPP2 CN for Code Division Multiple Access CDMA based cellular systems or an ETSI TISPAN European Telecommunications Standards Institute TIPHON Telecommunications and Internet Protocol Harmonization over Networks and SPAN Services and Protocols for Advanced Networks CN.

Regardless of the type of carrier network the network controller may function to provide connection of the base station to other wireless terminals not shown operating in the carrier network and also to other communication devices e.g. wireline or wireless phones computers monitoring units etc. or resources e.g. an Internet website in other voice and or data networks not shown external to the carrier network . In that regard the network controller may be coupled to a packet switched network e.g. the IP network such as the Internet as well as a circuit switched network such as the Public Switched Telephone Network PSTN to accomplish the desired connections beyond the carrier network .

The carrier network may be a cellular telephone network a Public Land Mobile Network PLMN or a non cellular wireless network whether voice network data network or both . The wireless terminals i.e. the UEs may be subscriber units in the carrier network . Furthermore portions of the carrier network may include independently or in combination any of the present or future wireline or wireless communication networks such as for example the PSTN an IP Multimedia Subsystem IMS based network or a satellite based communication link. Similarly as also mentioned above the carrier network may be connected to the Internet via its core network s connection to the IP network or may include a portion of the Internet as part thereof. In one embodiment the wireless network may include more or less or different types of functional entities than those shown in .

The teachings of the present disclosure may apply to many different types of wireless networks cellular or non cellular such as for example IP based 3GPP 3GPP2 cellular networks including LTE networks WiMAX systems International Mobile Telecommunications Advanced IMT Advanced systems e.g. LTE Advanced systems etc. where ABR streaming of video or audio visual content to network based wireless devices is offered by the network.

In the discussion below various actions as shown for example in according to the teachings of particular embodiments of the present disclosure are described to be performed by a network entity in the operator network as part of maintaining a dataset of geo locations where network data coverage is low and also as part of forcing a mobile client to switch to a lower bitrate for the delivered video content. Although depict a Radio Network Controller RNC as an example of such a network entity it is understood that in certain embodiments the term network entity may refer to a base station or BTS alone with or without the functionalities of a BSC or a core network alone or a BSC or a combination of a BS with or without the functionalities of a BSC and a CN. For example in an LTE network an eNB may be configured to perform the functions of a network entity discussed herein. Similarly when certain RNC functionalities are implemented in a CN the CN may represent the network entity described herein. If the RNC functionality according to particular embodiments of the present disclosure is distributed between a BS and a CN then the below described network entity may be a combination of such a BS and CN. On the other hand if the RNC functionality is distributed among multiple base stations or a BS and some other node not shown such combination of nodes may then constitute the network entity discussed herein. Another entity which may be IP based in the network other than those mentioned above may be configured to perform as a network entity as per the teachings of the present disclosure. Furthermore in the discussion below although the network entity may be referred to as performing accomplishing or carrying out a function or process such performance may be technically accomplished in hardware and or software as desired.

As shown at block in a network entity in the operator network may initially determine a minimum threshold bitrate authorized under an adaptive streaming i.e. ABR streaming used by a mobile device e.g. the mobile device to play an audio visual content. The network entity may then monitor whether a current audio visual segment is being delivered to the mobile device at a delivery bitrate that is lower than the threshold bitrate block . When the delivery bitrate of the current audio visual segment is lower than the threshold bitrate the network entity may obtain the geographic location coordinates for the mobile device block because such reduced delivery bitrate may indicate a radio outage condition. Thereafter the network entity may report those geographical location coordinates for storage into a database block which may be configured to maintain a data set of geo locations e.g. in the form of location coordinates in the network that have a less than desired radio coverage.

Referring now to when a mobile device e.g. the mobile device is receiving ABR delivered audio visual content in the network a network entity in the operator s network may monitor the direction and speed of travel of the mobile device to ascertain whether the mobile device is approaching a geographical location in the cellular network that has a less than desired radio coverage block . When the network entity determines that the mobile device is indeed approaching such a low coverage area the network entity may force the mobile device to switch to a delivery bitrate that is lower than a bitrate currently being used by the mobile device to receive the network delivered audio visual content block .

Various blocks in are now discussed in conjunction with which pictorially illustrates how a network entity e.g. the RNC may determine presence and location of a radio quality drop spot in a wireless network e.g. the network . In the outage learning process of the ABR delivery bitrate is monitored for each UE receiving network delivered video content block . As shown in the RNC may comprise an ABR segment delivery server that delivers ABR video content to UEs through adaptive streaming or ABR Hypertext Transfer Protocol HTTP progressive downloads. The video content may originate from sources external to the network . A Segment Encoding and User Session Bandwidth Delivery Awareness and Control module also referred to here in as a delivery module may monitor delivery bitrate bandwidth for the video content delivered by the server as discussed in more detail below. In one embodiment the delivery module may be part of the server which may provide manifest files for the video segments delivered to the UEs via ABR streaming . In three exemplary base stations are shown as part of the carrier network and communicatively coupled to the RNC . The respective radio coverage areas associated with each base station are symbolically shown using concentric circles around the corresponding base station. Each base station may be similar to the base station in and hence the base stations are not additionally described herein. In the base station may be serving the UE . Other base stations may similarly serve other UEs not shown . The UE may be present in an automobile vehicle and may be playing ABR video content block received from the base station over a radio link for its user. As discussed earlier in ABR streaming a client device here the UE may play the ABR video content based on the bitrate specified in a manifest file not shown associated with the delivered video content.

The network entity here the RNC and more specifically the delivery module may initially determine at block if the ABR video session s manifest file is encrypted. If the manifest file is not encrypted the module may parse the manifest file for ABR profiles block i.e. the bitrates specified in the manifest file. The module may then determine a minimum threshold bitrate authorized in the manifest file. The system may set or treat the lowest bitrate in the manifest file as this minimum threshold value block . On the other hand if the manifest file is encrypted block then the module may use a default predefined bitrate for this minimum threshold value block . Such default predefined bitrate may be configured based on a number of factors such as for example prior observations of typical lowest bitrates in unencrypted manifest files associated with video contents similar in nature to the video content currently being delivered with an encrypted manifest file actually used lowest bitrates for delivery of this type of video content with encrypted manifest file to other customers users over a given period of time etc. Once the threshold values are established at blocks or as applicable the network entity or more specifically the module in the embodiment of may commence monitoring the bitrate with which the current video segment is delivered to the UE for the ABR streaming session block . The module may be in communication with the delivery server or may be part of it as mentioned before to monitor the delivery bitrates for the ABR delivered video content.

As shown in the UE carrying vehicle may be moving away from the base station and toward a geographical area that may experience no or less than desired radio coverage. The manifest file for the ABR segment may specify three exemplary bitrates 8 Megabits per Second 8 Mbps 2 Mbps and 500 Kilobits per Second 500 Kbps . Depending on the proximity of the UE carrying vehicle to the serving base station and depending on the condition of the radio interface over the link the video content may be delivered to the client UE with progressively decreasing bitrates. For example the UE may receive the content ABR segments through a progressive download via Hypertext Transfer Protocol http . In that case the content may not be actually streamed. In any event the client will choose which segments to pull based on the rate it is filling its buffer. The client i.e. the UE may pull the content at bitrates that are close to the highest manifest bitrate of 8 Mbps when the UE is geographically closer to the serving base station . The delivery bitrate may start to reduce when the UE moves away from the base station . The ABR player in the client UE may adapt to these progressively reducing delivery bitrates by automatically selecting a bitrate from the video content s manifest file that is closest to the current delivery bitrate. For example in case of the UE discussed herein if the current delivery bitrate is 2.5 or 3 Mbps the ABR player in the client UE will automatically switch to the 2 Mbps bitrate to allow the player to maintain its internal playback buffer not shown filled with video content. Similarly when the current delivery rate drops to 600 Kbps the client player in the UE will move to the manifest specified 500 Kbps rate for receiving the ABR delivered content. Thus an ABR client may automatically switch to profiles i.e. bitrates represented in the manifest file based on the rate at which the current video segment is being delivered. The ABR client may automatically move to the lowest bitrate in the manifest file if the mobile network is delivering the segments at that bitrate or a slightly higher bitrate.

As part of monitoring the segment delivery bitrate block in the network entity or more specifically the module in the embodiment of may determine at block whether the ABR video segment is delivered to the client UE below the predefined threshold level determined earlier i.e. the applicable threshold value determined at block or block . If the video segment is not delivered below the predefined threshold value at block or block and if the mobile device s video session is still active at block then the network entity i.e. the module in the embodiment of may return to its bitrate monitoring at block .

It is understood that radio conditions encountered by the serving BS may affect the content delivery bitrate which would in turn affect the bitrate with which the client device i.e. the UE pulls or downloads the ABR video segments from the delivery server . There may be a region or spot in the serving BS s coverage area where the radio coverage is either low or non existent. Such an outage region is identified by the reference numeral in . When a client device here the UE enters such a region e.g. because of the mobility of the UE carrying vehicle the serving BS may end up delivering the video segment at a delivery rate that may be less than the lowest bitrate authorized within the associated manifest file block in or below a configurable threshold bitrate in case the manifest file is encrypted block in . As a result the client UE s ABR player may not be able to fill its playback buffer with sufficient video content to enable the UE to safely cross the outage region without interrupting or stopping the current playback. At reference numeral in such a lower delivery rate is shown as 250 Kbps in the context of the vehicle s entry into the outage region . On the other hand the lowest ABR encoded bitrate in the manifest file is shown to be 500 Kbps. Thus if the client player is downloading a video segment at a rate below the predefined threshold value block the module may become aware of that through its monitoring of the delivery bitrates. As a result the module may request geographical location information about the client UE from the radio network i.e. from an appropriate entity or entities in the network such as for example the base station serving the UE via known mobile radio positioning locating Application Programming Interfaces APIs block in . These APIs may use any known positioning or locating method s such as for example positioning methods based on radio cell coverage Global Positioning System GPS Assisted GPS A GPS Global Navigation Satellite System GLONASS Galileo or other satellite based systems methods or Time Of Arrival TOA Uplink Time Difference Of Arrival UTDOA Observed Time Difference Of Arrival OTDOA or Enhanced Observed Time Difference E OTD methods. Generally additional description of the positioning methods in a cellular network may be found in such 3GPP Technical Specifications TS as for example the TS 36.305 E UTRAN Stage functional specification of UE positioning in E UTRAN the TS 25.305 Stage functional specification of UE positioning in UTRAN and TS 43.059 Functional stage description of Location Services LCS in GERAN . Many of these positioning methods may be based on network triangulation Wi Fi positioning and or mobile device s internal sources. In particular embodiments the module may request the UE through the BS to provide its geographical location coordinates to the network and hence to the module or may receive UE s geographical location information from a satellite network not shown .

In it is indicated at reference numeral that the UE s location coordinates i.e. the location coordinates of the UE carrying vehicle are 19.7323 degrees North latitude and 155.0412 degrees West longitude . When the network entity or the module in the network entity receives this geo location information of the UE in response to its request at block in it may report UE s location coordinates to a Video QoS Location Awareness System Server in the network entity block for storage into an associated database as indicated through reference numeral in . In one embodiment the system may manage the database as well as storage and retrieval of information from that database . If the mobile device video session is still active block such monitoring of delivery bitrate block may continue to collect geo location information for different radio outage areas in the network . When the device video session concludes the network entity may exit the outage learning monitoring process in block .

For each UE playing ABR audio visual content in the network the network entity may monitor respective content delivery bitrate to obtain UE s geographical location coordinates when the delivery bitrate is lower than a pre defined threshold level. As shown in each base station in the network may be connected to the network entity and serve respective UEs in its coverage area. As part of building the database with information about radio outage areas across the entire network each base station may participate in delivery of ABR video content as well as reporting of UEs geographical locations if so requested by the network entity . In this manner clusters of quality drop spots i.e. locations where radio coverage is low or non existent on the radio map of the network may be detected and their geographical coordinates stored in the database for future use in controlling a UE s bitrate for downloading the ABR delivered video content as discussed later with reference to .

Referring now to when a mobile device e.g. the UE is playing an ABR video content block the network entity may be configured according to one embodiment of the present disclosure to determine a Delivery Bitrate that may be needed in case the mobile device is heading into an area with less than desired data coverage such as the area shown in . In one embodiment the ABR segment delivery server may be configured to perform such determination. It is noted here that in the embodiment of the module is assumed to be a part of the server and hence is not separately shown as is the case in . As part of the Delivery Bitrate determination the network entity may first ascertain at block whether the ABR video session s manifest file is encrypted. If the manifest file is not encrypted the network entity i.e. the server in the embodiment of may parse that manifest file for ABR profiles or bitrates block and set the Delivery Bitrate to be a bitrate that is next to the lowest bitrate specified in the manifest file. In one embodiment a predefined adjustment value may be subtracted from this bitrate to arrive at the Delivery Bitrate as shown at block i.e. Delivery Bitrate next to the lowest bitrate in the manifest file a predefined adjustment value . The adjustment value may depend on such factors as the current condition of the radio channel between the serving base station and the target UE as represented by an automobile vehicle in prior actual delivery bitrates to UEs for similar video content when those UEs head into radio outage areas restrictions on video segmenting that may constrain the delivery bitrate etc. As an example of such Delivery Bitrate at block the delivery server may select it to be 600 Kbps assuming that the lowest bitrate in the manifest file is 500 Kbps as shown in .

On the other hand if the manifest file is encrypted block the network entity i.e. the server in the embodiment of may use a predefined bitrate as the Delivery Bitrate block . As mentioned earlier with reference to block in such predefined bitrate may be configured based on a number of factors such as for example prior observations of typical lowest bitrates in unencrypted manifest files associated with video contents similar in nature to the video content currently being delivered with an encrypted manifest file actually used lowest bitrates for delivery of this type of video content with encrypted manifest file to other customers users over a given period of time etc. More generally the Delivery Bitrate may be a simple set value or it may be a value automatically determined based on parsing an unencrypted manifest. As in case of the bitrate at block the RNC may similarly select 600 or 650 Kbps as the Delivery Bitrate at block for an encrypted manifest file .

At block the RNC may then monitor the location of the mobile device i.e. the vehicle carrying the UE through a mobile radio API to a location identifying process or service or the mobile device may itself send its geo location information e.g. GPS coordinates to the RNC . These APIs may use any known positioning or locating method s some examples of which are given earlier with reference to discussion of . If the mobile device s video session is no longer active block the RNC may exit its processing of UE s location tracking block . However if the mobile device s video session is still active the RNC may determine at block if the mobile device i.e. the UE is moving toward a defined video outage area i.e. a physical location within the carrier network where radio outage occurs and as a result previous drops in the content delivery bitrates have been observed such as for example at block in . The server which may contain the module as noted earlier may store in the database geographical coordinates of various radio outage areas in the network as determined using the methodology in . The server may access the database to determine whether the location information received at block indicates UE s geographical proximity or potential for physical proximity to one or more radio outage locations stored in the database . For example as noted at arrow in a triangulation based positioning method may indicate to the RNC that the UE carrying vehicle is heading 118 degrees west at 60 miles per hour MPH which may eventually take the vehicle into or in close proximity to the defined video outage area having geographical coordinates of 19.7323 degrees North and 155.0412 degrees West .

If the RNC determines that the UE is not heading toward the outage area the server in the RNC may not need to limit the video segment delivery rate for the UE block because the UE would not experience unfavorable radio conditions and hence would not face video playback interruption. In that case the RNC i.e. the server may return to its location monitoring at block .

However if the RNC determines that the UE carrying vehicle is indeed heading toward the outage area as is the case in where data coverage is low or less than desired the RNC may calculate how long it would take for that vehicle to reach closest to the video outage area based on the vehicle s current speed and direction of travel block . In this calculation is interchangeably referred by the parameters Time to video outage location or Time to location . Using this calculation at block the network entity may further calculate at block how long it should wait before forcing e.g. by limiting the bandwidth of the delivered data or instructing e.g. via a message the client UE to switch to a lower bitrate within the manifest file. The forced bandwidth control aspect is shown at block in and discussed below. In an alternative embodiment a UE specific message may be sent from the network entity informing the UE to switch to the lowest bitrate in the currently played video segment s manifest file.

By preemptively forcing the bitrate change the network entity will enable the client UE to fill the empty portion of its playback buffer with lower quality video segments resulting in a larger number of segments pre downloaded. With more segments in its playback buffer the client can continue the video playback for a much longer time than with fewer segments at a higher bitrate stream. Thus by forcing the client to the lowest bitrate and enabling it to fill its internal buffer with lower quality video segments to maximize the video playout length the network entity may enable the client UE to navigate through the outage area assuming that the vehicle reasonably maintains the same speed of travel without video data disruptions. In one embodiment such advance filling of client s playback buffer with lower quality video segments just prior to the client device s entry into the outage area may be sufficient to enable the client device to cross that area without running out of video segments during transit. In another embodiment the network entity may perform a different type of calculation to determine the proper or most suitable bitrate based on a calculated length of time to navigate the outage . This calculation may prevent the client from going to the absolute worst video quality at the lowest bitrate in the manifest if the calculated time to navigate through the outage based on various segment bitrates can settle on a higher quality of video at a higher bitrate and still fill the client s playback buffer with enough playout time to make it through the outage area without video interruptions.

Referring again to the calculation of Time to lower bitrate at block may be based on the calculated Time to location at block and the earlier determined lowest segment Delivery Bitrate value at block or whichever is applicable so that enough video segments may be delivered to the client UE while the UE is still under acceptable data coverage from the serving BS and before the UE enters the video outage area . At block the network entity may ascertain whether the client device s actual physical location the Device Location parameter at block as reported by the device itself or as determined using one or more previously mentioned positioning methods has reached the Calculated Location i.e. the location that the UE carrying vehicle may reach at the conclusion of the Time to lower bitrate at block assuming no significant change in the direction or speed of travel to force the lower delivery bitrate. If for any reason e.g. a significant change in travel direction or speed the Device Location turns out to be different from the Calculated Location at block the network entity may return to its monitoring of the device session location at block . However if the Device Location is sufficiently close e.g. within a pre defined range of travel time such as for example 5 to 7 minutes of travel time at the current speed and direction of travel to the Calculated Location the network entity more particularly the delivery server in case of the embodiment in as mentioned earlier may commence delivery of video segments at the Delivery Bitrate as determined at blocks or whichever is applicable block to force the client UE to switch to the lowest bitrate in the video segment s manifest file. As mentioned earlier an ABR client may automatically switch to the lowest bitrate in the manifest if the network is delivering the video segment at that bitrate or at a slightly higher bitrate. Thus the usage of the Delivery Bitrate at block would force the client UE to select the lowest authorized bitrate in the manifest thereby enabling the client to fill its video playback buffer with sufficient number of video segments albeit of lower quality to last through the data outage region .

The exemplary pictorial illustration in shows how the forced bitrate control according to the embodiment in may enable the UE to have an uninterrupted playback of the ABR delivered video content while transiting through the data outage region . Initially the UE may be downloading ABR video segments at the bitrate of 2 Mbps. If the UE has a playback buffer of size 32 MBs that buffer may be able to accommodate twelve 12 such 2 Mbps segments assuming that each segment contains 10 seconds of video . As a result the UE would have 2 minutes 12 segments 10 seconds segment of High Quality HQ playback time as shown by the buffer configuration at reference numeral . The UE would continue to play this HQ video from its buffer. When the UE starts approaching the outage area as indicated by the arrow also shown in the network entity may determine based on UE s speed and direction of travel that the UE would hit the outage region in the next 7.1 minutes. This is indicated at reference numeral in . In one embodiment whenever a UE is within 7 to 8 minutes of travel distance from the outage region the network entity may force the UE to switch to a lower bitrate for playback of video content e.g. the lowest bitrate in the video content s manifest file . Hence in the embodiment of when the network entity determines that the UE is heading toward the data outage region and would hit that region in the next 7.1 minutes the network entity may reduce its segment delivery bitrate to 600 Kbps as indicated at reference numeral . As a result the UE would be forced to select the lowest bitrate in the manifest i.e. 500 Kbps to download video segments from the network s content delivery server . Instead of the previous HQ segments at 2 Mbps the UE would be now forced to start maintaining its playback buffer with Low Quality LQ video segments downloaded at the lowest manifest bitrate of 500 Kbps. This is illustrated by the buffer configuration at reference numeral . This process may continue as shown by the buffer configuration at reference numeral and conclude when the entire playback buffer is filled with such LQ video segments as shown by the buffer configuration at reference numeral . Finally when the UE is physically closest to the outage region as indicated by reference numeral the UE s playback buffer would be filled with sufficient 500 Kbps segments to allow the UE to cross the outage area without playback interruption. In the embodiment of it is shown that the UE s 32 MB playback buffer is now filled with 51 LQ 500 Kbps video segments each segment containing 10 seconds of video. This would allow the UE to have 8.5 minutes 51 segments 10 seconds segment of LQ play. If the UE carrying vehicle is traveling at 60 MPH this would allow uninterrupted video playback for the next 8.5 miles of travel distance which may be significantly more than the size in miles of the outage region in the vehicle s direction of travel. Generally when the playback buffer is already full a new segment may get loaded into the buffer when a previously stored segment completes its playback. Thus once a client completes watching a 10 second segment the next 10 second segment may be downloaded into the buffer and the process may continue. In one embodiment the segment size may be 5 seconds 10 seconds or any other pre defined size.

The memory may store data or other related communications received from a network entity e.g. the base station in or the RNC in in the carrier network . For example in one embodiment the memory may store video segments received from the base station . These data may be later used by the processor to playback the received ABR video content using the ABR player .

The transceiver may communicate with the processor to perform transmission reception of data control or other signaling information via an antenna unit to from the network entity with which the wireless device may be in communication. The transceiver may be a single unit or may comprise of two separate units a transmitter not shown and a receiver not shown . The antenna unit may include one or more antennas. Alternative embodiments of the wireless device may include additional components responsible for providing additional functionality including any of the functionality identified herein such as for example receiving audio visual content from a network entity and playing that content reporting geo location coordinates of the wireless device to the network entity receiving an indication of bitrate switch from the network entity and then switching to the lowest bitrate specified in the manifest file etc. and or any functionality necessary to support the solution as per the teachings of the present disclosure.

In one embodiment the wireless device may be configured in hardware via software or both to implement device specific aspects of outage learning and ABR bitrate switch as per teachings of the present disclosure. The software or program code may be stored in the memory and executable by the processor in response to for example receiving appropriate indications from a network entity. For example when existing hardware architecture of the device cannot be modified the functionality desired of the device may be obtained through suitable programming of the processor . The execution of the program code by the processor may cause the processor to perform as needed to support the outage learning and forced bitrate control solutions as per the teachings of the present disclosure. Thus although the wireless device may be referred to as performing accomplishing or carrying out or similar such other terms a function or a process or a method step such performance may be technically accomplished in hardware and or software as desired. The network operator or a third party e.g. manufacturer or supplier of the device may suitably configure the device e.g. through hardware and or software based configuration of the processor to operate and reciprocate with the network entity e.g. the base station or the RNC etc. as per the particular requirements of the present disclosure discussed above. For example the device may be configured to report its geo location coordinates to the network entity either periodically on its own or upon receiving a trigger or request therefor from the network entity to assist the network entity in building a database of radio outage regions within a carrier network preemptively switch to the lowest bitrate in the manifest file upon receiving an indication for the switch from the network entity etc. As a result the mobile device may experience steady uninterrupted playback of the network delivered audio visual content even if the device is at a location that has no or less than desired data coverage.

The base station may include a baseband processor to provide radio interface with the wireless devices e.g. the mobile device in or the mobile devices in the carrier network in via base station s Radio Frequency RF transceiver unit coupled to the base station s antenna unit . The transceiver unit may include RF transmitter and RF receiver units coupled to the antenna unit as shown. In one embodiment the processor may receive transmissions e.g. uplink and or downlink channel condition related information neighboring cell measurement reports geographical location information requests for ABR delivered video content etc. from the wireless device via the combination of the antenna unit and the receiver whereas the base station s transmissions e.g. a message to a UE with instructions to switch to a lower bitrate for downloading the delivered video content a query for a mobile device s geographical location information scheduling related messages etc. to the wireless device may be carried out via the combination of the antenna unit and the transmitter .

The processor may be configured in hardware and or software to perform various actions mentioned above as well as discussed with reference to . In that regard the processor may include a processing unit coupled to a memory and a scheduler to enable the processor to perform various steps illustrated in and discussed in detail hereinbefore. In one embodiment the memory may be a separate unit i.e. not an internal part of the processor as in but coupled to it to provide requisite storage. In another embodiment the memory may function as a database like the database in of network regions having less than desired coverage for radio data transmissions. The memory may contain program code that upon execution by the processing unit may configure the processor to perform various steps discussed hereinbefore with reference to . For example the processing unit may execute the program code to monitor ABR delivered video s delivery bitrates to collect information about radio data outage areas within an operator s network and may later use that information to force UEs to switch to lower bitrates when heading toward such outage areas. The processing unit may be in communication with the memory to process and store relevant information for the corresponding cell site e.g. identities of UEs or wireless devices operating within the cell channel condition reports and or neighbor cell measurement reports received from wireless devices location information received from UEs playing ABR content etc. .

A scheduler e.g. the scheduler in may be part of the base station s processor and may provide the Uplink UL and Downlink DL scheduling decisions for the wireless device based on a number of factors such as for example QoS Quality of Service parameters device buffer status UL and DL channel condition related information received from device device capabilities etc. In one embodiment the network entity may include separate UL and DL schedulers not shown in as part of its baseband processor . The scheduler may have the same data structure as a typical scheduler in an eNB in an LTE system. The processor may also provide additional baseband signal processing e.g. mobile wireless device registration channel signal information transmission radio resource management etc. as required. The processing unit may include by way of example a general purpose processor a special purpose processor a conventional processor a digital signal processor DSP a plurality of microprocessors one or more microprocessors in association with a DSP core a controller a microcontroller Application Specific Integrated Circuits ASICs Field Programmable Gate Arrays FPGAs circuits any other type of integrated circuit IC and or a state machine. The processor may employ distributed processing in certain embodiments.

Some or all of the functionalities described above and earlier with reference to as being provided by a network entity such as a base station a wireless access node point a base station controller and or any other type of mobile communications node may be provided by the processing unit executing instructions stored on a computer readable data storage medium such as the memory shown in .

The network entity in the embodiment of may further include a timing and control unit and a core network interface unit . The control unit may monitor operations of the processor and the network interface unit and may provide appropriate timing and control signals to these units. The interface unit may provide a bi directional interface for the base station to communicate with its core network or other network based control entity to facilitate administrative and call data management functions for mobile subscribers operating in the corresponding cell site of the carrier network e.g. the operator network in .

Alternative embodiments of the base station may include additional components responsible for providing additional functionality including any of the functionality identified above and or any functionality necessary to support the solution as per the teachings of the present disclosure. Although features and elements are described above in particular combinations each feature or element can be used alone without the other features and elements or in various combinations with or without other features and elements. Some or all aspects of the methodology provided herein related to learning about the network based radio outage areas and then preemptively controlling a UE s download bitrate for the ABR delivered video content may be implemented in a computer program software or firmware incorporated in a computer readable storage medium e.g. the memory in and or the memory in for execution by a general purpose computer or a processor e.g. the processor in or the processing unit in . Examples of computer readable storage media include a Read Only Memory ROM a Random Access Memory RAM a digital register a cache memory semiconductor memory devices magnetic media such as internal hard disks magnetic tapes and removable disks magneto optical media and optical media such as CD ROM disks and Digital Versatile Disks DVDs . In certain embodiments the memory may employ distributed data storage with without redundancy.

The foregoing describes a system and method that utilize a learning system to maintain a data set of geographical locations where network data coverage is low i.e. less than desired . When it is determined that a client i.e. a mobile device is moving towards such an area the client is forced or instructed to switch to a lower bitrate stream of segments in order to force the client s playback buffer to fill itself with enough low quality video segments to travel through or cross the area of low data coverage without video playback interruption. Due to the preemptive forcing of the client mobile device to switch to a lower bitrate while traveling through a geographical area with low data coverage the ABR streaming system according to the teachings of the present disclosure allows the client device to maintain a certain minimum level of Quality of Service QoS when moving through network areas with spotty data coverage. Furthermore an ABR streaming system according to certain embodiments of the present disclosure can rapidly adapt to ad hoc issues such as inclement weather structural interference or radio coverage interruption because of a pre stored data set of geo locations where network data coverage is low or non existent.

As will be recognized by those skilled in the art the innovative concepts described in the present application can be modified and varied over a wide range of applications. Accordingly the scope of patented subject matter should not be limited to any of the specific exemplary teachings discussed above but is instead defined by the following claims.

