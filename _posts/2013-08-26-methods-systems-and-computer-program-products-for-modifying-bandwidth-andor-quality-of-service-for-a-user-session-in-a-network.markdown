---

title: Methods, systems, and computer program products for modifying bandwidth and/or quality of service for a user session in a network
abstract: Bandwidth and/or Quality of Service (QoS) for a user session may be modified in a network that includes a Regional/Access Network (RAN) that facilitates differentiated end-to-end data transport between a Network Service Provider (NSP) and/or an Application Service Provider (ASP) and a Customer Premises Network (CPN) that includes a Customer Premises Equipment (CPE) by receiving a request at the NSP and/or the ASP to change the bandwidth and/or QoS associated with the user's session. An Application Programming Interface (API) is used at the NSP and/or the ASP to communicate with the RAN to modify the bandwidth and/or QoS associated with the user's session.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08918514&OS=08918514&RS=08918514
owner: AT&T Intellectual Property I, L.P.
number: 08918514
owner_city: Atlanta
owner_country: US
publication_date: 20130826
---
This application is a continuation of U.S. application Ser. No. 10 756 790 filed Jan. 13 2004 which claims the benefit of and priority to U.S. Provisional Patent Application No. 60 470 650 filed May 15 2003 the disclosures of which are hereby incorporated herein by reference as if set forth in its entirety.

The present invention relates to communication networks and more particularly to managing bandwidth and or Quality of Service QoS in communication networks.

The Internet is a decentralized network of computers that can communicate with one another via the Internet protocol IP . Although the Internet has its origins in a network created by the Advanced Research Project Agency ARPA in the 1960 s it has only recently become a worldwide communication medium. To a large extent the explosive growth in use and traffic over the Internet is due to the development in the early 1990 s of the worldwide Web WWW which is one of several service facilities provided on the Internet. Other facilities include a variety of communication services such as electronic mail telnet Usenet newsgroups internet relay chat IRC a variety of information search services such as WAIS and Archie and a variety of information retrieval services such as FTP file transfer protocol and Gopher.

The WWW is a client server based facility that includes a number of servers computers connected to the Internet on which Web pages or files reside as well as clients Web browsers which interface the users with the Web pages. Specifically Web browsers and software applications send a request over the WWW to a server requesting a Web page identified by a Uniform Resource Locator URL which notes both the server where the Web page resides and the file or files on that server which make up the Web page. The server then sends a copy of the requested file s to the Web browser which in turn displays the Web page to the user.

The topology of the WWW can be described as a network of networks with providers of network service called Network Service Providers or NSPs. Servers that provide application layer services as previously described may be described as Application Service Providers ASPs . Sometimes a single service provider does both functions within a single business

In recent years broadband access technologies such as digital subscriber line DSL cable modems asynchronous transfer mode ATM and frame relay have facilitated the communication of voice video and data over the Internet and other public and private networks. Because broadband technologies are typically deployed by a single transport service provider like a Regional Bell Operating Company RBOC their Regional and Access Networks RAN are often shared by many NSPs and ASPs offering services that range from Internet access and VPN access to Voice over IP Video on Demand and Gaming. Up until recently a given Customer Premises Network CPN would have been connected to a single service provider in a generic way however a new standard for RAN service DSL Forum TR 059 provides a RAN architecture that allows simultaneous access to multiple NSPs and ASPs and for differentiating the data transport service provided by a RAN to these service providers.

Moreover broadband access technology has allowed service providers to expand their content and service offerings to both business and home users. For example a user may subscribe to multiple services or applications such as voice service Internet access service a video service a gaming service etc. from one or more service providers. These services and or applications may be delivered over a single network connection such as a DSL line. Unfortunately with multiple new connectivity options and applications that require specific characteristics from the network there is also a need to establish QoS and bandwidth allocation among multiple services and or applications so as to customize the content delivery according to the users and or providers preferences.

According to some embodiments of the present invention bandwidth and or Quality of Service QoS for a user session may be modified in a network that comprises a Regional Access Network RAN that facilitates differentiated end to end data transport between a Network Service Provider NSP and or an Application Service Provider ASP and a Customer Premises Network CPN that includes a Customer Premises Equipment CPE by receiving a request at the NSP and or the ASP to change the bandwidth and or QoS associated with the user s session. An Application Programming Interface API is used at the NSP and or the ASP to communicate with the RAN to modify the bandwidth and or QoS associated with the user s session.

In other embodiments of the present invention the request may be initiated at the NSP and or the ASP to change the bandwidth and or QoS associated with the user s session.

In other embodiments of the present invention the request to change the bandwidth and or QoS associated with the user s session may be received from a user.

In other embodiments of the present invention the QoS associated with the user session is scheduling resources.

In other embodiments of the present invention using the API may comprise sending a query from the NSP and or the ASP to the RAN to obtain a bandwidth range from the RAN.

In still other embodiments of the present invention at least one bandwidth option within the bandwidth range is presented to the user via the ASP and or the NSP.

In still other embodiments of the present invention a user selection of one of the at least one bandwidth option is obtained at the NSP and or the ASP. The RAN is updated with information to provide the selected bandwidth option for the user s session. The CPE is also updated with the information to provide the selected bandwidth option for the user s session.

In further embodiments of the present invention updating the RAN with information comprises sending a change session bandwidth request message from the NSP and or the ASP to the RAN that contains a request for changing the bandwidth associated with the user s access session to the selected bandwidth option in the RAN. A change session bandwidth response message is sent from the RAN to the NSP and or the ASP that contains an acknowledgement for the change session bandwidth request message.

In still further embodiments of the present invention updating the RAN with information further comprises updating a rate limit associated with a communication queue in the RAN e.g. at the BRAS that is used to process traffic associated with the user s session.

In other embodiments of the present invention updating the CPE with information comprises sending an update session bandwidth info message from the RAN to the CPE that contains a request for changing the bandwidth associated with the user s session to the selected bandwidth option in the CPE.

In still other embodiments of the present invention updating the RAN with information further comprises updating a rate limit associated with a communication queue in the RAN that is used to process traffic associated with the user s session.

In further embodiments of the present invention the NSP and or the ASP is authenticated with the RAN prior to sending the query from the NSP and or the ASP to the RAN.

In still further embodiments of the present invention authenticating the NSP and or the ASP with the RAN comprises sending an establish service session request message from the NSP and or the ASP to the RAN that contains an identification of the NSP and or the ASP and authorization credentials. An establish service session response message is sent from the RAN to the NSP and or the ASP that contains an authentication result.

In still further embodiments of the present invention sending the query comprises sending a query session bandwidth request message from the NSP and or the ASP to the RAN that contains a request for bandwidth information associated with the user s session. A query session bandwidth response message is sent from the RAN to the NSP and or the ASP that contains the bandwidth range.

In still further embodiments of the present invention the request is a first request and the method further comprises receiving a second request at the NSP and or the ASP from the user to change the bandwidth associated with the user s session to a default bandwidth after updating the RAN with the information and updating the CPE with the information. API calls at the NSP and or the ASP are used to communicate with the RAN to change the bandwidth allocated to the user s session to the default bandwidth in the RAN.

Other systems methods and or computer program products according to embodiments will be or become apparent to one with skill in the art upon review of the following drawings and detailed description. It is intended that all such additional systems methods and or computer program products be included within this description be within the scope of the present invention and be protected by the accompanying claims.

While the invention is susceptible to various modifications and alternative forms specific embodiments thereof are shown by way of example in the drawings and will herein be described in detail. It should be understood however that there is no intent to limit the invention to the particular forms disclosed but on the contrary the invention is to cover all modifications equivalents and alternatives falling within the spirit and scope of the invention as defined by the claims. Like reference numbers signify like elements throughout the description of the figures.

The present invention may be embodied as systems methods and or computer program products. Accordingly the present invention may be embodied in hardware and or in software including firmware resident software micro code etc. . Furthermore the present invention may take the form of a computer program product on a computer usable or computer readable storage medium having computer usable or computer readable program code embodied in the medium for use by or in connection with an instruction execution system. In the context of this document a computer usable or computer readable medium may be any medium that can contain store communicate propagate or transport the program for use by or in connection with the instruction execution system apparatus or device.

The computer usable or computer readable medium may be for example but not limited to an electronic magnetic optical electromagnetic infrared or semiconductor system apparatus device or propagation medium. More specific examples a nonexhaustive list of the computer readable medium would include the following an electrical connection having one or more wires a portable computer diskette a random access memory RAM a read only memory ROM an erasable programmable read only memory EPROM or Flash memory an optical fiber and a portable compact disc read only memory CD ROM . Note that the computer usable or computer readable medium could even be paper or another suitable medium upon which the program is printed as the program can be electronically captured via for instance optical scanning of the paper or other medium then compiled interpreted or otherwise processed in a suitable manner if necessary and then stored in a computer memory.

Embodiments of the present invention are described herein in the context of digital subscriber line DSL technology for purposes of illustration. It will be understood that the present invention is not limited to DSL technology. Indeed other communication technologies and or network configurations such as but not limited to asynchronous transfer mode ATM frame relay hybrid fiber coax HFC wireless broadband and or Ethernet may also be used in other embodiments of the present invention. In general the present invention is not limited to any communication technology and or network configuration but is intended to encompass any technology and or network configuration capable of carrying out operations described herein. Embodiments of the present invention are also described herein in the context of managing quality of service QoS . As used herein QoS includes but is not limited to treatment applied to an access session application flow and or packet with respect to scheduling a resource bandwidth allocation and or delivery target in an individual element or across an end to end system.

As used herein the term protocol refers to a defined set of rules that govern the exchange of data or information between two or more entities. In addition a protocol layer refers to the hierarchical protocol structure represented by the open systems interconnection OSI model developed by the International Organization for Standardization in which layer one corresponds to the physical layer layer two corresponds to the data link layer layer three corresponds to the network layer layer four corresponds to the transport layer layer five corresponds to the session layer layer six corresponds to the presentation layer and layer seven corresponds to the application layer.

This document defines a common application framework built on top of the DSL Forum TR 059 reference architecture that can be used in a common way to enable service providers to leverage bandwidth and QoS capabilities in the Regional Access Network. This framework comprises an interface specification and associated data model and mechanisms to control the QoS and bandwidth capabilities defined in TR 059. A common interface for Application Service Providers ASPs and Network Service Providers NSPs to leverage may reduce development costs and time to market. This interface defines a mechanism for applications to request IP QoS and bandwidth from the DSL Regional Access network.

Recent work in the DSL Forum has documented a reference architecture DSL Evolution Architecture Requirements for the Support of QoS Enabled IP Services TR 059 with the purpose of defining a common way of supporting enhanced IP applications by enabling IP QoS and bandwidth management capabilities. TR 059 defines a common deployment architecture set of interface specifications and fundamental network element requirements. The architecture and requirements are largely transport or network layer focused. It may be useful to complement this work by defining a common higher layer framework that leverages the capabilities of TR 059 and that can be used by application service providers ASP as they develop and deploy applications.

This document defines a common application framework built on top of the TR 059 reference architecture that can be used in a common way to enable service providers to leverage bandwidth and QoS capabilities in the Regional Access Network. This framework comprises an interface specification and associated data model and mechanisms to control the QoS and bandwidth capabilities defined in TR 059. A common interface for ASPs and NSPs to leverage may reduce development costs and time to market. This interface defines a mechanism for applications to request IP QoS and bandwidth from the DSL Regional Access network.

Specifically the application framework is based on the capabilities defined in phase 2 of TR 059. Therefore the framework defined here assumes that the capabilities of the access node in the Regional Access network will remain largely unchanged but does leverage a policy approach for provisioning the BRAS and Routing Gateway RG to manage IP flows appropriately. As real time signaling capabilities become available this framework may be modified to support these capabilities. In defining the framework and providing details of its use this document also intends to demonstrate that capabilities defined here and in TR 059 are sufficient to support a reasonable set of applications.

Services that span Regional Access networks and require inter Regional Access network communication are generally not described herein as part of this framework. Support of these services is possible if handled at the application layer where an ASP communicates to each Regional Access network to establish bandwidth and QoS for a service.

To provide a common reference for the application framework an architectural view of the DSL network is provided. The text in this section is taken from TR 059 and provides a high level overview. For a more complete description refer to TR 059. illustrates the current state of deployed DSL networks. Boxes in the figures represent functional entities networks and logical components rather than physical elements.

This traditional architecture is centered on providing service to a line or a loop. It is desired however to be able to provide services that are user specific. Additionally more than one subscriber can be present at the same premises and share a single loop. TR 059 describes a slightly more complex situation and hides the common complexity shared with .

This model illustrates an architecture that provides services that are user specific i.e. more than one subscriber can be present at the same premises and share a single loop. Note that shows many to many access through a common Regional Access network. It is used to simultaneously provide an Application Servicebetween an ASP Networkand Userat the same time and over the same U interface as it supports a Network Servicebetween NSP Networkand User.

The Network Service Provider NSP is defined as a Service Provider that requires extending a Service Provider specific Internet Protocol IP address. This is the typical application of DSL service today. The NSP owns and procures addresses that they in turn allocate individually or in blocks to their subscribers. The subscribers are typically located in Customer Premises Networks CPNs . The NSP service may be subscriber specific or communal when an address is shared using Network Address Port Translation NAPT throughout a CPN. This relationship among the NSP A10 NSP interface and Regional Access Network is shown in . NSPs typically provide access to the Internet but may also provide access to a walled garden VPN or some other closed group or controlled access network. L2TP and IP VPNs are typical A10 NSP interface arrangements.

The capabilities of the NSP may include but are not limited to for example authenticating network access between the CPN and the NSP network assignment of network addresses and IP filters assignment of traffic engineering parameters and or customer service and troubleshooting of network access problems

The Application Service Provider ASP is defined as a Service Provider that uses a common network infrastructure provided by the Regional Access Network and an IP address assigned and managed by the Regional Network Provider. This is a new type of DSL service. The Regional Network Provider owns and procures addresses that they in turn allocate to the subscribers. ASPs then use this common infrastructure to provide application or network services to those subscribers. For example an ASP may offer gaming Video on Demand or access to VPNs via IPsec or some other IP tunneling method. The ASP service may be subscriber specific or communal when an address is shared using NAPT throughout a Customer Premises Network CPN . It is envisioned that the ASP environment will have user level rather than network access level identification and that a common Lightweight Directory Access Protocol LDAP directory will assist in providing user identification and preferences. Logical elements used by ASPs typically include routers application servers and directory servers. The relationship between the ASP Network the A10 ASP interface and the Regional Network is shown in .

The capabilities of the ASP may include but are not limited to for example authenticating users at the CPN assignment of QoS to service traffic customer service and troubleshooting of network access and application specific problems and or ability to determine traffic usage for accounting purposes and billing.

The Regional Access Network comprises the Regional Network Broadband Remote Access Server and the Access Network as shown in . Its primary function is to provide end to end data transport between the customer premises and the NSP or ASP. The Regional Access Network may also provide higher layer functions such as QoS and content distribution. QoS may be provided by tightly coupling traffic engineering capabilities of the Regional Network with the capabilities of the BRAS.

The BRAS performs multiple functions in the network. Its most basic function is to provide aggregation capabilities between the Regional Access Network and the NSP ASP. For aggregating traffic the BRAS serves as a L2TP Access Concentrator LAC tunneling multiple subscriber Point to Point Protocol PPP sessions directly to an NSP or switched through a L2TS. It also performs aggregation for terminated PPP sessions or routed IP session by placing them into IP VPNs. The BRAS also supports ATM termination and aggregation functions.

Beyond aggregation the BRAS is also the injection point for providing policy management and IP QoS in the Regional and Access Networks. The BRAS supports the concept of many to many access sessions. Policy information can be applied to terminated and non terminated sessions. For example a bandwidth policy may be applied to a subscriber whose Point to Point PPP session is aggregated into an L2TP tunnel and is not terminated by the BRAS. Sessions that terminate on or are routed through the BRAS however can receive per flow treatment because the BRAS has IP level awareness of the session. In this model both the aggregate bandwidth for a customer as well as the bandwidth and treatment of traffic per application can be controlled.

The Access Network refers to the network between the ATU R and the BRAS including the access node and any intervening ATM switches.

The Access Node provides aggregation capabilities between the Access Network and the Regional Network. It is the first point in the network where traffic on multiple DSL lines will be aggregated onto a single network. Traditionally the Access Node has been primarily an ATM concentrator mapping PVCs from the ATU R to PVCs in the ATM core. It has also shaped and policed traffic to the service access rates.

As described in TR 059 the responsibility of policing ATU R to ATU C PVCs to the subscribed line rate is moved from the Access Node to the BRAS to establish additional bandwidth on the DSL line for additional services. The Access. Node sets the line rate for each PVC at the synch rate or slightly less of the ATU R and ATU C. This will make the maximum amount of subscriber bandwidth available for services. The BRAS polices individual sessions flows as required to their required rates and also performs the dynamic changes when bandwidth on demand services are applied.

Phases 1 and 2 of TR 059 introduce the capability to change the Regional Access network from an IP unaware layer 2 network to a network that leverages IP awareness in key elements to enable IP QoS and more efficient and effective use of bandwidth. These key IP aware elements are the BRAS and the RG as shown in .

The architecture also evolves the types and number of access sessions specifically PPP sessions that a subscriber would typically establish to a service provider. Where previously there had been just one access session to an ISP there are now multiple access sessions with three basic types 

Community NSP Shown in as the solid line between the RG and NSP this type of access session is established between an RG and an NSP. It is called the Community NSP connection because all the devices within the Customer Premises Network share the connection to the NSP using the Network Port Address Translation NPAT feature of the RG. Because the Community NSP connection is given the Default Route at the RG there can typically be only one. This connection is typically set up to an ISP to provide Internet access to all the devices in the Customer Premises Network. This PPP session may terminate on the BRAS or may pass through the BRAS in tact and be placed into a L2TP tunnel to the NSP.

Personal NSP Shown in as the dashed line between Userand NSP this type of access session is established between a device within the Customer Premises Network and an NSP. It passes through the RG at the Ethernet PPPoE level. It is called the Personal NSP connection because only the device within the Customer Premises Network from which the connection was established can access the NSP. This connection may avoid using the NPAT feature of the RG. This connection is typically set up to an ISP or a corporation to provide private or personalized access or any access that cannot traverse the NPAT sharing mechanism at the RG. This PPP session may terminate on the BRAS or may pass through the BRAS in tact and be placed into a L2TP tunnel to the NSP.

ASP Shown in as the dotted line between the RG and ASP this type of access session is established between an RG and the ASP network. It is typically a single connection that is shared by all the ASPs. Because the Community NSP connection is typically given the Default Route at the RG the ASP connection must provide the RG with a list of routes to the ASP network. Also because there is not a default route to the ASP network it may not be possible to provide typical Internet access through the ASP connection. This connection is typically set up to the ASP network to provide application specific and QoS enabled access among all the applications in the ASP network and all the devices in the Customer Premises Network. This PPP session type may terminate on the BRAS so that per application flow treatment can be applied.

TR 059 describes a hierarchical scheduling approach leveraged by the BRAS to manage the downstream links between the BRAS and the RG. Similarly it describes how the BRAS leverages policing techniques including a random discard enhancement to apply backpressure to the upstream source to minimize potential congestion in that direction. The application framework provides a mechanism for service providers to modify bandwidth and QoS. In particular embodiments of the present invention to simplify the number of queues to be managed in the BRAS and RG this framework assumes that only the ASP session has the ability to support per application flow treatment. In such embodiments NSP access sessions can only be managed in terms of the aggregate bandwidth and priority with respect to other access sessions on the DSL line. Because many ASPs share the ASP access session the bandwidth and priority of the session is set by the Regional Access provider and typically cannot be modified by an ASP. The ASP can however modify the characteristics of specific applications within the ASP PPP session by assigning the application to a particular queue and treatment type. The BRAS and RG may schedule or police packets based on one or more of the following parameters the priority of the access session the current packet s relation to the rate limit of the access session the priority of the application within the access session only supported for the ASP PPP Session and or the current packet s relation to the rate limit of the application or queue for example an EF rate limit supported for the ASP PPP session.

Network resources are typically not reserved in this model. Instead traffic engineering policies and intelligent scheduling and policing of packets is leveraged to achieve aggregate QoS characteristics. Similarly the Differentiated Services Diffserv model is leveraged as a way to classify mark and schedule packets. The QoS approach that has been applied to the application framework assumes that these capabilities are in place and that QoS relationships can be viewed within a single subscribers DSL connection ATM VC between the BRAS and the RG.

Further if a pragmatic approach to providing QoS is taken some additional simplifying assumptions can be made. It is expected that initially there will only be a small number of applications requiring QoS. The expected applications include VoIP video conferencing video on demand and gaming. It is unlikely that the majority of DSL customers will subscribe to all of these services and expect to use them simultaneously. Rather it is expected that only a small number of applications e.g. 2 or 3 will need to be managed concurrently on a DSL line basis. The expected applications also imply a certain priority relationship among themselves. If while playing an Internet game a VoIP call comes in it may be generally agreed that the VoIP session should take precedence over the gaming session if finishing the game is more important then the user can choose not to answer the call . As long as these assumptions hold true then a small number of applications can be managed effectively with a small number of queues and a simple priority arrangement among them. As the number of applications requiring QoS increases however these assumptions may have to change and the QoS approach may need to evolve to support a finer granularity.

The number of queues available for applications within the ASP PPP session is five in accordance with some embodiments of the present invention. This may change over time in accordance with other embodiments of the present invention but initially the number of queues is likely to be small. Diffserv like treatment is assumed when describing the queue behaviors and can be classified as one expedited forwarding EF queue up to 3 assured forwarding AF queues or one best effort BE queue. The EF queue typically receives the highest priority and is typically served first. This queue type is defined for constant bit rate type servers. A rate limit associated with this queue is put in place so it should not be able to consume all the DSL line resources. This queue will likely be reserved for voice applications. AF queues are defined for traffic that is more variable in nature and would be inefficient to associate with a fixed amount of network resources EF . Queues in this category could receive different levels of priority or could simply be used as an aggregate priority but each queue may have a different rate limit applied depending on the requirements of the application using that queue. To simplify the approach the framework initially assumes the later case where AF queue receive a medium priority treatment and the different queues are used to provide different bandwidth needs i.e. rate limits . A BE queue is the default queue and has resources available to it only after packets that are in profile for the EF and AF queue are served.

The approach to establishing QoS and bandwidth requirements in the network is one of provisioning rather than signaling. The BRAS and RG will be provisioned with the classifiers to identify flows and queue them appropriately. As a result the services that this model supports are services that fit more into a subscription model rather than an instantaneous establishment of service and QoS. This potential disadvantage however does not have to be apparent to the end users. Many services may require that the customer establish an account and perhaps even require the shipment of special hardware or software for example VoIP Phone PC camera and the like. During the time frame that the customer is establishing service with the ASP the DSL network can be provisioned to support the service. It is important to note that the provisioning time lines are not expected to be in terms of days but could be as small as a few minutes depending on how the application framework is implemented.

Given that a signaled approach to QoS is not included in the framework of certain embodiments of the present invention real time admission control cannot be accomplished at the network layer in such embodiments. While it could be possible to block the subscription of a new service based on the current subscribed services such a model may be too restrictive because it does not allow the user to subscribe to two applications that they would not intend on using simultaneously. Instead a strict priority relationship among the applications flows is used to manage simultaneous application interactions. Rate limits are also applied at the RG and BRAS so that no single application can consume all the subscriber s DSL resources and to provide some level of fairness. An example application relationship in accordance with some embodiments of the present invention is shown in and Table 1. In this example it is assumed that the NSP and PNSP sessions receive best effort treatment with respect to traffic that is in profile for the EF and AF queues in the ASP session. Other business models are possible as described in Section 4.3.

There are two basic levels of classification that need to be applied in the framework The first level is at the PPP session level. Classification at this layer is accomplished through inspection of the Fully Qualified Domain Name FQDN used when the PPP session is initiated. The second level is at the application layer according to flows. To provide an application flow with the proper scheduling treatment it is desirable to easily classify the flow. Classification of application flow may be accomplished using the header fields of the IP or Ethernet Packet e.g. IP 5 tuple DSCP 802.1p . Using the interface specified in Section 6 ASPs may communicate the classification information that is used in the BRAS and RG. This same interface may be used to communicate the priority and desired bandwidth rate limit to be associated with the classifier. In certain embodiments of the present invention this information is communicated at subscription time and is not intended to be established dynamically on a per flow basis. As a result in such embodiments the classification information is expected to be static. The ASP may provide a well known IP address protocol and or Port to be used for classification purposes.

In particular embodiments of the present invention within the customer premises network CPN the CPE will be assigned private IP addresses from the RG. When traffic leaves the CPN the RG will perform NPAT enabling public routing of the packets. The use of private addresses presents two issues Given that the CPE behind the RG will be using dynamic private addresses they cannot be used as part of the classification parameters. Secondly many applications require signaling messages to convey dynamic IP addresses and port numbers of media receivers in their payloads. Existing static IP transport layer policies may not be adequate in supporting session endpoints separated by NAT and firewall entities. Therefore Application Layer Gateway ALG capabilities may be required at the RG for opening and closing pinholes in the firewalls and maintaining the proper address translations for dynamically created ports associated with flows created by session endpoints. Some considerations with regard to ALG capabilities are discussed in the next sections.

The BRAS can associate the IP address or ATM PVC of the RG with a subscriber and then use the ASP s address to match the source or destination address of the packets to properly classify the flow. At the customer premises the RG can match the ASP s address as the means of classifying the flow. Therefore only the ASPs IP address and possibly port and protocol identifier may be required for the bi directional flow to be classified correctly.

Certain types of applications may require additional information to capture the flow. For these types of applications the endpoints may need to provide additional classification information in the IP packet header by marking the diffserv code point. The use of diffserv code points DSCP may be standardized which may allow the application to intelligently mark packets based on the expected treatment in the network. DSCPs assigned by an untrusted entity can only be used after some edge device has performed a check on the classification of the packet to ensure that it was marked correctly. The RG may not be considered a trusted element and therefore the BRAS may need to police any classification performed by the RG rather than simply accepting the DSCP that was provided. Depending on the relationship to the ASP the Regional Access network may be able to trust packets marked by the ASP. If the ASP is not trusted either the BRAS or some other edge device may need to police the DSCPs.

The ASP access session has essentially the same set of bandwidth as the Virtual Circuit. This would indicate that some set of conditions exist where the ASP session could occupy all the bandwidth on the ADSL line. Several Applications are shown overlaid on the sessions and within the bandwidth limits assigned to the NSP and ASP. The NSP application dark horizontal stripes is a strict sub set of the NSP Session and is using a large fraction of the NSPs allowed bandwidth. The three other applications however show three salient relationships and business models that can exist between applications in the ASP network and both applications as well as the access session for the NSP. These relationships will be described in the sections that follow.

The first example is the Headroom Application and is shown in vertical stripes. This application is allowed to make use of only that bandwidth that the NSP could never access. In this type of model a NSP is provided a dedicated amount of bandwidth on the access loop even if there is not dedicated bandwidth through the access network. In such an arrangement ASP applications or additional NSP access sessions would only receive bandwidth to which the modems could sync that was over and above the rate sold to the NSP. In this arrangement if the sync rate were at or below the rate sold to the NSP no additional applications or access sessions could be provided. This arrangement may be unnecessarily restrictive and may be difficult to implement.

The second example is the Sharing Application shown checkered . This application has access to all the bandwidth described by the headroom application but also has access to additional bandwidth sold to the NSP but not currently in use by applications in the NSP Session. A Sharing application can make use of all the bandwidth on the VC but can only use the NSP bandwidth when the NSP session is not using it. Unlike the previous model this application can receive bandwidth even when the sync rate is at or below the rate sold to the NSP. If the NSP applications are making use of all their bandwidth however then the result is similar to the arrangement described in the Headroom application. This arrangement could be described as work conserving and may be used for simple bandwidth partitioning.

The third example is the Competing Application shown in transparent gray . In this example the application may have access to some or all of the bandwidth used by the NSP and it may have access to that bandwidth with greater equal or lesser precedence than the NSP applications. Similarly this application may also be able to pre empt bandwidth that other ASP applications are attempting to use. This is the most complex arrangement and the most flexible. A competing application can compete for the bandwidth that NSP applications are attempting to use. Several cases of competing applications exist 

For applications like VoIP and video conferencing where the end points of a call may not be known a priori it is difficult to use a static classification scheme.

Until a signaling approach is available using an approach similar to that described in a appears to be the most reasonable from a technology and service offering perspective. A video conferencing ASP that does not provide centralized Media Control Unit MCU capabilities may only add limited value above that which is already available in the market. In the near term most VoIP calls will likely be destined for PSTN gateways and this arrangement provides a simple way to classify.

Differentiating applications with multiple flows between the same destinations is typically seen within but is not limited to commutative services like video conferencing. These applications typically have multiple flows control signaling audio and video associated with a single application and there may be a desire to treat them differently. As long as they use different well known IP addresses or protocol types then a static classifier can be used. Unfortunately when the same protocol type is used e.g. RTP for both audio and video then there may not be a way to differentiate those streams if they are both destined for the same IP interface e.g. MCU . Below are three approaches to resolve this issue 

As the number of applications requiring QoS increases so does the complexity of managing them in the access network. Over time as more and more ASPs deploy applications requiring QoS and bandwidth management the likelihood that multiple applications will be running simultaneously within the CPN may increase. The complexity of managing these applications in a small number of queues with only three levels of precedence may become increasingly difficult given that there may no longer be a well defined priority relationship among them. One approach would be to increase the number of queue types and behaviors. Diffserv defines four assured forwarding AF classes each with three levels of drop precedence. The addition of multiple AF classes to a strict priority class EF and a low priority class BE already defined in the application framework can provide more granularity in queue and application behavior. It is unlikely however that the number of queues can be scaled with the number of applications available.

While a limited number of additional queues may be available their expected behavior may become increasingly complex to describe. Unfortunately to make use of these additional behaviors applications must be able to define their requirements in a way that fits into this model. This becomes a challenge for two reasons First many applications do not understand that level of granularity and particularly will not understand what other applications will be vying for the DSL line resources. Secondly describing the inter queue or inter application behavior to ASPs so they can make use of these capabilities becomes more difficult as the number of queues increases without strictly defining the amount of resources reserved per queue. This difficulty is in part the result of how diffserv was designed. Diffserv was not defined with the intent of managing per application flow behavior. Rather it was defined to manage aggregate flow behaviors in the core of the network. As the number of simultaneous applications increases in the CPN and access network the use of diffserv without resource reservation breaks down.

Leveraging a resource reservation approach can provide a mechanism for managing increasing numbers of applications. The reservation scheme need not necessarily require signaling. At subscription time applications could reserve specific queues and could provide an intermediate solution. Longer term as the number of applications continues to grow a more dynamic reservation of resources will be required. In the dynamic case applications may be able to reserve specific queues for the duration of the application flow which will be released when they are done. In doing so admission control to the DSL resources can be provided in a way that the applications behavior can be more clearly described. Use of Resource Reservation Protocol RSVP would provide an example of the former case. While having been defined for some time actual RSVP implementations are elusive due to its general complexity and scaling limitations. Admission control provides one way to provide an application dedicated resources or to provide an indication when resources are not available. While conceptually attractive it remains unclear if the complexity of such an approach is feasible.

In this section a description of the data required in each of the functional domains of the architecture Regional Access Network RG ASP NSP and subscriber is presented. illustrates a high level representation of the relationships between the different domains in accordance with some embodiments of the present invention. Based on this abstract view of the domains involved in providing an end to end service a data model can be constructed.

Dotted lines 1 and 2 illustrated in indicate that information is exchanged between the modules not specifically discussed with respect to the interface reference model. The dashed lines illustrated in indicate a physical connection and the solid lines illustrated in indicate that information is exchanged within the scope of the interface reference model. In particular lines 1 and 2 illustrate exchanges between the subscriber and the NSP and ASP respectively when the subscriber for example signs up for service. Line 3 illustrates the configuration of the RG by the Regional Access Network. It will be understood that this may only be for the initial install. The ACS located with in the Regional Access Network may handle all subsequent configuration changes. Line 4 illustrates the initiation of access sessions that are terminated in the DSL network. The ACS located with in the Regional Access Network may communicate with the RG for configuration updates. Finally lines 5 and 6 of illustrate communication between the NSP ASP and the DSL network that establishes a DSL connection. The ASP and NSP may also communicate bandwidth and QoS changes per session or application.

The following data elements are maintained at Subscriber Premises this record is maintained by the subscriber it could be stored on a PC or any other storage device media in accordance with some embodiments of the present invention 

Routing Gateway is a customer premises functional element that provides IP routing and QoS capabilities. The main functions of the RG may include one or more of IP routing between the CPN and the Access Network multi user multi destination support Multiple simultaneous PPPoE sessions started from the RG or from devices inside the CPN in conjunction with non PPP encapsulated IP bridged sessions network Address Port Translation NAPT PPPoE pass though multiple queues with scheduling mechanism and or IP QoS.

The following data elements are maintained at the RG in accordance with some embodiments of the present invention 

The primary function of the Regional Access Network is to provide end to end data transport between the customer premises and the NSP or ASP. The Regional Access Network may also provide higher layer functions such as QoS and bandwidth management. QoS may be provided by tightly coupling traffic engineering capabilities of the Regional Network with the capabilities of the BRAS.

The following data elements are maintained at the Regional Access Network in for example a Regional Access Network Record in accordance with some embodiments of the present invention 

The Application Service Provider ASP is defined as a Service Provider that shares a common infrastructure provided by the Regional Access Network and an IP address assigned and managed by the Regional Network Provider. In particular embodiments of the present invention the ASP provides one or more of application services to the subscriber gaming video content on demand IP Telephony etc. service assurance relating to this application service additional software or CPE and or a contact point for all subscriber problems related to the provision of specific service applications and any related subscriber software. However the ASP may not provide or manage the assignment of IP address to the subscribers.

The following data elements may be maintained at the ASP in accordance with some embodiments of the present invention 

The Network Service Provider NSP is defined as a Service Provider that requires extending a Service Provider specific Internet Protocol IP address. This is the typical application of conventional DSL service. The NSP owns and procures addresses that they in turn allocate individually or in blocks to their subscribers. The subscribers are typically located in Customer Premises Networks CPNs . The NSP service may be subscriber specific or communal when an address is shared using NAPT throughout a CPN. The NSP may include Internet Service Providers ISPs and Corporate Service Providers CSPs may be responsible for overall service assurance may provide CPE or software to run on customer owned CPE to support a given service may provide the customer contact point for any and all customer related problems related to the provision of this service and or may authenticate access and provides and manages the assignment of IP address to the subscribers.

The following data elements are maintained at the NSP in accordance with some embodiments of the present invention 

This interface reference specification defines an interface between the Regional Access Network and a Network Service Provider NSP a Personal NSP PNSP and an Application Service Provider ASP as well as an interface between the Regional Access Network and Routing Gateway RG for enabling the NSP PNSP ASP to utilize the bandwidth and QoS management capabilities provided by the Regional Access Network in their NSP PNSP ASP applications in accordance with some embodiments of the present invention.

This section defines the messaging interface between the Regional Access Network and the Routing Gateway in accordance with some embodiments of the present invention. This interface does not define any message for RG or ACS authentication assuming both of them are part of the DSL Network infrastructure.

1. UpdateSessionBandwidthInfo DSL Line ID SP ID Session Classifier Session Priority Session Bandwidth 

This message is sent from the Regional Access Network to a specified RG via ACS as a notification when new bandwidth and QoS information for a PPP session becomes available. The bandwidth and QoS related parameters include Session Classifier Session Priority and Session Bandwidth. These parameters will be stored in the NSP PPP Session Record PNSP PPP Session Record or ASP PPP Session Record depending on the SP ID. These session records are defined in the DSL Data Reference Model.

SP ID The identifier of service provider requesting for service. The service provider can only be NSP PNSP or ASP.

This message is sent from the RG to the Regional Access Network via ACS as an acknowledgement of receiving the update session bandwidth information notification.

SP ID The identifier of service provider requesting for service. The service provider can only be NSP PNSP or ASP.

This message is sent from the Regional Access Network to a specified RG via ACS as a notification of new bandwidth and QoS info for application flow becoming available. The parameters including Flow Classifier Flow Priority and Flow Bandwidth will replace the existing data stored in the Application Flow Control Record defined in the Regional Access Data Reference Model.

SP ID The identifier of service provider requesting for service. The service provider can only be NSP PNSP or ASP.

This message is sent from the RG to the Regional Access Network via ACS as an acknowledgement of receiving the update application flow control info notification.

SP ID The identifier of service provider requesting for service. The service provider can only be NSP PNSP or ASP.

This message is sent from the RG to the Regional Access Network via ACS as a request for obtaining the PPP session level of the bandwidth and QoS settings stored at the Regional Access Network for the specified subscriber line.

SP ID The identifier of service provider requesting for service. The service provider can only be NSP PNSP or ASP.

6. UpdateSessionBandwidthResponse DSL Line ID SP ID Session Classifier Session Priority Session Bandwidth Return Code 

This message is sent from the Regional Access Network to the RG via ACS as a response for getting the PPP session level of the bandwidth and QoS settings request.

SP ID The identifier of service provider requesting for service. The service provider can only be NSP PNSP or ASP.

Session Bandwidth Session bandwidth information including upstream bandwidth and downstream bandwidth.

Return Code Return code from the Regional Access Network indicating if the request is accomplished successfully.

This message is sent from the RG to the Regional Access Network via ACS as a request for obtaining the application flow level of the bandwidth and QoS settings stored at the Regional Access Network for the specified subscriber line.

SP ID The identifier of service provider requesting for service. The service provider can only be NSP PNSP or ASP.

8. UpdateAppFlowControlResponse DSL Line ID SP ID Flow Classifier Flow Priority Flow Bandwidth Return Code 

This message is sent from the Regional Access Network to the RG via ACS as a response for getting the application flow level of the bandwidth and QoS settings request.

SP ID The identifier of service provider requesting for service. The service provider can only be NSP PNSP or ASP.

This section defines the messaging interface between the Regional Access Network and the Application Service Providers in accordance with some embodiments of the present invention.

This message is sent from an ASP to the Regional Access Network as a request for establishing a communication session. All the ASPs need to be authenticated by the Regional Access Network before the network bandwidth and QoS service capabilities can be accessed. With this request the ASP can specify a life span of this session by providing a life span parameter that could be imbedded in the SP Credentials. When the specified life span expires the ASP must resend this request to establish a new service session.

This message is sent from the Regional Access Network to the service provider as a response for the communication session establishment request. The Regional Access Network returns an authorization code indicating what services and resources are authorized for the service provider to access.

Authorization Authorization code indicating what Regional Access Network resources is authorized for the service provider to access.

Return Code Return code from the Regional Access Network indicating if the request is accomplished successfully.

3. CreateAppFlowControlRecordRequest Authorization DSL Line ID SP ID Flow Classifier Flow Priority Flow Bandwidth 

This message is sent from an ASP to the Regional Access Network as a request for creating an application specific flow control record defined as Application Flow Control Record in DSL Data Model. The initial settings are provided with Flow Classifier SP ID Flow Priority and Flow Bandwidth.

SP ID The identifier of service provider requesting for service. The service provider can only be ASP.

Flow Classifier 5 tuple source IP address source port destination IP address destination port protocol type identifying a unique application flow.

This message is sent from the Regional Access Network to the ASP as a response for the creation of the application flow control record request.

Return Code Return code from the Regional Access Network indicating if the request is accomplished successfully.

This message is sent from an ASP to the Regional Access Network as a request for deleting an Application Flow Control Record defined in DSL Data Model.

SP ID The identifier of service provider requesting for service. The service provider can only be ASP.

This message is sent from the Regional Access Network to the ASP as a response for the deletion of the application flow control record request.

Return Code Return code from the Regional Access Network indicating if the request is accomplished successfully.

7. ChangeAppFlowControlRequest Authorization DSL Line ID SP ID Flow Classifier Flow Priority Flow Bandwidth 

An ASP can send this message to the Regional Access Network as a request for changing the Priority and Shaping Data defined in the Application Flow Control Record of the DSL Data Model.

SP ID The identifier of service provider requesting for service. The service provider should be an ASP.

This message is sent from the Regional Access Network to the service provider as a response for the bandwidth change request. A Return Code is sent back indicating whether the change is successful.

Return Code Return code from the Regional Access Network indicating if the request is accomplished successfully.

An ASP can send this message to the Regional Access Network as a request for querying the application specific priority and shaping information contained in the Application Flow Control Record.

10. QueryAppFlowControlResponse DSL Line ID Flow Classifier Flow Priority Flow Bandwidth Return Code 

This message is sent from the Regional Access Network to the service provider as a response for the bandwidth info request. The bandwidth data record is returned.

Return Code Return code from the Regional Access Network indicating if the request is accomplished successfully.

An ASP can send this message to the Regional Access Network as a request for querying the PPP session bandwidth and priority information associated with the specified DSL Line ID. The data is stored in ASP PPP Session record defined in the DSL Data Model.

This message is sent from the Regional Access Network to the service provider as a response for the bandwidth info request. The bandwidth data record is returned.

This message is sent from an ASP to the Regional Access Network as a request for terminating a communication session.

Authorization Authorization code indicating what Regional Access Network resources is authorized for the service provider to access.

This message is sent from the Regional Access Network to the service provider as a response for the communication session termination request.

Return Code Return code from the Regional Access Network indicating if the request is accomplished successfully.

This section defines the messaging interface between the Regional Access Network and Network Service Provider in accordance with some embodiments of the present invention.

This message is sent from a NSP to the Regional Access Network as a request for establishing a communication session. The NSPs need to be authenticated by the Regional Access Network before the network bandwidth and QoS service capabilities can be accessed. With this request the NSP can specify a life cycle of this session by providing a life span parameter imbedded in the SP Credentials. When the specified life span expires the NSP must resend this request to establish a new service session.

This message is sent from the Regional Access Network to the service provider as a response for the communication session establishment request. The Regional Access Network returns an authorization code indicating what services and resources are authorized for the service provider to access.

Authorization Authorization code indicating what Regional Access Network resources is authorized for the service provider to access.

Return Code Return code from the Regional Access Network indicating if the request is accomplished successfully.

3. ChangeSessionBandwidthRequest Authorization DSL Line ID SP ID Session Classifier Session Priority Session Bandwidth 

A NSP can send this message to the Regional Access Network as a request for changing the PPP session bandwidth and priority information associated with the specified DSL Line ID. The data is stored in the NSP PPP Session Record defined in the DSL Data Model.

This message is sent from the Regional Access Network to the service provider as a response for the bandwidth change request. A Return Code is sent back indicating whether the change is successful.

Return Code Return code from the Regional Access Network indicating if the request is accomplished successfully.

A NSP can send this message to the Regional Access Network as a request for querying the PPP session bandwidth and priority information associated with the specified DSL Line ID. The data is stored in the NSP PPP Session Record defined in the DSL Data Model.

This message is sent from the Regional Access Network to the service provider as a response for the bandwidth info request. The bandwidth data record is returned.

This message is sent from an NSP to the Regional Access Network as a request for terminating a communication session.

Authorization Authorization code indicating what Regional Access Network resources is authorized for the service provider to access.

This message is sent from the Regional Access Network to the service provider as a response for the communication session termination request.

Return Code Return code from the Regional Access Network indicating if the request is accomplished successfully.

An Application Framework Infrastructure in accordance with some embodiments of the present invention is illustrated in and is a reference implementation model for enabling the ASP NSP and or Personal NSP to utilize the bandwidth and QoS management capabilities. This framework infrastructure is supported by seven functional elements including ANI Protocol Handler NNI Protocol Handler UNI Protocol Handler DSL Service Manager DSL Session Data Store Provision Interface and BRAS Adapter in accordance with some embodiments of the present invention. For realizing the DSL network bandwidth and QoS management capabilities this infrastructure may interact with the Routing Gateway via an Automated Configuration Server ACS and the BRAS to set appropriate policies upon receiving a request from the ASP NSP or PNSP as depicted in .

The communication interface between the Regional Access Network and an ASP is defined as the Application to Network Interface ANI . The communication interface between the Regional Access Network and a NSP or PNSP is defined as the Network to Network Interface NNI as discussed above with respect to the Regional Access Interface. Through this framework infrastructure the ASP NSP and or PNSP can use the DSL Network bandwidth and QoS management capabilities to create their bandwidth and QoS aware applications. To enable the communication and service creation a DSL Service API may be defined as a part of the Regional Access Application Framework Infrastructure. This API may be a reference procedural implementation of the ANI and NNI.

Any suitable communication interface between the application framework and the BRAS and ACS may be utilized and therefore will not be discussed in detail herein. An interface may be used at these points and may be defined as part of the network element requirements. The use of Common Open Policy Service COPS is an example standard interface that may be implemented at these points to push changes into the ACS and BRAS.

This section describes the main functions of each element of the Application Framework Infrastructure as illustrated in in accordance with some embodiments of the present invention.

The ANI Protocol Handler takes a request message from the ASP application passes the request to the DSL Service Manager waits for the response from the DSL Service Manager and sends the response message back to the ASP that requests the service. The protocol used in this prototype is the Application to Network Interface defined in this proposal.

The NNI Protocol Handler takes a request message from the NSP PNSP application passes the request to the DSL Service Manager waits for the response from the DSL Service Manager and sends the response message back to the NSP PNSP that requests the service. The protocol used in this prototype is the Network to Network Interface defined in this proposal.

The UNI Protocol Handler passes the bandwidth and QoS related parameters via the ACS to a Routing Gateway associated with a subscriber. Because the Routing Gateway obtains its provisioning parameters from the ACS with a soon to be industry standard interface WAN Side DSL Configuration specification this same interface may be used to communicate bandwidth and QoS information to the RG.

The DSL Service Manager behaves as a service broker that provides one or more of the following functions allows ASP NSP PNSP to set and query bandwidth and QoS data associated with a PPP session and to create change and delete application flow control record associated with each individual application interacts with BRAS to pass bandwidth and QoS related data and policies for prioritizing shaping and policing subscriber s traffic flow either associated with a PPP session or an individual application flow and or communicates with ACS to pass bandwidth and QoS related data and polices to a specified Routing gateway working together with BRAS for prioritizing shaping and policing the subscriber s traffic flow at the access network.

This is the Master Database maintaining the DSL data model described in section 4.3. It stores all the bandwidth and QoS related data and policies that can be queried modified created and deleted by the ASP NSP PNSP through the ANI NNI interface. The following records are maintained in the DSL Session Data Store in accordance with some embodiments of the present invention a DSL Line Record an NSP PPP Session Record a Personal NSP PPP Session Record an ASP PPP Session Record and or an application Flow Control Record.

This master copy is replicated in the BRAS and ACS network elements with appropriate data records. The BRAS copy of the data may include the following records in accordance with some embodiments of the present invention an NSP PPP Session Record a personal NSP PPP Session Record an ASP PPP Session Record and or an Application Flow Control Record.

The ACS network element may include a replica of the following records in accordance with some embodiments of the present invention an NSP PPP Session Record a personal NSP PPP Session Record an ASP PPP Session Record and or an Application Flow Control Record.

This service creation API is used by the ASP NSP for creating their bandwidth and QoS aware applications. This API directly maps the ANI NNI protocol defined in this proposal into procedures methods and or other software embodiments for example to facilitate application programming.

This is a GUI based interface to allow the DSL Service Provider to provision the bandwidth and QoS settings for each individual subscriber based on subscriber telephone number and provision the ASP NSP that have a business arrangement with the DSL service provider. The data model for support of the provisioning has been defined herein.

This section provides several service scenarios to demonstrate how the messaging interface may be used by an ASP application in accordance with some embodiments of the present invention.

This message is sent from the ASP NSP to the DSLNetwork as a request for establishing a communication session. The ASP NSP needs to be authenticated by the Regional Access Network before any network service can be provided. Processing Steps 

If the authentication is passed a valid Authorization code is sent back. Otherwise an invalid Authorization code is returned.

This message is sent from Regional Access Network to ASP NSP as a response for the service session establishment request.

This message is sent from the ASP NSP to the DSL Network as a request for terminating the communication session.

This message is sent from Regional Access Network to ASP NSP as a response for the service session termination request.

This message is sent from the ASP to the DSLNetwork as a request for inquiring the bandwidth and QoS information associated with the specified DSL line.

This message is sent from Regional Access Network to ASP as a response for inquiring the bandwidth and QoS info request.

 1 ChangeAppFlowControlRequest Authorization DSL Line ID SP ID Flow Classifier Flow Priority Flow Bandwidth 

This message is sent from the ASP to the Regional Access Network as a request for changing the bandwidth and QoS data associated with the specified DSL line.

This message is sent from Regional Access Network to ASP as a response for setting the bandwidth and QoS request.

 1 CreateAppFlowControlRequest Authorization DSL Line ID SP ID Flow Classifier Flow Priority Flow Bandwidth 

This message is sent from the ASP to the Regional Access Network as a request for creating an Application Flow Control Record for a specified subscriber. Processing Steps 

This message is sent from DSL Network to ASP as a response for creating the application flow control record request.

This message is sent from the ASP to the DSLNetwork as a request for deleting an Application Flow Control Record for a specified application. Processing Steps 

This message is sent from Regional Access Network to ASP as a response for deletion of App Flow Control Record request.

 1 ChangeSessionBandwidthRequest Authorization DSL Line ID SP ID Session Classifier Session Priority Session Bandwidth 

This message is sent from the NSP to the Regional Access Network as a request for changing the PPP session level of bandwidth and QoS data associated with the specified DSL line.

This message is sent from Regional Access Network to NSP as a response for changing the PPP level of the bandwidth and QoS request.

This message is sent from the ASP NSP to the Regional Access Network as a request for inquiring the bandwidth and QoS information associated with the specified DSL line.

This message is sent from Regional Access Network to ASP NSP as a response for inquiring the bandwidth and QoS info request.

Exemplary embodiments of the invention have been described above with respect to an Application Framework comprising a reference data model and an interface specification defined for specific transport flows related to QoS and bandwidth capabilities. This Application Framework may be expanded in accordance with some embodiments of the present invention to support other services that link network services telecommunications information technology and customers including for example registration enables the ASP to register services applications with the Regional Access Network discovery enables the Subscriber to discover services applications within the Regional Access Network subscription enables the ASP to manage and maintain subscriber accounts management for validation of subscribers and related services applications session enables the xSP to manage and maintain session establishment Management session control and session teardown for subscriber access to services applications authentication enables the xSP to validate the user subscriber for network access and services applications access who are you authorization enables the xSP to validate the user subscriber for network access and services applications access what permissions do you have profile enables the xSP to manage and maintain user subscriber profile data identify enables the xSP to manage and maintain user preferences profiles identity data presence enables the xSP to know and maintain awareness of the current existence of the subscriber notification enables the xSP to notify the subscriber of related services applications information and or billing enables the xSP to capture subscriber user billing data for network usage and services applications usage for mediating a common billing record. These other capabilities may provide a host of centralized software services supporting a distributed network computing environment linking users subscribers to their desired services and applications.

A source of potential frustration for users of data services is that data rates supported by the network e.g. 1.5 Mb s downstream and 256 Kb s upstream are often not properly matched with application requirements. Even with the higher speeds afforded with DSL access users of many applications e.g. content download such as large MS Office service packs or movie trailers and on line gaming may be interested in using a service that would provide an even higher access speed at the times they need it most by invoking a Turbo Button service. The higher access speed limit is achieved via a service profile change that eliminates or lessens artificially imposed limits on the achievable speed in the user s PPP session. This section shows how the DSL Application Framework can support such a service in accordance with some embodiments of the present invention starting with the reference model shown in .

Many implementations of a Turbo Button service are possible in accordance with various embodiments of the present invention. For the purposes of this section we will work with a fairly simple implementation in which the service is provisioned by an NSP called myNSP.com. The user requests the turbo button service at the community NSP s website during a browsing session at normal speed. Note that other ordering mechanisms are possible including mechanisms that are separate from the DSL session e.g. using a telephone or a mass distributed CD.

As mentioned above in certain embodiments of the present invention the service is implemented via provisioning rather than by using real time signaling. Under this assumption a provisioning cycle is initiated after the user invokes the service and the provisioning completes before the effect is seen. Another result of this assumption is that the effect of the user s service invocation is permanent i.e. once turbo speed in place it lasts until the user cancels the service and another provisioning cycle occurs to reinstate the default service parameters. Real time signaling may be needed to support a service that supports on demand brief turbo sessions on an as needed basis.

Once the user requests the turbo service the NSP queries the Regional Access network to find out what turbo options can be presented to the user. The NSP may map the available upgrades to marketing categories e.g. fast faster wickedly fast . The user selects one of the options and the NSP requests the profile from the Regional Access network that supports the requested speed. The Regional Access network in turn pushes new policy e.g. classifiers rate limiters priority into the user s RG that will support the higher speed. It is important to note that the service is still Best Effort i.e. there is no assumption of a QoS guarantee at this time. A version of turbo button service with QoS support may be implemented in accordance with other embodiments of the present invention.

We will assume that the NSP authenticates its own users for services such as Turbo Button. A centralized authentication service as well as other ancillary services such as billing and presence functionality could be implemented in the Regional Access network on behalf of NSPs and ASPs in accordance with additional embodiments of the present invention. In a typical business model the NSP might bill the user for usage of the turbo button service. In turn the DSL network provider would bill the NSP for carrying traffic across the Regional Access network at turbo speeds.

This section illustrates how the DSL Application Framework can support a videoconference service in accordance with some embodiments of the present invention. The videoconferencing model used is a SIP driven service implemented by an ASP with a centralized control mixing conference server. This is the tightly coupled model being developed by an IETF Sipping WG design team that uses four logical entities focus conference state notification service conference policy server element and stream mixers. There are several ways that these entities can be spread over the available network segments. For example the ASP and the Regional Access network can each implement a subset of the entities for example the ASP can implement the stream mixing while the rest of the logical entities are implemented in the Regional Access network. Such a division may be feasible from a technical perspective but the additional exposed interfaces may require standardization or bilateral agreement. There might not be much of a business case for such a model because there is little incentive for either the ASP or Regional Access network to give up part of the service offering.

Furthermore all of the entities can be implemented in the regional Access network. This option offers some simplicity from the Regional Access network provider s perspective because no ASP is involved. This would probably balanced however by the network provider s need to decouple the videoconference service offering from the general DSL networking aspects.

Finally the ASP can implement all of the logical entities while the Regional Access network provider concentrates on the transport issues. This approach is adopted for the rest of this section the ASP handles all of the mixing as well as the application layer control. A reference diagram for the service with three users is shown in .

From the user s perspective the videoconferencing service has the following capabilities in accordance with some embodiments of the present invention Creation Activation the user can interact with the ASP and either request a reserved conference without pre designated participants or activate a previously reserved conference Termination the conference ends at a pre designated time Adding Participants All users are designated in advance Dropping Parties Although individual parties may stop participation in the conference the resources in the network supporting their connections remain in place and or Stream Mixing Basic audio and video mixing are provided. Each participant receives all of the other participants audio and receives video from the participant with the loudest current audio.

Assumptions regarding the service are as follows the ASP that offers the videoconference service will host the MCU the ASP s MCU will support the ASP s subscribers in all ASP networks for which that ASP is participating videoconference client software compatible with an ASP s videoconference service is resident on all participant PCs users that are not subscribed to the ASP s videoconference service will not be supported DHCP leases do not expire SIP Application Level Gateway ALG functions for handling NAT traversal are provided in the RG the ASP providing the videoconference service maintains a common address repository or locator for its subscribers. ASP s may be unwilling to share or store their subscriber information in a network database mechanisms are in place to support application level communication between two ASP networks see the dotted line shown the ALG functions in the RG use DiffServ Code Points DSCP from the voice and video streams and the port information pushed to it through the ACS profile to map audio and video flows to ports that are known to the BRAS for reclassification. A simpler approach may be to classify packets coming from the videoconference client based on packet type and protocol ID but that would mean the audio and video RIP streams could not be distinguished by the classifier and would have to share the same priority the DSCPs used by the videoconference clients are standardized and or by its nature RTP is a unidirectional stream but RTCP is bi directional. Each pair of RTP and RTCP UDP streams defines a channel. To simplify the presentation only one direction of the RTP stream is shown for audio and data and only one control stream is shown. Typical SIP and H.323 videoconference implementations may require additional data and control streams to complete fully bi directional data flows for all participants.

At least two workable business models can support this videoconferencing service. In the simplest model the videoconference ASP arranges for all potential conference participants to have the necessary policies in place to support the service. Once this infrastructure is provisioned any subset of the participants can hold a videoconference at any time. A slightly more complex model has some advantages for demonstration purposes in this model the videoconference ASP makes the necessary changes needed in the network to support a particular videoconference and only the participants for that conference receive upgraded profiles to support their session . This model which is used in this section does not require that the policy be in place at all times but may require a window perhaps 24 hours during which the provisioning changes are made.

A number of billing models are possible. In some embodiments the ASP bills flat rate usage etc. videoconference subscribers for their service. The Regional Access network provider bills the ASP for hosting the service on the ASP network and for the usage of the Regional Access network. Note that additional opportunities for the business model are possible for offering centralized billing authentication and presence capabilities to videoconference ASPs.

The static provisioning model imposes some restrictions on videoconferencing service models. Reservations are made well in advance to allow the flow through provisioning to occur before the start of the conference. The reservation window thus needs to close before the start of the conference for example 24 hours prior. No real time adjustment of the schedule such as early teardown because the participants finished early is possible. The only way to update the participant list is for the user to request a replacement conference before the reservation window closes.

Despite the use of the static provisioning model the ability to map a particular conference s flows to a classifier still makes it possible to offer reasonable service features. The user may be able to set up multiple conference calls with different sets of people and with different QoS and bandwidth requirements for example a reduced frame rate may be desired for a conference a day after the conference in this example because several BRI users will be on the call . Without the mapping between the flows and the classifier the user may have been able to have only one outstanding conference request. In addition the user may be able to modify the arrangements for a particular conference e.g. if the participant roster or start end times change provided that the reservation window 24 hour notice has not closed.

A goal of this section is to demonstrate that the Framework and Interface and Data Model are sufficient to support this basic videoconference service. After discussing the individual streams needed for videoconferencing flows for setting up and tearing down videoconferencing flows in accordance with some embodiments of the present invention are presented. At the end of this section the network model is expanded to include the DSL network s entities and further exercise the data model and messages that have been defined.

The following sequence of events may occur in the process of registering for the ASP videoconference service reserving a particular conference and tearing it down once the conference is over. Assume that three users A B and C will be involved in the videoconference and that A will be the originator. For simplicity the details of the Regional Access network DSL Service Manager UNI and ANI protocol handlers ACS BRAS etc. are not shown the expanded flows have been shown in Section 6.4. The step numbers shown in correspond with the list provided below 

The videoconference service may require three streams to carry audio video and signaling control as shown in . The flows referred to using a sign in may be set up dynamically at the VC client and the DSCP may be assigned for the audio and video streams. The ALG NAT maps of the 10.X.X.X ports to the corresponding IP address and ports for audio and video specified in the ACS profile based on the DSCP set by the VC client. This may ensure that the RG BRAS and ASP videoconference MCU maintain consistent port information with regard to the various flows.

The signaling control stream is used at the application layer for purposes such as floor control and other needs that are transparent to the Regional Access network provider. Assume that audio and control packets need to travel with high priority and thus are placed into the Expedited Forwarding queue at the RG. Video packets have medium priority and hence will be placed into the Assured Forwarding queue at the RG. The videoconference service does not cause the user to emit any low priority packets that we are aware of thus the RG will not need to place any packets into the Best Effort queue.

A goal is to demonstrate that it is possible for the ASP to push packet classifier information into the DSL network at conference reservation time so as to configure the DSL network for proper placement of packets from the three streams into the appropriate queues as mentioned above. At the time that a videoconference is reserved to occur in this case 3 00 4 00 the next day the user needs to get a conference identifier PIN from the videoconference ASP. The user will use this conference identifier to get into the correct conference the next day and will give the conference id to the other participants for the same purpose. For the purposes of this section assume that this conference identifier does not need to show up in the data model because it is strictly between the users and the ASP and somehow transferred transparently to the DSL network provider.

The ASP needs to set up bandwidth and priority for the three streams control video and audio that are needed between each user and the ASP using a Create Application Flow Control Request message. One benefit of looking at videoconference as a service example is to better understand how the various flows would be set up and managed through NATs and firewalls and still have those flows appropriately classified throughout. Many protocols establish connections on well known ports that spawn data flows on ephemeral ports i.e. dynamically spawned and assigned to a given multimedia call after the initial handshakes . The problem of firewall and NAT traversal is a complex one due in part to the large number of different scenarios and the multitude of different solutions to solve them.

For this example it is assumed that the RG has an ALG function for the support of SIP. Further it is assumed that there is a trusted relationship between the ASP and the Regional Access network and the use of DSCP markings of packets can be used as part of the classification process.

Referring to information that is used for setting up and classifying the flows required for a videoconference in accordance with some embodiments of the present invention is illustrated. First during the initial setup user A registers all participants and specifies the start time and end times etc. The ASP reserves IP addresses for the conference on its platform and updates each participant s RG by issuing a createAppFlowReq request to the Regional access network. The BRAS uses the IP addresses specified by ASPfor reclassifying traffic to ASPand will use the IP of the RG and the DSCP for reclassifying traffic en route to the videoconference client. The profile that gets pushed to each participant will contain ASP s IP addresses for control audio and video flows. When the start time for the videoconference approaches each participant will activate their videoconference client on his or her PC and login to the reserved conference.

Once ASPreceives the control message for call setup it can refer to its table of reserved addresses to be used for the conference. Capability set negotiation occurs at this time e.g. could be included in SDP component . The RG s ALG NAT engine uses the DSCP and information from the ACS profile to determine which port it should assign to the RIP flows from the videoconference client. This may ensure consistency for the port information stored in the BRAS for reclassification. ASP the BRAS and the RG should now know all addresses priorities and shaping information. The videoconference client s RTP streams can begin pushing audio and video.

This section illustrates how the DSL Application Framework can support a gaming service in accordance with some embodiments of the present invention. Though there are many different models for game play and delivery this section discusses a particular class of games known as massively multi player interactive games. Such games are characterized by substantial numbers of players greater than 10 and up to the 1000 s and real time or near real time interactions. Such games place significant demands on network and game server infrastructures. Other classes of games that are not discussed here include turn based games single player turn based or real time interactive and head to head interactive games. Though each of these classes represents a significant number of games available to users their network requirements are not nearly as complex as those of multi player interactive games.

Two basic topologies are used to support network gaming point to point or client server. In client server topology the player s workstation communicates with a central game server to which other players are also connected. In the point to point topology each player communicates directly with each other player. A refinement of the client server topology the hierarchical client server topology provides the necessary infrastructure to support true massively multi player environments. These topologies are depicted in .

In the point to point topology each gaming workstation must transmit its moves and state change information to each other gaming workstation. In addition each workstation must maintain a consistent and synchronized image of the game universe for each player. As such the point to point topology requires significant computation power in the end user workstation and typically will not scale to supporting more than a number of users.

In both forms of the client server topology the workstation and game server exchange information that is directly relevant only to a specific player. The client workstation is responsible for such tasks as managing user interactions rendering and audio feedback while the server is responsible for maintaining a consistent view of the game universe and communicating changes to the view to player workstations. The difference between the two topologies is one of segmentation. In the hierarchical topology a server is only responsible for maintaining the state of a portion of the universe. If a player connected to a particular server is interacting with a portion of the universe outside the scope of their immediate server that server must coordinate with other servers in the network. This partitioning provides significantly more scalability than a simple client server topology.

In addition to maintaining game universe state at communicating state changes to players a gaming service may provide other auxiliary functions including the following Session Management manages active player lists supports ability to invite participants to join a game presence and availability management supports the ability of players to locate and determine if opponents are available for play authentication verify player identities and validate that players are using correctly licensed software on their workstation interactive chat and bulletin board provides a forum for discussion of gaming topics. Can also be used during game play to allow for intra team communication and or content downloads provides software update and new game delivery services.

Basic game server functionality and auxiliary functions represent a gaming service that may be offered in an ASP model in accordance with some embodiments of the present invention. The game server and servers for auxiliary functions are connected to the ASP network. Client workstations access a game server or auxiliary function server through their ASP network connection. From the perspective of the DSL network whether a gaming service implements a client server or hierarchical client server topology is not important. The DSL network is only involved in the transport of traffic between one or more game workstations and the game server to which they are connected. This service model is show in .

In a client server multiplayer gaming service the game server and player workstation communicate state change and play event information in real time. The workstation informs the server of player triggered events including the following Player moves Player takes a shot Player changes rooms and or Player picks up an object.

In a real time game the server reconciles these play event messages as they are received from each workstation or peer server. It then communicates state change information to each client workstation. These state change messages contain only information relevant to the particular player only information about objects currently visible to the player is communicated. Examples of this information include movement of other objects within the player s current view hits made by the player damage incurred by the player death of the player or other players and or communication from the server or other players. Unfortunately there does not appear to be a standard protocol for such communications each gaming system seems to define its own methods of communication. The basic characteristics however seem to be similar.

While communication from the workstation to the server is typically event driven server to workstation communication is often continuous. Servers often send state change messages in frames at a defined rate 10 20 30 frames per second. Frames tend to be significantly larger than voice or video frames. The total time required to send a user event reconcile its impact on the game universe and communicate state change back to the workstation may become the limiting factor in player reaction time. The longer the total time the less reactive a player can be and the less interactive the gaming experience may become.

Reconciliation time is driven by server capacity and load. Message delivery times are driven by network limitations. For many games a total round trip ping time of 200 350 ms is considered acceptable while 100 ms is considered exceptional. Anything greater than 500 ms may become very obvious to the player and is perceived as sluggishness. As latency increases it becomes more likely that players do not share a consistent view of the universe.

In summary game play related traffic can be characterized as follows steady frame rate large frame size relative to voice or video and or latency sensitive Auxiliary services generally do not share these characteristics. They typically are similar or identical to traditional Internet Web based services and do not suffer from significant impacts due to latency.

The bandwidth requirement for play related traffic is generally lower than for video services but the latency sensitivity of game play traffic typically necessitates better than best effort treatment. Flows related to game play may be placed in an assured forwarding queue at a minimum. Auxiliary services may be handled on a best effort basis. Play related traffic and auxiliary service traffic are typically carried in different flows.

Traffic within a game play flow may be further differentiated in accordance with additional embodiments of the present invention. For example within the context of a particular game certain events may be treated with higher priority than others. This may be supported by allowing the application to use and set multiple diffserv code points. Such use however may only be permitted if there is a trusted relationship between the ASP gaming host and the transport network.

The call flow for gaming is similar to Turbo button. The game provider needs to negotiate bandwidth profiles between the game server and the player workstation for the purposes of game play traffic. The steps in this scenario are illustrated in in accordance with some embodiments of the invention as follows 

Methods systems and or computer program products for modifying bandwidth and or QoS in a network for a user session in which the network comprises a Regional Access Network RAN that facilitates differentiated end to end data transport between a Network Service Provider NSP and or an Application Service Provider ASP and a Customer Premises Network CPN that includes Customer Premises Equipment such as for example a Routing Gateway RG according to some embodiments of the present invention will now be described. The RAN NSP ASP CPN and RG have been described extensively above and this description will not be repeated in the interest of brevity. Moreover the messages that are described in this section are described in detail in Section 6.

Embodiments of the present invention have been described above in Section 8 with reference to the application framework providing methods systems and computer program products for service providers to modify bandwidth and QoS. For example specific embodiments of the present invention have been described above in Section 8 by way of example with reference to in which a Turbo Button Service is provided to access sites via an exemplary network service provider called myNSP.com. These embodiments will now be described more generally with reference to .

Some embodiments of the present invention may allow a user to turbocharge i.e. request a higher bandwidth speed limit or modify QoS such as scheduling resources and or priority for a user session. For example a user may request a higher bandwidth speed limit and the NSP and or ASP may be able to act on the request by using a messaging interface such as for example an Application Programming Interface API to communicate with the Regional Access Network RAN to provide the increased bandwidth to the user. The API may comprise the Application to Network Interface ANI defined between the RAN and an ASP and or the Network to Network Interface NNI defined between the RAN and an NSP. Advantageously the API may allow an NSP and or ASP to increase a user s bandwidth regardless of the technology used within the RAN.

According to some embodiments of the present invention an ASP may not be permitted to adjust the bandwidth priority and or scheduling resources of the access session that its traffic traverses. This is because multiple ASPs may share a single access session. Allowing one ASP to modify parameters on that session may cause conflicts or may disrupt another ASP s service. An ASP may however set the bandwidth priority and or scheduling resources of its application flow within an access session in accordance with some embodiments of the present invention. Thus as used hereafter a user session refers to an ASP application flow session or an NSP access session. It will be understood however that in accordance with some embodiments of the present invention a user may turbo e.g. increase the bandwidth of an application session or modify the QoS associated with the application session that is reachable via an NSP. Moreover it will be further understood that in accordance with some embodiments of the present invention user session bandwidth and or QoS may be modified in the upstream direction towards the RAN downstream direction towards the end user or both directions.

The present invention is described herein with reference to flowchart and or block diagram illustrations of methods systems and computer program products in accordance with exemplary embodiments of the invention. It will be understood that each block of the flowchart and or block diagram illustrations and combinations of blocks in the flowchart and or block diagram illustrations may be implemented by computer program instructions and or hardware operations. These computer program instructions may be provided to a processor of a general purpose computer a special purpose computer or other programmable data processing apparatus to produce a machine such that the instructions which execute via the processor of the computer or other programmable data processing apparatus create means for implementing the functions specified in the flowchart and or block diagram block or blocks.

These computer program instructions may also be stored in a computer usable or computer readable memory that may direct a computer or other programmable data processing apparatus to function in a particular manner such that the instructions stored in the computer usable or computer readable memory produce an article of manufacture including instructions that implement the function specified in the flowchart and or block diagram block or blocks.

The computer program instructions may also be loaded onto a computer or other programmable data processing apparatus to cause a series of operational steps to be performed on the computer or other programmable apparatus to produce a computer implemented process such that the instructions that execute on the computer or other programmable apparatus provide steps for implementing the functions specified in the flowchart and or block diagram block or blocks.

Referring now to operations for modifying bandwidth and or QoS in a network for a user session begin at block where the NSP and or ASP receive a request to change modify the bandwidth and or QoS associated with the user s session. In accordance with various embodiments of the present invention the request may be received from a user or the request may be initiated at the NSP and or the ASP. For example the NSP and or the ASP may wish to turbocharge a user s session unilaterally as part of a marketing promotion. At block the NSP and or the ASP uses API calls to communicate with the RAN to modify the bandwidth and or QoS associated with the user s session in the RAN. The QoS associated with the user s session may include but is not limited to scheduling resources e.g. priority in accordance with some embodiments of the present invention. In accordance with various embodiments of the present invention the user may send the request to the NSP and or the ASP through use of a turbo button that may be for example integrated into the user s browser implemented as a stand alone application on the user s data processing system or implemented through some other mechanism. Advantageously some embodiments of the present invention may allow users to turbocharge their user session by requesting an enhanced bandwidth and or QoS which may be implemented through traffic policy updates in the RAN and CPE as will be discussed hereafter.

Operations for modifying the bandwidth and or QoS associated with a user session will be described hereafter by way of example with respect to allocating bandwidth and or QoS in a network to a user session in accordance with further embodiments of the present invention. Referring now to operations begin at block where the NSP and or the ASP receive a user request for a bandwidth and or QoS modification. At block the NSP and or the ASP is authenticated at the RAN. In accordance with particular embodiments of the present invention the NSP and or the ASP may be authenticated by sending an establish service session request message from the NSP and or the ASP to the RAN that contains an identification of the NSP and or the ASP along with authorization credentials. The RAN may send an establish service session response message back to the NSP and or the ASP that contains an authentication result.

At block the NSP and or ASP sends a query to the RAN to obtain bandwidth and or QoS options. In accordance with particular embodiments of the present invention the query may be sent by sending a query session bandwidth request message from the NSP and or the ASP to the RAN that contains a request for bandwidth information associated with the user s access session. A query session bandwidth response message may be sent from the RAN to the NSP and or the ASP that contains information related to the at least one bandwidth option. The at least one bandwidth option may comprise a bandwidth range. The NSP and or the ASP may present several values within the range to present as options to the user. For example the NSP and or the ASP may select three bandwidth values within the range provided by the RAN which may be marketed to the user as gold silver and bronze level service. At block the NSP and or the ASP obtains a user selection of one of the bandwidth options.

At block the RAN is updated with policy information used to provide the bandwidth and or QoS option selected by the user. In accordance with particular embodiments of the present invention the RAN may be updated with policy information by sending a change session bandwidth request message from the NSP and or the ASP to the RAN that contains a request for changing the bandwidth associated with the user s session to the selected bandwidth option in the RAN. A change session bandwidth response message may be sent from the RAN to the NSP and or the ASP that contains an acknowledgement for the change session bandwidth request message. Moreover in accordance with some embodiments of the present invention the RAN may be updated with policy information by updating a rate limit associated with a communication queue in the RAN that is used to process traffic associated with the user s session.

At block the CPE e.g. RG is updated with policy information used to provide the bandwidth and or QoS option selected by the user. In accordance with particular embodiments of the present invention the CPE may be updated by sending an update session bandwidth info message from the RAN to the CPE that contains a request for changing the bandwidth associated with the user s session to the selected bandwidth option in the CPE. Moreover in accordance with some embodiments of the present invention the CPE may be updated with policy information by updating a rate limit associated with a communication queue in the RG that is used to process traffic associated with the user s session. At block the user may be notified by the NSP and or the ASP that the selected bandwidth is available for use.

In accordance with some embodiments of the present invention the bandwidth and or QoS provided to the user s access session remains the same until the user requests another change. A user may therefore wish to revert back to a default bandwidth and or QoS after requesting a higher bandwidth and or QoS for a particular application and or a particular time period. For example referring now to the NSP and or the ASP receives a request at block to delete or change the current bandwidth and or QoS policy. At block the NSP and or the ASP uses API calls to communicate with the RAN to change the bandwidth and or QoS allocated to the user s session to the default bandwidth and or QoS. In some embodiments of the present invention the RAN and CPE may be updated with the policy information associated with the default bandwidth and or QoS as described above with respect to blocks and of . At block the user may be notified that the default bandwidth and or QoS is available. As discussed above with respect to block of a bandwidth and or QoS modification may be initiated by the ASP and or the NSP rather than by the user. In such a case the bandwidth and or QoS provided to the user s access session would remain the same until the ASP and or the NSP initiates another change.

The flowcharts of illustrate the architecture functionality and operations of some embodiments of systems methods and computer program products for modifying QoS associated with a user session in a network. In this regard each block represents a module segment or portion of code which comprises one or more executable instructions for implementing the specified logical function s . It should also be noted that in other implementations the function s noted in the blocks may occur out of the order noted in . For example two blocks shown in succession may in fact be executed substantially concurrently or the blocks may sometimes be executed in the reverse order depending on the functionality involved.

Many variations and modifications can be made to the embodiments described herein without substantially departing from the principles of the present invention. All such variations and modifications are intended to be included herein within the scope of the present invention as set forth in the following claims.

