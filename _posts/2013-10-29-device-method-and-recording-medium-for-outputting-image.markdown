---

title: Device, method, and recording medium for outputting image
abstract: A device generating a drawing to be output determines a scale of the drawing based on a size of an output area and generates a drawing to be output based on the determined scale. In this way, a drawing with an appropriate scale can be generated.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09170760&OS=09170760&RS=09170760
owner: Canon Kabushiki Kaisha
number: 09170760
owner_city: Tokyo
owner_country: JP
publication_date: 20131029
---
The present disclosure relates to a device a method and a recording medium for generating a drawing to be output.

It has conventionally been known that a computer such as a personal computer PC displays a map on a display screen based on map data stored in a memory. Japanese Patent No. 3494920 discusses displaying a map stored in a memory in a PC or in a server on a network on a display screen.

However when a drawing such as a map is output in a case of the above conventional technique the drawing may not be output with a scale appropriate for the size of an output target area.

For example if a printing device prints a large scale map including detailed information on a small print medium the detailed information about geographical names building names etc. included in the map is printed in small sizes. Thus when viewing the map on the print medium the user may not grasp such detailed information. In addition since the detailed information is printed on a small print medium the user may find it actually difficult to view necessary information about streets etc. In an opposite manner a small scale map including general information may be printed on a large print medium. In such case while the map has been printed on a large print medium detailed information about geographical names etc. may not be printed.

The present disclosure is directed to a device a method and a recording medium capable of generating a drawing with an appropriate scale.

According to an aspect of the present invention a device generating a drawing to be output includes an acquisition unit configured to acquire information for identifying a size of an output area in which the drawing is output a determination unit configured to determine a scale of the drawing based on the size of the output area identified by the information acquired by the acquisition unit and a generation unit configured to generate the drawing to be output based on the scale determined by the determination unit.

Further features and aspects of the present invention will become apparent from the following detailed description of exemplary embodiments with reference to the attached drawings.

Various exemplary embodiments features and aspects of the invention will be described in detail below with reference to the drawings.

The following exemplary embodiment does not limit the present invention. Not all the combinations of features described in the present exemplary embodiment are necessarily essential for the solution achieved by the present invention. For example in the present exemplary embodiment a map is used as an example of a drawing to be output on an output area. However other than a map the drawing may be a design or a model drawing.

A universal serial bus USB interface is connected to a USB cable for performing data communication with the printer . Means other than a USB cable may be used to communicate with the printer . For example the PC may communicate with the printer wirelessly or via a small computer system interface SCSI .

A display device includes a cathode ray tube CRT a liquid crystal display and a graphics controller. The CPU performs display control to cause the display device to display a map image downloaded from a WWW server a print preview image a graphic user interface GUI etc. In addition by performing display control processing the CPU displays a drawing and a print preview of a drawing which will be described below.

A user uses an input device to give various instructions to the PC . Examples of the input device include a mouse and a keyboard. A system bus is used for data exchange among the CPU the RAM the ROM the hard disk etc.

A local area network LAN interface is connected to a LAN cable to perform data communication with the external WWW servers via a router or the Internet not illustrated . This data communication may be performed wirelessly by using an interface adaptable to wireless communication.

In a map database exists on the Internet and stores map information. More specifically the map database stores map information corresponding to maps with a plurality of scales with respect to various positions latitudes longitudes . To provide the map application with map images the map database uses a WEB Application Programming Interface WEBAPI . More specifically the map application of the PC uses the WEBAPI and transmits positional information indicating a latitude and a longitude in a map and scale information indicating a scale of the map to the map database . By transmitting such positional information the map application requests the map database to transmit map data. Based on the positional information and the scale information received from the PC and by using the WEBAPI the map database transmits a map image of an area corresponding to the latitude longitude and scale indicated by the information to the PC .

In this way by transmitting a position latitude longitude and a scale of a map to the map database the map application requests map data. As a result the map application can acquire map data corresponding to the transmitted positional and scale information.

The data format of the map data stored in the map database and transmitted to the map application may be a bitmap format or a vector format.

In addition in the present exemplary embodiment based on the map data acquired by the map application the PC causes the printer to print a map on a print medium. The map application requests the map database to transmit a map on a scale suitable for a print area of a print medium on which the map is to be printed. As a result the map application acquires a suitable map. For example if the print area is small the map application acquires a simple small scale map including only general information. In contrast if the print area is large the map application acquires a large scale map including detailed information.

Namely if the print area is small the user may not be able to read detailed information when viewing the print product. In such a case the printer prints a simple map in which less information about geographical names etc. is printed. In contrast if the print area is large the user can read detailed information when viewing the print product. In such a case the printer prints a map in which much information is printed. Thus the printer can print a map which shows appropriate information for the user who views the print product.

Next a configuration of the map application will be described in detail. The map application includes four modules as main modules. A map data acquisition module makes a request for map data to the map database and acquires map data based on the request.

A map display module causes the display device to display a map image based on the map data acquired by the map data acquisition module . In addition the map display module provides the map data acquisition module with a scale a latitude and a longitude of a map to be displayed.

In accordance with an instruction from the user a map output editing module receives a scale a latitude and a longitude of a map creates information indicating the received scale latitude and longitude positional information and scale information and transmits the information to the map data acquisition module . In addition the map output editing module performs magnification processing on the map data acquired by the map data acquisition module to increase or reduce the map scale. In addition the map output editing module cuts out a partial map area. The map output editing module transmits such edited data to a map output module .

The map output module outputs the map data displayed by the map display module or the map data edited by the map output editing module .

As described above the map application includes the above four modules. By controlling these modules in conjunction with each other the CPU performs various processing including acquisition of map data and displaying editing and printing of a map. Next each of the modules will be described in detail.

The map data acquisition module includes a map data acquisition portion . The map data acquisition portion receives positional information indicating a latitude and a longitude of a map and scale information indicating a scale of a map from the map display module or from the map output editing module . The map data acquisition portion requests map data by transmitting the received positional information and scale information to the map database . The map data acquisition portion receives map data transmitted in response to the request from the map database .

The map display module acquires the map data from the map data acquisition portion . By outputting a map image to the display device based on the acquired map data the map display module causes the display device to display the map image. If the map data is vector data rendering processing is performed on the vector data to obtain bitmap data. Next the map display module outputs the rendered bitmap data to the display device .

A map display information storage portion stores positional information latitude and longitude information about a map displayed by a map display unit . The map display information storage portion also stores the size of the map on a screen and the scale of the map. The map display information storage portion transmits these items of information to the map data acquisition module or the map output editing module .

In addition the map display information storage portion stores information indicating a plurality of scales of map data stored in the map database . By referring to such information the PC can recognize the scales that can be used by the map application . For example the map display information storage portion stores the information in a list format as a scale list. This scale list is originally stored in the map database and acquired by the map data acquisition module from the map database . For example when the map application is started or when the user gives an instruction for using a map in the map database the scale list is acquired. At that time the scale list is acquired by causing the map data acquisition module to access the map database . The map display information storage portion stores the acquired scale list.

In the present exemplary embodiment the map application refers to this scale list selects a map scale to be acquired from the map database and transmits scale information indicating the selected scale to the map database .

The scale list is not necessarily stored in the map application . Namely the map application does not need to grasp the map scales in the map database . For example if the map application notifies the map database of an arbitrary scale the map database may return a map on a scale closest to the arbitrary scale. Alternatively if the map application requests the map database to transmit a larger smaller scale map with respect to a map being displayed the map database may return a map matching the request. If the map database does not have a map matching the request the map database returns an error message.

The map output editing module determines the scale of the map to be displayed by the map application and requests the map data acquisition portion to acquire a map on the determined scale. In the present exemplary embodiment the map output editing module is started when the size of the print area to be printed by a print preview unit is changed.

The map output editing module determines the size of the map output area determines the map scale based on the size and edits the map on the scale. In this way a map on the scale based on the size of the map output area can be edited based on the map output area and the edited map can be output.

Next the map output editing module will be described in more detail. When the print preview unit changes the map output area a map output area change portion included in the map output editing module calculates the size of the changed map output area. In the present exemplary embodiment the map output area signifies a print area. For example the size of the print area is changed based on a print setting set by an instruction from a user. For example when the user changes the sheet size the width of a margin or the number of pages to be printed on a print sheet the size of the print area on which a map is printed is changed.

A printer driver sets the print setting based on an instruction from a user. Next the print preview unit acquires print setting information indicating the print setting set by the printer driver via an OS and a print layout unit . The print preview unit displays a print preview image based on the acquired print setting information. When starting the map output editing module the print preview unit notifies the map output area change portion of the print setting information. Next the map output area change portion calculates the horizontal and vertical size of the print area based on the print setting information.

Based on the size of the print area calculated by the map output area change portion a scale calculation portion calculates a scale corresponding to the size of the print area. More specifically based on the size of the print area calculated by the map output area change portion the scale calculation portion selects a scale corresponding to the print area from among the scales included in the scale list stored in the map display information storage portion . Next the scale calculation portion notifies the map data acquisition portion of scale information indicating the selected scale and positional information acquired from the map display information storage portion . Next the map data acquisition portion transmits the scale information and the positional information to the map database . Consequently the map data acquisition portion acquires a map based on the scale information and the positional information from the map database .

A map processing and displaying portion edits a map image acquired by the map data acquisition portion based on the map output area. For example the map processing and displaying portion cuts out joints expands or reduces a map image. More specifically the map processing and displaying portion acquires the print area size calculated by the map output area change portion from the scale calculation portion and edits a map image based on the calculated size. For example the map processing and displaying portion performs magnification processing on the map image so that at least one of the horizontal and vertical lengths of the map matches the print area size.

In addition for example if the print area is changed while a map on a certain scale is being displayed as a print preview a map on a scale based on a new print area is acquired. In addition if a map on a new scale is displayed it may be desirable that a map having the same area as that of the map that has been displayed before the change of the print area should be displayed.

Thus when a map on a new scale is acquired by a change of the print area the map processing and displaying portion edits the map. More specifically the map processing and displaying portion acquires scale information from the scale calculation portion . Next based on the scale information used before and after the change of the print area the map processing and displaying portion identifies the area corresponding to the map that has been displayed as a print preview out of the map newly acquired from the map data acquisition portion . Next the map processing and displaying portion cuts out an image in the identified area. The map processing and displaying portion transmits such edited image to the map output module .

The map output module performs output processing such as displaying and printing of a map image. Based on the print setting acquired from the printer driver the print layout unit determines a layout of a map image edited by the map processing and displaying portion and transmits the laid out image to the print preview unit . The print preview unit causes the display device to display the image acquired from the print layout unit .

In addition the print layout unit can start the printer driver via the OS based on an instruction from the user. The user can change a print setting by using an operation screen provided by the printer driver started by the print layout unit .

The OS provides an application programming interface API for exchanging print setting data between the map application and the printer driver and an API for performing drawing processing. The OS includes various types of control software such as a spooler system for managing print jobs and a port monitor for outputting printer commands to ports.

Based on a command from the map application the printer driver performs drawing processing on the data received from the map application to generate print data. Next the printer driver transmits the print data to the printer via the OS and causes the printer to print a map. In addition based on a command from the map application or one of various applications the printer driver causes the display device to display an operation screen for setting a print setting. If a user inputs a print setting by using the operation screen the printer driver generates print data based on the print setting.

In the configuration described in the map application can acquire a map on a scale that is based on the output area edit the map and display print the edited image.

The above description has been made with reference to assuming that the map data is stored in the map database outside the PC . However the map data may be stored in the RAM the ROM or the hard disk in the PC . Alternatively the map data may be stored in a memory of a device connected to the PC via the USB interface or the LAN interface .

In step S the print preview unit starts the map application so that the flow chart is started. For example when the print preview unit of the map application is displaying a preview if a user gives an instruction to change the print area the print preview unit starts the map output editing module . At this timing the print preview unit transmits print setting information to the map output area change portion .

In step S the print preview unit is displaying a print preview of a map on a scale arbitrarily selected by the user or on a scale set as an initial setting of the map application . The scale is stored in the map display information storage portion . If the user gives an instruction to change the print area step S and its subsequent steps are performed to display a preview of the map on a scale based on the newly changed print area.

In step S based on the print setting information the map output area change portion calculates the horizontal and vertical lengths of the map output area. As print settings the print setting information indicates a sheet size a margin width and the number of pages allocated to a single sheet for example. Based on these print settings the map output area change portion determines the size of the print area on a print medium such as a sheet as the map output area.

In step S the map output area change portion calculates the ratio between the sizes of the map output areas used before and after the change of the print setting. When the map output area change portion acquires the print setting information from the print preview unit the print setting information is stored. In this way the map output area change portion can calculate the ratio between the sizes of the map output areas print areas used before and after the change of the print setting.

If the print setting of a display target map is changed for the first time the map output area change portion calculates the ratio between the sizes of the print areas based on the difference between the print setting acquired in step S and the default print setting stored in the ROM .

In step S the scale calculation portion calculates a scale corresponding to the changed print area based on the print area ratio calculated by the map output area change portion in step S and the scale information stored in the map display information storage portion . In the present exemplary embodiment the scale calculation portion calculates a scale so that the print area ratio matches the scale ratio. For example when a map on a scale of 1 25000 is being displayed as a print preview image if a user doubles the print area the scale calculation portion makes a calculation on a scale of 1 50000.

In step S by referring to the scale list acquired from the map display information storage portion the scale calculation portion selects a map corresponding to the scale calculated in step S from the maps of a plurality of scales stored in the map database . In this step as a map selection condition for example a map on a scale closest to the scale calculated in step S is selected.

In step S by comparing the scales used before and after the change of the map output area the scale calculation portion determines whether to acquire a new map in response to the change of the map output area. More specifically the scale calculation portion compares the scale used before the change of the map output area indicated by the scale information acquired from the map display information storage portion with the scale calculated in step S.

In step S it is determined whether the scales used before and after the change of the map output area are different. If the scales are different YES in step S the processing proceeds to step S. In step S the scale calculation portion causes the map data acquisition portion to acquire a map corresponding to the change of the map output area. In this example the scale calculation portion notifies the map data acquisition portion of the positional information of the map stored in the map display information storage portion and the scale of the map selected in step S. Accordingly the map data acquisition portion acquires map data which represents the area corresponding to the latitude and the longitude indicated by the positional information and the scale supplied from the scale calculation portion from the map database . The map data is transmitted to the map processing and displaying portion .

In the map database a map is divided into predetermined areas. The map database stores a plurality of maps each of which corresponds to one of these areas. In step S if the area of the map that the map data acquisition portion requests the map database to transmit extends over a plurality of maps in the map database the map data acquisition portion acquires map data corresponding to the plurality of maps. Then the map processing and displaying portion acquires the plurality of segment maps which it requests from the map data acquisition portion .

In step S the map processing and displaying portion determines whether the map acquired in step S is made up of segments. In this example if a plurality of maps is acquired in step S the map processing and displaying portion determines that the map is made up of segments.

In step S if the map processing and displaying portion determines that the map is made up of a plurality of segment maps YES in step S the processing proceeds to step S. In step S the map processing and displaying portion joints the segments of the map. In this example information indicating the jointing positions of the maps is added to the map in the map database . In step S the map processing and displaying portion joints the segments based on the jointing positions indicated by the information. Alternatively the map processing and displaying portion may determine the jointing positions of a map by analyzing the plurality of the maps.

In step S the map processing and displaying portion determines whether the map acquired by the map data acquisition portion includes any portion that is outside the display area. In this example the map processing and displaying portion acquires scale information and positional information from the scale calculation portion and based on these items of information determines the area of the map displayed before the change of the output area. If the map newly acquired in step S includes such area that is determined in the above way the map processing and displaying portion determines that the external area is a portion outside the display area.

In step S if the map processing and displaying portion determines that a newly acquired map includes a portion outside the display area YES in step S the map processing and displaying portion deletes the portion in step S to cut out the display area of the map.

Next in step S the map processing and displaying portion compares the size of the map output area after the change of the map output area with the size of the map to be output. As a result of the size comparison in step S if the map processing and display unit determines that sizes are different the processing proceeds to step S. In step S the map processing and displaying portion performs map expansion reduction processing so that the size of the map output area and the size of the map to be output match each other. If both the map output area and the map are rectangular magnification processing is performed so that the map output area and the map match each other in either the horizontal length or the vertical length.

In step S the map processing and displaying portion generates a map image to be output based on the map data acquired through steps S to S and causes the print preview unit to display the map image as a print preview via the print layout unit . After causing the print preview unit to redisplay the map the processing proceeds to step S. In step S the map output editing module ends the present processing.

Thus if a user gives an instruction to change the size of the output area of a map the map output editing module performs the processing illustrated in to acquire new map data with a scale based on the size of the changed output area. In addition the map corresponding to the map data is edited based on the area of the map that has been displayed and the new output area. As a result the edited map is output to the output area.

Thus through the processing performed by the map output editing module a map having the same area as that of the map that has been displayed before the change of the output area and having a different scale from that of the map used before the change can be output in conformity to the output area.

In the above step S a map on a scale closest to that calculated in step S is selected from among the maps included in the scale list. However alternatively a map on a scale closest to the scale calculated in step S or less or a map on a scale closest to a scale calculated in step S or more may be selected.

Next a map that is output after the processing in is performed will be described. The following description is based on an example where display processing is output processing.

For example if the user uses a mouse and presses a map print button the print preview unit displays a print preview of the map displayed on the window based on print settings. If the user changes a print setting while the print preview is displayed the print preview changes.

If a user presses the map print button in a print preview window illustrated in is displayed. The following description will be made assuming that the map database exists on the Internet and stores maps on five scales of 1 3125 1 6250 1 12500 1 25000 and 1 50000 as illustrated in . The scale of the map displayed in a map output area in is 1 12500. A size A4 is set as a print setting in the print preview in .

As described with reference to the user has given an instruction to display a print preview while the map on a scale of 1 12500 is displayed. As a result a map on a scale of 1 12500 has been displayed as a print preview.

If the user changes the sheet size from A4 to A2 by using a print setting screen not illustrated while the print preview window in is displayed in step S in the map output area corresponding to size A2 is calculated the size of the area on which a map is printed when a sheet of size A2 is used . Next in step S the ratio between the output areas used before and after the change ratio between the sizes A4 and A2 is calculated. In this case the sheets used before and after the change have the same aspect ratio. However since a sheet used after the change is four times as large as a sheet used before the change the ratio between the sizes of the output areas is determined to be four times. Thus in step S the scale calculation portion selects a scale of 1 3125 which is four times as large as the current scale of 1 12500.

Subsequently in step S a map on a scale of 1 3125 is acquired and a print preview is displayed in a print preview window as illustrated in . This print preview window has the same size as that of the print preview window in . It is clear from a map output area in that the map in has a scale larger than that of the map illustrated in and includes names of stations buildings etc. If such names are printed on an A4 size sheet the user cannot read the text content. Namely it will be more difficult to read the map. However if such names are printed on an A2 size sheet as illustrated in since the size of the area on which the map is printed is larger than that of an A4 size sheet the user can correctly read the text content.

Thus in the present exemplary embodiment for example if the sheet size is changed the size of the output area is accordingly increased. Since a detailed map on a larger scale is output an appropriate map based on the size of the output area can be output.

If a map on a different scale as illustrated in is newly acquired there are cases where a map of a wider area than the display area shown in could be acquired from the map database. In such cases the area that has been displayed is cut out in step S in and in step S the cutout portion is magnified based on the new output area an area in an A2 size sheet . Thus the print preview window in can appropriately be displayed.

Contrary to the example illustrated in if the print setting is changed to reduce the output area a general map on a smaller scale is output. For example the print preview in is changed to the print preview in .

The above exemplary embodiment has been described based on an example where a print setting for changing the map output area is changed. However alternatively the size of the output area may be changed when the user adjusts the map output area on a display screen.

If the user presses the map print button on the application screen a map output area in is displayed as a print preview. Simultaneously a dotted line frame for the user to specify the output area of the map is also displayed. On a print preview window the user uses the input device such as a mouse to drag any one of the four corners of the dotted line frame . In this manner the size of the dotted line frame is expanded or reduced. In this way the user can adjust the size of the map output area.

In an initial print preview state the dotted line frame matches the map output area . If the user expands the dotted line frame to a size illustrated in as illustrated in the size of the map output area can be expanded to the size of a map output area .

In this example when the user completes the dragging operation for adjusting the size of the dotted line frame the map output editing module starts the processing illustrated in . In step S the size of the changed dotted line frame is calculated. In step S the ratio between the sizes of the map output areas used before and after the change of the magnification is calculated. In step S a map on a scale based on that ratio is acquired.

According to the present example in the size of the new map output area after the expansion is twice the size of the map output area before the expansion. In such a case in step S a scale of 1 6250 which is twice a scale of 1 12500 is adopted. Thus in step S a map on a scale of 1 6250 is selected from the scale list and in step S such map is newly acquired. In step S if no map on the scale calculated in step S exists in the scale list a scale closest to the calculated scale is selected from the scale list.

The map output editing module cuts out the area displayed in from the newly acquired map on a scale of 1 6250. In addition the cutout map is expanded or reduced to match the map output area .

Consequently as illustrated in since a map including more detailed information than the map in is displayed in an output area wider than that in the user can correctly read more detailed information.

Contrary to the example illustrated in if the user reduces the size of the output area a rough map on a scale smaller than that used before the size reduction is displayed. For example if in the state in the user reduces the output area up to the size of a dotted line frame the output area is reduced by . Thus a map on a scale of 1 25000 which is of a scale of 1 6250 is acquired. As a result the map as illustrated in is displayed. In this way if the output area is smaller a simple small scale map that does not include detailed information is displayed. Namely even when reading a small map the user can correctly read information in the map.

Further when a user gives an instruction to change the size of the output area as illustrated in there are cases where the aspect ratio of the map is changed between before and after the size change. illustrates a change of a print preview when the aspect ratio of the map output area is changed.

A print preview window is displayed when the map application displays a print preview. The scale of the map displayed in a map output area is 1 12500. In this state the user expands the size of the map output area to a size as illustrated in . The user expands the horizontal and vertical lengths of the map output area 1.5 times and 1.1 times respectively so that the map output area is expanded to a map output area .

In the present exemplary embodiment when the map output area change portion calculates the ratio between the sizes of the output areas in step S if the ratio of the change differs between the horizontal and vertical lengths of the map output areas the map output area change portion calculates the ratio between the sizes of the output areas based on the ratio of the change between the horizontal and vertical lengths. In since the horizontal length is expanded by 1.5 times and the vertical length is expanded by 1.1 times the area of the output area is expanded by 1.65 times. In this case in step S the scale calculation portion calculates 1 25000 1.65 as a scale after the change of the output area. Next in step S the scale calculation portion selects a map on a scale of 1 5250 which is the closest to the calculated scale from the scale list. Subsequently by performing the same processing as that described with reference to the map application displays a print preview window in .

An example where a user gives instructions about the output area on a screen as illustrated in has been described. However for example the method described with reference to can be used even when a user changes the print setting as illustrated in and when the aspect ratio of the map output area is accordingly changed. For example when the user changes the sheet size if the aspect ratio of the sheet size differs between before and after the change the map output area change portion may calculate the size ratio of the output area based on each magnification ratio of the horizontal and vertical lengths of the sheets.

In the above examples described with reference to to an example where the change of the size ratio between before and after the change is large in a case where the size of the map output area is changed and a new map is acquired. Namely an example is described where the processing proceeds to step S as a result of the determination in steps S to S in . However if the size change of the map output area is small a new map is not acquired. Instead in step S the scale of the map being displayed is changed.

However there are cases where the change of the scale is inappropriate in step S when the aspect ratio of the map output area differs between before and after the change of the size of the map output area. Thus in the present exemplary embodiment when a new map is not acquired and the aspect ratio of the map output areas differs the display area is changed expanded or reduced instead of changing the map scale.

Thus in step S the map output editing module expands the display area of the map being displayed. For example if the map displayed in is part of the map data stored in the map application the display target area of the map data is expanded to display the map as illustrated in . In the display area has been expanded in conjunction with the new map output area. Thus the map application can expand the map output area while maintaining the horizontal and vertical scales in balance.

If the map application stores only the map data of the map displayed in the map data acquisition portion acquires new map data. In this case the map data acquisition portion acquires a map having the same scale as that illustrated in and having an area matching the map output area determined after the size change. In this way the map can be displayed appropriately as illustrated in .

As described above according to the present exemplary embodiment a map on a scale matching the size of the output area in which the map is output is acquired. Thus when the user views the output print product the user can read the map on a scale that is based on the size of the map. For example since a detailed map on a large scale is printed on a large sheet detailed information such as building names and geographical names can be read appropriately. In contrast since a rough map on a small scale is printed on a small sheet a simple map without detailed information is printed. Therefore even if a small sheet is used the user can easily read the map.

In addition in the present exemplary embodiment editing processing is performed even when the map scale is changed so that the area in which the map is output is not changed. For example even when the display area is expanded on a display screen and a detailed map on a large scale is newly displayed since the map is cut out within the area of the map that has been displayed before the expansion the map having the same area as that before the expansion is displayed. Thus when the scale is changed based on an instruction from the user an area unnecessary for the user is not included or an area necessary for the user is not excluded in the map to be displayed.

In the above exemplary embodiment when the output area of the map is changed a map on a scale that is based on the changed output area is acquired. However the map acquisition condition is not limited to such a change of the output area. For example when a map is output in an output area for the first time after the map application is started a map on a scale that is based on the output area may be output. For example when a user inputs a map output instruction to the input device by using the map application a map on a scale that is based on a predetermined size of an output area may be output.

Further in the above exemplary embodiment the map application displays a map determines the scale of a map to be output selects a map and acquires a map. However the present exemplary embodiment is not limited to such operations. For example the present exemplary embodiment may be realized by causing a Web browser and plug in software added to the Web browser to cooperate with each other. Namely the Web browser may acquire map data in a WWW server and display a map and the plug in software may determine the scale of the map to be output and select a map.

For example when the Web browser displays a map the plug in software acquires information indicating the size of the output area from the Web browser. Next based on the size of the output area indicated by the information the plug in software determines the scale of the map to be output and requests the Web browser to transmit the map on the determined scale. The Web browser acquires a map requested by the plug in software from the WWW server and displays the acquired map.

In this configuration since the Web browser is configured to acquire map data and display a map the user can realize the present exemplary embodiment by adding the above plug in software to a normal Web browser. Namely if a Web browser has already been installed in a PC the processing described in the present exemplary embodiment can be executed by installing the above plug in software.

Furthermore the printer may be configured to include functions of the PC described in the present exemplary embodiment acquire drawing data and generate a drawing.

In addition in the above exemplary embodiment each time the size of the output area is changed a map based on the size of the changed output area is acquired from the map database. However alternatively map data corresponding to all scales as candidates for the output area may be acquired in advance. In this way when a map is output a map may be output based on the map data acquired in advance.

Further in the above exemplary embodiment a map is used as a type of the drawing to be output based on drawing data. However alternatively the drawing may be a design or model drawing etc.

Embodiments of the present invention can also be realized by a computer of a system or apparatus that reads out and executes computer executable instructions recorded on a storage medium e.g. non transitory computer readable storage medium to perform the functions of one or more of the above described embodiment s of the present invention and by a method performed by the computer of the system or apparatus by for example reading out and executing the computer executable instructions from the storage medium to perform the functions of one or more of the above described embodiment s . The computer may comprise one or more of a central processing unit CPU micro processing unit MPU or other circuitry and may include a network of separate computers or separate computer processors. The computer executable instructions may be provided to the computer for example from a network or the storage medium. The storage medium may include for example one or more of a hard disk a random access memory RAM a read only memory ROM a storage of distributed computing systems an optical disk such as a compact disc CD digital versatile disc DVD or Blu ray Disc BD a flash memory device a memory card and the like.

In addition a single computer CPU MPU may execute program codes for realizing functions of the present exemplary embodiment or a plurality of computers may cooperate to execute the program codes. In addition a computer may execute the program codes. Alternatively hardware devices such as circuits for realizing the functions of the program codes may be provided. In addition some of the program codes may be realized by hardware devices and the rest of the program codes may be executed by a computer.

While the present invention has been described with reference to exemplary embodiments it is to be understood that the invention is not limited to the disclosed exemplary embodiments. The scope of the following claims is to be accorded the broadest interpretation so as to encompass all such modifications and equivalent structures and functions.

This application claims the benefit of Japanese Patent Application No. 2012 239284 filed Oct. 30 2012 which is hereby incorporated by reference herein in its entirety.

