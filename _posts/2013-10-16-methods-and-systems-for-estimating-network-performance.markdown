---

title: Methods and systems for estimating network performance
abstract: A method carried out by a first node for estimating network performance by selecting at least one network interface of the first node and at least one network interface of a second node and then transmitting reference packets to the second node. The reference packets are transmitted through the selected network interfaces of the first node to the selected network interfaces of the second node. After receiving the reference packets, the second node generates arrival information and sends the arrival information to the first node. The first utilizes the arrival information for estimating the network performance. The network interfaces are selected according to a policy and end-to-end connection(s) may be established between selected network interfaces of the first node and selected network interfaces of the second node. The end-to-end connection(s) may be aggregated to form an aggregated end-to-end connection. Alternatively, the network interfaces are selected according to an end-to-end connection profile or an aggregated end-to-end connection profile.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09473964&OS=09473964&RS=09473964
owner: PISMO LABS TECHNOLOGY LIMITED
number: 09473964
owner_city: Hong Kong
owner_country: HK
publication_date: 20131016
---
The present invention relates in general to the field of computer networks. More particularly the present invention relates to methods and systems for estimating network performance of end to end connections between two nodes. The network performance is estimated by transmitting reference packets and receiving arrival information corresponding to the reference packets. Network performance information is then generated based on the arrival information.

A first node having a plurality of wide area network WAN interfaces can use one or more of the plurality of WAN interfaces to transmit packets to a second node. A network interface of the first node may be connected to an access network to connect the first node to interconnected networks such as a public network or a private network. The first node can select one or more of the WAN interfaces to transmit packets according to network performance of the access networks. Furthermore when the second node also has a plurality of WAN interfaces the first node can also select one or more of the WAN interfaces of the second node as the destination for the packets. For example if the first node has M WAN interfaces and the second node has N WAN interfaces then there are M N possible combinations.

Furthermore one or more tunnels or end to end connections can be established between one network interface of the first node and one network interface of the second node. The tunnels or end to end connections can be aggregated together to form an aggregated tunnel or aggregated end to end connection. As a result the number of tunnels or end to end connections in the aggregated tunnel or aggregated end to end connection is between one and M N.

It is also possible to have more than one aggregated tunnel or aggregated end to end connection and therefore there could more than M N tunnels between the first node and the second node.

The problem is to determine which WAN interface should be selected for transmission at the first node and which network interface should be selected for receiving at the second node. Furthermore testing network performance could be time consuming especially when there is a plurality of end to end connections. To make the testing more complicated traffic passing through an end to end connection may impact network performance of another end to end connection even when the end to end connection are independently connected.

When there is a lot of network performance information it is difficult to display all network performance information at the same time. It is not always necessary to display all network performance information especially when an aggregated end to end connection comprises many end to end connections.

According to one of the embodiments of the present invention the steps to estimate network performance are select at least one first network interface of a first node select at least one second network interface of a second node transmit reference packets from the first node to the second node through the at least one first network interface to the at least one second network interface receive arrival information corresponding to the reference packets from the second node and then finally estimate network performance by utilizing the arrival information. The network interfaces at the first node and or second node can be selected according to a first policy. An end to end connection can be first established between a network interface of the first node and a network interface of the second node before network performance estimation is performed for the end to end connection by transmitting reference packets through the established end to end connection. The network performance information resulting from the network performance estimation can be stored locally at the first node and or the second node and or remotely at a storage unit.

Furthermore an aggregated end to end connection is established between the first node and the second node and network performance estimation is performed for this aggregated end to end connection. The aggregated end to end connection comprises a plurality of end to end connections formed between the first node and the second node.

According to one of the embodiments of the present invention the network performance estimation is performed within a time period. If the network performance estimation cannot be completed within the time period the network performance estimation will be stopped. This may result in partially completed network performance information.

According to one of the embodiments of the present invention the first node transmits reference packets substantially at the same time through the end to end connections. In one variant the first node does not transmit reference packets through the same network interface which has a plurality of end to end connections established with the second node substantially at the same time in order to avoid not estimating the network performance accurately.

According to one of the embodiments of the present invention the selection of network interfaces are performed according to an end to end connection profile or an aggregated end to end connection profile. Therefore network performance estimation is performed by transmitting reference packets through the network interfaces specified in the end to end connection profile or an aggregated end to end connection profile.

According to one of the embodiments of the present invention a message is sent after the network performance estimation is performed or partially performed. The message is used to warn help suggest to and remind a user based on the network performance estimated or network performance information retrieved.

The ensuing description provides preferred exemplary embodiment s and exemplary embodiments only and is not intended to limit the scope applicability or configuration of the invention. Rather the ensuing description of the preferred exemplary embodiment s and exemplary embodiments will provide those skilled in the art with an enabling description for implementing a preferred exemplary embodiment of the invention. It is understood that various changes may be made in the function and arrangement of elements without departing from the spirit and scope of the invention as set forth in the appended claims.

Also it is noted that the embodiments may be described as a process which is depicted as a flowchart a flow diagram a data flow diagram a structure diagram or a block diagram. Although a flowchart may describe the operations as a sequential process many of the operations can be performed in parallel or concurrently. In addition the order of the operations may be rearranged. A process is terminated when its operations are completed but could have additional steps not included in the figure. A process may correspond to a method a function a procedure a subroutine a subprogram etc. When a process corresponds to a function its termination corresponds to a return of the function to the calling function or the main function.

Embodiments or portions thereof may be embodied in program instructions operable upon a processing unit for performing functions and operations as described herein. The program instructions making up the various embodiments may be stored in a storage unit such as a secondary storage.

Moreover as disclosed herein the term secondary storage and main memory may represent one or more devices for storing data including read only memory ROM random access memory RAM magnetic RAM core memory magnetic disk storage mediums optical storage mediums flash memory devices and or other machine readable mediums for storing information. The term machine readable medium includes but is not limited to portable or fixed storage devices optical storage devices wireless channels and various other mediums capable of storing containing or carrying instruction s and or data.

Furthermore embodiments may be implemented by hardware software firmware middleware microcode hardware description languages or any combination thereof. When implemented in software firmware middleware or microcode the program instructions or code segments to perform the necessary tasks may be stored in a machine readable medium such as storage unit. A processing unit s may perform the necessary tasks. A processing unit s can be a CPU an ASIC semiconductor chip a semiconductor chip a logical unit a digital processor an analog processor a FPGA or any processor that is capable of performing logical and arithmetic functions. A code segment may represent a procedure a function a subprogram a program a routine a subroutine a module a software package a class or any combination of instructions data structures or program statements. A code segment may represent a procedure a function a subprogram a program a routine a subroutine a module a software package a class or any combination of instructions data structures or program statements. A code segment may be coupled to another code segment or a hardware circuit by passing and or receiving information data arguments parameters or memory contents. Information arguments parameters data etc. may be passed forwarded or transmitted via any suitable means including memory sharing message passing token passing network transmission etc.

A network interface may be implemented by a standalone electronic component or may be integrated with other electronic components. A network interface may have no network connection or at least one network connection depending on the configuration. A network interface is only connected to one accessible network. Therefore there may be more than one network connection being carried by one accessible network. A network interface may be an Ethernet interface a frame relay interface a fibre optic interface a cable interface a DSL interface a token ring interface a serial bus interface a universal serial bus USB interface Firewire interface Peripheral Component Interconnect PCI interface etc.

Embodiments or portions thereof may be embodied in a computer data signal which may be in any suitable form for communication over a transmission medium such that it is readable for execution by a functional device e.g. processing unit for performing the operations described herein. The computer data signal may include any binary digital electronic signal that can propagate over a transmission medium such as electronic network channels optical fibers air electromagnetic media radio frequency RF links and the like and thus the data signal may be in the form of an electrical signal optical signal radio frequency or other wireless communication signal etc. The code segments may in certain embodiments be downloaded via computer networks such as the Internet an intranet LAN MAN WAN the PSTN a satellite communication system a cable transmission system and or the like.

An access connection may carry one or more protocol data including but not limited to Transmission Control Protocol TCP User Datagram Protocol UDP Internet Control Message Protocol ICMP Hypertext Transfer Protocol HTTP Post Office Protocol POP3 File Transfer Protocol FTP and Internet Message Access Protocol IMAP . An access connection may be a wired network or a wireless network. A wired access connection may be implemented using Ethernet fiber optic cable DSL frame relay token ring serial bus USB Firewire PCI T1 or any material that can pass information. A wireless access connection may be implemented using infrared High Speed Packet Access HSPA HSPA . Long Term Evolution LTE . WiMax ATM GPRS EDGE GSM CDMA WiFi CDMA2000 WCDMA TD SCDMA BLUETOOTH WiBRO or any other wireless technologies.

An end to end connection is a connection between a source node and a destination node that can be made at either layer 2 or layer 3 of the Open Systems Interconnection OSI model that connects two endpoints over a public private or hybrid public and private network to form a connection. Virtual private network VPN is one example of end to end connection models. A VPN can be a Layer 2 VPN or Layer 3 VPN. An end to end connection can also be established using connection oriented communication protocol such as transmission control protocol TCP .

An end to end connection may include one or more communication links and one or more intermediate nodes. An end to end connection may be a tunnel. In one of the embodiments of the present invention an end to end connection between a source node and a destination node is a virtual private network VPN tunnel.

An end to end connection profile specifies the configurations or parameters needed to establish one or more end to end connections and transmit and receive data packets through the one or more end to end connections. These configurations or parameters may include WAN interface identities source address of WAN interfaces destination address of WAN interfaces and encryption standard for packets transmitted and received through the one or more end to end connections. The end to end connection profile may also comprise authentication parameters details of digital certificates used for authentication or any other information used in establishing the one or more end to end connections between two nodes. An end to end connection profile may be used as a VPN profile to establish one or more VPNs. In one variant the configurations or parameters also includes one or more policies for selecting WAN interfaces to establish an end to end connection.

An aggregated end to end connection profile specifies the configurations or parameters needed to establish an aggregated end to end connection and transmit and receive data packets through the aggregated end to end connection. These configurations or parameters may include WAN interface identities source address of WAN interfaces destination address of WAN interfaces and encryption standard and one or more end to end connection profiles. The aggregated end to end connection profile may also comprise authentication parameters details of digital certificates used for authentication or any other information used in establishing the aggregated end to end connections between two nodes. An end to end connection profile may be used as a VPN profile to establish one or more VPNs. In one variant the configurations or parameters also includes one or more policies for selecting end to end connections as part of the aggregated end to end connection. For example in an aggregated end to end connection profile. WAN interface identities of a first node WAN interface identities of a second node and encryption standard are specified for establishing a plurality of end to end connections are also specified. In another example an aggregated end to end connection profile specifies a plurality of end to end connection profiles while each end to end connection profile specifies configurations to establish an end to end connection.

A plurality of established end to end connections can be aggregated combined or bonded together to form one aggregated end to end connection. Those skilled in the arts would appreciate that there are myriad ways to aggregate combine or bond a plurality of established end to end connections to form one aggregated end to end connection. An aggregated end to end connection is perceived as one end to end connection by sessions or applications that are using it. An aggregated end to end connection can be perceived as a tunnel a virtual private network or connection or connectionless oriented connection. For example an aggregated end to end connection is a TCP connection. In another example an aggregated end to end connection is a UDP connection. In another example an aggregated end to end connection is an aggregation of a plurality of tunnels and each tunnel is linked between a first node and a second node. In another example an aggregated end to end connection is a VPN tunnel comprising a plurality of established end to end connections and each established end to end connection is linked between a first node and a second node.

A policy can be used to select end to end connections belonging to an aggregated end to end connection. The selection can be based on network performance network interfaces type of access network user s preference default configurations etc. According to one of the embodiments of the present invention the policy to select end to end connection is based on network performance estimated. Alternatively the policy selects end to end connections for an aggregated end to end connection according to the order of WAN interfaces at a network node first and then selects end to end connections whose network performance satisfies a threshold for the same aggregated end to end connections. Therefore after network performance estimation is done some of end to end connections may be removed from the aggregated end to end connection while some of end to end connections may be added. This allows a node to have an aggregated end to end connection to be set up quickly and then optimize its network performance by adding removing and maintain end to end connection s in the aggregated end to end connection.

According to one of the embodiments of the present invention the aggregated end to end connection is established according to an aggregated end to end connection profile such that each of the end to end connections that are bonded to form the aggregated end to end connection are established according to the configurations or parameters specified in the aggregated end to end connection profile.

Site and node may comprise M access connections and site and node may comprise N access connections . Access connections and are for communicating information within network between sites and . In the illustrated embodiment. M is equal to 3 and N is equal to 2 however these values may vary according to desired devices and configurations. Access connections and may have similar or differing bandwidth capabilities. Furthermore access connections and may comprise different types of WAN connections such as a WiFi cable DSL T1 3G. 4G. LTE satellite connections and the like. It is also noted that site and site may be thought of as both a sender or receiver and discussions regarding the functionality of either site may be implemented on the other site. In other words system may be implemented as a symmetrical network.

In one of the embodiments illustrated in after selecting WAN interfaces of nodes and in step and respectively node establishes at least one end to end connection with node through the selected WAN interface s in step . Node transmits reference packets through the at least one end to end connection to node in step . Processing unit records transmittal information corresponding to the reference packets in step and receives arrival information corresponding to the reference packets from node in step when the reference packets are successfully received by node . Processing unit is able to estimate the network performance of the at least one end to end connection based on the transmittal information and arrival information in step . In one variant instead of selecting WAN interfaces one or more end to end connections are selected. As an end to end connection is established using a pair of WAN interfaces according to an end to end connection profile the selection of an end to end connection is similar to selecting a WAN interface pair.

In one example a software can be used to measure network performance between two nodes. A command can be entered that allows node to send reference packets to node over a specific time period. Node first exchanges test parameters with node through control messages. Node then transmits reference packets to node through end to end connections selected by processing unit . The transmittal information may comprise the CPU usage of node while transmitting the reference packets the number of bytes transmitted over the specific time period and the duration over which reference packets are transmitted. The transmittal information can be stored in secondary storage or main memory . On the other hand the arrival information may comprise the CPU usage of node while receiving the reference packets the number of bytes received over the specific time period the duration over which the reference packets are received number of reference packets that were retransmitted and round trip time RTT . The network performance information may include the CPU usage of both nodes and and the rate at which node received the reference packets. In another scenario node can estimate the network performance when reference packets are transmitted by node and are received by node .

Without control message node may simply reply acknowledgement and the acknowledgement is then be used as arrival information. The control message sent by node comprises information to let node the type of information such as packet drop rate latency information and out of order packets arrival should be carried by arrival information.

In one variant the control message is also embedded with information for establishing one or more end to end connections and or one or more aggregated end to end connections. The information includes WAN interfaces identity used to establish end to end connections WAN interfaces identity used to establish aggregated end to end connections information related to end to end connection profile information related to aggregated end to end connection profile estimation methodology type of arrival information format of arrival information and choice of protocol.

Estimation methodology contained in the control message informs node about what type of arrival information is expected and the method of generating the arrival information. For example when the user wants packet drop rate latency and throughput experienced by the reference packets to be included in the arrival information it is specified in the estimation methodology that the packet drop rate latency and throughput must be estimated and the method for estimating is also included. Those skilled in the arts would know that there are myriad ways of estimating packet drop rate latency and throughput. In one example the estimation methodology specifies that packet drop rate should be estimated by using the Ping tool by generating an ICMP echo request and receiving an ICMP echo reply. The packets transmitted and received are counted and consequently the round trip packet loss rate is calculated. Similarly the estimation methodology also specifies the method for estimating latency such as calculating the RTT and estimating throughput such as calculating the RTT and calculating the number of bytes received over a specific time period. Therefore the arrival information comprising the packet drop rate latency and throughput is utilized by node to estimate the network performance accordingly.

The arrival information may contain information observed by node regarding the network performance of the corresponding end to end connection or the corresponding aggregated end to end connection. The arrival information may also contain information about node including processing load disk usage temperature and etc and can be used to assist processing unit to estimate overall system performance and the impact of transmitting packets through end to end connections or aggregated end to end connections on the computing resources. The arrival information can be transmitted in the form of internet packets. In one variant the format of the arrival information is such that when there is a plurality of end to end connections arrival information transmitted by node contains arrival information of a plurality of or all end to end connections so that number of packets used to transmit arrival information could be smaller. It may be also easier for processing unit to handle arrival information easier. In one variant the format of the arrival information is such that when network performance of an aggregated end to end connection is being measured or estimated the arrival information transmitted contains network performance information of all end to end connections corresponding to the aggregated end to end connection. Alternatively network performance information obtained for each end to end connection of an aggregated end to end connection can be sent using the same end to end connection. This allows quicker transition of arrival information but may result in more number of packets containing arrival information transmitted.

Choice of protocol contained in the control message informs the node which sends out arrival information such as node what protocol is used to transmit reference packet and also instructs node how to transmit the arrival information. The arrival information can be sent using the same end to end connection can be sent using other end to end connection or can be sent using connectionless based protocol. The benefits of using the same end to end connection include avoiding the need of establishing another end to end connection. The benefits of using different end to end connection include reducing the possibility of affecting the accuracy of network performance estimation. The benefits of using connectionless based protocol include simplicity but could result in loss of the arrival information.

The reference packets are IP packets transmitted using TCP UDP or other protocols. The user can choose whether to send reference packets using TCP or UDP. The length of the reference packets can also be specified by the user.

One such software that can be used to measure the network performance is nuttcp. For example the command that can be entered to allow node to send reference packets to node is host nuttcp host where host is node and host is node . For setting the UDP reference packet length to 8192 bytes in nuttcp software the command sent is host nuttcp u k host where u specifies that the reference packets should be UDP packets and k specifies that the length of the UDP packets should 8192 bytes. In one variant the packet length is equal to or less 1500 bytes because the maximum transmission unit MTU of Ethernet is 1500 bytes.

When a first node such as node has a plurality of WAN interfaces processing unit selects one of network interfaces for transmitting reference packets. Similarly when a second node such as node has a plurality of WAN interfaces processing unit also selects one of WAN interfaces of the second node for receiving the reference packets. According to one of the embodiments of the present invention processing unit selects a first WAN interface of node and a second WAN interface of node according to a policy. The main role of this policy is to instruct processing unit how to choose a WAN interface of node for transmitting the reference packets and how to choose a WAN interface of node as the destination of the reference packets. The policy can be in the form of program instructions stored in secondary storage or main memory . Alternatively the policy can be in the form of an algorithm as a function of number of WAN interfaces at node number of WAN interfaces at node and or other parameters. Alternatively the policy can be first stated in a configuration file stored in secondary storage and then interpreted by a program or program instructions for processing unit . For illustration purpose a policy for selecting WAN interfaces of node and node is to select each pair of all possible combinations of WAN interface pairs in order to estimate network performance. As there are three WAN interfaces and at node and two WAN interfaces and there are six WAN interface pairs as illustrated in Table 001 

Processing unit first selects WAN interface pair and and sends reference packets from WAN interface to WAN interface through access connections and . After network performance has been estimated for this WAN interface pair i.e. and processing unit then selects WAN interface pair and and sends reference packets from WAN interface to WAN interface through access connections and . This process continues until all six pairs have been tried and by then processing unit has network performance information of these six pairs. The network performance information may be stored in main memory or and secondary storage for further processing.

Alternatively a policy for selecting WAN interfaces of node and node is to select WAN interfaces that are connected to a wireless access network. As wireless access networks may have more fluctuating network performance network administrator may want to find out which wireless access network should be used more frequently. Therefore network performance of WAN interface pair through wireless access networks should be estimated more frequently. Processing unit determines which WAN interface s of node are connected to wireless access network s . Those skilled in the arts would know that there are many ways for determining which WAN interfaces are connected to wireless access networks. For example in Linux command line interface the command iwconfig can be used for determining which WAN interfaces are connected to wireless access networks. For illustration purpose WAN interfaces and are connected to a first and a second wireless access network respectively. Processing unit further determines to send a first message to node in order to receive information about which WAN interface s of node are connected to a wireless access network. When node receives the first message node sends a second message to node with information about which WAN interface s of node are connected to wireless access network s . For example both WAN interfaces and are connected to a third wireless access network. After receiving the second message processing unit is able to determine that WAN interfaces and are connected to the third wireless access network and therefore selects WAN interfaces and of node for transmitting reference packets to WAN interfaces and of node . Thus processing unit estimates the network performance of four WAN interface pairs and and and and . For example network performance of the WAN interface pair and is estimated by transmitting reference packets from WAN interface to WAN interface . The network performance information may then be stored in secondary storage and or main memory .

According to one of the embodiments of the present invention a policy for selecting WAN interfaces of node and node is to select all WAN interfaces of node and node at the same time. Processing unit of node sends reference packets through all of WAN interfaces to all WAN interfaces of node . The reference packets can be sent as soon as possible. For example initially processing unit sends reference packets through WAN interfaces and substantially at the same time to WAN interface . Processing unit sends reference packets through WAN interfaces and substantially at the same time to WAN interface . This policy may allow the network performance to be estimated in a short period of time as all WAN interfaces are being used substantially at the same time. However the number of reference packets being sent may overwhelm processing unit and or congest access networks.

Alternatively the policy is to select all WAN interfaces of node and node at the same time but avoiding sending reference packets destined to the same WAN interface of node and through the same WAN interface of node substantially at the same time. For example initially processing unit sends reference packets through WAN interface to WAN interface and reference packets through WAN interface to WAN interface substantially at the same time. Then processing unit sends reference packets through WAN interface to WAN interface and reference packets through WAN interfaces to WAN interface substantially at the same time. Finally processing unit sends reference packets through WAN interfaces to WAN interface and reference packets through WAN interfaces to WAN interface substantially at the same time. This policy allows estimation of network performance while reducing the possibility of congesting reference packets at a sending WAN interface or at a destined WAN interface. Therefore the policy or the algorithm for selecting end to end connection s or WAN interface pair s should avoid overwhelming computing resources and or network resources when performing the estimation. In one variant when the purpose is to identify the capacity of computing resources and or network resources it is desirable to overwhelm computing resources and or network resources.

In one variant when selecting WAN interface pairs or end to end connections for estimating network performance the policy or algorithm should be similar or the same as when WAN interface pairs or end to end connections are selected when regular data traffic are being transmitted or received. For example the policy or algorithm should be based on the end to end connection profile or aggregated end to end connection profile.

Alternatively as there are three WAN interfaces at node there are seven combinations of WAN interfaces that can be used. Similarly as there are two WAN interfaces at node there are three combinations of WAN interfaces that can be used. As seven times three is equal to twenty one there are twenty one combinations of WAN interface pairs. The equation to calculate the number of possible end to end connections in an end to end connection profile is 2 1 2 1 where M is the number of WAN interfaces at node and N is the number of WAN interfaces at node . For example as illustrated in table of in Row network performance of one end to end connection is estimated by using the WAN interface pair and . In Row three WAN interfaces and are being used and network performance of at least two end to end connections is estimated by using WAN interface pair and and WAN interface pair and . The network performance estimated can be an average a maximum a minimum a sum or other statistical information of the network performance of the at least two end to end connections. In a preferred embodiment the network performance estimated is the average of the network performance of the at least two end to end connections. The at least two end to end connections may or may not be aggregated. In Row four WAN interfaces and are being used and network performance of at least three end to end connections is estimated by using WAN interface pair and WAN interface pair and and WAN interface pair and . In Row four WAN interfaces and are being used and network performance of at least four end to end connections is estimated by using WAN interface pair and WAN interface pair and WAN interface pair and and WAN interface pair and . In Row five WAN interfaces and are being used and network performance of at least six end to end connections is estimated by using WAN interface pair and WAN interface pair and . WAN interface pair and WAN interface pair and WAN interface pair and and WAN interface pair and .

In this way each of the twenty one combinations of WAN interface pairs is used for transmitting reference packets and the corresponding network performance is estimated as illustrated in the throughput column packet loss column and RTT column of table of . There is no limitation of what network performance information can be displayed and the representation of the network performance information. For example packet jitter end to end connection setup time frequency of out of order packet arrival and other information can be displayed as rows or columns in table format or using other data visualization techniques. In one variant network performance information is mainly based on arrival information and transmittal information such as CPU usage of nodes and while transmitting and receiving reference packets respectively number of bytes transmitted by node over a specific time period number of bytes received by node over the specific time period duration over which reference packets are transmitted duration over which reference packets are received number of reference packets that were retransmitted and round trip time.

In one of the embodiments not all of the twenty one combinations of WAN interfaces are used for estimating the network performance of end to end connection s formed by the combinations respectively. For example as illustrated in table of only a subset of five combinations out of the twenty one combinations of WAN interfaces are selected for estimating network performance of end to end connection s established through the five combinations of WAN interfaces. The five combinations of WAN interfaces are selected by the user or according to a policy. The advantage of not estimating network performance of end to end connections formed by all twenty one combinations of WAN interfaces and instead estimating network performance of end to end connections formed by the five combinations of WAN interfaces is that the network performance estimation takes less time to finish. However if network performance of end to end connections formed by all twenty one combinations of WAN interfaces is not estimated node does not have adequate information to determine accurately which combination of WAN interfaces forms an end to end connection with the best network performance.

According to one of the embodiments of the present invention when there is a plurality of end to end connection profiles at node the network performance estimation is performed for all the end to end connection profiles. For example there are two end to end connections belonging to a first end to end connection profile and five end to end connections belonging to a second end to end connection profile processing unit perform network performance estimation for all the seven connections. Therefore the administrator of node can be aware of the network performance information of end to end connections of all aggregated end to end connections. In one variant when an end to end connection appears in more than one end to end connection profile the network performance estimation for the end to end connection is only performed once in order to save time. In one variant when a WAN interface pair appears in more than one end to end connection profile processing unit will first determine if the configurations to establish corresponding end to end connections are the same in the more than one end to end connection profiles. If the configurations are the same then there is no need to conduct the network performance estimation for the WAN interface pair repeatedly. However if the configurations are not the same then network performance estimation will be performed for the corresponding end to end connections because the corresponding end to end connections may be established differently and the configuration may affect the network performance.

According to one of the embodiments of the present invention not all WAN interfaces of node and node are selected for estimating network performance. This is because the time to complete the estimation of all WAN interface pairs could be too long. For example after processing unit of node has taken one minute to estimate network performance between WAN interface and WAN interface by sending reference packets from WAN interface to WAN interface it is very possible that it will take about five minutes to estimate network performance of the remaining five pairs. Therefore the total time required to estimate network performance is about six minutes. This could be too long for an administrator of node and or node . Therefore in one variant the administrator is able to select one or more WAN interfaces and or one or more WAN interfaces for estimating network performance. In one variant only a predefined number of WAN interface pairs are used for estimating network performance. The preferred predefined number of WAN interface pairs is between one to ten.

In one variant processing unit tries to estimate network performance of as many WAN interface pairs as possible within a time period. For example the length of the time period is three minutes and processing unit stops sending reference packets through the WAN interface pairs after three minutes. For illustration purpose if within these three minutes processing unit is able to estimate network performance of WAN interface pair and and and and processing unit will not attempt to send reference packets through the remaining WAN interface pairs namely WAN interface pairs and and and and . Therefore processing unit will not estimate network performance of WAN interface pairs and and and and . The time period can be predefined in a policy and or as a parameter in an algorithm. In one variant the length of time period allowed for estimating network performance is different during different hours of the day or different days of the week. For example during office hour the length of time period is one minute but during non office hour the length of time period is ten minutes. In another example during operation hour no estimation of network performance is allowed but during scheduled maintenance there is no limitation of the time period. In one variant when a time period is specified for estimating network performance processing unit determines an order in which network performance of WAN interface pairs should be estimated according to priorities assigned to the WAN interface pairs. For example WAN interface pairs and and and and and and are assigned with a first priority second priority third priority fourth priority fifth priority and sixth priority respectively. Therefore reference packets are first sent through WAN interface pair and then through WAN interface pair and and so on. If the length of the time period is four minutes processing unit transmits reference packets through WAN interface pairs in order of the priorities assigned for four minutes. The network performance estimation may or may not have been completed within the four minutes. If the network performance estimation is not completed or partially completed the network performance information is only partial. The partial network performance information does not offer accurate estimation comparing to the complete network performance information. However as processing unit is instructed to stop after four minutes processing unit may only be able to produce partial network performance information. Additionally priorities can also be assigned to combinations of end to end connections. Reference packets are transmitted through the combinations of end to end connections that have higher priority. The priorities may be assigned manually by the user or according to a policy.

According to one of the embodiments of the present invention the estimation of network performance begins when node receives an instruction. The use of an instruction is to allow programmability and flexibility of the process of network performance estimation. The instruction can be preset in the configuration file received from a user received from a node or host triggered by an input in node and or triggered by a network condition. For example an instruction saved in the configuration file is to begin the process of estimating network performance six o clock in the morning.

According to one of the embodiments of the present invention the reference packets contain information to assist the receiving node to generate arrival information. The information may include timestamp sequence number and end to end connection identity if the reference packets are sent through one or more end to end connections. Such information may be required for estimating the network performance experienced by the reference packets. For example the sequence number is used for arranging the reference packets in the correct order because if the reference packets are transmitted through different end to end connections they may arrive at node out of order. The timestamp can be used for determining the time at which the reference packet was transmitted and hence the arrival information can include the time period passed between transmitting and receiving. When the reference packets are transmitted through more than one end to end connections the end to end connection identity specifies which end to end connection each reference packet was received through. The end to end connection identity and timestamp corresponding to the reference packets may together be used to identify which end to end connections can carry reference packets the fastest. The receiving node for example stores the timestamp retrieved from the reference packets in the arrival information. Similarly the receiving node may store sequence number end to end connection identity and or in the arrival information.

According to one of the embodiments of the present invention illustrated in processing unit of node estimates network performance of at least one end to end connection which is established using one WAN interface pair such as WAN interface pair and . At step processing unit selects at least one end to end connection. Then at step processing unit sends reference packets to node through the at least one end to end connection. At step processing unit receives arrival information corresponding to the reference packets from node . At step processing unit estimates network performance of the at least one end to end connection according to the received arrival information.

When an end to end connection is being selected at step the selection can be performed by a user s manual input an administrator s manual input a policy an algorithm or a configuration file. An end to end connection may be given a name or an identity. Therefore when selecting an end to end connection the end to end connection can be selected by its name identity or its corresponding WAN interface pair. For example the end to end connections between WAN interface pairs and and and are named as Paris and London respectively. Then at step the administrator of node can select Paris in a web based user interface for estimating the network performance. Similarly a policy can be predefined to estimate network performance of both end to end connections Paris and London and the policy is being stored as a file or program instructions in secondary storage or main memory .

In one variant an end to end connection profile is used to configure at least one end to end connection and end to end connections belonging to the end to end connection profile are selected for estimating network performance. To those skilled in the art a virtual private network VPN profile can be considered as an end to end connection profile. In the end to end connection profile the settings or configurations for establishing at least one end to end connection profile are detailed. The end to end connection profile can be stored in secondary storage or main memory as a file or program instructions. An administrator can select the end to end connection profile for network performance estimation then processing unit selects the at least one end to end connection specified by the end to end connection profile for network performance estimation at step .

For example an end to end connection profile specifies source and destination devices such as node and node respectively WAN interfaces selected for the end to end connections the encryption standard of the end to end connection and any key required to gain access to the end to end connections. For illustration purposes WAN interfaces and of node and WAN interface are specified in the end to end connection profile. The encryption standard is specified as AES 128. Therefore a first end to end connection between network interface pair and and a second end to end connection between network interface pair and are configured according to the end to end connection profile. Processing unit then estimates the network performance of at least one of the first and second end to end connections.

According to one of the embodiments of the present invention illustrated in processing unit of node selects a plurality of end to end connections at step . At step processing unit transmits reference packets through at least two of the plurality of end to end connections substantially at the same time. Comparing to transmitting reference packets through only one of the plurality of end to end connections transmitting reference packets through at least two of the plurality of end to end connections substantially at the same time allows the estimation of network performance to be completed quicker and able to observe whether network traffic in one end to end connection affects network performance in another end to end connection.

At step processing unit receives arrival information from node . The arrival information can be sent by node through an end to end connection a plurality of end to end connection or connectionless data transmission method. Therefore the source IP address of the arrival information belongs to the IP address es of one or more WAN interfaces of node . At step processing is able to estimate network performance of the end to end connection according to the received arrival information.

For example viewing in conjunction with a plurality of end to end connections established between node and node is selected in step . The plurality of end to end connections comprise a first second third fourth fifth and sixth end to end connection that are established between WAN interface pairs and and and and and and and respectively. In step the plurality of end to end connections are selected. In step processing unit transmits reference packets through at least two of the plurality of end to end connections such as the first and second end to end connections substantially at the same time. Arrival information corresponding to the reference packets is generated by node and sent to node . Node receives the arrival information in step and processing unit is able to estimate the network performance of the first and second end to end connections based on the arrival information in step . In one variant one or more end to end connections may be established between each WAN interface pair. For example WAN interface can establish more than one end to end connection with WAN interface .

According to one of the embodiments of the present invention illustrated in after processing unit estimates network performance of the at least two end to end connections in step processing unit determines in step whether network performance of all of the plurality of end to end connections has been estimated. If network performance of all of the plurality of end to end connections has not been estimated processing unit performs step by transmitting reference packets through another at least two of the plurality of end to end connections and estimates the network performance of the another at least two end to end connections in step after receiving arrival information in step . If processing unit determines in step that network performance of all of the plurality of end to end connections has been estimated the network performances are compared by processing unit in step . After comparison at least two of the plurality of end to end connections is selected mainly based on the network performance for forming an aggregated end to end connection in step . The selection is preferably based on bandwidth availability determined according to network performance information collected during the network performance estimation. Alternatively the selection is based on latency and end to end connections having latency less than a threshold are selected. The latency information is found during the network performance estimation.

In one variant processing unit determines to estimate network performance of some of the plurality of end to end connections and not all of the plurality of end to end connections. Therefore in step processing unit determines whether the estimation of network performance of the some of the plurality of end to end connections has been completed. The determination as to which end to end connections belong to the some of the plurality of end to end connection is based at least in part on a policy.

In one variant an aggregated end to end connection profile specifies end to end connections that may be used for forming an aggregated end to end connection. For example the aggregated end to end connection profile specifies the first second third and fourth end to end connections that can be used to form an aggregated end to end connection. Network performance of at least two end to end connections such as the first and second end to end connections is estimated in step . In step processing unit determines whether the network performance of all of the first second third and fourth end to end connections have been estimated. If it is determined that the network performance of all of the first second third and fourth end to end connections have been estimated their network performances are compared in step . If it is determined that the network performance of the third and fourth end to end connections have not been estimated step is performed by transmitting reference packets through the third and fourth end to end connections and thus their network performance is estimated in step .

In one variant network performance of end to end connections specified in an aggregated end to end connection profile is estimated within a time period. Within the time period processing unit estimates the network performance of as many end to end connections as possible. When the time period is over processing unit does not estimate the network performance of anymore end to end connections even if the network performance of all end to end connections specified in the aggregate end to end connection profile has not been estimated. The time period can be predefined by the manufacturer of the network node entered by a user or administrator of the network node or retrieve from a remote server.

In one of the embodiments of the present invention when reference packets are transmitted through at least two end to end connections in step processing unit determines which at least two end to end connections should be used to transmit reference packets at substantially the same time based on the WAN interface pairs forming the end to end connections. No two end to end connections using a same WAN interface will be used to transmit reference packets at substantially the same time. For example if a first end to end connection is formed between WAN interface and WAN interface and a second end to end connection is formed between WAN interface and WAN interface reference packets are not transmitted through the first and second end to end connections at substantially the same time because both of them use WAN interface . This is to avoid congesting WAN interface and or the corresponding access network which may result in inaccurate network performance estimation. In one variant processing unit determines which at least two end to end connections should be used to transmit reference packets at substantially the same time according to a predefined policy.

In one variant results of the network performance estimation are reported to the user by processing unit by sending a message containing network performance information to a predefined destination. The message can be an email an instant message a short message service SMS a phone call a message shown in a web page a popup message at a web page and other indicators that can be used to report the network performance to the user. A predefined destination can be an email address an IP address a LED display a speaker a screen a console a network node a host a mobile phone a laptop and any electronic device that can receive the message. In another variant processing unit only sends a message to the user when there is an unusual drop in network performance of any WAN interface pair or end to end connection. For example network performance of a first end to end connection deteriorates significantly over a short period of time. Processing unit detects this significant drop in the network performance of the first end to end connection and sends a message reporting the network performance information to the user. The message can be an email an instant message a short message service SMS a phone call a message shown in a web page a popup message at a web page an alarm a sound a blinking light a light emitting diode LED being turned on and other indicators that can be used to indicating that there is a significant drop in the network performance of one of the end to end connections being used for transmitting data.

According to one of the embodiments of the present invention illustrated in at least one end to end connection is used for transmitting data packets after the at least one end to end connection is selected. At step processing unit receives network performance information corresponding to a plurality of end to end connections. The network performance information may be retrieved from main memory and or secondary storage . The network performance information is generated by processing unit at step or . At step processing unit selects at least one end to end connection substantially based on the network performance information. Then at step processing unit transmits and receives data packets through the at least one end to end connection selected.

In one variant the network performance information is first retrieved from a remote server or a remote network node and then stored in from main memory and or secondary storage before being used by processing unit .

According to one of the embodiments of the present invention illustrated in similar to flowchart shown in processing unit selects end to end connections that have satisfied a certain selection criteria according to the network performance information. The end to end connections selection criteria are retrieved at step . For example if the selection criterion is that latency is less than 50 milliseconds then processing unit only selects end to end connections that have latency less than 50 milliseconds. If there is no end to end connection according to the network performance information that has latency less than 50 milliseconds then processing unit does not select any end to end connection. In one variant when there is no end to end connection satisfying the selection criteria according to the network performance information processing unit selects one end to end connection that performs the best according to the network performance information.

In another example the selection criteria is that packet drop rate should not be more than five data packets in five seconds and bandwidth available should be more than 2 Mbps.

The selection criteria can be stored in main memory secondary storage a remote server or a remote node. The selection criteria can be stored in the form of program instructions files configuration strings or computer readable information.

At step processing unit seeks confirmation whether the end to end connections are selected for transmitting data packets. The confirmation can be received in many forms such as entered by an administrator received from a user defined by a policy stated in a configuration file etc.

At step a message is sent by processing unit to inform that the selected end to end connections are about to be use to transmit and receive data packets. Depending on the configuration the message can be sent in many forms such as email screen popup screen message instant message SMS or etc. The message can also be sent to one or a plurality of receivers such as an administrator user remote server management console etc. The main purpose of steps and is to confirm that selected end to end connections are to be used. This confirmation may reduce the possibility of selecting one or more wrong end to end connections and allow a user to override the end to end connection selection at step .

At step those skilled in the arts would appreciate that the data packets can be IP packets that are transmitted and received using Transmission Control Protocol TCP User Datagram Protocol UDP Real time Transport Protocol RTP Layer 2 Tunnelling Protocol L2TP or other communications protocol. Although some of the protocols such as UDP by design are connectionless processing unit can still use UDP and Internet Protocol Security IPSec to provide end to end connection.

According to one of the embodiments of the present invention illustrated in similar to flowchart shown in . Processing unit selects end to end connections that have satisfied a certain selection criteria according to the network performance information. The end to end connections selection criteria are retrieved at step . At step processing unit selects at least two end to end connections substantially based on the network performance information. At step processing unit aggregates the selected at least two end to end connections to form one aggregated end to end connection. Then at step processing unit transmits and receives data packets through the aggregated end to end connection.

The benefits of using aggregated end to end connections are known to those skilled in the art such as failover more bandwidth and etc. Depending on the selection criteria end to end connections with significant difference in network performance can be aggregated together. Similarly selection criteria may only allow selection of end to end connections that have network performance within a threshold to form the aggregated end to end connection.

According to one of the embodiments of the present invention illustrated in network performance information of end to end connections belonging to an aggregated end to end connection profile is displayed in table . Node and node may have an internal display integrated into their system which may comprise an LCD display LED display LED buttons or screen. The network performance information can be displayed by processing unit on the internal display of node and or node . Alternatively viewing in conjunction with the network performance information can also be displayed in an external display such as display which can be connected to node and or node through network . Display can be a laptop a handheld computer device a desktop or a mobile phone that receives the network performance information from one or more nodes that perform the network performance measurement. Alternative to the embodiment illustrated in display may be connected directly to node and not through network . Alternatively display may be connected directly to node and not through network . In one variant the network performance information is displayed in more than one internal or external displays. The network performance information can also be presented to a user in the form of voice sound and alerts in node node and or an external display such as display .

Display retrieves the network performance information from a storage unit. The storage unit can be located in the one or more nodes that perform the network performance measurement such as node or . In an example the network performance information is stored in secondary storage and is retrieved by display from secondary storage . Therefore the network performance information may be stored in the same storage unit that stores program instructions executable by processing unit . Alternatively viewing in conjunction with the storage unit such as storage unit is located in one or more computer nodes or servers that received the network performance information from node or node . For example when node estimates the network performance it stores the network performance information in storage unit . Alternative to the embodiment illustrated in storage unit may be connected directly to node and not through network . Alternatively storage unit may be connected directly to node and not through network . In one variant the network performance information is stored in more than one storage unit.

In one of the embodiments the user selects end to end connections based on the network performance information that is displayed in the internal display of node or or display . In one variant the internal display of node or also comprises buttons knobs touch screen sound receiver with voice recognition system or any module that can be used for receiving the selection of the user. Alternatively the user selects end to end connections remotely through a web interface an application programming interface a command line interface or a console that may or may not be displayed on display .

The network performance information is retrieved from a storage unit. The storage unit can be located in the one or more nodes that perform the network performance measurement or in one or more computer nodes servers that stored the network performance information.

There are five WAN interfaces shown in table of WAN interfaces and of node and WAN interfaces and of node . Therefore there are five columns representing these five WAN interfaces. Circles are used to indicate the identities of the WAN interface that the network performance information belongs to. For example in Row there are circles placed in the columns WAN interface . WAN interface and WAN interface . This indicates that two end to end connections are established for the WAN interface pairs WAN interfaces and and WAN interfaces and . The average total throughput using these two end to end connections is 53.67 Mbps. There is no packet loss during the network performance measurement and the average round trip time RTT is 3.15 milliseconds for IP packets being transmitted in these two end to end connections. In one alternative these two end to end connections are aggregated together to form one aggregated end to end connection. The network performance measurement displayed is the measured through the aggregated end to end connection.

In another example in Row there are circles placed in the columns WAN interface WAN interface WAN interface and WAN interface . This indicates that three end to end connections are established for the WAN interface pairs WAN interfaces and WAN interfaces and and WAN interfaces and . The minimum throughput using these three end to end connections is 86.50 Mbps. The packet loss during the network performance measurement is 10 and the average round trip time RTT is 3.67 milliseconds for IP packets being transmitted in these two end to end connections. The value in the throughput column may indicate the average throughput minimum throughput maximum throughput or sum of the throughputs of the end to end connections being used for transmitting reference packets.

There are twenty one rows displayed not including the header row because there are twenty one combinations of end to end connections whose network performance can be estimated in the aggregated end to end connection profile. As there are three WAN interfaces at node there are seven combinations of WAN interfaces that can be used. Similarly as there are two WAN interfaces at node there are three combinations of WAN interfaces that can be used. As seven times three is equal to twenty one there are twenty one combinations of end to end connections. The equation to calculate the number of possible combinations of end to end connections is 2 1 2N 1 where M is the number of WAN interfaces at the first node and N is the number of WAN interfaces at the second node while the number of possible end to end connections is M N.

As the number of end to end connections increases exponentially with the number of WAN interfaces the number of end to end network performance estimations required also increases exponentially. This is why a policy is required to choose some but not all end to end network connection for performing the estimation. On the other hand if time permits a complete end to end network performance estimations is preferred as all network performance information will then be made available. If all network performance information is available a user may not want to have all network performance information displayed as the user may only be interest in some of the network performance information.

According to one of the embodiments of the present invention in an aggregated end to end connection profile a policy for selecting WAN interfaces to establish end to end connections is to have as many end to end connections as possible and network performance of each end to end connection has to satisfy a threshold.

In one of the embodiments as illustrated in table of network performance information of a subset of the twenty one combinations of end to end connections is retrieved. Five combinations out of the twenty one combinations of end to end connections are displayed in Row to Row. The five combinations of end to end connections are selected by the user or according to a policy. Therefore the network performance information of the five combinations of end to end connections is displayed in the throughput column packet loss column and RTT column of table in .

According to one of the embodiments of the present invention the selection of WAN interface pairs corresponding to an aggregated end to end connection profile for displaying network performance information is based on a policy. The main role of this policy is to instruct processing unit how to select WAN interface pairs. The policy can be in the form of program instructions stored in secondary storage or main memory . Alternatively the policy can be first stated in a configuration file stored in secondary storage and then interpreted by a program or program instructions for processing unit .

According to one of the embodiments of the present invention a policy for displaying network performance information is to select end to end connections i.e. WAN interface pairs whose network performance meets a certain threshold. For example the policy to display network performance information is to display end to end connections whose packet loss percentage is less than 10 . End to end connections whose packet loss percentage is equal to or above 10 will not be displayed. This allows a user to focus on end to end connections that meet the threshold. In one variant the end to end connections corresponding to an aggregated end to end connection profile. Therefore network performance information corresponding to end to end connections that do not belong to the aggregated end to end connection profile is not displayed.

According to one of the embodiments of the present invention network performance information corresponding to WAN interface pairs is displayed according to a user s selection and the WAN interface pairs corresponding to an aggregated end to end connection profile. As in an end to end connection profile there could be many end to end connections or WAN interface pairs the amount of network performance information could be huge. A user may only be interested in network performance information only corresponding to certain end to end connections or WAN interface pairs. A user selects the end to end connections through a user interface. Then network performance information corresponding to the selected end to end connections is then shown to the user.

In one variant an end to end connection is provided with an identity for easy reference. For example an end to end connection is labelled as Toronto Seattle . Then when network performance information is displayed the identity Toronto Seattle is displayed. In one variant the serial number of the node and the WAN interface number are used together as the identity. When displaying the identities of WAN interface pairs of an end to end connection the serial number and WAN interface number of node and serial number and WAN interface number of the node are displayed. In one variant a network node has three WAN interface and the identities of WAN interfaces are WAN WAN and WAN respectively. In one variant. IP address of the WAN interfaces are used as the identities. In one variant host name of the WAN interfaces are used as the identities.

According to one of the embodiments of the present invention illustrated in network performance information is displayed using a bar chart. Individual throughputs of a first a second a third a fourth and a fifth end to end connection are displayed on bar chart . Furthermore the throughput of a first aggregated end to end connection formed by aggregating the first second third fourth and fifth end to end connections is also displayed on bar chart . The horizontal axis of bar chart represents the end to end connection identity and the vertical axis of bar chart represents the throughput corresponding to each end to end connection identity. For example the throughput corresponding to the first end to end connection is 52.03 Mbps as indicated by bar . Similarly bars and indicate the throughputs of the second third fourth and fifth end to end connections respectively. Line indicates the value of the average network performance of the aggregated end to end connection. For example in this illustration the average total throughput is 49.09 Mbps as the value indicated by the vertical axis at the position of line is 49.09 Mbps. A similar bar chart can be generated for other network performance information and is not limited to displaying only the throughput of end to end connections. Furthermore line may indicate the maximum minimum variance of the network performance or other statistical information of the network performance.

According to one of the embodiments of the present invention a message is sent to a user when network performance information is displayed. The message may alert the user that the network performance information displayed is a subset of network performance information available may provide suggestion to the user which end to end connections should be used and which end to end connections should not be used may inform the user that some of the network performance values are not desirable may inform the users the conditions when to use one or more end to end connections.

The message can be an email an instant message a short message service SMS a phone call a message shown in a web page a popup message at a web page data transmitted in simple network management protocol SNMP in data transmitted in extensible markup language XML format and other indicators that can be used to deliver the message. The nature of the message includes warning message help message and suggestion message and reminder message. The conditions policies or criteria to send the message can be stored in a configuration file. The configuration file can be stored in secondary storage or main memory .

For example a warning message is displayed when there is an unusual drop in network performance of any WAN interface pair or end to end connection that is being used for transmitting data packets. A first end to end connection is being used by node for transmitting data packets to node . Therefore when network performance of the first end to end connection deteriorates significantly over a short period of time the warning message is displayed and used to warn the user that the first end to end connection may fail anytime because a significant drop has been detected in the performance of the first end to end connection.

A help message may be displayed to assist the user in using the user interface to perform various functions or for explaining the user the significance of each item displayed. The various functions the user interface can be used to perform include but is not limited to selecting end to end connections or WAN interface pairs for transmitting data packets selecting aggregated end to end connection profiles or end to end connection profiles whose network performance information should be displayed selecting WAN interface identities that should be displayed and the type of network performance information that should be displayed.

A suggestion message is displayed to suggest the user on which end to end connections should be selected for transmitting data packets in order to achieve the best network performance. The suggestion message is based on the network performance information that is retrieved and displayed. The suggestion message may summarize which end to end connections provide the best network performance and worst network performance. For example the network performance information indicates that while using a first and second end to end connection the throughput is 80 Mbps and packet drop rate is 0 . Processing unit determines that the network performance of the combination of the first and second end to end connection to be the best among all other combinations of end to end connections. Therefore the suggestion message suggests the user to select the first and second end to end connections for transmitting data packets for achieving the best network performance. The user may or may not select end to end connections based on the suggestion message.

A reminder message may be displayed to remind the user about certain changes in network performance that may happen at a certain time. For example based on historical network performance information processing unit determines that every Sunday at 10 30 pm the network performance drops significantly when a first end to end connection is being used. This may happen due to bandwidth throttling set by the ISP providing the network for the first end to end connection. The reminder message can be displayed an hour before 10 30 pm on Sundays in order to remind the user to select any other end to end connection for transmitting data packets instead of the first end to end connection. Alternatively a reminder message reminds the user about peak or off peak hours which may affect the network performance or usage price and hence the user may want to change the selection of end to end connection based on the reminder message.

