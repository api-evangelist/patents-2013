---

title: Information processing apparatus, method and computer-readable storage medium for power control under a plurality of power modes including an unsupported power mode
abstract: An information processing apparatus includes an application program; a power control unit configured to switch power modes so as to control ON/OFF of power supply to each piece of hardware; and a function execution unit configured to execute control of a specified function based on an instruction from the application program. The function execution unit is configured to inquire at the power control unit for the power modes in response to an instruction from the application program. The power control unit is configured to return a power mode to the function execution unit. The function execution unit is configured to notify the power control unit of a recovery request for powering ON the hardware that has been powered OFF in the power mode not supported.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09582067&OS=09582067&RS=09582067
owner: RICOH COMPANY, LTD.
number: 09582067
owner_city: Tokyo
owner_country: JP
publication_date: 20130912
---
The present application claims priority to and incorporates by reference the entire contents of Japanese Patent Application No. 2012 204678 filed in Japan on Sep. 18 2012 and Japanese Patent Application No. 2013 183465 filed in Japan on Sep. 4 2013.

The present invention relates to an information processing apparatus a power control method and a computer readable storage medium.

In image forming apparatuses a power saving mode is set for reducing a power consumption amount in a standby state where no operation is performed. In the power saving mode electric power is supplied to only parts that require it and is not supplied to other parts among the respective parts constituting the image forming apparatus so as to suppress the power consumption amount.

Furthermore in the recent image forming apparatuses provided is a development environment such as a software development kit SDK for development of application programs as disclosed in Japanese Patent Application Laid open No. 2006 148876. The application programs are made to operate on a common middleware so that cooperation among the application programs and the development speed are improved. In addition application programs for controlling power saving as described above have been developed by the SDK.

In the case of the application program produced by the above mentioned SDK there is requirement that common functions are desired to be installed in all models. When a power saving mode that is not installed in the past application program becomes capable of being set to a new device the device cannot respond to the power saving mode appropriately in some cases because the application program are not updated for individual devices. For example there has been a possibility that troubles are generated on operations as follows. That is a processing method is not figured out even if the power saving mode that is not supported by the application program is notified or there arises a difference between a power state in the device and a power state grasped by the application program. The problem arises not only on the application program provided in the development environment of the SDK as the provision mode but also on application programs developed for being newly installed in image forming apparatuses and other devices. Furthermore it can be said that the problem can arise on various devices other than the image forming apparatuses.

Therefore there is a need to provide an information processing apparatus capable of operating the apparatus normally even in a power saving mode that is not installed in an application program.

It is an object of the present invention to at least partially solve the problems in the conventional technology.

According to an embodiment there is provided an information processing apparatus that includes an application program a power control unit configured to switch a plurality of power modes so as to control ON OFF of power supply to each piece of hardware and a function execution unit configured to execute control of a specified function among functions for executing control on the hardware in accordance with an instruction from the application program. The function execution unit is configured to inquire at the power control unit for the power modes in response to an instruction from the application program. The power control unit is configured to return any one of the power modes to the function execution unit. The function execution unit is configured to notify the power control unit of a recovery request for powering ON the hardware that has been powered OFF in the any one of the power modes when the any one of the power modes is not supported and when a control instruction to the hardware that has been powered OFF in the any one of the power modes is received from the application program.

According to another embodiment there is provided a power control method for controlling an information processing apparatus that includes an application program a power control unit configured to switch a plurality of power modes so as to control ON OFF of power supply to each piece of hardware and a function execution unit configured to execute control of a specified function among functions for executing control on the hardware in accordance with an instruction from the application program. The power control method includes inquiring by the function execution unit at the power control unit for the power modes in response to an instruction from the application program returning by the power control unit any one of the power modes to the function execution unit and notifying by the function execution unit the power control unit of a recovery request for powering ON the hardware that has been powered OFF in the any one of the power modes when the any one of the power modes is not supported and when a control instruction to the hardware that has been powered OFF in the any one of the power modes is received from the application program.

According to still another embodiment there is provided a non transitory computer readable storage medium with an executable program stored thereon and executed by a computer of an information processing apparatus that includes an application program a power control unit configured to switch a plurality of power modes so as to control ON OFF of power supply to each piece of hardware and a function execution unit configured to execute control of a specified function among functions for executing control on the hardware in accordance with an instruction from the application program. The program instructs the computer to perform inquiring by the function execution unit at the power control unit for the power modes in response to an instruction from the application program returning by the power control unit any one of the power modes to the function execution unit and notifying by the function execution unit the power control unit of a recovery request for powering ON the hardware that has been powered OFF in the any one of the power modes when the any one of the power modes is not supported and when a control instruction to the hardware that has been powered OFF in the any one of the power modes is received from the application program.

The above and other objects features advantages and technical and industrial significance of this invention will be better understood by reading the following detailed description of presently preferred embodiments of the invention when considered in connection with the accompanying drawings.

The hardware of the MFP includes an image capturing unit a printing unit and other hardware . The image capturing unit is a piece of hardware for scanning an image image data from a scan document. The printing unit is a piece of hardware for printing the image image data on print paper.

The software of the MFP includes various application programs and various platforms . These programs are executed in parallel on a process basis by an operating system OS such as the UNIX registered trademark .

The application programs include a copying application program as an application program for copying a printer application program as an application program for a printer a scanner application program as an application program for a scanner a facsimile application program as an application program for a facsimile and a network file application program as an application program for a network file. Furthermore the application programs include a Web browser as software for browsing Web pages Web server software as software for distributing the Web pages and an SDK application service SAS as software for controlling a client software development kit CSDK application program and a Java servlet development kit JSDK application program .

The application programs can be developed by using dedicated software development kits SDKs . The application programs developed by using the SDKs are referred to as SDK application programs. As the dedicated SDKs provided are a CSDK for developing the application program with the C language and a JSDK for developing the application program with the Java registered trademark language. The application program developed by using the CSDK is referred to as a CSDK application program and the application program developed by using the JSDK is referred to as a JSDK application program. The MFP as illustrated in also includes the CSDK application program and the JSDK application program . The MFP as illustrated in further includes a JSDK platform as the software that intermediates between the JSDK application program described with the Java registered trademark language and other software described with the C language. The JSDK platform is provided with a function execution unit and a power control unit .

The platforms include various control services a system resource manager and various handlers . The control services include a network control service NCS a facsimile control service FCS a delivery control service DCS an engine control service ECS a memory control service MCS an operation panel control service OCS a certification control service CCS a user directory control service UCS and a system control service SCS . The handlers include a facsimile control unit handler FCUH and an image memory handler IMH .

The process of the NCS intermediates network communication. The process of the FCS provides an application programming interface API for the facsimile. The process of the DCS performs control relating to distribution processing of accumulated documents. The process of the ECS performs control relating to the image capturing unit and the printing unit . The process of the MCS performs control relating to a memory and a hard disk drive. The process of the OCS performs control relating to an operation panel. The process of the CCS performs control relating to authentication processing and billing processing. The process of the UCS performs control relating to management of user information. The process of the SCS performs control relating to management of the system.

The function execution unit is a platform for executing control of a specified function among functions for executing control on the hardware in accordance with an instruction from each application program . The function execution unit also performs for example control relating to printing processing and control relating to scanning.

The power control unit switches a plurality of power modes so as to control ON OFF of power supply to each piece of hardware through the corresponding SCS .

The software that intermediates between the application programs and the platforms includes a virtual application service VAS . The VAS operates as a server process for the application programs functioning as clients and operates as a client process for the platforms functioning as servers. The VAS has a wrapping function of hiding the platforms from the application programs and plays a role in absorbing version differences with version upgrade of the platforms .

The MFP activation unit is executed first when the MFP is powered ON. With this the OS such as UNIX registered trademark is activated and the application programs and the platforms are activated. These programs are accumulated in the hard disk drive or the memory card. Furthermore these programs are reproduced from the hard disk drive or the memory card so as to be activated on the memory.

The controller is constituted by a central processing unit CPU an application specific integrated circuit ASIC a north bridge NB a south bridge SB an MEM P an MEM C a hard disk drive HDD a memory card slot a network interface controller NIC a universal serial bus USB device an IEEE1394 device and a Centronics device .

The CPU is an integrated circuit IC for processing various pieces of information. The ASIC is an IC for processing various images. The NB is a north bridge for the controller . The SB is a south bridge for the controller . The MEM P is a system memory for the MFP . The MEM C is a local memory for the MFP . The HDD is a storage of the MFP . The memory card slot is a slot for setting the memory card . The NIC is a controller for network communication with MAC addresses. The USB device is a device for providing connection terminals of the USB standard. The IEEE1394 device is a device for providing connection terminals of the IEEE1394 standard. The Centronics device is a device for providing connection terminals of the Centronics specification.

The operation panel is a piece of hardware an operating unit allowing an operator to input data to the MFP and hardware a display unit allowing the operator to obtain output from the MFP .

As illustrated in the operation panel is constituted by a touch panel a numeric keypad a start button a reset button a function key and an initial setting button . The touch panel is a piece of hardware a touch operating unit for performing input with a touch operation and also hardware a screen display unit for obtaining output with screen display. The numeric keypad is a piece of hardware for performing numerical input with a key button operation. The start button is a piece of hardware for performing a start operation with a button operation. The reset button is a piece of hardware for performing a reset operation with a button operation. The function key is a piece of hardware for displaying an operation screen provided by the CSDK application program or the JSDK application program with a key button operation. The initial setting button is a piece of hardware for displaying an initial setting screen with a button operation.

The document setting unit is constituted by an automatic document feeder ADF a flatbed and a flatbed cover . The paper feeding unit is constituted by four paper feed trays. The discharging unit is constituted by one discharge tray. A plurality of scan documents can be set onto the ADF in a staked manner. The scan document is set onto the flatbed while the front surface thereof faces downward.

Furthermore the new standby state is a power mode that is newly set to the MFP and the respective application programs do not support the new standby state. Furthermore the operation panel is operated in the new standby state. Based on this in the new standby state a user tends to think that operations can be performed in the same manner as in the standby state. For this reason a user issues a print instruction through the application program in many cases in the new standby state. Described is processing for performing appropriate processing in the new standby state in that case with reference to .

As illustrated in the CSDK application program or the JSDK application program transmits a printing execution instruction to the function execution unit first Step S . Then the function execution unit inquiries at the power control unit for the power state power mode Step S . The power control unit returns a notice that the current power mode is the new standby state to the function execution unit Step S . The application program is notified of the standby state because it cannot recognize the new standby state. On the other hand standby recover processing is performed so as to prevent mismatch of information on the application program .

Subsequently if the function execution unit receives a return indicating that the current power mode is the new standby state the function execution unit directs to apply power to the printing unit through the power control unit so as to make a recovery request Step S . Then the function execution unit stands by until it receives a return indicating that the recovery is completed from the printing unit Steps S and S . If the printing unit is recovered the function execution unit instructs the printing unit to execute printing Step S .

In the MFP according to the above mentioned embodiment when the application program issues a control instruction to the printing unit to which power supply is turned OFF in the power mode that is not installed the power control unit turns ON the power supply to the printing unit and the function execution unit executes printing processing after the power supply to the printing unit is turned ON. That is to say even when the application program issues a control instruction in a state where power is not applied to the hardware the processing is performed after the hardware is recovered to the state where printing can be executed thereby operating the apparatus normally.

Furthermore the application program is not notified of the new standby state that is not installed therein and is notified of the standby state that is installed therein. This makes it possible to prevent generation of abnormal behaviors on the application program due to the notification that is not defined.

The invention can be applied to image processing apparatuses copying machines projectors personal computers PCs and the like that have the power saving mode and include the application program produced by the SDK or the like in addition to the MFP .

Furthermore the combination of the power supply states in the new standby state and target devices can be also changed appropriately. For example is a table illustrating another combination of the power modes. In a combination of the ON OFF states of the power supply of the scanning unit that scans new sheet data is added. Furthermore in a second standby state the printing unit is in the ON state and the operation panel and the scanning unit are in the OFF states. It is considered that the power mode is made into the second standby state when only print data is transmitted for example.

The information processing apparatus according to each of the above mentioned embodiments includes a control device such as a CPU a storage device such as a read only memory ROM and a random access memory RAM an external storage device such as an HDD and a CD drive device a display device such as a display and an input device such as a keyboard and a mouse and has a hardware configuration by using a normal computer.

Programs to be executed on the information processing apparatus according to each of the above mentioned embodiments are provided by being recorded in a storage medium that can be read by a computer such as a compact disc read only memory CD ROM a flexible disk FD a CD recordable CD R or a digital versatile disk DVD in a format that can be installed or a file that can be executed.

The programs to be executed on the information processing apparatus according to each of the above mentioned embodiments may be configured to be provided by being stored on a computer connected to network such as the Internet and being downloaded through the network. Alternatively the programs to be executed on the information processing apparatus according to each of the above mentioned embodiments may be configured to be provided or distributed through network such as the Internet.

Furthermore the program in each of the above mentioned embodiments may be configured to be provided by being incorporated in a ROM previously.

The programs to be executed on the information processing apparatus according to each of the above mentioned embodiments have a module configuration including the above mentioned respective parts. As actual hardware a central processing unit CPU processor loads the programs from the above mentioned storage medium and executes the programs so that the above mentioned parts are loaded on a main storage device. With this the above mentioned parts are generated on the main storage device.

According to the embodiments it is possible to provide an effect that the device can be operated normally even in a power saving mode that is not installed in an application program.

Although the invention has been described with respect to specific embodiments for a complete and clear disclosure the appended claims are not to be thus limited but are to be construed as embodying all modifications and alternative constructions that may occur to one skilled in the art that fairly fall within the basic teaching herein set forth.

